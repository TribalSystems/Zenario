(function(b,r,E){function h(a,d,ja){a=r.createElement(a);d&&(a.id=l+d);ja&&(a.style.cssText=ja);return b(a)}function X(){return E.innerHeight?E.innerHeight:b(E).height()}function P(a,d){d!==Object(d)&&(d={});this.cache={};this.el=a;this.value=function(a){var c;void 0===this.cache[a]&&(c=b(this.el).attr("data-cbox-"+a),void 0!==c?this.cache[a]=c:void 0!==d[a]?this.cache[a]=d[a]:void 0!==Y[a]&&(this.cache[a]=Y[a]));return this.cache[a]};this.get=function(a){a=this.value(a);return b.isFunction(a)?a.call(this.el,
this):a}}function Q(a){var d=n.length;a=(q+a)%d;return 0>a?d+a:a}function p(a,d){return Math.round((/%/.test(a)?("x"===d?z.width():X())/100:1)*parseInt(a,10))}function ka(a,d){return a.get("retinaUrl")&&1<E.devicePixelRatio?d.replace(a.get("photoRegex"),a.get("retinaSuffix")):d}function la(a){"contains"in f[0]&&!f[0].contains(a.target)&&a.target!==A[0]&&(a.stopPropagation(),f.focus())}function J(a){J.str!==a&&(f.add(A).removeClass(J.str).addClass(a),J.str=a)}function pa(c){q=0;c&&!1!==c&&"nofollow"!==
c?(n=b("."+H).filter(function(){var a=b.data(this,w);return(new P(this,a)).get("rel")===c}),q=n.index(a.el),-1===q&&(n=n.add(a.el),q=n.length-1)):n=b(a.el)}function F(a){b(r).trigger(a);y.triggerHandler(a)}function R(c){var d;if(!K){d=b(c).data(w);a=new P(c,d);pa(a.get("rel"));if(!B){B=L=!0;J(a.get("className"));f.css({visibility:"hidden",display:"block",opacity:""});k=h(g,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden");x.css({width:"",height:""}).append(k);v=Z.height()+$.height()+
x.outerHeight(!0)-x.height();s=aa.width()+ba.width()+x.outerWidth(!0)-x.width();C=k.outerHeight(!0);D=k.outerWidth(!0);c=p(a.get("initialWidth"),"x");d=p(a.get("initialHeight"),"y");var e=a.get("maxWidth"),u=a.get("maxHeight");a.w=Math.max((!1!==e?Math.min(c,p(e,"x")):c)-D-s,0);a.h=Math.max((!1!==u?Math.min(d,p(u,"y")):d)-C-v,0);k.css({width:"",height:a.h});m.position();F(qa);a.get("onOpen");ca.add(da).hide();f.focus();a.get("trapFocus")&&r.addEventListener&&(r.addEventListener("focus",la,!0),y.one(ea,
function(){r.removeEventListener("focus",la,!0)}));if(a.get("returnFocus"))y.one(ea,function(){b(a.el).focus()})}c=parseFloat(a.get("opacity"));A.css({opacity:c===c?c:"",cursor:a.get("overlayClose")?"pointer":"",visibility:"visible"}).show();a.get("closeButton")?S.html(a.get("close")).appendTo(x):S.appendTo("<div/>");ra()}}function ma(){f||(fa=!1,z=b(E),f=h(g).attr({id:w,"class":!1===b.support.opacity?l+"IE":"",role:"dialog",tabindex:"-1"}).hide(),A=h(g,"Overlay").hide(),T=b([h(g,"LoadingOverlay")[0],
h(g,"LoadingGraphic")[0]]),G=h(g,"Wrapper"),x=h(g,"Content").append(da=h(g,"Title"),ga=h(g,"Current"),M=b('<button type="button"/>').attr({id:l+"Previous"}),N=b('<button type="button"/>').attr({id:l+"Next"}),I=b('<button type="button"/>').attr({id:l+"Slideshow"}),T),S=b('<button type="button"/>').attr({id:l+"Close"}),G.append(h(g).append(h(g,"TopLeft"),Z=h(g,"TopCenter"),h(g,"TopRight")),h(g,!1,"clear:left").append(aa=h(g,"MiddleLeft"),x,ba=h(g,"MiddleRight")),h(g,!1,"clear:left").append(h(g,"BottomLeft"),
$=h(g,"BottomCenter"),h(g,"BottomRight"))).find("div div").css({"float":"left"}),O=h(g,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),ca=N.add(M).add(ga).add(I));r.body&&!f.parent().length&&b(r.body).append(A,f.append(G,O))}function sa(){function c(a){1<a.which||a.shiftKey||a.altKey||a.metaKey||a.ctrlKey||(a.preventDefault(),R(this))}if(f){if(!fa)if(fa=!0,N.click(function(){m.next()}),M.click(function(){m.prev()}),S.click(function(){m.close()}),A.click(function(){a.get("overlayClose")&&
m.close()}),b(r).bind("keydown."+l,function(c){var b=c.keyCode;B&&a.get("escKey")&&27===b&&(c.preventDefault(),m.close());B&&a.get("arrowKey")&&n[1]&&!c.altKey&&(37===b?(c.preventDefault(),M.click()):39===b&&(c.preventDefault(),N.click()))}),b.isFunction(b.fn.on))b(r).on("click."+l,"."+H,c);else b("."+H).live("click."+l,c);return!0}return!1}function ra(){var c,d,f=m.prep,u,k=++ha;L=!0;e=!1;F(U);F(V);a.get("onLoad");a.h=a.get("height")?p(a.get("height"),"y")-C-v:a.get("innerHeight")&&p(a.get("innerHeight"),
"y");a.w=a.get("width")?p(a.get("width"),"x")-D-s:a.get("innerWidth")&&p(a.get("innerWidth"),"x");a.mw=a.w;a.mh=a.h;a.get("maxWidth")&&(a.mw=p(a.get("maxWidth"),"x")-D-s,a.mw=a.w&&a.w<a.mw?a.w:a.mw);a.get("maxHeight")&&(a.mh=p(a.get("maxHeight"),"y")-C-v,a.mh=a.h&&a.h<a.mh?a.h:a.mh);c=a.get("href");na=setTimeout(function(){T.show()},100);if(a.get("inline")){var t=b(c).eq(0);u=b("<div>").hide().insertBefore(t);y.one(U,function(){u.replaceWith(t)});f(t)}else a.get("iframe")?f(" "):a.get("html")?f(a.get("html")):
a.get("photo")||a.get("photoRegex").test(c)?(c=ka(a,c),e=a.get("createImg"),b(e).addClass(l+"Photo").bind("error."+l,function(){f(h(g,"Error").html(a.get("imgError")))}).one("load",function(){k===ha&&setTimeout(function(){var c;a.get("retinaImage")&&1<E.devicePixelRatio&&(e.height/=E.devicePixelRatio,e.width/=E.devicePixelRatio);a.get("scalePhotos")&&(d=function(){e.height-=e.height*c;e.width-=e.width*c},a.mw&&e.width>a.mw&&(c=(e.width-a.mw)/e.width,d()),a.mh&&e.height>a.mh&&(c=(e.height-a.mh)/e.height,
d()));a.h?e.style.marginTop=Math.max(a.mh-e.height,0)/2+"px":a.get("minHeight")&&(e.style.marginTop=Math.max(a.get("minHeight")-e.height,0)/2+"px");n[1]&&(a.get("loop")||n[q+1])&&(e.style.cursor="pointer",b(e).bind("click."+l,function(){m.next()}));e.style.width=e.width+"px";e.style.height=e.height+"px";f(e)},1)}),e.src=c):c&&O.load(c,a.get("data"),function(c,d){k===ha&&f("error"===d?h(g,"Error").html(a.get("xhrError")):b(this).contents())})}var Y={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",
speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,minWidth:100,maxWidth:"100%",height:!1,initialHeight:"450",innerHeight:!1,minHeight:100,maxHeight:"100%",scalePhotos:!0,scrolling:!0,opacity:0.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",
photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return b(this).attr("href")},title:function(){return this.title},createImg:function(){var a=
new Image,d=b(this).data("cbox-img-attrs");"object"===typeof d&&b.each(d,function(b,d){a[b]=d});return a},createIframe:function(){var a=r.createElement("iframe"),d=b(this).data("cbox-iframe-attrs");"object"===typeof d&&b.each(d,function(b,d){a[b]=d});"frameBorder"in a&&(a.frameBorder=0);"allowTransparency"in a&&(a.allowTransparency="true");a.name=(new Date).getTime();a.allowFullscreen=!0;return a}},w="colorbox",l="cbox",H=l+"Element",qa=l+"_open",V=l+"_load",W=l+"_complete",ia=l+"_cleanup",ea=l+"_closed",
U=l+"_purge",A,f,G,x,Z,aa,ba,$,n,z,k,O,T,da,ga,I,N,M,S,ca,y=b("<a/>"),a,v,s,C,D,q,e,B,L,K,na,m,g="div",ha=0,oa={},fa,ta=function(){function c(){clearTimeout(p)}function b(){if(a.get("loop")||n[q+1])c(),p=setTimeout(m.next,a.get("slideshowSpeed"))}function e(){I.html(a.get("slideshowStop")).unbind(k).one(k,u);y.bind(W,b).bind(V,c);f.removeClass(g+"off").addClass(g+"on")}function u(){c();y.unbind(W,b).unbind(V,c);I.html(a.get("slideshowStart")).unbind(k).one(k,function(){m.next();e()});f.removeClass(g+
"on").addClass(g+"off")}function h(){t=!1;I.hide();c();y.unbind(W,b).unbind(V,c);f.removeClass(g+"off "+g+"on")}var t,g=l+"Slideshow_",k="click."+l,p;return function(){t?a.get("slideshow")||(y.unbind(ia,h),h()):a.get("slideshow")&&n[1]&&(t=!0,y.one(ia,h),a.get("slideshowAuto")?e():u(),I.show())}}();b[w]||(b(ma),m=b.fn[w]=b[w]=function(a,d){var f,e=this;a=a||{};b.isFunction(e)&&(e=b("<a/>"),a.open=!0);if(!e[0])return e;ma();sa()&&(d&&(a.onComplete=d),e.each(function(){var d=b.data(this,w)||{};b.data(this,
w,b.extend(d,a))}).addClass(H),f=new P(e[0],a),f.get("open")&&R(e[0]));return e},m.position=function(c,d){function e(){Z[0].style.width=$[0].style.width=x[0].style.width=parseInt(f[0].style.width,10)-s+"px";x[0].style.height=aa[0].style.height=ba[0].style.height=parseInt(f[0].style.height,10)-v+"px"}var g,h=0,t=0,k=f.offset(),n,q;z.unbind("resize."+l);f.css({top:-9E4,left:-9E4});n=z.scrollTop();q=z.scrollLeft();a.get("fixed")?(k.top-=n,k.left-=q,f.css({position:"fixed"})):(h=n,t=q,f.css({position:"absolute"}));
t=!1!==a.get("right")?t+Math.max(z.width()-a.w-D-s-p(a.get("right"),"x"),0):!1!==a.get("left")?t+p(a.get("left"),"x"):t+Math.round(Math.max(z.width()-a.w-D-s,0)/2);h=!1!==a.get("bottom")?h+Math.max(X()-a.h-C-v-p(a.get("bottom"),"y"),0):!1!==a.get("top")?h+p(a.get("top"),"y"):h+Math.round(Math.max(X()-a.h-C-v,0)/2);f.css({top:k.top,left:k.left,visibility:"visible"});G[0].style.width=G[0].style.height="9999px";g={width:a.w+D+s,height:a.h+C+v,top:h,left:t};if(c){var r=0;b.each(g,function(a){g[a]!==oa[a]&&
(r=c)});c=r}oa=g;c||f.css(g);f.dequeue().animate(g,{duration:c||0,complete:function(){e();L=!1;G[0].style.width=a.w+D+s+"px";G[0].style.height=a.h+C+v+"px";a.get("reposition")&&setTimeout(function(){z.bind("resize."+l,m.position)},1);b.isFunction(d)&&d()},step:e})},m.resize=function(c){var b;B&&(c=c||{},c.width&&(a.w=p(c.width,"x")-D-s),c.innerWidth&&(a.w=p(c.innerWidth,"x")),k.css({width:a.w}),c.height&&(a.h=p(c.height,"y")-C-v),c.innerHeight&&(a.h=p(c.innerHeight,"y")),c.innerHeight||c.height||
(b=k.scrollTop(),k.css({height:"auto"}),a.h=k.height()),k.css({height:a.h}),b&&k.scrollTop(b),m.position("none"===a.get("transition")?0:a.get("speed")))},m.prep=function(c){function d(){a.w=a.w||k.width();var b=a.get("minWidth","x"),b=b&&p(b);a.w=b&&b>a.w?b:a.w;a.w=a.mw&&a.mw<a.w?a.mw:a.w;return a.w}function v(){a.h=a.h||k.height();var b=a.get("minHeight","y"),b=b&&p(b);a.h=b&&b>a.h?b:a.h;a.h=a.mh&&a.mh<a.h?a.mh:a.h;return a.h}if(B){var u,s="none"===a.get("transition")?0:a.get("speed");k.remove();
k=h(g,"LoadedContent").append(c);k.hide().appendTo(O.show()).css({width:d(),overflow:a.get("scrolling")?"auto":"hidden"}).css({height:v()}).prependTo(x);O.hide();b(e).css({"float":"none"});J(a.get("className"));u=function(){function c(){!1===b.support.opacity&&f[0].style.removeAttribute("filter")}var e=n.length,d,g;B&&(g=function(){clearTimeout(na);T.hide();F(W);a.get("onComplete")},da.html(a.get("title")).show(),k.show(),1<e?("string"===typeof a.get("current")&&ga.html(a.get("current").replace("{current}",
q+1).replace("{total}",e)).show(),N[a.get("loop")||q<e-1?"show":"hide"]().html(a.get("next")),M[a.get("loop")||q?"show":"hide"]().html(a.get("previous")),ta(),a.get("preloading")&&b.each([Q(-1),Q(1)],function(){var a,c=n[this];a=new P(c,b.data(c,w));(c=a.get("href"))&&(a.get("photo")||a.get("photoRegex").test(c))&&(c=ka(a,c),a=r.createElement("img"),a.src=c)})):ca.hide(),a.get("iframe")?(d=a.get("createIframe"),a.get("scrolling")||(d.scrolling="no"),b(d).attr({src:a.get("href"),"class":l+"Iframe"}).one("load",
g).appendTo(k),y.one(U,function(){d.src="//about:blank"}),a.get("fastIframe")&&b(d).trigger("load")):g(),"fade"===a.get("transition")?f.fadeTo(s,1,c):c())};"fade"===a.get("transition")?f.fadeTo(s,0,function(){m.position(0,u)}):m.position(s,u)}},m.next=function(){!L&&n[1]&&(a.get("loop")||n[q+1])&&(q=Q(1),R(n[q]))},m.prev=function(){!L&&n[1]&&(a.get("loop")||q)&&(q=Q(-1),R(n[q]))},m.close=function(){B&&!K&&(K=!0,B=!1,F(ia),a.get("onCleanup"),z.unbind("."+l),A.fadeTo(a.get("fadeOut")||0,0),f.stop().fadeTo(a.get("fadeOut")||
0,0,function(){f.hide();A.hide();F(U);k.remove();setTimeout(function(){K=!1;F(ea);a.get("onClosed")},1)}))},m.remove=function(){f&&(f.stop(),b[w].close(),f.stop(!1,!0).remove(),A.remove(),K=!1,f=null,b("."+H).removeData(w).removeClass(H),b(r).unbind("click."+l).unbind("keydown."+l))},m.element=function(){return b(a.el)},m.settings=Y)})(jQuery,document,window);
