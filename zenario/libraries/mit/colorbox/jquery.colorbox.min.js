(function(c,r,D){function g(a,d,I){a=r.createElement(a);d&&(a.id=l+d);I&&(a.style.cssText=I);return c(a)}function X(){return D.innerHeight?D.innerHeight:c(D).height()}function P(a,d){d!==Object(d)&&(d={});this.cache={};this.el=a;this.value=function(a){var b;void 0===this.cache[a]&&(b=c(this.el).attr("data-cbox-"+a),void 0!==b?this.cache[a]=b:void 0!==d[a]?this.cache[a]=d[a]:void 0!==Y[a]&&(this.cache[a]=Y[a]));return this.cache[a]};this.get=function(a){a=this.value(a);return c.isFunction(a)?a.call(this.el,
this):a}}function Q(a){var d=m.length;a=(q+a)%d;return 0>a?d+a:a}function n(a,d){return Math.round((/%/.test(a)?("x"===d?y.width():X())/100:1)*parseInt(a,10))}function ka(a,d){return a.get("retinaUrl")&&1<D.devicePixelRatio?d.replace(a.get("photoRegex"),a.get("retinaSuffix")):d}function la(a){"contains"in f[0]&&!f[0].contains(a.target)&&a.target!==z[0]&&(a.stopPropagation(),f.focus())}function J(a){J.str!==a&&(f.add(z).removeClass(J.str).addClass(a),J.str=a)}function pa(b){q=0;b&&!1!==b&&"nofollow"!==
b?(m=c("."+G).filter(function(){var a=c.data(this,s);return(new P(this,a)).get("rel")===b}),q=m.index(a.el),-1===q&&(m=m.add(a.el),q=m.length-1)):m=c(a.el)}function E(a){c(r).trigger(a);w.triggerHandler(a)}function R(b){var d;if(!K){d=c(b).data(s);a=new P(b,d);pa(a.get("rel"));if(!A){A=L=!0;J(a.get("className"));f.css({visibility:"hidden",display:"block",opacity:""});h=g(k,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden");v.css({width:"",height:""}).append(h);t=Z.height()+$.height()+
v.outerHeight(!0)-v.height();x=aa.width()+ba.width()+v.outerWidth(!0)-v.width();B=h.outerHeight(!0);C=h.outerWidth(!0);b=n(a.get("initialWidth"),"x");d=n(a.get("initialHeight"),"y");var I=a.get("maxWidth"),u=a.get("maxHeight");a.w=Math.max((!1!==I?Math.min(b,n(I,"x")):b)-C-x,0);a.h=Math.max((!1!==u?Math.min(d,n(u,"y")):d)-B-t,0);h.css({width:"",height:a.h});p.position();E(qa);a.get("onOpen");ca.add(da).hide();f.focus();a.get("trapFocus")&&r.addEventListener&&(r.addEventListener("focus",la,!0),w.one(ea,
function(){r.removeEventListener("focus",la,!0)}));if(a.get("returnFocus"))w.one(ea,function(){c(a.el).focus()})}b=parseFloat(a.get("opacity"));z.css({opacity:b===b?b:"",cursor:a.get("overlayClose")?"pointer":"",visibility:"visible"}).show();a.get("closeButton")?S.html(a.get("close")).appendTo(v):S.appendTo("<div/>");ra()}}function ma(){f||(fa=!1,y=c(D),f=g(k).attr({id:s,"class":!1===c.support.opacity?l+"IE":"",role:"dialog",tabindex:"-1"}).hide(),z=g(k,"Overlay").hide(),T=c([g(k,"LoadingOverlay")[0],
g(k,"LoadingGraphic")[0]]),F=g(k,"Wrapper"),v=g(k,"Content").append(da=g(k,"Title"),ga=g(k,"Current"),M=c('<button type="button"/>').attr({id:l+"Previous"}),N=c('<button type="button"/>').attr({id:l+"Next"}),H=g("button","Slideshow"),T),S=c('<button type="button"/>').attr({id:l+"Close"}),F.append(g(k).append(g(k,"TopLeft"),Z=g(k,"TopCenter"),g(k,"TopRight")),g(k,!1,"clear:left").append(aa=g(k,"MiddleLeft"),v,ba=g(k,"MiddleRight")),g(k,!1,"clear:left").append(g(k,"BottomLeft"),$=g(k,"BottomCenter"),
g(k,"BottomRight"))).find("div div").css({"float":"left"}),O=g(k,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),ca=N.add(M).add(ga).add(H));r.body&&!f.parent().length&&c(r.body).append(z,f.append(F,O))}function sa(){function b(a){1<a.which||a.shiftKey||a.altKey||a.metaKey||a.ctrlKey||(a.preventDefault(),R(this))}if(f){if(!fa)if(fa=!0,N.click(function(){p.next()}),M.click(function(){p.prev()}),S.click(function(){p.close()}),z.click(function(){a.get("overlayClose")&&
p.close()}),c(r).bind("keydown."+l,function(b){var c=b.keyCode;A&&a.get("escKey")&&27===c&&(b.preventDefault(),p.close());A&&a.get("arrowKey")&&m[1]&&!b.altKey&&(37===c?(b.preventDefault(),M.click()):39===c&&(b.preventDefault(),N.click()))}),c.isFunction(c.fn.on))c(r).on("click."+l,"."+G,b);else c("."+G).live("click."+l,b);return!0}return!1}function ra(){var b,d,f=p.prep,u,h=++ha;L=!0;e=!1;E(U);E(V);a.get("onLoad");a.h=a.get("height")?n(a.get("height"),"y")-B-t:a.get("innerHeight")&&n(a.get("innerHeight"),
"y");a.w=a.get("width")?n(a.get("width"),"x")-C-x:a.get("innerWidth")&&n(a.get("innerWidth"),"x");a.mw=a.w;a.mh=a.h;a.get("maxWidth")&&(a.mw=n(a.get("maxWidth"),"x")-C-x,a.mw=a.w&&a.w<a.mw?a.w:a.mw);a.get("maxHeight")&&(a.mh=n(a.get("maxHeight"),"y")-B-t,a.mh=a.h&&a.h<a.mh?a.h:a.mh);b=a.get("href");na=setTimeout(function(){T.show()},100);if(a.get("inline")){var ia=c(b);u=c("<div>").hide().insertBefore(ia);w.one(U,function(){u.replaceWith(ia)});f(ia)}else a.get("iframe")?f(" "):a.get("html")?f(a.get("html")):
a.get("photo")||a.get("photoRegex").test(b)?(b=ka(a,b),e=a.get("createImg"),c(e).addClass(l+"Photo").bind("error."+l,function(){f(g(k,"Error").html(a.get("imgError")))}).one("load",function(){h===ha&&setTimeout(function(){var b;a.get("retinaImage")&&1<D.devicePixelRatio&&(e.height/=D.devicePixelRatio,e.width/=D.devicePixelRatio);a.get("scalePhotos")&&(d=function(){e.height-=e.height*b;e.width-=e.width*b},a.mw&&e.width>a.mw&&(b=(e.width-a.mw)/e.width,d()),a.mh&&e.height>a.mh&&(b=(e.height-a.mh)/e.height,
d()));a.h&&(e.style.marginTop=Math.max(a.mh-e.height,0)/2+"px");m[1]&&(a.get("loop")||m[q+1])&&(e.style.cursor="pointer",c(e).bind("click."+l,function(){p.next()}));e.style.width=e.width+"px";e.style.height=e.height+"px";f(e)},1)}),e.src=b):b&&O.load(b,a.get("data"),function(b,d){h===ha&&f("error"===d?g(k,"Error").html(a.get("xhrError")):c(this).contents())})}var Y={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,
height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:0.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",
current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return c(this).attr("href")},title:function(){return this.title},createImg:function(){var a=new Image,d=c(this).data("cbox-img-attrs");"object"===typeof d&&c.each(d,function(c,d){a[c]=d});return a},createIframe:function(){var a=
r.createElement("iframe"),d=c(this).data("cbox-iframe-attrs");"object"===typeof d&&c.each(d,function(c,d){a[c]=d});"frameBorder"in a&&(a.frameBorder=0);"allowTransparency"in a&&(a.allowTransparency="true");a.name=(new Date).getTime();a.allowFullscreen=!0;return a}},s="colorbox",l="cbox",G=l+"Element",qa=l+"_open",V=l+"_load",W=l+"_complete",ja=l+"_cleanup",ea=l+"_closed",U=l+"_purge",z,f,F,v,Z,aa,ba,$,m,y,h,O,T,da,ga,H,N,M,S,ca,w=c("<a/>"),a,t,x,B,C,q,e,A,L,K,na,p,k="div",ha=0,oa={},fa,ta=function(){function b(){clearTimeout(r)}
function c(){if(a.get("loop")||m[q+1])b(),r=setTimeout(p.next,a.get("slideshowSpeed"))}function e(){H.html(a.get("slideshowStop")).unbind(n).one(n,u);w.bind(W,c).bind(V,b);f.removeClass(h+"off").addClass(h+"on")}function u(){b();w.unbind(W,c).unbind(V,b);H.html(a.get("slideshowStart")).unbind(n).one(n,function(){p.next();e()});f.removeClass(h+"on").addClass(h+"off")}function g(){k=!1;H.hide();b();w.unbind(W,c).unbind(V,b);f.removeClass(h+"off "+h+"on")}var k,h=l+"Slideshow_",n="click."+l,r;return function(){k?
a.get("slideshow")||(w.unbind(ja,g),g()):a.get("slideshow")&&m[1]&&(k=!0,w.one(ja,g),a.get("slideshowAuto")?e():u(),H.show())}}();c[s]||(c(ma),p=c.fn[s]=c[s]=function(a,d){var f,e=this;a=a||{};c.isFunction(e)&&(e=c("<a/>"),a.open=!0);if(!e[0])return e;ma();sa()&&(d&&(a.onComplete=d),e.each(function(){var d=c.data(this,s)||{};c.data(this,s,c.extend(d,a))}).addClass(G),f=new P(e[0],a),f.get("open")&&R(e[0]));return e},p.position=function(b,d){function e(){Z[0].style.width=$[0].style.width=v[0].style.width=
parseInt(f[0].style.width,10)-x+"px";v[0].style.height=aa[0].style.height=ba[0].style.height=parseInt(f[0].style.height,10)-t+"px"}var g,h=0,k=0,m=f.offset(),q,r;y.unbind("resize."+l);f.css({top:-9E4,left:-9E4});q=y.scrollTop();r=y.scrollLeft();a.get("fixed")?(m.top-=q,m.left-=r,f.css({position:"fixed"})):(h=q,k=r,f.css({position:"absolute"}));k=!1!==a.get("right")?k+Math.max(y.width()-a.w-C-x-n(a.get("right"),"x"),0):!1!==a.get("left")?k+n(a.get("left"),"x"):k+Math.round(Math.max(y.width()-a.w-C-
x,0)/2);h=!1!==a.get("bottom")?h+Math.max(X()-a.h-B-t-n(a.get("bottom"),"y"),0):!1!==a.get("top")?h+n(a.get("top"),"y"):h+Math.round(Math.max(X()-a.h-B-t,0)/2);f.css({top:m.top,left:m.left,visibility:"visible"});F[0].style.width=F[0].style.height="9999px";g={width:a.w+C+x,height:a.h+B+t,top:h,left:k};if(b){var s=0;c.each(g,function(a){g[a]!==oa[a]&&(s=b)});b=s}oa=g;b||f.css(g);f.dequeue().animate(g,{duration:b||0,complete:function(){e();L=!1;F[0].style.width=a.w+C+x+"px";F[0].style.height=a.h+B+t+
"px";a.get("reposition")&&setTimeout(function(){y.bind("resize."+l,p.position)},1);c.isFunction(d)&&d()},step:e})},p.resize=function(b){var c;A&&(b=b||{},b.width&&(a.w=n(b.width,"x")-C-x),b.innerWidth&&(a.w=n(b.innerWidth,"x")),h.css({width:a.w}),b.height&&(a.h=n(b.height,"y")-B-t),b.innerHeight&&(a.h=n(b.innerHeight,"y")),b.innerHeight||b.height||(c=h.scrollTop(),h.css({height:"auto"}),a.h=h.height()),h.css({height:a.h}),c&&h.scrollTop(c),p.position("none"===a.get("transition")?0:a.get("speed")))},
p.prep=function(b){function d(){a.w=a.w||h.width();a.w=a.mw&&a.mw<a.w?a.mw:a.w;return a.w}function n(){a.h=a.h||h.height();a.h=a.mh&&a.mh<a.h?a.mh:a.h;return a.h}if(A){var u,t="none"===a.get("transition")?0:a.get("speed");h.remove();h=g(k,"LoadedContent").append(b);h.hide().appendTo(O.show()).css({width:d(),overflow:a.get("scrolling")?"auto":"hidden"}).css({height:n()}).prependTo(v);O.hide();c(e).css({"float":"none"});J(a.get("className"));u=function(){function b(){!1===c.support.opacity&&f[0].style.removeAttribute("filter")}
var d=m.length,e,g;A&&(g=function(){clearTimeout(na);T.hide();E(W);a.get("onComplete")},da.html(a.get("title")).show(),h.show(),1<d?("string"===typeof a.get("current")&&ga.html(a.get("current").replace("{current}",q+1).replace("{total}",d)).show(),N[a.get("loop")||q<d-1?"show":"hide"]().html(a.get("next")),M[a.get("loop")||q?"show":"hide"]().html(a.get("previous")),ta(),a.get("preloading")&&c.each([Q(-1),Q(1)],function(){var a,b=m[this];a=new P(b,c.data(b,s));(b=a.get("href"))&&(a.get("photo")||a.get("photoRegex").test(b))&&
(b=ka(a,b),a=r.createElement("img"),a.src=b)})):ca.hide(),a.get("iframe")?(e=a.get("createIframe"),a.get("scrolling")||(e.scrolling="no"),c(e).attr({src:a.get("href"),"class":l+"Iframe"}).one("load",g).appendTo(h),w.one(U,function(){e.src="//about:blank"}),a.get("fastIframe")&&c(e).trigger("load")):g(),"fade"===a.get("transition")?f.fadeTo(t,1,b):b())};"fade"===a.get("transition")?f.fadeTo(t,0,function(){p.position(0,u)}):p.position(t,u)}},p.next=function(){!L&&m[1]&&(a.get("loop")||m[q+1])&&(q=Q(1),
R(m[q]))},p.prev=function(){!L&&m[1]&&(a.get("loop")||q)&&(q=Q(-1),R(m[q]))},p.close=function(){A&&!K&&(K=!0,A=!1,E(ja),a.get("onCleanup"),y.unbind("."+l),z.fadeTo(a.get("fadeOut")||0,0),f.stop().fadeTo(a.get("fadeOut")||0,0,function(){f.hide();z.hide();E(U);h.remove();setTimeout(function(){K=!1;E(ea);a.get("onClosed")},1)}))},p.remove=function(){f&&(f.stop(),c[s].close(),f.stop(!1,!0).remove(),z.remove(),K=!1,f=null,c("."+G).removeData(s).removeClass(G),c(r).unbind("click."+l).unbind("keydown."+
l))},p.element=function(){return c(a.el)},p.settings=Y)})(jQuery,document,window);
