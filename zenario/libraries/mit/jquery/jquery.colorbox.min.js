(function(c,r,s){function k(a,e,ja){a=r.createElement(a);e&&(a.id=n+e);ja&&(a.style.cssText=ja);return c(a)}function W(){return s.innerHeight?s.innerHeight:c(s).height()}function O(a,e){e!==Object(e)&&(e={});this.cache={};this.el=a;this.value=function(a){var b;void 0===this.cache[a]&&(b=c(this.el).attr("data-cbox-"+a),void 0!==b?this.cache[a]=b:void 0!==e[a]?this.cache[a]=e[a]:void 0!==X[a]&&(this.cache[a]=X[a]));return this.cache[a]};this.get=function(a){a=this.value(a);return c.isFunction(a)?a.call(this.el,
this):a}}function P(a){var e=l.length;a=(q+a)%e;return 0>a?e+a:a}function m(a,e){return Math.round((/%/.test(a)?("x"===e?z.width():W())/100:1)*parseInt(a,10))}function ka(a,e){return a.get("retinaUrl")&&1<s.devicePixelRatio?e.replace(a.get("photoRegex"),a.get("retinaSuffix")):e}function la(a){"contains"in f[0]&&!f[0].contains(a.target)&&a.target!==A[0]&&(a.stopPropagation(),f.focus())}function I(a){I.str!==a&&(f.add(A).removeClass(I.str).addClass(a),I.str=a)}function pa(b){q=0;b&&!1!==b&&"nofollow"!==
b?(l=c("."+G).filter(function(){var a=c.data(this,t);return(new O(this,a)).get("rel")===b}),q=l.index(a.el),-1===q&&(l=l.add(a.el),q=l.length-1)):l=c(a.el)}function E(a){c(r).trigger(a);x.triggerHandler(a)}function Q(b){var e;if(!J){e=c(b).data(t);a=new O(b,e);pa(a.get("rel"));if(!B){B=K=!0;I(a.get("className"));f.css({visibility:"hidden",display:"block",opacity:""});h=k(g,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden");w.css({width:"",height:""}).append(h);u=Y.height()+Z.height()+
w.outerHeight(!0)-w.height();y=$.width()+aa.width()+w.outerWidth(!0)-w.width();C=h.outerHeight(!0);D=h.outerWidth(!0);b=m(a.get("initialWidth"),"x");e=m(a.get("initialHeight"),"y");var d=a.get("maxWidth"),v=a.get("maxHeight");a.w=(!1!==d?Math.min(b,m(d,"x")):b)-D-y;a.h=(!1!==v?Math.min(e,m(v,"y")):e)-C-u;h.css({width:"",height:a.h});p.position();E(qa);a.get("onOpen");ba.add(ca).hide();f.focus();a.get("trapFocus")&&r.addEventListener&&(r.addEventListener("focus",la,!0),x.one(da,function(){r.removeEventListener("focus",
la,!0)}));if(a.get("returnFocus"))x.one(da,function(){c(a.el).focus()})}b=parseFloat(a.get("opacity"));A.css({opacity:b===b?b:"",cursor:a.get("overlayClose")?"pointer":"",visibility:"visible"}).show();a.get("closeButton")?R.html(a.get("close")).appendTo(w):R.appendTo("<div/>");ra()}}function ma(){f||(ea=!1,z=c(s),f=k(g).attr({id:t,"class":!1===c.support.opacity?n+"IE":"",role:"dialog",tabindex:"-1"}).hide(),A=k(g,"Overlay").hide(),S=c([k(g,"LoadingOverlay")[0],k(g,"LoadingGraphic")[0]]),F=k(g,"Wrapper"),
w=k(g,"Content").append(ca=k(g,"Title"),fa=k(g,"Current"),L=c('<button type="button"/>').attr({id:n+"Previous"}),M=c('<button type="button"/>').attr({id:n+"Next"}),H=k("button","Slideshow"),S),R=c('<button type="button"/>').attr({id:n+"Close"}),F.append(k(g).append(k(g,"TopLeft"),Y=k(g,"TopCenter"),k(g,"TopRight")),k(g,!1,"clear:left").append($=k(g,"MiddleLeft"),w,aa=k(g,"MiddleRight")),k(g,!1,"clear:left").append(k(g,"BottomLeft"),Z=k(g,"BottomCenter"),k(g,"BottomRight"))).find("div div").css({"float":"left"}),
N=k(g,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),ba=M.add(L).add(fa).add(H));r.body&&!f.parent().length&&c(r.body).append(A,f.append(F,N))}function sa(){function b(a){1<a.which||a.shiftKey||a.altKey||a.metaKey||a.ctrlKey||(a.preventDefault(),Q(this))}if(f){if(!ea)if(ea=!0,M.click(function(){p.next()}),L.click(function(){p.prev()}),R.click(function(){p.close()}),A.click(function(){a.get("overlayClose")&&p.close()}),c(r).bind("keydown."+n,function(b){var c=
b.keyCode;B&&a.get("escKey")&&27===c&&(b.preventDefault(),p.close());B&&a.get("arrowKey")&&l[1]&&!b.altKey&&(37===c?(b.preventDefault(),L.click()):39===c&&(b.preventDefault(),M.click()))}),c.isFunction(c.fn.on))c(r).on("click."+n,"."+G,b);else c("."+G).live("click."+n,b);return!0}return!1}function ra(){var b,e,f=p.prep,v,h=++ga;K=!0;d=!1;E(T);E(U);a.get("onLoad");a.h=a.get("height")?m(a.get("height"),"y")-C-u:a.get("innerHeight")&&m(a.get("innerHeight"),"y");a.w=a.get("width")?m(a.get("width"),"x")-
D-y:a.get("innerWidth")&&m(a.get("innerWidth"),"x");a.mw=a.w;a.mh=a.h;a.get("maxWidth")&&(a.mw=m(a.get("maxWidth"),"x")-D-y,a.mw=a.w&&a.w<a.mw?a.w:a.mw);a.get("maxHeight")&&(a.mh=m(a.get("maxHeight"),"y")-C-u,a.mh=a.h&&a.h<a.mh?a.h:a.mh);b=a.get("href");na=setTimeout(function(){S.show()},100);if(a.get("inline")){var ha=c(b);v=c("<div>").hide().insertBefore(ha);x.one(T,function(){v.replaceWith(ha)});f(ha)}else a.get("iframe")?f(" "):a.get("html")?f(a.get("html")):a.get("photo")||a.get("photoRegex").test(b)?
(b=ka(a,b),d=new Image,c(d).addClass(n+"Photo").bind("error",function(){f(k(g,"Error").html(a.get("imgError")))}).one("load",function(){h===ga&&setTimeout(function(){var b;c.each(["alt","longdesc","aria-describedby"],function(b,e){var f=c(a.el).attr(e)||c(a.el).attr("data-"+e);f&&d.setAttribute(e,f)});a.get("retinaImage")&&1<s.devicePixelRatio&&(d.height/=s.devicePixelRatio,d.width/=s.devicePixelRatio);a.get("scalePhotos")&&(e=function(){d.height-=d.height*b;d.width-=d.width*b},a.mw&&d.width>a.mw&&
(b=(d.width-a.mw)/d.width,e()),a.mh&&d.height>a.mh&&(b=(d.height-a.mh)/d.height,e()));if(a.h||a.minHeight)d.style.marginTop=Math.max((a.mh||a.minHeight)-d.height,0)/2+"px";l[1]&&(a.get("loop")||l[q+1])&&(d.style.cursor="pointer",d.onclick=function(){p.next()});d.style.width=d.width+"px";d.style.height=d.height+"px";f(d)},1)}),d.src=b):b&&N.load(b,a.get("data"),function(b,e){h===ga&&f("error"===e?k(g,"Error").html(a.get("xhrError")):c(this).contents())})}var X={html:!1,photo:!1,iframe:!1,inline:!1,
transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:Math.floor(0.9*c(s).width()),height:!1,initialHeight:"450",innerHeight:!1,maxHeight:Math.floor(0.9*c(s).height()),scalePhotos:!0,scrolling:!0,opacity:0.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",
slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"{current} / {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return c(this).attr("href")},title:function(){return this.title}},
t="colorbox",n="cbox",G=n+"Element",qa=n+"_open",U=n+"_load",V=n+"_complete",ia=n+"_cleanup",da=n+"_closed",T=n+"_purge",A,f,F,w,Y,$,aa,Z,l,z,h,N,S,ca,fa,H,M,L,R,ba,x=c("<a/>"),a,u,y,C,D,q,d,B,K,J,na,p,g="div",ga=0,oa={},ea,ta=function(){function b(){clearTimeout(r)}function c(){if(a.get("loop")||l[q+1])b(),r=setTimeout(p.next,a.get("slideshowSpeed"))}function d(){H.html(a.get("slideshowStop")).unbind(m).one(m,v);x.bind(V,c).bind(U,b);f.removeClass(h+"off").addClass(h+"on")}function v(){b();x.unbind(V,
c).unbind(U,b);H.html(a.get("slideshowStart")).unbind(m).one(m,function(){p.next();d()});f.removeClass(h+"on").addClass(h+"off")}function k(){g=!1;H.hide();b();x.unbind(V,c).unbind(U,b);f.removeClass(h+"off "+h+"on")}var g,h=n+"Slideshow_",m="click."+n,r;return function(){g?a.get("slideshow")||(x.unbind(ia,k),k()):a.get("slideshow")&&l[1]&&(g=!0,x.one(ia,k),a.get("slideshowAuto")?d():v(),H.show())}}();c[t]||(c(ma),p=c.fn[t]=c[t]=function(a,e){var f,d=this;a=a||{};if(c.isFunction(d))d=c("<a/>"),a.open=
!0;else if(!d[0])return d;if(!d[0])return d;ma();sa()&&(e&&(a.onComplete=e),d.each(function(){var d=c.data(this,t)||{};c.data(this,t,c.extend(d,a))}).addClass(G),f=new O(d[0],a),f.get("open")&&Q(d[0]));return d},p.position=function(b,d){function k(){Y[0].style.width=Z[0].style.width=w[0].style.width=parseInt(f[0].style.width,10)-y+"px";w[0].style.height=$[0].style.height=aa[0].style.height=parseInt(f[0].style.height,10)-u+"px"}var h,g=0,l=0,q=f.offset(),r,t;z.unbind("resize."+n);f.css({top:-9E4,left:-9E4});
r=z.scrollTop();t=z.scrollLeft();a.get("fixed")?(q.top-=r,q.left-=t,f.css({position:"fixed"})):(g=r,l=t,f.css({position:"absolute"}));l=!1!==a.get("right")?l+Math.max(z.width()-a.w-D-y-m(a.get("right"),"x"),0):!1!==a.get("left")?l+m(a.get("left"),"x"):l+Math.round(Math.max(z.width()-a.w-D-y,0)/2);g=!1!==a.get("bottom")?g+Math.max(W()-a.h-C-u-m(a.get("bottom"),"y"),0):!1!==a.get("top")?g+m(a.get("top"),"y"):g+Math.round(Math.max(W()-a.h-C-u,0)/2);f.css({top:q.top,left:q.left,visibility:"visible"});
F[0].style.width=F[0].style.height="9999px";h={width:a.w+D+y,height:a.h+C+u,top:g,left:l};if(b){var s=0;c.each(h,function(a){h[a]!==oa[a]&&(s=b)});b=s}oa=h;b||f.css(h);f.dequeue().animate(h,{duration:b||0,complete:function(){k();K=!1;F[0].style.width=a.w+D+y+"px";F[0].style.height=a.h+C+u+"px";a.get("reposition")&&setTimeout(function(){z.bind("resize."+n,p.position)},1);c.isFunction(d)&&d()},step:k})},p.resize=function(b){var c;B&&(b=b||{},b.width&&(a.w=m(b.width,"x")-D-y),b.innerWidth&&(a.w=m(b.innerWidth,
"x")),h.css({width:a.w}),b.height&&(a.h=m(b.height,"y")-C-u),b.innerHeight&&(a.h=m(b.innerHeight,"y")),b.innerHeight||b.height||(c=h.scrollTop(),h.css({height:"auto"}),a.h=h.height()),h.css({height:a.h}),c&&h.scrollTop(c),p.position("none"===a.get("transition")?0:a.get("speed")))},p.prep=function(b){function e(){a.w=a.w||h.width();a.minWidth&&a.w<a.minWidth&&(a.w=m(a.minWidth,"x"));a.w=a.mw&&a.mw<a.w?a.mw:a.w;return a.w}function s(){a.h=a.h||h.height();a.minHeight&&a.h<a.minHeight&&(a.h=m(a.minHeight,
"y"));a.h=a.mh&&a.mh<a.h?a.mh:a.h;return a.h}if(B){var v,u="none"===a.get("transition")?0:a.get("speed");h.remove();h=k(g,"LoadedContent").append(b);h.hide().appendTo(N.show()).css({width:e(),overflow:a.get("scrolling")?"auto":"hidden"}).css({height:s()}).prependTo(w);N.hide();c(d).css({"float":"none"});I(a.get("className"));v=function(){function b(){!1===c.support.opacity&&f[0].style.removeAttribute("filter")}var d=l.length,e,g;B&&(g=function(){clearTimeout(na);S.hide();E(V);a.get("onComplete")},
ca.html(a.get("title")).show(),h.show(),1<d?("string"===typeof a.get("current")&&fa.html(a.get("current").replace("{current}",q+1).replace("{total}",d)).show(),M[a.get("loop")||q<d-1?"show":"hide"]().html(a.get("next")),L[a.get("loop")||q?"show":"hide"]().html(a.get("previous")),ta(),a.get("preloading")&&c.each([P(-1),P(1)],function(){var a,b=l[this];a=new O(b,c.data(b,t));(b=a.get("href"))&&(a.get("photo")||a.get("photoRegex").test(b))&&(b=ka(a,b),a=r.createElement("img"),a.src=b)})):ba.hide(),a.get("iframe")?
(e=r.createElement("iframe"),"frameBorder"in e&&(e.frameBorder=0),"allowTransparency"in e&&(e.allowTransparency="true"),a.get("scrolling")||(e.scrolling="no"),c(e).attr({src:a.get("href"),name:(new Date).getTime(),"class":n+"Iframe",allowFullScreen:!0}).one("load",g).appendTo(h),x.one(T,function(){e.src="//about:blank"}),a.get("fastIframe")&&c(e).trigger("load")):g(),"fade"===a.get("transition")?f.fadeTo(u,1,b):b())};"fade"===a.get("transition")?f.fadeTo(u,0,function(){p.position(0,v)}):p.position(u,
v)}},p.next=function(){!K&&l[1]&&(a.get("loop")||l[q+1])&&(q=P(1),Q(l[q]))},p.prev=function(){!K&&l[1]&&(a.get("loop")||q)&&(q=P(-1),Q(l[q]))},p.close=function(){B&&!J&&(J=!0,B=!1,E(ia),a.get("onCleanup"),z.unbind("."+n),A.fadeTo(a.get("fadeOut")||0,0),f.stop().fadeTo(a.get("fadeOut")||0,0,function(){f.hide();A.hide();E(T);h.remove();setTimeout(function(){J=!1;E(da);a.get("onClosed")},1)}))},p.remove=function(){f&&(f.stop(),c[t].close(),f.stop(!1,!0).remove(),A.remove(),J=!1,f=null,c("."+G).removeData(t).removeClass(G),
c(r).unbind("click."+n).unbind("keydown."+n))},p.element=function(){return c(a.el)},p.settings=X)})(jQuery,document,window);
