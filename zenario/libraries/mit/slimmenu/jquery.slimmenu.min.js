(function(a,h,l,m){function f(b,d){this.element=b;this.$elem=a(this.element);this.options=a.extend({},k,d);this.init()}var k={resizeWidth:"768",collapserTitle:"Main Menu",animSpeed:"medium",easingEffect:null,indentChildren:!1,childrenIndenter:"&nbsp;&nbsp;"};f.prototype={init:function(){var b=this.options,d=this.$elem,c;d.before('<div class="menu-collapser">'+b.collapserTitle+'<div class="collapse-button"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></div></div>');
c=d.prev(".menu-collapser");d.on("click",".sub-collapser",function(c){c.preventDefault();c.stopPropagation();c=a(this).closest("li");a(this).hasClass("expanded")?(a(this).removeClass("expanded"),a(this).find("i").html(""),c.find(">ul").slideUp(b.animSpeed,b.easingEffect)):(a(this).addClass("expanded"),a(this).find("i").html(""),c.find(">ul").slideDown(b.animSpeed,b.easingEffect))});c.on("click",".collapse-button",function(c){c.preventDefault();a(this).toggleClass("on");d.slideToggle(b.animSpeed,b.easingEffect)});
this.resizeMenu({data:{el:this.element,options:this.options}});var e=this,g=g=a(h),f=g.width();g.on("resize",{el:this.element,options:this.options},function(a){var b=g.width();b!=f&&(e.resizeMenu(a),f=b)})},resizeMenu:function(b){var d=a(h),c=b.data.options;b=a(b.data.el);var e=a("body").find(".menu-collapser");b.find("li").each(function(){a(this).has("ul").length&&(a(this).has(".sub-collapser").length?a(this).children(".sub-collapser i").html(""):a(this).append('<span class="sub-collapser"><i></i></span>'));
a(this).children("ul").hide();a(this).find(".sub-collapser").removeClass("expanded").children("i").html("")});c.resizeWidth>=d.width()?(c.indentChildren&&b.find("ul").each(function(){var b=a(this).parents("ul").length;a(this).children("li").children("a").has("i").length||a(this).children("li").children("a").prepend(f.prototype.indent(b,c))}),b.find("li").has("ul").off("mouseenter mouseleave"),b.addClass("collapsed").hide(),e.show()):(b.find("li").has("ul").on("mouseenter",function(){a(this).find(">ul").stop().slideDown(c.animSpeed,
c.easingEffect)}).on("mouseleave",function(){a(this).find(">ul").stop().slideUp(c.animSpeed,c.easingEffect)}),b.find("li > a > i").remove(),b.removeClass("collapsed").show(),e.hide())},indent:function(a,d){for(var c="",e=0;e<a;e++)c+=d.childrenIndenter;return"<i>"+c+"</i>"}};a.fn.slimmenu=function(b){return this.each(function(){a.data(this,"plugin_slimmenu")||a.data(this,"plugin_slimmenu",new f(this,b))})}})(jQuery,window,document);
