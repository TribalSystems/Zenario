(function(e,d,f){var g=window.matchMedia;"undefined"!==typeof module&&module.exports?module.exports=f(g):"function"===typeof define&&define.amd?define(function(){return d[e]=f(g)}):d[e]=f(g)})("enquire",this,function(e){function d(a,b){var c=0,k=a.length,d;for(c;c<k&&(d=b(a[c],c),!1!==d);c++);}function f(a){this.options=a;!a.deferSetup&&this.setup()}function g(a,b){this.query=a;this.isUnconditional=b;this.handlers=[];this.mql=e(a);var c=this;this.listener=function(a){c.mql=a;c.assess()};this.mql.addListener(this.listener)}
function h(){if(!e)throw Error("matchMedia not present, legacy browsers require a polyfill");this.queries={};this.browserIsIncapable=!e("only all").matches}f.prototype={setup:function(){this.options.setup&&this.options.setup();this.initialised=!0},on:function(){!this.initialised&&this.setup();this.options.match&&this.options.match()},notOn:function(){!this.initialised&&this.setup();this.options.doesntMatch&&this.options.doesntMatch()},off:function(){this.options.unmatch&&this.options.unmatch();this.options.doesntMatch&&
this.options.doesntMatch()},destroy:function(){this.options.destroy?this.options.destroy():this.options.unmatch&&this.options.unmatch()},equals:function(a){return this.options===a||this.options.match===a}};g.prototype={addHandler:function(a){a=new f(a);this.handlers.push(a);if(this.matches())a.on();else a.notOn()},removeHandler:function(a){var b=this.handlers;d(b,function(c,d){if(c.equals(a))return c.destroy(),!b.splice(d,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){d(this.handlers,
function(a){a.destroy()});this.mql.removeListener(this.listener);this.handlers.length=0},assess:function(){var a=this.matches()?"on":"off";d(this.handlers,function(b){b[a]()})}};h.prototype={register:function(a,b,c){var e=this.queries;c=c&&this.browserIsIncapable;e[a]||(e[a]=new g(a,c));"function"===typeof b&&(b={match:b});"[object Array]"!==Object.prototype.toString.apply(b)&&(b=[b]);d(b,function(b){"function"===typeof b&&(b={match:b});e[a].addHandler(b)});return this},unregister:function(a,b){var c=
this.queries[a];c&&(b?c.removeHandler(b):(c.clear(),delete this.queries[a]));return this}};return new h});
