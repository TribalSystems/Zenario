tinymce.PluginManager.add("autoresize",function(a){function k(d){var b,c,g,h=tinymce.DOM,e,m,n,p,q,r;if(c=a.getDoc())if(b=c.body,g=c.documentElement,c=f.autoresize_min_height,!b||d&&"setcontent"===d.type&&d.initial||a.plugins.fullscreen&&a.plugins.fullscreen.isFullscreen())b&&g&&(b.style.overflowY="auto",g.style.overflowY="auto");else{e=a.dom.getStyle(b,"margin-top",!0);m=a.dom.getStyle(b,"margin-bottom",!0);n=a.dom.getStyle(b,"padding-top",!0);p=a.dom.getStyle(b,"padding-bottom",!0);q=a.dom.getStyle(b,
"border-top-width",!0);r=a.dom.getStyle(b,"border-bottom-width",!0);e=b.offsetHeight+parseInt(e,10)+parseInt(m,10)+parseInt(n,10)+parseInt(p,10)+parseInt(q,10)+parseInt(r,10);if(isNaN(e)||0>=e)e=tinymce.Env.ie?b.scrollHeight:tinymce.Env.webkit&&0===b.clientHeight?0:b.offsetHeight;e>f.autoresize_min_height&&(c=e);f.autoresize_max_height&&e>f.autoresize_max_height?(c=f.autoresize_max_height,b.style.overflowY="auto",g.style.overflowY="auto"):(b.style.overflowY="hidden",g.style.overflowY="hidden",b.scrollTop=
0);c!==l&&(b=c-l,h.setStyle(a.iframeElement,"height",c+"px"),l=c,tinymce.isWebKit&&0>b&&k(d))}}function h(a,b,c){setTimeout(function(){k({});a--?h(a,b,c):c&&c()},b)}var f=a.settings,l=0;if(!a.settings.inline){f.autoresize_min_height=parseInt(a.getParam("autoresize_min_height",a.getElement().offsetHeight),10);f.autoresize_max_height=parseInt(a.getParam("autoresize_max_height",0),10);a.on("init",function(){var d,b;d=a.getParam("autoresize_overflow_padding",1);b=a.getParam("autoresize_bottom_margin",
50);!1!==d&&a.dom.setStyles(a.getBody(),{paddingLeft:d,paddingRight:d});!1!==b&&a.dom.setStyles(a.getBody(),{paddingBottom:b})});a.on("nodechange setcontent keyup FullscreenStateChanged",k);if(a.getParam("autoresize_on_init",!0))a.on("init",function(){h(20,100,function(){h(5,1E3)})});a.addCommand("mceAutoResize",k)}});
