tinymce.PluginManager.add("save",function(a){function c(){var b=this;a.on("nodeChange",function(){b.disabled(a.getParam("save_enablewhendirty",!0)&&!a.isDirty())})}a.addCommand("mceSave",function(){var b;b=tinymce.DOM.getParent(a.id,"form");if(!a.getParam("save_enablewhendirty",!0)||a.isDirty())if(tinymce.triggerSave(),a.getParam("save_onsavecallback"))a.execCallback("save_onsavecallback",a)&&(a.startContent=tinymce.trim(a.getContent({format:"raw"})),a.nodeChanged());else if(b){a.isNotDirty=!0;if(!b.onsubmit||
b.onsubmit())"function"==typeof b.submit?b.submit():a.windowManager.alert("Error: Form submit field collision.");a.nodeChanged()}else a.windowManager.alert("Error: No form element found.")});a.addCommand("mceCancel",function(){var b=tinymce.trim(a.startContent);a.getParam("save_oncancelcallback")?a.execCallback("save_oncancelcallback",a):(a.setContent(b),a.undoManager.clear(),a.nodeChanged())});a.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:c});a.addButton("cancel",
{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:c});a.addShortcut("Meta+S","","mceSave")});
