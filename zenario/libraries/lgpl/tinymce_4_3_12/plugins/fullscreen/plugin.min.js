tinymce.PluginManager.add("fullscreen",function(a){function t(){var d,a,b=window,c=document.body;c.offsetWidth&&(d=c.offsetWidth,a=c.offsetHeight);b.innerWidth&&b.innerHeight&&(d=b.innerWidth,a=b.innerHeight);return{w:d,h:a}}function u(){var a=tinymce.DOM.getViewPort();return{x:a.x,y:a.y}}function e(){function d(){b.setStyle(k,"height",t().h-(g.clientHeight-k.clientHeight))}var q=document.body,e=document.documentElement,c,g,k,f;h=!h;g=a.getContainer();c=g.style;k=a.getContentAreaContainer().firstChild;
f=k.style;h?(m=u(),r=f.width,s=f.height,f.width=f.height="100%",n=c.width,p=c.height,c.width=c.height="",b.addClass(q,"mce-fullscreen"),b.addClass(e,"mce-fullscreen"),b.addClass(g,"mce-fullscreen"),b.bind(window,"resize",d),d(),l=d):(f.width=r,f.height=s,n&&(c.width=n),p&&(c.height=p),b.removeClass(q,"mce-fullscreen"),b.removeClass(e,"mce-fullscreen"),b.removeClass(g,"mce-fullscreen"),b.unbind(window,"resize",l),scrollTo(m.x,m.y));a.fire("FullscreenStateChanged",{state:h})}var h=!1,b=tinymce.DOM,
r,s,l,n,p,m;if(!a.settings.inline)return a.on("init",function(){a.addShortcut("Ctrl+Shift+F","",e)}),a.on("remove",function(){l&&b.unbind(window,"resize",l)}),a.addCommand("mceFullScreen",e),a.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Meta+Alt+F",selectable:!0,onClick:function(){e();a.focus()},onPostRender:function(){var b=this;a.on("FullscreenStateChanged",function(a){b.active(a.state)})},context:"view"}),a.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Meta+Alt+F",onClick:e,
onPostRender:function(){var b=this;a.on("FullscreenStateChanged",function(a){b.active(a.state)})}}),{isFullscreen:function(){return h}}});
