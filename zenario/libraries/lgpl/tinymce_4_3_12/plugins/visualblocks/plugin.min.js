tinymce.PluginManager.add("visualblocks",function(a,f){function b(){var c=this;c.active(d);a.on("VisualBlocks",function(){c.active(a.dom.hasClass(a.getBody(),"mce-visualblocks"))})}var e,d;window.NodeList&&(a.addCommand("mceVisualBlocks",function(){var c=a.dom,b;e||(e=c.uniqueId(),b=c.create("link",{id:e,rel:"stylesheet",href:f+"/css/visualblocks.css"}),a.getDoc().getElementsByTagName("head")[0].appendChild(b));a.on("PreviewFormats AfterPreviewFormats",function(b){d&&c.toggleClass(a.getBody(),"mce-visualblocks",
"afterpreviewformats"==b.type)});c.toggleClass(a.getBody(),"mce-visualblocks");d=a.dom.hasClass(a.getBody(),"mce-visualblocks");a.fire("VisualBlocks")}),a.addButton("visualblocks",{title:"Show blocks",cmd:"mceVisualBlocks",onPostRender:b}),a.addMenuItem("visualblocks",{text:"Show blocks",cmd:"mceVisualBlocks",onPostRender:b,selectable:!0,context:"view",prependToContext:!0}),a.on("init",function(){a.settings.visualblocks_default_state&&a.execCommand("mceVisualBlocks",!1,null,{skip_focus:!0})}),a.on("remove",
function(){a.dom.removeClass(a.getBody(),"mce-visualblocks")}))});
