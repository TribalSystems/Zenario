tinymce.PluginManager.add("anchor",function(a){var f=function(a){return function(c){for(var b=0;b<c.length;b++)c[b].attr("href")||!c[b].attr("id")&&!c[b].attr("name")||c[b].firstChild||c[b].attr("contenteditable",a)}},d=function(){var e=a.selection.getNode(),c="A"==e.tagName&&""===a.dom.getAttrib(e,"href"),b="";c&&(b=e.id||e.name||"");a.windowManager.open({title:"Anchor",body:{type:"textbox",name:"id",size:40,label:"Id",value:b},onsubmit:function(b){var d=b.data.id;/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(d)?
c?(e.removeAttribute("name"),e.id=d):(a.selection.collapse(!0),a.execCommand("mceInsertContent",!1,a.dom.createHTML("a",{id:d}))):(b.preventDefault(),a.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."))}})};if(tinymce.Env.ceFalse)a.on("PreInit",function(){a.parser.addNodeFilter("a",f("false"));a.serializer.addNodeFilter("a",f(null))});a.addCommand("mceAnchor",d);a.addButton("anchor",{icon:"anchor",tooltip:"Anchor",onclick:d,
stateSelector:"a:not([href])"});a.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",onclick:d})});
