(function(){var p={},q=function(b){var g=p[b];if(void 0===g)throw"module ["+b+"] was undefined";if(void 0===g.instance){for(var e=p[b],k=e.deps,f=e.defn,m=k.length,h=Array(m),c=0;c<m;++c)h[c]=q(k[c]);k=f.apply(null,h);if(void 0===k)throw"module ["+b+"] returned undefined";e.instance=k}return g.instance},f=function(b,g,e){if("string"!==typeof b)throw"module id must be a string";if(void 0===g)throw"no dependencies for "+b;if(void 0===e)throw"no definition function for "+b;p[b]={deps:g,defn:e,instance:void 0}};
(function(b,g){f(b,[],function(){return g})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);f("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.Env")});f("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.PluginManager")});f("tinymce.plugins.autolink.Plugin",["tinymce.core.Env","tinymce.core.PluginManager"],function(b,g){g.add("autolink",function(e){function g(h,c,b){function e(a,b){0>b&&(b=0);if(3==
a.nodeType){var c=a.data.length;b>c&&(b=c)}return b}function f(a,b){1!=a.nodeType||a.hasChildNodes()?d.setStart(a,e(a,b)):d.setStartBefore(a)}function l(a,b){1!=a.nodeType||a.hasChildNodes()?d.setEnd(a,e(a,b)):d.setEndAfter(a)}var d,k,a,n;if("A"!=h.selection.getNode().tagName){d=h.selection.getRng(!0).cloneRange();if(5>d.startOffset){a=d.endContainer.previousSibling;if(!a){if(!d.endContainer.firstChild||!d.endContainer.firstChild.nextSibling)return;a=d.endContainer.firstChild.nextSibling}c=a.length;
f(a,c);l(a,c);if(5>d.endOffset)return;c=d.endOffset}else{a=d.endContainer;if(3!=a.nodeType&&a.firstChild){for(;3!=a.nodeType&&a.firstChild;)a=a.firstChild;3==a.nodeType&&(f(a,0),l(a,a.nodeValue.length))}c=1==d.endOffset?2:d.endOffset-1-c}k=c;do f(a,2<=c?c-2:0),l(a,1<=c?c-1:0),c-=1,n=d.toString();while(" "!=n&&""!==n&&160!=n.charCodeAt(0)&&0<=c-2&&n!=b);d.toString()==b||160==d.toString().charCodeAt(0)?(f(a,c),l(a,k),c+=1):(0===d.startOffset?f(a,0):f(a,c),l(a,k));b=d.toString();"."==b.charAt(b.length-
1)&&l(a,k-1);b=d.toString();if(a=b.match(m))"www."==a[1]?a[1]="http://www.":/@$/.test(a[1])&&!/^mailto:/.test(a[1])&&(a[1]="mailto:"+a[1]),b=h.selection.getBookmark(),h.selection.setRng(d),h.execCommand("createlink",!1,a[1]+a[2]),h.settings.default_link_target&&h.dom.setAttrib(h.selection.getNode(),"target",h.settings.default_link_target),h.selection.moveToBookmark(b),h.nodeChanged()}}var f,m=/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i;e.settings.autolink_pattern&&
(m=e.settings.autolink_pattern);e.on("keydown",function(b){13==b.keyCode&&g(e,-1,"",!1)});if(b.ie)e.on("focus",function(){if(!f){f=!0;try{e.execCommand("AutoUrlDetect",!1,!0)}catch(b){}}});else e.on("keypress",function(b){41==b.keyCode&&g(e,-1,"(",!0)}),e.on("keyup",function(b){32==b.keyCode&&g(e,0,"",!0)})});return function(){}});q("tinymce.plugins.autolink.Plugin")()})();
