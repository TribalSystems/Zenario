(function(){var l={},n=function(a){var c=l[a];if(void 0===c)throw"module ["+a+"] was undefined";if(void 0===c.instance){for(var b=l[a],h=b.deps,d=b.defn,g=h.length,m=Array(g),k=0;k<g;++k)m[k]=n(h[k]);h=d.apply(null,m);if(void 0===h)throw"module ["+a+"] returned undefined";b.instance=h}return c.instance},d=function(a,c,b){if("string"!==typeof a)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+a;if(void 0===b)throw"no definition function for "+a;l[a]={deps:c,defn:b,instance:void 0}};
(function(a,c){d(a,[],function(){return c})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);d("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});d("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.Env")});d("tinymce.plugins.pagebreak.Plugin",["tinymce.core.PluginManager","tinymce.core.Env"],function(a,c){a.add("pagebreak",function(b){var a=b.getParam("pagebreak_separator","\x3c!-- pagebreak --\x3e"),
d=RegExp(a.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(b){return"\\"+b}),"gi"),g='<img src="'+c.transparentSrc+'" class="mce-pagebreak" data-mce-resize="false" data-mce-placeholder />';b.addCommand("mcePageBreak",function(){b.settings.pagebreak_split_block?b.insertContent("<p>"+g+"</p>"):b.insertContent(g)});b.addButton("pagebreak",{title:"Page break",cmd:"mcePageBreak"});b.addMenuItem("pagebreak",{text:"Page break",icon:"pagebreak",cmd:"mcePageBreak",context:"insert"});b.on("ResolveName",function(a){"IMG"==
a.target.nodeName&&b.dom.hasClass(a.target,"mce-pagebreak")&&(a.name="pagebreak")});b.on("click",function(a){a=a.target;"IMG"===a.nodeName&&b.dom.hasClass(a,"mce-pagebreak")&&b.selection.select(a)});b.on("BeforeSetContent",function(a){a.content=a.content.replace(d,g)});b.on("PreInit",function(){b.serializer.addNodeFilter("img",function(c){for(var d=c.length,e,f;d--;)e=c[d],(f=e.attr("class"))&&-1!==f.indexOf("mce-pagebreak")&&(f=e.parent,b.schema.getBlockElements()[f.name]&&b.settings.pagebreak_split_block?
(f.type=3,f.value=a,f.raw=!0,e.remove()):(e.type=3,e.value=a,e.raw=!0))})})});return function(){}});n("tinymce.plugins.pagebreak.Plugin")()})();
