(function(){var u={},C=function(b){var n=u[b];if(void 0===n)throw"module ["+b+"] was undefined";if(void 0===n.instance){for(var e=u[b],d=e.deps,z=e.defn,A=d.length,B=Array(A),k=0;k<A;++k)B[k]=C(d[k]);d=z.apply(null,B);if(void 0===d)throw"module ["+b+"] returned undefined";e.instance=d}return n.instance},d=function(b,n,e){if("string"!==typeof b)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+b;if(void 0===e)throw"no definition function for "+b;u[b]={deps:n,defn:e,instance:void 0}};
d("tinymce.plugins.spellchecker.core.DomTextMatcher",[],function(){function b(b){return b&&1==b.nodeType&&"false"===b.contentEditable}return function(d,e){function u(a,g){if(!a[0])throw"findAndReplaceDOMText cannot handle zero-length matches";return{start:a.index,end:a.index+a[0].length,text:a[0],data:g}}function z(a){var g;if(3===a.nodeType)return a.data;if(v[a.nodeName]&&!p[a.nodeName])return"";if(b(a))return"\n";g="";if(p[a.nodeName]||r[a.nodeName])g+="\n";if(a=a.firstChild){do g+=z(a);while(a=
a.nextSibling)}return g}function A(a,g,c){var q,s,D,w,e=[],d=0,f=a,l,m=0;g=g.slice(0);g.sort(function(a,g){return a.start-g.start});l=g.shift();a:for(;;){(p[f.nodeName]||r[f.nodeName]||b(f))&&d++;3===f.nodeType&&(!s&&f.length+d>=l.end?(s=f,w=l.end-d):q&&e.push(f),!q&&f.length+d>l.start&&(q=f,D=l.start-d),d+=f.length);if(q&&s){if(f=c({startNode:q,startNodeIndex:D,endNode:s,endNodeIndex:w,innerNodes:e,match:l.text,matchIndex:m}),d-=s.length-w,s=q=null,e=[],l=g.shift(),m++,!l)break}else if((!v[f.nodeName]||
p[f.nodeName])&&f.firstChild){if(!b(f)){f=f.firstChild;continue}}else if(f.nextSibling){f=f.nextSibling;continue}for(;;)if(f.nextSibling){f=f.nextSibling;break}else if(f.parentNode!==a)f=f.parentNode;else break a}}function B(a){function g(g,c){var b=h[c];b.stencil||(b.stencil=a(b));b=b.stencil.cloneNode(!1);b.setAttribute("data-mce-index",c);g&&b.appendChild(G.doc.createTextNode(g));return b}return function(a){var c,b,d,e=a.startNode,h=a.endNode,n=a.matchIndex;b=G.doc;if(e===h)return d=e.parentNode,
0<a.startNodeIndex&&(c=b.createTextNode(e.data.substring(0,a.startNodeIndex)),d.insertBefore(c,e)),c=g(a.match,n),d.insertBefore(c,e),a.endNodeIndex<e.length&&(b=b.createTextNode(e.data.substring(a.endNodeIndex)),d.insertBefore(b,e)),e.parentNode.removeChild(e),c;c=b.createTextNode(e.data.substring(0,a.startNodeIndex));b=b.createTextNode(h.data.substring(a.endNodeIndex));var f=g(e.data.substring(a.startNodeIndex),n);d=[];for(var l=0,m=a.innerNodes.length;l<m;++l){var k=a.innerNodes[l],p=g(k.data,
n);k.parentNode.replaceChild(p,k);d.push(p)}a=g(h.data.substring(0,a.endNodeIndex),n);d=e.parentNode;d.insertBefore(c,e);d.insertBefore(f,e);d.removeChild(e);d=h.parentNode;d.insertBefore(a,h);d.insertBefore(b,h);d.removeChild(h);return a}}function k(a){var c=d.getElementsByTagName("*"),b=[];a="number"==typeof a?""+a:null;for(var e=0;e<c.length;e++){var h=c[e],k=h.getAttribute("data-mce-index");null!==k&&k.length&&(k!==a&&null!==a||b.push(h))}return b}function c(a){for(var c=h.length;c--;)if(h[c]===
a)return c;return-1}function H(a){for(var c=0,b=h.length;c<b&&!1!==a(h[c],c);c++);return this}function x(a){var b=k(a?c(a):null);for(a=b.length;a--;){var e=b[a];e.parentNode.insertBefore(e.firstChild,e);e.parentNode.removeChild(e)}return this}function I(a){a=k(c(a));var b=e.dom.createRng();b.setStartBefore(a[0]);b.setEndAfter(a[a.length-1]);return b}var J,h=[],t,G=e.dom,p,v,r;p=e.schema.getBlockElements();v=e.schema.getWhiteSpaceElements();r=e.schema.getShortEndedElements();t=z(d);return{text:t,matches:h,
each:H,filter:function(a){var c=[];H(function(b,e){a(b,e)&&c.push(b)});h=c;return this},reset:function(){h.splice(0,h.length);x();return this},matchFromElement:function(a){return h[a.getAttribute("data-mce-index")]},elementFromMatch:function(a){return k(c(a))[0]},find:function(a,c){if(t&&a.global)for(;J=a.exec(t);)h.push(u(J,c));return this},add:function(a,c,b){h.push({start:a,end:a+c,text:t.substr(a,c),data:b});return this},wrap:function(a){h.length&&A(d,h,B(a));return this},unwrap:x,replace:function(a,
c){var b=I(a);b.deleteContents();0<c.length&&b.insertNode(e.dom.doc.createTextNode(c));return b},rangeFromMatch:I,indexOf:c}}});(function(b,n){d(b,[],function(){return n})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);d("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.PluginManager")});d("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.util.Tools")});d("tinymce.core.ui.Menu",["global!tinymce.util.Tools.resolve"],
function(b){return b("tinymce.ui.Menu")});d("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.dom.DOMUtils")});d("tinymce.core.util.XHR",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.util.XHR")});d("tinymce.core.util.URI",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.util.URI")});d("tinymce.core.util.JSON",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.util.JSON")});d("tinymce.plugins.spellchecker.Plugin",
"tinymce.plugins.spellchecker.core.DomTextMatcher tinymce.core.PluginManager tinymce.core.util.Tools tinymce.core.ui.Menu tinymce.core.dom.DOMUtils tinymce.core.util.XHR tinymce.core.util.URI tinymce.core.util.JSON".split(" "),function(b,d,e,u,z,A,B,k){d.add("spellchecker",function(c,H){function x(){E.textMatcher||(E.textMatcher=new b(c.getBody(),c));return E.textMatcher}function I(c,a){var b=[];e.each(a,function(a){b.push({selectable:!0,text:a.name,data:a.value})});return b}function J(a){for(var c in a)return!1;
return!0}function h(b,d){var f=[];e.each(C[b],function(a){f.push({text:a,onclick:function(){c.insertContent(c.dom.encode(a));c.dom.remove(d);r()}})});f.push({text:"-"});L&&f.push({text:"Add to Dictionary",onclick:function(){a(b,d)}});f.push.apply(f,[{text:"Ignore",onclick:function(){g(b,d)}},{text:"Ignore all",onclick:function(){g(b,d,!0)}}]);l=new u({items:f,context:"contextmenu",onautohide:function(a){-1!=a.target.className.indexOf("spellchecker")&&a.preventDefault()},onhide:function(){l.remove();
l=null}});l.renderTo(document.body);var h=z.DOM.getPos(c.getContentAreaContainer()),k=c.dom.getPos(d[0]),y=c.dom.getRoot();"BODY"==y.nodeName?(k.x-=y.ownerDocument.documentElement.scrollLeft||y.scrollLeft,k.y-=y.ownerDocument.documentElement.scrollTop||y.scrollTop):(k.x-=y.scrollLeft,k.y-=y.scrollTop);h.x+=k.x;h.y+=k.y;l.moveTo(h.x,h.y+d[0].offsetHeight)}function t(){return c.getParam("spellchecker_wordchar_pattern")||RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`\u00a7\u00a9\u00ab\u00ae\u00b1\u00b6\u00b7\u00b8\u00bb\u00bc\u00bd\u00be\u00bf\u00d7\u00f7\u00a4\u201d\u201c\u201e\u00a0\u2002\u2003\u2009]+',
"g")}function G(a,b,d,f){var h={method:a,lang:m.spellchecker_language},g="";h["addToDictionary"==a?"word":"text"]=b;e.each(h,function(a,c){g&&(g+="&");g+=c+"="+encodeURIComponent(a)});A.send({url:(new B(H)).toAbsolute(m.spellchecker_rpc_url),type:"post",content_type:"application/x-www-form-urlencoded",data:g,success:function(a){(a=k.parse(a))?a.error?f(a.error):d(a):(a=c.translate("Server response wasn't proper JSON."),f(a))},error:function(){var a=c.translate("The spelling service was not found: (")+
m.spellchecker_rpc_url+c.translate(")");f(a)}})}function p(a,c,b,d){(m.spellchecker_callback||G).call(E,a,c,b,d)}function v(){function a(b){c.notificationManager.open({text:b,type:"error"});c.setProgressState(!1);K()}K()||(c.setProgressState(!0),p("spellcheck",x().text,D,a),c.focus())}function r(){c.dom.select("span.mce-spellchecker-word").length||K()}function a(a,b){c.setProgressState(!0);p("addToDictionary",a,function(){c.setProgressState(!1);c.dom.remove(b,!0);r()},function(a){c.notificationManager.open({text:a,
type:"error"});c.setProgressState(!1)})}function g(a,b,d){c.selection.collapse();d?e.each(c.dom.select("span.mce-spellchecker-word"),function(b){b.getAttribute("data-mce-word")==a&&c.dom.remove(b,!0)}):c.dom.remove(b,!0);r()}function K(){x().reset();E.textMatcher=null;if(f)return f=!1,c.fire("SpellcheckEnd"),!0}function q(a){a=a.getAttribute("data-mce-index");return"number"==typeof a?""+a:a}function s(a){var b=m.spellchecker_language;a.control.items().each(function(a){a.active(a.settings.data===b)})}
function D(a){var b;a.words?(L=!!a.dictionary,b=a.words):b=a;c.setProgressState(!1);J(b)?(a=c.translate("No misspellings found."),c.notificationManager.open({text:a,type:"info"}),f=!1):(C=b,x().find(t()).filter(function(a){return!!b[a.text]}).wrap(function(a){return c.dom.create("span",{"class":"mce-spellchecker-word","data-mce-bogus":1,"data-mce-word":a.text})}),f=!0,c.fire("SpellcheckStart"))}var w,E=this,C,f,l,m=c.settings,L;if(/(^|[ ,])tinymcespellchecker([, ]|$)/.test(m.plugins)&&d.get("tinymcespellchecker"))"undefined"!==
typeof console&&console.log&&console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option.");else{w=I("Language",e.map((m.spellchecker_languages||"English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv").split(","),function(a){a=a.split("=");return{name:a[0],value:a[1]}}));c.on("click",function(a){var b=a.target;if("mce-spellchecker-word"==b.className){a.preventDefault();
var d=q(b),f;a=[];f=e.toArray(c.getBody().getElementsByTagName("span"));if(f.length)for(var g=0;g<f.length;g++){var k=q(f[g]);null!==k&&k.length&&k===d.toString()&&a.push(f[g])}0<a.length&&(d=c.dom.createRng(),d.setStartBefore(a[0]),d.setEndAfter(a[a.length-1]),c.selection.setRng(d),h(b.getAttribute("data-mce-word"),a))}});c.addMenuItem("spellchecker",{text:"Spellcheck",context:"tools",onclick:v,selectable:!0,onPostRender:function(){var a=this;a.active(f);c.on("SpellcheckStart SpellcheckEnd",function(){a.active(f)})}});
var F={tooltip:"Spellcheck",onclick:v,onPostRender:function(){var a=this;c.on("SpellcheckStart SpellcheckEnd",function(){a.active(f)})}};1<w.length&&(F.type="splitbutton",F.menu=w,F.onshow=s,F.onselect=function(a){m.spellchecker_language=a.control.settings.data});c.addButton("spellchecker",F);c.addCommand("mceSpellCheck",v);c.on("remove",function(){l&&(l.remove(),l=null)});c.on("change",r);this.getTextMatcher=x;this.getWordCharPattern=t;this.markErrors=D;this.getLanguage=function(){return m.spellchecker_language};
m.spellchecker_language=m.spellchecker_language||m.language||"en"}});return function(){}});C("tinymce.plugins.spellchecker.Plugin")()})();
