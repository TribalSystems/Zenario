(function(){var h={},n=function(b){var g=h[b];if(void 0===g)throw"module ["+b+"] was undefined";if(void 0===g.instance){for(var k=h[b],m=k.deps,c=k.defn,a=m.length,t=Array(a),q=0;q<a;++q)t[q]=n(m[q]);m=c.apply(null,t);if(void 0===m)throw"module ["+b+"] returned undefined";k.instance=m}return g.instance},c=function(b,g,c){if("string"!==typeof b)throw"module id must be a string";if(void 0===g)throw"no dependencies for "+b;if(void 0===c)throw"no definition function for "+b;h[b]={deps:g,defn:c,instance:void 0}};
(function(b,g){c(b,[],function(){return g})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);c("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.dom.DOMUtils")});c("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.PluginManager")});c("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.util.I18n")});c("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],
function(b){return b("tinymce.util.Tools")});c("tinymce.plugins.textcolor.Plugin",["tinymce.core.dom.DOMUtils","tinymce.core.PluginManager","tinymce.core.util.I18n","tinymce.core.util.Tools"],function(b,c,k,m){var h=k.translate;c.add("textcolor",function(a){function c(b){var u;a.dom.getParents(a.selection.getStart(),function(a){if(a=a.style["forecolor"==b?"color":"background-color"])u=a});return u}function g(b){var c=[],e;e="000000;Black;993300;Burnt orange;333300;Dark olive;003300;Dark green;003366;Dark azure;000080;Navy Blue;333399;Indigo;333333;Very dark gray;800000;Maroon;FF6600;Orange;808000;Olive;008000;Green;008080;Teal;0000FF;Blue;666699;Grayish blue;808080;Gray;FF0000;Red;FF9900;Amber;99CC00;Yellow green;339966;Sea green;33CCCC;Turquoise;3366FF;Royal blue;800080;Purple;999999;Medium gray;FF00FF;Magenta;FFCC00;Gold;FFFF00;Yellow;00FF00;Lime;00FFFF;Aqua;00CCFF;Sky blue;993366;Red violet;FFFFFF;White;FF99CC;Pink;FFCC99;Peach;FFFF99;Light yellow;CCFFCC;Pale green;CCFFFF;Pale cyan;99CCFF;Light sky blue;CC99FF;Plum".split(";");
e=a.settings.textcolor_map||e;e=a.settings[b+"_map"]||e;for(b=0;b<e.length;b+=2)c.push({text:e[b+1],color:"#"+e[b]});return c}function k(){function b(a,d){var c="transparent"==a;return'<td class="mce-grid-cell'+(c?" mce-colorbtn-trans":"")+'"><div id="'+s+"-"+n++ +'" data-mce-color="'+(a?a:"")+'" role="option" tabIndex="-1" style="'+(a?"background-color: "+a:"")+'" title="'+h(d)+'">'+(c?"&#215;":"")+"</div></td>"}var c,e,d,m,l,r,s=this._id,n=0,f;f=this.settings.origin;c=g(f);c.push({text:h("No color"),
color:"transparent"});d='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>';m=c.length-1;for(r=0;r<v[f];r++){d+="<tr>";for(l=0;l<p[f];l++)e=r*p[f]+l,e>m?d+="<td></td>":(e=c[e],d+=b(e.color,e.text));d+="</tr>"}if(a.settings.color_picker_callback){d+='<tr><td colspan="'+p[f]+'" class="mce-custom-color-btn"><div id="'+s+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+s+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+
h("Custom...")+"</button></div></td></tr>";d+="<tr>";for(l=0;l<p[f];l++)d+=b("","Custom color");d+="</tr>"}return d+"</tbody></table>"}function n(b,c){a.undoManager.transact(function(){a.focus();a.formatter.apply(b,{value:c});a.nodeChanged()})}function w(b){a.undoManager.transact(function(){a.focus();a.formatter.remove(b,{value:null},null,!0);a.nodeChanged()})}function x(g){function k(b){d.hidePanel();d.color(b);n(d.settings.format,b)}function e(b,a){b.style.background=a;b.setAttribute("data-mce-color",
a)}var d=this.parent(),h,l;l=d.settings.origin;b.DOM.getParent(g.target,".mce-custom-color-btn")&&(d.hidePanel(),a.settings.color_picker_callback.call(a,function(b){var a=d.panel.getEl().getElementsByTagName("table")[0],c,f,a=m.map(a.rows[a.rows.length-1].childNodes,function(a){return a.firstChild});for(f=0;f<a.length&&(c=a[f],c.getAttribute("data-mce-color"));f++);if(f==p[l])for(f=0;f<p[l]-1;f++)e(a[f],a[f+1].getAttribute("data-mce-color"));e(c,b);k(b)},c(d.settings.format)));(h=g.target.getAttribute("data-mce-color"))?
(this.lastId&&document.getElementById(this.lastId).setAttribute("aria-selected",!1),g.target.setAttribute("aria-selected",!0),this.lastId=g.target.id,"transparent"==h?(d.hidePanel(),d.resetColor(),w(d.settings.format)):k(h)):null!==h&&d.hidePanel()}function y(){this._color?n(this.settings.format,this._color):w(this.settings.format)}var p,v;v={forecolor:a.settings.forecolor_rows||a.settings.textcolor_rows||5,backcolor:a.settings.backcolor_rows||a.settings.textcolor_rows||5};p={forecolor:a.settings.forecolor_cols||
a.settings.textcolor_cols||8,backcolor:a.settings.backcolor_cols||a.settings.textcolor_cols||8};a.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{origin:"forecolor",role:"application",ariaRemember:!0,html:k,onclick:x},onclick:y});a.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{origin:"backcolor",role:"application",ariaRemember:!0,html:k,onclick:x},onclick:y})});return function(){}});n("tinymce.plugins.textcolor.Plugin")()})();
