(function(){var h={},m=function(c){var f=h[c];if(void 0===f)throw"module ["+c+"] was undefined";if(void 0===f.instance){for(var b=h[c],k=b.deps,r=b.defn,e=k.length,l=Array(e),g=0;g<e;++g)l[g]=m(k[g]);k=r.apply(null,l);if(void 0===k)throw"module ["+c+"] returned undefined";b.instance=k}return f.instance},e=function(c,f,b){if("string"!==typeof c)throw"module id must be a string";if(void 0===f)throw"no dependencies for "+c;if(void 0===b)throw"no definition function for "+c;h[c]={deps:f,defn:b,instance:void 0}};
(function(c,f){e(c,[],function(){return f})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);e("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(c){return c("tinymce.PluginManager")});e("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(c){return c("tinymce.util.Tools")});e("tinymce.plugins.insertdatetime.Plugin",["tinymce.core.PluginManager","tinymce.core.util.Tools"],function(c,f){c.add("insertdatetime",function(b){function c(a,d){function e(a,
b){a=""+a;if(a.length<b)for(var c=0;c<b-a.length;c++)a="0"+a;return a}d=d||new Date;a=a.replace("%D","%m/%d/%Y");a=a.replace("%r","%I:%M:%S %p");a=a.replace("%Y",""+d.getFullYear());a=a.replace("%y",""+d.getYear());a=a.replace("%m",e(d.getMonth()+1,2));a=a.replace("%d",e(d.getDate(),2));a=a.replace("%H",""+e(d.getHours(),2));a=a.replace("%M",""+e(d.getMinutes(),2));a=a.replace("%S",""+e(d.getSeconds(),2));a=a.replace("%I",""+((d.getHours()+11)%12+1));a=a.replace("%p",""+(12>d.getHours()?"AM":"PM"));
a=a.replace("%B",""+b.translate(m[d.getMonth()]));a=a.replace("%b",""+b.translate(g[d.getMonth()]));a=a.replace("%A",""+b.translate(l[d.getDay()]));a=a.replace("%a",""+b.translate(h[d.getDay()]));return a=a.replace("%%","%")}function e(a){var d=c(a);if(b.settings.insertdatetime_element&&(d='<time datetime="'+(/%[HMSIp]/.test(a)?c("%Y-%m-%dT%H:%M"):c("%Y-%m-%d"))+'">'+d+"</time>",a=b.dom.getParent(b.selection.getStart(),"time"))){b.dom.setOuterHTML(a,d);return}b.insertContent(d)}var h="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),
l="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),g="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),m="January February March April May June July August September October November December".split(" "),n=[],q,p;b.addCommand("mceInsertDate",function(){e(b.getParam("insertdatetime_dateformat",b.translate("%Y-%m-%d")))});b.addCommand("mceInsertTime",function(){e(b.getParam("insertdatetime_timeformat",b.translate("%H:%M:%S")))});b.addButton("insertdatetime",{type:"splitbutton",
title:"Insert date/time",onclick:function(){e(q||p)},menu:n});f.each(b.settings.insertdatetime_formats||["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"],function(a){p||(p=a);n.push({text:c(a),onclick:function(){q=a;e(a)}})});b.addMenuItem("insertdatetime",{icon:"date",text:"Date/time",menu:n,context:"insert"})});return function(){}});m("tinymce.plugins.insertdatetime.Plugin")()})();
