(function(){var A={},B=function(a){var f=A[a];if(void 0===f)throw"module ["+a+"] was undefined";if(void 0===f.instance){for(var e=A[a],h=e.deps,d=e.defn,k=h.length,g=Array(k),b=0;b<k;++b)g[b]=B(h[b]);h=d.apply(null,g);if(void 0===h)throw"module ["+a+"] returned undefined";e.instance=h}return f.instance},l=function(a,f,e){if("string"!==typeof a)throw"module id must be a string";if(void 0===f)throw"no dependencies for "+a;if(void 0===e)throw"no definition function for "+a;A[a]={deps:f,defn:e,instance:void 0}},
C=function(a,f){l(a,[],function(){return f})};C("global!window",window);C("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);l("tinymce.core.AddOnManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.AddOnManager")});l("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.EditorManager")});l("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.Env")});l("tinymce.core.ui.Api",["global!tinymce.util.Tools.resolve"],
function(a){return a("tinymce.ui.Api")});l("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.dom.DOMUtils")});l("tinymce.core.ui.Factory",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.ui.Factory")});l("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.Tools")});l("tinymce.themes.modern.ui.A11y",[],function(){var a=function(a,e){return function(){var h=a.find(e)[0];h&&h.focus(!0)}};return{addKeys:function(f,
e){f.shortcuts.add("Alt+F9","",a(e,"menubar"));f.shortcuts.add("Alt+F10,F10","",a(e,"toolbar"));f.shortcuts.add("Alt+F11","",a(e,"elementpath"));e.on("cancel",function(){f.focus()})}}});l("tinymce.themes.modern.ui.Branding",["tinymce.core.dom.DOMUtils"],function(a){var f=a.DOM,e=function(a,b,d){return function(){var c=a.getContentAreaContainer().querySelector("iframe").offsetWidth,c=Math.max(c-a.getDoc().documentElement.offsetWidth,0);f.setStyle(b,"right",c+"px");d?f.setStyle(b,"top","-16px"):f.setStyle(b,
"bottom","1px")}},h=function(a){return function(){f.hide(a)}},d=function(a,b,d){e(a,b,d)();a.on("NodeChange ResizeEditor",e(a,b,d))},k=function(a){a.on("SkinLoaded",function(){var b=f.create("div",{"class":"mce-branding-powered-by"}),w=a.getContainer().querySelector(".mce-statusbar");w?(w.appendChild(b),d(a,b,!0)):(a.getContainer().appendChild(b),d(a,b,!1));f.bind(b,"click",h(b))})};return{setup:function(a){!1!==a.settings.branding&&k(a)}}});l("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],
function(a){return a("tinymce.util.Delay")});l("tinymce.core.geom.Rect",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.geom.Rect")});l("tinymce.themes.modern.ui.Toolbar",["tinymce.core.util.Tools","tinymce.core.ui.Factory"],function(a,f){var e=function(h,d,e){var g=[],b;if(d)return a.each(d.split(/[ ,]/),function(a){var c=function(){var c=h.selection;a.settings.stateSelector&&c.selectorChanged(a.settings.stateSelector,function(c){a.active(c)},!0);a.settings.disabledStateSelector&&
c.selectorChanged(a.settings.disabledStateSelector,function(c){a.disabled(c)})};if("|"==a)b=null;else if(b||(b={type:"buttongroup",items:[]},g.push(b)),h.buttons[a])if(a=h.buttons[a],"function"==typeof a&&(a=a()),a.type=a.type||"button",a.size=e,a=f.create(a),b.items.push(a),h.initialized)c();else h.on("init",c)}),{type:"toolbar",layout:"flow",items:g}};return{createToolbar:e,createToolbars:function(f,d){var k=[],g=f.settings,b=function(a){if(a)return k.push(e(f,a,d)),!0};if(a.isArray(g.toolbar)){if(0===
g.toolbar.length)return;a.each(g.toolbar,function(a,d){g["toolbar"+(d+1)]=a});delete g.toolbar}for(var w=1;10>w&&b(g["toolbar"+w]);w++);k.length||!1===g.toolbar||b(g.toolbar||"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image");if(k.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:k}}}});l("tinymce.themes.modern.ui.ContextToolbars","tinymce.core.dom.DOMUtils tinymce.core.util.Tools tinymce.core.util.Delay tinymce.core.ui.Factory tinymce.core.geom.Rect tinymce.themes.modern.ui.Toolbar".split(" "),
function(a,f,e,h,d,k){var g=a.DOM,b=function(a){return{left:a.x,top:a.y,width:a.w,height:a.h,right:a.x+a.w,bottom:a.y+a.h}},w=function(a){f.each(a.contextToolbars,function(a){a.panel&&a.panel.hide()})},c=function(a,c){a.moveTo(c.left,c.top)},t=function(a,c,d){c=c?c.substr(0,2):"";f.each({t:"down",b:"up"},function(b,f){a.classes.toggle("arrow-"+b,d(f,c.substr(0,1)))});f.each({l:"left",r:"right"},function(b,f){a.classes.toggle("arrow-"+b,d(f,c.substr(1,1)))})},u=function(a,c,d,f,t,g){g=b({x:c,y:d,w:g.w,
h:g.h});a&&(g=a({elementRect:b(f),contentAreaRect:b(t),panelRect:g}));return g};return{addContextualToolbars:function(a){var b,q=a.settings,l=function(c){var b,d;b=g.getPos(a.getContentAreaContainer());c=a.dom.getRect(c);d=a.dom.getRoot();"BODY"===d.nodeName&&(c.x-=d.ownerDocument.documentElement.scrollLeft||d.scrollLeft,c.y-=d.ownerDocument.documentElement.scrollTop||d.scrollTop);c.x+=b.x;c.y+=b.y;return c},r=function(b,f){var h,e,k,p,n,r,s=q.inline_toolbar_position_handler;a.removed||(b&&b.toolbar.panel?
(h="bc-tc tc-bc tl-bl bl-tl tr-br br-tr".split(" "),n=b.toolbar.panel,f&&n.show(),k=l(b.element),e=g.getRect(n.getEl()),p=g.getRect(a.getContentAreaContainer()||a.getBody()),"inline"!==g.getStyle(b.element,"display",!0)&&(k.w=b.element.clientWidth,k.h=b.element.clientHeight),a.inline||(p.w=a.getDoc().documentElement.offsetWidth),a.selection.controlSelection.isResizable(b.element)&&25>k.w&&(k=d.inflate(k,0,8)),h=d.findBestRelativePosition(e,k,p,h),k=d.clamp(k,p),h?(r=d.relativePosition(e,k,h),c(n,
u(s,r.x,r.y,k,p,e))):(p.h+=e.h,(k=d.intersect(p,k))?(h=d.findBestRelativePosition(e,k,p,["bc-tc","bl-tl","br-tr"]))?(r=d.relativePosition(e,k,h),c(n,u(s,r.x,r.y,k,p,e))):c(n,u(s,k.x,k.y,k,p,e)):n.hide()),t(n,h,function(a,c){return a===c})):w(a))},v=function(c){return function(){e.requestAnimationFrame(function(){a.selection&&r(s(a.selection.getNode()),c)})}},x=function(){b||(b=a.selection.getScrollContainer()||a.getWin(),g.bind(b,"scroll",v(!0)),a.on("remove",function(){g.unbind(b,"scroll")}))},n=
function(c){var b;c.toolbar.panel?c.toolbar.panel.show():(x(),b=h.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:k.createToolbar(a,c.toolbar.items),oncancel:function(){a.focus()}}),c.toolbar.panel=b,b.renderTo(document.body).reflow());r(c)},z=function(){f.each(a.contextToolbars||[],function(a){a.panel&&a.panel.hide()})},s=function(c){var b,d,f=
a.contextToolbars||[];d=a.$(c).parents().add(c);for(c=d.length-1;0<=c;c--)for(b=f.length-1;0<=b;b--)if(f[b].predicate(d[c]))return{toolbar:f[b],element:d[c]};return null};a.on("click keyup setContent ObjectResized",function(c){("setcontent"!==c.type||c.selection)&&e.setEditorTimeout(a,function(){var c;(c=s(a.selection.getNode()))?(z(),n(c)):z()})});a.on("blur hide contextmenu",z);a.on("ObjectResizeStart",function(){var c=s(a.selection.getNode());c&&c.toolbar.panel&&c.toolbar.panel.hide()});a.on("ResizeEditor ResizeWindow",
v(!0));a.on("nodeChange",v(!1));a.on("remove",function(){f.each(a.contextToolbars||[],function(a){a.panel&&a.panel.remove()});a.contextToolbars={}});a.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var c=s(a.selection.getNode());c&&c.toolbar.panel&&c.toolbar.panel.items()[0].focus()})}}});l("tinymce.themes.modern.ui.Menubar",["tinymce.core.util.Tools"],function(a){var f={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},
insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},e=function(h,d,k){var g,b,e,c;c=a.makeMap((d.removed_menuitems||"").split(/[ ,]/));d.menu?(d=d.menu[k],e=!0):d=f[k];if(d){g={text:d.title};b=[];a.each((d.items||"").split(/[ ,]/),function(a){"|"!=a&&!h[a]||c[a]||b.push("|"==a?{text:"|"}:h[a])});e||a.each(h,function(a){a.context==
k&&("before"==a.separator&&b.push({text:"|"}),a.prependToContext?b.unshift(a):b.push(a),"after"==a.separator&&b.push({text:"|"}))});for(e=0;e<b.length;e++)"|"==b[e].text&&(0!==e&&e!=b.length-1||b.splice(e,1));g.menu=b;if(!g.menu.length)return null}return g};return{createMenuButtons:function(a){var d,k=[],g=a.settings,b=[];if(g.menu)for(d in g.menu)b.push(d);else for(d in f)b.push(d);d="string"==typeof g.menubar?g.menubar.split(/[ ,]/):b;for(g=0;g<d.length;g++)b=d[g],(b=e(a.menuItems,a.settings,b))&&
k.push(b);return k}}});l("tinymce.themes.modern.ui.Resize",["tinymce.core.dom.DOMUtils"],function(a){var f=a.DOM,e=function(a,d,e){var g,b,l,c,t=a.settings;l=a.getContainer();c=a.getContentAreaContainer().firstChild;b=l.clientWidth;g=c.clientWidth;null!==d&&(d=Math.max(t.min_width||100,d),d=Math.min(t.max_width||65535,d),f.setStyle(l,"width",d+(b-g)),f.setStyle(c,"width",d));e=Math.max(t.min_height||100,e);e=Math.min(t.max_height||65535,e);f.setStyle(c,"height",e);a.fire("ResizeEditor")};return{resizeTo:e,
resizeBy:function(a,d,f){var g=a.getContentAreaContainer();e(a,g.clientWidth+d,g.clientHeight+f)}}});l("tinymce.themes.modern.ui.Sidebar",["tinymce.core.util.Tools","tinymce.core.ui.Factory","tinymce.core.Env"],function(a,f,e){var h=function(a){return{element:function(){return a}}},d=function(a,b,d){(a=a.settings[d])&&a(h(b.getEl("body")))},k=function(c,b,f){a.each(f,function(a){var f=b.items().filter("#"+a.name)[0];f&&f.visible()&&a.name!==c&&(d(a,f,"onhide"),f.visible(!1))})},g=function(a){a.items().each(function(a){a.active(!1)})},
b=function(c,b){return a.grep(c,function(a){return a.name===b})[0]},l=function(a,e,h){return function(m){m=m.control;var p=m.parents().filter("panel")[0],q=p.find("#"+e)[0],l=b(h,e);k(e,p,h);g(m.parent());q&&q.visible()?(d(l,q,"onhide"),q.hide(),m.active(!1)):(q?q.show():(q=f.create({type:"container",name:e,layout:"stack",classes:"sidebar-panel",html:""}),p.prepend(q),d(l,q,"onrender")),d(l,q,"onshow"),m.active(!0));a.fire("ResizeEditor")}};return{hasSidebar:function(a){return(!e.ie||11<=e.ie)&&a.sidebars?
0<a.sidebars.length:!1},createSidebar:function(c){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:a.map(c.sidebars,function(a){var b=a.settings;return{type:"button",icon:b.icon,image:b.image,tooltip:b.tooltip,onclick:l(c,a.name,c.sidebars)}})}]}}}});l("tinymce.themes.modern.ui.SkinLoaded",[],function(){return{fireSkinLoaded:function(a){var f=function(){a._skinLoaded=!0;a.fire("SkinLoaded")};return function(){if(a.initialized)f();
else a.on("init",f)}}}});l("tinymce.themes.modern.modes.Iframe","tinymce.core.dom.DOMUtils tinymce.core.ui.Factory tinymce.core.util.Tools tinymce.themes.modern.ui.A11y tinymce.themes.modern.ui.Branding tinymce.themes.modern.ui.ContextToolbars tinymce.themes.modern.ui.Menubar tinymce.themes.modern.ui.Resize tinymce.themes.modern.ui.Sidebar tinymce.themes.modern.ui.SkinLoaded tinymce.themes.modern.ui.Toolbar".split(" "),function(a,f,e,h,d,k,g,b,l,c,t){var u=a.DOM,m=function(a){return function(c){a.find("*").disabled("readonly"===
c.mode)}},p=function(a){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:a,html:""}};return{render:function(a,e,r){var v,x,n,z,s=a.settings;r.skinUiCss&&u.styleSheetLoader.load(r.skinUiCss,c.fireSkinLoaded(a));n=e.panel=f.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===s.menubar?null:{type:"menubar",border:"0 0 1 0",items:g.createMenuButtons(a)},t.createToolbars(a,s.toolbar_items_size),l.hasSidebar(a)?
{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[p("0"),l.createSidebar(a)]}:p("1 0 0 0")]});!1!==s.resize&&(z={type:"resizehandle",direction:s.resize,onResizeStart:function(){var c=a.getContentAreaContainer().firstChild;v=c.clientWidth;x=c.clientHeight},onResize:function(c){"both"===s.resize?b.resizeTo(a,v+c.deltaX,x+c.deltaY):b.resizeTo(a,null,x+c.deltaY)}});!1!==s.statusbar&&n.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",
ariaRoot:!0,items:[{type:"elementpath",editor:a},z]});a.fire("BeforeRenderUI");a.on("SwitchMode",m(n));n.renderBefore(r.targetNode).reflow();s.readonly&&a.setMode("readonly");r.width&&u.setStyle(n.getEl(),"width",r.width);a.on("remove",function(){n.remove();n=null});h.addKeys(a,n);k.addContextualToolbars(a);d.setup(a);return{iframeContainer:n.find("#iframe")[0].getEl(),editorContainer:n.getEl()}}}});l("tinymce.core.ui.FloatPanel",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.ui.FloatPanel")});
l("tinymce.themes.modern.modes.Inline","tinymce.core.util.Tools tinymce.core.ui.Factory tinymce.core.dom.DOMUtils tinymce.core.ui.FloatPanel tinymce.themes.modern.ui.Toolbar tinymce.themes.modern.ui.Menubar tinymce.themes.modern.ui.ContextToolbars tinymce.themes.modern.ui.A11y tinymce.themes.modern.ui.SkinLoaded".split(" "),function(a,f,e,h,d,k,g,b,l){return{render:function(a,t,u){var m,p,q=a.settings,y=e.DOM;q.fixed_toolbar_container&&(p=y.select(q.fixed_toolbar_container)[0]);var r=function(){if(m&&
m.moveRel&&m.visible()&&!m._fixed){var b=a.selection.getScrollContainer(),d=a.getBody(),f=0,e=0;b&&(e=y.getPos(d),b=y.getPos(b),f=Math.max(0,b.x-e.x),e=Math.max(0,b.y-e.y));m.fixed(!1).moveRel(d,a.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(f,e)}},v=function(){m&&(m.show(),r(),y.addClass(a.getBody(),"mce-edit-focus"))},x=function(){m&&(m.hide(),h.hideAll(),y.removeClass(a.getBody(),"mce-edit-focus"))},n=function(){m?m.visible()||v():(m=t.panel=f.create({type:p?"panel":"floatpanel",role:"application",
classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!p,border:1,items:[!1===q.menubar?null:{type:"menubar",border:"0 0 1 0",items:k.createMenuButtons(a)},d.createToolbars(a,q.toolbar_items_size)]}),a.fire("BeforeRenderUI"),m.renderTo(p||document.body).reflow(),b.addKeys(a,m),v(),g.addContextualToolbars(a),a.on("nodeChange",r),a.on("activate",v),a.on("deactivate",x),a.nodeChanged())};q.content_editable=!0;a.on("focus",function(){u.skinUiCss?
y.styleSheetLoader.load(u.skinUiCss,n,n):n()});a.on("blur hide",x);a.on("remove",function(){m&&(m.remove(),m=null)});u.skinUiCss&&y.styleSheetLoader.load(u.skinUiCss,l.fireSkinLoaded(a));return{}}}});l("tinymce.themes.modern.modes.ZenarioInlineUI","tinymce.core.dom.DOMUtils tinymce.core.ui.Factory tinymce.core.util.Tools tinymce.themes.modern.ui.A11y tinymce.themes.modern.ui.Branding tinymce.themes.modern.ui.ContextToolbars tinymce.themes.modern.ui.Menubar tinymce.themes.modern.ui.Resize tinymce.themes.modern.ui.Sidebar tinymce.themes.modern.ui.SkinLoaded tinymce.themes.modern.ui.Toolbar".split(" "),
function(a,f,e,h,d,k,g,b,l,c,t){var u=a.DOM,m=function(a){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:a,html:""}};return{render:function(a,b,d){var e=a.settings;zenario.getContainerIdFromEl(d.targetNode);var k=document.getElementById("zenario_at_toolbars");d.skinUiCss&&u.styleSheetLoader.load(d.skinUiCss,c.fireSkinLoaded(a));b=b.panel=f.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===e.menubar?
null:{type:"menubar",border:"0 0 1 0",items:g.createMenuButtons(a)},t.createToolbars(a,e.toolbar_items_size),l.hasSidebar(a)?{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[m("0"),l.createSidebar(a)]}:m("1 0 0 0")]});a.fire("BeforeRenderUI");k.innerHTML="";b.renderTo(k).reflow();h.addKeys(a,b);e.content_editable=!0;return{}}}});l("tinymce.core.ui.Throbber",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.ui.Throbber")});l("tinymce.themes.modern.ui.ProgressState",
["tinymce.core.ui.Throbber"],function(a){return{setup:function(f,e){var h;f.on("ProgressState",function(d){h=h||new a(e.panel.getEl("body"));d.state?h.show(d.time):h.hide()})}}});l("tinymce.themes.modern.Theme","global!window tinymce.core.AddOnManager tinymce.core.EditorManager tinymce.core.Env tinymce.core.ui.Api tinymce.themes.modern.modes.Iframe tinymce.themes.modern.modes.Inline tinymce.themes.modern.modes.ZenarioInlineUI tinymce.themes.modern.ui.ProgressState tinymce.themes.modern.ui.Resize".split(" "),
function(a,f,e,h,d,k,g,b,l,c){f=f.ThemeManager;d.appendTo(a.tinymce?a.tinymce:{});f.add("modern",function(a){return{renderUI:function(c){var d=a.settings,f=!1!==d.skin?d.skin||"lightgray":!1;if(f){var h=d.skin_url,h=h?a.documentBaseURI.toAbsolute(h):e.baseURL+"/skins/"+f;c.skinUiCss=h+"/skin.min.css";a.contentCSS.push(h+"/content"+(a.inline?".inline":"")+".min.css")}l.setup(a,this);c=d.zenario_inline_ui?b.render(a,this,c):d.inline?g.render(a,this,c):k.render(a,this,c);return c},resizeTo:function(b,
d){return c.resizeTo(a,b,d)},resizeBy:function(b,d){return c.resizeBy(a,b,d)}}});return function(){}});B("tinymce.themes.modern.Theme")()})();
