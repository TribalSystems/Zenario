(function(){var ra={},ta=function(h){var g=ra[h];if(void 0===g)throw"module ["+h+"] was undefined";if(void 0===g.instance){for(var e=ra[h],d=e.deps,b=e.defn,a=d.length,c=Array(a),f=0;f<a;++f)c[f]=ta(d[f]);d=b.apply(null,c);if(void 0===d)throw"module ["+h+"] returned undefined";e.instance=d}return g.instance},u=function(h,g,e){if("string"!==typeof h)throw"module id must be a string";if(void 0===g)throw"no dependencies for "+h;if(void 0===e)throw"no definition function for "+h;ra[h]={deps:g,defn:e,
instance:void 0}},ga=function(h,g){u(h,[],function(){return g})};u("tinymce.core.geom.Rect",[],function(){function h(a,c,f){var d,e,n,r;d=c.x;e=c.y;n=a.w;a=a.h;r=c.w;c=c.h;f=(f||"").split("");"b"===f[0]&&(e+=c);"r"===f[1]&&(d+=r);"c"===f[0]&&(e+=b(c/2));"c"===f[1]&&(d+=b(r/2));"b"===f[3]&&(e-=a);"r"===f[4]&&(d-=n);"c"===f[3]&&(e-=b(a/2));"c"===f[4]&&(d-=b(n/2));return g(d,e,n,a)}function g(a,c,b,d){return{x:a,y:c,w:b,h:d}}var e=Math.min,d=Math.max,b=Math.round;return{inflate:function(a,c,b){return g(a.x-
c,a.y-b,a.w+2*c,a.h+2*b)},relativePosition:h,findBestRelativePosition:function(a,b,f,d){var e,n;for(n=0;n<d.length;n++)if(e=h(a,b,d[n]),e.x>=f.x&&e.x+e.w<=f.w+f.x&&e.y>=f.y&&e.y+e.h<=f.h+f.y)return d[n];return null},intersect:function(a,b){var f,k,p,n;f=d(a.x,b.x);k=d(a.y,b.y);p=e(a.x+a.w,b.x+b.w);n=e(a.y+a.h,b.y+b.h);return 0>p-f||0>n-k?null:g(f,k,p-f,n-k)},clamp:function(a,b,f){var e,p,n,r,l,m;n=a.x;r=a.y;l=a.x+a.w;m=a.y+a.h;e=b.x+b.w;p=b.y+b.h;a=d(0,b.x-n);b=d(0,b.y-r);e=d(0,l-e);p=d(0,m-p);n+=
a;r+=b;f&&(l+=a,m+=b,n-=e,r-=p);return g(n,r,l-e-n,m-p-r)},create:g,fromClientRect:function(a){return g(a.left,a.top,a.width,a.height)}}});u("tinymce.core.util.Promise",[],function(){function h(a,b){return function(){a.apply(b,arguments)}}function g(a){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof a)throw new TypeError("not a function");this._value=this._state=null;this._deferreds=[];f(a,h(d,this),h(b,this))}function e(a){var b=this;null===
this._state?this._deferreds.push(a):k(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)(b._state?a.resolve:a.reject)(b._value);else{var f;try{f=c(b._value)}catch(d){a.reject(d);return}a.resolve(f)}})}function d(c){try{if(c===this)throw new TypeError("A promise cannot be resolved with itself.");if(c&&("object"===typeof c||"function"===typeof c)){var e=c.then;if("function"===typeof e){f(h(e,c),h(d,this),h(b,this));return}}this._state=!0;this._value=c;a.call(this)}catch(k){b.call(this,
k)}}function b(b){this._state=!1;this._value=b;a.call(this)}function a(){for(var a=0,b=this._deferreds.length;a<b;a++)e.call(this,this._deferreds[a]);this._deferreds=null}function c(a,b,c,f){this.onFulfilled="function"===typeof a?a:null;this.onRejected="function"===typeof b?b:null;this.resolve=c;this.reject=f}function f(a,b,c){var f=!1;try{a(function(a){f||(f=!0,b(a))},function(a){f||(f=!0,c(a))})}catch(d){f||(f=!0,c(d))}}if(window.Promise)return window.Promise;var k=g.immediateFn||"function"===typeof setImmediate&&
setImmediate||function(a){setTimeout(a,1)},p=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};g.prototype["catch"]=function(a){return this.then(null,a)};g.prototype.then=function(a,b){var f=this;return new g(function(d,k){e.call(f,new c(a,b,d,k))})};g.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&p(arguments[0])?arguments[0]:arguments);return new g(function(b,c){function f(e,s){try{if(s&&("object"===typeof s||"function"===typeof s)){var k=
s.then;if("function"===typeof k){k.call(s,function(a){f(e,a)},c);return}}a[e]=s;0===--d&&b(a)}catch(q){c(q)}}if(0===a.length)return b([]);for(var d=a.length,e=0;e<a.length;e++)f(e,a[e])})};g.resolve=function(a){return a&&"object"===typeof a&&a.constructor===g?a:new g(function(b){b(a)})};g.reject=function(a){return new g(function(b,c){c(a)})};g.race=function(a){return new g(function(b,c){for(var f=0,d=a.length;f<d;f++)a[f].then(b,c)})};return g});u("tinymce.core.util.Delay",["tinymce.core.util.Promise"],
function(h){function g(a,b){function d(a){window.setTimeout(a,0)}var e,n=window.requestAnimationFrame,g=["ms","moz","webkit"];for(e=0;e<g.length&&!n;e++)n=window[g[e]+"RequestAnimationFrame"];n||(n=d);n(a,b)}function e(a,b){"number"!=typeof b&&(b=0);return setTimeout(a,b)}function d(a,b){"number"!=typeof b&&(b=1);return setInterval(a,b)}function b(a,b){var d,p;p=function(){var n=arguments;clearTimeout(d);d=e(function(){a.apply(this,n)},b)};p.stop=function(){clearTimeout(d)};return p}var a;return{requestAnimationFrame:function(b,
f){a?a.then(b):a=(new h(function(a){f||(f=document.body);g(a,f)})).then(b)},setTimeout:e,setInterval:d,setEditorTimeout:function(a,b,d){return e(function(){a.removed||b()},d)},setEditorInterval:function(a,b,e){var p;return p=d(function(){a.removed?clearInterval(p):b()},e)},debounce:b,throttle:b,clearInterval:function(a){return clearInterval(a)},clearTimeout:function(a){return clearTimeout(a)}}});u("tinymce.core.Env",[],function(){var h=navigator,g=h.userAgent,e,d,b,a,c,f,k,p,n,r,l;e=window.opera&&
window.opera.buildNumber;k=/Android/.test(g);d=/WebKit/.test(g);b=(b=!d&&!e&&/MSIE/gi.test(g)&&/Explorer/gi.test(h.appName))&&/MSIE (\w+)\./.exec(g)[1];a=-1==g.indexOf("Trident/")||-1==g.indexOf("rv:")&&-1==h.appName.indexOf("Netscape")?!1:11;h=-1==g.indexOf("Edge/")||b||a?!1:12;b=b||a||h;a=!d&&!a&&/Gecko/.test(g);c=-1!=g.indexOf("Mac");f=/(iPad|iPhone)/.test(g);p="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL;n=("matchMedia"in window?matchMedia("only screen and (max-device-width: 480px)").matches:
!1)&&(k||f);r=("matchMedia"in window?matchMedia("only screen and (min-width: 800px)").matches:!1)&&(k||f);l=-1!=g.indexOf("Windows Phone");h&&(d=!1);g=!f||p||534<=g.match(/AppleWebKit\/(\d*)/)[1];return{opera:e,webkit:d,ie:b,gecko:a,mac:c,iOS:f,android:k,contentEditable:g,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=b,range:window.getSelection&&"Range"in window,documentMode:b&&!h?document.documentMode||7:10,fileApi:p,ceFalse:!1===b||
8<b,canHaveCSP:!1===b||11<b,desktop:!n&&!r,windowsPhone:l}});u("tinymce.core.dom.EventUtils",["tinymce.core.util.Delay","tinymce.core.Env"],function(h,g){function e(a,b,c,f){a.addEventListener?a.addEventListener(b,c,f||!1):a.attachEvent&&a.attachEvent("on"+b,c)}function d(a,b,c,f){a.removeEventListener?a.removeEventListener(b,c,f||!1):a.detachEvent&&a.detachEvent("on"+b,c)}function b(a,b){var c,f=b;(c=a.path)&&0<c.length&&(f=c[0]);a.deepPath&&(c=a.deepPath())&&0<c.length&&(f=c[0]);return f}function a(a,
c){var f,d=c||{};for(f in a)n[f]||(d[f]=a[f]);d.target||(d.target=d.srcElement||document);g.experimentalShadowDom&&(d.target=b(a,d.target));if(a&&p.test(a.type)&&void 0===a.pageX&&void 0!==a.clientX){var e=d.target.ownerDocument||document;f=e.documentElement;e=e.body;d.pageX=a.clientX+(f&&f.scrollLeft||e&&e.scrollLeft||0)-(f&&f.clientLeft||e&&e.clientLeft||0);d.pageY=a.clientY+(f&&f.scrollTop||e&&e.scrollTop||0)-(f&&f.clientTop||e&&e.clientTop||0)}d.preventDefault=function(){d.isDefaultPrevented=
l;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)};d.stopPropagation=function(){d.isPropagationStopped=l;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)};d.stopImmediatePropagation=function(){d.isImmediatePropagationStopped=l;d.stopPropagation()};!1===(d.isDefaultPrevented===l||d.isDefaultPrevented===r)&&(d.isDefaultPrevented=r,d.isPropagationStopped=r,d.isImmediatePropagationStopped=r);"undefined"==typeof d.metaKey&&(d.metaKey=!1);return d}function c(a,b,c){function f(){return"complete"===
l.readyState||"interactive"===l.readyState&&l.body}function s(){c.domLoaded||(c.domLoaded=!0,b(n))}function k(){f()&&(d(l,"readystatechange",k),s())}function q(){try{l.documentElement.doScroll("left")}catch(a){h.setTimeout(q);return}s()}var l=a.document,n={type:"ready"};c.domLoaded?b(n):(!l.addEventListener||g.ie&&11>g.ie?(e(l,"readystatechange",k),l.documentElement.doScroll&&a.self===a.top&&q()):f()?s():e(a,"DOMContentLoaded",s),e(a,"load",s))}function f(){function b(a,c){var f,d,e,q;if(f=(f=l[c])&&
f[a.type])for(d=0,e=f.length;d<e&&((q=f[d])&&!1===q.func.call(q.scope,a)&&a.preventDefault(),!a.isImmediatePropagationStopped());d++);}var f=this,l={},n,s,p,q,g;s=k+(+new Date).toString(32);q="onmouseenter"in document.documentElement;p="onfocusin"in document.documentElement;g={mouseenter:"mouseover",mouseleave:"mouseout"};n=1;f.domLoaded=!1;f.events=l;f.bind=function(d,k,A,r){function D(c){b(a(c||T.event),h)}var h,B,G,E,R,K,Q,T=window;if(d&&3!==d.nodeType&&8!==d.nodeType){d[s]?h=d[s]:(h=n++,d[s]=
h,l[h]={});r=r||d;k=k.split(" ");for(G=k.length;G--;)E=k[G],K=D,R=Q=!1,"DOMContentLoaded"===E&&(E="ready"),f.domLoaded&&"ready"===E&&"complete"==d.readyState?A.call(r,a({type:E})):(q||(R=g[E])&&(K=function(c){var f,d;f=c.currentTarget;if((d=c.relatedTarget)&&f.contains)d=f.contains(d);else for(;d&&d!==f;)d=d.parentNode;d||(c=a(c||T.event),c.type="mouseout"===c.type?"mouseleave":"mouseenter",c.target=f,b(c,h))}),p||"focusin"!==E&&"focusout"!==E||(Q=!0,R="focusin"===E?"focus":"blur",K=function(c){c=
a(c||T.event);c.type="focus"===c.type?"focusin":"focusout";b(c,h)}),(B=l[h][E])?"ready"===E&&f.domLoaded?A({type:E}):B.push({func:A,scope:r}):(l[h][E]=B=[{func:A,scope:r}],B.fakeName=R,B.capture=Q,B.nativeHandler=K,"ready"===E?c(d,K,f):e(d,R||E,K,Q)));d=B=0;return A}};f.unbind=function(a,b,c){var e,q,m,k,n,p;if(!a||3===a.nodeType||8===a.nodeType)return f;if(e=a[s]){p=l[e];if(b)for(b=b.split(" "),m=b.length;m--;){if(n=b[m],q=p[n]){if(c)for(k=q.length;k--;)if(q[k].func===c){var y=q.nativeHandler,g=
q.fakeName,x=q.capture;q=q.slice(0,k).concat(q.slice(k+1));q.nativeHandler=y;q.fakeName=g;q.capture=x;p[n]=q}c&&0!==q.length||(delete p[n],d(a,q.fakeName||n,q.nativeHandler,q.capture))}}else{for(n in p)q=p[n],d(a,q.fakeName||n,q.nativeHandler,q.capture);p={}}for(n in p)return f;delete l[e];try{delete a[s]}catch(v){a[s]=null}}return f};f.fire=function(c,d,e){if(!c||3===c.nodeType||8===c.nodeType)return f;e=a(null,e);e.type=d;e.target=c;do(d=c[s])&&b(e,d),c=c.parentNode||c.ownerDocument||c.defaultView||
c.parentWindow;while(c&&!e.isPropagationStopped());return f};f.clean=function(a){var b,c,d=f.unbind;if(!a||3===a.nodeType||8===a.nodeType)return f;a[s]&&d(a);a.getElementsByTagName||(a=a.document);if(a&&a.getElementsByTagName)for(d(a),c=a.getElementsByTagName("*"),b=c.length;b--;)a=c[b],a[s]&&d(a);return f};f.destroy=function(){l={}};f.cancel=function(a){a&&(a.preventDefault(),a.stopImmediatePropagation());return!1}}var k="mce-data-",p=/^(?:mouse|contextmenu)|click/,n={keyLocation:1,layerX:1,layerY:1,
returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},r=function(){return!1},l=function(){return!0};f.Event=new f;f.Event.bind(window,"ready",function(){});return f});u("tinymce.core.dom.Sizzle",[],function(){function h(a,b,c,f){var d,e,m,s,k;(b?b.ownerDocument||b:Y)!==R&&E(b);b=b||R;c=c||[];if(!a||"string"!==typeof a)return c;if(1!==(s=b.nodeType)&&9!==s)return[];if(Q&&!f){if(d=ua.exec(a))if(m=d[1])if(9===s)if((e=b.getElementById(m))&&e.parentNode){if(e.id===m)return c.push(e),c}else return c;
else{if(b.ownerDocument&&(e=b.ownerDocument.getElementById(m))&&$(b,e)&&e.id===m)return c.push(e),c}else{if(d[2])return ea.apply(c,b.getElementsByTagName(a)),c;if((m=d[3])&&q.getElementsByClassName)return ea.apply(c,b.getElementsByClassName(m)),c}if(q.qsa&&(!T||!T.test(a))){e=d=W;m=b;k=9===s&&a;if(1===s&&"object"!==b.nodeName.toLowerCase()){s=A(a);(d=b.getAttribute("id"))?e=d.replace(va,"\\$&"):b.setAttribute("id",e);e="[id='"+e+"'] ";for(m=s.length;m--;)s[m]=e+r(s[m]);m=sa.test(a)&&p(b.parentNode)||
b;k=s.join(",")}if(k)try{return ea.apply(c,m.querySelectorAll(k)),c}catch(l){}finally{d||b.removeAttribute("id")}}}return D(a.replace(la,"$1"),b,c,f)}function g(){function a(c,f){b.push(c+" ")>x.cacheLength&&delete a[b.shift()];return a[c+" "]=f}var b=[];return a}function e(a){a[W]=!0;return a}function d(a){var b=R.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function b(a,b){for(var c=a.split("|"),f=a.length;f--;)x.attrHandle[c[f]]=b}function a(a,
b){var c=b&&a,f=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(f)return f;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function c(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function f(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){b=+b;return e(function(c,f){for(var d,e=a([],c.length,b),q=e.length;q--;)c[d=e[q]]&&(c[d]=!(f[d]=c[d]))})})}
function p(a){return a&&typeof a.getElementsByTagName!==aa&&a}function n(){}function r(a){for(var b=0,c=a.length,f="";b<c;b++)f+=a[b].value;return f}function l(a,b,c){var f=b.dir,d=c&&"parentNode"===f,e=N++;return b.first?function(b,c,e){for(;b=b[f];)if(1===b.nodeType||d)return a(b,c,e)}:function(b,c,q){var m,s,k=[U,e];if(q)for(;b=b[f];){if((1===b.nodeType||d)&&a(b,c,q))return!0}else for(;b=b[f];)if(1===b.nodeType||d){s=b[W]||(b[W]={});if((m=s[f])&&m[0]===U&&m[1]===e)return k[2]=m[2];s[f]=k;if(k[2]=
a(b,c,q))return!0}}}function m(a){return 1<a.length?function(b,c,f){for(var d=a.length;d--;)if(!a[d](b,c,f))return!1;return!0}:a[0]}function t(a,b,c,f,d){for(var e,q=[],m=0,s=a.length,k=null!=b;m<s;m++)if(e=a[m])if(!c||c(e,f,d))q.push(e),k&&b.push(m);return q}function w(a,b,c,f,d,q){f&&!f[W]&&(f=w(f));d&&!d[W]&&(d=w(d,q));return e(function(e,q,m,s){var k,l,n=[],p=[],z=q.length,y;if(!(y=e)){y=b||"*";for(var g=m.nodeType?[m]:m,x=[],v=0,A=g.length;v<A;v++)h(y,g[v],x);y=x}y=!a||!e&&b?y:t(y,n,a,m,s);g=
c?d||(e?a:z||f)?[]:q:y;c&&c(y,g,m,s);if(f)for(k=t(g,p),f(k,[],m,s),m=k.length;m--;)if(l=k[m])g[p[m]]=!(y[p[m]]=l);if(e){if(d||a){if(d){k=[];for(m=g.length;m--;)(l=g[m])&&k.push(y[m]=l);d(null,g=[],k,s)}for(m=g.length;m--;)(l=g[m])&&-1<(k=d?fa.call(e,l):n[m])&&(e[k]=!(q[k]=l))}}else g=t(g===q?g.splice(z,g.length):g),d?d(null,q,g,s):ea.apply(q,g)})}function v(a){var b,c,f,d=a.length,e=x.relative[a[0].type];c=e||x.relative[" "];for(var q=e?1:0,s=l(function(a){return a===b},c,!0),k=l(function(a){return-1<
fa.call(b,a)},c,!0),t=[function(a,c,f){return!e&&(f||c!==L)||((b=c).nodeType?s(a,c,f):k(a,c,f))}];q<d;q++)if(c=x.relative[a[q].type])t=[l(m(t),c)];else{c=x.filter[a[q].type].apply(null,a[q].matches);if(c[W]){for(f=++q;f<d&&!x.relative[a[f].type];f++);return w(1<q&&m(t),1<q&&r(a.slice(0,q-1).concat({value:" "===a[q-2].type?"*":""})).replace(la,"$1"),c,q<f&&v(a.slice(q,f)),f<d&&v(a=a.slice(f)),f<d&&r(a))}t.push(c)}return m(t)}function s(a,b){var c=0<b.length,f=0<a.length,d=function(d,e,q,m,s){var k,
l,n,p=0,z="0",y=d&&[],g=[],v=L,A=d||f&&x.find.TAG("*",s),r=U+=null==v?1:Math.random()||0.1,w=A.length;for(s&&(L=e!==R&&e);z!==w&&null!=(k=A[z]);z++){if(f&&k){for(l=0;n=a[l++];)if(n(k,e,q)){m.push(k);break}s&&(U=r)}c&&((k=!n&&k)&&p--,d&&y.push(k))}p+=z;if(c&&z!==p){for(l=0;n=b[l++];)n(y,g,e,q);if(d){if(0<p)for(;z--;)y[z]||g[z]||(g[z]=M.call(m));g=t(g)}ea.apply(m,g);s&&!d&&0<g.length&&1<p+b.length&&h.uniqueSort(m)}s&&(U=r,L=v);return y};return c?e(d):d}var y,q,x,C,z,A,H,D,L,B,G,E,R,K,Q,T,X,u,$,W="sizzle"+
-new Date,Y=window.document,U=0,N=0,O=g(),F=g(),I=g(),P=function(a,b){a===b&&(G=!0);return 0},aa="undefined",V=-2147483648,ca={}.hasOwnProperty,Z=[],M=Z.pop,ha=Z.push,ea=Z.push,da=Z.slice,fa=Z.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},la=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ka=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,oa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,pa=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]",
"g"),ia=RegExp(":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),J=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ja={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,
ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]"),PSEUDO:RegExp("^:((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},S=/^(?:input|select|textarea|button)$/i,ga=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ua=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,va=/'|\\/g,ma=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),na=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{ea.apply(Z=da.call(Y.childNodes),Y.childNodes),Z[Y.childNodes.length].nodeType}catch(wa){ea={apply:Z.length?function(a,b){ha.apply(a,da.call(b))}:
function(a,b){for(var c=a.length,f=0;a[c++]=b[f++];);a.length=c-1}}}q=h.support={};z=h.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};E=h.setDocument=function(b){var c,f=b?b.ownerDocument||b:Y;b=f.defaultView;if(f===R||9!==f.nodeType||!f.documentElement)return R;R=f;K=f.documentElement;Q=!z(f);var e;if(e=b){a:{try{c=b.top;break a}catch(m){}c=null}e=b!==c}e&&(b.addEventListener?b.addEventListener("unload",function(){E()},!1):b.attachEvent&&b.attachEvent("onunload",
function(){E()}));q.attributes=d(function(a){a.className="i";return!a.getAttribute("className")});q.getElementsByTagName=d(function(a){a.appendChild(f.createComment(""));return!a.getElementsByTagName("*").length});q.getElementsByClassName=qa.test(f.getElementsByClassName);q.getById=d(function(a){K.appendChild(a).id=W;return!f.getElementsByName||!f.getElementsByName(W).length});q.getById?(x.find.ID=function(a,b){if(typeof b.getElementById!==aa&&Q){var c=b.getElementById(a);return c&&c.parentNode?[c]:
[]}},x.filter.ID=function(a){var b=a.replace(ma,na);return function(a){return a.getAttribute("id")===b}}):(delete x.find.ID,x.filter.ID=function(a){var b=a.replace(ma,na);return function(a){return(a=typeof a.getAttributeNode!==aa&&a.getAttributeNode("id"))&&a.value===b}});x.find.TAG=q.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==aa)return b.getElementsByTagName(a)}:function(a,b){var c,f=[],d=0,e=b.getElementsByTagName(a);if("*"===a){for(;c=e[d++];)1===c.nodeType&&f.push(c);
return f}return e};x.find.CLASS=q.getElementsByClassName&&function(a,b){if(Q)return b.getElementsByClassName(a)};X=[];T=[];if(q.qsa=qa.test(f.querySelectorAll))d(function(a){a.innerHTML="<select msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&T.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||T.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll(":checked").length||T.push(":checked")}),d(function(a){var b=f.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&T.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||T.push(":enabled",":disabled");a.querySelectorAll("*,:x");T.push(",.*:")});(q.matchesSelector=qa.test(u=K.matches||K.webkitMatchesSelector||K.mozMatchesSelector||K.oMatchesSelector||K.msMatchesSelector))&&
d(function(a){q.disconnectedMatch=u.call(a,"div");u.call(a,"[s!='']:x");X.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});T=T.length&&RegExp(T.join("|"));X=X.length&&RegExp(X.join("|"));
$=(c=qa.test(K.compareDocumentPosition))||qa.test(K.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,f=b&&b.parentNode;return a===f||!!(f&&1===f.nodeType&&(c.contains?c.contains(f):a.compareDocumentPosition&&a.compareDocumentPosition(f)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};P=c?function(a,b){if(a===b)return G=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;if(c)return c;c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):
1;return c&1||!q.sortDetached&&b.compareDocumentPosition(a)===c?a===f||a.ownerDocument===Y&&$(Y,a)?-1:b===f||b.ownerDocument===Y&&$(Y,b)?1:B?fa.call(B,a)-fa.call(B,b):0:c&4?-1:1}:function(b,c){if(b===c)return G=!0,0;var d,e=0;d=b.parentNode;var q=c.parentNode,m=[b],s=[c];if(!d||!q)return b===f?-1:c===f?1:d?-1:q?1:B?fa.call(B,b)-fa.call(B,c):0;if(d===q)return a(b,c);for(d=b;d=d.parentNode;)m.unshift(d);for(d=c;d=d.parentNode;)s.unshift(d);for(;m[e]===s[e];)e++;return e?a(m[e],s[e]):m[e]===Y?-1:s[e]===
Y?1:0};return f};h.matches=function(a,b){return h(a,null,null,b)};h.matchesSelector=function(a,b){(a.ownerDocument||a)!==R&&E(a);b=b.replace(pa,"='$1']");if(q.matchesSelector&&Q&&!(X&&X.test(b)||T&&T.test(b)))try{var c=u.call(a,b);if(c||q.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(f){}return 0<h(b,R,null,[a]).length};h.contains=function(a,b){(a.ownerDocument||a)!==R&&E(a);return $(a,b)};h.attr=function(a,b){(a.ownerDocument||a)!==R&&E(a);var c=x.attrHandle[b.toLowerCase()],
c=c&&ca.call(x.attrHandle,b.toLowerCase())?c(a,b,!Q):void 0;return void 0!==c?c:q.attributes||!Q?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};h.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};h.uniqueSort=function(a){var b,c=[],f=0,d=0;G=!q.detectDuplicates;B=!q.sortStable&&a.slice(0);a.sort(P);if(G){for(;b=a[d++];)b===a[d]&&(f=c.push(d));for(;f--;)a.splice(c[f],1)}B=null;return a};C=h.getText=function(a){var b,c="",f=0;b=a.nodeType;if(!b)for(;b=
a[f++];)c+=C(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=C(a)}else if(3===b||4===b)return a.nodeValue;return c};x=h.selectors={cacheLength:50,createPseudo:e,match:ja,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ma,na);a[3]=(a[3]||a[4]||a[5]||"").replace(ma,na);"~="===
a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||h.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&h.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(ja.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&ia.test(c)&&(b=A(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=
a.replace(ma,na).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=O[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&O(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==aa&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(f){f=h.attr(f,a);if(null==f)return"!="===b;if(!b)return!0;f+="";return"="===b?f===c:"!="===b?
f!==c:"^="===b?c&&0===f.indexOf(c):"*="===b?c&&-1<f.indexOf(c):"$="===b?c&&f.slice(-c.length)===c:"~="===b?-1<(" "+f+" ").indexOf(c):"|="===b?f===c||f.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,c,f,d){var e="nth"!==a.slice(0,3),q="last"!==a.slice(-4),m="of-type"===b;return 1===f&&0===d?function(a){return!!a.parentNode}:function(b,c,s){var k,l,t,n,p;c=e!==q?"nextSibling":"previousSibling";var z=b.parentNode,y=m&&b.nodeName.toLowerCase();s=!s&&!m;if(z){if(e){for(;c;){for(l=b;l=l[c];)if(m?l.nodeName.toLowerCase()===
y:1===l.nodeType)return!1;p=c="only"===a&&!p&&"nextSibling"}return!0}p=[q?z.firstChild:z.lastChild];if(q&&s)for(s=z[W]||(z[W]={}),k=s[a]||[],n=k[0]===U&&k[1],t=k[0]===U&&k[2],l=n&&z.childNodes[n];l=++n&&l&&l[c]||(t=n=0)||p.pop();){if(1===l.nodeType&&++t&&l===b){s[a]=[U,n,t];break}}else if(s&&(k=(b[W]||(b[W]={}))[a])&&k[0]===U)t=k[1];else for(;(l=++n&&l&&l[c]||(t=n=0)||p.pop())&&((m?l.nodeName.toLowerCase()!==y:1!==l.nodeType)||!++t||(s&&((l[W]||(l[W]={}))[a]=[U,t]),l!==b)););t-=d;return t===f||0===
t%f&&0<=t/f}}},PSEUDO:function(a,b){var c,f=x.pseudos[a]||x.setFilters[a.toLowerCase()]||h.error("unsupported pseudo: "+a);return f[W]?f(b):1<f.length?(c=[a,a,"",b],x.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),q=e.length;q--;)d=fa.call(a,e[q]),a[d]=!(c[d]=e[q])}):function(a){return f(a,0,c)}):f}},pseudos:{not:e(function(a){var b=[],c=[],f=H(a.replace(la,"$1"));return f[W]?e(function(a,b,c,d){d=f(a,null,d,[]);for(var e=a.length;e--;)if(c=d[e])a[e]=!(b[e]=c)}):function(a,
d,e){b[0]=a;f(b,null,e,c);return!c.pop()}}),has:e(function(a){return function(b){return 0<h(a,b).length}}),contains:e(function(a){a=a.replace(ma,na);return function(b){return-1<(b.textContent||b.innerText||C(b)).indexOf(a)}}),lang:e(function(a){J.test(a||"")||h.error("unsupported lang: "+a);a=a.replace(ma,na).toLowerCase();return function(b){var c;do if(c=Q?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);
return!1}}),target:function(a){var b=window.location&&window.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===K},focus:function(a){return a===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;
return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!x.pseudos.empty(a)},header:function(a){return ga.test(a.nodeName)},input:function(a){return S.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:k(function(){return[0]}),
last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:k(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=c(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=f(y);n.prototype=x.filters=
x.pseudos;x.setFilters=new n;A=h.tokenize=function(a,b){var c,f,d,e,q,m,s;if(q=F[a+" "])return b?0:q.slice(0);q=a;m=[];for(s=x.preFilter;q;){if(!c||(f=ka.exec(q)))f&&(q=q.slice(f[0].length)||q),m.push(d=[]);c=!1;if(f=oa.exec(q))c=f.shift(),d.push({value:c,type:f[0].replace(la," ")}),q=q.slice(c.length);for(e in x.filter)!(f=ja[e].exec(q))||s[e]&&!(f=s[e](f))||(c=f.shift(),d.push({value:c,type:e,matches:f}),q=q.slice(c.length));if(!c)break}return b?q.length:q?h.error(a):F(a,m).slice(0)};H=h.compile=
function(a,b){var c,f=[],d=[],e=I[a+" "];if(!e){b||(b=A(a));for(c=b.length;c--;)e=v(b[c]),e[W]?f.push(e):d.push(e);e=I(a,s(d,f));e.selector=a}return e};D=h.select=function(a,b,c,f){var d,e,m,s,k="function"===typeof a&&a,l=!f&&A(a=k.selector||a);c=c||[];if(1===l.length){e=l[0]=l[0].slice(0);if(2<e.length&&"ID"===(m=e[0]).type&&q.getById&&9===b.nodeType&&Q&&x.relative[e[1].type]){b=(x.find.ID(m.matches[0].replace(ma,na),b)||[])[0];if(!b)return c;k&&(b=b.parentNode);a=a.slice(e.shift().value.length)}for(d=
ja.needsContext.test(a)?0:e.length;d--;){m=e[d];if(x.relative[s=m.type])break;if(s=x.find[s])if(f=s(m.matches[0].replace(ma,na),sa.test(e[0].type)&&p(b.parentNode)||b)){e.splice(d,1);a=f.length&&r(e);if(!a)return ea.apply(c,f),c;break}}}(k||H(a,l))(f,b,!Q,c,sa.test(a)&&p(b.parentNode)||b);return c};q.sortStable=W.split("").sort(P).join("")===W;q.detectDuplicates=!!G;E();q.sortDetached=d(function(a){return a.compareDocumentPosition(R.createElement("div"))&1});d(function(a){a.innerHTML="<a href='#'></a>";
return"#"===a.firstChild.getAttribute("href")})||b("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});q.attributes&&d(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||b("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});d(function(a){return null==a.getAttribute("disabled")})||b("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(a,b,c){var f;if(!c)return!0===a[b]?b.toLowerCase():(f=a.getAttributeNode(b))&&f.specified?f.value:null});return h});u("tinymce.core.util.Arr",[],function(){function h(d,b,a){var c,f;if(!d)return 0;a=a||d;if(void 0!==d.length)for(c=0,f=d.length;c<f;c++){if(!1===b.call(a,d[c],c,d))return 0}else for(c in d)if(d.hasOwnProperty(c)&&!1===b.call(a,d[c],c,d))return 0;return 1}function g(d,b,a){var c,f;c=0;for(f=d.length;c<f;c++)if(b.call(a,d[c],c,d))return c;return-1}var e=Array.isArray||function(d){return"[object Array]"===
Object.prototype.toString.call(d)};return{isArray:e,toArray:function(d){var b=d,a,c;if(!e(d))for(b=[],a=0,c=d.length;a<c;a++)b[a]=d[a];return b},each:h,map:function(d,b){var a=[];h(d,function(c,f){a.push(b(c,f,d))});return a},filter:function(d,b){var a=[];h(d,function(c,f){b&&!b(c,f,d)||a.push(c)});return a},indexOf:function(d,b){var a,c;if(d)for(a=0,c=d.length;a<c;a++)if(d[a]===b)return a;return-1},reduce:function(d,b,a,c){var f=0;for(3>arguments.length&&(a=d[0]);f<d.length;f++)a=b.call(c,a,d[f],
f);return a},findIndex:g,find:function(d,b,a){b=g(d,b,a);if(-1!==b)return d[b]},last:function(d){return d[d.length-1]}}});u("tinymce.core.util.Tools",["tinymce.core.Env","tinymce.core.util.Arr"],function(h,g){function e(b){return null===b||void 0===b?"":(""+b).replace(a,"")}function d(a,b){return b?"array"==b&&g.isArray(a)?!0:typeof a==b:void 0!==a}function b(a,f,d,e){e=e||this;a&&(d&&(a=a[d]),g.each(a,function(a,c){if(!1===f.call(e,a,c,d))return!1;b(a,f,d,e)}))}var a=/^\s*|\s*$/g;return{trim:e,isArray:g.isArray,
is:d,toArray:g.toArray,makeMap:function(a,b,d){a=a||[];"string"==typeof a&&(a=a.split(b||","));d=d||{};for(b=a.length;b--;)d[a[b]]={};return d},each:g.each,map:g.map,grep:g.filter,inArray:g.indexOf,hasOwn:function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},extend:function(a,b){var d,e,n,g=arguments,l;d=1;for(e=g.length;d<e;d++)for(n in b=g[d],b)b.hasOwnProperty(n)&&(l=b[n],void 0!==l&&(a[n]=l));return a},create:function(a,b,d){var e,n,g,l,m,t=0;a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a);
g=a[3].match(/(^|\.)(\w+)$/i)[2];n=this.createNS(a[3].replace(/\.\w+$/,""),d);if(!n[g])if("static"==a[2]){if(n[g]=b,this.onCreate)this.onCreate(a[2],a[3],n[g])}else b[g]||(b[g]=function(){},t=1),n[g]=b[g],this.extend(n[g].prototype,b),a[5]&&(e=this.resolve(a[5]).prototype,l=a[5].match(/\.(\w+)$/i)[1],m=n[g],n[g]=t?function(){return e[l].apply(this,arguments)}:function(){this.parent=e[l];return m.apply(this,arguments)},n[g].prototype[g]=n[g],this.each(e,function(a,b){n[g].prototype[b]=e[b]}),this.each(b,
function(a,b){e[b]?n[g].prototype[b]=function(){this.parent=e[b];return a.apply(this,arguments)}:b!=g&&(n[g].prototype[b]=a)})),this.each(b["static"],function(a,b){n[g][b]=a})},walk:b,createNS:function(a,b){var d,e;b=b||window;a=a.split(".");for(d=0;d<a.length;d++)e=a[d],b[e]||(b[e]={}),b=b[e];return b},resolve:function(a,b){var d,e;b=b||window;a=a.split(".");d=0;for(e=a.length;d<e&&(b=b[a[d]],b);d++);return b},explode:function(a,b){return!a||d(a,"array")?a:g.map(a.split(b||","),e)},_addCacheSuffix:function(a){var b=
h.cacheSuffix;b&&(a+=(-1===a.indexOf("?")?"?":"&")+b);return a}}});u("tinymce.core.dom.DomQuery",["tinymce.core.dom.EventUtils","tinymce.core.dom.Sizzle","tinymce.core.util.Tools","tinymce.core.Env"],function(h,g,e,d){function b(a){return"undefined"!==typeof a}function a(a,b){var c,f,d;b=b||s;d=b.createElement("div");c=b.createDocumentFragment();for(d.innerHTML=a;f=d.firstChild;)c.appendChild(f);return c}function c(b,f,d,e){var q;if("string"===typeof f)f=a(f,l(b[0]));else if(f.length&&!f.nodeType){f=
k.makeArray(f);if(e)for(q=f.length-1;0<=q;q--)c(b,f[q],d,e);else for(q=0;q<f.length;q++)c(b,f[q],d,e);return b}if(f.nodeType)for(q=b.length;q--;)d.call(b[q],f);return b}function f(a,b,c){var f,d;b=k(b)[0];a.each(function(){c&&f==this.parentNode||(f=this.parentNode,d=b.cloneNode(!1),this.parentNode.insertBefore(d,this));d.appendChild(this)});return a}function k(a,b){return new k.fn.init(a,b)}function p(a){return null===a||a===z?"":(""+a).replace(R,"")}function n(a,b){var c,f,d;if(a)if(c=a.length,void 0===
c)for(f in a){if(a.hasOwnProperty(f)&&(d=a[f],!1===b.call(d,f,d)))break}else for(f=0;f<c&&(d=a[f],!1!==b.call(d,f,d));f++);return a}function r(a,b){var c=[];n(a,function(a,f){b(f,a)&&c.push(f)});return c}function l(a){return a?9==a.nodeType?a:a.ownerDocument:s}function m(a,b,c){var f=[];a=a[b];for("string"!=typeof c&&c instanceof k&&(c=c[0]);a&&9!==a.nodeType;){if(void 0!==c){if(a===c)break;if("string"==typeof c&&k(a).is(c))break}1===a.nodeType&&f.push(a);a=a[b]}return f}function t(a,b,c,f){var d=
[];for(f instanceof k&&(f=f[0]);a;a=a[b])if(!c||a.nodeType===c){if(void 0!==f){if(a===f)break;if("string"==typeof f&&k(a).is(f))break}d.push(a)}return d}function w(a,b,c){for(a=a[b];a;a=a[b])if(a.nodeType==c)return a;return null}function v(a,b,c){n(c,function(c,f){a[c]=a[c]||{};a[c][b]=f})}var s=document,y=Array.prototype.push,q=Array.prototype.slice,x=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,C=h.Event,z,A=e.makeMap("children,contents,next,prev"),H=e.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom",
" "),D=e.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),L={"for":"htmlFor","class":"className",readonly:"readOnly"},B={"float":"cssFloat"},G={},E={},R=/^\s*|\s*$/g;k.fn=k.prototype={constructor:k,selector:"",context:null,length:0,init:function(b,c){var f,d;if(!b)return this;if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if(c&&c.nodeType)this.context=c;else{if(c)return k(b).attr(c);this.context=c=document}if("string"===typeof b)if(this.selector=
b,f="<"===b.charAt(0)&&">"===b.charAt(b.length-1)&&3<=b.length?[null,b,null]:x.exec(b))if(f[1])for(d=a(b,l(c)).firstChild;d;)y.call(this,d),d=d.nextSibling;else{d=l(c).getElementById(f[2]);if(!d)return this;if(d.id!==f[2])return this.find(b);this.length=1;this[0]=d}else return k(c).find(b);else this.add(b,!1);return this},toArray:function(){return e.toArray(this)},add:function(a,b){var c,f;if("string"===typeof a)return this.add(k(a));if(!1!==b)for(c=k.unique(this.toArray().concat(k.makeArray(a))),
this.length=c.length,f=0;f<c.length;f++)this[f]=c[f];else y.apply(this,k.makeArray(a));return this},attr:function(a,c){var f=this,d;if("object"===typeof a)n(a,function(a,b){f.attr(a,b)});else if(b(c))this.each(function(){var b;1===this.nodeType&&((b=G[a])&&b.set?b.set(this,c):null===c?this.removeAttribute(a,2):this.setAttribute(a,c,2))});else{if(f[0]&&1===f[0].nodeType){if((d=G[a])&&d.get)return d.get(f[0],a);if(D[a])return f.prop(a)?a:z;c=f[0].getAttribute(a,2);null===c&&(c=z)}return c}return f},
removeAttr:function(a){return this.attr(a,null)},prop:function(a,c){var f=this;a=L[a]||a;if("object"===typeof a)n(a,function(a,b){f.prop(a,b)});else if(b(c))this.each(function(){1==this.nodeType&&(this[a]=c)});else return f[0]&&f[0].nodeType&&a in f[0]?f[0][a]:c;return f},css:function(a,c){function f(a){return a.replace(/-(\D)/g,function(a,b){return b.toUpperCase()})}function d(a){return a.replace(/[A-Z]/g,function(a){return"-"+a})}var e=this,q,m;if("object"===typeof a)n(a,function(a,b){e.css(a,b)});
else if(b(c))a=f(a),"number"!==typeof c||H[a]||(c+="px"),e.each(function(){var b=this.style;if((m=E[a])&&m.set)m.set(this,c);else{try{this.style[B[a]||a]=c}catch(f){}if(null===c||""===c)b.removeProperty?b.removeProperty(d(a)):b.removeAttribute(a)}});else{q=e[0];if((m=E[a])&&m.get)return m.get(q);if(q.ownerDocument.defaultView)try{return q.ownerDocument.defaultView.getComputedStyle(q,null).getPropertyValue(d(a))}catch(s){return z}else if(q.currentStyle)return q.currentStyle[f(a)]}return e},remove:function(){for(var a,
b=this.length;b--;)a=this[b],C.clean(a),a.parentNode&&a.parentNode.removeChild(a);return this},empty:function(){for(var a,b=this.length;b--;)for(a=this[b];a.firstChild;)a.removeChild(a.firstChild);return this},html:function(a){var c;if(b(a)){c=this.length;try{for(;c--;)this[c].innerHTML=a}catch(f){k(this[c]).empty().append(a)}return this}return this[0]?this[0].innerHTML:""},text:function(a){var c;if(b(a)){for(c=this.length;c--;)"innerText"in this[c]?this[c].innerText=a:this[0].textContent=a;return this}return this[0]?
this[0].innerText||this[0].textContent:""},append:function(){return c(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(a)})},prepend:function(){return c(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(a,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?c(this,arguments,function(a){this.parentNode.insertBefore(a,this)}):this},after:function(){return this[0]&&this[0].parentNode?
c(this,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)},!0):this},appendTo:function(a){k(a).append(this);return this},prependTo:function(a){k(a).prepend(this);return this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return f(this,a)},wrapAll:function(a){return f(this,a,!0)},wrapInner:function(a){this.each(function(){k(this).contents().wrapAll(a)});return this},unwrap:function(){return this.parent().each(function(){k(this).replaceWith(this.childNodes)})},
clone:function(){var a=[];this.each(function(){a.push(this.cloneNode(!0))});return k(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(a,b){var c=this;if("string"!=typeof a)return c;-1!==a.indexOf(" ")?n(a.split(" "),function(){c.toggleClass(this,b)}):c.each(function(c,f){var d,e;e=f&&a&&-1!==(" "+f.className+" ").indexOf(" "+a+" ");e!==b&&(d=f.className,f.className=e?p((" "+d+" ").replace(" "+a+" "," ")):f.className+
(d?" "+a:a))});return c},hasClass:function(a){return this[0]&&a&&-1!==(" "+this[0].className+" ").indexOf(" "+a+" ")},each:function(a){return n(this,a)},on:function(a,b){return this.each(function(){C.bind(this,a,b)})},off:function(a,b){return this.each(function(){C.unbind(this,a,b)})},trigger:function(a){return this.each(function(){"object"==typeof a?C.fire(this,a.type,a):C.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new k(q.apply(this,
arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(a){var b,c,f=[];b=0;for(c=this.length;b<c;b++)k.find(a,this[b],f);return k(f)},filter:function(a){return"function"==typeof a?k(r(this.toArray(),function(b,c){return a(c,b)})):k(k.filter(a,this.toArray()))},closest:function(a){var b=[];a instanceof k&&(a=a[0]);this.each(function(c,f){for(;f;){if("string"==typeof a&&k(f).is(a)){b.push(f);break}else if(f==
a){b.push(f);break}f=f.parentNode}});return k(b)},offset:function(a){var b,c,f=0,d=0;if(!a){if(b=this[0])a=b.ownerDocument,c=a.documentElement,b.getBoundingClientRect&&(d=b.getBoundingClientRect(),f=d.left+(c.scrollLeft||a.body.scrollLeft)-c.clientLeft,d=d.top+(c.scrollTop||a.body.scrollTop)-c.clientTop);return{left:f,top:d}}return this.css(a)},push:y,sort:[].sort,splice:[].splice};e.extend(k,{extend:e.extend,makeArray:function(a){return a&&a==a.window||a.nodeType?[a]:e.toArray(a)},inArray:function(a,
b){var c;if(b.indexOf)return b.indexOf(a);for(c=b.length;c--;)if(b[c]===a)return c;return-1},isArray:e.isArray,each:n,trim:p,grep:r,find:g,expr:g.selectors,unique:g.uniqueSort,text:g.getText,contains:g.contains,filter:function(a,b,c){var f=b.length;for(c&&(a=":not("+a+")");f--;)1!=b[f].nodeType&&b.splice(f,1);return b=1===b.length?k.find.matchesSelector(b[0],a)?[b[0]]:[]:k.find.matches(a,b)}});n({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return m(a,"parentNode")},
next:function(a){return w(a,"nextSibling",1)},prev:function(a){return w(a,"previousSibling",1)},children:function(a){return t(a.firstChild,"nextSibling",1)},contents:function(a){return e.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(a,b){k.fn[a]=function(c){var f=[];this.each(function(){var a=b.call(f,this,c,f);a&&(k.isArray(a)?f.push.apply(f,a):f.push(a))});1<this.length&&(A[a]||(f=k.unique(f)),0===a.indexOf("parents")&&(f=f.reverse()));f=k(f);
return c?f.filter(c):f}});n({parentsUntil:function(a,b){return m(a,"parentNode",b)},nextUntil:function(a,b){return t(a,"nextSibling",1,b).slice(1)},prevUntil:function(a,b){return t(a,"previousSibling",1,b).slice(1)}},function(a,b){k.fn[a]=function(c,f){var d=[];this.each(function(){var a=b.call(d,this,c,d);a&&(k.isArray(a)?d.push.apply(d,a):d.push(a))});1<this.length&&(d=k.unique(d),0===a.indexOf("parents")||"prevUntil"===a)&&(d=d.reverse());d=k(d);return f?d.filter(f):d}});k.fn.is=function(a){return!!a&&
0<this.filter(a).length};k.fn.init.prototype=k.fn;k.overrideDefaults=function(a){function b(f,d){c=c||a();0===arguments.length&&(f=c.element);d||(d=c.context);return new b.fn.init(f,d)}var c;k.extend(b,this);return b};d.ie&&8>d.ie&&(v(G,"get",{maxlength:function(a){a=a.maxLength;return 2147483647===a?z:a},size:function(a){a=a.size;return 20===a?z:a},"class":function(a){return a.className},style:function(a){a=a.style.cssText;return 0===a.length?z:a}}),v(G,"set",{"class":function(a,b){a.className=b},
style:function(a,b){a.style.cssText=b}}));d.ie&&9>d.ie&&(B["float"]="styleFloat",v(E,"set",{opacity:function(a,b){var c=a.style;null===b||""===b?c.removeAttribute("filter"):(c.zoom=1,c.filter="alpha(opacity="+100*b+")")}}));k.attrHooks=G;k.cssHooks=E;return k});u("tinymce.core.html.Styles",[],function(){return function(h,g){function e(a,b,c,f){function d(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+d(b)+d(c)+d(f)}var d=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,
b=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,f,k={},p,n,r;h=h||{};g&&(n=g.getValidStyles(),r=g.getInvalidStyles());p="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(f=0;f<p.length;f++)k[p[f]]="\ufeff"+f,k["\ufeff"+f]=p[f];return{toHex:function(a){return a.replace(d,e)},parse:function(l){function m(a,b,c){var d,e,q,m;if(d=x[a+"-top"+b])if(e=x[a+"-right"+b])if(q=x[a+"-bottom"+b])if(m=
x[a+"-left"+b]){d=[d,e,q,m];for(f=d.length-1;f--&&d[f]===d[f+1];);-1<f&&c||(x[a+b]=-1==f?d[0]:d.join(" "),delete x[a+"-top"+b],delete x[a+"-right"+b],delete x[a+"-bottom"+b],delete x[a+"-left"+b])}}function t(a){var b=x[a],c;if(b){b=b.split(" ");for(c=b.length;c--;)if(b[c]!==b[0])return!1;x[a]=b[0];return!0}}function n(a,b,c,f){t(b)&&t(c)&&t(f)&&(x[a]=x[b]+" "+x[c]+" "+x[f],delete x[b],delete x[c],delete x[f])}function g(a){A=!0;return k[a]}function s(a,b){A&&(a=a.replace(/\uFEFF[0-9]/g,function(a){return k[a]}));
b||(a=a.replace(/\\([\'\";:])/g,"$1"));return a}function p(a){return String.fromCharCode(parseInt(a.slice(1),16))}function q(a,b,c,f,d,e){if(d=d||e)return d=s(d),"'"+d.replace(/\'/g,"\\'")+"'";b=s(b||c||f);if(!h.allow_script_urls&&(a=b.replace(/[\s\r\n]+/g,""),/(java|vb)script:/i.test(a)||!h.allow_svg_data_urls&&/^data:image\/svg/i.test(a)))return"";H&&(b=H.call(D,b,"style"));return"url('"+b.replace(/\'/g,"\\'")+"')"}var x={},r,z,A,H=h.url_converter,D=h.url_converter_scope||this;if(l){l=l.replace(/[\u0000-\u001F]/g,
"");for(l=l.replace(/\\[\"\';:\uFEFF]/g,g).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,g)});r=a.exec(l);)if(a.lastIndex=r.index+r[0].length,z=r[1].replace(c,"").toLowerCase(),r=r[2].replace(c,""),z&&r&&(z=z.replace(/\\[0-9a-f]+/gi,p),r=r.replace(/\\[0-9a-f]+/gi,p),-1===z.indexOf("\ufeff")&&-1===z.indexOf('"')&&(h.allow_script_urls||"behavior"!=z&&!/expression\s*\(|\/\*|\*\//.test(r)))){if("font-weight"===z&&"700"===r)r="bold";else if("color"===z||"background-color"===z)r=
r.toLowerCase();r=r.replace(d,e);r=r.replace(b,q);x[z]=A?s(r,!0):r}m("border","",!0);m("border","-width");m("border","-color");m("border","-style");m("padding","");m("margin","");n("border","border-width","border-style","border-color");"medium none"===x.border&&delete x.border;"none"===x["border-image"]&&delete x["border-image"]}return x},serialize:function(a,b){function c(b){var f,e,m,s;if(f=n[b])for(e=0,m=f.length;e<m;e++)b=f[e],(s=a[b])&&(d+=(0<d.length?" ":"")+b+": "+s+";")}function f(a,b){var c;
return(c=r["*"])&&c[a]?!1:(c=r[b])&&c[a]?!1:!0}var d="",e,k;if(b&&n)c("*"),c(b);else for(e in a)k=a[e],!k||r&&!f(e,b)||(d+=(0<d.length?" ":"")+e+": "+k+";");return d}}}});u("tinymce.core.dom.TreeWalker",[],function(){return function(h,g){function e(b,a,c,f){if(b){if(!f&&b[a])return b[a];if(b!=g){if(a=b[c])return a;for(b=b.parentNode;b&&b!=g;b=b.parentNode)if(a=b[c])return a}}}var d=h;this.current=function(){return d};this.next=function(b){return d=e(d,"firstChild","nextSibling",b)};this.prev=function(b){return d=
e(d,"lastChild","previousSibling",b)};this.prev2=function(b){a:{var a;if(d){a=d.previousSibling;if(g&&a===g){d=void 0;break a}if(a){if(!b)for(b=a.lastChild;b;b=b.lastChild)if(!b.lastChild){d=b;break a}d=a;break a}if((a=d.parentNode)&&a!==g){d=a;break a}}d=void 0}return d}}});u("tinymce.core.html.Entities",["tinymce.core.util.Tools"],function(h){function g(a,c){var f,d,e,s={};if(a){a=a.split(",");c=c||10;for(f=0;f<a.length;f+=2)d=String.fromCharCode(parseInt(a[f],c)),b[d]||(e="&"+a[f+1]+";",s[d]=e,
s[e]=d);return s}}var e=h.makeMap,d,b,a,c=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k=/[<>&\"\']/g,p=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,n={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",
153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};b={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"};a={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};d=g("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);var r={encodeRaw:function(a,d){return a.replace(d?c:f,function(a){return b[a]||a})},encodeAllRaw:function(a){return(""+a).replace(k,function(a){return b[a]||a})},encodeNumeric:function(a,d){return a.replace(d?c:f,function(a){return 1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":b[a]||"&#"+a.charCodeAt(0)+";"})},encodeNamed:function(a,e,k){k=k||d;return a.replace(e?c:f,function(a){return b[a]||k[a]||a})},getEncodeFunc:function(a,m){function k(a,d){return a.replace(d?
c:f,function(a){return void 0!==b[a]?b[a]:void 0!==m[a]?m[a]:1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":"&#"+a.charCodeAt(0)+";"})}function n(a,b){return r.encodeNamed(a,b,m)}m=g(m)||d;a=e(a.replace(/\+/g,","));return a.named&&a.numeric?k:a.named?m?n:r.encodeNamed:a.numeric?r.encodeNumeric:r.encodeRaw},decode:function(b){return b.replace(p,function(b,c){if(c)return c="x"===c.charAt(0).toLowerCase()?parseInt(c.substr(1),16):parseInt(c,10),65535<c?(c-=65536,String.fromCharCode(55296+
(c>>10),56320+(c&1023))):n[c]||String.fromCharCode(c);var f;(f=a[b])||(f=d[b])||(f=document.createElement("div"),f.innerHTML=b,f=f.textContent||f.innerText||b);return f})}};return r});u("tinymce.core.dom.Range",["tinymce.core.util.Tools"],function(h){function g(e){function d(a,b){n(C,a,b)}function b(a,b){n(z,a,b)}function a(a){d(a.parentNode,G(a))}function c(a){b(a.parentNode,G(a)+1)}function f(){return r(q)}function k(a,b){var c;if(3==a.nodeType||0>b)return a;for(c=a.firstChild;c&&0<b;)--b,c=c.nextSibling;
return c?c:a}function p(a,b,c,f){var d,q;if(a==c)return b==f?0:b<f?-1:1;for(d=c;d&&d.parentNode!=a;)d=d.parentNode;if(d){q=0;for(c=a.firstChild;c!=d&&q<b;)q++,c=c.nextSibling;return b<=q?-1:1}for(d=a;d&&d.parentNode!=c;)d=d.parentNode;if(d){q=0;for(c=c.firstChild;c!=d&&q<f;)q++,c=c.nextSibling;return q<f?-1:1}for(b=e.findCommonAncestor(a,c);a&&a.parentNode!=b;)a=a.parentNode;a||(a=b);for(f=c;f&&f.parentNode!=b;)f=f.parentNode;f||(f=b);if(a==f)return 0;for(c=b.firstChild;c;){if(c==a)return-1;if(c==
f)return 1;c=c.nextSibling}}function n(a,b,c){a?(s[H]=b,s[A]=c):(s[D]=b,s[L]=c);for(b=s[D];b.parentNode;)b=b.parentNode;for(c=s[H];c.parentNode;)c=c.parentNode;c==b?0<p(s[H],s[A],s[D],s[L])&&s.collapse(a):s.collapse(a);s.collapsed=s[H]==s[D]&&s[A]==s[L];s.commonAncestorContainer=e.findCommonAncestor(s[H],s[D])}function r(a){var b,c=0,f=0,d;if(s[H]==s[D])return l(a);b=s[D];for(d=b.parentNode;d;b=d,d=d.parentNode){if(d==s[H]){var e=b;d=f=c=c=d=b=void 0;a!=x&&(b=y.createDocumentFragment());d=m(e,a);
b&&b.appendChild(d);c=G(e);c-=s[A];if(!(0>=c))for(d=e.previousSibling;0<c;)f=d.previousSibling,d=v(d,a),b&&b.insertBefore(d,b.firstChild),--c,d=f;a!=q&&(s.setEndBefore(e),s.collapse(z));a=b;return a}++c}b=s[H];for(d=b.parentNode;d;b=d,d=d.parentNode){if(d==s[D]){e=b;d=f=c=d=c=b=void 0;a!=x&&(b=y.createDocumentFragment());d=t(e,a);b&&b.appendChild(d);c=G(e);++c;c=s[L]-c;for(d=e.nextSibling;d&&0<c;)f=d.nextSibling,d=v(d,a),b&&b.appendChild(d),--c,d=f;a!=q&&(s.setStartAfter(e),s.collapse(C));return b}++f}f-=
c;for(b=s[H];0<f;)b=b.parentNode,f--;for(c=s[D];0>f;)c=c.parentNode,f++;f=b.parentNode;for(d=c.parentNode;f!=d;f=f.parentNode,d=d.parentNode)b=f,c=d;var k;a!=x&&(e=y.createDocumentFragment());k=t(b,a);e&&e.appendChild(k);f=G(b);d=G(c);++f;f=d-f;for(k=b.nextSibling;0<f;)d=k.nextSibling,k=v(k,a),e&&e.appendChild(k),k=d,--f;k=m(c,a);e&&e.appendChild(k);a!=q&&(s.setStartAfter(b),s.collapse(C));return e}function l(a){var b,c,f,d,e;a!=x&&(b=y.createDocumentFragment());if(s[A]==s[L])return b;if(3==s[H].nodeType){c=
s[H].nodeValue;f=c.substring(s[A],s[L]);a!=q&&(c=s[H],d=s[A],e=s[L]-s[A],0===d&&e>=c.nodeValue.length-1?c.parentNode.removeChild(c):c.deleteData(d,e),s.collapse(C));if(a==x)return;0<f.length&&b.appendChild(y.createTextNode(f));return b}c=k(s[H],s[A]);for(f=s[L]-s[A];c&&0<f;)d=c.nextSibling,c=v(c,a),b&&b.appendChild(c),--f,c=d;a!=q&&s.collapse(C);return b}function m(a,b){var c=k(s[D],s[L]-1),f,d,e,q=c!=s[D];if(c==a)return w(c,q,z,b);f=c.parentNode;for(d=w(f,z,z,b);f;){for(;c;)e=c.previousSibling,c=
w(c,q,z,b),b!=x&&d.insertBefore(c,d.firstChild),q=C,c=e;if(f==a)return d;c=f.previousSibling;f=f.parentNode;e=w(f,z,z,b);b!=x&&e.appendChild(d);d=e}}function t(a,b){var c=k(s[H],s[A]),f=c!=s[H],d,e,q;if(c==a)return w(c,f,C,b);d=c.parentNode;for(e=w(d,z,C,b);d;){for(;c;)q=c.nextSibling,c=w(c,f,C,b),b!=x&&e.appendChild(c),f=C,c=q;if(d==a)return e;c=d.nextSibling;d=d.parentNode;q=w(d,z,C,b);b!=x&&q.appendChild(e);e=q}}function w(a,b,c,f){var d;if(b)return v(a,f);if(3==a.nodeType){b=a.nodeValue;c?(d=
s[A],c=b.substring(d),b=b.substring(0,d)):(d=s[L],c=b.substring(0,d),b=b.substring(d));f!=q&&(a.nodeValue=b);if(f==x)return;a=e.clone(a,z);a.nodeValue=c;return a}if(f!=x)return e.clone(a,z)}function v(a,b){if(b!=x)return b==q?e.clone(a,C):a;a.parentNode.removeChild(a)}var s=this,y=e.doc,q=1,x=2,C=!0,z=!1,A="startOffset",H="startContainer",D="endContainer",L="endOffset",B=h.extend,G=e.nodeIndex;B(s,{startContainer:y,startOffset:0,endContainer:y,endOffset:0,collapsed:C,commonAncestorContainer:y,START_TO_START:0,
START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:d,setEnd:b,setStartBefore:a,setStartAfter:function(a){d(a.parentNode,G(a)+1)},setEndBefore:function(a){b(a.parentNode,G(a))},setEndAfter:c,collapse:function(a){a?(s[D]=s[H],s[L]=s[A]):(s[H]=s[D],s[A]=s[L]);s.collapsed=C},selectNode:function(b){a(b);c(b)},selectNodeContents:function(a){d(a,0);b(a,1===a.nodeType?a.childNodes.length:a.nodeValue.length)},compareBoundaryPoints:function(a,b){var c=s[H],f=s[A],d=s[D],e=s[L],q=b.startContainer,m=b.startOffset,
k=b.endContainer,l=b.endOffset;if(0===a)return p(c,f,q,m);if(1===a)return p(d,e,q,m);if(2===a)return p(d,e,k,l);if(3===a)return p(c,f,k,l)},deleteContents:function(){r(x)},extractContents:function(){return r(0)},cloneContents:f,insertNode:function(a){var b=this[H],c=this[A],f;3!==b.nodeType&&4!==b.nodeType||!b.nodeValue?(0<b.childNodes.length&&(f=b.childNodes[c]),f?b.insertBefore(a,f):3==b.nodeType?e.insertAfter(a,b):b.appendChild(a)):c?c>=b.nodeValue.length?e.insertAfter(a,b):(c=b.splitText(c),b.parentNode.insertBefore(a,
c)):b.parentNode.insertBefore(a,b)},surroundContents:function(a){var b=s.extractContents();s.insertNode(a);a.appendChild(b);s.selectNode(a)},cloneRange:function(){return B(new g(e),{startContainer:s[H],startOffset:s[A],endContainer:s[D],endOffset:s[L],collapsed:s.collapsed,commonAncestorContainer:s.commonAncestorContainer})},toStringIE:function(){return e.create("body",null,f()).outerText}});return s}g.prototype.toString=function(){return this.toStringIE()};return g});ga("global!Array",Array);ga("global!Error",
Error);u("ephox.katamari.api.Fun",["global!Array","global!Error"],function(h,g){var e=function(a){return function(){return a}},d=e(!1),b=e(!0);return{noop:function(){},compose:function(a,b){return function(){return a(b.apply(null,arguments))}},constant:e,identity:function(a){return a},tripleEquals:function(a,b){return a===b},curry:function(a){for(var b=new h(arguments.length-1),f=1;f<arguments.length;f++)b[f-1]=arguments[f];return function(){for(var f=new h(arguments.length),d=0;d<f.length;d++)f[d]=
arguments[d];f=b.concat(f);return a.apply(null,f)}},not:function(a){return function(){return!a.apply(null,arguments)}},die:function(a){return function(){throw new g(a);}},apply:function(a){return a()},call:function(a){a()},never:d,always:b}});ga("global!Object",Object);u("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(h,g){var e=h.never,d=h.always,b=function(){return a},a=function(){var a=function(a){return a.isNone()},c=function(a){return a()},p=function(a){return a},
a={fold:function(a,b){return a()},is:e,isSome:e,isNone:d,getOr:p,getOrThunk:c,getOrDie:function(a){throw Error(a||"error: getOrDie called on none.");},or:p,orThunk:c,map:b,ap:b,each:function(){},bind:b,flatten:b,exists:e,forall:d,filter:b,equals:a,equals_:a,toArray:function(){return[]},toString:h.constant("none()")};g.freeze&&g.freeze(a);return a}(),c=function(f){var k=function(){return f},g=function(){return r},n=function(a){return a(f)},r={fold:function(a,b){return b(f)},is:function(a){return f===
a},isSome:d,isNone:e,getOr:k,getOrThunk:k,getOrDie:k,or:g,orThunk:g,map:function(a){return c(a(f))},ap:function(a){return a.fold(b,function(a){return c(a(f))})},each:function(a){a(f)},bind:n,flatten:k,exists:n,forall:n,filter:function(b){return b(f)?r:a},equals:function(a){return a.is(f)},equals_:function(a,b){return a.fold(e,function(a){return b(f,a)})},toArray:function(){return[f]},toString:function(){return"some("+f+")"}};return r};return{some:c,none:b,from:function(b){return null===b||void 0===
b?a:c(b)}}});ga("global!String",String);u("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(h,g,e,d){var b=function(){var a=g.prototype.indexOf,b=function(b,c){return a.call(b,c)},c=function(a,b){var c;a:{c=0;for(var f=a.length;c<f;++c)if(a[c]===b)break a;c=-1}return c};return void 0===a?c:b}(),a=function(a,c){return-1<b(a,c)},c=function(a,b){for(var c=a.length,f=new g(c),d=0;d<c;d++)f[d]=b(a[d],d,a);return f},f=function(a,b){for(var c=0,
f=a.length;c<f;c++)b(a[c],c,a)},k=function(a,b){for(var c=a.length-1;0<=c;c--)b(a[c],c,a)},p=function(a,b){for(var c=[],f=0,d=a.length;f<d;f++){var e=a[f];b(e,f,a)&&c.push(e)}return c},n=function(a,b){for(var c=0,f=a.length;c<f;c++)if(b(a[c],c,a))return h.some(c);return h.none()},r=g.prototype.push,l=function(a){for(var b=[],c=0,f=a.length;c<f;++c){if(!g.prototype.isPrototypeOf(a[c]))throw new e("Arr.flatten item "+c+" was not an array, input: "+a);r.apply(b,a[c])}return b},m=function(a,b){for(var c=
0,f=a.length;c<f;++c)if(!0!==b(a[c],c,a))return!1;return!0},t=g.prototype.slice;return{map:c,each:f,eachr:k,partition:function(a,b){for(var c=[],f=[],d=0,e=a.length;d<e;d++){var m=a[d];(b(m,d,a)?c:f).push(m)}return{pass:c,fail:f}},filter:p,groupBy:function(a,b){if(0===a.length)return[];for(var c=b(a[0]),f=[],d=[],e=0,m=a.length;e<m;e++){var k=a[e],l=b(k);l!==c&&(f.push(d),d=[]);c=l;d.push(k)}0!==d.length&&f.push(d);return f},indexOf:function(a,c){var f=b(a,c);return-1===f?h.none():h.some(f)},foldr:function(a,
b,c){k(a,function(a){c=b(c,a)});return c},foldl:function(a,b,c){f(a,function(a){c=b(c,a)});return c},find:function(a,b){for(var c=0,f=a.length;c<f;c++){var d=a[c];if(b(d,c,a))return h.some(d)}return h.none()},findIndex:n,flatten:l,bind:function(a,b){var f=c(a,b);return l(f)},forall:m,exists:function(a,b){return n(a,b).isSome()},contains:a,equal:function(a,b){return a.length===b.length&&m(a,function(a,c){return a===b[c]})},reverse:function(a){a=t.call(a,0);a.reverse();return a},chunk:function(a,b){for(var c=
[],f=0;f<a.length;f+=b){var d=a.slice(f,f+b);c.push(d)}return c},difference:function(b,c){return p(b,function(b){return!a(c,b)})},mapToObject:function(a,b){for(var c={},f=0,e=a.length;f<e;f++){var m=a[f];c[d(m)]=b(m,f)}return c},pure:function(a){return[a]},sort:function(a,b){var c=t.call(a,0);c.sort(b);return c},range:function(a,b){for(var c=[],f=0;f<a;f++)c.push(b(f));return c}}});ga("global!setTimeout",setTimeout);u("ephox.katamari.api.LazyValue",["ephox.katamari.api.Arr","ephox.katamari.api.Option",
"global!setTimeout"],function(h,g,e){var d=function(b){var a=g.none(),c=[],f=function(a){k()?p(a):c.push(a)},k=function(){return a.isSome()},p=function(b){a.each(function(a){e(function(){b(a)},0)})};b(function(b){a=g.some(b);h.each(c,p);c=[]});return{get:f,map:function(a){return d(function(b){f(function(c){b(a(c))})})},isReady:k}};return{nu:d,pure:function(b){return d(function(a){a(b)})}}});u("ephox.katamari.async.Bounce",["global!Array","global!setTimeout"],function(h,g){return{bounce:function(e){return function(){var d=
h.prototype.slice.call(arguments),b=this;g(function(){e.apply(b,d)},0)}}}});u("ephox.katamari.api.Future",["ephox.katamari.api.LazyValue","ephox.katamari.async.Bounce"],function(h,g){var e=function(d){var b=function(a){d(g.bounce(a))};return{map:function(a){return e(function(c){b(function(b){b=a(b);c(b)})})},bind:function(a){return e(function(c){b(function(b){a(b).get(c)})})},anonBind:function(a){return e(function(c){b(function(b){a.get(c)})})},toLazy:function(){return h.nu(b)},get:b}};return{nu:e,
pure:function(d){return e(function(b){b(d)})}}});u("ephox.katamari.async.AsyncValues",["ephox.katamari.api.Arr"],function(h){return{par:function(g,e){return e(function(d){var b=[],a=0,c=function(c){return function(e){b[c]=e;a++;a>=g.length&&d(b)}};0===g.length?d([]):h.each(g,function(a,b){a.get(c(b))})})}}});u("ephox.katamari.api.Futures",["ephox.katamari.api.Arr","ephox.katamari.api.Future","ephox.katamari.async.AsyncValues"],function(h,g,e){var d=function(b){return e.par(b,g.nu)};return{par:d,mapM:function(b,
a){var c=h.map(b,a);return d(c)},compose:function(b,a){return function(c){return a(c).bind(b)}}}});u("ephox.katamari.api.Result",["ephox.katamari.api.Fun","ephox.katamari.api.Option"],function(h,g){var e=function(b){return{is:function(a){return b===a},isValue:h.constant(!0),isError:h.constant(!1),getOr:h.constant(b),getOrThunk:h.constant(b),getOrDie:h.constant(b),or:function(a){return e(b)},orThunk:function(a){return e(b)},fold:function(a,c){return c(b)},map:function(a){return e(a(b))},each:function(a){a(b)},
bind:function(a){return a(b)},exists:function(a){return a(b)},forall:function(a){return a(b)},toOption:function(){return g.some(b)}}},d=function(b){return{is:h.constant(!1),isValue:h.constant(!1),isError:h.constant(!0),getOr:h.identity,getOrThunk:function(a){return a()},getOrDie:function(){return h.die(b)()},or:function(a){return a},orThunk:function(a){return a()},fold:function(a,c){return a(b)},map:function(a){return d(b)},each:h.noop,bind:function(a){return d(b)},exists:h.constant(!1),forall:h.constant(!0),
toOption:g.none}};return{value:e,error:d}});u("tinymce.core.dom.StyleSheetLoader","ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Future ephox.katamari.api.Futures ephox.katamari.api.Result tinymce.core.util.Delay tinymce.core.util.Tools".split(" "),function(h,g,e,d,b,a,c){return function(f,k){function p(a){f.getElementsByTagName("head")[0].appendChild(a)}function n(b,d,e){function q(){for(var a=G.passed,b=a.length;b--;)a[b]();G.status=2;G.passed=[];G.failed=[]}function k(){for(var a=
G.failed,b=a.length;b--;)a[b]();G.status=3;G.passed=[];G.failed=[]}function n(){var a=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(a&&536>a[1])}function g(b,c){b()||((new Date).getTime()-B<m?a.setTimeout(c):k())}function t(){g(function(){for(var a=f.styleSheets,b,c=a.length;c--;)if(b=a[c],(b=b.ownerNode?b.ownerNode:b.owningElement)&&b.id===D.id)return q(),!0},t)}function h(){g(function(){try{var a=w.sheet.cssRules;q();return!!a}catch(b){}},h)}var D,w,B,G;b=c._addCacheSuffix(b);l[b]?G=l[b]:
(G={passed:[],failed:[]},l[b]=G);d&&G.passed.push(d);e&&G.failed.push(e);if(1!=G.status)if(2==G.status)q();else if(3==G.status)k();else{G.status=1;D=f.createElement("link");D.rel="stylesheet";D.type="text/css";D.id="u"+r++;D.async=!1;D.defer=!1;B=(new Date).getTime();if("onload"in D&&!n())D.onload=t,D.onerror=k;else{if(0<navigator.userAgent.indexOf("Firefox")){w=f.createElement("style");w.textContent='@import "'+b+'"';h();p(w);return}t()}p(D);D.href=b}}var r=0,l={},m;k=k||{};m=k.maxLoadTime||5E3;
var t=function(a){return e.nu(function(c){n(a,g.compose(c,g.constant(b.value(a))),g.compose(c,g.constant(b.error(a))))})},w=function(a){return a.fold(g.identity,g.identity)};return{load:n,loadAll:function(a,b,c){d.par(h.map(a,t)).get(function(a){a=h.partition(a,function(a){return a.isValue()});0<a.fail.length?c(a.fail.map(w)):b(a.pass.map(w))})}}}});u("tinymce.core.html.Schema",["tinymce.core.util.Tools"],function(h){function g(a,b){return(a=h.trim(a))?a.split(b||" "):[]}function e(c,d){function e(b,
c,f){function d(a,b){var c={},f,e;f=0;for(e=a.length;f<e;f++)c[a[f]]=b||{};return c}var q,k;f=f||[];c=c||"";"string"===typeof f&&(f=g(f));b=g(b);for(q=b.length;q--;)k=g([p,c].join(" ")),k={attributes:d(k),attributesOrder:k,children:d(f,a)},n[b[q]]=k}function k(a,b){var c,f,d,e;a=g(a);c=a.length;for(b=g(b);c--;)for(f=n[a[c]],d=0,e=b.length;d<e;d++)f.attributes[b[d]]={},f.attributesOrder.push(b[d])}var n={},p,s,y,q;if(b[c])return b[c];p="id accesskey class dir lang style tabindex title role";eventAttributes=
g("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting");
s="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul";y="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment";d.allow_events&&(p=p.concat(p,eventAttributes));"html4"!=c&&(p+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",s+=" article aside details dialog figure header footer hgroup section nav",y+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen");
"html5-strict"!=c&&(p+=" xml:lang",y=[y,"acronym applet basefont big font strike tt"].join(" "),f(g("acronym applet basefont big font strike tt"),function(a){e(a,"",y)}),s=[s,"center dir isindex noframes"].join(" "),q=[s,y].join(" "),f(g("center dir isindex noframes"),function(a){e(a,"",q)}));q=q||[s,y].join(" ");e("html","manifest","head body");e("head","","base command link meta noscript script style title");e("title hr noscript br");e("base","href target");e("link","href rel media hreflang type sizes hreflang");
e("meta","name http-equiv content charset");e("style","media type scoped");e("script","src async defer type charset");e("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",q);e("address dt dd div caption","",q);e("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",y);e("blockquote","cite",q);e("ol","reversed start type",
"li");e("ul","","li");e("li","value",q);e("dl","","dt dd");e("a","href target rel media hreflang type",y);e("q","cite",y);e("ins del","cite datetime",q);e("img","src sizes srcset alt usemap ismap width height");e("iframe","src name width height",q);e("embed","src type width height");e("object","data type typemustmatch name usemap form width height",[q,"param"].join(" "));e("param","name value");e("map","name",[q,"area"].join(" "));e("area","alt coords shape href target rel media hreflang type");e("table",
"border","caption colgroup thead tfoot tbody tr"+("html4"==c?" col":""));e("colgroup","span","col");e("col","span");e("tbody thead tfoot","","tr");e("tr","","td th");e("td","colspan rowspan headers",q);e("th","colspan rowspan headers scope abbr",q);e("form","accept-charset action autocomplete enctype method name novalidate target",q);e("fieldset","disabled form name",[q,"legend"].join(" "));e("label","form for",y);e("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");
e("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==c?q:y);e("select","disabled form multiple name required size","option optgroup");e("optgroup","disabled label","option");e("option","disabled label selected value");e("textarea","cols dirname disabled form maxlength name readonly required rows wrap");e("menu","type label",[q,"li"].join(" "));e("noscript","",q);"html4"!=c&&(e("wbr"),e("ruby","",[y,"rt rp"].join(" ")),e("figcaption","",q),
e("mark rt rp summary bdi","",y),e("canvas","width height",q),e("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[q,"track source"].join(" ")),e("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[q,"track source"].join(" ")),e("picture","","img source"),e("source","src srcset type media sizes"),e("track","kind src srclang label default"),e("datalist","",[y,"option"].join(" ")),e("article section nav aside header footer",
"",q),e("hgroup","","h1 h2 h3 h4 h5 h6"),e("figure","",[q,"figcaption"].join(" ")),e("time","datetime",y),e("dialog","open",q),e("command","type label icon disabled checked radiogroup command"),e("output","for form name",y),e("progress","value max",y),e("meter","value min max low high optimum",y),e("details","open",[q,"summary"].join(" ")),e("keygen","autofocus challenge disabled form keytype name"));"html5-strict"!=c&&(k("script","language xml:space"),k("style","xml:space"),k("object","declare classid code codebase codetype archive standby align border hspace vspace"),
k("embed","align name hspace vspace"),k("param","valuetype type"),k("a","charset name rev shape coords"),k("br","clear"),k("applet","codebase archive code object alt name width height align hspace vspace"),k("img","name longdesc align border hspace vspace"),k("iframe","longdesc frameborder marginwidth marginheight scrolling align"),k("font basefont","size color face"),k("input","usemap align"),k("select","onchange"),k("textarea"),k("h1 h2 h3 h4 h5 h6 div p legend caption","align"),k("ul","type compact"),
k("li","type"),k("ol dl menu dir","compact"),k("pre","width xml:space"),k("hr","align noshade size width"),k("isindex","prompt"),k("table","summary width frame rules cellspacing cellpadding align bgcolor"),k("col","width align char charoff valign"),k("colgroup","width align char charoff valign"),k("thead","align char charoff valign"),k("tr","align char charoff valign bgcolor"),k("th","axis align char charoff valign nowrap bgcolor width height"),k("form","accept"),k("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),
k("tfoot","align char charoff valign"),k("tbody","align char charoff valign"),k("area","nohref"),k("body","background bgcolor text link vlink alink"));"html4"!=c&&(k("input button select textarea","autofocus"),k("input textarea","placeholder"),k("a","download"),k("link script img","crossorigin"),k("iframe","sandbox seamless allowfullscreen"));f(g("a form meter progress dfn"),function(a){n[a]&&delete n[a].children[a]});delete n.caption.children.table;delete n.script;return b[c]=n}function d(a,b){var d;
a&&(d={},"string"==typeof a&&(a={"*":a}),f(a,function(a,f){d[f]=d[f.toUpperCase()]="map"==b?c(a,/[, ]/):p(a,/[, ]/)}));return d}var b={},a={},c=h.makeMap,f=h.each,k=h.extend,p=h.explode,n=h.inArray;return function(a){function l(f,d,e){var q=a[f];q?q=c(q,/[, ]/,c(q.toUpperCase(),/[, ]/)):(q=b[f],q||(q=c(d," ",c(d.toUpperCase()," ")),q=k(q,e),b[f]=q));return q}function m(a){var b,f,d,e,q,k,m,s,l,p,z,t,A,r,D,h,v,H,w=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,C=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
B=/[*?+]/;if(a)for(a=g(a,","),y["@"]&&(h=y["@"].attributes,v=y["@"].attributesOrder),b=0,f=a.length;b<f;b++)if(q=w.exec(a[b])){r=q[1];l=q[2];D=q[3];s=q[5];t={};A=[];k={attributes:t,attributesOrder:A};"#"===r&&(k.paddEmpty=!0);"-"===r&&(k.removeEmpty=!0);"!"===q[4]&&(k.removeEmptyAttrs=!0);if(h){for(H in h)t[H]=h[H];A.push.apply(A,v)}if(s)for(s=g(s,"|"),d=0,e=s.length;d<e;d++)if(q=C.exec(s[d]))m={},z=q[1],p=q[2].replace(/::/g,":"),r=q[3],q=q[4],"!"===z&&(k.attributesRequired=k.attributesRequired||
[],k.attributesRequired.push(p),m.required=!0),"-"===z?(delete t[p],A.splice(n(A,p),1)):(r&&("="===r&&(k.attributesDefault=k.attributesDefault||[],k.attributesDefault.push({name:p,value:q}),m.defaultValue=q),":"===r&&(k.attributesForced=k.attributesForced||[],k.attributesForced.push({name:p,value:q}),m.forcedValue=q),"<"===r&&(m.validValues=c(q,"?"))),B.test(p)?(k.attributePatterns=k.attributePatterns||[],m.pattern=RegExp("^"+p.replace(/([?+*])/g,".$1")+"$"),k.attributePatterns.push(m)):(t[p]||A.push(p),
t[p]=m));h||"@"!=l||(h=t,v=A);D&&(k.outputName=l,y[D]=k);B.test(l)?(k.pattern=RegExp("^"+l.replace(/([?+*])/g,".$1")+"$"),x.push(k)):y[l]=k}}function t(a){y={};x=[];m(a);f(A,function(a,b){q[b]=a.children})}function h(a){var c=/^(~)?(.+)$/;a&&(b.text_block_elements=b.block_elements=null,f(g(a,","),function(a){a=c.exec(a);var b="~"===a[1],d=b?"span":"div",e=a[2];q[e]=q[d];X[e]=d;b||(E[e.toUpperCase()]={},E[e]={});y[e]||(a=y[d],a=k({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,y[e]=a);f(q,function(a,
b){a[d]&&(q[b]=a=k({},q[b]),a[e]=a[d])})}))}function v(c){var d=/^([+\-]?)(\w+)\[([^\]]+)\]$/;b[a.schema]=null;c&&f(g(c,","),function(a){a=d.exec(a);var b,c;a&&(b=(c=a[1])?q[a[2]]:q[a[2]]={"#comment":{}},b=q[a[2]],f(g(a[3],"|"),function(a){"-"===c?delete b[a]:b[a]={}}))})}function s(a){var b=y[a],c;if(b)return b;for(c=x.length;c--;)if(b=x[c],b.pattern.test(a))return b}var y={},q={},x=[],C,z,A,H,D,L,B,G,E,R,u,Q,T,X={},ba={};a=a||{};A=e(a.schema,a);!1===a.verify_html&&(a.valid_elements="*[*]");C=d(a.valid_styles);
z=d(a.invalid_styles,"map");G=d(a.valid_classes,"map");H=l("whitespace_elements","pre script noscript style textarea video audio iframe object code");D=l("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");L=l("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");B=l("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");
R=l("non_empty_elements","td th iframe video audio object script pre code",L);u=l("move_caret_before_on_enter_elements","table",R);Q=l("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");E=l("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",Q);T=l("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");
f((a.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(a){ba[a]=RegExp("</"+a+"[^>]*>","gi")});a.valid_elements?t(a.valid_elements):(f(A,function(a,b){y[b]={attributes:a.attributes,attributesOrder:a.attributesOrder};q[b]=a.children}),"html5"!=a.schema&&f(g("strong/b em/i"),function(a){a=g(a,"/");y[a[1]].outputName=a[0]}),f(g("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){y[a]&&(y[a].removeEmpty=!0)}),f(g("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),
function(a){y[a].paddEmpty=!0}),f(g("span"),function(a){y[a].removeEmptyAttrs=!0}));h(a.custom_elements);v(a.valid_children);m(a.extended_valid_elements);v("+ol[ul|ol],+ul[ul|ol]");f({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(a,b){y[b]&&(y[b].parentsRequired=g(a))});a.invalid_elements&&f(p(a.invalid_elements),function(a){y[a]&&delete y[a]});s("span")||m("span[!data-mce-type|*]");
this.children=q;this.getValidStyles=function(){return C};this.getInvalidStyles=function(){return z};this.getValidClasses=function(){return G};this.getBoolAttrs=function(){return B};this.getBlockElements=function(){return E};this.getTextBlockElements=function(){return Q};this.getTextInlineElements=function(){return T};this.getShortEndedElements=function(){return L};this.getSelfClosingElements=function(){return D};this.getNonEmptyElements=function(){return R};this.getMoveCaretBeforeOnEnterElements=
function(){return u};this.getWhiteSpaceElements=function(){return H};this.getSpecialElements=function(){return ba};this.isValidChild=function(a,b){var c=q[a.toLowerCase()];return!(!c||!c[b.toLowerCase()])};this.isValid=function(a,b){var c,f;if(c=s(a))if(b){if(c.attributes[b])return!0;if(c=c.attributePatterns)for(f=c.length;f--;)if(c[f].pattern.test(a))return!0}else return!0;return!1};this.getElementRule=s;this.getCustomElements=function(){return X};this.addValidElements=m;this.setValidElements=t;
this.addCustomElements=h;this.addValidChildren=v;this.elements=y}});u("tinymce.core.dom.DOMUtils","tinymce.core.dom.DomQuery tinymce.core.dom.EventUtils tinymce.core.dom.Range tinymce.core.dom.Sizzle tinymce.core.dom.StyleSheetLoader tinymce.core.dom.TreeWalker tinymce.core.Env tinymce.core.html.Entities tinymce.core.html.Schema tinymce.core.html.Styles tinymce.core.util.Tools".split(" "),function(h,g,e,d,b,a,c,f,k,p,n){function r(a,b){var c={},f=b.keep_values,d;d={set:function(c,f,d){b.url_converter&&
(f=b.url_converter.call(b.url_converter_scope||a,f,d,c[0]));c.attr("data-mce-"+d,f).attr(d,f)},get:function(a,b){return a.attr("data-mce-"+b)||a.attr(b)}};c={style:{set:function(a,b){null!==b&&"object"===typeof b?a.css(b):(f&&a.attr("data-mce-style",b),a.attr("style",b))},get:function(b){var c=b.attr("data-mce-style")||b.attr("style");return c=a.serializeStyle(a.parseStyle(c),b[0].nodeName)}}};f&&(c.href=c.src=d);return c}function l(a,b){var c=b.attr("style");(c=a.serializeStyle(a.parseStyle(c),b[0].nodeName))||
(c=null);b.attr("data-mce-style",c)}function m(a,b){var c=0,f,d;if(a)for(f=a.nodeType,a=a.previousSibling;a;a=a.previousSibling)if(d=a.nodeType,!b||3!=d||d!=f&&a.nodeValue.length)c++,f=d;return c}function t(a,c){var f=this,d;f.doc=a;f.win=window;f.files={};f.counter=0;f.stdMode=!q||8<=a.documentMode;f.boxModel=!q||"CSS1Compat"==a.compatMode||f.stdMode;f.styleSheetLoader=new b(a);f.boundEvents=[];f.settings=c=c||{};f.schema=c.schema?c.schema:new k({});f.styles=new p({url_converter:c.url_converter,
url_converter_scope:c.url_converter_scope},c.schema);f.fixDoc(a);f.events=c.ownEvents?new g(c.proxy):g.Event;f.attrHooks=r(f,c);d=c.schema?c.schema.getBlockElements():{};f.$=h.overrideDefaults(function(){return{context:a,element:f.getRoot()}});f.isBlock=function(a){if(!a)return!1;var b=a.nodeType;return b?!(1!==b||!d[a.nodeName]):!!d[a]}}var w=n.each,v=n.is,s=n.grep,y=n.trim,q=c.ie,x=/^([a-z0-9],?)+$/i,C=/^[ \t\r\n]*$/;t.prototype={$$:function(a){"string"==typeof a&&(a=this.get(a));return this.$(a)},
root:null,fixDoc:function(a){var b=this.settings,c;if(q&&b.schema)for(c in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(b){a.createElement(b)}),b.schema.getCustomElements())a.createElement(c)},clone:function(a,b){var c=this,f,d;if(!q||1!==a.nodeType||b)return a.cloneNode(b);d=c.doc;return b?f.firstChild:(f=d.createElement(a.nodeName),w(c.getAttribs(a),function(b){c.setAttrib(f,
b.nodeName,c.getAttrib(a,b.nodeName))}),f)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(a){var b;a=a?a:this.win;b=a.document;b=this.boxModel?b.documentElement:b.body;return{x:a.pageXOffset||b.scrollLeft,y:a.pageYOffset||b.scrollTop,w:a.innerWidth||b.clientWidth,h:a.innerHeight||b.clientHeight}},getRect:function(a){var b;a=this.get(a);b=this.getPos(a);a=this.getSize(a);return{x:b.x,y:b.y,w:a.w,h:a.h}},getSize:function(a){var b,c;a=this.get(a);b=this.getStyle(a,
"width");c=this.getStyle(a,"height");-1===b.indexOf("px")&&(b=0);-1===c.indexOf("px")&&(c=0);return{w:parseInt(b,10)||a.offsetWidth||a.clientWidth,h:parseInt(c,10)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,b,c,!1)},getParents:function(a,b,c,f){var d=this,e,q=[];a=d.get(a);f=void 0===f;c=c||("BODY"!=d.getRoot().nodeName?d.getRoot().parentNode:null);v(b,"string")&&(e=b,b="*"===b?function(a){return 1==a.nodeType}:function(a){return d.is(a,e)});for(;a&&a!=c&&
a.nodeType&&9!==a.nodeType;){if(!b||b(a))if(f)q.push(a);else return a;a=a.parentNode}return f?q:null},get:function(a){var b;return a&&this.doc&&"string"==typeof a&&(b=a,(a=this.doc.getElementById(a))&&a.id!==b)?this.doc.getElementsByName(b)[1]:a},getNext:function(a,b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(a,b){return d(a,this.get(b)||this.settings.root_element||this.doc,[])},is:function(a,b){var c;if(!a)return!1;
if(void 0===a.length){if("*"===b)return 1==a.nodeType;if(x.test(b)){b=b.toLowerCase().split(/,/);a=a.nodeName.toLowerCase();for(c=b.length-1;0<=c;c--)if(b[c]==a)return!0;return!1}}if(a.nodeType&&1!=a.nodeType)return!1;c=a.nodeType?[a]:a;return 0<d(b,c[0].ownerDocument||c[0],null,c).length},add:function(a,b,c,f,d){var e=this;return this.run(a,function(a){var q;q=v(b,"string")?e.doc.createElement(b):b;e.setAttribs(q,c);f&&(f.nodeType?q.appendChild(f):e.setHTML(q,f));return d?q:a.appendChild(q)})},create:function(a,
b,c){return this.add(this.doc.createElement(a),a,b,c,1)},createHTML:function(a,b,c){var f,d;f="<"+a;for(d in b)b.hasOwnProperty(d)&&null!==b[d]&&"undefined"!=typeof b[d]&&(f+=" "+d+'="'+this.encode(b[d])+'"');return"undefined"!=typeof c?f+">"+c+"</"+a+">":f+" />"},createFragment:function(a){var b;b=this.doc;var c;c=b.createElement("div");b=b.createDocumentFragment();a&&(c.innerHTML=a);for(;a=c.firstChild;)b.appendChild(a);return b},remove:function(a,b){a=this.$$(a);b?a.each(function(){for(var a;a=
this.firstChild;)3==a.nodeType&&0===a.data.length?this.removeChild(a):this.parentNode.insertBefore(a,this)}).remove():a.remove();return 1<a.length?a.toArray():a[0]},setStyle:function(a,b,c){a=this.$$(a).css(b,c);this.settings.update_styles&&l(this,a)},getStyle:function(a,b,f){a=this.$$(a);if(f)return a.css(b);b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()});"float"==b&&(b=c.ie&&12>c.ie?"styleFloat":"cssFloat");return a[0]&&a[0].style?a[0].style[b]:void 0},setStyles:function(a,b){a=this.$$(a).css(b);
this.settings.update_styles&&l(this,a)},removeAllAttribs:function(a){return this.run(a,function(a){var b,c=a.attributes;for(b=c.length-1;0<=b;b--)a.removeAttributeNode(c.item(b))})},setAttrib:function(a,b,c){var f,d,e=this.settings;""===c&&(c=null);a=this.$$(a);f=a.attr(b);if(a.length&&((d=this.attrHooks[b])&&d.set?d.set(a,c,b):a.attr(b,c),f!=c&&e.onSetAttrib))e.onSetAttrib({attrElm:a,attrName:b,attrValue:c})},setAttribs:function(a,b){var c=this;c.$$(a).each(function(a,f){w(b,function(a,b){c.setAttrib(f,
b,a)})})},getAttrib:function(a,b,c){var f;a=this.$$(a);a.length&&(f=(f=this.attrHooks[b])&&f.get?f.get(a,b):a.attr(b));"undefined"==typeof f&&(f=c||"");return f},getPos:function(a,b){var c=0,f=0,d;d=this.doc;var e=d.body;a=this.get(a);b=b||e;if(a){if(b===e&&a.getBoundingClientRect&&"static"===h(e).css("position"))return f=a.getBoundingClientRect(),b=this.boxModel?d.documentElement:e,c=f.left+(d.documentElement.scrollLeft||e.scrollLeft)-b.clientLeft,f=f.top+(d.documentElement.scrollTop||e.scrollTop)-
b.clientTop,{x:c,y:f};for(d=a;d&&d!=b&&d.nodeType;)c+=d.offsetLeft||0,f+=d.offsetTop||0,d=d.offsetParent;for(d=a.parentNode;d&&d!=b&&d.nodeType;)c-=d.scrollLeft||0,f-=d.scrollTop||0,d=d.parentNode}return{x:c,y:f}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(a,b){return this.styles.serialize(a,b)},addStyle:function(a){var b=this.doc,c,f;if(this!==t.DOM&&b===document){c=(c=t.DOM.addedStyles)||[];if(c[a])return;c[a]=!0;t.DOM.addedStyles=c}f=b.getElementById("mceDefaultStyles");
f||(f=b.createElement("style"),f.id="mceDefaultStyles",f.type="text/css",c=b.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(f,c.firstChild):c.appendChild(f));f.styleSheet?f.styleSheet.cssText+=a:f.appendChild(b.createTextNode(a))},loadCSS:function(a){var b=this,c=b.doc,f;b!==t.DOM&&c===document?t.DOM.loadCSS(a):(a||(a=""),f=c.getElementsByTagName("head")[0],w(a.split(","),function(a){var d;a=n._addCacheSuffix(a);b.files[a]||(b.files[a]=!0,d=b.create("link",{rel:"stylesheet",href:a}),
q&&c.documentMode&&c.recalc&&(d.onload=function(){c.recalc&&c.recalc();d.onload=null}),f.appendChild(d))}))},addClass:function(a,b){this.$$(a).addClass(b)},removeClass:function(a,b){this.toggleClass(a,b,!1)},hasClass:function(a,b){return this.$$(a).hasClass(b)},toggleClass:function(a,b,c){this.$$(a).toggleClass(b,c).each(function(){""===this.className&&h(this).attr("class",null)})},show:function(a){this.$$(a).show()},hide:function(a){this.$$(a).hide()},isHidden:function(a){return"none"==this.$$(a).css("display")},
uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(a,b){a=this.$$(a);q?a.each(function(a,c){if(!1!==c.canHaveHTML){for(;c.firstChild;)c.removeChild(c.firstChild);try{c.innerHTML="<br>"+b,c.removeChild(c.firstChild)}catch(f){h("<div></div>").html("<br>"+b).contents().slice(1).appendTo(c)}return b}}):a.html(b)},getOuterHTML:function(a){a=this.get(a);return 1==a.nodeType&&"outerHTML"in a?a.outerHTML:h("<div></div>").append(h(a).clone()).html()},setOuterHTML:function(a,b){var c=
this;c.$$(a).each(function(){try{if("outerHTML"in this){this.outerHTML=b;return}}catch(a){}c.remove(h(this).html(b),!0)})},decode:f.decode,encode:f.encodeAllRaw,insertAfter:function(a,b){b=this.get(b);return this.run(a,function(a){var c,f;c=b.parentNode;(f=b.nextSibling)?c.insertBefore(a,f):c.appendChild(a);return a})},replace:function(a,b,c){return this.run(b,function(b){v(b,"array")&&(a=a.cloneNode(!0));c&&w(s(b.childNodes),function(b){a.appendChild(b)});return b.parentNode.replaceChild(a,b)})},
rename:function(a,b){var c=this,f;a.nodeName!=b.toUpperCase()&&(f=c.create(b),w(c.getAttribs(a),function(b){c.setAttrib(f,b.nodeName,c.getAttrib(a,b.nodeName))}),c.replace(f,a,1));return f||a},findCommonAncestor:function(a,b){for(var c=a,f;c;){for(f=b;f&&c!=f;)f=f.parentNode;if(c==f)break;c=c.parentNode}return!c&&a.ownerDocument?a.ownerDocument.documentElement:c},toHex:function(a){return this.styles.toHex(n.trim(a))},run:function(a,b,c){var f=this,d;"string"===typeof a&&(a=f.get(a));if(!a)return!1;
c=c||this;return a.nodeType||!a.length&&0!==a.length?b.call(c,a):(d=[],w(a,function(a,e){a&&("string"==typeof a&&(a=f.get(a)),d.push(b.call(c,a,e)))}),d)},getAttribs:function(a){var b;a=this.get(a);if(!a)return[];if(q){b=[];if("OBJECT"==a.nodeName)return a.attributes;"OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"});a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(a){b.push({specified:1,
nodeName:a})});return b}return a.attributes},isEmpty:function(b,c){var f,d,e,q,k,m,s=0;if(b=b.firstChild){k=new a(b,b.parentNode);c=c||(this.schema?this.schema.getNonEmptyElements():null);q=this.schema?this.schema.getWhiteSpaceElements():{};do{e=b.nodeType;if(1===e){if(f=b.getAttribute("data-mce-bogus")){b=k.next("all"===f);continue}m=b.nodeName.toLowerCase();if(c&&c[m]){if("br"===m){s++;b=k.next();continue}return!1}d=this.getAttribs(b);for(f=d.length;f--;)if(m=d[f].nodeName,"name"===m||"data-mce-bookmark"===
m)return!1}if(8==e||3===e&&!C.test(b.nodeValue)||3===e&&b.parentNode&&q[b.parentNode.nodeName]&&C.test(b.nodeValue))return!1;b=k.next()}while(b)}return 1>=s},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new e(this)},nodeIndex:m,split:function(a,b,c){function f(a){var b,c=a.childNodes,e=a.nodeType;if(1!=e||"bookmark"!=a.getAttribute("data-mce-type")){for(b=c.length-1;0<=b;b--)f(c[b]);if(9!=e){if(3==e&&0<a.nodeValue.length){b=y(a.nodeValue).length;if(!(c=!d.isBlock(a.parentNode))&&
!(c=0<b)){if(b=0===b)b=a.nextSibling&&"SPAN"==a.nextSibling.nodeName,b=a.previousSibling&&"SPAN"==a.previousSibling.nodeName&&b;c=b}if(c)return}else if(1==e&&(c=a.childNodes,1==c.length&&c[0]&&1==c[0].nodeType&&"bookmark"==c[0].getAttribute("data-mce-type")&&a.parentNode.insertBefore(c[0],a),c.length||/^(br|hr|input|img)$/i.test(a.nodeName)))return;d.remove(a)}return a}}var d=this,e=d.createRng(),q,k;if(a&&b)return e.setStart(a.parentNode,d.nodeIndex(a)),e.setEnd(b.parentNode,d.nodeIndex(b)),q=e.extractContents(),
e=d.createRng(),e.setStart(b.parentNode,d.nodeIndex(b)+1),e.setEnd(a.parentNode,d.nodeIndex(a)+1),e=e.extractContents(),k=a.parentNode,k.insertBefore(f(q),a),c?k.insertBefore(c,a):k.insertBefore(b,a),k.insertBefore(f(e),a),d.remove(a),c||b},bind:function(a,b,c,f){if(n.isArray(a)){for(var d=a.length;d--;)a[d]=this.bind(a[d],b,c,f);return a}!this.settings.collect||a!==this.doc&&a!==this.win||this.boundEvents.push([a,b,c,f]);return this.events.bind(a,b,c,f||this)},unbind:function(a,b,c){var f;if(n.isArray(a)){for(f=
a.length;f--;)a[f]=this.unbind(a[f],b,c);return a}if(this.boundEvents&&(a===this.doc||a===this.win))for(f=this.boundEvents.length;f--;){var d=this.boundEvents[f];a!=d[0]||b&&b!=d[1]||c&&c!=d[2]||this.events.unbind(d[0],d[1],d[2])}return this.events.unbind(a,b,c)},fire:function(a,b,c){return this.events.fire(a,b,c)},getContentEditable:function(a){var b;return a&&1==a.nodeType?(b=a.getAttribute("data-mce-contenteditable"))&&"inherit"!==b?b:"inherit"!==a.contentEditable?a.contentEditable:null:null},
getContentEditableParent:function(a){for(var b=this.getRoot(),c=null;a&&a!==b&&(c=this.getContentEditable(a),null===c);a=a.parentNode);return c},destroy:function(){if(this.boundEvents){for(var a=this.boundEvents.length;a--;){var b=this.boundEvents[a];this.events.unbind(b[0],b[1],b[2])}this.boundEvents=null}d.setDocument&&d.setDocument();this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(a,b){for(;a;){if(b===a)return!0;a=a.parentNode}return!1},dumpRng:function(a){return"startContainer: "+
a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(a,b,c){var f=this,d=b;if(a)for("string"==typeof d&&(d=function(a){return f.is(a,b)}),a=a[c];a;a=a[c])if(d(a))return a;return null}};t.DOM=new t(document);t.nodeIndex=m;return t});u("tinymce.core.dom.ScriptLoader",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(h,g){function e(){function f(a,b,f){function e(){k.remove(q);l&&(l.onreadystatechange=
l.onload=l=null);b()}var k=d,l,q;q=k.uniqueId();l=document.createElement("script");l.id=q;l.type="text/javascript";l.src=g._addCacheSuffix(a);"onreadystatechange"in l?l.onreadystatechange=function(){/loaded|complete/.test(l.readyState)&&e()}:l.onload=e;l.onerror=function(){c(f)?f():"undefined"!==typeof console&&console.log&&console.log("Failed to load script: "+a)};(document.getElementsByTagName("head")[0]||document.body).appendChild(l)}var e={},p=[],n={},r=[],l=0;this.isDone=function(a){return 2==
e[a]};this.markDone=function(a){e[a]=2};this.add=this.load=function(a,b,c,f){void 0==e[a]&&(p.push(a),e[a]=0);b&&(n[a]||(n[a]=[]),n[a].push({success:b,failure:f,scope:c||this}))};this.remove=function(a){delete e[a];delete n[a]};this.loadQueue=function(a,b,c){this.loadScripts(p,a,b,c)};this.loadScripts=function(d,p,g,h){function s(a,f){b(n[f],function(b){c(b[a])&&b[a].call(b.scope)});n[f]=void 0}var y,q=[];r.push({success:p,failure:h,scope:g||this});y=function(){var n=a(d);d.length=0;b(n,function(a){2===
e[a]?s("success",a):3===e[a]?s("failure",a):1!==e[a]&&(e[a]=1,l++,f(a,function(){e[a]=2;l--;s("success",a);y()},function(){e[a]=3;l--;q.push(a);s("failure",a);y()}))});l||(b(r,function(a){0===q.length?c(a.success)&&a.success.call(a.scope):c(a.failure)&&a.failure.call(a.scope,q)}),r.length=0)};y()}}var d=h.DOM,b=g.each,a=g.grep,c=function(a){return"function"===typeof a};e.ScriptLoader=new e;return e});u("tinymce.core.AddOnManager",["tinymce.core.dom.ScriptLoader","tinymce.core.util.Tools"],function(h,
g){function e(){this.items=[];this.urls={};this.lookup={}}var d=g.each;e.prototype={get:function(b){if(this.lookup[b])return this.lookup[b].instance},dependencies:function(b){var a;this.lookup[b]&&(a=this.lookup[b].dependencies);return a||[]},requireLangPack:function(b,a){var c=e.language;if(c&&!1!==e.languageLoad){if(a)if(a=","+a+",",-1!=a.indexOf(","+c.substr(0,2)+","))c=c.substr(0,2);else if(-1==a.indexOf(","+c+","))return;h.ScriptLoader.add(this.urls[b]+"/langs/"+c+".js")}},add:function(b,a,c){this.items.push(a);
this.lookup[b]={instance:a,dependencies:c};return a},remove:function(b){delete this.urls[b];delete this.lookup[b]},createUrl:function(b,a){return"object"===typeof a?a:{prefix:b.prefix,resource:a,suffix:b.suffix}},addComponents:function(b,a){var c=this.urls[b];d(a,function(a){h.ScriptLoader.add(c+"/"+a)})},load:function(b,a,c,f,k){function p(){var e=n.dependencies(b);d(e,function(b){b=n.createUrl(a,b);n.load(b.resource,b,void 0,void 0)});c&&(f?c.call(f):c.call(h))}var n=this,g=a;n.urls[b]||("object"===
typeof a&&(g=a.prefix+a.resource+a.suffix),0!==g.indexOf("/")&&-1==g.indexOf("://")&&(g=e.baseURL+"/"+g),n.urls[b]=g.substring(0,g.lastIndexOf("/")),n.lookup[b]?p():h.ScriptLoader.add(g,p,f,k))}};e.PluginManager=new e;e.ThemeManager=new e;return e});u("tinymce.core.dom.NodeType",[],function(){function h(b){return function(a){return!!a&&a.nodeType==b}}function g(b){b=b.toLowerCase().split(" ");return function(a){var c;if(a&&a.nodeType)for(c=a.nodeName.toLowerCase(),a=0;a<b.length;a++)if(c===b[a])return!0;
return!1}}function e(b){return function(a){return!d(a)||a.contentEditable!==b&&a.getAttribute("data-mce-contenteditable")!==b?!1:!0}}var d=h(1);return{isText:h(3),isElement:d,isComment:h(8),isBr:g("br"),isContentEditableTrue:e("true"),isContentEditableFalse:e("false"),matchNodeNames:g,hasPropValue:function(b,a){return function(c){return d(c)&&c[b]===a}},hasAttribute:function(b,a){return function(a){return d(a)&&a.hasAttribute(b)}},hasAttributeValue:function(b,a){return function(c){return d(c)&&c.getAttribute(b)===
a}},matchStyleValues:function(b,a){a=a.toLowerCase().split(" ");return function(c){var f,e;if(d(c))for(f=0;f<a.length;f++)if(e=c.ownerDocument.defaultView.getComputedStyle(c,null).getPropertyValue(b),e===a[f])return!0;return!1}},isBogus:function(b){return d(b)&&b.hasAttribute("data-mce-bogus")}}});u("tinymce.core.text.Zwsp",[],function(){return{isZwsp:function(h){return"\ufeff"===h},ZWSP:"\ufeff",trim:function(h){return h.replace(RegExp("\ufeff","g"),"")}}});u("tinymce.core.caret.CaretContainer",
["tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(h,g){function e(a){p(a)&&(a=a.parentNode);return k(a)&&a.hasAttribute("data-mce-caret")}function d(a){return p(a)&&g.isZwsp(a.data)}function b(a){return e(a)||d(a)}function a(){var a=document.createElement("br");a.setAttribute("data-mce-bogus","1");return a}function c(a){return p(a)&&a.data[0]==g.ZWSP}function f(a){return p(a)&&a.data[a.data.length-1]==g.ZWSP}var k=h.isElement,p=h.isText;return{isCaretContainer:b,isCaretContainerBlock:e,
isCaretContainerInline:d,showCaretContainerBlock:function(a){if(a&&a.hasAttribute("data-mce-caret")){var b=a.getElementsByTagName("br"),b=b[b.length-1];h.isBogus(b)&&b.parentNode.removeChild(b);a.removeAttribute("data-mce-caret");a.removeAttribute("data-mce-bogus");a.removeAttribute("style");a.removeAttribute("_moz_abspos");return a}return null},insertInline:function(a,d){var e,k,t;k=a.ownerDocument.createTextNode(g.ZWSP);t=a.parentNode;if(d){e=a.previousSibling;if(p(e)){if(b(e))return e;if(f(e))return e.splitText(e.data.length-
1)}t.insertBefore(k,a)}else{e=a.nextSibling;if(p(e)){if(b(e))return e;if(c(e))return e.splitText(1),e}a.nextSibling?t.insertBefore(k,a.nextSibling):t.appendChild(k)}return k},prependInline:function(a){if(h.isText(a)){var b=a.data;0<b.length&&b.charAt(0)!==g.ZWSP&&a.insertData(0,g.ZWSP);return a}return null},appendInline:function(a){if(h.isText(a)){var b=a.data;0<b.length&&b.charAt(b.length-1)!==g.ZWSP&&a.insertData(b.length,g.ZWSP);return a}return null},isBeforeInline:function(a){return a&&h.isText(a.container())&&
a.container().data.charAt(a.offset())===g.ZWSP},isAfterInline:function(a){return a&&h.isText(a.container())&&a.container().data.charAt(a.offset()-1)===g.ZWSP},insertBlock:function(b,c,f){var d;b=c.ownerDocument.createElement(b);b.setAttribute("data-mce-caret",f?"before":"after");b.setAttribute("data-mce-bogus","all");b.appendChild(a());d=c.parentNode;f?d.insertBefore(b,c):c.nextSibling?d.insertBefore(b,c.nextSibling):d.appendChild(b);return b},hasContent:function(a){return a.firstChild!==a.lastChild||
!h.isBr(a.firstChild)},startsWithCaretContainer:c,endsWithCaretContainer:f}});u("tinymce.core.dom.RangeUtils",["tinymce.core.util.Tools","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodeType","tinymce.core.dom.Range","tinymce.core.caret.CaretContainer"],function(h,g,e,d,b){function a(a){return m(a)||t(a)}function c(a,b){var c=a.childNodes;b--;b>c.length-1?b=c.length-1:0>b&&(b=0);return c[b]||a}function f(a,b,c){for(;a&&a!==b;){if(c(a))return a;a=a.parentNode}return null}function k(a,b,c){return null!==
f(a,b,function(a){return a.nodeName===c})}function p(a){return"_mce_caret"===a.id}function n(a){this.walk=function(b,f){function d(a){var b;b=a[0];3===b.nodeType&&b===g&&p>=b.nodeValue.length&&a.splice(0,1);b=a[a.length-1];0===n&&0<a.length&&b===t&&3===b.nodeType&&a.splice(a.length-1,1);return a}function e(a,b,c){for(var f=[];a&&a!=c;a=a[b])f.push(a);return f}function k(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function m(a,b,c){var k=c?"nextSibling":"previousSibling";w=a;for(R=
w.parentNode;w&&w!=b;w=R)R=w.parentNode,u=e(w==a?w:w[k],k),u.length&&(c||u.reverse(),f(d(u)))}var g=b.startContainer,p=b.startOffset,t=b.endContainer,n=b.endOffset,h,r,w,R,u;r=a.select("td[data-mce-selected],th[data-mce-selected]");if(0<r.length)l(r,function(a){f([a])});else{1==g.nodeType&&g.hasChildNodes()&&(g=g.childNodes[p]);1==t.nodeType&&t.hasChildNodes()&&(t=c(t,n));if(g==t)return f(d([g]));h=a.findCommonAncestor(g,t);for(w=g;w;w=w.parentNode){if(w===t)return m(g,h,!0);if(w===h)break}for(w=
t;w;w=w.parentNode){if(w===g)return m(t,h);if(w===h)break}r=k(g,h)||g;h=k(t,h)||t;m(g,r,!0);u=e(r==g?r:r.nextSibling,"nextSibling",h==t?h.nextSibling:h);u.length&&f(d(u));m(t,h)}};this.split=function(a){var b=a.startContainer,c=a.startOffset,f=a.endContainer;a=a.endOffset;b==f&&3==b.nodeType?0<c&&c<b.nodeValue.length&&(f=b.splitText(c),b=f.previousSibling,a>c?(b=f=f.splitText(a-c).previousSibling,a=f.nodeValue.length,c=0):a=0):(3==b.nodeType&&0<c&&c<b.nodeValue.length&&(b=b.splitText(c),c=0),3==f.nodeType&&
0<a&&a<f.nodeValue.length&&(f=f.splitText(a).previousSibling,a=f.nodeValue.length));return{startContainer:b,startOffset:c,endContainer:f,endOffset:a}};this.normalize=function(b){function c(m){function l(b,c){for(var f=new g(b,a.getParent(b.parentNode,a.isBlock)||G);b=f[c?"prev":"next"]();)if("BR"===b.nodeName)return!0}function n(a){for(;a&&a!=G;){if(t(a))return!0;a=a.parentNode}return!1}function y(b,c){var m,s;c=c||h;m=a.getParent(c.parentNode,a.isBlock)||G;if(b&&"BR"==c.nodeName&&Q&&a.isEmpty(m))h=
c.parentNode,r=a.nodeIndex(c),d=!0;else{for(m=new g(c,m);E=m[b?"prev":"next"]();){if(!(s="false"===a.getContentEditableParent(E))){s=E;var l=a.getRoot();s=w(s)&&!1===(null!==f(s,l,p))}if(s)return;if(3===E.nodeType&&0<E.nodeValue.length){!1===k(E,G,"A")&&(h=E,r=b?E.nodeValue.length:0,d=!0);return}if(a.isBlock(E)||u[E.nodeName.toLowerCase()])return;s=E}e&&s&&(h=s,d=!0,r=0)}}var h,r,B,G=a.getRoot(),E,u,K,Q;h=b[(m?"start":"end")+"Container"];r=b[(m?"start":"end")+"Offset"];Q=1==h.nodeType&&r===h.childNodes.length;
u=a.schema.getNonEmptyElements();K=m;if(!w(h)){1==h.nodeType&&r>h.childNodes.length-1&&(K=!1);9===h.nodeType&&(h=a.getRoot(),r=0);if(h===G){if(K&&(E=h.childNodes[0<r?r-1:0])&&(w(E)||u[E.nodeName]||"TABLE"==E.nodeName))return;if(h.hasChildNodes()){r=Math.min(!K&&0<r?r-1:r,h.childNodes.length-1);h=h.childNodes[r];r=0;if(!e&&h===G.lastChild&&"TABLE"===h.nodeName||n(h)||w(h))return;if(h.hasChildNodes()&&!/TABLE/.test(h.nodeName)){E=h;B=new g(h,G);do{if(t(E)||w(E)){d=!1;break}if(3===E.nodeType&&0<E.nodeValue.length){r=
K?0:E.nodeValue.length;h=E;d=!0;break}if(u[E.nodeName.toLowerCase()]&&(!E||!/^(TD|TH|CAPTION)$/.test(E.nodeName))){r=a.nodeIndex(E);h=E.parentNode;"IMG"!=E.nodeName||K||r++;d=!0;break}}while(E=K?B.next():B.prev())}}}e&&(3===h.nodeType&&0===r&&y(!0),1===h.nodeType&&((E=h.childNodes[r])||(E=h.childNodes[r-1]),!E||"BR"!==E.nodeName||E.previousSibling&&"A"==E.previousSibling.nodeName||l(E)||l(E,!0)||y(!0,E)));K&&!e&&3===h.nodeType&&r===h.nodeValue.length&&y(!1);if(d)b["set"+(m?"Start":"End")](h,r)}}var d=
!1,e;e=b.collapsed;c(!0);e||c();d&&e&&b.collapse(!0);return d}}function r(a,b,c){var f,d;f=c.elementFromPoint(a,b);d=c.body.createTextRange();f&&"HTML"!=f.tagName||(f=c.body);d.moveToElementText(f);c=h.toArray(d.getClientRects());c=c.sort(function(a,c){a=Math.abs(Math.max(a.top-b,a.bottom-b));c=Math.abs(Math.max(c.top-b,c.bottom-b));return a-c});if(0<c.length){b=(c[0].bottom+c[0].top)/2;try{return d.moveToPoint(a,b),d.collapse(!0),d}catch(e){}}return null}var l=h.each,m=e.isContentEditableTrue,t=
e.isContentEditableFalse,w=b.isCaretContainer;n.compareRanges=function(a,b){if(a&&b)if(a.item||a.duplicate){if(a.item&&b.item&&a.item(0)===b.item(0)||a.isEqual&&b.isEqual&&b.isEqual(a))return!0}else return a.startContainer==b.startContainer&&a.startOffset==b.startOffset;return!1};n.getCaretRangeFromPoint=function(b,c,d){var e;if(d.caretPositionFromPoint)b=d.caretPositionFromPoint(b,c),e=d.createRange(),e.setStart(b.offsetNode,b.offset),e.collapse(!0);else if(d.caretRangeFromPoint)e=d.caretRangeFromPoint(b,
c);else if(d.body.createTextRange){e=d.body.createTextRange();try{e.moveToPoint(b,c),e.collapse(!0)}catch(k){e=r(b,c,d)}d=d.body;b=e&&e.parentElement?e.parentElement():null;return t(f(b,d,a))?null:e}return e};n.getSelectedNode=function(a){var b=a.startContainer,c=a.startOffset;return b.hasChildNodes()&&a.endOffset==c+1?b.childNodes[c]:null};n.getNode=function(a,b){1==a.nodeType&&a.hasChildNodes()&&(b>=a.childNodes.length&&(b=a.childNodes.length-1),a=a.childNodes[b]);return a};return n});u("tinymce.core.html.Node",
[],function(){function h(b,a,c){var f;f=c?"lastChild":"firstChild";c=c?"prev":"next";if(b[f])return b[f];if(b!==a){if(f=b[c])return f;for(b=b.parent;b&&b!==a;b=b.parent)if(f=b[c])return f}}function g(b,a){this.name=b;this.type=a;1===a&&(this.attributes=[],this.attributes.map={})}var e=/^[ \t\r\n]*$/,d={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};g.prototype={replace:function(b){b.parent&&b.remove();this.insert(b,this);this.remove();return this},attr:function(b,
a){var c,f;if("string"!==typeof b){for(f in b)this.attr(f,b[f]);return this}if(c=this.attributes){if(void 0!==a){if(null===a){if(b in c.map)for(delete c.map[b],f=c.length;f--;)if(c[f].name===b){c.splice(f,1);break}return this}if(b in c.map)for(f=c.length;f--;){if(c[f].name===b){c[f].value=a;break}}else c.push({name:b,value:a});c.map[b]=a;return this}return c.map[b]}},clone:function(){var b=new g(this.name,this.type),a,c,f,d,e;if(f=this.attributes){e=[];e.map={};a=0;for(c=f.length;a<c;a++)d=f[a],"id"!==
d.name&&(e[e.length]={name:d.name,value:d.value},e.map[d.name]=d.value);b.attributes=e}b.value=this.value;b.shortEnded=this.shortEnded;return b},wrap:function(b){this.parent.insert(b,this);b.append(this);return this},unwrap:function(){var b,a;for(b=this.firstChild;b;)a=b.next,this.insert(b,this,!0),b=a;this.remove()},remove:function(){var b=this.parent,a=this.next,c=this.prev;if(b){if(b.firstChild===this){if(b.firstChild=a)a.prev=null}else c.next=a;if(b.lastChild===this){if(b.lastChild=c)c.next=null}else a.prev=
c;this.parent=this.next=this.prev=null}return this},append:function(b){var a;b.parent&&b.remove();(a=this.lastChild)?(a.next=b,b.prev=a,this.lastChild=b):this.lastChild=this.firstChild=b;b.parent=this;return b},insert:function(b,a,c){var f;b.parent&&b.remove();f=a.parent||this;c?(a===f.firstChild?f.firstChild=b:a.prev.next=b,b.prev=a.prev,b.next=a,a.prev=b):(a===f.lastChild?f.lastChild=b:a.next.prev=b,b.next=a.next,b.prev=a,a.next=b);b.parent=f;return b},getAll:function(b){var a,c=[];for(a=this.firstChild;a;a=
h(a,this))a.name===b&&c.push(a);return c},empty:function(){var b,a,c;if(this.firstChild){b=[];for(c=this.firstChild;c;c=h(c,this))b.push(c);for(a=b.length;a--;)c=b[a],c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}this.firstChild=this.lastChild=null;return this},isEmpty:function(b,a){var c=this.firstChild,f,d;a=a||{};if(c){do{if(1===c.type){if(c.attributes.map["data-mce-bogus"])continue;if(b[c.name])return!1;for(f=c.attributes.length;f--;)if(d=c.attributes[f].name,"name"===d||0===d.indexOf("data-mce-bookmark"))return!1}if(8===
c.type||3===c.type&&!e.test(c.value)||3===c.type&&c.parent&&a[c.parent.name]&&e.test(c.value))return!1}while(c=h(c,this))}return!0},walk:function(b){return h(this,null,b)}};g.create=function(b,a){var c,f;c=new g(b,d[b]||1);if(a)for(f in a)c.attr(f,a[f]);return c};return g});u("tinymce.core.html.SaxParser",["tinymce.core.html.Schema","tinymce.core.html.Entities","tinymce.core.util.Tools"],function(h,g,e){function d(a,b,d){var e=1,g,h;h=a.getShortEndedElements();a=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;
for(a.lastIndex=d;g=a.exec(b);){d=a.lastIndex;if("/"===g[1])e--;else if(!g[1]){if(g[2]in h)continue;e++}if(0===e)break}return d}function b(b,f){function k(){}var p=this;b=b||{};p.schema=f=f||new h;!1!==b.fix_self_closing&&(b.fix_self_closing=!0);a("comment cdata text start end pi doctype".split(" "),function(a){a&&(p[a]=b[a]||k)});p.parse=function(a){function k(a){var b,c;for(b=y.length;b--&&y[b].name!==a;);if(0<=b){for(c=y.length-1;c>=b;c--)a=y[c],a.valid&&m.end(a.name);y.length=b}}function l(a,
f,d,e,k){a=/[\s\u0000-\u001F]+/g;f=f.toLowerCase();d=f in L?f:F(d||e||k||"");if(B&&!A&&!1===(0===f.indexOf("data-")||0===f.indexOf("aria-"))){e=Q[f];if(!e&&T){for(k=T.length;k--&&(e=T[k],!e.pattern.test(f)););-1===k&&(e=null)}if(!e||e.validValues&&!(d in e.validValues))return}if(P[f]&&!b.allow_script_urls){a=d.replace(a,"");try{a=decodeURIComponent(a)}catch(m){a=unescape(a)}if(aa.test(a)||!b.allow_html_data_urls&&V.test(a)&&!/^data:image\//i.test(a))return}A&&(f in P||0===f.indexOf("on"))||(q.map[f]=
d,q.push({name:f,value:d}))}var m=this,p,h=0,v,s,y=[],q,x,C,z,A,H,D,L,B,G,E,u,K,Q,T,X,ba,$,W,Y,U,N,O=0,F=g.decode,I,P=e.makeMap("src,href,data,background,formaction,poster"),aa=/((java|vb)script|mhtml):/i,V=/^data:/i;Y=RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))",
"g");U=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;D=f.getShortEndedElements();W=b.self_closing_elements||f.getSelfClosingElements();L=f.getBoolAttrs();B=b.validate;H=b.remove_internals;I=b.fix_self_closing;N=f.getSpecialElements();for($=a+">";p=Y.exec($);){h<p.index&&m.text(F(a.substr(h,p.index-h)));if(v=p[6])v=v.toLowerCase(),":"===v.charAt(0)&&(v=v.substr(1)),k(v);else if(v=p[7]){if(p.index+p[0].length>a.length){m.text(F(a.substr(p.index)));h=p.index+p[0].length;
continue}v=v.toLowerCase();":"===v.charAt(0)&&(v=v.substr(1));h=v in D;I&&W[v]&&0<y.length&&y[y.length-1].name===v&&k(v);if(!B||(G=f.getElementRule(v))){E=!0;B&&(Q=G.attributes,T=G.attributePatterns);(K=p[8])?((A=-1!==K.indexOf("data-mce-type"))&&H&&(E=!1),q=[],q.map={},K.replace(U,l)):(q=[],q.map={});if(B&&!A){s=G.attributesRequired;X=G.attributesDefault;ba=G.attributesForced;(x=G.removeEmptyAttrs)&&!q.length&&(E=!1);if(ba)for(x=ba.length;x--;)u=ba[x],z=u.name,u=u.value,"{$uid}"===u&&(u="mce_"+O++),
q.map[z]=u,q.push({name:z,value:u});if(X)for(x=X.length;x--;)u=X[x],z=u.name,z in q.map||(u=u.value,"{$uid}"===u&&(u="mce_"+O++),q.map[z]=u,q.push({name:z,value:u}));if(s){for(x=s.length;x--&&!(s[x]in q.map););-1===x&&(E=!1)}if(u=q.map["data-mce-bogus"]){if("all"===u){h=d(f,a,Y.lastIndex);Y.lastIndex=h;continue}E=!1}}E&&m.start(v,q,h)}else E=!1;if(s=N[v]){s.lastIndex=h=p.index+p[0].length;(p=s.exec(a))?(E&&(C=a.substr(h,p.index-h)),h=p.index+p[0].length):(C=a.substr(h),h=a.length);E&&(0<C.length&&
m.text(C,!0),m.end(v));Y.lastIndex=h;continue}h||(K&&K.indexOf("/")==K.length-1?E&&m.end(v):y.push({name:v,valid:E}))}else(v=p[1])?(">"===v.charAt(0)&&(v=" "+v),b.allow_conditional_comments||"[if"!==v.substr(0,3).toLowerCase()||(v=" "+v),m.comment(v)):(v=p[2])?m.cdata(v.replace(/\x3c!--|--\x3e/g,"")):(v=p[3])?m.doctype(v):(v=p[4])&&m.pi(v,p[5]);h=p.index+p[0].length}h<a.length&&m.text(F(a.substr(h)));for(x=y.length-1;0<=x;x--)v=y[x],v.valid&&m.end(v.name)}}var a=e.each;b.findEndTag=d;return b});u("tinymce.core.html.DomParser",
["tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.html.SaxParser","tinymce.core.util.Tools"],function(h,g,e,d){var b=d.makeMap,a=d.each,c=d.explode,f=d.extend,k=function(a,b){a.padd_empty_with_br?b.empty().append(new h("br","1")).shortEnded=!0:b.empty().append(new h("#text","3")).value="\u00a0"};return function(p,n){function r(a){var c,f,d,e,k,m,g,p,t,r,v,w,u,K;v=b("tr,td,th,tbody,thead,tfoot,table");t=n.getNonEmptyElements();r=n.getWhiteSpaceElements();w=n.getTextBlockElements();
u=n.getSpecialElements();for(c=0;c<a.length;c++)if(f=a[c],f.parent&&!f.fixed)if(w[f.name]&&"li"==f.parent.name){for(d=f.next;d;){if(w[d.name])d.name="li",d.fixed=!0,f.parent.insert(d,f.parent);else break;d=d.next}f.unwrap(f)}else{e=[f];for(d=f.parent;d&&!n.isValidChild(d.name,f.name)&&!v[d.name];d=d.parent)e.push(d);if(d&&1<e.length){e.reverse();k=m=l.filterNode(e[0].clone());for(p=0;p<e.length-1;p++){n.isValidChild(m.name,e[p].name)?(g=l.filterNode(e[p].clone()),m.append(g)):g=m;for(m=e[p].firstChild;m&&
m!=e[p+1];)K=m.next,g.append(m),m=K;m=g}k.isEmpty(t,r)?d.insert(f,e[0],!0):(d.insert(k,e[0],!0),d.insert(f,k));d=e[0];(d.isEmpty(t,r)||d&&d.firstChild===d.lastChild&&"br"===d.firstChild.name)&&d.empty().remove()}else f.parent&&("li"===f.name?(d=f.prev,!d||"ul"!==d.name&&"ul"!==d.name?(d=f.next,!d||"ul"!==d.name&&"ul"!==d.name?f.wrap(l.filterNode(new h("ul",1))):d.insert(f,d.firstChild,!0)):d.append(f)):n.isValidChild(f.parent.name,"div")&&n.isValidChild("div",f.name)?f.wrap(l.filterNode(new h("div",
1))):u[f.name]?f.empty().remove():f.unwrap())}}var l=this,m={},t=[],w={},v={};p=p||{};p.validate="validate"in p?p.validate:!0;p.root_name=p.root_name||"body";l.schema=n=n||new g;l.filterNode=function(a){var b,c,f;c in m&&((f=w[c])?f.push(a):w[c]=[a]);for(b=t.length;b--;)c=t[b].name,c in a.attributes.map&&((f=v[c])?f.push(a):v[c]=[a]);return a};l.addNodeFilter=function(b,f){a(c(b),function(a){var b=m[a];b||(m[a]=b=[]);b.push(f)})};l.addAttributeFilter=function(b,f){a(c(b),function(a){var b;for(b=0;b<
t.length;b++)if(t[b].name===a){t[b].callbacks.push(f);return}t.push({name:a,callbacks:[f]})})};l.parse=function(a,c){function d(){function a(c){c&&((b=c.firstChild)&&3==b.type&&(b.value=b.value.replace(Q,"")),(b=c.lastChild)&&3==b.type&&(b.value=b.value.replace(ba,"")))}var b=A.firstChild,c,f;if(n.isValidChild(A.name,O.toLowerCase())){for(;b;)c=b.next,3==b.type||1==b.type&&"p"!==b.name&&!K[b.name]&&!b.attr("data-mce-type")?(f||(f=l(O,1),f.attr(p.forced_root_block_attrs),A.insert(f,b)),f.append(b)):
(a(f),f=null),b=c;a(f)}}function l(a,b){var c=new h(a,b),f;a in m&&((f=w[a])?f.push(c):w[a]=[c]);return c}function g(a){var b,c=n.getBlockElements();for(a=a.prev;a&&3===a.type;){b=a.value.replace(ba,"");if(0<b.length){a.value=b;break}if(b=a.next){if(3==b.type&&b.value.length){a=a.prev;continue}if(!c[b.name]&&"script"!=b.name&&"style"!=b.name){a=a.prev;continue}}b=a.prev;a.remove();a=b}}var z,A,H,D,L,B,G,E,u,K,Q,T=[],X,ba,$,W,Y,U,N,O;c=c||{};w={};v={};K=f(b("script,style,head,html,body,title,meta,param"),
n.getBlockElements());N=n.getNonEmptyElements();U=n.children;u=p.validate;O="forced_root_block"in c?c.forced_root_block:p.forced_root_block;Y=n.getWhiteSpaceElements();Q=/^[ \t\r\n]+/;ba=/[ \t\r\n]+$/;$=/[ \t\r\n]+/g;W=/^[ \t\r\n]+$/;z=new e({validate:u,allow_script_urls:p.allow_script_urls,allow_conditional_comments:p.allow_conditional_comments,self_closing_elements:function(a){var b,c={};for(b in a)"li"!==b&&"p"!=b&&(c[b]=a[b]);return c}(n.getSelfClosingElements()),cdata:function(a){H.append(l("#cdata",
4)).value=a},text:function(a,b){var c;X||(a=a.replace($," "),H.lastChild&&K[H.lastChild.name]&&(a=a.replace(Q,"")));0!==a.length&&(c=l("#text",3),c.raw=!!b,H.append(c).value=a)},comment:function(a){H.append(l("#comment",8)).value=a},pi:function(a,b){H.append(l(a,7)).value=b;g(H)},doctype:function(a){H.append(l("#doctype",10)).value=a;g(H)},start:function(a,b,c){var f,d,e;if(f=u?n.getElementRule(a):{}){f=l(f.outputName||a,1);f.attributes=b;f.shortEnded=c;H.append(f);(d=U[H.name])&&U[f.name]&&!d[f.name]&&
T.push(f);for(d=t.length;d--;)e=t[d].name,e in b.map&&((E=v[e])?E.push(f):v[e]=[f]);K[a]&&g(f);c||(H=f);!X&&Y[a]&&(X=!0)}},end:function(a){var b,c,f,d;if(c=u?n.getElementRule(a):{}){if(K[a]&&!X){if((b=H.firstChild)&&3===b.type)if(f=b.value.replace(Q,""),0<f.length)b.value=f;else for(d=b.next,b.remove(),b=d;b&&3===b.type;)f=b.value,d=b.next,(0===f.length||W.test(f))&&b.remove(),b=d;if((b=H.lastChild)&&3===b.type)if(f=b.value.replace(ba,""),0<f.length)b.value=f;else for(d=b.prev,b.remove(),b=d;b&&3===
b.type;)f=b.value,d=b.prev,(0===f.length||W.test(f))&&b.remove(),b=d}X&&Y[a]&&(X=!1);if((c.removeEmpty||c.paddEmpty)&&H.isEmpty(N,Y))if(c.paddEmpty)k(p,H);else if(!H.attributes.map.name&&!H.attributes.map.id){a=H.parent;K[H.name]?H.empty().remove():H.unwrap();H=a;return}H=H.parent}}},n);A=H=new h(c.context||p.root_name,11);z.parse(a);u&&T.length&&(c.context?c.invalid=!0:r(T));O&&("body"==A.name||c.isRootContent)&&d();if(!c.invalid){for(G in w){E=m[G];z=w[G];for(B=z.length;B--;)z[B].parent||z.splice(B,
1);D=0;for(L=E.length;D<L;D++)E[D](z,G,c)}D=0;for(L=t.length;D<L;D++)if(E=t[D],E.name in v){z=v[E.name];for(B=z.length;B--;)z[B].parent||z.splice(B,1);B=0;for(G=E.callbacks.length;B<G;B++)E.callbacks[B](z,E.name,c)}}return A};p.remove_trailing_brs&&l.addNodeFilter("br",function(a){var b,c=a.length,d,e=f({},n.getBlockElements()),m=n.getNonEmptyElements(),l,g,t,r=n.getNonEmptyElements();e.body=1;for(b=0;b<c;b++)if(d=a[b],l=d.parent,e[d.parent.name]&&d===l.lastChild){for(g=d.prev;g;){t=g.name;if("span"!==
t||"bookmark"!==g.attr("data-mce-type")){if("br"!==t)break;if("br"===t){d=null;break}}g=g.prev}d&&(d.remove(),l.isEmpty(m,r)&&(d=n.getElementRule(l.name))&&(d.removeEmpty?l.remove():d.paddEmpty&&k(p,l)))}else{for(g=d;l&&l.firstChild===g&&l.lastChild===g;){g=l;if(e[l.name])break;l=l.parent}g===l&&!0!==p.padd_empty_with_br&&(l=new h("#text",3),l.value="\u00a0",d.replace(l))}});l.addAttributeFilter("href",function(a){var b=a.length,c,f=function(a){return a.split(" ").filter(function(a){return 0<a.length}).concat(["noopener"]).sort().join(" ")},
e=function(a){a=a?d.trim(a):"";return/\b(noopener)\b/g.test(a)?a:f(a)};if(!p.allow_unsafe_link_target)for(;b--;)c=a[b],"a"===c.name&&"_blank"===c.attr("target")&&c.attr("rel",e(c.attr("rel")))});p.allow_html_in_named_anchor||l.addAttributeFilter("id,name",function(a){for(var b=a.length,c,f,d,e;b--;)if(e=a[b],"a"===e.name&&e.firstChild&&!e.attr("href")){d=e.parent;c=e.lastChild;do f=c.prev,d.insert(c,e),c=f;while(c)}});p.fix_list_elements&&l.addNodeFilter("ul,ol",function(a){for(var b=a.length,c,f;b--;)if(c=
a[b],f=c.parent,"ul"===f.name||"ol"===f.name)c.prev&&"li"===c.prev.name?c.prev.append(c):(f=new h("li",1),f.attr("style","list-style-type: none"),c.wrap(f))});p.validate&&n.getValidClasses()&&l.addAttributeFilter("class",function(a){for(var b=a.length,c,f,d,e,k,m=n.getValidClasses(),l,g;b--;){c=a[b];f=c.attr("class").split(" ");k="";for(d=0;d<f.length;d++)e=f[d],g=!1,(l=m["*"])&&l[e]&&(g=!0),l=m[c.name],!g&&l&&l[e]&&(g=!0),g&&(k&&(k+=" "),k+=e);k.length||(k=null);c.attr("class",k)}})}});u("tinymce.core.html.Writer",
["tinymce.core.html.Entities","tinymce.core.util.Tools"],function(h,g){var e=g.makeMap;return function(d){var b=[],a,c,f,k,g;d=d||{};a=d.indent;c=e(d.indent_before||"");f=e(d.indent_after||"");k=h.getEncodeFunc(d.entity_encoding||"raw",d.entities);g="html"==d.element_format;return{start:function(d,e,l){var m,t,h;a&&c[d]&&0<b.length&&(m=b[b.length-1],0<m.length&&"\n"!==m&&b.push("\n"));b.push("<",d);if(e)for(m=0,t=e.length;m<t;m++)h=e[m],b.push(" ",h.name,'="',k(h.value,!0),'"');b[b.length]=!l||g?
">":" />";l&&a&&f[d]&&0<b.length&&(m=b[b.length-1],0<m.length&&"\n"!==m&&b.push("\n"))},end:function(c){b.push("</",c,">");a&&f[c]&&0<b.length&&(c=b[b.length-1],0<c.length&&"\n"!==c&&b.push("\n"))},text:function(a,c){0<a.length&&(b[b.length]=c?a:k(a))},cdata:function(a){b.push("<![CDATA[",a,"]]\x3e")},comment:function(a){b.push("\x3c!--",a,"--\x3e")},pi:function(c,f){f?b.push("<?",c," ",k(f),"?>"):b.push("<?",c,"?>");a&&b.push("\n")},doctype:function(c){b.push("<!DOCTYPE",c,">",a?"\n":"")},reset:function(){b.length=
0},getContent:function(){return b.join("").replace(/\n$/,"")}}}});u("tinymce.core.html.Serializer",["tinymce.core.html.Writer","tinymce.core.html.Schema"],function(h,g){return function(e,d){var b=new h(e);e=e||{};e.validate="validate"in e?e.validate:!0;this.schema=d=d||new g;this.writer=b;this.serialize=function(a){function c(a){var e=f[a.type],g,l,m,t,h,v,s,y;if(e)e(a);else{e=a.name;g=a.shortEnded;l=a.attributes;if(k&&l&&1<l.length&&(h=[],h.map={},y=d.getElementRule(a.name))){v=0;for(s=y.attributesOrder.length;v<
s;v++)m=y.attributesOrder[v],m in l.map&&(t=l.map[m],h.map[m]=t,h.push({name:m,value:t}));v=0;for(s=l.length;v<s;v++)m=l[v].name,m in h.map||(t=l.map[m],h.map[m]=t,h.push({name:m,value:t}));l=h}b.start(a.name,l,g);if(!g){if(a=a.firstChild){do c(a);while(a=a.next)}b.end(e)}}}var f,k;k=e.validate;f={3:function(a){b.text(a.value,a.raw)},8:function(a){b.comment(a.value)},7:function(a){b.pi(a.name,a.value)},10:function(a){b.doctype(a.value)},4:function(a){b.cdata(a.value)},11:function(a){if(a=a.firstChild){do c(a);
while(a=a.next)}}};b.reset();if(1!=a.type||e.inner)f[11](a);else c(a);return b.getContent()}}});u("tinymce.core.dom.Serializer","tinymce.core.dom.DOMUtils tinymce.core.html.DomParser tinymce.core.html.SaxParser tinymce.core.html.Entities tinymce.core.html.Serializer tinymce.core.html.Node tinymce.core.html.Schema tinymce.core.Env tinymce.core.util.Tools tinymce.core.text.Zwsp".split(" "),function(h,g,e,d,b,a,c,f,k,p){function n(a){var b;(a=a.lastChild)&&"br"===a.name&&(b=a.prev)&&"br"===b.name&&(a.remove(),
b.remove())}var r=k.each,l=k.trim,m=h.DOM;return function(a,h){function v(a){var b=RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+C.join("|")+')="[^"]+"'].join("|"),"gi");return a=p.trim(a.replace(b,""))}function s(a){var b=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c,f,d,k,q=h.schema;a=v(a);for(k=q.getShortEndedElements();c=b.exec(a);)f=b.lastIndex,d=c[0].length,c=k[c[1]]?f:e.findEndTag(q,a,f),a=a.substring(0,f-d)+a.substring(c),b.lastIndex=f-d;return a}var y,q,x,C=["data-mce-selected"];
h&&(y=h.dom,q=h.schema);y=y||m;q=q||new c(a);a.entity_encoding=a.entity_encoding||"named";a.remove_trailing_brs="remove_trailing_brs"in a?a.remove_trailing_brs:!0;x=new g(a,q);x.addAttributeFilter("data-mce-tabindex",function(a,b){for(var c=a.length,f;c--;)f=a[c],f.attr("tabindex",f.attributes.map["data-mce-tabindex"]),f.attr(b,null)});x.addAttributeFilter("src,href,style",function(b,c){for(var f=b.length,d,e,k="data-mce-"+c,q=a.url_converter,m=a.url_converter_scope;f--;)d=b[f],e=d.attributes.map[k],
void 0!==e?(d.attr(c,0<e.length?e:null),d.attr(k,null)):(e=d.attributes.map[c],"style"===c?e=y.serializeStyle(y.parseStyle(e),d.name):q&&(e=q.call(m,e,c,d.name)),d.attr(c,0<e.length?e:null))});x.addAttributeFilter("class",function(a){for(var b=a.length,c,f;b--;)if(c=a[b],f=c.attr("class"))f=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",0<f.length?f:null)});x.addAttributeFilter("data-mce-type",function(a,b,c){b=a.length;for(var f;b--;)f=a[b],"bookmark"!==f.attributes.map["data-mce-type"]||
c.cleanup||f.remove()});x.addNodeFilter("noscript",function(a){for(var b=a.length,c;b--;)if(c=a[b].firstChild)c.value=d.decode(c.value)});x.addNodeFilter("script,style",function(a,b){function c(a){return a.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((\x3c!--)?(\s*\/\/)?\s*<!\[CDATA\[|(\x3c!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*\x3c!--|\/\*\s*\x3c!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(--\x3e)?|\s*\/\/\s*\]\]>(--\x3e)?|\/\/\s*(--\x3e)?|\]\]>|\/\*\s*--\x3e\s*\*\/|\s*--\x3e\s*)\s*$/g,
"")}for(var f=a.length,d,e,k;f--;)d=a[f],e=d.firstChild?d.firstChild.value:"","script"===b?((k=d.attr("type"))&&d.attr("type","mce-no/type"==k?null:k.replace(/^mce\-/,"")),0<e.length&&(d.firstChild.value="// <![CDATA[\n"+c(e)+"\n// ]]\x3e")):0<e.length&&(d.firstChild.value="\x3c!--\n"+c(e)+"\n--\x3e")});x.addNodeFilter("#comment",function(a){for(var b=a.length,c;b--;)c=a[b],0===c.value.indexOf("[CDATA[")?(c.name="#cdata",c.type=4,c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===c.value.indexOf("mce:protected ")&&
(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))});x.addNodeFilter("xml:namespace,input",function(a,b){for(var c=a.length,f;c--;)f=a[c],7===f.type?f.remove():1===f.type&&("input"!==b||"type"in f.attributes.map||f.attr("type","text"))});x.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)});return{schema:q,addNodeFilter:x.addNodeFilter,addAttributeFilter:x.addAttributeFilter,
serialize:function(c,d){var e,k,m,g;f.ie&&0<y.select("script,style,select,map").length?(e=c.innerHTML,c=c.cloneNode(!1),y.setHTML(c,e)):c=c.cloneNode(!0);e=document.implementation;e.createHTMLDocument&&(k=e.createHTMLDocument(""),r("BODY"==c.nodeName?c.childNodes:[c],function(a){k.body.appendChild(k.importNode(a,!0))}),c="BODY"!=c.nodeName?k.body.firstChild:k.body,m=y.doc,y.doc=k);d=d||{};d.format=d.format||"html";d.selection&&(d.forced_root_block="");d.no_events||(d.node=c,this.onPreProcess(d));
g=x.parse(l(d.getInner?c.innerHTML:y.getOuterHTML(c)),d);n(g);e=new b(a,q);d.content=e.serialize(g);d.cleanup||(d.content=p.trim(d.content),d.content=d.content.replace(/\uFEFF/g,""));if(!d.no_events)this.onPostProcess(d);m&&(y.doc=m);d.node=null;return d.content},addRules:function(a){q.addValidElements(a)},setRules:function(a){q.setValidElements(a)},onPreProcess:function(a){h&&h.fire("PreProcess",a)},onPostProcess:function(a){h&&h.fire("PostProcess",a)},addTempAttr:function(a){-1===k.inArray(C,a)&&
(x.addAttributeFilter(a,function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)}),C.push(a))},trimHtml:v,getTrimmedContent:function(){return s(h.getBody().innerHTML)},trimContent:s}}});u("tinymce.core.util.VK",["tinymce.core.Env"],function(h){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(g){return g.shiftKey||g.ctrlKey||g.altKey||this.metaKeyPressed(g)},metaKeyPressed:function(g){return h.mac?g.metaKey:g.ctrlKey&&!g.altKey}}});u("tinymce.core.geom.ClientRect",
[],function(){function h(b){return b?{left:a(b.left),top:a(b.top),bottom:a(b.bottom),right:a(b.right),width:a(b.width),height:a(b.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function g(a,b){return a.bottom-a.height/2<b.top?!0:a.top>b.bottom?!1:0<=b.top-a.bottom&&b.top-a.bottom<=Math.min(a.height,b.height)/2}function e(a,b){return a.top>b.bottom?!0:a.bottom<b.top?!1:0<=b.bottom-a.top&&b.bottom-a.top<=Math.min(a.height,b.height)/2}function d(a,b){return a.left<b.left}function b(a,b){return a.right>
b.right}var a=Math.round;return{clone:h,collapse:function(a,b){a=h(a);b||(a.left+=a.width);a.right=a.left;a.width=0;return a},isEqual:function(a,b){return a.left===b.left&&a.top===b.top&&a.bottom===b.bottom&&a.right===b.right},isAbove:g,isBelow:e,isLeft:d,isRight:b,compare:function(a,f){return g(a,f)?-1:e(a,f)?1:d(a,f)?-1:b(a,f)?1:0},containsXY:function(a,b,d){return b>=a.left&&b<=a.right&&d>=a.top&&d<=a.bottom}}});u("tinymce.core.dom.RangePoint",["ephox.katamari.api.Arr","tinymce.core.geom.ClientRect"],
function(h,g){return{isXYWithinRange:function(e,d,b){return b.collapsed?!1:h.foldl(b.getClientRects(),function(a,b){return a||g.containsXY(b,e,d)},!1)}}});u("tinymce.core.dom.ControlSelection","ephox.katamari.api.Fun tinymce.core.dom.NodeType tinymce.core.dom.RangePoint tinymce.core.Env tinymce.core.util.Delay tinymce.core.util.Tools tinymce.core.util.VK".split(" "),function(h,g,e,d,b,a,c){function f(a,b){for(;b&&b!=a;){if(p(b)||k(b))return b;b=b.parentNode}return null}var k=g.isContentEditableFalse,
p=g.isContentEditableTrue,n=function(a,b){var c=b.target,f=a.selection.getRng();!b.target||"IMG"!==b.target.nodeName||e.isXYWithinRange(b.clientX,b.clientY,f)||b.isDefaultPrevented()||(b.preventDefault(),a.selection.select(c))};return function(e,g){function m(a){var b=g.settings.object_resizing;if(!1===b||d.iOS)return!1;"string"!=typeof b&&(b="table,img,div");return"false"===a.getAttribute("data-mce-resize")||a==g.getBody()?!1:g.dom.is(a,b)}function p(a){var b,f,d;b=a.screenX-T;f=a.screenY-X;O=b*
K[2]+W;F=f*K[3]+Y;O=5>O?5:O;F=5>F?5:F;if("IMG"==B.nodeName&&!1!==g.settings.resize_img_proportional?!c.modifierPressed(a):c.modifierPressed(a)||"IMG"==B.nodeName&&0!==K[2]*K[3])V(b)>V(f)?(F=ca(O*U),O=ca(F/U)):(O=ca(F/U),F=ca(O*U));D.setStyles(G,{width:O,height:F});a=K.startPos.x+b;d=K.startPos.y+f;a=0<a?a:0;d=0<d?d:0;D.setStyles(E,{left:a,top:d,display:"block"});E.innerHTML=O+" &times; "+F;0>K[2]&&G.clientWidth<=O&&D.setStyle(G,"left",ba+(W-O));0>K[3]&&G.clientHeight<=F&&D.setStyle(G,"top",$+(Y-F));
b=Z.scrollWidth-M;f=Z.scrollHeight-ha;0!==b+f&&D.setStyles(E,{left:a-b,top:d-f});N||(g.fire("ObjectResizeStart",{target:B,width:W,height:Y}),N=!0)}function w(){function a(b,c){c&&(B.style[b]||!g.schema.isValid(B.nodeName.toLowerCase(),b)?D.setStyle(B,b,c):D.setAttrib(B,b,c))}N=!1;a("width",O);a("height",F);D.unbind(I,"mousemove",p);D.unbind(I,"mouseup",w);P!=I&&(D.unbind(P,"mousemove",p),D.unbind(P,"mouseup",w));D.remove(G);D.remove(E);aa&&"TABLE"!=B.nodeName||v(B);g.fire("ObjectResized",{target:B,
width:O,height:F});D.setAttrib(B,"style",D.getAttrib(B,"style"));g.nodeChanged()}function v(a,b,c){var f,e,k;s();z();f=D.getPos(a,Z);ba=f.x;$=f.y;f=a.getBoundingClientRect();e=f.width||f.right-f.left;k=f.height||f.bottom-f.top;B!=a&&(C(),B=a,O=F=0);f=g.fire("ObjectSelected",{target:a});m(a)&&!f.isDefaultPrevented()?L(u,function(a,f){function q(b){T=b.screenX;X=b.screenY;W=B.clientWidth;Y=B.clientHeight;U=Y/W;K=a;a.startPos={x:e*a[0]+ba,y:k*a[1]+$};M=Z.scrollWidth;ha=Z.scrollHeight;G=B.cloneNode(!0);
D.addClass(G,"mce-clonedresizable");D.setAttrib(G,"data-mce-bogus","all");G.contentEditable=!1;G.unSelectabe=!0;D.setStyles(G,{left:ba,top:$,margin:0});G.removeAttribute("data-mce-selected");Z.appendChild(G);D.bind(I,"mousemove",p);D.bind(I,"mouseup",w);P!=I&&(D.bind(P,"mousemove",p),D.bind(P,"mouseup",w));E=D.add(Z,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},W+" &times; "+Y)}var m;b?f==b&&q(c):((m=D.get("mceResizeHandle"+f))&&D.remove(m),m=D.add(Z,"div",{id:"mceResizeHandle"+f,"data-mce-bogus":"all",
"class":"mce-resizehandle",unselectable:!0,style:"cursor:"+f+"-resize; margin:0; padding:0"}),d.ie&&(m.contentEditable=!1),D.bind(m,"mousedown",function(a){a.stopImmediatePropagation();a.preventDefault();q(a)}),a.elm=m,D.setStyles(m,{left:e*a[0]+ba-m.offsetWidth/2,top:k*a[1]+$-m.offsetHeight/2}))}):s();B.setAttribute("data-mce-selected","1")}function s(){var a,b;z();B&&B.removeAttribute("data-mce-selected");for(a in u)if(b=D.get("mceResizeHandle"+a))D.unbind(b),D.remove(b)}function y(a){function b(a,
c){if(a){do if(a===c)return!0;while(a=a.parentNode)}}var c;if(!N&&!g.removed){L(D.select("img[data-mce-selected],hr[data-mce-selected]"),function(a){a.removeAttribute("data-mce-selected")});c="mousedown"==a.type?a.target:e.getNode();c=D.$(c).closest(aa?"table":"table,img,hr")[0];if(b(c,Z)&&(A(),a=e.getStart(!0),b(a,c)&&b(e.getEnd(!0),c)&&(!aa||c!=a&&"IMG"!==a.nodeName))){v(c);return}s()}}function q(a){a=a.srcElement;var b,c,f,d,e,k;b=a.getBoundingClientRect();e=Q.clientX-b.left;k=Q.clientY-b.top;
for(c in u)if(b=u[c],f=a.offsetWidth*b[0],d=a.offsetHeight*b[1],8>V(f-e)&&8>V(d-k)){K=b;break}N=!0;g.fire("ObjectResizeStart",{target:B,width:B.clientWidth,height:B.clientHeight});g.getDoc().selection.empty();v(a,c,Q)}function x(a){var b=a.srcElement;if(k(f(g.getBody(),b)))a.preventDefault?a.preventDefault():a.returnValue=!1;else if(b!=B)if(g.fire("ObjectSelected",{target:b}),C(),0===b.id.indexOf("mceResizeHandle"))a.returnValue=!1;else if("IMG"==b.nodeName||"TABLE"==b.nodeName)s(),(B=b)&&b.attachEvent&&
b.attachEvent("onresizestart",q)}function C(){B&&B.detachEvent&&B.detachEvent("onresizestart",q)}function z(){for(var a in u){var b=u[a];b.elm&&(D.unbind(b.elm),delete b.elm)}}function A(){try{g.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(a){}}function H(a){var b;if(aa){b=I.body.createControlRange();try{return b.addElement(a),b.select(),!0}catch(c){}}}var D=g.dom,L=a.each,B,G,E,u,K,Q,T,X,ba,$,W,Y,U,N,O,F,I=g.getDoc(),P=document,aa=d.ie&&11>d.ie,V=Math.abs,ca=Math.round,Z=g.getBody(),
M,ha;u={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};g.contentStyles.push(".mce-content-body div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: "+(zenarioAB.isOpen?31E4:1E4)+"}.mce-content-body .mce-resizehandle:hover {background: #000}.mce-content-body img[data-mce-selected],.mce-content-body hr[data-mce-selected] {outline: 1px solid black;resize: none}.mce-content-body .mce-clonedresizable {position: absolute;"+
(d.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: "+(zenarioAB.isOpen?31E4:1E4)+"}.mce-content-body .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");g.on("init",function(){aa?(g.on("ObjectResized",function(a){"TABLE"!=a.target.nodeName&&(s(),
H(a.target))}),Z&&Z.attachEvent&&Z.attachEvent("oncontrolselect",x),g.on("mousedown",function(a){Q=a})):(A(),11<=d.ie&&(g.on("mousedown click",function(a){var b=a.target,c=b.nodeName;N||!/^(TABLE|IMG|HR)$/.test(c)||k(f(g.getBody(),b))||(2!==a.button&&g.selection.select(b,"TABLE"==c),"mousedown"==a.type&&g.nodeChanged())}),g.dom.bind(Z,"mscontrolselect",function(a){function c(a){b.setEditorTimeout(g,function(){g.selection.select(a)})}k(f(g.getBody(),a.target))?(a.preventDefault(),c(a.target)):/^(TABLE|IMG|HR)$/.test(a.target.nodeName)&&
(a.preventDefault(),"IMG"==a.target.tagName&&c(a.target))})));var a=b.throttle(function(a){g.composing||y(a)});g.on("nodechange ResizeEditor ResizeWindow drop",a);g.on("keyup compositionend",function(b){B&&"TABLE"==B.nodeName&&a(b)});g.on("hide blur",s);g.on("contextmenu",h.curry(n,g))});g.on("remove",z);return{isResizable:m,showResizeRect:v,hideResizeRect:s,updateResizeRect:y,controlSelect:H,destroy:function(){B=G=null;aa&&(C(),Z&&Z.detachEvent&&Z.detachEvent("oncontrolselect",x))}}}});u("tinymce.core.util.Fun",
[],function(){function h(e){var d=g.call(arguments);return d.length-1>=e.length?e.apply(this,d.slice(1)):function(){var b=d.concat([].slice.call(arguments));return h.apply(this,b)}}var g=[].slice;return{constant:function(e){return function(){return e}},negate:function(e){return function(d){return!e(d)}},and:function(){var e=g.call(arguments);return function(d){for(var b=0;b<e.length;b++)if(!e[b](d))return!1;return!0}},or:function(){var e=g.call(arguments);return function(d){for(var b=0;b<e.length;b++)if(e[b](d))return!0;
return!1}},curry:h,compose:function(e,d){return function(b){return e(d(b))}},noop:function(){}}});u("tinymce.core.caret.CaretCandidate",["tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.caret.CaretContainer"],function(h,g,e){function d(a){return m(a)?!1:p(a)?n(a.parentNode)?!1:!0:r(a)||k(a)||l(a)||f(a)}function b(a,b){for(a=a.parentNode;a&&a!=b;a=a.parentNode){if(f(a))return!1;if(c(a))break}return!0}function a(a){return f(a)?!0!==g.reduce(a.getElementsByTagName("*"),function(a,b){return a||
c(b)},!1):!1}var c=h.isContentEditableTrue,f=h.isContentEditableFalse,k=h.isBr,p=h.isText,n=h.matchNodeNames("script style textarea"),r=h.matchNodeNames("img input textarea hr iframe video audio object"),l=h.matchNodeNames("table"),m=e.isCaretContainer;return{isCaretCandidate:d,isInEditable:b,isAtomic:function(b){return r(b)||a(b)},isEditableCaretCandidate:function(a,c){return d(a)&&b(a,c)}}});u("tinymce.core.text.ExtendingChar",[],function(){var h=RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");
return{isExtendingChar:function(g){return"string"==typeof g&&768<=g.charCodeAt(0)&&h.test(g)}}});u("tinymce.core.caret.CaretPosition","tinymce.core.util.Fun tinymce.core.dom.NodeType tinymce.core.dom.DOMUtils tinymce.core.dom.RangeUtils tinymce.core.caret.CaretCandidate tinymce.core.geom.ClientRect tinymce.core.text.ExtendingChar".split(" "),function(h,g,e,d,b,a,c){function f(a){return"createRange"in a?a.createRange():e.DOM.createRng()}function k(a){return a&&/[\r\n\t ]/.test(a)}function p(a){var b=
a.startContainer,c=a.startOffset;return k(a.toString())&&v(b.parentNode)&&(a=b.data,k(a[c-1])||k(a[c+1]))?!0:!1}function n(b){function d(b){var c;c=b.getClientRects();c=0<c.length?a.clone(c[0]):a.clone(b.getBoundingClientRect());if(y(b)&&0===c.left){var e=b.ownerDocument;c=f(e);var e=e.createTextNode("\u00a0"),k=b.parentNode;k.insertBefore(e,b);c.setStart(e,0);c.setEnd(e,1);b=a.clone(c.getBoundingClientRect());k.removeChild(e);return b}return c}function e(b,c){b=a.collapse(b,c);b.width=1;b.right=
b.left+1;return b}function k(b){0===b.height||0<g.length&&a.isEqual(b,g[g.length-1])||g.push(b)}function q(a,b){var m=f(a.ownerDocument);if(b<a.data.length){if(c.isExtendingChar(a.data[b]))return g;if(c.isExtendingChar(a.data[b-1])&&(m.setStart(a,b),m.setEnd(a,b+1),!p(m)))return k(e(d(m),!1)),g}0<b&&(m.setStart(a,b-1),m.setEnd(a,b),p(m)||k(e(d(m),!1)));b<a.data.length&&(m.setStart(a,b),m.setEnd(a,b+1),p(m)||k(e(d(m),!0)))}var g=[],h;if(s(b.container()))return q(b.container(),b.offset()),g;if(l(b.container()))if(b.isAtEnd())h=
x(b.container(),b.offset()),s(h)&&q(h,h.data.length),w(h)&&!y(h)&&k(e(d(h),!1));else{h=x(b.container(),b.offset());s(h)&&q(h,0);if(w(h)&&b.isAtEnd())return k(e(d(h),!1)),g;b=x(b.container(),b.offset()-1);w(b)&&!y(b)&&(m(b)||m(h)||!w(h))&&k(e(d(b),!1));w(h)&&k(e(d(h),!0))}return g}function r(a,b,c){function d(){c||(c=n(new r(a,b)));return c}return{container:h.constant(a),offset:h.constant(b),toRange:function(){var c;c=f(a.ownerDocument);c.setStart(a,b);c.setEnd(a,b);return c},getClientRects:d,isVisible:function(){return 0<
d().length},isAtStart:function(){s(a);return 0===b},isAtEnd:function(){return s(a)?b>=a.data.length:b>=a.childNodes.length},isEqual:function(c){return c&&a===c.container()&&b===c.offset()},getNode:function(c){return x(a,c?b-1:b)}}}var l=g.isElement;b=b.isCaretCandidate;var m=g.matchStyleValues("display","block table"),t=g.matchStyleValues("float","left right"),w=h.and(l,b,h.negate(t)),v=h.negate(g.matchStyleValues("white-space","pre pre-line pre-wrap")),s=g.isText,y=g.isBr,q=e.nodeIndex,x=d.getNode;
r.fromRangeStart=function(a){return new r(a.startContainer,a.startOffset)};r.fromRangeEnd=function(a){return new r(a.endContainer,a.endOffset)};r.after=function(a){return new r(a.parentNode,q(a)+1)};r.before=function(a){return new r(a.parentNode,q(a))};r.isAtStart=function(a){return a?a.isAtStart():!1};r.isAtEnd=function(a){return a?a.isAtEnd():!1};r.isTextPosition=function(a){return a?g.isText(a.container()):!1};return r});u("tinymce.core.caret.CaretBookmark",["tinymce.core.dom.NodeType","tinymce.core.dom.DOMUtils",
"tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.caret.CaretPosition"],function(h,g,e,d,b){function a(b){b=b.parentNode;return w(b)?a(b):b}function c(a){return a?d.reduce(a.childNodes,function(a,b){w(b)&&"BR"!=b.nodeName?a=a.concat(c(b)):a.push(b);return a},[]):[]}function f(a,b){for(;(a=a.previousSibling)&&t(a);)b+=a.data.length;return b}function k(a){return function(b){return a===b}}function p(b){var f,e,m;f=c(a(b));e=d.findIndex(f,k(b),b);f=f.slice(0,e+1);m=d.reduce(f,function(a,b,
c){t(b)&&t(f[c-1])&&a++;return a},0);f=d.filter(f,h.matchNodeNames(b.nodeName));e=d.findIndex(f,k(b),b);return e-m}function n(a){return(t(a)?"text()":a.nodeName.toLowerCase())+"["+p(a)+"]"}function r(a,b,c){var f=[];for(b=b.parentNode;!(b==a||c&&c(b));b=b.parentNode)f.push(b);return f}function l(a,b,f){var e=c(a),e=d.filter(e,function(a,b){return!t(a)||!t(e[b-1])}),e=d.filter(e,h.matchNodeNames(b));return e[f]}function m(a,c){for(var f=a,d=0,e;t(f);){e=f.data.length;if(c>=d&&c<=d+e){a=f;c-=d;break}if(!t(f.nextSibling)){a=
f;c=e;break}d+=e;f=f.nextSibling}c>a.data.length&&(c=a.data.length);return new b(a,c)}var t=h.isText,w=h.isBogus,v=g.nodeIndex;return{create:function(a,b){var c,k,m=[],g;c=b.container();k=b.offset();t(c)?g=f(c,k):(c=c.childNodes,k>=c.length?(g="after",k=c.length-1):g="before",c=c[k]);m.push(n(c));k=r(a,c);k=d.filter(k,e.negate(h.isBogus));m=m.concat(d.map(k,function(a){return n(a)}));return m.reverse().join("/")+","+g},resolve:function(a,c){var f,e;if(!c)return null;f=c.split(",");c=f[0].split("/");
e=1<f.length?f[1]:"before";f=d.reduce(c,function(a,b){b=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);if(!b)return null;"text()"===b[1]&&(b[1]="#text");return l(a,b[1],parseInt(b[2],10))},a);return f?t(f)?m(f,parseInt(e,10)):(e="after"===e?v(f)+1:v(f),new b(f.parentNode,e)):null}}});u("tinymce.core.dom.BookmarkManager","tinymce.core.caret.CaretBookmark tinymce.core.caret.CaretContainer tinymce.core.caret.CaretPosition tinymce.core.dom.NodeType tinymce.core.dom.RangeUtils tinymce.core.Env tinymce.core.text.Zwsp tinymce.core.util.Tools".split(" "),
function(h,g,e,d,b,a,c,f){function k(c){var k=c.dom;this.getBookmark=function(a,t){function w(a,b){var c=0;f.each(k.select(a),function(a){if("all"!==a.getAttribute("data-mce-bogus")){if(a==b)return!1;c++}});return c}function v(a){function b(c){var f,d;d=c?"start":"end";f=a[d+"Container"];d=a[d+"Offset"];1==f.nodeType&&"TR"==f.nodeName&&(f=f.childNodes,f=f[Math.min(c?d:d-1,f.length-1)])&&(d=c?0:f.childNodes.length,a["set"+(c?"Start":"End")](f,d))}b(!0);b();return a}function s(a){function b(a,c){var d=
a[c?"startContainer":"endContainer"],e=a[c?"startOffset":"endOffset"],m=[],q,g=0;3===d.nodeType?m.push(t?n(d,e):e):(q=d.childNodes,e>=q.length&&q.length&&(g=1,e=Math.max(0,q.length-1)),m.push(k.nodeIndex(q[e],t)+g));for(;d&&d!=f;d=d.parentNode)m.push(k.nodeIndex(d,t));return m}var f=k.getRoot(),d={};d.start=b(a,!0);c.isCollapsed()||(d.end=b(a));return d}function y(a){function c(a,f){var e;if(d.isElement(a)&&(a=b.getNode(a,f),p(a)))return a;if(g.isCaretContainer(a)){d.isText(a)&&g.isCaretContainerBlock(a)&&
(a=a.parentNode);e=a.previousSibling;if(p(e))return e;e=a.nextSibling;if(p(e))return e}}return c(a.startContainer,a.startOffset)||c(a.endContainer,a.endOffset)}var q,x,C,z,A;if(2==a)return x=(A=c.getNode())?A.nodeName:null,q=c.getRng(),p(A)||"IMG"==x?{name:x,index:w(x,A)}:c.tridentSel?c.tridentSel.getBookmark(a):(A=y(q))?(x=A.tagName,{name:x,index:w(x,A)}):s(q);if(3==a)return q=c.getRng(),{start:h.create(k.getRoot(),e.fromRangeStart(q)),end:h.create(k.getRoot(),e.fromRangeEnd(q))};if(a)return{rng:c.getRng()};
q=c.getRng();C=k.uniqueId();z=c.isCollapsed();if(q.duplicate||q.item){if(q.item)return A=q.item(0),x=A.nodeName,{name:x,index:w(x,A)};x=q.duplicate();try{q.collapse(),q.pasteHTML('<span data-mce-type="bookmark" id="'+C+'_start" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'),z||(x.collapse(!1),q.moveToElementText(x.parentElement()),0===q.compareEndPoints("StartToEnd",x)&&x.move("character",-1),x.pasteHTML('<span data-mce-type="bookmark" id="'+C+'_end" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'))}catch(H){return null}}else{A=
c.getNode();x=A.nodeName;if("IMG"==x)return{name:x,index:w(x,A)};x=v(q.cloneRange());z||(x.collapse(!1),x.insertNode(k.create("span",{"data-mce-type":"bookmark",id:C+"_end",style:"overflow:hidden;line-height:0px"},"&#xFEFF;")));q=v(q);q.collapse(!0);q.insertNode(k.create("span",{"data-mce-type":"bookmark",id:C+"_start",style:"overflow:hidden;line-height:0px"},"&#xFEFF;"))}c.moveToBookmark({id:C,keep:1});return{id:C}};this.moveToBookmark=function(b){function d(a){var c=b[a?"start":"end"],f,e,k;if(c){k=
c[0];e=q;for(f=c.length-1;1<=f;f--){e=e.childNodes;if(c[f]>e.length-1)return;e=e[c[f]]}3===e.nodeType&&(k=Math.min(c[0],e.nodeValue.length));1===e.nodeType&&(k=Math.min(c[0],e.childNodes.length));a?n.setStart(e,k):n.setEnd(e,k)}return!0}function e(c){var d=k.get(b.id+"_"+c),q,g,p;p=b.keep;if(d&&(q=d.parentNode,"start"==c?(p?(q=d.firstChild,g=1):g=k.nodeIndex(d),x=C=q,z=A=g):(p?(q=d.firstChild,g=1):g=k.nodeIndex(d),C=q,A=g),!p)){p=d.previousSibling;q=d.nextSibling;for(f.each(f.grep(d.childNodes),function(a){3==
a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});d=k.get(b.id+"_"+c);)k.remove(d,1);p&&q&&p.nodeType==q.nodeType&&3==p.nodeType&&!a.opera&&(g=p.nodeValue.length,p.appendData(q.nodeValue),k.remove(q),"start"==c?(x=C=p,z=A=g):(C=p,A=g))}}function g(b){!k.isBlock(b)||b.innerHTML||a.ie||(b.innerHTML='<br data-mce-bogus="1" />');return b}function p(){var a,c;a=k.createRng();c=h.resolve(k.getRoot(),b.start);a.setStart(c.container(),c.offset());c=h.resolve(k.getRoot(),b.end);a.setEnd(c.container(),
c.offset());return a}var n,q,x,C,z,A;if(b)if(f.isArray(b.start)){n=k.createRng();q=k.getRoot();if(c.tridentSel)return c.tridentSel.moveToBookmark(b);d(!0)&&d()&&c.setRng(n)}else"string"==typeof b.start?c.setRng(p(b)):b.id?(e("start"),e("end"),x&&(n=k.createRng(),n.setStart(g(x),z),n.setEnd(g(C),A),c.setRng(n))):b.name?c.select(k.select(b.name)[b.index]):b.rng&&c.setRng(b.rng)}}var p=d.isContentEditableFalse,n=function(a,b){var f,d;d=c.trim(a.data.slice(0,b)).length;for(f=a.previousSibling;f&&3===
f.nodeType;f=f.previousSibling)d+=c.trim(f.data).length;return d};k.isBookmarkNode=function(a){return a&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")};return k});u("ephox.katamari.api.Global",[],function(){return"undefined"!==typeof window?window:Function("return this;")()});u("ephox.katamari.api.Resolve",["ephox.katamari.api.Global"],function(h){var g=function(d,b){for(var a=void 0!==b?b:h,c=0;c<d.length&&void 0!==a&&null!==a;++c)a=a[d[c]];return a},e=function(d,b){for(var a=
void 0!==b?b:h,c=0;c<d.length;++c){var f=d[c];if(void 0===a[f]||null===a[f])a[f]={};a=a[f]}return a};return{path:g,resolve:function(d,b){var a=d.split(".");return g(a,b)},forge:e,namespace:function(d,b){var a=d.split(".");return e(a,b)}}});u("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],function(h){return{getOrDie:function(g,e){var d=h.resolve(g,e);if(void 0===d)throw g+" not available on this browser";return d}}});u("ephox.sand.api.Node",["ephox.sand.util.Global"],function(h){return{documentPositionPreceding:function(g,
e){var d=h.getOrDie("Node").DOCUMENT_POSITION_PRECEDING;return 0!==(g.compareDocumentPosition(e)&d)},documentPositionContainedBy:function(g,e){var d=h.getOrDie("Node").DOCUMENT_POSITION_CONTAINED_BY;return 0!==(g.compareDocumentPosition(e)&d)}}});u("ephox.katamari.api.Thunk",[],function(){return{cached:function(h){var g=!1,e;return function(){g||(g=!0,e=h.apply(null,arguments));return e}}}});ga("global!Number",Number);u("ephox.sand.detect.Version",["ephox.katamari.api.Arr","global!Number","global!String"],
function(h,g,e){var d=function(){return b(0,0)},b=function(a,b){return{major:a,minor:b}};return{nu:b,detect:function(a,c){var f=e(c).toLowerCase();if(0===a.length)f=d();else{var k;a:{for(k=0;k<a.length;k++){var p=a[k];if(p.test(f)){k=p;break a}}k=void 0}f=k?b(g(f.replace(k,"$1")),g(f.replace(k,"$2"))):{major:0,minor:0}}return f},unknown:d}});u("ephox.sand.core.Browser",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(h,g){var e=function(b,a){return function(){return a===b}},d=function(b){var a=
b.current;return{current:a,version:b.version,isEdge:e("Edge",a),isChrome:e("Chrome",a),isIE:e("IE",a),isOpera:e("Opera",a),isFirefox:e("Firefox",a),isSafari:e("Safari",a)}};return{unknown:function(){return d({current:void 0,version:g.unknown()})},nu:d,edge:h.constant("Edge"),chrome:h.constant("Chrome"),ie:h.constant("IE"),opera:h.constant("Opera"),firefox:h.constant("Firefox"),safari:h.constant("Safari")}});u("ephox.sand.core.OperatingSystem",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],
function(h,g){var e=function(b,a){return function(){return a===b}},d=function(b){var a=b.current;return{current:a,version:b.version,isWindows:e("Windows",a),isiOS:e("iOS",a),isAndroid:e("Android",a),isOSX:e("OSX",a),isLinux:e("Linux",a),isSolaris:e("Solaris",a),isFreeBSD:e("FreeBSD",a)}};return{unknown:function(){return d({current:void 0,version:g.unknown()})},nu:d,windows:h.constant("Windows"),ios:h.constant("iOS"),android:h.constant("Android"),linux:h.constant("Linux"),osx:h.constant("OSX"),solaris:h.constant("Solaris"),
freebsd:h.constant("FreeBSD")}});u("ephox.sand.detect.DeviceType",["ephox.katamari.api.Fun"],function(h){return function(g,e,d){var b=g.isiOS()&&!0===/ipad/i.test(d),a=g.isiOS()&&!b,c=g.isAndroid()&&3===g.version.major,f=g.isAndroid()&&4===g.version.major,c=b||c||f&&!0===/mobile/i.test(d),k=(f=g.isiOS()||g.isAndroid())&&!c;e=e.isSafari()&&g.isiOS()&&!1===/safari/i.test(d);return{isiPad:h.constant(b),isiPhone:h.constant(a),isTablet:h.constant(c),isPhone:h.constant(k),isTouch:h.constant(f),isAndroid:g.isAndroid,
isiOS:g.isiOS,isWebView:h.constant(e)}}});u("ephox.sand.detect.UaString",["ephox.katamari.api.Arr","ephox.sand.detect.Version","global!String"],function(h,g,e){var d=function(b,a){var c=e(a).toLowerCase();return h.find(b,function(a){return a.search(c)})};return{detectBrowser:function(b,a){return d(b,a).map(function(b){var f=g.detect(b.versionRegexes,a);return{current:b.name,version:f}})},detectOs:function(b,a){return d(b,a).map(function(b){var f=g.detect(b.versionRegexes,a);return{current:b.name,
version:f}})}}});u("ephox.katamari.str.StrAppend",[],function(){return{addToStart:function(h,g){return g+h},addToEnd:function(h,g){return h+g},removeFromStart:function(h,g){return h.substring(g)},removeFromEnd:function(h,g){return h.substring(0,h.length-g)}}});u("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],function(h,g){return{first:function(e,d){return e.substr(0,d)},last:function(e,d){return e.substr(e.length-d,e.length)},head:function(e){return""===e?h.none():h.some(e.substr(0,
1))},tail:function(e){return""===e?h.none():h.some(e.substring(1))}}});u("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],function(h,g,e){var d=function(a,b){return""===b?!0:a.length<b.length?!1:a.substr(0,0+b.length)===b},b=function(a,b){return""===b?!0:a.length<b.length?!1:a.substr(a.length-b.length,a.length-b.length+b.length)===b};return{supplant:function(a,b){return a.replace(/\${([^{}]*)}/g,function(a,d){var e=b[d],g=typeof e;return"string"===
g||"number"===g?e:a})},startsWith:d,removeLeading:function(a,b){return d(a,b)?h.removeFromStart(a,b.length):a},removeTrailing:function(a,c){return b(a,c)?h.removeFromEnd(a,c.length):a},ensureLeading:function(a,b){return d(a,b)?a:h.addToStart(a,b)},ensureTrailing:function(a,c){return b(a,c)?a:h.addToEnd(a,c)},endsWith:b,contains:function(a,b){return-1!==a.indexOf(b)},trim:function(a){return a.replace(/^\s+|\s+$/g,"")},lTrim:function(a){return a.replace(/^\s+/g,"")},rTrim:function(a){return a.replace(/\s+$/g,
"")},capitalize:function(a){return g.head(a).bind(function(b){return g.tail(a).map(function(a){return b.toUpperCase()+a})}).getOr(a)}}});u("ephox.sand.info.PlatformInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Strings"],function(h,g){var e=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,d=function(b){return function(a){return g.contains(a,b)}},e=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(b){return g.contains(b,"edge/")&&g.contains(b,"chrome")&&g.contains(b,"safari")&&
g.contains(b,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,e],search:function(b){return g.contains(b,"chrome")&&!g.contains(b,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(b){return g.contains(b,"msie")||g.contains(b,"trident")}},{name:"Opera",versionRegexes:[e,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:d("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:d("firefox")},
{name:"Safari",versionRegexes:[e,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(b){return(g.contains(b,"safari")||g.contains(b,"mobile/"))&&g.contains(b,"applewebkit")}}],d=[{name:"Windows",search:d("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(b){return g.contains(b,"iphone")||g.contains(b,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:d("android"),
versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:d("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:d("linux"),versionRegexes:[]},{name:"Solaris",search:d("sunos"),versionRegexes:[]},{name:"FreeBSD",search:d("freebsd"),versionRegexes:[]}];return{browsers:h.constant(e),oses:h.constant(d)}});u("ephox.sand.core.PlatformDetection",["ephox.sand.core.Browser","ephox.sand.core.OperatingSystem","ephox.sand.detect.DeviceType","ephox.sand.detect.UaString",
"ephox.sand.info.PlatformInfo"],function(h,g,e,d,b){return{detect:function(a){var c=b.browsers(),f=b.oses(),c=d.detectBrowser(c,a).fold(h.unknown,h.nu),f=d.detectOs(f,a).fold(g.unknown,g.nu);a=e(f,c,a);return{browser:c,os:f,deviceType:a}}}});ga("global!navigator",navigator);u("ephox.sand.api.PlatformDetection",["ephox.katamari.api.Thunk","ephox.sand.core.PlatformDetection","global!navigator"],function(h,g,e){return{detect:h.cached(function(){return g.detect(e.userAgent)})}});u("global!console",[],
function(){"undefined"===typeof console&&(console={log:function(){}});return console});ga("global!document",document);u("ephox.sugar.api.node.Element",["ephox.katamari.api.Fun","global!Error","global!console","global!document"],function(h,g,e,d){var b=function(a){if(null===a||void 0===a)throw new g("Node cannot be null or undefined");return{dom:h.constant(a)}};return{fromHtml:function(a,c){var f=(c||d).createElement("div");f.innerHTML=a;if(!f.hasChildNodes()||1<f.childNodes.length)throw e.error("HTML does not have a single root node",
a),"HTML must have a single root node";return b(f.childNodes[0])},fromTag:function(a,c){var f=(c||d).createElement(a);return b(f)},fromText:function(a,c){var f=(c||d).createTextNode(a);return b(f)},fromDom:b}});u("ephox.sugar.api.node.NodeTypes",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}});u("ephox.sugar.api.search.Selectors","ephox.katamari.api.Arr ephox.katamari.api.Option ephox.sugar.api.node.Element ephox.sugar.api.node.NodeTypes global!Error global!document".split(" "),
function(h,g,e,d,b,a){var c=function(){var b=a.createElement("span");return void 0!==b.matches?0:void 0!==b.msMatchesSelector?1:void 0!==b.webkitMatchesSelector?2:void 0!==b.mozMatchesSelector?3:-1}(),f=d.ELEMENT,k=d.DOCUMENT;return{all:function(b,c){var d=void 0===c?a:c.dom();return d.nodeType!==f&&d.nodeType!==k||0===d.childElementCount?[]:h.map(d.querySelectorAll(b),e.fromDom)},is:function(a,d){var e=a.dom();if(e.nodeType!==f)return!1;if(0===c)return e.matches(d);if(1===c)return e.msMatchesSelector(d);
if(2===c)return e.webkitMatchesSelector(d);if(3===c)return e.mozMatchesSelector(d);throw new b("Browser lacks native selectors");},one:function(b,c){var d=void 0===c?a:c.dom();return d.nodeType!==f&&d.nodeType!==k||0===d.childElementCount?g.none():g.from(d.querySelector(b)).map(e.fromDom)}}});u("ephox.sugar.api.dom.Compare",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sand.api.Node","ephox.sand.api.PlatformDetection","ephox.sugar.api.search.Selectors"],function(h,g,e,d,b){var a=function(a,
b){return a.dom()===b.dom()},c=function(a,b){var c=a.dom(),f=b.dom();return c===f?!1:c.contains(f)},f=function(a,b){return e.documentPositionContainedBy(a.dom(),b.dom())};d=d.detect().browser.isIE()?f:c;return{eq:a,isEqualNode:function(a,b){return a.dom().isEqualNode(b.dom())},member:function(b,c){return h.exists(c,g.curry(a,b))},contains:d,is:b.is}});u("tinymce.core.dom.ScrollIntoView",["tinymce.core.dom.NodeType"],function(h){var g=function(e){for(var d=0,b=0;e&&e.nodeType;)d+=e.offsetLeft||0,b+=
e.offsetTop||0,e=e.offsetParent;return{x:d,y:b}};return{scrollIntoView:function(e,d,b){var a=e.dom,c=a.getRoot(),f;f=0;var k={elm:d,alignToTop:b};e.fire("scrollIntoView",k);if(!k.isDefaultPrevented()&&h.isElement(d)){!1===b&&(f=d.offsetHeight);if("BODY"!==c.nodeName&&(b=e.selection.getScrollContainer())){d=g(d).y-g(b).y+f;f=b.clientHeight;a=b.scrollTop;if(d<a||d+25>a+f)b.scrollTop=d<a?d:d-f+25;return}b=a.getViewPort(e.getWin());d=a.getPos(d).y+f;a=b.y;f=b.h;(d<b.y||d+25>a+f)&&e.getWin().scrollTo(0,
d<a?d:d-f+25)}}}});u("tinymce.core.dom.TridentSelection",[],function(){return function(h){function g(a,b){var f,d=0,e,g,r,l,m,t=-1,w;f=a.duplicate();f.collapse(b);w=f.parentElement();if(w.ownerDocument===h.dom.doc){for(;"false"===w.contentEditable;)w=w.parentNode;if(!w.hasChildNodes())return{node:w,inside:1};r=w.children;for(e=r.length-1;d<=e;)if(m=Math.floor((d+e)/2),l=r[m],f.moveToElementText(l),t=f.compareEndPoints(b?"StartToStart":"EndToEnd",a),0<t)e=m-1;else if(0>t)d=m+1;else return{node:l};
if(0>t)for(l?f.collapse(!1):(f.moveToElementText(w),f.collapse(!0),l=w,g=!0),d=0;0!==f.compareEndPoints(b?"StartToStart":"StartToEnd",a)&&0!==f.move("character",1)&&w==f.parentElement();)d++;else for(f.collapse(!0),d=0;0!==f.compareEndPoints(b?"StartToStart":"StartToEnd",a)&&0!==f.move("character",-1)&&w==f.parentElement();)d++;return{node:l,position:t,offset:d,inside:g}}}var e=this,d=h.dom,b=!1;this.getBookmark=function(a){function b(a){var c,f,e,k,g=[];c=a.parentNode;for(f=d.getRoot().parentNode;c!=
f&&9!==c.nodeType;){e=c.children;for(k=e.length;k--;)if(a===e[k]){g.push(k);break}a=c;c=c.parentNode}return g}function f(a){if(a=g(e,a))return{position:a.position,offset:a.offset,indexes:b(a.node),inside:a.inside}}var e=h.getRng(),p={};2===a&&(e.item?p.start={ctrl:!0,indexes:b(e.item(0))}:(p.start=f(!0),h.isCollapsed()||(p.end=f())));return p};this.moveToBookmark=function(a){function b(a){var c,f,e,k;c=d.getRoot();for(f=a.length-1;0<=f;f--)k=c.children,e=a[f],e<=k.length-1&&(c=k[e]);return c}function f(f){var d=
a[f?"start":"end"],l,m,h;d&&(l=0<d.position,m=g.createTextRange(),m.moveToElementText(b(d.indexes)),h=d.offset,void 0!==h?(m.collapse(d.inside||l),m.moveStart("character",l?-h:h)):m.collapse(f),e.setEndPoint(f?"StartToStart":"EndToStart",m),f&&e.collapse(!0))}var e,g=d.doc.body;a.start&&(a.start.ctrl?(e=g.createControlRange(),e.addElement(b(a.start.indexes))):(e=g.createTextRange(),f(!0),f()),e.select())};this.addRange=function(a){function c(a){var c,e,k,s,h;k=d.create("a");c=a?g:r;e=a?n:l;s=f.duplicate();
if(c==m||c==m.documentElement)c=t,e=0;3==c.nodeType?(c.parentNode.insertBefore(k,c),s.moveToElementText(k),s.moveStart("character",e),d.remove(k),f.setEndPoint(a?"StartToStart":"EndToEnd",s)):(h=c.childNodes,h.length?(e>=h.length?d.insertAfter(k,h[h.length-1]):c.insertBefore(k,h[e]),s.moveToElementText(k)):c.canHaveHTML&&(c.innerHTML="<span>&#xFEFF;</span>",k=c.firstChild,s.moveToElementText(k),s.collapse(b)),f.setEndPoint(a?"StartToStart":"EndToEnd",s),d.remove(k))}var f,e,g,n,r,l,m=h.dom.doc,t=
m.body,w,v;g=a.startContainer;n=a.startOffset;r=a.endContainer;l=a.endOffset;f=t.createTextRange();if(g==r&&1==g.nodeType){if(n==l&&!g.hasChildNodes()){if(g.canHaveHTML){(a=g.previousSibling)&&!a.hasChildNodes()&&d.isBlock(a)?a.innerHTML="&#xFEFF;":a=null;g.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>";f.moveToElementText(g.lastChild);f.select();d.doc.selection.clear();g.innerHTML="";a&&(a.innerHTML="");return}n=d.nodeIndex(g);g=g.parentNode}if(n==l-1)try{if(v=g.childNodes[n],e=t.createControlRange(),
e.addElement(v),e.select(),w=h.getRng(),w.item&&v===w.item(0))return}catch(s){}}c(!0);c();f.select()};this.getRangeAt=function(){function a(a){var d=g(b,a),e,k,l=0,p;e=d.node;k=d.offset;if(d.inside&&!e.hasChildNodes())f[a?"setStart":"setEnd"](e,0);else if(void 0===k)f[a?"setStartBefore":"setEndAfter"](e);else{if(0>d.position){d=d.inside?e.firstChild:e.nextSibling;if(!d){f[a?"setStartAfter":"setEndAfter"](e);return}if(!k){if(3==d.nodeType)f[a?"setStart":"setEnd"](d,0);else f[a?"setStartBefore":"setEndBefore"](d);
return}for(;d;){if(3==d.nodeType&&(p=d.nodeValue,l+=p.length,l>=k)){e=d;l-=k;l=p.length-l;break}d=d.nextSibling}}else{d=e.previousSibling;if(!d)return f[a?"setStartBefore":"setEndBefore"](e);if(!k){if(3==e.nodeType)f[a?"setStart":"setEnd"](d,e.nodeValue.length);else f[a?"setStartAfter":"setEndAfter"](d);return}for(;d;){if(3==d.nodeType&&(l+=d.nodeValue.length,l>=k)){e=d;l-=k;break}d=d.previousSibling}}f[a?"setStart":"setEnd"](e,l)}}var b=h.getRng(),f=d.createRng(),k,p,n,r;k=b.item?b.item(0):b.parentElement();
if(k.ownerDocument!=d.doc)return f;p=h.isCollapsed();if(b.item)return f.setStart(k.parentNode,d.nodeIndex(k)),f.setEnd(f.startContainer,f.startOffset+1),f;try{a(!0),p||a()}catch(l){if(-2147024809==l.number)r=e.getBookmark(2),n=b.duplicate(),n.collapse(!0),k=n.parentElement(),p||(n=b.duplicate(),n.collapse(!1),n=n.parentElement(),n.innerHTML=n.innerHTML),k.innerHTML=k.innerHTML,e.moveToBookmark(r),b=h.getRng(),a(!0),p||a();else throw l;}return f}}});u("ephox.katamari.api.Type",["global!Array","global!String"],
function(h,g){var e=function(d){return function(b){if(null===b)b="null";else{var a=typeof b;b="object"===a&&h.prototype.isPrototypeOf(b)?"array":"object"===a&&g.prototype.isPrototypeOf(b)?"string":a}return b===d}};return{isString:e("string"),isObject:e("object"),isArray:e("array"),isNull:e("null"),isBoolean:e("boolean"),isUndefined:e("undefined"),isFunction:e("function"),isNumber:e("number")}});u("ephox.katamari.data.Immutable",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!Array","global!Error"],
function(h,g,e,d){return function(){var b=arguments;return function(){for(var a=new e(arguments.length),c=0;c<a.length;c++)a[c]=arguments[c];if(b.length!==a.length)throw new d('Wrong number of arguments to struct. Expected "['+b.length+']", got '+a.length+" arguments");var f={};h.each(b,function(b,c){f[b]=g.constant(a[c])});return f}}});u("ephox.katamari.api.Obj",["ephox.katamari.api.Option","global!Object"],function(h,g){var e=function(){var a=g.keys,b=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&
b.push(c);return b};return void 0===a?b:a}(),d=function(a,b){for(var c=e(a),d=0,g=c.length;d<g;d++){var l=c[d];b(a[l],l,a)}},b=function(a,b){var c={};d(a,function(d,e){var g=b(d,e,a);c[g.k]=g.v});return c},a=function(a,b){var c=[];d(a,function(a,f){c.push(b(a,f))});return c},c=function(b){return a(b,function(a){return a})};return{bifilter:function(a,b){var c={},e={};d(a,function(a,f){(b(a,f)?c:e)[f]=a});return{t:c,f:e}},each:d,map:function(a,c){return b(a,function(a,b,f){return{k:b,v:c(a,b,f)}})},
mapToArray:a,tupleMap:b,find:function(a,b){for(var c=e(a),d=0,g=c.length;d<g;d++){var l=c[d],m=a[l];if(b(m,l,a))return h.some(m)}return h.none()},keys:e,values:c,size:function(a){return c(a).length}}});u("ephox.katamari.util.BagUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!Error"],function(h,g,e){var d=function(b){return b.slice(0).sort()};return{sort:d,reqMessage:function(b,a){throw new e("All required keys ("+d(b).join(", ")+") were not specified. Specified keys were: "+d(a).join(", ")+
".");},unsuppMessage:function(b){throw new e("Unsupported keys for object: "+d(b).join(", "));},validateStrArr:function(b,a){if(!g.isArray(a))throw new e("The "+b+" fields must be an array. Was: "+a+".");h.each(a,function(a){if(!g.isString(a))throw new e("The value "+a+" in the "+b+" fields was not a string.");})},invalidTypeMessage:function(b,a){throw new e("All values need to be of type: "+a+". Keys ("+d(b).join(", ")+") were not.");},checkDupes:function(b){var a=d(b);h.find(a,function(b,f){return f<
a.length-1&&b===a[f+1]}).each(function(b){throw new e("The field: "+b+" occurs more than once in the combined fields: ["+a.join(", ")+"].");})}}});u("ephox.katamari.data.MixedBag","ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Obj ephox.katamari.api.Option ephox.katamari.util.BagUtils global!Error global!Object".split(" "),function(h,g,e,d,b,a,c){return function(f,k){var p=f.concat(k);if(0===p.length)throw new a("You must specify at least one required or optional field.");b.validateStrArr("required",
f);b.validateStrArr("optional",k);b.checkDupes(p);return function(a){var r=e.keys(a);h.forall(f,function(a){return h.contains(r,a)})||b.reqMessage(f,r);var l=h.filter(r,function(a){return!h.contains(p,a)});0<l.length&&b.unsuppMessage(l);var m={};h.each(f,function(b){m[b]=g.constant(a[b])});h.each(k,function(b){m[b]=g.constant(c.prototype.hasOwnProperty.call(a,b)?d.some(a[b]):d.none())});return m}}});u("ephox.katamari.api.Struct",["ephox.katamari.data.Immutable","ephox.katamari.data.MixedBag"],function(h,
g){return{immutable:h,immutableBag:g}});u("ephox.sugar.alien.Recurse",[],function(){return{toArray:function(h,g){var e=[],d=function(a){e.push(a);return g(a)},b=g(h);do b=b.bind(d);while(b.isSome());return e}}});u("ephox.sugar.api.search.Traverse","ephox.katamari.api.Type ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Option ephox.katamari.api.Struct ephox.sugar.alien.Recurse ephox.sugar.api.dom.Compare ephox.sugar.api.node.Element".split(" "),function(h,g,e,d,b,a,c,f){var k=function(a){return f.fromDom(a.dom().ownerDocument)},
p=function(a){a=a.dom();return d.from(a.parentNode).map(f.fromDom)},n=function(a){a=a.dom();return d.from(a.previousSibling).map(f.fromDom)},r=function(a){a=a.dom();return d.from(a.nextSibling).map(f.fromDom)},l=function(a){a=a.dom();return g.map(a.childNodes,f.fromDom)},m=function(a,b){var c=a.dom().childNodes;return d.from(c[b]).map(f.fromDom)},t=b.immutable("element","offset");return{owner:k,defaultView:function(a){a=a.dom().ownerDocument.defaultView;return f.fromDom(a)},documentElement:function(a){a=
k(a);return f.fromDom(a.dom().documentElement)},parent:p,findIndex:function(a){return p(a).bind(function(b){b=l(b);return g.findIndex(b,function(b){return c.eq(a,b)})})},parents:function(a,b){for(var c=h.isFunction(b)?b:e.constant(!1),d=a.dom(),k=[];null!==d.parentNode&&void 0!==d.parentNode;){var d=d.parentNode,g=f.fromDom(d);k.push(g);if(!0===c(g))break}return k},siblings:function(a){return p(a).map(l).map(function(b){return g.filter(b,function(b){return!c.eq(a,b)})}).getOr([])},prevSibling:n,offsetParent:function(a){a=
a.dom();return d.from(a.offsetParent).map(f.fromDom)},prevSiblings:function(b){return g.reverse(a.toArray(b,n))},nextSibling:r,nextSiblings:function(b){return a.toArray(b,r)},children:l,child:m,firstChild:function(a){return m(a,0)},lastChild:function(a){return m(a,a.dom().childNodes.length-1)},leaf:function(a,b){var c=l(a);return 0<c.length&&b<c.length?t(c[b],0):t(a,b)}}});u("ephox.sugar.api.dom.Insert",["ephox.sugar.api.search.Traverse"],function(h){var g=function(d,b){h.parent(d).each(function(a){a.dom().insertBefore(b.dom(),
d.dom())})},e=function(d,b){d.dom().appendChild(b.dom())};return{before:g,after:function(d,b){h.nextSibling(d).fold(function(){h.parent(d).each(function(a){e(a,b)})},function(a){g(a,b)})},prepend:function(d,b){h.firstChild(d).fold(function(){e(d,b)},function(a){d.dom().insertBefore(b.dom(),a.dom())})},append:e,appendAt:function(d,b,a){h.child(d,a).fold(function(){e(d,b)},function(a){g(a,b)})},wrap:function(d,b){g(d,b);e(b,d)}}});u("ephox.sugar.api.node.Node",["ephox.sugar.api.node.NodeTypes"],function(h){var g=
function(a){return a.dom().nodeName.toLowerCase()},e=function(a){return a.dom().nodeType},d=function(a){return function(b){return e(b)===a}},b=d(h.ELEMENT),a=d(h.TEXT),d=d(h.DOCUMENT);return{name:g,type:e,value:function(a){return a.dom().nodeValue},isElement:b,isText:a,isDocument:d,isComment:function(a){return e(a)===h.COMMENT||"#comment"===g(a)}}});u("ephox.sugar.api.properties.Attr","ephox.katamari.api.Type ephox.katamari.api.Arr ephox.katamari.api.Obj ephox.sugar.api.node.Node global!Error global!console".split(" "),
function(h,g,e,d,b,a){var c=function(c,d,f){if(h.isString(f)||h.isBoolean(f)||h.isNumber(f))c.setAttribute(d,f+"");else throw a.error("Invalid call to Attr.set. Key ",d,":: Value ",f,":: Element ",c),new b("Attribute value was not simple");},f=function(a,b,f){c(a.dom(),b,f)},k=function(a,b){var c=a.dom().getAttribute(b);return null===c?void 0:c},p=function(a,b){var c=a.dom();return c&&c.hasAttribute?c.hasAttribute(b):!1};return{clone:function(a){return g.foldl(a.dom().attributes,function(a,b){a[b.name]=
b.value;return a},{})},set:f,setAll:function(a,b){var f=a.dom();e.each(b,function(a,b){c(f,b,a)})},get:k,has:p,remove:function(a,b){a.dom().removeAttribute(b)},hasNone:function(a){a=a.dom().attributes;return void 0===a||null===a||0===a.length},transfer:function(a,b,c){d.isElement(a)&&d.isElement(b)&&g.each(c,function(c){p(a,c)&&!p(b,c)&&f(b,c,k(a,c))})}}});u("ephox.sugar.api.dom.InsertAll",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert"],function(h,g){return{before:function(e,d){h.each(d,function(b){g.before(e,
b)})},after:function(e,d){h.each(d,function(b,a){g.after(0===a?e:d[a-1],b)})},prepend:function(e,d){h.each(d.slice().reverse(),function(b){g.prepend(e,b)})},append:function(e,d){h.each(d,function(b){g.append(e,b)})}}});u("ephox.sugar.api.dom.Remove",["ephox.katamari.api.Arr","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.search.Traverse"],function(h,g,e){var d=function(b){b=b.dom();null!==b.parentNode&&b.parentNode.removeChild(b)};return{empty:function(b){b.dom().textContent="";h.each(e.children(b),
function(a){d(a)})},remove:d,unwrap:function(b){var a=e.children(b);0<a.length&&g.before(b,a);d(b)}}});u("ephox.sugar.api.dom.Replication","ephox.sugar.api.properties.Attr ephox.sugar.api.node.Element ephox.sugar.api.dom.Insert ephox.sugar.api.dom.InsertAll ephox.sugar.api.dom.Remove ephox.sugar.api.search.Traverse".split(" "),function(h,g,e,d,b,a){var c=function(a){return g.fromDom(a.dom().cloneNode(!0))},f=function(a,b){var c=g.fromTag(b),f=h.clone(a);h.setAll(c,f);return c};return{shallow:function(a){return g.fromDom(a.dom().cloneNode(!1))},
shallowAs:f,deep:c,copy:function(b,e){var g=f(b,e),h=a.children(c(b));d.append(g,h);return g},mutate:function(c,g){var h=f(c,g);e.before(c,h);var r=a.children(c);d.append(h,r);b.remove(c);return h}}});u("ephox.sugar.api.node.Fragment",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","global!document"],function(h,g,e){return{fromElements:function(d,b){var a=(b||e).createDocumentFragment();h.each(d,function(b){a.appendChild(b.dom())});return g.fromDom(a)}}});u("tinymce.core.dom.ElementType",
["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.node.Node"],function(h,g,e){var d=function(a){var b;return function(d){b=b?b:h.mapToObject(a,g.constant(!0));return b.hasOwnProperty(e.name(d))}},b=d("h1 h2 h3 h4 h5 h6".split(" ")),a=d("article aside details div dt figcaption footer form fieldset header hgroup html main nav section summary body p dl multicol dd figure address center blockquote h1 h2 h3 h4 h5 h6 listing xmp pre plaintext menu dir ul ol li hr table tbody thead tfoot th tr td caption".split(" "));
return{isBlock:a,isInline:function(b){return e.isElement(b)&&!a(b)},isHeading:b,isTextBlock:d("h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure".split(" ")),isVoid:d("area base basefont br col frame hr img input isindex link meta param embed source wbr track".split(" ")),isTableCell:d(["td","th"])}});u("tinymce.core.dom.Parents",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.Traverse"],function(h,
g,e){var d=function(a){return a.slice(0,-1)},b=function(a,b,k){return g.contains(b,a)?d(e.parents(a,function(a){return k(a)||g.eq(a,b)})):[]},a=function(a,d){return b(a,d,h.constant(!1))};return{parentsUntil:b,parents:a,parentsAndSelf:function(b,d){return[b].concat(a(b,d))}}});u("ephox.katamari.api.Options",["ephox.katamari.api.Option"],function(h){return{cat:function(g){for(var e=[],d=function(a){e.push(a)},b=0;b<g.length;b++)g[b].each(d);return e},findMap:function(g,e){for(var d=0;d<g.length;d++){var b=
e(g[d],d);if(b.isSome())return b}return h.none()},liftN:function(g,e){for(var d=[],b=0;b<g.length;b++){var a=g[b];if(a.isSome())d.push(a.getOrDie());else return h.none()}return h.some(e.apply(null,d))}}});u("tinymce.core.selection.SelectionUtils","ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Option ephox.katamari.api.Options ephox.sugar.api.dom.Compare ephox.sugar.api.node.Element ephox.sugar.api.node.Node ephox.sugar.api.search.Traverse tinymce.core.dom.NodeType".split(" "),function(h,
g,e,d,b,a,c,f,k){var p=function(b){var c=b.startContainer;b=b.startOffset;return k.isText(c)?0===b?e.some(a.fromDom(c)):e.none():e.from(c.childNodes[b]).map(a.fromDom)},n=function(b){var c=b.endContainer;b=b.endOffset;return k.isText(c)?b===c.data.length?e.some(a.fromDom(c)):e.none():e.from(c.childNodes[b-1]).map(a.fromDom)},r=function(a){return f.firstChild(a).fold(g.constant([a]),function(b){return[a].concat(r(b))})},l=function(a){return f.lastChild(a).fold(g.constant([a]),function(b){return"br"===
c.name(b)?f.prevSibling(b).map(function(b){return[a].concat(l(b))}).getOr([]):[a].concat(l(b))})};return{hasAllContentsSelected:function(a,c){return d.liftN([p(c),n(c)],function(c,d){var f=h.find(r(a),g.curry(b.eq,c)),e=h.find(l(a),g.curry(b.eq,d));return f.isSome()&&e.isSome()}).getOr(!1)}}});u("tinymce.core.selection.FragmentReader","ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.sugar.api.dom.Insert ephox.sugar.api.dom.Replication ephox.sugar.api.node.Element ephox.sugar.api.node.Fragment ephox.sugar.api.node.Node tinymce.core.dom.ElementType tinymce.core.dom.Parents tinymce.core.selection.SelectionUtils".split(" "),
function(h,g,e,d,b,a,c,f,k,p){var n=function(a){return h.find(a,function(a){return"ul"===c.name(a)||"ol"===c.name(a)})},r=function(a,d){return h.find(a,function(a){return"li"===c.name(a)&&p.hasAllContentsSelected(a,d)}).fold(g.constant([]),function(d){return n(a).map(function(a){return[b.fromTag("li"),b.fromTag(c.name(a))]}).getOr([])})},l=function(b,c){var d=h.foldl(c,function(a,b){e.append(b,a);return b},b);return 0<c.length?a.fromElements([d]):d},m=function(a,c){var e=k.parentsAndSelf(b.fromDom(c.commonAncestorContainer),
b.fromDom(a)),g=h.filter(e,function(a){return f.isInline(a)||f.isHeading(a)}),e=r(e,c);return h.map(g.concat(e),d.shallow)};return{read:function(c,d){return d.collapsed?a.fromElements([]):l(b.fromDom(d.cloneContents()),m(c,d))}}});u("tinymce.core.dom.Selection","ephox.sugar.api.dom.Compare ephox.sugar.api.node.Element tinymce.core.caret.CaretPosition tinymce.core.dom.BookmarkManager tinymce.core.dom.ControlSelection tinymce.core.dom.NodeType tinymce.core.dom.RangeUtils tinymce.core.dom.ScrollIntoView tinymce.core.dom.TreeWalker tinymce.core.dom.TridentSelection tinymce.core.Env tinymce.core.selection.FragmentReader tinymce.core.text.Zwsp tinymce.core.util.Tools".split(" "),
function(h,g,e,d,b,a,c,f,k,p,n,r,l,m){function t(a,c,f,e){this.dom=a;this.win=c;this.serializer=f;this.editor=e;this.bookmarkManager=new d(this);this.controlSelection=new b(this,e);this.win.getSelection||(this.tridentSel=new p(this))}var w=m.each,v=m.trim,s=n.ie,y=function(a){return!(!a||!a.ownerDocument)&&h.contains(g.fromDom(a.ownerDocument),g.fromDom(a))};t.prototype={setCursorLocation:function(a,b){var c=this.dom.createRng();a?(c.setStart(a,b),c.setEnd(a,b),this.setRng(c),this.collapse(!1)):(this._moveEndPoint(c,
this.editor.getBody(),!0),this.setRng(c))},getContent:function(a){var b=this.getRng(),c=this.dom.create("body"),d=this.getSel(),f,e;a=a||{};f=e="";a.get=!0;a.format=a.format||"html";a.selection=!0;this.editor.fire("BeforeGetContent",a);if("text"===a.format)return this.isCollapsed()?"":l.trim(b.text||(d.toString?d.toString():""));b.cloneContents?(b=a.contextual?r.read(this.editor.getBody(),b).dom():b.cloneContents())&&c.appendChild(b):void 0!==b.item||void 0!==b.htmlText?(c.innerHTML="<br>"+(b.item?
b.item(0).outerHTML:b.htmlText),c.removeChild(c.firstChild)):c.innerHTML=b.toString();/^\s/.test(c.innerHTML)&&(f=" ");/\s+$/.test(c.innerHTML)&&(e=" ");a.getInner=!0;a.content=this.isCollapsed()?"":f+this.serializer.serialize(c,a)+e;this.editor.fire("GetContent",a);return a.content},setContent:function(a,b){var c=this.getRng(),d,f=this.win.document,e;b=b||{format:"html"};b.set=!0;b.selection=!0;b.content=a;b.no_events||this.editor.fire("BeforeSetContent",b);a=b.content;if(c.insertNode){a+='<span id="__caret">_</span>';
c.startContainer==f&&c.endContainer==f?f.body.innerHTML=a:(c.deleteContents(),0===f.body.childNodes.length?f.body.innerHTML=a:c.createContextualFragment?c.insertNode(c.createContextualFragment(a)):(d=f.createDocumentFragment(),e=f.createElement("div"),d.appendChild(e),e.outerHTML=a,c.insertNode(d)));d=this.dom.get("__caret");c=f.createRange();c.setStartBefore(d);c.setEndBefore(d);this.setRng(c);this.dom.remove("__caret");try{this.setRng(c)}catch(k){}}else c.item&&(f.execCommand("Delete",!1,null),
c=this.getRng()),/^\s+/.test(a)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+a),this.dom.remove("__mce_tmp")):c.pasteHTML(a);b.no_events||this.editor.fire("SetContent",b)},getStart:function(a){var b=this.getRng(),c;if(b.duplicate||b.item){if(b.item)return b.item(0);c=b.duplicate();c.collapse(1);c=c.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());for(b=a=b.parentElement();a=a.parentNode;)if(a==c){c=b;break}return c}c=b.startContainer;1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||
(c=c.childNodes[Math.min(c.childNodes.length-1,b.startOffset)]));return c&&3==c.nodeType?c.parentNode:c},getEnd:function(a){var b=this.getRng(),c,d;if(b.duplicate||b.item){if(b.item)return b.item(0);b=b.duplicate();b.collapse(0);c=b.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());return c&&"BODY"==c.nodeName?c.lastChild||c:c}c=b.endContainer;d=b.endOffset;1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||(c=c.childNodes[0<d?d-1:d]));return c&&3==c.nodeType?c.parentNode:c},
getBookmark:function(a,b){return this.bookmarkManager.getBookmark(a,b)},moveToBookmark:function(a){return this.bookmarkManager.moveToBookmark(a)},select:function(a,b){var c=this.dom,d=c.createRng();this.lastFocusBookmark=null;if(a){if(!b&&this.controlSelection.controlSelect(a))return;c=c.nodeIndex(a);d.setStart(a.parentNode,c);d.setEnd(a.parentNode,c+1);b&&(this._moveEndPoint(d,a,!0),this._moveEndPoint(d,a));this.setRng(d)}return a},isCollapsed:function(){var a=this.getRng(),b=this.getSel();return!a||
a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!b||a.collapsed},collapse:function(a){var b=this.getRng(),c;b.item&&(c=b.item(0),b=this.win.document.body.createTextRange(),b.moveToElementText(c));b.collapse(!!a);this.setRng(b)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(a){function b(a,c,d){try{return c.compareBoundaryPoints(a,d)}catch(f){return-1}}var c,d,f,e;if(!this.win)return null;e=this.win.document;if("undefined"===
typeof e||null===e)return null;if(!a&&this.lastFocusBookmark)return f=this.lastFocusBookmark,f.startContainer?(d=e.createRange(),d.setStart(f.startContainer,f.startOffset),d.setEnd(f.endContainer,f.endOffset)):d=f,d;if(a&&this.tridentSel)return this.tridentSel.getRangeAt(0);try{if(c=this.getSel())d=0<c.rangeCount?c.getRangeAt(0):c.createRange?c.createRange():e.createRange()}catch(k){}a=this.editor.fire("GetSelectionRange",{range:d});if(a.range!==d)return a.range;if(s&&d&&d.setStart&&e.selection){try{f=
e.selection.createRange()}catch(g){}f&&f.item&&(f=f.item(0),d=e.createRange(),d.setStartBefore(f),d.setEndAfter(f))}d||(d=e.createRange?e.createRange():e.body.createTextRange());d.setStart&&9===d.startContainer.nodeType&&d.collapsed&&(f=this.dom.getRoot(),d.setStart(f,0),d.setEnd(f,0));this.selectedRange&&this.explicitRange&&(0===b(d.START_TO_START,d,this.selectedRange)&&0===b(d.END_TO_END,d,this.selectedRange)?d=this.explicitRange:this.explicitRange=this.selectedRange=null);return d},setRng:function(a,
b){var c,d;c=(c=a)?c.select?!0:y(c.startContainer)&&y(c.endContainer):!1;if(c)if(a.select){this.explicitRange=null;try{a.select()}catch(f){}}else if(!this.tridentSel){c=this.getSel();d=this.editor.fire("SetSelectionRange",{range:a,forward:b});a=d.range;if(c){this.explicitRange=a;try{c.removeAllRanges(),c.addRange(a)}catch(e){}!1===b&&c.extend&&(c.collapse(a.endContainer,a.endOffset),c.extend(a.startContainer,a.startOffset));this.selectedRange=0<c.rangeCount?c.getRangeAt(0):null}!a.collapsed&&a.startContainer===
a.endContainer&&c.setBaseAndExtent&&!n.ie&&2>a.endOffset-a.startOffset&&a.startContainer.hasChildNodes()&&(d=a.startContainer.childNodes[a.startOffset])&&"IMG"===d.tagName&&(c.setBaseAndExtent(a.startContainer,a.startOffset,a.endContainer,a.endOffset),c.anchorNode===a.startContainer&&c.focusNode===a.endContainer||c.setBaseAndExtent(d,0,d,1));this.editor.fire("AfterSetSelectionRange",{range:a,forward:b})}else if(a.cloneRange)try{this.tridentSel.addRange(a)}catch(k){}},setNode:function(a){this.setContent(this.dom.getOuterHTML(a));
return a},getNode:function(){function a(b,c){for(var d=b;b&&3===b.nodeType&&0===b.length;)b=c?b.nextSibling:b.previousSibling;return b||d}var b=this.getRng(),c,d,f,e,k,g=this.dom.getRoot();if(!b)return g;d=b.startContainer;f=b.endContainer;e=b.startOffset;k=b.endOffset;if(b.setStart)return c=b.commonAncestorContainer,!b.collapsed&&(d==f&&2>k-e&&d.hasChildNodes()&&(c=d.childNodes[e]),3===d.nodeType&&3===f.nodeType&&(d=d.length===e?a(d.nextSibling,!0):d.parentNode,f=0===k?a(f.previousSibling,!1):f.parentNode,
d&&d===f))?d:c&&3==c.nodeType?c.parentNode:c;c=b.item?b.item(0):b.parentElement();c.ownerDocument!==this.win.document&&(c=g);return c},getSelectedBlocks:function(a,b){var c=this.dom,d,f,e=[];f=c.getRoot();a=c.getParent(a||this.getStart(),c.isBlock);b=c.getParent(b||this.getEnd(),c.isBlock);a&&a!=f&&e.push(a);if(a&&b&&a!=b){d=a;for(var g=new k(a,f);(d=g.next())&&d!=b;)c.isBlock(d)&&e.push(d)}b&&a!=b&&b!=f&&e.push(b);return e},isForward:function(){var a=this.dom,b=this.getSel(),c;if(!b||!b.anchorNode||
!b.focusNode)return!0;c=a.createRng();c.setStart(b.anchorNode,b.anchorOffset);c.collapse(!0);a=a.createRng();a.setStart(b.focusNode,b.focusOffset);a.collapse(!0);return 0>=c.compareBoundaryPoints(c.START_TO_START,a)},normalize:function(){var a=this.getRng();n.range&&(new c(this.dom)).normalize(a)&&this.setRng(a,this.isForward());return a},selectorChanged:function(a,b){var c=this,d;c.selectorChangedData||(c.selectorChangedData={},d={},c.editor.on("NodeChange",function(a){var b=a.element,f=c.dom,e=
f.getParents(b,null,f.getRoot()),k={};w(c.selectorChangedData,function(a,b){w(e,function(c){if(f.is(c,b))return d[b]||(w(a,function(a){a(!0,{node:c,selector:b,parents:e})}),d[b]=a),k[b]=a,!1})});w(d,function(a,c){k[c]||(delete d[c],w(a,function(a){a(!1,{node:b,selector:c,parents:e})}))})}));c.selectorChangedData[a]||(c.selectorChangedData[a]=[]);c.selectorChangedData[a].push(b);return c},getScrollContainer:function(){for(var a,b=this.dom.getRoot();b&&"BODY"!=b.nodeName;){if(b.scrollHeight>b.clientHeight){a=
b;break}b=b.parentNode}return a},scrollIntoView:function(a,b){f.scrollIntoView(this.editor,a,b)},placeCaretAt:function(a,b){this.setRng(c.getCaretRangeFromPoint(a,b,this.editor.getDoc()))},_moveEndPoint:function(a,b,c){var d=b,f=new k(b,d),e=this.dom.schema.getNonEmptyElements();do{if(3==b.nodeType&&0!==v(b.nodeValue).length){c?a.setStart(b,0):a.setEnd(b,b.nodeValue.length);return}if(e[b.nodeName]&&!/^(TD|TH)$/.test(b.nodeName)){c?a.setStartBefore(b):"BR"==b.nodeName?a.setEndBefore(b):a.setEndAfter(b);
return}if(n.ie&&11>n.ie&&this.dom.isBlock(b)&&this.dom.isEmpty(b)){c?a.setStart(b,0):a.setEnd(b,0);return}}while(b=c?f.next():f.prev());"BODY"==d.nodeName&&(c?a.setStart(d,0):a.setEnd(d,d.childNodes.length))},getBoundingClientRect:function(){var a=this.getRng();return a.collapsed?e.fromRangeStart(a).getClientRects()[0]:a.getBoundingClientRect()},destroy:function(){this.win=null;this.controlSelection.destroy()}};return t});u("tinymce.core.dom.ElementUtils",["tinymce.core.dom.BookmarkManager","tinymce.core.util.Tools"],
function(h,g){var e=g.each;return function(d){this.compare=function(b,a){function c(a){var b={};e(d.getAttribs(a),function(c){c=c.nodeName.toLowerCase();0!==c.indexOf("_")&&"style"!==c&&0!==c.indexOf("data-")&&(b[c]=d.getAttrib(a,c))});return b}function f(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d)){c=b[d];if("undefined"==typeof c||a[d]!=c)return!1;delete b[d]}for(d in b)if(b.hasOwnProperty(d))return!1;return!0}return b.nodeName==a.nodeName&&f(c(b),c(a))&&f(d.parseStyle(d.getAttrib(b,"style")),
d.parseStyle(d.getAttrib(a,"style")))?!h.isBookmarkNode(b)&&!h.isBookmarkNode(a):!1}}});u("tinymce.core.fmt.Preview",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.core.html.Schema"],function(h,g,e){function d(a,b){function c(a){h="string"===typeof a?{name:a,classes:[],attrs:{}}:a;a=f.create(h.name);var b=h;b.classes.length&&f.addClass(a,b.classes.join(" "));f.setAttribs(a,b.attrs);return a}function d(a,b){var c="string"!==typeof a?a.nodeName.toLowerCase():a;return(c=(c=v.getElementRule(c))&&
c.parentsRequired)&&c.length?b&&-1!==g.inArray(c,b)?b:c[0]:!1}function l(a,b,e){var k,m,h,p=0<b.length&&b[0],t=p&&p.name;if(h=d(a,t))t==h?(m=b[0],b=b.slice(1)):m=h;else if(p)m=b[0],b=b.slice(1);else if(!e)return a;m&&(k=c(m),k.appendChild(a));e&&(k||(k=f.create("div"),k.appendChild(a)),g.each(e,function(b){b=c(b);k.insertBefore(b,a)}));return l(k,b,m&&m.siblings)}var m,h,w,v=b&&b.schema||new e({});return a&&a.length?(h=a[0],m=c(h),w=f.create("div"),w.appendChild(l(m,a.slice(1),h.siblings)),w):""}
function b(a){var b,c={classes:[],attrs:{}};a=c.selector=g.trim(a);"*"!==a&&(b=a.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(a,b,d,f,e){switch(b){case "#":c.attrs.id=d;break;case ".":c.classes.push(d);break;case ":":-1!==g.inArray(["checked","disabled","enabled","read-only","required"],d)&&(c.attrs[d]=d)}"["==f&&(a=e.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(c.attrs[a[1]]=a[2]);return""}));c.name=b||"div";return c}function a(a){if(!a||"string"!==typeof a)return[];a=a.split(/\s*,\s*/)[0];
a=a.replace(/\s*(~\+|~|\+|>)\s*/g,"$1");return g.map(a.split(/(?:>|\s+(?![^\[\]]+\]))/),function(a){a=g.map(a.split(/(?:~\+|~|\+)/),b);var c=a.pop();a.length&&(c.siblings=a);return c}).reverse()}var c=g.each,f=h.DOM;return{getCssText:function(b,e){var g,h,l,m="",t,w;w=b.settings.preview_styles;if(!1===w)return"";"string"!==typeof w&&(w="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");if("string"==typeof e){e=
b.formatter.get(e);if(!e)return;e=e[0]}if("preview"in e&&(w=e.preview,!1===w))return"";g=e.block||e.inline||"span";h=a(e.selector);h.length?(h[0].name||(h[0].name=g),g=e.selector,h=d(h,b)):h=d([g],b);l=f.select(g,h)[0]||h.firstChild;c(e.styles,function(a,b){(a=a.replace(/%(\w+)/g,""))&&f.setStyle(l,b,a)});c(e.attributes,function(a,b){(a=a.replace(/%(\w+)/g,""))&&f.setAttrib(l,b,a)});c(e.classes,function(a){a=a.replace(/%(\w+)/g,"");f.hasClass(l,a)||f.addClass(l,a)});b.fire("PreviewFormats");f.setStyles(h,
{position:"absolute",left:-65535});b.getBody().appendChild(h);t=f.getStyle(b.getBody(),"fontSize",!0);t=/px$/.test(t)?parseInt(t,10):0;c(w.split(" "),function(a){var c=f.getStyle(l,a,!0);if("background-color"==a&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(c)&&(c=f.getStyle(b.getBody(),a,!0),"#ffffff"==f.toHex(c).toLowerCase()))return;if("color"!=a||"#000000"!=f.toHex(c).toLowerCase()){if("font-size"==a&&/em|%$/.test(c)){if(0===t)return;c=parseFloat(c,10)/(/%$/.test(c)?100:1);c=c*t+"px"}"border"==a&&
c&&(m+="padding:0 2px;");m+=a+":"+c+";"}});b.fire("AfterPreviewFormats");f.remove(h);return m},parseSelector:a,selectorToHtml:function(b,c){return d(a(b),c)}}});u("tinymce.core.fmt.Hooks",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.DomQuery"],function(h,g,e){var d={},b=h.filter,a=h.each;(function(a,b){d[a]||(d[a]=[]);d[a].push(b)})("pre",function(c){function d(a){return p(a.previousSibling)&&-1!=h.indexOf(n,a.previousSibling)}var k=c.selection.getRng(),p,n;p=g.matchNodeNames("pre");
k.collapsed||(n=c.selection.getSelectedBlocks(),a(b(b(n,p),d),function(a){var b=a.previousSibling;e(a).remove();e(b).append("<br><br>").append(a.childNodes)}))});return{postProcess:function(b,f){a(d[b],function(a){a(f)})}}});u("tinymce.core.Formatter","tinymce.core.dom.TreeWalker tinymce.core.dom.RangeUtils tinymce.core.dom.BookmarkManager tinymce.core.dom.ElementUtils tinymce.core.dom.NodeType tinymce.core.util.Fun tinymce.core.util.Tools tinymce.core.fmt.Preview tinymce.core.fmt.Hooks".split(" "),
function(h,g,e,d,b,a,c,f,k){return function(p){function n(a){a.nodeType&&(a=a.nodeName);return!!p.schema.getTextBlockElements()[a.toLowerCase()]}function r(a,b){return F.getParents(a,b,F.getRoot())}function l(a){return 1===a.nodeType&&"_mce_caret"===a.id}function m(a){return a?O[a]:O}function t(a,b){a&&("string"!==typeof a?J(a,function(a,b){t(b,a)}):(b=b.length?b:[b],J(b,function(a){a.deep===la&&(a.deep=!a.selector);a.split===la&&(a.split=!a.selector||a.inline);a.remove===la&&a.selector&&!a.inline&&
(a.remove="none");a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0);"string"===typeof a.classes&&(a.classes=a.classes.split(/\s+/))}),O[a]=b))}function w(a,b){var c=m(b);if(c)for(var d=0;d<c.length;d++)if(!1===c[d].inherit&&F.is(a,c[d].selector))return!0;return!1}function v(a){var b;p.dom.getParent(a,function(a){return(b=p.dom.getStyle(a,"text-decoration"))&&"none"!==b});return b}function s(a){var b;1===a.nodeType&&a.parentNode&&1===a.parentNode.nodeType&&(b=v(a.parentNode),p.dom.getStyle(a,"color")&&
b?p.dom.setStyle(a,"text-decoration",b):p.dom.getStyle(a,"text-decoration")===b&&p.dom.setStyle(a,"text-decoration",null))}function y(a,b,c){function d(a,f){f=f||t;if(a){if(f.onformat)f.onformat(a,f,b,c);J(f.styles,function(c,d){F.setStyle(a,d,R(c,b))});if(f.styles){var e=F.getAttrib(a,"style");e&&a.setAttribute("data-mce-style",e)}J(f.attributes,function(c,d){F.setAttrib(a,d,R(c,b))});J(f.classes,function(c){c=R(c,b);F.hasClass(a,c)||F.addClass(a,c)})}}function f(a,b){var c=!1;if(!t.selector)return!1;
J(a,function(a){if(!("collapsed"in a&&a.collapsed!==v)&&F.is(b,a.selector)&&!l(b))return d(b,a),c=!0,!1});return c}function e(){var a=p.selection.getRng(),b=a.startContainer,d=a.endContainer;if(b!=d&&0===a.endOffset){a:{d=new h(d);for(c=d.prev2();c;c=d.prev2()){if(3==c.nodeType&&0<c.data.length){b=c;break a}if(1<c.childNodes.length||c==b||"BR"==c.tagName){b=c;break a}}b=void 0}a.setEnd(b,3==b.nodeType?b.data.length:b.childNodes.length)}return a}function g(c,e,k){var m=[],h,p,s=!0;h=t.inline||t.block;
p=F.create(h);d(p);P.walk(c,function(c){function e(c){var y,r,v,w;w=s;y=c.nodeName.toLowerCase();r=c.parentNode.nodeName.toLowerCase();1===c.nodeType&&ka(c)&&(w=s,s="true"===ka(c),v=!0);if(A(y,"br"))g=0,t.block&&F.remove(c);else if(t.wrapper&&x(c,a,b))g=0;else if(s&&!v&&t.block&&!t.wrapper&&n(y)&&aa(r,h))c=F.rename(c,h),d(c),m.push(c),g=0;else{if(t.selector){var D=f(q,c);if(!t.inline||D){g=0;return}}!s||v||!aa(h,y)||!aa(r,h)||!k&&3===c.nodeType&&1===c.nodeValue.length&&65279===c.nodeValue.charCodeAt(0)||
l(c)||t.inline&&V(c)?(g=0,J(ja(c.childNodes),e),v&&(s=w),g=0):(g||(g=F.clone(p,ea),c.parentNode.insertBefore(g,c),m.push(g)),g.appendChild(c))}}var g;J(c,e)});!0===t.links&&J(m,function(a){function b(a){"A"===a.nodeName&&d(a,t);J(ja(a.childNodes),b)}b(a)});J(m,function(c){function f(a){var b=0;J(a.childNodes,function(a){K(a)||ia(a)||b++});return b}function e(a){var b=!1;J(a.childNodes,function(a){if(D(a))return b=a,!1});return b}function k(a,b){do{if(1!==f(a))break;a=e(a);if(!a)break;else if(b(a))return a}while(a);
return null}function g(a){var b,c;(b=e(a))&&!ia(b)&&z(b,t)&&(c=F.clone(b,ea),d(c),F.replace(c,a,da),F.remove(b,1));return c||a}var h;h=f(c);if((1<m.length||!V(c))&&0===h)F.remove(c,1);else if(t.inline||t.wrapper)t.exact||1!==h||(c=g(c)),J(q,function(a){J(F.select(a.inline,c),function(c){D(c)&&X(a,b,c,a.exact?c:null)});qa(a,c)}),x(c.parentNode,a,b)&&X(t,b,c)&&(c=0),t.merge_with_parents&&F.getParent(c.parentNode,function(d){if(x(d,a,b))return X(t,b,c)&&(c=0),da}),!c||V(c)||G(c,"fontSize")||(h=k(c,L("fontSize")))&&
y("fontsize",{value:G(h,"fontSize")},c),c&&!1!==t.merge_siblings&&(c=W($(c),c),c=W(c,$(c,da)))})}var q=m(a),t=q[0],r,v=!c&&I.isCollapsed();if("false"===ka(I.getNode())){c=I.getNode();r=0;for(var w=q.length;r<w;r++)if(q[r].ceFalseOverride&&F.is(c,q[r].selector)){d(c,q[r]);break}}else if(t){if(c)c.nodeType?f(q,c)||(r=F.createRng(),r.setStartBefore(c),r.setEndAfter(c),g(T(r,q),null,!0)):g(c,null,!0);else if(v&&t.inline&&!F.select("td[data-mce-selected],th[data-mce-selected]").length)U("apply",a,b);else{w=
p.selection.getNode();ca||!q[0].defaultBlock||F.getParent(w,F.isBlock)||y(q[0].defaultBlock);p.selection.setRng(e());r=I.getBookmark();g(T(I.getRng(da),q),r);if(t.styles){if(t.styles.color||t.styles.textDecoration)S(w,s,"childNodes"),s(w);t.styles.backgroundColor&&H(w,L("fontSize"),B("backgroundColor",R(t.styles.backgroundColor,b)))}I.moveToBookmark(r);N(I.getRng(da));p.nodeChanged()}k.postProcess(a,p)}}function q(a,b,c,d){function f(a){var c,d,e,k,g;1===a.nodeType&&ka(a)&&(k=t,t="true"===ka(a),g=
!0);c=ja(a.childNodes);if(t&&!g)for(d=0,e=h.length;d<e&&!X(h[d],b,a,a);d++);if(l.deep&&c.length){d=0;for(e=c.length;d<e;d++)f(c[d]);g&&(t=k)}}function e(c){var f;J(r(c.parentNode).reverse(),function(c){var e;f||"_start"==c.id||"_end"==c.id||(e=x(c,a,b,d))&&!1!==e.split&&(f=c)});return f}function k(a){var c=e(a),d=a,f,g,m,q,p,s;if(c){s=c.parentNode;for(f=d.parentNode;f&&f!=s;f=f.parentNode){g=F.clone(f,ea);for(p=0;p<h.length;p++)if(X(h[p],b,g,g)){g=0;break}g&&(m&&g.appendChild(m),q||(q=g),m=g)}l.mixed&&
V(c)||(d=F.split(c,d));m&&(a.parentNode.insertBefore(m,a),q.appendChild(a))}return d}function g(a){var b=F.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];ia(c)&&(c=c[a?"firstChild":"lastChild"]);3==c.nodeType&&0===c.data.length&&(c=a?b.previousSibling||b.nextSibling:b.nextSibling||b.previousSibling);F.remove(b,!0);return c}function q(a){var b,c,d=a.commonAncestorContainer;a=T(a,h,da);if(l.split){b=Y(a,da);c=Y(a);if(b!=c){/^(TR|TH|TD)$/.test(b.nodeName)&&b.firstChild&&(b="TR"==b.nodeName?b.firstChild.firstChild||
b:b.firstChild||b);d&&/^T(HEAD|BODY|FOOT|R)$/.test(d.nodeName)&&/^(TH|TD)$/.test(c.nodeName)&&c.firstChild&&(c=c.firstChild||c);if(F.isChildOf(b,c)&&!V(c)&&!/^(TH|TD)$/.test(b.nodeName)&&!/^(TH|TD)$/.test(c.nodeName)){b=Q(b,"span",{id:"_start","data-mce-type":"bookmark"});k(b);b=g(da);return}b=Q(b,"span",{id:"_start","data-mce-type":"bookmark"});c=Q(c,"span",{id:"_end","data-mce-type":"bookmark"});k(b);k(c);b=g(da);c=g()}else b=c=k(b);a.startContainer=b.parentNode?b.parentNode:b;a.startOffset=Z(b);
a.endContainer=c.parentNode?c.parentNode:c;a.endOffset=Z(c)+1}P.walk(a,function(a){J(a,function(a){f(a);1===a.nodeType&&"underline"===p.dom.getStyle(a,"text-decoration")&&a.parentNode&&"underline"===v(a.parentNode)&&X({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,a)})})}var h=m(a),l=h[0],s,t=!0;if(c)c.nodeType?(s=F.createRng(),s.setStartBefore(c),s.setEndAfter(c),q(s)):q(c);else if("false"===ka(I.getNode())){c=I.getNode();s=0;for(var n=h.length;s<n&&(!h[s].ceFalseOverride||
!X(h[s],b,c,c));s++);}else I.isCollapsed()&&l.inline&&!F.select("td[data-mce-selected],th[data-mce-selected]").length?U("remove",a,b,d):(c=I.getBookmark(),q(I.getRng(da)),I.moveToBookmark(c),l.inline&&C(a,b,I.getStart())&&N(I.getRng(!0)),p.nodeChanged())}function x(a,b,c,d){function f(a,b,e){var k,g,m=b[e];if(b.onmatch)return b.onmatch(a,b,e);if(m)if(m.length===la)for(k in m){if(m.hasOwnProperty(k)&&(g="attributes"===e?F.getAttrib(a,k):G(a,k),d&&!g&&!b.exact||(!d||b.exact)&&!A(g,u(R(m[k],c),k))))return}else for(k=
0;k<m.length&&("attributes"===e?!F.getAttrib(a,m[k]):!G(a,m[k]));k++);return b}var e=m(b),k;if(e&&a)for(k=0;k<e.length;k++)if(b=e[k],z(a,b)&&f(a,b,"attributes")&&f(a,b,"styles")){if(e=b.classes)for(k=0;k<e.length;k++)if(!F.hasClass(a,e[k]))return;return b}}function C(a,b,c){function d(c){var f=F.getRoot();if(c===f)return!1;c=F.getParent(c,function(c){return w(c,a)?!0:c.parentNode===f||!!x(c,a,b,!0)});return x(c,a,b)}var f;if(c)return d(c);c=I.getNode();if(d(c))return da;f=I.getStart();return f!=c&&
d(f)?da:ea}function z(a,b){if(A(a,b.inline)||A(a,b.block))return da;if(b.selector)return 1==a.nodeType&&F.is(a,b.selector)}function A(a,b){a=a||"";b=b||"";a=""+(a.nodeName||a);b=""+(b.nodeName||b);return a.toLowerCase()==b.toLowerCase()}function H(a,b,c){J(a.childNodes,function(a){D(a)&&(b(a)&&c(a),a.hasChildNodes()&&H(a,b,c))})}function D(a){return a&&1===a.nodeType&&!ia(a)&&!l(a)&&!b.isBogus(a)}function L(b){return a.curry(function(a,b){return!(!b||!G(b,a))},b)}function B(b,c){return a.curry(function(a,
b,c){F.setStyle(c,a,b)},b,c)}function G(a,b){return u(F.getStyle(a,b),b)}function u(a,b){if("color"==b||"backgroundColor"==b)a=F.toHex(a);"fontWeight"==b&&700==a&&(a="bold");"fontFamily"==b&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,","));return""+a}function R(a,b){"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a}));return a}function K(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)}function Q(a,b,c){b=F.create(b,c);a.parentNode.insertBefore(b,a);
b.appendChild(a);return b}function T(a,b,c){function d(a){var c,f,e,k;c=f=a?l:t;e=a?"previousSibling":"nextSibling";k=F.getRoot();if(3==c.nodeType&&!K(c)&&(a?0<s:y<c.nodeValue.length))return c;for(;;){if(!b[0].block_expand&&V(f))return f;for(a=f[e];a;a=a[e])if(!(ia(a)||K(a)||"BR"==a.nodeName&&a.getAttribute("data-mce-bogus")&&!a.nextSibling))return f;if(f==k||f.parentNode==k){c=f;break}f=f.parentNode}return c}function f(a,b){for(b===la&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)(a=
a.childNodes[b])&&(b=3===a.nodeType?a.length:a.childNodes.length);return{node:a,offset:b}}function e(a){for(var b=a;b;){if(1===b.nodeType&&ka(b))return"false"===ka(b)?b:a;b=b.parentNode}return a}function k(a,b,d){function f(a,b){var e,k;k=a.nodeValue;"undefined"==typeof b&&(b=d?k.length:0);d?(e=k.lastIndexOf(" ",b),k=k.lastIndexOf("\u00a0",b),e=e>k?e:k,-1===e||c||e++):(e=k.indexOf(" ",b),k=k.indexOf("\u00a0",b),e=-1!==e&&(-1===k||e<k)?e:k);return e}var e,g;if(3===a.nodeType){b=f(a,b);if(-1!==b)return{container:a,
offset:b};g=a}for(a=new h(a,F.getParent(a,V)||p.getBody());e=a[d?"prev":"next"]();)if(3===e.nodeType){if(g=e,b=f(e),-1!==b)return{container:e,offset:b}}else if(V(e))break;if(g)return b=d?0:g.length,{container:g,offset:b}}function g(c,d){var f,e,k,m;3==c.nodeType&&0===c.nodeValue.length&&c[d]&&(c=c[d]);f=r(c);for(e=0;e<f.length;e++)for(k=0;k<b.length;k++)if(m=b[k],!("collapsed"in m&&m.collapsed!==a.collapsed)&&F.is(f[e],m.selector))return f[e];return c}function m(a,c){var d,f=F.getRoot();b[0].wrapper||
(d=F.getParent(a,b[0].block,f));d||(d=F.getParent(3==a.nodeType?a.parentNode:a,function(a){return a!=f&&n(a)}));d&&b[0].wrapper&&(d=r(d,"ul,ol").reverse()[0]||d);if(!d)for(d=a;d[c]&&!V(d[c])&&(d=d[c],!A(d,"br")););return d||a}var q,l=a.startContainer,s=a.startOffset,t=a.endContainer,y=a.endOffset;1==l.nodeType&&l.hasChildNodes()&&(q=l.childNodes.length-1,l=l.childNodes[s>q?q:s],3==l.nodeType&&(s=0));1==t.nodeType&&t.hasChildNodes()&&(q=t.childNodes.length-1,t=t.childNodes[y>q?q:y-1],3==t.nodeType&&
(y=t.nodeValue.length));l=e(l);t=e(t);if(ia(l.parentNode)||ia(l))l=ia(l)?l:l.parentNode,l=l.nextSibling||l,3==l.nodeType&&(s=0);if(ia(t.parentNode)||ia(t))t=ia(t)?t:t.parentNode,t=t.previousSibling||t,3==t.nodeType&&(y=t.length);if(b[0].inline){if(a.collapsed){if(q=k(l,s,!0))l=q.container,s=q.offset;if(q=k(t,y))t=q.container,y=q.offset}q=f(t,y);if(q.node){for(;q.node&&0===q.offset&&q.node.previousSibling;)q=f(q.node.previousSibling);q.node&&0<q.offset&&3===q.node.nodeType&&" "===q.node.nodeValue.charAt(q.offset-
1)&&1<q.offset&&(t=q.node,t.splitText(q.offset-1))}}if(b[0].inline||b[0].block_expand)b[0].inline&&3==l.nodeType&&0!==s||(l=d(!0)),b[0].inline&&3==t.nodeType&&y!==t.nodeValue.length||(t=d());b[0].selector&&b[0].expand!==ea&&!b[0].inline&&(l=g(l,"previousSibling"),t=g(t,"nextSibling"));if(b[0].block||b[0].selector)l=m(l,"previousSibling"),t=m(t,"nextSibling"),b[0].block&&(V(l)||(l=d(!0)),V(t)||(t=d()));1==l.nodeType&&(s=Z(l),l=l.parentNode);1==t.nodeType&&(y=Z(t)+1,t=t.parentNode);return{startContainer:l,
startOffset:s,endContainer:t,endOffset:y}}function X(a,b,c,d){var f,e,k;if(!(z(c,a)||a.links&&"A"==c.tagName))return ea;if("all"!=a.remove)for(J(a.styles,function(f,e){f=u(R(f,b),e);"number"===typeof e&&(e=f,d=0);(a.remove_similar||!d||A(G(d,e),f))&&F.setStyle(c,e,"");k=1}),k&&""===F.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style")),J(a.attributes,function(a,f){var e;a=R(a,b);"number"===typeof f&&(f=a,d=0);if(!d||A(F.getAttrib(d,f),a)){if("class"==f&&(a=F.getAttrib(c,
f))&&(e="",J(a.split(/\s+/),function(a){/mce\-\w+/.test(a)&&(e+=(e?" ":"")+a)}),e)){F.setAttrib(c,f,e);return}"class"==f&&c.removeAttribute("className");ha.test(f)&&c.removeAttribute("data-mce-"+f);c.removeAttribute(f)}}),J(a.classes,function(a){a=R(a,b);d&&!F.hasClass(d,a)||F.removeClass(c,a)}),e=F.getAttribs(c),f=0;f<e.length;f++){var g=e[f].nodeName;if(0!==g.indexOf("_")&&0!==g.indexOf("data-"))return ea}if("none"!=a.remove)return ba(c,a),da}function ba(a,b){function c(a,b,d){a=$(a,b,d);return!a||
"BR"==a.nodeName||V(a)}var d=a.parentNode,f;b.block&&(ca?d==F.getRoot()&&(b.list_block&&A(a,b.list_block)||J(ja(a.childNodes),function(a){aa(ca,a.nodeName.toLowerCase())?f?f.appendChild(a):(f=Q(a,ca),F.setAttribs(f,p.settings.forced_root_block_attrs)):f=0})):V(a)&&!V(d)&&(c(a,ea)||c(a.firstChild,da,1)||a.insertBefore(F.create("br"),a.firstChild),c(a,da)||c(a.lastChild,ea,1)||a.appendChild(F.create("br"))));b.selector&&b.inline&&!A(b.inline,a)||F.remove(a,1)}function $(a,b,c){if(a)for(b=b?"nextSibling":
"previousSibling",a=c?a:a[b];a;a=a[b])if(1==a.nodeType||!K(a))return a}function W(a,b){function c(a,b){for(f=a;f&&(3!=f.nodeType||0===f.nodeValue.length);f=f[b])if(1==f.nodeType&&!ia(f))return f;return a}var f,e;e=new d(F);if(a&&b&&(a=c(a,"previousSibling"),b=c(b,"nextSibling"),e.compare(a,b))){for(f=a.nextSibling;f&&f!=b;)e=f,f=f.nextSibling,a.appendChild(e);F.remove(b);J(ja(b.childNodes),function(b){a.appendChild(b)});return a}return b}function Y(a,b){var c,d,f;c=a[b?"startContainer":"endContainer"];
d=a[b?"startOffset":"endOffset"];1==c.nodeType&&(f=c.childNodes.length-1,!b&&d&&d--,c=c.childNodes[d>f?f:d]);3===c.nodeType&&b&&d>=c.nodeValue.length&&(c=(new h(c,p.getBody())).next()||c);3!==c.nodeType||b||0!==d||(c=(new h(c,p.getBody())).prev()||c);return c}function U(a,b,c,d){function f(a){var b=F.create("span",{id:v,"data-mce-bogus":!0,style:w?"color:red":""});a&&b.appendChild(p.getDoc().createTextNode(M));return b}function e(a,b){for(;a;){if(3===a.nodeType&&a.nodeValue!==M||1<a.childNodes.length)return!1;
b&&1===a.nodeType&&b.push(a);a=a.firstChild}return!0}function k(a){for(;a;){if(a.id===v)return a;a=a.parentNode}}function g(a){var b;if(a)for(b=new h(a,a),a=b.current();a;a=b.next())if(3===a.nodeType)return a}function l(a,b){var c,d;if(a)d=I.getRng(!0),e(a)?(!1!==b&&(d.setStartBefore(a),d.setEndBefore(a)),F.remove(a)):(c=g(a),c.nodeValue.charAt(0)===M&&(c.deleteData(0,1),d.startContainer==c&&0<d.startOffset&&d.setStart(c,d.startOffset-1),d.endContainer==c&&0<d.endOffset&&d.setEnd(c,d.endOffset-1)),
F.remove(a,1)),I.setRng(d);else if(a=k(I.getStart()),!a)for(;a=F.get(v);)l(a,!1)}function s(){var a,d,e,q,l;a=I.getRng(!0);q=a.startOffset;l=a.startContainer.nodeValue;(d=k(I.getStart()))&&(e=g(d));var h=/[^\s\u00a0\u00ad\u200b\ufeff]/;l&&0<q&&q<l.length&&h.test(l.charAt(q))&&h.test(l.charAt(q-1))?(d=I.getBookmark(),a.collapse(!0),a=T(a,m(b)),a=P.split(a),y(b,c,a),I.moveToBookmark(d)):(d&&e.nodeValue===M||(d=f(!0),e=d.firstChild,a.insertNode(d),q=1),y(b,c,d),I.setCursorLocation(e,q))}function t(){var a=
I.getRng(!0),e,k,g,l,h,s=[];e=a.startContainer;k=a.startOffset;g=e;3==e.nodeType&&(k!=e.nodeValue.length&&(l=!0),g=g.parentNode);for(;g;){if(x(g,b,c,d)){h=g;break}g.nextSibling&&(l=!0);s.push(g);g=g.parentNode}if(h)if(l)g=I.getBookmark(),a.collapse(!0),a=T(a,m(b),!0),a=P.split(a),q(b,c,a),I.moveToBookmark(g);else{g=a=f();for(e=s.length-1;0<=e;e--)g.appendChild(F.clone(s[e],!1)),g=g.firstChild;g.appendChild(F.doc.createTextNode(M));g=g.firstChild;(s=F.getParent(h,n))&&F.isEmpty(s)?h.parentNode.replaceChild(a,
h):F.insertAfter(a,h);I.setCursorLocation(g,1);F.isEmpty(h)&&F.remove(h)}}function r(){var a;(a=k(I.getStart()))&&!F.isEmpty(a)&&S(a,function(a){1!=a.nodeType||a.id===v||F.isEmpty(a)||F.setAttrib(a,"data-mce-bogus",null)},"childNodes")}var v="_mce_caret",w=p.settings.caret_debug;p._hasCaretEvents||(pa=function(){var a=[],b;if(e(k(I.getStart()),a))for(b=a.length;b--;)F.setAttrib(a[b],"data-mce-bogus","1")},oa=function(a){a=a.keyCode;l();8==a&&I.isCollapsed()&&I.getStart().innerHTML==M&&l(k(I.getStart()));
37!=a&&39!=a||l(k(I.getStart()));r()},p.on("SetContent",function(a){a.selection&&r()}),p._hasCaretEvents=!0);"apply"==a?s():t()}function N(a){var b=a.startContainer,c=a.startOffset;if(a.startContainer!=a.endContainer||!a.startContainer.childNodes[a.startOffset]||!/^(IMG)$/.test(a.startContainer.childNodes[a.startOffset].nodeName))if(3==b.nodeType&&c>=b.nodeValue.length&&(c=Z(b),b=b.parentNode),1==b.nodeType)for(b=b.childNodes,c<b.length?(b=b[c],c=new h(b,F.getParent(b,F.isBlock))):(b=b[b.length-1],
c=new h(b,F.getParent(b,F.isBlock)),c.next(!0)),b=c.current();b;b=c.next())if(3==b.nodeType&&!K(b)){a.setStart(b,0);I.setRng(a);break}}var O={},F=p.dom,I=p.selection,P=new g(F),aa=p.schema.isValidChild,V=F.isBlock,ca=p.settings.forced_root_block,Z=F.nodeIndex,M="\ufeff",ha=/^(src|href|style)$/,ea=!1,da=!0,fa,la,ka=F.getContentEditable,oa,pa,ia=e.isBookmarkNode,J=c.each,ja=c.grep,S=c.walk,ga=c.extend,qa=function(a,b){a.clear_child_styles&&J(F.select("*",b),function(b){J(a.styles,function(a,c){F.setStyle(b,
c,"")})})};ga(this,{get:m,register:t,unregister:function(a){a&&O[a]&&delete O[a];return O},apply:y,remove:q,toggle:function(a,b,c){var d=m(a);!C(a,b,c)||"toggle"in d[0]&&!d[0].toggle?y(a,b,c):q(a,b,c)},match:C,matchAll:function(a,b){var c,d=[],f={};c=I.getStart();F.getParent(c,function(c){var e,k;for(e=0;e<a.length;e++)k=a[e],!f[k]&&x(c,k,b)&&(f[k]=!0,d.push(k))},F.getRoot());return d},matchNode:x,canApply:function(a){a=m(a);var b,c,d,f;if(a)for(b=I.getStart(),b=r(b),d=a.length-1;0<=d;d--){f=a[d].selector;
if(!f||a[d].defaultBlock)return da;for(c=b.length-1;0<=c;c--)if(F.is(b[c],f))return da}return ea},formatChanged:function(a,b,d){var f;fa||(fa={},f={},p.on("NodeChange",function(a){var b=r(a.element),d={},b=c.grep(b,function(a){return 1==a.nodeType&&!a.getAttribute("data-mce-bogus")});J(fa,function(a,c){J(b,function(e){if(x(e,c,{},a.similar))return f[c]||(J(a,function(a){a(!0,{node:e,format:c,parents:b})}),f[c]=a),d[c]=a,!1;if(w(e,c))return!1})});J(f,function(c,e){d[e]||(delete f[e],J(c,function(c){c(!1,
{node:a.element,format:e,parents:b})}))})}));J(a.split(","),function(a){fa[a]||(fa[a]=[],fa[a].similar=d);fa[a].push(b)});return this},getCssText:function(a){return f.getCssText(p,a)}});(function(){t({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},
{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,
styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},
preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],
strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",
attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(a,b,c){J(c,function(b,c){F.setAttrib(a,c,b)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style",
"class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]});J("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(a){t(a,{block:a,remove:"all"})});t(p.settings.formats)})();(function(){p.addShortcut("meta+b","bold_desc","Bold");p.addShortcut("meta+i","italic_desc","Italic");p.addShortcut("meta+u","underline_desc","Underline");for(var a=1;6>=a;a++)p.addShortcut("access+"+a,"",["FormatBlock",!1,"h"+a]);p.addShortcut("access+7",
"",["FormatBlock",!1,"p"]);p.addShortcut("access+8","",["FormatBlock",!1,"div"]);p.addShortcut("access+9","",["FormatBlock",!1,"address"])})();p.on("BeforeGetContent",function(a){pa&&"raw"!=a.format&&pa()});p.on("mouseup keydown",function(a){oa&&oa(a)})}});u("tinymce.core.undo.Diff",[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(h,g){var e=h.length+g.length+2,d=Array(e),b=Array(e),a=function(f,e,p,n,r){var l;a:{var m=e-f,t=n-p;if(0===m||0===t)l=null;else{l=m-t;m=t+m;m=(0===m%2?m:m+1)/
2;d[1+m]=f;b[1+m]=e+1;for(t=0;t<=m;++t){for(var w=-t;w<=t;w+=2){var v=w+m;d[v]=w===-t||w!=t&&d[v-1]<d[v+1]?d[v+1]:d[v-1]+1;for(var s=d[v],y=s-f+p-w;s<e&&y<n&&h[s]===g[y];)d[v]=++s,++y;if(0!=l%2&&l-t<=w&&w<=l+t&&b[v-l]<=d[v]){l=c(b[v-l],w+f-p,e,n);break a}}for(w=l-t;w<=l+t;w+=2){v=w+m-l;b[v]=w===l-t||w!=l+t&&b[v+1]<=b[v-1]?b[v+1]-1:b[v-1];s=b[v]-1;for(y=s-f+p-w;s>=f&&y>=p&&h[s]===g[y];)b[v]=s--,y--;if(0===l%2&&-t<=w&&w<=t&&b[v]<=d[v+l]){l=c(b[v],w+f-p,e,n);break a}}}l=void 0}}if(null===l||l.start===
e&&l.diag===e-n||l.end===f&&l.diag===f-p)for(l=f,m=p;l<e||m<n;)l<e&&m<n&&h[l]===g[m]?(r.push([0,h[l]]),++l,++m):e-f>n-p?(r.push([2,h[l]]),++l):(r.push([1,g[m]]),++m);else{a(f,l.start,p,l.start-l.diag,r);for(f=l.start;f<l.end;++f)r.push([0,h[f]]);a(l.end,e,l.end-l.diag,n,r)}},c=function(a,b,c,d){for(var e=a;e-b<d&&e<c&&h[e]===g[e-b];)++e;return{start:a,end:e,diag:b}},e=[];a(0,h.length,0,g.length,e);return e}}});u("tinymce.core.undo.Fragments",["tinymce.core.util.Arr","tinymce.core.html.Entities","tinymce.core.undo.Diff"],
function(h,g,e){var d=function(a){return 1===a.nodeType?a.outerHTML:3===a.nodeType?g.encodeRaw(a.data,!1):8===a.nodeType?"\x3c!--"+a.data+"--\x3e":""},b=function(a,b){var d=0;h.each(a,function(a){if(a[0]===e.KEEP)d++;else if(a[0]===e.INSERT){var g=d,h=a[1],r;r=document.createElement("div");a=document.createDocumentFragment();h&&(r.innerHTML=h);for(;h=r.firstChild;)a.appendChild(h);b.hasChildNodes()&&g<b.childNodes.length?(g=b.childNodes[g],g.parentNode.insertBefore(a,g)):b.appendChild(a);d++}else a[0]===
e.DELETE&&(g=d,b.hasChildNodes()&&g<b.childNodes.length&&(g=b.childNodes[g],g.parentNode.removeChild(g)))})};return{read:function(a){return h.filter(h.map(a.childNodes,d),function(a){return 0<a.length})},write:function(a,c){var f=h.map(c.childNodes,d);b(e.diff(f,a),c);return c}}});u("tinymce.core.undo.Levels",["tinymce.core.util.Arr","tinymce.core.undo.Fragments"],function(h,g){var e=function(a){return{type:"fragmented",fragments:a,content:"",bookmark:null,beforeBookmark:null}},d=function(a){return{type:"complete",
fragments:null,content:a,bookmark:null,beforeBookmark:null}},b=function(a){return"fragmented"===a.type?a.fragments.join(""):a.content};return{createFragmentedLevel:e,createCompleteLevel:d,createFromEditor:function(a){var b,f;b=g.read(a.getBody());f=h.map(b,function(b){return a.serializer.trimContent(b)});b=f.join("");return-1!==b.indexOf("</iframe>")?e(f):d(b)},applyToEditor:function(a,b,d){"fragmented"===b.type?g.write(b.fragments,a.getBody()):a.setContent(b.content,{format:"raw"});a.selection.moveToBookmark(d?
b.beforeBookmark:b.bookmark)},isEq:function(a,c){return b(a)===b(c)}}});u("tinymce.core.UndoManager",["tinymce.core.util.VK","tinymce.core.util.Tools","tinymce.core.undo.Levels"],function(h,g,e){return function(d){function b(a){l(!1);c.add({},a)}function a(){c.typing&&(l(!1),c.add())}var c=this,f=0,k=[],h,n,r=0,l=function(a){0===r&&(c.typing=a)};d.on("init",function(){c.add()});d.on("BeforeExecCommand",function(b){b=b.command;"Undo"!==b&&"Redo"!==b&&"mceRepaint"!==b&&(a(),c.beforeChange())});d.on("ExecCommand",
function(a){var c=a.command;"Undo"!==c&&"Redo"!==c&&"mceRepaint"!==c&&b(a)});d.on("ObjectResizeStart Cut",function(){c.beforeChange()});d.on("SaveContent ObjectResized blur",b);d.on("DragEnd",b);d.on("KeyUp",function(a){var f=a.keyCode;if(!a.isDefaultPrevented()){if(33<=f&&36>=f||37<=f&&40>=f||45===f||a.ctrlKey)b(),d.nodeChanged();46!==f&&8!==f||d.nodeChanged();n&&c.typing&&!1===e.isEq(e.createFromEditor(d),k[0])&&(!1===d.isDirty()&&(d.setDirty(!0),d.fire("change",{level:k[0],lastLevel:null})),d.fire("TypingUndo"),
n=!1,d.nodeChanged())}});d.on("KeyDown",function(a){var d=a.keyCode;if(!a.isDefaultPrevented())if(33<=d&&36>=d||37<=d&&40>=d||45===d)c.typing&&b(a);else{var f=a.ctrlKey&&!a.altKey||a.metaKey;!(16>d||20<d)||224===d||91===d||c.typing||f||(c.beforeChange(),l(!0),c.add({},a),n=!0)}});d.on("MouseDown",function(a){c.typing&&b(a)});d.addShortcut("meta+z","","Undo");d.addShortcut("meta+y,meta+shift+z","","Redo");d.on("AddUndo Undo Redo ClearUndos",function(a){a.isDefaultPrevented()||d.nodeChanged()});return c=
{data:k,typing:!1,beforeChange:function(){0===r&&(h=d.selection.getBookmark(2,!0))},add:function(a,b){var c;c=d.settings;var l;l=e.createFromEditor(d);a=a||{};a=g.extend(a,l);if(!1===(0===r)||d.removed)return null;l=k[f];if(d.fire("BeforeAddUndo",{level:a,lastLevel:l,originalEvent:b}).isDefaultPrevented()||l&&e.isEq(l,a))return null;k[f]&&(k[f].beforeBookmark=h);if(c.custom_undo_redo_levels&&k.length>c.custom_undo_redo_levels){for(c=0;c<k.length-1;c++)k[c]=k[c+1];k.length--;f=k.length}a.bookmark=
d.selection.getBookmark(2,!0);f<k.length-1&&(k.length=f+1);k.push(a);f=k.length-1;c={level:a,lastLevel:l,originalEvent:b};d.fire("AddUndo",c);0<f&&(d.setDirty(!0),d.fire("change",c));return a},undo:function(){var a;c.typing&&(c.add(),c.typing=!1,l(!1));0<f&&(a=k[--f],e.applyToEditor(d,a,!0),d.setDirty(!0),d.fire("undo",{level:a}));return a},redo:function(){var a;f<k.length-1&&(a=k[++f],e.applyToEditor(d,a,!1),d.setDirty(!0),d.fire("redo",{level:a}));return a},clear:function(){k=[];f=0;c.typing=!1;
c.data=k;d.fire("ClearUndos")},hasUndo:function(){return 0<f||c.typing&&k[0]&&!e.isEq(e.createFromEditor(d),k[0])},hasRedo:function(){return f<k.length-1&&!c.typing},transact:function(b){a();c.beforeChange();c.ignore(b);return c.add()},ignore:function(a){try{r++,a()}finally{r--}},extra:function(a,b){var g,l;c.transact(a)&&(l=k[f].bookmark,g=k[f-1],e.applyToEditor(d,g,!0),c.transact(b)&&(k[f-1].beforeBookmark=l))}}}});u("ephox.sugar.api.node.Body",["ephox.katamari.api.Thunk","ephox.sugar.api.node.Element",
"ephox.sugar.api.node.Node","global!document"],function(h,g,e,d){var b=function(a){a=a.dom().body;if(null===a||void 0===a)throw"Body is not available yet";return g.fromDom(a)};return{body:h.cached(function(){return b(g.fromDom(d))}),getBody:b,inBody:function(a){a=e.isText(a)?a.dom().parentNode:a.dom();return void 0!==a&&null!==a&&a.ownerDocument.body.contains(a)}}});u("ephox.sugar.impl.ClosestOrAncestor",["ephox.katamari.api.Type","ephox.katamari.api.Option"],function(h,g){return function(e,d,b,a,
c){return e(b,a)?g.some(b):h.isFunction(c)&&c(b)?g.none():d(b,a,c)}});u("ephox.sugar.api.search.PredicateFind","ephox.katamari.api.Type ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Option ephox.sugar.api.node.Body ephox.sugar.api.dom.Compare ephox.sugar.api.node.Element ephox.sugar.impl.ClosestOrAncestor".split(" "),function(h,g,e,d,b,a,c,f){var k=function(a,b,f){a=a.dom();for(f=h.isFunction(f)?f:e.constant(!1);a.parentNode;){a=a.parentNode;var k=c.fromDom(a);if(b(k))return d.some(k);
if(f(k))break}return d.none()},p=function(a,b){return g.find(a.dom().childNodes,e.compose(b,c.fromDom)).map(c.fromDom)},n=function(a,b){var f=function(a){for(var e=0;e<a.childNodes.length;e++){if(b(c.fromDom(a.childNodes[e])))return d.some(c.fromDom(a.childNodes[e]));var k=f(a.childNodes[e]);if(k.isSome())return k}return d.none()};return f(a.dom())};return{first:function(a){return n(b.body(),a)},ancestor:k,closest:function(a,b,c){return f(function(a){return b(a)},k,a,b,c)},sibling:function(b,f){var e=
b.dom();return e.parentNode?p(c.fromDom(e.parentNode),function(c){return!a.eq(b,c)&&f(c)}):d.none()},child:p,descendant:n}});u("tinymce.core.caret.CaretUtils","tinymce.core.util.Fun tinymce.core.dom.TreeWalker tinymce.core.dom.NodeType tinymce.core.caret.CaretPosition tinymce.core.caret.CaretContainer tinymce.core.caret.CaretCandidate".split(" "),function(h,g,e,d,b,a){function c(a,b){for(var c;c=a(b);)if(!v(c))return c;return null}function f(a,b){for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(l(a))return a;
return b}function k(a,b){for(;a&&a!=b;){if(t(a))return a;a=a.parentNode}return null}function p(a,b){var c=b.ownerDocument.createRange();a?(c.setStartBefore(b),c.setEndBefore(b)):(c.setStartAfter(b),c.setEndAfter(b));return c}function n(a,b,c){var d;for(d=a?"previousSibling":"nextSibling";c&&c!=b;){a=c[d];w(a)&&(a=a[d]);if(m(a)){if(k(a,b)==k(c,b))return a;break}if(q(a))break;c=c.parentNode}return null}function r(a,b){var c=m,d;var f;b?(d=b.container(),f=b.offset(),d=y(d)?d.childNodes[f+a]:null):d=
null;return c(d)}var l=e.isContentEditableTrue,m=e.isContentEditableFalse,t=e.matchStyleValues("display","block table table-cell table-caption list-item"),w=b.isCaretContainer,v=b.isCaretContainerBlock,s=h.curry,y=e.isElement,q=a.isCaretCandidate,x=s(p,!0),C=s(p,!1);return{isForwards:function(a){return 0<a},isBackwards:function(a){return 0>a},findNode:function(a,b,d,f,e){f=new g(a,f);if(0>b){if(m(a)||v(a))if(a=c(f.prev,!0),d(a))return a;for(;a=c(f.prev,e);)if(d(a))return a}if(0<b){if(m(a)||v(a))if(a=
c(f.next,!0),d(a))return a;for(;a=c(f.next,e);)if(d(a))return a}return null},getEditingHost:f,getParentBlock:k,isInSameBlock:function(a,b,c){return k(a.container(),c)==k(b.container(),c)},isInSameEditingHost:function(a,b,c){return f(a.container(),c)==f(b.container(),c)},isBeforeContentEditableFalse:s(r,0),isAfterContentEditableFalse:s(r,-1),normalizeRange:function(a,c,d){var f,k,g,q=s(n,!0,c),l=s(n,!1,c);f=d.startContainer;k=d.startOffset;if(b.isCaretContainerBlock(f)){y(f)||(f=f.parentNode);g=f.getAttribute("data-mce-caret");
if("before"==g&&(c=f.nextSibling,m(c)))return x(c);if("after"==g&&(c=f.previousSibling,m(c)))return C(c)}if(!d.collapsed)return d;if(e.isText(f)){if(w(f)){if(1===a){if(c=l(f))return x(c);if(c=q(f))return C(c)}if(-1===a){if(c=q(f))return C(c);if(c=l(f))return x(c)}return d}if(b.endsWithCaretContainer(f)&&k>=f.data.length-1)return 1===a&&(c=l(f))?x(c):d;if(b.startsWithCaretContainer(f)&&1>=k)return-1===a&&(c=q(f))?C(c):d;if(k===f.data.length)return(c=l(f))?x(c):d;if(0===k&&(c=q(f)))return C(c)}return d}}});
u("tinymce.core.caret.CaretWalker","tinymce.core.dom.NodeType tinymce.core.caret.CaretCandidate tinymce.core.caret.CaretPosition tinymce.core.caret.CaretUtils tinymce.core.util.Arr tinymce.core.util.Fun".split(" "),function(h,g,e,d,b,a){function c(a,b){for(var c=[];a&&a!=b;)c.push(a),a=a.parentNode;return c}function f(a,b){if(m(a)){if(w(b.previousSibling)&&!n(b.previousSibling))return e.before(b);if(n(b))return e(b,0)}if(t(a)){if(w(b.nextSibling)&&!n(b.nextSibling))return e.after(b);if(n(b))return e(b,
b.data.length)}return t(a)?l(b)?e.before(b):e.after(b):e.before(b)}function k(g,q,x){var C,z,A;if(!r(x)||!q)return null;if(q.isEqual(e.after(x))&&x.lastChild){if(A=e.after(x.lastChild),t(g)&&w(x.lastChild)&&r(x.lastChild))return l(x.lastChild)?e.before(x.lastChild):A}else A=q;C=A.container();z=A.offset();if(n(C)){if(t(g)&&0<z)return e(C,--z);if(m(g)&&z<C.length)return e(C,++z);q=C}else{if(t(g)&&0<z&&(q=C.hasChildNodes()&&z-1<C.childNodes.length?C.childNodes[z-1]:null,w(q)))return!v(q)&&(g=d.findNode(q,
g,s,q))?n(g)?e(g,g.data.length):e.after(g):n(q)?e(q,q.data.length):e.before(q);if(m(g)&&z<C.childNodes.length&&(q=C.hasChildNodes()&&z<C.childNodes.length?C.childNodes[z]:null,w(q)))return C=q,C=h.isBr(C)?(A=k(1,e.after(C),x))?!d.isInSameBlock(e.before(C),e.before(A),x):!1:!1,C?k(g,e.after(q),x):!v(q)&&(g=d.findNode(q,g,s,q))?n(g)?e(g,0):e.before(g):n(q)?e(q,0):e.after(q);q=A.getNode()}if(m(g)&&A.isAtEnd()||t(g)&&A.isAtStart())if(q=d.findNode(q,g,a.constant(!0),x,!0),s(q))return f(g,q);q=d.findNode(q,
g,s,x);return!(x=b.last(b.filter(c(C,x),p)))||q&&x.contains(q)?q?f(g,q):null:A=m(g)?e.after(x):e.before(x)}var p=h.isContentEditableFalse,n=h.isText,r=h.isElement,l=h.isBr,m=d.isForwards,t=d.isBackwards,w=g.isCaretCandidate,v=g.isAtomic,s=g.isEditableCaretCandidate;return function(a){return{next:function(b){return k(1,b,a)},prev:function(b){return k(-1,b,a)}}}});u("tinymce.core.caret.CaretFinder","ephox.katamari.api.Fun ephox.katamari.api.Option tinymce.core.caret.CaretCandidate tinymce.core.caret.CaretPosition tinymce.core.caret.CaretUtils tinymce.core.caret.CaretWalker tinymce.core.dom.NodeType".split(" "),
function(h,g,e,d,b,a,c){var f=function(a){return d.isTextPosition(a)?a.offset()===a.container().data.length:e.isCaretCandidate(a.getNode(!0))},k=function(b,c,d){c=new a(c);return g.from(b?c.next(d):c.prev(d))};return{fromPosition:k,navigate:function(a,h,r){return k(a,h,r).bind(function(l){var m;if(m=b.isInSameBlock(r,l,h))m=a?!(!d.isTextPosition(r)&&!d.isTextPosition(l)&&r.getNode()===l.getNode(!0))&&!(!d.isTextPosition(r)&&c.isBr(r.getNode()))&&f(r)&&(d.isTextPosition(l)?0===l.offset():e.isCaretCandidate(l.getNode())):
!(!d.isTextPosition(l)&&!d.isTextPosition(r)&&l.getNode()===r.getNode(!0))&&(d.isTextPosition(r)?0===r.offset():e.isCaretCandidate(r.getNode()))&&f(l);return m?k(a,h,l):g.some(l)})},positionIn:function(a,b){var f=a?b.firstChild:b.lastChild;if(c.isText(f))return g.some(new d(f,a?0:f.data.length));if(f){if(e.isCaretCandidate(f))return g.some(a?d.before(f):c.isBr(f)?d.before(f):d.after(f));f=a?d.before(f):d.after(f);return k(a,b,f)}return g.none()}}});u("tinymce.core.delete.DeleteUtils","ephox.katamari.api.Arr ephox.katamari.api.Option ephox.sugar.api.dom.Compare ephox.sugar.api.node.Element ephox.sugar.api.node.Node ephox.sugar.api.search.PredicateFind".split(" "),
function(h,g,e,d,b,a){var c=function(a){var c=h.foldl(a,function(a,b){a[b]=!0;return a},{});return function(a){return!0===c[b.name(a)]}}("h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure".split(" ")),f=function(a){return function(b){return e.eq(a,d.fromDom(b.dom().parentNode))}};return{getParentTextBlock:function(b,d){return e.contains(b,d)?a.closest(d,c,f(b)):g.none()}}});u("ephox.sugar.api.search.SelectorFind",["ephox.sugar.api.search.PredicateFind",
"ephox.sugar.api.search.Selectors","ephox.sugar.impl.ClosestOrAncestor"],function(h,g,e){var d=function(b,a,c){return h.ancestor(b,function(b){return g.is(b,a)},c)};return{first:function(b){return g.one(b)},ancestor:d,sibling:function(b,a){return h.sibling(b,function(b){return g.is(b,a)})},child:function(b,a){return h.child(b,function(b){return g.is(b,a)})},descendant:function(b,a){return g.one(a,b)},closest:function(b,a,c){return e(g.is,d,b,a,c)}}});u("ephox.sugar.api.search.SelectorExists",["ephox.sugar.api.search.SelectorFind"],
function(h){return{any:function(g){return h.first(g).isSome()},ancestor:function(g,e,d){return h.ancestor(g,e,d).isSome()},sibling:function(g,e){return h.sibling(g,e).isSome()},child:function(g,e){return h.child(g,e).isSome()},descendant:function(g,e){return h.descendant(g,e).isSome()},closest:function(g,e,d){return h.closest(g,e,d).isSome()}}});u("tinymce.core.dom.Empty","ephox.katamari.api.Fun ephox.sugar.api.dom.Compare ephox.sugar.api.node.Element ephox.sugar.api.search.SelectorExists tinymce.core.caret.CaretCandidate tinymce.core.dom.NodeType tinymce.core.dom.TreeWalker".split(" "),
function(h,g,e,d,b,a,c){var f=function(b,c){var f;if(f=a.isText(c))if(f=/^[ \t\r\n]*$/.test(c.data)){f=e.fromDom(b);var k=e.fromDom(c);f=!1===d.ancestor(k,"pre,code",h.curry(g.eq,f))}return f},k=function(b){return a.isElement(b)&&"A"===b.nodeName&&b.hasAttribute("name")},p=a.hasAttribute("data-mce-bookmark"),n=a.hasAttribute("data-mce-bogus"),r=a.hasAttributeValue("data-mce-bogus","all"),l=function(d){var e,g,l=0;if(b.isCaretCandidate(d)&&!1===f(d,d)||k(d)||p(d))return!1;g=d.firstChild;if(!g)return!0;
e=new c(g,d);do if(r(g))g=e.next(!0);else{if(!n(g))if(a.isBr(g))l++;else if(b.isCaretCandidate(g)&&!1===f(d,g)||k(g)||p(g))return!1;g=e.next()}while(g);return 1>=l};return{isEmpty:function(a){return l(a.dom())}}});u("tinymce.core.delete.BlockBoundary","ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Option ephox.katamari.api.Options ephox.katamari.api.Struct ephox.sugar.api.dom.Compare ephox.sugar.api.node.Element ephox.sugar.api.node.Node ephox.sugar.api.search.PredicateFind ephox.sugar.api.search.Traverse tinymce.core.caret.CaretFinder tinymce.core.caret.CaretPosition tinymce.core.delete.DeleteUtils tinymce.core.dom.Empty tinymce.core.dom.NodeType".split(" "),
function(h,g,e,d,b,a,c,f,k,p,n,r,l,m,t){var w=b.immutable("block","position"),v=b.immutable("from","to"),s=function(a,b){var d=c.fromDom(a),f=c.fromDom(b.container());return l.getParentTextBlock(d,f).map(function(a){return w(a,b)})},y=function(b){return p.parent(b.from().block()).bind(function(c){return p.parent(b.to().block()).filter(function(b){return a.eq(c,b)})}).isSome()},q=function(a,b,c){return t.isBr(c.position().getNode())&&!1===m.isEmpty(c.block())?n.positionIn(!1,c.block().dom()).bind(function(d){return d.isEqual(c.position())?
n.fromPosition(b,a,d).bind(function(b){return s(a,b)}):e.some(c)}).getOr(c):c},x=function(b,c,f){f=s(b,r.fromRangeStart(f));var e=f.bind(function(a){return n.fromPosition(c,b,a.position()).bind(function(a){return s(b,a).map(function(a){return q(b,c,a)})})});return d.liftN([f,e],v).filter(function(b){return!1===a.eq(b.from().block(),b.to().block())&&y(b)&&!1===t.isContentEditableFalse(b.from().block())&&!1===t.isContentEditableFalse(b.to().block())})};return{read:function(a,b,c){return c.collapsed?
x(a,b,c):e.none()}}});u("tinymce.core.delete.MergeBlocks","ephox.katamari.api.Arr ephox.katamari.api.Option ephox.sugar.api.dom.Insert ephox.sugar.api.dom.Remove ephox.sugar.api.node.Element ephox.sugar.api.search.Traverse tinymce.core.caret.CaretFinder tinymce.core.caret.CaretPosition tinymce.core.dom.Empty tinymce.core.dom.NodeType".split(" "),function(h,g,e,d,b,a,c,f,k,p){var n=function(f,l,m,t){f=a.children(l);p.isBr(t.getNode())&&(d.remove(b.fromDom(t.getNode())),t=c.positionIn(!1,m.dom()).getOr(t));
!1===k.isEmpty(l)&&h.each(f,function(a){e.append(m,a)});k.isEmpty(l)&&d.remove(l);return 0<f.length?g.from(t):g.none()};return{mergeBlocks:function(a,b,f){return a?k.isEmpty(b)?(d.remove(b),c.positionIn(!0,f.dom())):c.positionIn(!1,b.dom()).bind(function(c){return n(a,f,b,c)}):k.isEmpty(f)?(d.remove(f),c.positionIn(!0,b.dom())):c.positionIn(!1,f.dom()).bind(function(c){return n(a,b,f,c)})}}});u("tinymce.core.delete.BlockBoundaryDelete",["tinymce.core.delete.BlockBoundary","tinymce.core.delete.MergeBlocks"],
function(h,g){return{backspaceDelete:function(e,d){var b;b=h.read(e.getBody(),d,e.selection.getRng()).bind(function(a){return g.mergeBlocks(d,a.from().block(),a.to().block())});b.each(function(a){e.selection.setRng(a.toRange())});return b.isSome()}}});u("tinymce.core.delete.BlockRangeDelete",["ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","tinymce.core.delete.DeleteUtils","tinymce.core.delete.MergeBlocks"],function(h,g,e,d,b){var a=function(a,f){var k=f.getRng();
return h.liftN([d.getParentTextBlock(a,e.fromDom(k.startContainer)),d.getParentTextBlock(a,e.fromDom(k.endContainer))],function(a,c){return!1===g.eq(a,c)?(k.deleteContents(),b.mergeBlocks(!0,a,c).each(function(a){f.setRng(a.toRange())}),!0):!1}).getOr(!1)};return{backspaceDelete:function(b,d){var g=e.fromDom(b.getBody());return!1===b.selection.isCollapsed()?a(g,b.selection):!1}}});u("ephox.katamari.api.Adt","ephox.katamari.api.Arr ephox.katamari.api.Obj ephox.katamari.api.Type global!Array global!Error global!console".split(" "),
function(h,g,e,d,b,a){return{generate:function(c){if(!e.isArray(c))throw new b("cases must be an array");if(0===c.length)throw new b("there must be at least one case");var f=[],k={};h.each(c,function(p,n){var r=g.keys(p);if(1!==r.length)throw new b("one and only one name per case");var l=r[0],m=p[l];if(void 0!==k[l])throw new b("duplicate key detected:"+l);if("cata"===l)throw new b("cannot have a case named cata (sorry)");if(!e.isArray(m))throw new b("case arguments must be an array");f.push(l);k[l]=
function(){var e=arguments.length;if(e!==m.length)throw new b("Wrong number of arguments to case "+l+". Expected "+m.length+" ("+m+"), got "+e);for(var k=new d(e),e=0;e<k.length;e++)k[e]=arguments[e];return{fold:function(){if(arguments.length!==c.length)throw new b("Wrong number of arguments to fold. Expected "+c.length+", got "+arguments.length);return arguments[n].apply(null,k)},match:function(a){var c=g.keys(a);if(f.length!==c.length)throw new b("Wrong number of arguments to match. Expected: "+
f.join(",")+"\nActual: "+c.join(","));if(!h.forall(f,function(a){return h.contains(c,a)}))throw new b("Not all branches were specified when using match. Specified: "+c.join(", ")+"\nRequired: "+f.join(", "));return a[l].apply(null,k)},log:function(b){a.log(b,{constructors:f,constructor:l,params:k})}}}});return k}}});u("tinymce.core.delete.CefDeleteAction","ephox.katamari.api.Adt ephox.katamari.api.Option ephox.sugar.api.node.Element tinymce.core.caret.CaretFinder tinymce.core.caret.CaretPosition tinymce.core.caret.CaretUtils tinymce.core.delete.DeleteUtils tinymce.core.dom.Empty tinymce.core.dom.NodeType".split(" "),
function(h,g,e,d,b,a,c,f,k){var p=h.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),n=function(a,b){var c=b.getNode(!1===a),d=a?"after":"before";return k.isElement(c)&&c.getAttribute("data-mce-caret")===d},r=function(a,b,d,k){var l=k.getNode(!1===b);return c.getParentTextBlock(e.fromDom(a),e.fromDom(d.getNode())).map(function(a){return f.isEmpty(a)?p.remove(a.dom()):p.moveToElement(l)}).orThunk(function(){return g.some(p.moveToElement(l))})},l=function(b,
c,f){return d.fromPosition(c,b,f).bind(function(d){return c&&k.isContentEditableFalse(d.getNode())?r(b,c,f,d):!1===c&&k.isContentEditableFalse(d.getNode(!0))?r(b,c,f,d):c&&a.isAfterContentEditableFalse(f)?g.some(p.moveToPosition(d)):!1===c&&a.isBeforeContentEditableFalse(f)?g.some(p.moveToPosition(d)):g.none()})},m=function(a,b){return a&&k.isContentEditableFalse(b.nextSibling)?g.some(p.moveToElement(b.nextSibling)):!1===a&&k.isContentEditableFalse(b.previousSibling)?g.some(p.moveToElement(b.previousSibling)):
g.none()},t=function(a,b,c){return n(b,c)?m(b,c.getNode(!1===b)).fold(function(){return l(a,b,c)},g.some):l(a,b,c)};return{read:function(c,d,f){f=a.normalizeRange(d?1:-1,c,f);f=b.fromRangeStart(f);return!1===d&&a.isAfterContentEditableFalse(f)?g.some(p.remove(f.getNode(!0))):d&&a.isBeforeContentEditableFalse(f)?g.some(p.remove(f.getNode())):t(c,d,f)}}});u("tinymce.core.text.Bidi",[],function(){var h=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;return{hasStrongRtl:function(g){return h.test(g)}}});u("tinymce.core.keyboard.InlineUtils",
"ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Option ephox.katamari.api.Options tinymce.core.caret.CaretContainer tinymce.core.caret.CaretFinder tinymce.core.caret.CaretPosition tinymce.core.caret.CaretUtils tinymce.core.caret.CaretWalker tinymce.core.dom.DOMUtils tinymce.core.dom.NodeType tinymce.core.text.Bidi".split(" "),function(h,g,e,d,b,a,c,f,k,p,n,r){var l=function(a){return p.DOM.is(a,"a[href],code")},m=function(a,b){var c=h.filter(p.DOM.getParents(b.container(),"*",a),
l);return e.from(c[c.length-1])},t=function(b,c,d){return a.fromPosition(c,b,d)};d=function(a,d){var f=d.container(),e=d.offset();return a?b.isCaretContainerInline(f)?n.isText(f.nextSibling)?new c(f.nextSibling,0):c.after(f):b.isBeforeInline(d)?new c(f,e+1):d:b.isCaretContainerInline(f)?n.isText(f.previousSibling)?new c(f.previousSibling,f.previousSibling.data.length):c.before(f):b.isAfterInline(d)?new c(f,e-1):d};k=g.curry(d,!0);g=g.curry(d,!1);return{isInlineTarget:l,findInline:function(a,b){var c=
h.filter(p.DOM.getParents(b.container(),"*",a),l);return e.from(c[0])},findRootInline:m,isInInline:function(a,b){return b?m(a,b).isSome():!1},isRtl:function(a){return"rtl"===p.DOM.getStyle(a,"direction",!0)||r.hasStrongRtl(a.textContent)},isAtInlineEndPoint:function(a,b){return m(a,b).map(function(a){return t(a,!1,b).isNone()||t(a,!0,b).isNone()}).getOr(!1)},isAtZwsp:function(a){return b.isBeforeInline(a)||b.isAfterInline(a)},findCaretPositionIn:function(b,c){return a.positionIn(c,b)},findCaretPosition:t,
normalizePosition:d,normalizeForwards:k,normalizeBackwards:g,hasSameParentBlock:function(a,b,c){b=f.getParentBlock(b,a);a=f.getParentBlock(c,a);return b&&b===a}}});u("tinymce.core.delete.DeleteElement","ephox.katamari.api.Fun ephox.katamari.api.Option ephox.katamari.api.Options ephox.sugar.api.dom.Insert ephox.sugar.api.dom.Remove ephox.sugar.api.node.Element ephox.sugar.api.node.Node ephox.sugar.api.search.PredicateFind ephox.sugar.api.search.Traverse tinymce.core.caret.CaretCandidate tinymce.core.caret.CaretPosition tinymce.core.dom.Empty tinymce.core.dom.NodeType tinymce.core.keyboard.InlineUtils".split(" "),
function(h,g,e,d,b,a,c,f,k,p,n,r,l,m){var t=function(a,b){var c=b.container(),d=b.offset();return!1===n.isTextPosition(b)&&c===a.parentNode&&d>n.before(a).offset()?new n(b.container(),b.offset()-1):b},w=function(a){return p.isCaretCandidate(a.previousSibling)?g.some(l.isText(a.previousSibling)?new n(a.previousSibling,a.previousSibling.data.length):n.after(a.previousSibling)):a.previousSibling?m.findCaretPositionIn(a.previousSibling,!1):g.none()},v=function(a){return p.isCaretCandidate(a.nextSibling)?
g.some(l.isText(a.nextSibling)?new n(a.nextSibling,0):n.before(a.nextSibling)):a.nextSibling?m.findCaretPositionIn(a.nextSibling,!0):g.none()},s=function(a,b){var c=n.before(b.previousSibling?b.previousSibling:b.parentNode);return m.findCaretPosition(a,!1,c).fold(function(){return m.findCaretPosition(a,!0,n.after(b))},g.some)},y=function(a,b){return m.findCaretPosition(a,!0,n.after(b)).fold(function(){return m.findCaretPosition(a,!1,n.before(b))},g.some)},q=function(a,b){return w(b).orThunk(function(){return v(b)}).orThunk(function(){return s(a,
b)})},x=function(a,b){return v(b).orThunk(function(){return w(b)}).orThunk(function(){return y(a,b)})},C=function(a,b,c){return(a?x(b,c):q(b,c)).map(h.curry(t,c))},z=function(a,b,c){c.fold(function(){a.focus()},function(c){a.selection.setRng(c.toRange(),b)})},A=function(a){return function(b){return b.dom()===a}},H=function(a,b){return b&&a.schema.getBlockElements().hasOwnProperty(c.name(b))},D=function(c){if(r.isEmpty(c)){var f=a.fromHtml('<br data-mce-bogus="1">');b.empty(c);d.append(c,f);return g.some(n.before(f.dom()))}return g.none()},
L=function(a,c){return e.liftN([k.prevSibling(a),k.nextSibling(a),c],function(c,d,f){var e=c.dom(),g=d.dom();if(l.isText(e)&&l.isText(g))return c=e.data.length,e.appendData(g.data),b.remove(d),b.remove(a),f.container()===g?new n(e,c):f;b.remove(a);return f}).orThunk(function(){b.remove(a);return c})};return{deleteElement:function(a,b,c){var d=C(b,a.getBody(),c.dom()),e=f.ancestor(c,h.curry(H,a),A(a.getBody())),k=L(c,d);e.bind(D).fold(function(){z(a,b,k)},function(c){z(a,b,g.some(c))})}}});u("tinymce.core.delete.CefDelete",
"ephox.sugar.api.node.Element tinymce.core.caret.CaretPosition tinymce.core.caret.CaretUtils tinymce.core.delete.BlockBoundary tinymce.core.delete.CefDeleteAction tinymce.core.delete.DeleteElement tinymce.core.delete.MergeBlocks tinymce.core.dom.NodeType".split(" "),function(h,g,e,d,b,a,c,f){var k=function(b,c){return function(d){a.deleteElement(b,c,h.fromDom(d));return!0}},p=function(a,b){return function(c){c=b?g.before(c):g.after(c);a.selection.setRng(c.toRange());return!0}},n=function(a){return function(b){a.selection.setRng(b.toRange());
return!0}},r=function(a,c){return b.read(a.getBody(),c,a.selection.getRng()).map(function(b){return b.fold(k(a,c),p(a,c),n(a))}).getOr(!1)};return{backspaceDelete:function(b,c){if(b.selection.isCollapsed())return r(b,c);var d;d=b.selection.getNode();f.isContentEditableFalse(d)?(a.deleteElement(b,c,h.fromDom(b.selection.getNode())),d=!0):d=!1;return d},paddEmptyElement:function(a){var b,c;a:{b=a.getBody();for(c=a.selection.getNode();c&&c!==b;){if(f.isContentEditableTrue(c)||f.isContentEditableFalse(c))break a;
c=c.parentNode}c=null}f.isContentEditableTrue(c)&&a.dom.isBlock(c)&&a.dom.isEmpty(c)&&(b=a.dom.create("br",{"data-mce-bogus":"1"}),a.dom.setHTML(c,""),c.appendChild(b),a.selection.setRng(g.before(b).toRange()));return!0}}});u("tinymce.core.caret.CaretContainerInline",["ephox.katamari.api.Fun","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(h,g,e){var d=g.isText;g=function(b,a){var c;b?d(a.previousSibling)?(d(a.previousSibling)&&a.previousSibling.data[a.previousSibling.data.length-1]===
e.ZWSP||a.previousSibling.appendData(e.ZWSP),c=a.previousSibling):d(a)?(d(a)&&a.data[0]===e.ZWSP||a.insertData(0,e.ZWSP),c=a):(c=a.ownerDocument.createTextNode(e.ZWSP),a.parentNode.insertBefore(c,a)):d(a.nextSibling)?(d(a.nextSibling)&&a.nextSibling.data[0]===e.ZWSP||a.nextSibling.insertData(0,e.ZWSP),c=a.nextSibling):d(a)?(d(a)&&a.data[a.data.length-1]===e.ZWSP||a.appendData(e.ZWSP),c=a):(c=a.ownerDocument.createTextNode(e.ZWSP),a.nextSibling?a.parentNode.insertBefore(c,a.nextSibling):a.parentNode.appendChild(c));
return c};return{insertInline:g,insertInlineBefore:h.curry(g,!0),insertInlineAfter:h.curry(g,!1)}});u("tinymce.core.caret.CaretContainerRemove","ephox.katamari.api.Arr tinymce.core.caret.CaretContainer tinymce.core.caret.CaretPosition tinymce.core.dom.NodeType tinymce.core.text.Zwsp tinymce.core.util.Tools".split(" "),function(h,g,e,d,b,a){var c=d.isElement,f=d.isText,k=function(a){var b=a.parentNode;b&&b.removeChild(a)},p=function(a){try{return a.nodeValue}catch(b){return""}},n=function(a){var c=
b.trim(a);return{count:a.length-c.length,text:c}},r=function(a,b){var c=b.container(),d=h.indexOf(c.childNodes,a).map(function(a){return a<b.offset()?new e(c,b.offset()-1):b}).getOr(b);l(a);return d},l=function(a){c(a)&&g.isCaretContainer(a)&&(g.hasContent(a)?a.removeAttribute("data-mce-caret"):k(a));if(f(a)){var d=b.trim(p(a));0===d.length?k(a):a.nodeValue=d}};return{removeAndReposition:function(a,b){var c;if(e.isTextPosition(b))if(b.container()===a){c=n(a.data.substr(0,b.offset()));var d=n(a.data.substr(b.offset())),
d=c.text+d.text;0<d.length?(0===d.length?k(a):a.nodeValue=d,c=new e(a,b.offset()-c.count)):c=b}else l(a),c=b;else b.container()===a.parentNode?c=r(a,b):(l(a),c=b);return c},remove:l}});u("tinymce.core.keyboard.BoundaryCaret","ephox.katamari.api.Option tinymce.core.caret.CaretContainer tinymce.core.caret.CaretContainerInline tinymce.core.caret.CaretContainerRemove tinymce.core.caret.CaretPosition tinymce.core.dom.NodeType tinymce.core.keyboard.InlineUtils".split(" "),function(h,g,e,d,b,a,c){var f=
function(b,c){return a.isText(b.container())?e.insertInline(c,b.container()):e.insertInline(c,b.getNode())},k=function(a,b){var c=b.get();return c&&a.container()===c&&g.isCaretContainerInline(c)};return{renderCaret:function(a,g){return g.fold(function(c){d.remove(a.get());c=e.insertInlineBefore(c);a.set(c);return h.some(new b(c,c.length-1))},function(e){return c.findCaretPositionIn(e,!0).map(function(c){if(k(c,a))return new b(a.get(),1);d.remove(a.get());c=f(c,!0);a.set(c);return new b(c,1)})},function(e){return c.findCaretPositionIn(e,
!1).map(function(c){if(k(c,a))return new b(a.get(),a.get().length-1);d.remove(a.get());c=f(c,!1);a.set(c);return new b(c,c.length-1)})},function(c){d.remove(a.get());c=e.insertInlineAfter(c);a.set(c);return h.some(new b(c,1))})}}});u("tinymce.core.util.LazyEvaluator",["ephox.katamari.api.Option"],function(h){return{evaluateUntil:function(g,e){for(var d=0;d<g.length;d++){var b=g[d].apply(null,e);if(b.isSome())return b}return h.none()}}});u("tinymce.core.keyboard.BoundaryLocation","ephox.katamari.api.Adt ephox.katamari.api.Fun ephox.katamari.api.Option ephox.katamari.api.Options tinymce.core.caret.CaretContainer tinymce.core.caret.CaretPosition tinymce.core.caret.CaretUtils tinymce.core.dom.NodeType tinymce.core.keyboard.InlineUtils tinymce.core.util.LazyEvaluator".split(" "),
function(h,g,e,d,b,a,c,f,k,p){var n=h.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),r=function(a,b){var d=c.getParentBlock(b,a);return d?d:a},l=function(a,b){var c=k.normalizeForwards(b),d=r(a,c.container());return k.findRootInline(d,c).fold(function(){return k.findCaretPosition(d,!0,c).bind(g.curry(k.findRootInline,d)).map(function(a){return n.before(a)})},e.none)},m=function(a,b){var c=k.normalizeBackwards(b);return k.findRootInline(a,c).bind(function(a){return k.findCaretPosition(a,
!1,c).isNone()?e.some(n.start(a)):e.none()})},t=function(a,b){var c=k.normalizeForwards(b);return k.findRootInline(a,c).bind(function(a){return k.findCaretPosition(a,!0,c).isNone()?e.some(n.end(a)):e.none()})},w=function(a,b){var c=k.normalizeBackwards(b),d=r(a,c.container());return k.findRootInline(d,c).fold(function(){return k.findCaretPosition(d,!1,c).bind(g.curry(k.findRootInline,d)).map(function(a){return n.after(a)})},e.none)},v=function(a){return!1===k.isRtl(y(a))},s=function(a,b){return p.evaluateUntil([l,
m,t,w],[a,b]).filter(v)},y=function(a){return a.fold(g.identity,g.identity,g.identity,g.identity)},q=function(a){return a.fold(g.constant("before"),g.constant("start"),g.constant("end"),g.constant("after"))},x=function(a){return a.fold(n.before,n.before,n.after,n.after)},C=function(a,b,c,f,e){return d.liftN([k.findRootInline(b,c),k.findRootInline(b,f)],function(c,d){return c!==d&&k.hasSameParentBlock(b,c,d)?n.after(a?c:d):e}).getOr(e)},z=function(a,b){return a.fold(g.constant(!0),function(a){return!(q(a)===
q(b)&&y(a)===y(b))})},A=function(a,b,c,d){var f=k.normalizePosition(a,d);return k.findCaretPosition(b,a,f).map(g.curry(k.normalizePosition,a)).fold(function(){return c.map(x)},function(d){return s(b,d).map(g.curry(C,a,b,f,d)).filter(g.curry(z,c))}).filter(v)},H=function(a,b){return a?b.fold(g.compose(e.some,n.start),e.none,g.compose(e.some,n.after),e.none):b.fold(e.none,g.compose(e.some,n.before),e.none,g.compose(e.some,n.end))};h=function(a,b,c){var d=k.normalizePosition(a,c),f=s(b,d);return s(b,
d).bind(g.curry(H,a)).orThunk(function(){return A(a,b,f,c)})};return{readLocation:s,prevLocation:g.curry(h,!1),nextLocation:g.curry(h,!0),getElement:y,outside:x,inside:function(a){return a.fold(n.start,n.start,n.end,n.end)}}});u("ephox.katamari.api.Cell",[],function(){var h=function(g){var e=g;return{get:function(){return e},set:function(d){e=d},clone:function(){return h(e)}}};return h});u("tinymce.core.keyboard.BoundarySelection","ephox.katamari.api.Arr ephox.katamari.api.Cell ephox.katamari.api.Fun tinymce.core.caret.CaretContainerRemove tinymce.core.caret.CaretPosition tinymce.core.keyboard.BoundaryCaret tinymce.core.keyboard.BoundaryLocation tinymce.core.keyboard.InlineUtils".split(" "),
function(h,g,e,d,b,a,c,f){var k=function(a,b){var c=a.dom.createRng();c.setStart(b.container(),b.offset());c.setEnd(b.container(),b.offset());a.selection.setRng(c)},p=function(a,b){a?b.setAttribute("data-mce-selected","1"):b.removeAttribute("data-mce-selected","1")},n=function(b,c,d){return a.renderCaret(c,d).map(function(a){k(b,a);return d})},r=function(a,d,f){var e=a.getBody(),g=b.fromRangeStart(a.selection.getRng());return(f?c.nextLocation(e,g):c.prevLocation(e,g)).bind(function(b){return n(a,
d,b)})},l=function(a,d,e){a.selection.isCollapsed()&&(e=h.filter(e,f.isInlineTarget),h.each(e,function(f){f=b.fromRangeStart(a.selection.getRng());c.readLocation(a.getBody(),f).bind(function(b){return n(a,d,b)})}))};return{move:function(a,b,c){return function(){return!1!==a.settings.inline_boundaries?r(a,b,c).isSome():!1}},setupSelectedState:function(a){var c=new g(null);a.on("NodeChange",function(g){if(!1!==a.settings.inline_boundaries){var n=g.parents,s=a.dom.select("a[href][data-mce-selected],code[data-mce-selected]"),
n=h.filter(n,f.isInlineTarget);h.each(h.difference(s,n),e.curry(p,!1));h.each(h.difference(n,s),e.curry(p,!0));a.selection.isCollapsed()&&!0!==a.composing&&c.get()&&(s=b.fromRangeStart(a.selection.getRng()),b.isTextPosition(s)&&!1===f.isAtZwsp(s)&&(k(a,d.removeAndReposition(c.get(),s)),c.set(null)));l(a,c,g.parents)}});return c},setCaretPosition:k}});u("tinymce.core.delete.InlineBoundaryDelete","ephox.katamari.api.Fun ephox.katamari.api.Option ephox.katamari.api.Options ephox.sugar.api.node.Element tinymce.core.caret.CaretContainer tinymce.core.caret.CaretFinder tinymce.core.caret.CaretPosition tinymce.core.caret.CaretUtils tinymce.core.delete.DeleteElement tinymce.core.keyboard.BoundaryCaret tinymce.core.keyboard.BoundaryLocation tinymce.core.keyboard.BoundarySelection tinymce.core.keyboard.InlineUtils".split(" "),
function(h,g,e,d,b,a,c,f,k,p,n,r,l){var m=function(a,b){var c=document.createRange();c.setStart(a.container(),a.offset());c.setEnd(b.container(),b.offset());return c},t=function(a){return e.liftN([l.findCaretPositionIn(a,!0),l.findCaretPositionIn(a,!1)],function(b,c){var d=l.normalizePosition(!0,b),f=l.normalizePosition(!1,c);return l.findCaretPosition(a,!0,d).map(function(a){return a.isEqual(f)}).getOr(!0)}).getOr(!0)},w=function(a,b){return function(c){return p.renderCaret(b,c).map(function(b){r.setCaretPosition(a,
b);return!0}).getOr(!1)}},v=function(a,b,d,f){var e=a.getBody();a.undoManager.ignore(function(){a.selection.setRng(m(d,f));a.execCommand("Delete");n.readLocation(e,c.fromRangeStart(a.selection.getRng())).map(n.inside).map(w(a,b))});a.nodeChanged()},s=function(a,b){var c=f.getParentBlock(b,a);return c?c:a},y=function(b,c,f,e){var m=s(b.getBody(),e.container()),p=n.readLocation(m,e);return p.bind(function(a){return f?a.fold(h.constant(g.some(n.inside(a))),g.none,h.constant(g.some(n.outside(a))),g.none):
a.fold(g.none,h.constant(g.some(n.outside(a))),g.none,h.constant(g.some(n.inside(a))))}).map(w(b,c)).getOrThunk(function(){var g=a.navigate(f,m,e),h=g.bind(function(a){return n.readLocation(m,a)});return p.isSome()&&h.isSome()?l.findRootInline(m,e).map(function(a){return t(a)?(k.deleteElement(b,f,d.fromDom(a)),!0):!1}).getOr(!1):h.bind(function(a){return g.map(function(a){f?v(b,c,e,a):v(b,c,a,e);return!0})}).getOr(!1)})};return{backspaceDelete:function(a,b,d){if(a.selection.isCollapsed()&&!1!==a.settings.inline_boundaries){var f=
c.fromRangeStart(a.selection.getRng());return y(a,b,d,f)}return!1}}});u("tinymce.core.delete.DeleteCommands",["tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.InlineBoundaryDelete"],function(h,g,e,d){return{deleteCommand:function(b){if(!(e.backspaceDelete(b,!1)||d.backspaceDelete(b,!1)||h.backspaceDelete(b,!1)||g.backspaceDelete(b,!1))){b.getDoc().execCommand("Delete",!1,null);var a=b.dom,c=b.getBody();a.isEmpty(c)&&
(b.setContent(""),c.firstChild&&a.isBlock(c.firstChild)?b.selection.setCursorLocation(c.firstChild,0):b.selection.setCursorLocation(c,0))}},forwardDeleteCommand:function(b){e.backspaceDelete(b,!0)||d.backspaceDelete(b,!0)||h.backspaceDelete(b,!0)||g.backspaceDelete(b,!0)||b.getDoc().execCommand("ForwardDelete",!1,null)}}});u("tinymce.core.dom.RangeNormalizer",["tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType"],function(h,
g,e,d){var b=function(a){var b=g.fromRangeStart(a),f=g.fromRangeEnd(a),k=a.commonAncestorContainer;return!1===a.collapsed&&d.isElement(a.endContainer)&&/^(P|H[1-6]|DIV)$/.test(a.endContainer.nodeName)&&0===a.endOffset?h.fromPosition(!1,k,f).map(function(d){if(!e.isInSameBlock(b,f,k)&&e.isInSameBlock(b,d,k)){var g=b.container(),h=b.offset(),l=d.container();d=d.offset();var m=document.createRange();m.setStart(g,h);m.setEnd(l,d);return m}return a}).getOr(a):a};return{normalize:function(a){return b(a)}}});
u("tinymce.core.InsertList",["tinymce.core.util.Tools","tinymce.core.caret.CaretWalker","tinymce.core.caret.CaretPosition"],function(h,g,e){var d=function(a,b,c){b=b.serialize(c);a=a.createFragment(b);b=a.firstChild;c=a.lastChild;b&&"META"===b.nodeName&&b.parentNode.removeChild(b);c&&"mce_marker"===c.id&&c.parentNode.removeChild(c);return a},b=function(a){return h.grep(a.childNodes,function(a){return"LI"===a.nodeName})},a=function(a){return 0<a.length&&!a[a.length-1].firstChild?a.slice(0,-1):a},c=
function(a,b){var c=a.getParent(b,a.isBlock);return c&&"LI"===c.nodeName?c:null},f=function(a,b){var c=b.cloneRange(),d=b.cloneRange();c.setStartBefore(a);d.setEndAfter(a);return[c.cloneContents(),d.cloneContents()]},k=function(a,b){var c=e.before(a);return(c=(new g(b)).next(c))?c.toRange():null},p=function(a,b){var c=e.after(a);return(c=(new g(b)).prev(c))?c.toRange():null},n=function(a,b,c,d){d=f(a,d);var e=a.parentNode;e.insertBefore(d[0],a);h.each(b,function(b){e.insertBefore(b,a)});e.insertBefore(d[1],
a);e.removeChild(a);return p(b[b.length-1],c)},r=function(a,b,c){var d=a.parentNode;h.each(b,function(b){d.insertBefore(b,a)});return k(a,c)},l=function(a,b,c,d){d.insertAfter(b.reverse(),a);return p(b[0],c)};return{isListFragment:function(a){var b=a.firstChild;a=a.lastChild;b&&"meta"===b.name&&(b=b.next);a&&"mce_marker"===a.attr("id")&&(a=a.prev);return b&&b===a?"ul"===b.name||"ol"===b.name:!1},insertAtCaret:function(f,k,h,p){f=d(k,f,p);var s=c(k,h.startContainer);f=a(b(f.firstChild));p=k.getRoot();
var y=function(a){var b=e.fromRangeStart(h),d=new g(k.getRoot());return(a=1===a?d.prev(b):d.next(b))?c(k,a.getNode())!==s:!0};return y(1)?r(s,f,p):y(2)?l(s,f,p,k):n(s,f,p,h)},isParentBlockLi:function(a,b){return!!c(a,b)},trimListItems:a,listItems:b}});u("tinymce.core.InsertContent","tinymce.core.caret.CaretPosition tinymce.core.caret.CaretWalker tinymce.core.dom.ElementUtils tinymce.core.dom.NodeType tinymce.core.dom.RangeNormalizer tinymce.core.Env tinymce.core.html.Serializer tinymce.core.InsertList tinymce.core.util.Tools".split(" "),
function(h,g,e,d,b,a,c,f,k){var p=d.matchNodeNames("td th"),n=function(a,b,c){if("all"===c.getAttribute("data-mce-bogus"))c.parentNode.insertBefore(a.dom.createFragment(b),c);else{var d=c.firstChild,f=c.lastChild;!d||d===f&&"BR"===d.nodeName?a.dom.setHTML(c,b):a.selection.setContent(b)}},r=function(d,m,t){function r(a){var b,c;b=K.getRng(!0);c=b.startContainer;b=b.startOffset;3==c.nodeType&&(0<b?a=a.replace(/^&nbsp;/," "):c.previousSibling&&3==c.previousSibling.nodeType||(a=a.replace(/^ /,"&nbsp;")),
b<c.length?a=a.replace(/&nbsp;(<br>|)$/," "):c.nextSibling&&3==c.nextSibling.nodeType||(a=a.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;")));return a}function v(){var a,b,c;a=K.getRng(!0);b=a.startContainer;c=a.startOffset;3==b.nodeType&&a.collapsed&&("\u00a0"===b.data[c]?(b.deleteData(c,1),/[\u00a0| ]$/.test(m)||(m+=" ")):"\u00a0"===b.data[c-1]&&(b.deleteData(c-1,1),/[\u00a0| ]$/.test(m)||(m=" "+m)))}function s(){if(E){var a=d.getBody(),b=new e(Q);k.each(Q.select("*[data-mce-fragment]"),function(c){for(var d=
c.parentNode;d&&d!=a;d=d.parentNode)R[c.nodeName.toLowerCase()]&&b.compare(d,c)&&Q.remove(c,!0)})}}function y(a){for(;a=a.walk();)1===a.type&&a.attr("data-mce-fragment","1")}function q(a){k.each(a.getElementsByTagName("*"),function(a){a.removeAttribute("data-mce-fragment")})}function x(b){function c(a){for(var b=d.getBody();a&&a!==b;a=a.parentNode)if("false"===d.dom.getContentEditable(a))return a;return null}function f(a){a=h.fromRangeStart(a);if(a=(new g(d.getBody())).next(a))return a.toRange()}
var e,k;b&&(K.scrollIntoView(b),(e=c(b))?(Q.remove(b),K.select(e)):(L=Q.createRng(),(B=b.previousSibling)&&3==B.nodeType?(L.setStart(B,B.nodeValue.length),a.ie||(u=b.nextSibling)&&3==u.nodeType&&(B.appendData(u.data),u.parentNode.removeChild(u))):(L.setStartBefore(b),L.setEndBefore(b)),e=Q.getParent(b,Q.isBlock),Q.remove(b),e&&Q.isEmpty(e)&&(d.$(e).empty(),L.setStart(e,0),L.setEnd(e,0),p(e)||e.getAttribute("data-mce-fragment")||!(k=f(L))?Q.add(e,Q.create("br",{"data-mce-bogus":"1"})):(L=k,Q.remove(e))),
K.setRng(L)))}var C,z,A,H,D,L,B,u,E,R=d.schema.getTextInlineElements(),K=d.selection,Q=d.dom;/^ | $/.test(m)&&(m=r(m));C=d.parser;E=t.merge;z=new c({validate:d.settings.validate},d.schema);D={content:m,format:"html",selection:!0};d.fire("BeforeSetContent",D);m=D.content;-1==m.indexOf("{$caret}")&&(m+="{$caret}");m=m.replace(/\{\$caret\}/,'<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');L=K.getRng();A=L.startContainer||(L.parentElement?L.parentElement():null);var T=d.getBody();
A===T&&K.isCollapsed()&&Q.isBlock(T.firstChild)&&T.firstChild&&!d.schema.getShortEndedElements()[T.firstChild.nodeName]&&Q.isEmpty(T.firstChild)&&(L=Q.createRng(),L.setStart(T.firstChild,0),L.setEnd(T.firstChild,0),K.setRng(L));K.isCollapsed()||(d.selection.setRng(b.normalize(d.selection.getRng())),d.getDoc().execCommand("Delete",!1,null),v());A=K.getNode();T={context:A.nodeName.toLowerCase(),data:t.data};H=C.parse(m,T);if(!0===t.paste&&f.isListFragment(H)&&f.isParentBlockLi(Q,A))L=f.insertAtCaret(z,
Q,d.selection.getRng(!0),H),d.selection.setRng(L),d.fire("SetContent",D);else{y(H);B=H.lastChild;if("mce_marker"==B.attr("id"))for(t=B,B=B.prev;B;B=B.walk(!0))if(3==B.type||!Q.isBlock(B.name)){d.schema.isValidChild(B.parent.name,"span")&&B.parent.insert(t,B,"br"===B.name);break}d._selectionOverrides.showBlockCaretContainer(A);if(T.invalid){K.setContent('<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');A=K.getNode();t=d.getBody();for(9==A.nodeType?A=B=t:B=A;B!==t;)A=B,B=B.parentNode;
m=A==t?t.innerHTML:Q.getOuterHTML(A);m=z.serialize(C.parse(m.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return z.serialize(H)})));A==t?Q.setHTML(t,m):Q.setOuterHTML(A,m)}else m=z.serialize(H),n(d,m,A);s();x(Q.get("mce_marker"));q(d.getBody());d.fire("SetContent",D);d.addVisual()}};return{insertAtCaret:function(a,b){var c,d;"string"!==typeof b?(d=k.extend({paste:b.paste,data:{paste:b.paste}},b),c=b.content):(c=b,d={});r(a,c,d)}}});u("tinymce.core.EditorCommands","tinymce.core.delete.DeleteCommands tinymce.core.dom.NodeType tinymce.core.dom.RangeUtils tinymce.core.dom.TreeWalker tinymce.core.Env tinymce.core.InsertContent tinymce.core.util.Tools".split(" "),
function(h,g,e,d,b,a,c){var f=c.each,k=c.extend,p=c.map,n=c.inArray,r=c.explode,l=b.ie&&11>b.ie,m=!1;return function(c){function w(a){var b;if(!c.quirks.isHidden()&&!c.removed){a=a.toLowerCase();if(b=z.state[a])return b(a);try{return c.getDoc().queryCommandState(a)}catch(d){}return!1}}function v(a,b){b=b||"exec";f(a,function(a,c){f(c.toLowerCase().split(","),function(c){z[b][c]=a})})}function s(a,b,d){void 0===b&&(b=m);void 0===d&&(d=null);return c.getDoc().execCommand(a,b,d)}function y(a,b){C.toggle(a,
b?{value:b}:void 0);c.nodeChanged()}var q,x,C,z={state:{},exec:{},value:{}},A=c.settings,H;c.on("PreInit",function(){q=c.dom;x=c.selection;A=c.settings;C=c.formatter});k(this,{execCommand:function(a,b,d,e){var g,k=0;if(!c.removed){/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(a)||e&&e.skip_focus||c.focus();e=c.fire("BeforeExecCommand",{command:a,ui:b,value:d});if(e.isDefaultPrevented())return!1;g=a.toLowerCase();if(e=z.exec[g])return e(g,b,d),c.fire("ExecCommand",{command:a,
ui:b,value:d}),!0;f(c.plugins,function(f){if(f.execCommand&&f.execCommand(a,b,d))return c.fire("ExecCommand",{command:a,ui:b,value:d}),k=!0,!1});if(k)return k;if(c.theme&&c.theme.execCommand&&c.theme.execCommand(a,b,d))return c.fire("ExecCommand",{command:a,ui:b,value:d}),!0;try{k=c.getDoc().execCommand(a,b,d)}catch(h){}return k?(c.fire("ExecCommand",{command:a,ui:b,value:d}),!0):!1}},queryCommandState:w,queryCommandValue:function(a){var b;if(!c.quirks.isHidden()&&!c.removed){a=a.toLowerCase();if(b=
z.value[a])return b(a);try{return c.getDoc().queryCommandValue(a)}catch(d){}}},queryCommandSupported:function(a){a=a.toLowerCase();if(z.exec[a])return!0;try{return c.getDoc().queryCommandSupported(a)}catch(b){}return!1},addCommands:v,addCommand:function(a,b,d){a=a.toLowerCase();z.exec[a]=function(a,f,e,g){return b.call(d||c,f,e,g)}},addQueryStateHandler:function(a,b,d){a=a.toLowerCase();z.state[a]=function(){return b.call(d||c)}},addQueryValueHandler:function(a,b,d){a=a.toLowerCase();z.value[a]=function(){return b.call(d||
c)}},hasCustomCommand:function(a){a=a.toLowerCase();return!!z.exec[a]}});v({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){c.undoManager.add()},"Cut,Copy,Paste":function(a){var d=c.getDoc(),f;try{s(a)}catch(e){f=!0}"paste"!==a||d.queryCommandEnabled(a)||(f=!0);if(f||!d.queryCommandSupported(a))a=c.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),b.mac&&(a=a.replace(/Ctrl\+/g,
"\u2318+")),c.notificationManager.open({text:a,type:"error"})},unlink:function(){if(x.isCollapsed()){var a=c.dom.getParent(c.selection.getStart(),"a");a&&c.dom.remove(a,!0)}else C.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(a){var b=a.substring(7);"full"==b&&(b="justify");f(["left","center","right","justify"],function(a){b!=a&&C.remove("align"+a)});"none"!=b&&y("align"+b)},"InsertUnorderedList,InsertOrderedList":function(a){var b;s(a);if(a=q.getParent(x.getNode(),
"ol,ul"))b=a.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(b.nodeName)&&(H=x.getBookmark(void 0),q.split(b,a),x.moveToBookmark(H))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){y(a)},"ForeColor,HiliteColor,FontName":function(a,b,c){y(a,c)},FontSize:function(a,b,c){var d;1<=c&&7>=c&&(d=r(A.font_size_style_values),c=(b=r(A.font_size_classes))?b[c-1]||c:d[c-1]||c);y(a,c)},RemoveFormat:function(a){C.remove(a)},mceBlockQuote:function(){y("blockquote")},FormatBlock:function(a,b,
c){return y(c||"p")},mceCleanup:function(){var a=x.getBookmark();c.setContent(c.getContent({cleanup:!0}),{cleanup:!0});x.moveToBookmark(a)},mceRemoveNode:function(a,b,d){a=d||x.getNode();a!=c.getBody()&&(H=x.getBookmark(void 0),c.dom.remove(a,!0),x.moveToBookmark(H))},mceSelectNodeDepth:function(a,b,d){var f=0;q.getParent(x.getNode(),function(a){if(1==a.nodeType&&f++==d)return x.select(a),m},c.getBody())},mceSelectNode:function(a,b,c){x.select(c)},mceInsertContent:function(b,d,f){a.insertAtCaret(c,
f)},mceInsertRawHTML:function(a,b,d){x.setContent("tiny_mce_marker");c.setContent(c.getContent().replace(/tiny_mce_marker/g,function(){return d}))},mceToggleFormat:function(a,b,c){y(c)},mceSetContent:function(a,b,d){c.setContent(d)},"Indent,Outdent":function(a){var b,d,e;b=A.indentation;d=/[a-z%]+$/i.exec(b);b=parseInt(b,10);w("InsertUnorderedList")||w("InsertOrderedList")?s(a):(A.forced_root_block||q.getParent(x.getNode(),q.isBlock)||C.apply("div"),f(x.getSelectedBlocks(),function(f){if("false"!==
q.getContentEditable(f)&&"LI"!==f.nodeName){var g=c.getParam("indent_use_margin",!1)?"margin":"padding",g="TABLE"===f.nodeName?"margin":g,g=g+("rtl"==q.getStyle(f,"direction",!0)?"Right":"Left");"outdent"==a?(e=Math.max(0,parseInt(f.style[g]||0,10)-b),q.setStyle(f,g,e?e+d:"")):(e=parseInt(f.style[g]||0,10)+b+d,q.setStyle(f,g,e))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){c.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){c.hasVisual=!c.hasVisual;c.addVisual()},
mceReplaceContent:function(a,b,d){c.execCommand("mceInsertContent",!1,d.replace(/\{\$selection\}/g,x.getContent({format:"text"})))},mceInsertLink:function(a,b,c){"string"==typeof c&&(c={href:c});a=q.getParent(x.getNode(),"a");c.href=c.href.replace(" ","%20");a&&c.href||C.remove("link");c.href&&C.apply("link",c,a)},selectAll:function(){var a=q.getRoot(),b;if(x.getRng().setStart){if(a=q.getParent(x.getStart(),g.isContentEditableTrue))b=q.createRng(),b.selectNodeContents(a),x.setRng(b)}else b=x.getRng(),
b.item||(b.moveToElementText(a),b.select())},"delete":function(){h.deleteCommand(c)},forwardDelete:function(){h.forwardDeleteCommand(c)},mceNewDocument:function(){c.setContent("")},InsertLineBreak:function(a,b,f){var g;a=x.getRng(!0);(new e(q)).normalize(a);var k=a.startOffset,h=a.startContainer;1==h.nodeType&&h.hasChildNodes()&&(b=k>h.childNodes.length-1,h=h.childNodes[Math.min(k,h.childNodes.length-1)]||h,k=b&&3==h.nodeType?h.nodeValue.length:0);var m=q.getParent(h,q.isBlock);b=m?m.nodeName.toUpperCase():
"";var s=m?q.getParent(m.parentNode,q.isBlock):null,p=s?s.nodeName.toUpperCase():"";f=f&&f.ctrlKey;"LI"!=p||f||(m=s,b=p);if(h&&3==h.nodeType&&k>=h.nodeValue.length){if(f=!l){a:{f=new d(h,m);for(k=c.schema.getNonEmptyElements();h=f.next();)if(k[h.nodeName.toLowerCase()]||0<h.length){f=!0;break a}f=void 0}f=!f}f&&(f=q.create("br"),a.insertNode(f),a.setStartAfter(f),a.setEndAfter(f),g=!0)}f=q.create("br");a.insertNode(f);h=q.doc.documentMode;l&&"PRE"==b&&(!h||8>h)&&f.parentNode.insertBefore(q.doc.createTextNode("\r"),
f);b=q.create("span",{},"&nbsp;");f.parentNode.insertBefore(b,f);x.scrollIntoView(b);q.remove(b);g?(a.setStartBefore(f),a.setEndBefore(f)):(a.setStartAfter(f),a.setEndAfter(f));x.setRng(a);c.undoManager.add();return!0}});v({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var b="align"+a.substring(7);a=x.isCollapsed()?[q.getParent(x.getNode(),q.isBlock)]:x.getSelectedBlocks();a=p(a,function(a){return!!C.matchNode(a,b)});return-1!==n(a,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return C.match(a)},
mceBlockQuote:function(){return C.match("blockquote")},Outdent:function(){var a;return A.inline_styles&&((a=q.getParent(x.getStart(),q.isBlock))&&0<parseInt(a.style.paddingLeft,10)||(a=q.getParent(x.getEnd(),q.isBlock))&&0<parseInt(a.style.paddingLeft,10))?!0:w("InsertUnorderedList")||w("InsertOrderedList")||!A.inline_styles&&!!q.getParent(x.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var b=q.getParent(x.getNode(),"ul,ol");return b&&("insertunorderedlist"===a&&"UL"===
b.tagName||"insertorderedlist"===a&&"OL"===b.tagName)}},"state");v({"FontSize,FontName":function(a){var b=0,c;if(c=q.getParent(x.getNode(),"span"))b="fontsize"==a?c.style.fontSize:c.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase();return b}},"value");v({Undo:function(){c.undoManager.undo()},Redo:function(){c.undoManager.redo()}})}});u("tinymce.core.util.URI",["global!document","tinymce.core.util.Tools"],function(h,g){function e(c,g){var p=this,n,r;c=b(c);g=p.settings=g||{};
n=g.base_uri;if(/^([\w\-]+):([^\/]{2})/i.test(c)||/^\s*#/.test(c))p.source=c;else{var l=0===c.indexOf("//");0!==c.indexOf("/")||l||(c=(n?n.protocol||"http":"http")+"://mce_host"+c);/^[\w\-]*:?\/\//.test(c)||(r=g.base_uri?g.base_uri.path:(new e(h.location.href)).directory,""===g.base_uri.protocol?c="//mce_host"+p.toAbsPath(r,c):(c=/([^#?]*)([#?]?.*)/.exec(c),c=(n&&n.protocol||"http")+"://mce_host"+p.toAbsPath(r,c[1])+c[2]));c=c.replace(/@@/g,"(mce_at)");c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(c);
d(a,function(a,b){var d=c[b];d&&(d=d.replace(/\(mce_at\)/g,"@@"));p[a]=d});n&&(p.protocol||(p.protocol=n.protocol),p.userInfo||(p.userInfo=n.userInfo),p.port||"mce_host"!==p.host||(p.port=n.port),p.host&&"mce_host"!==p.host||(p.host=n.host),p.source="");l&&(p.protocol="")}}var d=g.each,b=g.trim,a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),c={ftp:21,http:80,https:443,mailto:25};e.prototype={setPath:function(a){a=/^(.*?)\/?(\w+)?$/.exec(a);
this.path=a[0];this.directory=a[1];this.file=a[2];this.source="";this.getURI()},toRelative:function(a){var b;if("./"===a)return a;a=new e(a,{base_uri:this});if("mce_host"!=a.host&&this.host!=a.host&&a.host||this.port!=a.port||this.protocol!=a.protocol&&""!==a.protocol)return a.getURI();b=this.getURI();var c=a.getURI();if(b==c||"/"==b.charAt(b.length-1)&&b.substr(0,b.length-1)==c)return b;b=this.toRelPath(this.path,a.path);a.query&&(b+="?"+a.query);a.anchor&&(b+="#"+a.anchor);return b},toAbsolute:function(a,
b){a=new e(a,{base_uri:this});return a.getURI(b&&this.isSameOrigin(a))},isSameOrigin:function(a){if(this.host==a.host&&this.protocol==a.protocol){if(this.port==a.port)return!0;var b=c[this.protocol];if(b&&(this.port||b)==(a.port||b))return!0}return!1},toRelPath:function(a,b){var c,d=0,e="",g,h;a=a.substring(0,a.lastIndexOf("/"));a=a.split("/");c=b.split("/");if(a.length>=c.length)for(g=0,h=a.length;g<h;g++)if(g>=c.length||a[g]!=c[g]){d=g+1;break}if(a.length<c.length)for(g=0,h=c.length;g<h;g++)if(g>=
a.length||a[g]!=c[g]){d=g+1;break}if(1===d)return b;g=0;for(h=a.length-(d-1);g<h;g++)e+="../";g=d-1;for(h=c.length;g<h;g++)e=g!=d-1?e+("/"+c[g]):e+c[g];return e},toAbsPath:function(a,b){var c,e=0,g=[],h;h=/\/$/.test(b)?"/":"";a=a.split("/");b=b.split("/");d(a,function(a){a&&g.push(a)});a=g;c=b.length-1;for(g=[];0<=c;c--)0!==b[c].length&&"."!==b[c]&&(".."===b[c]?e++:0<e?e--:g.push(b[c]));c=a.length-e;c=0>=c?g.reverse().join("/"):a.slice(0,c).join("/")+"/"+g.reverse().join("/");0!==c.indexOf("/")&&
(c="/"+c);h&&c.lastIndexOf("/")!==c.length-1&&(c+=h);return c},getURI:function(a){var b;if(!this.source||a)b="",a||(b=this.protocol?b+(this.protocol+"://"):b+"//",this.userInfo&&(b+=this.userInfo+"@"),this.host&&(b+=this.host),this.port&&(b+=":"+this.port)),this.path&&(b+=this.path),this.query&&(b+="?"+this.query),this.anchor&&(b+="#"+this.anchor),this.source=b;return this.source}};e.parseDataUri=function(a){var b,c;a=decodeURIComponent(a).split(",");(c=/data:([^;]+)/.exec(a[0]))&&(b=c[1]);return{type:b,
data:a[1]}};e.getDocumentBaseUrl=function(a){a=0!==a.protocol.indexOf("http")&&"file:"!==a.protocol?a.href:a.protocol+"//"+a.host+a.pathname;/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));return a};return e});u("tinymce.core.util.Class",["tinymce.core.util.Tools"],function(h){function g(){}var e=h.each,d=h.extend,b,a;g.extend=b=function(c){function f(){var b,c,d;if(!a&&(this.init&&this.init.apply(this,arguments),c=this.Mixins))for(b=
c.length;b--;)d=c[b],d.init&&d.init.apply(this,arguments)}function g(){return this}function h(a,b){return function(){var c=this._super,d;this._super=n[a];d=b.apply(this,arguments);this._super=c;return d}}var n=this.prototype,r,l,m;a=!0;r=new this;a=!1;c.Mixins&&(e(c.Mixins,function(a){for(var b in a)"init"!==b&&(c[b]=a[b])}),n.Mixins&&(c.Mixins=n.Mixins.concat(c.Mixins)));c.Methods&&e(c.Methods.split(","),function(a){c[a]=g});c.Properties&&e(c.Properties.split(","),function(a){var b="_"+a;c[a]=function(a){return void 0!==
a?(this[b]=a,this):this[b]}});c.Statics&&e(c.Statics,function(a,b){f[b]=a});c.Defaults&&n.Defaults&&(c.Defaults=d({},n.Defaults,c.Defaults));for(l in c)m=c[l],r[l]="function"==typeof m&&n[l]?h(l,m):m;f.prototype=r;f.constructor=f;f.extend=b;return f};return g});u("tinymce.core.util.EventDispatcher",["tinymce.core.util.Tools"],function(h){function g(d){function b(){return!1}function a(){return!0}function c(a,c,d,f){var g,s;!1===c&&(c=b);if(c)for(c={func:c},f&&h.extend(c,f),g=a.toLowerCase().split(" "),
s=g.length;s--;)a=g[s],f=n[a],f||(f=n[a]=[],r(a,!0)),d?f.unshift(c):f.push(c);return e}function f(a,b){var c,d,f,g,h;if(a)for(g=a.toLowerCase().split(" "),c=g.length;c--;){a=g[c];d=n[a];if(!a){for(f in n)r(f,!1),delete n[f];break}if(d){if(b)for(h=d.length;h--;)d[h].func===b&&(d=d.slice(0,h).concat(d.slice(h+1)),n[a]=d);else d.length=0;d.length||(r(a,!1),delete n[a])}}else{for(a in n)r(a,!1);n={}}return e}var e=this,g,n={},r;d=d||{};g=d.scope||e;r=d.toggleEvent||b;e.fire=function(c,e){var k,h,r,s;
c=c.toLowerCase();e=e||{};e.type=c;e.target||(e.target=g);e.preventDefault||(e.preventDefault=function(){e.isDefaultPrevented=a},e.stopPropagation=function(){e.isPropagationStopped=a},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=a},e.isDefaultPrevented=b,e.isPropagationStopped=b,e.isImmediatePropagationStopped=b);d.beforeFire&&d.beforeFire(e);if(k=n[c])for(h=0,r=k.length;h<r;h++){s=k[h];s.once&&f(c,s.func);if(e.isImmediatePropagationStopped()){e.stopPropagation();break}if(!1===
s.func.call(g,e)){e.preventDefault();break}}return e};e.on=c;e.off=f;e.once=function(a,b,d){return c(a,b,d,{once:!0})};e.has=function(a){a=a.toLowerCase();return!(!n[a]||0===n[a].length)}}var e=h.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend",
" ");g.isNative=function(d){return!!e[d.toLowerCase()]};return g});u("tinymce.core.util.Observable",["tinymce.core.util.EventDispatcher"],function(h){function g(e){e._eventDispatcher||(e._eventDispatcher=new h({scope:e,toggleEvent:function(d,b){h.isNative(d)&&e.toggleNativeEvent&&e.toggleNativeEvent(d,b)}}));return e._eventDispatcher}return{fire:function(e,d,b){if(this.removed&&"remove"!==e)return d;d=g(this).fire(e,d,b);if(!1!==b&&this.parent)for(b=this.parent();b&&!d.isPropagationStopped();)b.fire(e,
d,!1),b=b.parent();return d},on:function(e,d,b){return g(this).on(e,d,b)},off:function(e,d){return g(this).off(e,d)},once:function(e,d){return g(this).once(e,d)},hasEventListeners:function(e){return g(this).has(e)}}});u("tinymce.core.data.Binding",[],function(){function h(g){this.create=g.create}h.create=function(g,e){return new h({create:function(d,b){function a(a){d.set(b,a.value)}var c;d.on("change:"+b,function(a){g.set(e,a.value)});g.on("change:"+e,a);c=d._bindings;c||(c=d._bindings=[],d.on("destroy",
function(){for(var a=c.length;a--;)c[a]()}));c.push(function(){g.off("change:"+e,a)});return g.get(e)}})};return h});u("tinymce.core.data.ObservableObject",["tinymce.core.data.Binding","tinymce.core.util.Class","tinymce.core.util.Observable","tinymce.core.util.Tools"],function(h,g,e,d){function b(a,c){var f,e;if(a===c)return!0;if(null===a||null===c||"object"!==typeof a||"object"!==typeof c)return a===c;if(d.isArray(c)){if(a.length!==c.length)return!1;for(f=a.length;f--;)if(!b(a[f],c[f]))return!1}if(0<
a.nodeType||0<c.nodeType)return a===c;e={};for(f in c){if(!b(a[f],c[f]))return!1;e[f]=!0}for(f in a)if(!e[f]&&!b(a[f],c[f]))return!1;return!0}return g.extend({Mixins:[e],init:function(a){var b,d;a=a||{};for(b in a)d=a[b],d instanceof h&&(a[b]=d.create(this,b));this.data=a},set:function(a,c){var d,e=this.data[a];c instanceof h&&(c=c.create(this,a));if("object"===typeof a){for(d in a)this.set(d,a[d]);return this}b(e,c)||(this.data[a]=c,d={target:this,name:a,value:c,oldValue:e},this.fire("change:"+a,
d),this.fire("change",d));return this},get:function(a){return this.data[a]},has:function(a){return a in this.data},bind:function(a){return h.create(this,a)},destroy:function(){this.fire("destroy")}})});u("tinymce.core.ui.Selector",["tinymce.core.util.Class"],function(h){function g(a){for(var b=[],c=a.length,d;c--;)d=a[c],d.__checked||(b.push(d),d.__checked=1);for(c=b.length;c--;)delete b[c].__checked;return b}var e=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,
d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,b=/^\s*|\s*$/g,a,c=h.extend({init:function(a){function c(a){if(a)return a=a.toLowerCase(),function(b){return"*"===a||b.type===a}}function g(a){if(a)return function(b){return b._name===a}}function h(a){if(a)return a=a.split("."),function(b){for(var c=a.length;c--;)if(!b.classes.contains(a[c]))return!1;return!0}}function r(a,b,c){if(a)return function(d){d=d[a]?d[a]():
"";return b?"="===b?d===c:"*="===b?0<=d.indexOf(c):"~="===b?0<=(" "+d+" ").indexOf(" "+c+" "):"!="===b?d!=c:"^="===b?0===d.indexOf(c):"$="===b?d.substr(d.length-c.length)===c:!1:!!c}}function l(a){var b;if(a){a=/(?:not\((.+)\))|(.+)/i.exec(a);if(!a[1])return a=a[2],function(b,c,d){return"first"===a?0===c:"last"===a?c===d-1:"even"===a?0===c%2:"odd"===a?1===c%2:b[a]?b[a]():!1};b=t(a[1],[]);return function(a){return!w(a,b)}}}function m(a,d,f){function q(a){a&&d.push(a)}a=e.exec(a.replace(b,""));q(c(a[1]));
q(g(a[2]));q(h(a[3]));q(r(a[4],a[5],a[6]));q(l(a[7]));d.pseudo=!!a[7];d.direct=f;return d}function t(a,b){var c=[],f,e;do if(d.exec(""),e=d.exec(a))if(a=e[3],c.push(e[1]),e[2]){f=e[3];break}while(e);f&&t(f,b);a=[];for(f=0;f<c.length;f++)">"!=c[f]&&a.push(m(c[f],[],">"===c[f-1]));b.push(a);return b}var w=this.match;this._selectors=t(a,[])},match:function(a,b){var c,d,e,g,h,t,w,v,s,y,q,x;b=b||this._selectors;c=0;for(d=b.length;c<d;c++){h=b[c];g=h.length;x=a;q=0;for(e=g-1;0<=e;e--)for(v=h[e];x;){if(v.pseudo)for(t=
x.parent().items(),s=y=t.length;s--&&t[s]!==x;);t=0;for(w=v.length;t<w;t++)if(!v[t](x,s,y)){t=w+1;break}if(t===w){q++;break}else if(e===g-1)break;x=x.parent()}if(q===g)return!0}return!1},find:function(b){function d(a,b,c){var f,g,h,q,l,n=b[c];f=0;for(g=a.length;f<g;f++){l=a[f];h=0;for(q=n.length;h<q;h++)if(!n[h](l,f,g)){h=q+1;break}if(h===q)c==b.length-1?e.push(l):l.items&&d(l.items(),b,c+1);else if(n.direct)break;l.items&&d(l.items(),b,c)}}var e=[],h,r,l=this._selectors;if(b.items){h=0;for(r=l.length;h<
r;h++)d(b.items(),l[h],0);1<r&&(e=g(e))}a||(a=c.Collection);return new a(e)}});return c});u("tinymce.core.ui.Collection",["tinymce.core.util.Tools","tinymce.core.ui.Selector","tinymce.core.util.Class"],function(h,g,e){var d,b,a=Array.prototype.push,c=Array.prototype.slice;b={length:0,init:function(a){a&&this.add(a)},add:function(b){h.isArray(b)?a.apply(this,b):b instanceof d?this.add(b.toArray()):a.call(this,b);return this},set:function(a){var b=this.length;this.length=0;this.add(a);for(a=this.length;a<
b;a++)delete this[a];return this},filter:function(a){var b,c,e=[],h,l;"string"===typeof a?(a=new g(a),l=function(b){return a.match(b)}):l=a;b=0;for(c=this.length;b<c;b++)h=this[b],l(h)&&e.push(h);return new d(e)},slice:function(){return new d(c.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){h.each(this,a);return this},toArray:function(){return h.toArray(this)},indexOf:function(a){for(var b=this.length;b--&&this[b]!==a;);return b},reverse:function(){return new d(h.toArray(this).reverse())},
hasClass:function(a){return this[0]?this[0].classes.contains(a):!1},prop:function(a,b){var c;if(void 0!==b)return this.each(function(c){if(c[a])c[a](b)}),this;if((c=this[0])&&c[a])return c[a]()},exec:function(a){var b=h.toArray(arguments).slice(1);this.each(function(c){c[a]&&c[a].apply(c,b)});return this},remove:function(){for(var a=this.length;a--;)this[a].remove();return this},addClass:function(a){return this.each(function(b){b.classes.add(a)})},removeClass:function(a){return this.each(function(b){b.classes.remove(a)})}};
h.each("fire on off show hide append prepend before after reflow".split(" "),function(a){b[a]=function(){var b=h.toArray(arguments);this.each(function(c){a in c&&c[a].apply(c,b)});return this}});h.each("text name disabled active selected checked visible parent value data".split(" "),function(a){b[a]=function(b){return this.prop(a,b)}});d=e.extend(b);return g.Collection=d});u("tinymce.core.ui.DomUtils",["tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.dom.DOMUtils"],function(h,g,e){var d=
0,b={id:function(){return"mceu_"+d++},create:function(a,b,d){var k=document.createElement(a);e.DOM.setAttribs(k,b);"string"===typeof d?k.innerHTML=d:g.each(d,function(a){a.nodeType&&k.appendChild(a)});return k},createFragment:function(a){return e.DOM.createFragment(a)},getWindowSize:function(){return e.DOM.getViewPort()},getSize:function(a){var b;if(a.getBoundingClientRect){var d=a.getBoundingClientRect();b=Math.max(d.width||d.right-d.left,a.offsetWidth);a=Math.max(d.height||d.bottom-d.bottom,a.offsetHeight)}else b=
a.offsetWidth,a=a.offsetHeight;return{width:b,height:a}},getPos:function(a,c){return e.DOM.getPos(a,c||b.getContainer())},getContainer:function(){return h.container?h.container:document.body},getViewPort:function(a){return e.DOM.getViewPort(a)},get:function(a){return document.getElementById(a)},addClass:function(a,b){return e.DOM.addClass(a,b)},removeClass:function(a,b){return e.DOM.removeClass(a,b)},hasClass:function(a,b){return e.DOM.hasClass(a,b)},toggleClass:function(a,b,d){return e.DOM.toggleClass(a,
b,d)},css:function(a,b,d){return e.DOM.setStyle(a,b,d)},getRuntimeStyle:function(a,b){return e.DOM.getStyle(a,b,!0)},on:function(a,b,d,g){return e.DOM.bind(a,b,d,g)},off:function(a,b,d){return e.DOM.unbind(a,b,d)},fire:function(a,b,d){return e.DOM.fire(a,b,d)},innerHtml:function(a,b){e.DOM.setHTML(a,b)}};return b});u("tinymce.core.ui.BoxUtils",[],function(){return{parseBox:function(h){var g;if(h){if("number"===typeof h)return h=h||0,{top:h,left:h,bottom:h,right:h};h=h.split(" ");g=h.length;1===g?
h[1]=h[2]=h[3]=h[0]:2===g?(h[2]=h[0],h[3]=h[1]):3===g&&(h[3]=h[1]);return{top:parseInt(h[0],10)||0,right:parseInt(h[1],10)||0,bottom:parseInt(h[2],10)||0,left:parseInt(h[3],10)||0}}},measureBox:function(h,g){function e(b){var a=document.defaultView;return a?(b=b.replace(/[A-Z]/g,function(a){return"-"+a}),a.getComputedStyle(h,null).getPropertyValue(b)):h.currentStyle[b]}function d(b){b=parseFloat(e(b),10);return isNaN(b)?0:b}return{top:d(g+"TopWidth"),right:d(g+"RightWidth"),bottom:d(g+"BottomWidth"),
left:d(g+"LeftWidth")}}}});u("tinymce.core.ui.ClassList",["tinymce.core.util.Tools"],function(h){function g(){}function e(d){this.cls=[];this.cls._map={};this.onchange=d||g;this.prefix=""}h.extend(e.prototype,{add:function(d){d&&!this.contains(d)&&(this.cls._map[d]=!0,this.cls.push(d),this._change());return this},remove:function(d){if(this.contains(d)){for(var b=0;b<this.cls.length&&this.cls[b]!==d;b++);this.cls.splice(b,1);delete this.cls._map[d];this._change()}return this},toggle:function(d,b){var a=
this.contains(d);a!==b&&(a?this.remove(d):this.add(d),this._change());return this},contains:function(d){return!!this.cls._map[d]},_change:function(){delete this.clsValue;this.onchange.call(this)}});e.prototype.toString=function(){var d;if(this.clsValue)return this.clsValue;d="";for(var b=0;b<this.cls.length;b++)0<b&&(d+=" "),d+=this.prefix+this.cls[b];return d};return e});u("tinymce.core.ui.ReflowQueue",["tinymce.core.util.Delay"],function(h){var g={},e;return{add:function(d){(d=d.parent())&&d._layout&&
!d._layout.isNative()&&(g[d._id]||(g[d._id]=d),e||(e=!0,h.requestAnimationFrame(function(){var b,a;e=!1;for(b in g)a=g[b],a.state.get("rendered")&&a.reflow();g={}},document.body)))},remove:function(d){g[d._id]&&delete g[d._id]}}});u("tinymce.core.ui.Control","tinymce.core.util.Class tinymce.core.util.Tools tinymce.core.util.EventDispatcher tinymce.core.data.ObservableObject tinymce.core.ui.Collection tinymce.core.ui.DomUtils tinymce.core.dom.DomQuery tinymce.core.ui.BoxUtils tinymce.core.ui.ClassList tinymce.core.ui.ReflowQueue".split(" "),
function(h,g,e,d,b,a,c,f,k,p){function n(a){a._eventDispatcher||(a._eventDispatcher=new e({scope:a,toggleEvent:function(b,c){c&&e.isNative(b)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[b]=!0,a.state.get("rendered")&&r(a))}}));return a._eventDispatcher}function r(a){function b(c){var d=a.getParentCtrl(c.target);d&&d.fire(c.type,c)}function d(){var a=p._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(a){a.fire("mouseleave",{target:a.getEl()})}),p._lastHoverCtrl=
null)}function f(b){var c=a.getParentCtrl(b.target);b=p._lastHoverCtrl;var d=0,e,g;if(c!==b){p._lastHoverCtrl=c;g=c.parents().toArray().reverse();g.push(c);if(b){c=b.parents().toArray().reverse();c.push(b);for(d=0;d<c.length&&g[d]===c[d];d++);for(e=c.length-1;e>=d;e--)b=c[e],b.fire("mouseleave",{target:b.getEl()})}for(e=d;e<g.length;e++)c=g[e],c.fire("mouseenter",{target:c.getEl()})}}function e(b){b.preventDefault();"mousewheel"==b.type?(b.deltaY=-0.025*b.wheelDelta,b.wheelDeltaX&&(b.deltaX=-0.025*
b.wheelDeltaX)):(b.deltaX=0,b.deltaY=b.detail);a.fire("wheel",b)}var g,k,h,p,n,r;if(n=a._nativeEvents){h=a.parents().toArray();h.unshift(a);g=0;for(k=h.length;!p&&g<k;g++)p=h[g]._eventsRoot;p||(p=h[h.length-1]||a);a._eventsRoot=p;k=g;for(g=0;g<k;g++)h[g]._eventsRoot=p;g=p._delegates;g||(g=p._delegates={});for(r in n){if(!n)return!1;if("wheel"!==r||m)"mouseenter"===r||"mouseleave"===r?p._hasMouseEnter||(c(p.getEl()).on("mouseleave",d).on("mouseover",f),p._hasMouseEnter=1):g[r]||(c(p.getEl()).on(r,
b),g[r]=!0),n[r]=!1;else if(l)c(a.getEl()).on("mousewheel",e);else c(a.getEl()).on("DOMMouseScroll",e)}}}var l="onmousewheel"in document,m=!1,t,w=0,v={Statics:{classPrefix:"mce-"},isRtl:function(){return t.rtl},classPrefix:"mce-",init:function(a){function b(a){var c;a=a.split(" ");for(c=0;c<a.length;c++)e.classes.add(a[c])}var e=this,h,l;e.settings=a=g.extend({},e.Defaults,a);e._id=a.id||"mceu_"+w++;e._aria={role:a.role};e._elmCache={};e.$=c;e.state=new d({visible:!0,active:!1,disabled:!1,value:""});
e.data=new d(a.data);e.classes=new k(function(){e.state.get("rendered")&&(e.getEl().className=this.toString())});e.classes.prefix=e.classPrefix;if(h=a.classes)e.Defaults&&(l=e.Defaults.classes)&&h!=l&&b(l),b(h);g.each("title text name visible disabled active value".split(" "),function(b){if(b in a)e[b](a[b])});e.on("click",function(){if(e.disabled())return!1});e.settings=a;e.borderBox=f.parseBox(a.border);e.paddingBox=f.parseBox(a.padding);e.marginBox=f.parseBox(a.margin);a.hidden&&e.hide()},Properties:"parent,name",
getContainerElm:function(){return a.getContainer()},getParentCtrl:function(a){for(var b,c=this.getRoot().controlIdLookup;a&&c&&!(b=c[a.id]);)a=a.parentNode;return b},initLayoutRect:function(){var b=this.settings,c,d=this.getEl(),e,g,k,h,l,m;c=this.borderBox=this.borderBox||f.measureBox(d,"border");this.paddingBox=this.paddingBox||f.measureBox(d,"padding");this.marginBox=this.marginBox||f.measureBox(d,"margin");e=a.getSize(d);l=b.minWidth;m=b.minHeight;d=l||e.width;k=m||e.height;e=b.width;g=b.height;
h=b.autoResize;h="undefined"!=typeof h?h:!e&&!g;e=e||d;g=g||k;var p=c.left+c.right;c=c.top+c.bottom;var n=b.maxWidth||65535,r=b.maxHeight||65535;this._layoutRect=b={x:b.x||0,y:b.y||0,w:e,h:g,deltaW:p,deltaH:c,contentW:e-p,contentH:g-c,innerW:e-p,innerH:g-c,startMinWidth:l||0,startMinHeight:m||0,minW:Math.min(d,n),minH:Math.min(k,r),maxW:n,maxH:r,autoResize:h,scrollW:0};this._lastLayoutRect={};return b},layoutRect:function(a){var b=this._layoutRect,c,d,f;b||(b=this.initLayoutRect());if(a){d=b.deltaW;
f=b.deltaH;void 0!==a.x&&(b.x=a.x);void 0!==a.y&&(b.y=a.y);void 0!==a.minW&&(b.minW=a.minW);void 0!==a.minH&&(b.minH=a.minH);c=a.w;void 0!==c&&(c=c<b.minW?b.minW:c,c=c>b.maxW?b.maxW:c,b.w=c,b.innerW=c-d);c=a.h;void 0!==c&&(c=c<b.minH?b.minH:c,c=c>b.maxH?b.maxH:c,b.h=c,b.innerH=c-f);c=a.innerW;void 0!==c&&(c=c<b.minW-d?b.minW-d:c,c=c>b.maxW-d?b.maxW-d:c,b.innerW=c,b.w=c+d);c=a.innerH;void 0!==c&&(c=c<b.minH-f?b.minH-f:c,c=c>b.maxH-f?b.maxH-f:c,b.innerH=c,b.h=c+f);void 0!==a.contentW&&(b.contentW=a.contentW);
void 0!==a.contentH&&(b.contentH=a.contentH);a=this._lastLayoutRect;if(a.x!==b.x||a.y!==b.y||a.w!==b.w||a.h!==b.h)(c=t.repaintControls)&&c.map&&!c.map[this._id]&&(c.push(this),c.map[this._id]=!0),a.x=b.x,a.y=b.y,a.w=b.w,a.h=b.h;return this}return b},repaint:function(){var a,b,c,d,f,e,g,k;k=document.createRange?function(a){return a}:Math.round;a=this.getEl().style;d=this._layoutRect;g=this._lastRepaintRect||{};f=this.borderBox;e=f.left+f.right;f=f.top+f.bottom;d.x!==g.x&&(a.left=k(d.x)+"px",g.x=d.x);
d.y!==g.y&&(a.top=k(d.y)+"px",g.y=d.y);d.w!==g.w&&(e=k(d.w-e),a.width=(0<=e?e:0)+"px",g.w=d.w);d.h!==g.h&&(e=k(d.h-f),a.height=(0<=e?e:0)+"px",g.h=d.h);if(this._hasBody&&d.innerW!==g.innerW){e=k(d.innerW);if(c=this.getEl("body"))b=c.style,b.width=(0<=e?e:0)+"px";g.innerW=d.innerW}if(this._hasBody&&d.innerH!==g.innerH){e=k(d.innerH);if(c=c||this.getEl("body"))b=b||c.style,b.height=(0<=e?e:0)+"px";g.innerH=d.innerH}this._lastRepaintRect=g;this.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=
null;a.css(this.getEl(),{width:"",height:""});this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null;this.initLayoutRect()},on:function(a,b){var c=this;n(c).on(a,function(a){var b,d;return"string"!=typeof a?a:function(f){b||c.parentsAndSelf().each(function(c){var f=c.settings.callbacks;if(f&&(b=f[a]))return d=c,!1});if(b)return b.call(d,f);f.action=a;this.fire("execute",f)}}(b));return c},off:function(a,b){n(this).off(a,b);return this},fire:function(a,b,c){b=b||{};b.control||(b.control=
this);b=n(this).fire(a,b);if(!1!==c&&this.parent)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),c=c.parent();return b},hasEventListeners:function(a){return n(this).has(a)},parents:function(a){var c,d=new b;for(c=this.parent();c;c=c.parent())d.add(c);a&&(d=d.filter(a));return d},parentsAndSelf:function(a){return(new b(this)).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-
1]},innerHtml:function(a){this.$el.html(a);return this},getEl:function(a){a=a?this._id+"-"+a:this._id;this._elmCache[a]||(this._elmCache[a]=c("#"+a)[0]);return this._elmCache[a]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){this.getEl().blur();return this},aria:function(a,b){var c=this.getEl(this.ariaTarget);if("undefined"===typeof b)return this._aria[a];this._aria[a]=b;this.state.get("rendered")&&
c.setAttribute("role"==a?a:"aria-"+a,b);return this},encode:function(a,b){!1!==b&&(a=this.translate(a));return(a||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},translate:function(a){return t.translate?t.translate(a):a},before:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this),!0);return this},after:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this));return this},remove:function(){var a=this,b=a.getEl(),d=a.parent(),f,e;if(a.items){var g=
a.items().toArray();for(e=g.length;e--;)g[e].remove()}d&&d.items&&(f=[],d.items().each(function(b){b!==a&&f.push(b)}),d.items().set(f),d._lastRect=null);a._eventsRoot&&a._eventsRoot==a&&c(b).off();(d=a.getRoot().controlIdLookup)&&delete d[a._id];b&&b.parentNode&&b.parentNode.removeChild(b);a.state.set("rendered",!1);a.state.destroy();a.fire("remove");return a},renderBefore:function(a){c(a).before(this.renderHtml());this.postRender();return this},renderTo:function(a){c(a||this.getContainerElm()).append(this.renderHtml());
this.postRender();return this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var a=this,b=a.settings,d,f,e;a.$el=c(a.getEl());a.state.set("rendered",!0);for(f in b)if(0===f.indexOf("on"))a.on(f.substr(2),b[f]);if(a._eventsRoot){for(d=a.parent();!e&&d;d=d.parent())e=d._eventsRoot;if(e)for(f in e._nativeEvents)a._nativeEvents[f]=!0}r(a);b.style&&(d=a.getEl())&&(d.setAttribute("style",b.style),d.style.cssText=
b.style);a.settings.border&&(b=a.borderBox,a.$el.css({"border-top-width":b.top,"border-right-width":b.right,"border-bottom-width":b.bottom,"border-left-width":b.left}));b=a.getRoot();b.controlIdLookup||(b.controlIdLookup={});b.controlIdLookup[a._id]=a;for(var g in a._aria)a.aria(g,a._aria[g]);!1===a.state.get("visible")&&(a.getEl().style.display="none");a.bindStates();a.state.on("change:visible",function(b){b=b.value;var c;a.state.get("rendered")&&(a.getEl().style.display=!1===b?"none":"",a.getEl().getBoundingClientRect());
if(c=a.parent())c._lastRect=null;a.fire(b?"show":"hide");p.add(a)});a.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(a){var b=this.getEl(),c=b.parentNode,d,f,e,g,k;e=b;for(d=f=0;e&&e!=c&&e.nodeType;)d+=e.offsetLeft||0,f+=e.offsetTop||0,e=e.offsetParent;e=b.offsetWidth;b=b.offsetHeight;g=c.clientWidth;k=c.clientHeight;"end"==a?(d-=g-e,f-=k-b):"center"==a&&(d-=g/2-e/2,f-=k/2-b/2);c.scrollLeft=d;c.scrollTop=f;return this},getRoot:function(){for(var a=this,b,c=[];a;){if(a.rootControl){b=
a.rootControl;break}c.push(a);b=a;a=a.parent()}b||(b=this);for(a=c.length;a--;)c[a].rootControl=b;return b},reflow:function(){p.remove(this);var a=this.parent();a&&a._layout&&!a._layout.isNative()&&a.reflow();return this}};g.each("text title visible disabled active value".split(" "),function(a){v[a]=function(b){if(0===arguments.length)return this.state.get(a);"undefined"!=typeof b&&this.state.set(a,b);return this}});return t=h.extend(v)});u("tinymce.core.ui.Factory",[],function(){var h={};return{add:function(g,
e){h[g.toLowerCase()]=e},has:function(g){return!!h[g.toLowerCase()]},create:function(g,e){var d;"string"==typeof g?(e=e||{},e.type=g):(e=g,g=e.type);g=g.toLowerCase();d=h[g];if(!d)throw Error("Could not find control by type: "+g);d=new d(e);d.type=g;return d}}});u("tinymce.core.ui.KeyboardNavigation",[],function(){return function(h){function g(a){return(a=a||v)&&1===a.nodeType?a.getAttribute("role"):null}function e(a){for(var b=a||v;b=b.parentNode;)if(a=g(b))return a}function d(a){var b=v;if(b&&1===
b.nodeType)return b.getAttribute("aria-"+a)}function b(a){a=a.tagName.toUpperCase();return"INPUT"==a||"TEXTAREA"==a||"SELECT"==a}function a(a){function c(a){if(1==a.nodeType&&"none"!=a.style.display&&!a.disabled){(b(a)&&!a.hidden||a.getAttribute("data-mce-tabstop")||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(g(a)))&&d.push(a);for(var f=0;f<a.childNodes.length;f++)c(a.childNodes[f])}}var d=[];c(a||w.getEl());return d}function c(a){var b,c;a=a||s;c=a.parents().toArray();
c.unshift(a);for(a=0;a<c.length&&(b=c[a],!b.settings.ariaRoot);a++);return b}function f(a,b){0>a?a=b.length-1:a>=b.length&&(a=0);b[a]&&b[a].focus();return a}function k(b,d){var e=-1,g=c();d=d||a(g.getEl());for(var k=0;k<d.length;k++)d[k]===v&&(e=k);g.lastAriaIndex=f(e+b,d)}function p(){"tablist"==e()?k(-1,a(v.parentNode)):s.parent().submenu?s.fire("cancel"):k(-1)}function n(){var b=g(),c=e();"tablist"==c?k(1,a(v.parentNode)):"menuitem"==b&&"menu"==c&&d("haspopup")?t():k(1)}function r(){k(-1)}function l(){var a=
g(),b=e();"menuitem"==a&&"menubar"==b?t():"button"==a&&d("haspopup")?t({key:"down"}):k(1)}function m(b){"tablist"==e()?(b=a(s.getEl("body"))[0])&&b.focus():k(b.shiftKey?-1:1)}function t(a){a=a||{};s.fire("click",{target:v,aria:a})}var w=h.root,v,s;try{v=document.activeElement}catch(y){v=document.body}s=w.getParentCtrl(v);w.on("keydown",function(a){function c(a,d){b(v)||v.getAttribute("data-mce-tabstop")||"slider"!==g(v)&&!1!==d(a)&&a.preventDefault()}if(!a.isDefaultPrevented())switch(a.keyCode){case 37:c(a,
p);break;case 39:c(a,n);break;case 38:c(a,r);break;case 40:c(a,l);break;case 27:s.fire("cancel");break;case 14:case 13:case 32:c(a,t);break;case 9:!1!==m(a)&&a.preventDefault()}});w.on("focusin",function(a){v=a.target;s=a.control});return{focusFirst:function(b){b=c(b);var d=a(b.getEl());b.settings.ariaRemember&&"lastAriaIndex"in b?f(b.lastAriaIndex,d):f(0,d)}}}});u("tinymce.core.ui.Container","tinymce.core.ui.Control tinymce.core.ui.Collection tinymce.core.ui.Selector tinymce.core.ui.Factory tinymce.core.ui.KeyboardNavigation tinymce.core.util.Tools tinymce.core.dom.DomQuery tinymce.core.ui.ClassList tinymce.core.ui.ReflowQueue".split(" "),
function(h,g,e,d,b,a,c,f,k){var p={};return h.extend({init:function(a){var b=this;b._super(a);a=b.settings;a.fixed&&b.state.set("fixed",!0);b._items=new g;b.isRtl()&&b.classes.add("rtl");b.bodyClasses=new f(function(){b.state.get("rendered")&&(b.getEl("body").className=this.toString())});b.bodyClasses.prefix=b.classPrefix;b.classes.add("container");b.bodyClasses.add("container-body");a.containerCls&&b.classes.add(a.containerCls);b._layout=d.create((a.layout||"")+"layout");b.settings.items?b.add(b.settings.items):
b.add(b.render());b._hasBody=!0},items:function(){return this._items},find:function(a){a=p[a]=p[a]||new e(a);return a.find(this)},add:function(a){this.items().add(this.create(a)).parent(this);return this},focus:function(a){var b;if(a&&(a=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)){a.focusFirst(this);return}a=this.find("*");this.statusbar&&a.add(this.statusbar.items());a.each(function(a){if(a.settings.autofocus)return b=null,!1;a.canFocus&&(b=b||a)});b&&b.focus();return this},replace:function(a,
b){var c;c=this.items();for(var d=c.length;d--;)if(c[d]===a){c[d]=b;break}0<=d&&((c=b.getEl())&&c.parentNode.removeChild(c),(c=a.getEl())&&c.parentNode.removeChild(c));b.parent(this)},create:function(b){var c=this,f,e=[];a.isArray(b)||(b=[b]);a.each(b,function(b){b&&(b instanceof h||("string"==typeof b&&(b={type:b}),f=a.extend({},c.settings.defaults,b),b.type=f.type=f.type||b.type||c.settings.defaultType||(f.defaults?f.defaults.type:null),b=d.create(f)),e.push(b))});return e},renderNew:function(){var a=
this;a.items().each(function(b,d){var f;b.parent(a);b.state.get("rendered")||(f=a.getEl("body"),f.hasChildNodes()&&d<=f.childNodes.length-1?c(f.childNodes[d]).before(b.renderHtml()):c(f).append(b.renderHtml()),b.postRender(),k.add(b))});a._layout.applyClasses(a.items().filter(":visible"));a._lastRect=null;return a},append:function(a){return this.add(a).renderNew()},prepend:function(a){this.items().set(this.create(a).concat(this.items().toArray()));return this.renderNew()},insert:function(a,b,c){var d;
a=this.create(a);d=this.items();!c&&b<d.length-1&&(b+=1);0<=b&&b<d.length&&(c=d.slice(0,b).toArray(),b=d.slice(b).toArray(),d.set(c.concat(a,b)));return this.renderNew()},fromJSON:function(a){for(var b in a)this.find("#"+b).value(a[b]);return this},toJSON:function(){var a={};this.find("*").each(function(b){var c=b.name();b=b.value();c&&"undefined"!=typeof b&&(a[c]=b)});return a},renderHtml:function(){var a=this._layout,b=this.settings.role;this.preRender();a.preRender(this);return'<div id="'+this._id+
'" class="'+this.classes+'"'+(b?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+a.renderHtml(this)+"</div></div>"},postRender:function(){var a;this.items().exec("postRender");this._super();this._layout.postRender(this);this.state.set("rendered",!0);this.settings.style&&this.$el.css(this.settings.style);this.settings.border&&(a=this.borderBox,this.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,
"border-left-width":a.left}));this.parent()||(this.keyboardNav=new b({root:this}));return this},initLayoutRect:function(){var a=this._super();this._layout.recalc(this);return a},recalc:function(){var a=this._layoutRect,b=this._lastRect;if(!b||b.w!=a.w||b.h!=a.h)return this._layout.recalc(this),a=this.layoutRect(),this._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0},reflow:function(){var a;k.remove(this);if(this.visible()){h.repaintControls=[];h.repaintControls.map={};this.recalc();for(a=h.repaintControls.length;a--;)h.repaintControls[a].repaint();
"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint();h.repaintControls=[]}return this}})});u("tinymce.core.ui.DragHelper",["tinymce.core.dom.DomQuery"],function(h){function g(e){var d,b;if(e.changedTouches)for(d="screenX screenY pageX pageY clientX clientY".split(" "),b=0;b<d.length;b++)e[d[b]]=e.changedTouches[0][d[b]]}return function(e,d){var b,a=d.document||document,c,f,k,p,n;d=d||{};k=function(a){g(a);if(a.button!==c)return f(a);a.deltaX=a.screenX-p;a.deltaY=a.screenY-
n;a.preventDefault();d.drag(a)};f=function(c){g(c);h(a).off("mousemove touchmove",k).off("mouseup touchend",f);b.remove();d.stop&&d.stop(c)};this.destroy=function(){h(a.getElementById(d.handle||e)).off()};h(a.getElementById(d.handle||e)).on("mousedown touchstart",function(r){var l,m,t,w,v,s,y,q=Math.max;t=a.documentElement;w=a.body;l=q(t.scrollWidth,w.scrollWidth);v=q(t.clientWidth,w.clientWidth);s=q(t.offsetWidth,w.offsetWidth);m=q(t.scrollHeight,w.scrollHeight);y=q(t.clientHeight,w.clientHeight);
t=q(t.offsetHeight,w.offsetHeight);l=l<s?v:l;m=m<t?y:m;g(r);r.preventDefault();c=r.button;y=a.getElementById(d.handle||e);p=r.screenX;n=r.screenY;y=window.getComputedStyle?window.getComputedStyle(y,null).getPropertyValue("cursor"):y.runtimeStyle.cursor;b=h("<div></div>").css({position:"absolute",top:0,left:0,width:l,height:m,zIndex:2147483647,opacity:1E-4,cursor:y}).appendTo(a.body);h(a).on("mousemove touchmove",k).on("mouseup touchend",f);d.start(r)})}});u("tinymce.core.ui.Scrollable",["tinymce.core.dom.DomQuery",
"tinymce.core.ui.DragHelper"],function(h,g){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function e(){function c(c,g,l,m,p,w){var v,s,y;if(v=b.getEl("scroll"+c))s=g.toLowerCase(),y=l.toLowerCase(),h(b.getEl("absend")).css(s,b.layoutRect()[m]-1),p?(h(v).css("display","block"),m=b.getEl("body"),c=b.getEl("scroll"+c+"t"),p=m["client"+l]-2*a,p-=d&&e?v["client"+w]:0,l=m["scroll"+l],l=p/l,w={},w[s]=m["offset"+g]+a,w[y]=p,h(v).css(w),w={},w[s]=m["scroll"+g]*l,w[y]=
p*l,h(c).css(w)):h(v).css("display","none")}var d,e,g;g=b.getEl("body");d=g.scrollWidth>g.clientWidth;e=g.scrollHeight>g.clientHeight;c("h","Left","Width","contentW",d,"Height");c("v","Top","Height","contentH",e,"Width")}function d(){function c(c,d,e,n,r){var l,m=b._id+"-scroll"+c,t=b.classPrefix;h(b.getEl()).append('<div id="'+m+'" class="'+t+"scrollbar "+t+"scrollbar-"+c+'"><div id="'+m+'t" class="'+t+'scrollbar-thumb"></div></div>');b.draghelper=new g(m+"t",{start:function(){l=b.getEl("body")["scroll"+
d];h("#"+m).addClass(t+"active")},drag:function(g){var h,m,t;m=b.layoutRect();h=m.contentW>m.innerW;m=m.contentH>m.innerH;t=b.getEl("body")["client"+e]-2*a;t-=h&&m?b.getEl("scroll"+c)["client"+r]:0;h=t/b.getEl("body")["scroll"+e];b.getEl("body")["scroll"+d]=l+g["delta"+n]/h},stop:function(){h("#"+m).removeClass(t+"active")}})}b.classes.add("scroll");c("v","Top","Height","Y","Width");c("h","Left","Width","X","Height")}var b=this,a=2;b.settings.autoScroll&&(b._hasScroll||(b._hasScroll=!0,d(),b.on("wheel",
function(a){var d=b.getEl("body");d.scrollLeft+=10*(a.deltaX||0);d.scrollTop+=10*a.deltaY;e()}),h(b.getEl("body")).on("scroll",e)),e())}}});u("tinymce.core.ui.Panel",["tinymce.core.ui.Container","tinymce.core.ui.Scrollable"],function(h,g){return h.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[g],renderHtml:function(){var e=this._layout,d=this.settings.html;this.preRender();e.preRender(this);"undefined"==typeof d?d='<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+e.renderHtml(this)+
"</div>":("function"==typeof d&&(d=d.call(this)),this._hasBody=!1);return'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+d+"</div>"}})});u("tinymce.core.ui.Movable",["tinymce.core.ui.DomUtils"],function(h){function g(e,d,b){var a,c,f,g;f=h.getViewPort();a=h.getPos(d);c=a.x;a=a.y;e.state.get("fixed")&&"static"==h.getRuntimeStyle(document.body,"position")&&(c-=f.x,a-=f.y);e=e.getEl();g=h.getSize(e);e=g.width;f=g.height;g=h.getSize(d);
d=g.width;g=g.height;b=(b||"").split("");"b"===b[0]&&(a+=g);"r"===b[1]&&(c+=d);"c"===b[0]&&(a+=Math.round(g/2));"c"===b[1]&&(c+=Math.round(d/2));"b"===b[3]&&(a-=f);"r"===b[4]&&(c-=e);"c"===b[3]&&(a-=Math.round(f/2));"c"===b[4]&&(c-=Math.round(e/2));return{x:c,y:a,w:e,h:f}}return{testMoveRel:function(e,d){for(var b=h.getViewPort(),a=0;a<d.length;a++){var c=g(this,e,d[a]);if(this.state.get("fixed")){if(0<c.x&&c.x+c.w<b.w&&0<c.y&&c.y+c.h<b.h)return d[a]}else if(c.x>b.x&&c.x+c.w<b.w+b.x&&c.y>b.y&&c.y+
c.h<b.h+b.y)return d[a]}return d[0]},moveRel:function(e,d){"string"!=typeof d&&(d=this.testMoveRel(e,d));var b=g(this,e,d);return this.moveTo(b.x,b.y)},moveBy:function(e,d){var b=this.layoutRect();this.moveTo(b.x+e,b.y+d);return this},moveTo:function(e,d){function b(a,b,c){return 0>a?0:a+c>b?(a=b-c,0>a?0:a):a}if(this.settings.constrainToViewport){var a=h.getViewPort(window),c=this.layoutRect();e=b(e,a.w+a.x,c.w);d=b(d,a.h+a.y,c.h)}this.state.get("rendered")?this.layoutRect({x:e,y:d}).repaint():(this.settings.x=
e,this.settings.y=d);this.fire("move",{x:e,y:d});return this}}});u("tinymce.core.ui.Resizable",["tinymce.core.ui.DomUtils"],function(h){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(g,e){if(1>=g||1>=e){var d=h.getWindowSize();g=1>=g?g*d.w:g;e=1>=e?e*d.h:e}this._layoutRect.autoResize=!1;return this.layoutRect({minW:g,minH:e,w:g,h:e}).reflow()},resizeBy:function(g,e){var d=this.layoutRect();return this.resizeTo(d.w+g,d.h+e)}}});
u("tinymce.core.ui.FloatPanel","tinymce.core.ui.Panel tinymce.core.ui.Movable tinymce.core.ui.Resizable tinymce.core.ui.DomUtils tinymce.core.dom.DomQuery tinymce.core.util.Delay".split(" "),function(h,g,e,d,b,a){function c(){l||(l=function(a){if(2!=a.button)for(var b=w.length;b--;){var c=w[b],d=c.getParentCtrl(a.target);if(c.settings.autohide){var f;if(f=d){a:{f=d;for(var e=c;f;){if(f==e){f=!0;break a}f=f.parent()}f=void 0}f=f||c.parent()===d}f||(a=c.fire("autohide",{target:a.target}),a.isDefaultPrevented()||
c.hide())}}},b(document).on("click touchstart",l))}function f(){m||(m=function(){var a;for(a=w.length;a--;)p(w[a])},b(window).on("scroll",m))}function k(){if(!t){var a=document.documentElement,c=a.clientWidth,d=a.clientHeight;t=function(){document.all&&c==a.clientWidth&&d==a.clientHeight||(c=a.clientWidth,d=a.clientHeight,y.hideAll())};b(window).on("resize",t)}}function p(a){function b(c,d){for(var f,e=0;e<w.length;e++)if(w[e]!=a)for(f=w[e].parent();f&&(f=f.parent());)f==a&&w[e].fixed(c).moveBy(0,
d).repaint()}var c=d.getViewPort().y;a.settings.autofix&&(a.state.get("fixed")?a._autoFixY>c&&(a.fixed(!1).layoutRect({y:a._autoFixY}).repaint(),b(!1,a._autoFixY-c)):(a._autoFixY=a.layoutRect().y,a._autoFixY<c&&(a.fixed(!0).layoutRect({y:0}).repaint(),b(!0,c-a._autoFixY))))}function n(a,c){var d,f=(y.zIndex||65535)+(zenarioAB.isOpen?3E5:0),e;if(a)v.push(c);else for(d=v.length;d--;)v[d]===c&&v.splice(d,1);if(v.length)for(d=0;d<v.length;d++)v[d].modal&&(f++,e=v[d]),v[d].getEl().style.zIndex=f,v[d].zIndex=
f,f++;d=b("#"+c.classPrefix+"modal-block",c.getContainerElm())[0];e?b(d).css("z-index",e.zIndex-1):d&&(d.parentNode.removeChild(d),s=!1);y.currentZIndex=f}function r(a){var b;for(b=w.length;b--;)w[b]===a&&w.splice(b,1);for(b=v.length;b--;)v[b]===a&&v.splice(b,1)}var l,m,t,w=[],v=[],s,y=h.extend({Mixins:[g,e],init:function(d){var e=this;e._super(d);e._eventsRoot=e;e.classes.add("floatpanel");d.autohide&&(c(),k(),w.push(e));d.autofix&&(f(),e.on("move",function(){p(this)}));e.on("postrender show",function(c){if(c.control==
e){var d,f=e.classPrefix;e.modal&&!s&&(d=b("#"+f+"modal-block",e.getContainerElm()),d[0]||(d=b('<div id="'+f+'modal-block" class="'+f+"reset "+f+'fade"></div>').appendTo(e.getContainerElm())),a.setTimeout(function(){d.addClass(f+"in");b(e.getEl()).addClass(f+"in")}),s=!0);n(!0,e)}});e.on("show",function(){e.parents().each(function(a){if(a.state.get("fixed"))return e.fixed(!0),!1})});d.popover&&(e._preBodyHtml='<div class="'+e.classPrefix+'arrow"></div>',e.classes.add("popover").add("bottom").add(e.isRtl()?
"end":"start"));e.aria("label",d.ariaLabel);e.aria("labelledby",e._id);e.aria("describedby",e.describedBy||e._id+"-none")},fixed:function(a){if(this.state.get("fixed")!=a){if(this.state.get("rendered")){var b=d.getViewPort();a?this.layoutRect().y-=b.y:this.layoutRect().y+=b.y}this.classes.toggle("fixed",a);this.state.set("fixed",a)}return this},show:function(){var a,b=this._super();for(a=w.length;a--&&w[a]!==this;);-1===a&&w.push(this);return b},hide:function(){r(this);n(!1,this);return this._super()},
hideAll:function(){y.hideAll()},close:function(){this.fire("close").isDefaultPrevented()||(this.remove(),n(!1,this));return this},remove:function(){r(this);this._super()},postRender:function(){this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole);return this._super()}});y.hideAll=function(){for(var a=w.length;a--;){var b=w[a];b&&b.settings.autohide&&(b.hide(),w.splice(a,1))}};return y});u("tinymce.core.ui.Window","tinymce.core.ui.FloatPanel tinymce.core.ui.Panel tinymce.core.ui.DomUtils tinymce.core.dom.DomQuery tinymce.core.ui.DragHelper tinymce.core.ui.BoxUtils tinymce.core.Env tinymce.core.util.Delay".split(" "),
function(h,g,e,d,b,a,c,f){function k(a){var b=d("meta[name=viewport]")[0],f;!1!==c.overrideViewPort&&(b||(b=document.createElement("meta"),b.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(b)),(f=b.getAttribute("content"))&&"undefined"!=typeof n&&(n=f),b.setAttribute("content",a?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":n))}var p=[],n="";h=h.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",
role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(a){var b=this;b._super(a);b.isRtl()&&b.classes.add("rtl");b.classes.add("window");b.bodyClasses.add("window-body");b.state.set("fixed",!0);a.buttons&&(b.statusbar=new g({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:b.isRtl()?"start":"end",defaults:{type:"button"},items:a.buttons}),b.statusbar.classes.add("foot"),b.statusbar.parent(b));b.on("click",
function(a){var c=b.classPrefix+"close";(e.hasClass(a.target,c)||e.hasClass(a.target.parentNode,c))&&b.close()});b.on("cancel",function(){b.close()});b.aria("describedby",b.describedBy||b._id+"-none");b.aria("label",a.title);b._fullscreen=!1},recalc:function(){var a=this.statusbar,b,c,d;this._fullscreen&&(this.layoutRect(e.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH);this._super();b=this.layoutRect();this.settings.title&&!this._fullscreen&&(c=b.headerW,c>b.w&&(d=b.x-Math.max(0,
c/2),this.layoutRect({w:c,x:d}),d=!0));a&&(a.layoutRect({w:this.layoutRect().innerW}).recalc(),c=a.layoutRect().minW+b.deltaW,c>b.w&&(d=b.x-Math.max(0,c-b.w),this.layoutRect({w:c,x:d}),d=!0));d&&this.recalc()},initLayoutRect:function(){var a=this._super(),b=0,c;this.settings.title&&!this._fullscreen&&(c=this.getEl("head"),c=e.getSize(c),a.headerW=c.width,a.headerH=c.height,b+=a.headerH);this.statusbar&&(b+=this.statusbar.layoutRect().h);a.deltaH+=b;a.minH+=b;a.h+=b;b=e.getWindowSize();a.x=this.settings.x||
Math.max(0,b.w/2-a.w/2);a.y=this.settings.y||Math.max(0,b.h/2-a.h/2);return a},renderHtml:function(){var a=this._layout,b=this._id,c=this.classPrefix,d=this.settings,f="",e="",g=d.html;this.preRender();a.preRender(this);d.title&&(f='<div id="'+b+'-head" class="'+c+'window-head"><div id="'+b+'-title" class="'+c+'title">'+this.encode(d.title)+'</div><div id="'+b+'-dragh" class="'+c+'dragh"></div><button type="button" class="'+c+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>');
d.url&&(g='<iframe src="'+d.url+'" tabindex="-1"></iframe>');"undefined"==typeof g&&(g=a.renderHtml(this));this.statusbar&&(e=this.statusbar.renderHtml());return'<div id="'+b+'" class="'+this.classes+'" hidefocus="1"><div class="'+this.classPrefix+'reset" role="application">'+f+'<div id="'+b+'-body" class="'+this.bodyClasses+'">'+g+"</div>"+e+"</div></div>"},fullscreen:function(b){var c=this,g=document.documentElement,k,h=c.classPrefix,p;b!=c._fullscreen&&(d(window).on("resize",function(){var a;if(c._fullscreen)if(k)c._timer||
(c._timer=f.setTimeout(function(){var a=e.getWindowSize();c.moveTo(0,0).resizeTo(a.w,a.h);c._timer=0},50));else{a=(new Date).getTime();var b=e.getWindowSize();c.moveTo(0,0).resizeTo(b.w,b.h);50<(new Date).getTime()-a&&(k=!0)}}),p=c.layoutRect(),(c._fullscreen=b)?(c._initial={x:p.x,y:p.y,w:p.w,h:p.h},c.borderBox=a.parseBox("0"),c.getEl("head").style.display="none",p.deltaH-=p.headerH+2,d([g,document.body]).addClass(h+"fullscreen"),c.classes.add("fullscreen"),b=e.getWindowSize(),c.moveTo(0,0).resizeTo(b.w,
b.h)):(c.borderBox=a.parseBox(c.settings.border),c.getEl("head").style.display="",p.deltaH+=p.headerH,d([g,document.body]).removeClass(h+"fullscreen"),c.classes.remove("fullscreen"),c.moveTo(c._initial.x,c._initial.y).resizeTo(c._initial.w,c._initial.h)));return c.reflow()},postRender:function(){var a,c,d=this;setTimeout(function(){d.classes.add("in");d.fire("open")},0);d._super();d.statusbar&&d.statusbar.postRender();d.focus();this.dragHelper=new b(d._id+"-dragh",{start:function(){a=d.layoutRect().x;
c=d.layoutRect().y},drag:function(b){d.moveTo(a+b.deltaX,c+b.deltaY)}});d.on("submit",function(a){a.isDefaultPrevented()||d.close()});p.push(d);k(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var a;this.dragHelper.destroy();this._super();this.statusbar&&this.statusbar.remove();a=this.classPrefix;var b;a:{for(b=0;b<p.length;b++)if(p[b]._fullscreen){b=!0;break a}b=!1}b&&d([document.documentElement,document.body]).removeClass(a+"fullscreen");for(a=p.length;a--;)p[a]===
this&&p.splice(a,1);k(0<p.length)},getContentWindow:function(){var a=this.getEl().getElementsByTagName("iframe")[0];return a?a.contentWindow:null}});(function(){if(!c.desktop){var a=window.innerWidth,b=window.innerHeight;f.setInterval(function(){var c=window.innerWidth,f=window.innerHeight;if(a!=c||b!=f)a=c,b=f,d(window).trigger("resize")},100)}d(window).on("resize",function(){var a,b=e.getWindowSize(),c;for(a=0;a<p.length;a++)c=p[a].layoutRect(),p[a].moveTo(p[a].settings.x||Math.max(0,b.w/2-c.w/
2),p[a].settings.y||Math.max(0,b.h/2-c.h/2))})})();return h});u("tinymce.core.ui.MessageBox",["tinymce.core.ui.Window"],function(h){var g=h.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){function d(b,d,e){return{type:"button",text:b,
subtype:e?"primary":"",onClick:function(b){b.control.parents()[1].close();a(d)}}}var b,a=e.callback||function(){};switch(e.buttons){case g.OK_CANCEL:b=[d("Ok",!0,!0),d("Cancel",!1)];break;case g.YES_NO:case g.YES_NO_CANCEL:b=[d("Yes",1,!0),d("No",0)];e.buttons==g.YES_NO_CANCEL&&b.push(d("Cancel",-1));break;default:b=[d("Ok",!0,!0)]}return(new h({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:b,title:e.title,role:"alertdialog",items:{type:"label",
multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){a(!1)}})).renderTo(document.body).reflow()},alert:function(e,d){"string"==typeof e&&(e={text:e});e.callback=d;return g.msgBox(e)},confirm:function(e,d){"string"==typeof e&&(e={text:e});e.callback=d;e.buttons=g.OK_CANCEL;return g.msgBox(e)}}});return g});u("tinymce.core.WindowManager",["tinymce.core.ui.Window","tinymce.core.ui.MessageBox"],
function(h,g){return function(e){function d(){if(c.length)return c[c.length-1]}function b(a){e.fire("OpenWindow",{win:a})}function a(a){e.fire("CloseWindow",{win:a})}var c=[];this.windows=c;e.on("remove",function(){for(var a=c.length;a--;)c[a].close()});this.open=function(d,g){var p;e.editorManager.setActive(e);d.title=d.title||" ";d.url=d.url||d.file;d.url&&(d.width=parseInt(d.width||320,10),d.height=parseInt(d.height||240,10));d.body&&(d.items={defaults:d.defaults,type:d.bodyType||"form",items:d.body,
data:d.data,callbacks:d.commands});d.url||d.buttons||(d.buttons=[{text:"Ok",subtype:"primary",onclick:function(){p.find("form")[0].submit()}},{text:"Cancel",onclick:function(){p.close()}}]);p=new h(d);c.push(p);p.on("close",function(){for(var b=c.length;b--;)c[b]===p&&c.splice(b,1);c.length||e.focus();a(p)});if(d.data)p.on("postRender",function(){this.find("*").each(function(a){var b=a.name();b in d.data&&a.value(d.data[b])})});p.features=d||{};p.params=g||{};1===c.length&&e.nodeChanged();p=p.renderTo().reflow();
b(p);return p};this.alert=function(c,d,h){var n;n=g.alert(c,function(){d?d.call(h||this):e.focus()});n.on("close",function(){a(n)});b(n)};this.confirm=function(c,d,e){var h;h=g.confirm(c,function(a){d.call(e||this,a)});h.on("close",function(){a(h)});b(h)};this.close=function(){d()&&d().close()};this.getParams=function(){return d()?d().params:null};this.setParams=function(a){d()&&(d().params=a)};this.getWindows=function(){return c}}});u("tinymce.core.ui.Tooltip",["tinymce.core.ui.Control","tinymce.core.ui.Movable"],
function(h,g){return h.extend({Mixins:[g],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;e.state.on("change:text",function(d){e.getEl().lastChild.innerHTML=e.encode(d.value)});return e._super()},repaint:function(){var e,d;e=this.getEl().style;
d=this._layoutRect;e.left=d.x+"px";e.top=d.y+"px";e.zIndex=131070+(zenarioAB.isOpen?3E5:0)}})});u("tinymce.core.ui.Widget",["tinymce.core.ui.Control","tinymce.core.ui.Tooltip"],function(h,g){var e,d=h.extend({init:function(b){var a=this;a._super(b);b=a.settings;a.canFocus=!0;b.tooltip&&!1!==d.tooltips&&(a.on("mouseenter",function(c){var d=a.tooltip().moveTo(-65535);c.control==a?(c=d.text(b.tooltip).show().testMoveRel(a.getEl(),["bc-tc","bc-tl","bc-tr"]),d.classes.toggle("tooltip-n","bc-tc"==c),d.classes.toggle("tooltip-nw",
"bc-tl"==c),d.classes.toggle("tooltip-ne","bc-tr"==c),d.moveRel(a.getEl(),c)):d.hide()}),a.on("mouseleave mousedown click",function(){a.tooltip().hide()}));a.aria("label",b.ariaLabel||b.tooltip)},tooltip:function(){e||(e=new g({type:"tooltip"}),e.renderTo());return e},postRender:function(){var b=this.settings;this._super();this.parent()||!b.width&&!b.height||(this.initLayoutRect(),this.repaint());b.autofocus&&this.focus()},bindStates:function(){function b(a){c.aria("disabled",a);c.classes.toggle("disabled",
a)}function a(a){c.aria("pressed",a);c.classes.toggle("active",a)}var c=this;c.state.on("change:disabled",function(a){b(a.value)});c.state.on("change:active",function(b){a(b.value)});c.state.get("disabled")&&b(!0);c.state.get("active")&&a(!0);return c._super()},remove:function(){this._super();e&&(e.remove(),e=null)}});return d});u("tinymce.core.ui.Progress",["tinymce.core.ui.Widget"],function(h){return h.extend({Defaults:{value:0},init:function(g){this._super(g);this.classes.add("progress");this.settings.filter||
(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var g=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+g+'bar-container"><div class="'+g+'bar"></div></div><div class="'+g+'text">0%</div></div>'},postRender:function(){this._super();this.value(this.settings.value);return this},bindStates:function(){function g(d){d=e.settings.filter(d);e.getEl().lastChild.innerHTML=d+"%";e.getEl().firstChild.firstChild.style.width=d+"%"}var e=this;
e.state.on("change:value",function(d){g(d.value)});g(e.state.get("value"));return e._super()}})});u("tinymce.core.ui.Notification",["tinymce.core.ui.Control","tinymce.core.ui.Movable","tinymce.core.ui.Progress","tinymce.core.util.Delay"],function(h,g,e,d){return h.extend({Mixins:[g],Defaults:{classes:"widget notification"},init:function(b){var a=this;a._super(b);b.text&&a.text(b.text);b.icon&&(a.icon=b.icon);b.color&&(a.color=b.color);b.type&&a.classes.add("notification-"+b.type);b.timeout&&(0>b.timeout||
0<b.timeout)&&!b.closeButton?a.closeButton=!1:(a.classes.add("has-close"),a.closeButton=!0);b.progressBar&&(a.progressBar=new e);a.on("click",function(b){-1!=b.target.className.indexOf(a.classPrefix+"close")&&a.close()})},renderHtml:function(){var b=this.classPrefix,a="",c="",d="",e="";this.icon&&(a='<i class="'+b+"ico "+b+"i-"+this.icon+'"></i>');this.color&&(e=' style="background-color: '+this.color+'"');this.closeButton&&(c='<button type="button" class="'+b+'close" aria-hidden="true">\u00d7</button>');
this.progressBar&&(d=this.progressBar.renderHtml());return'<div id="'+this._id+'" class="'+this.classes+'"'+e+' role="presentation">'+a+'<div class="'+b+'notification-inner">'+this.state.get("text")+"</div>"+d+c+"</div>"},postRender:function(){var b=this;d.setTimeout(function(){b.$el.addClass(b.classPrefix+"in")});return b._super()},bindStates:function(){var b=this;b.state.on("change:text",function(a){b.getEl().childNodes[1].innerHTML=a.value});b.progressBar&&b.progressBar.bindStates();return b._super()},
close:function(){this.fire("close").isDefaultPrevented()||this.remove();return this},repaint:function(){var b,a;b=this.getEl().style;a=this._layoutRect;b.left=a.x+"px";b.top=a.y+"px";b.zIndex=65534}})});u("tinymce.core.NotificationManager",["tinymce.core.ui.Notification","tinymce.core.util.Delay","tinymce.core.util.Tools"],function(h,g,e){return function(d){function b(){if(f.length)return f[f.length-1]}function a(){if(0<f.length){var a=f.slice(0,1)[0],b=d.inline?d.getElement():d.getContentAreaContainer();
a.moveRel(b,"tc-tc");if(1<f.length)for(a=1;a<f.length;a++)f[a].moveRel(f[a-1].getEl(),"bc-tc")}}function c(a,b){if(b.progressBar||b.timeout)return null;var c=e.grep(a,function(a){return b.type===a.settings.type&&b.text===a.settings.text});return 0===c.length?null:c[0]}var f=[];this.notifications=f;d.on("remove",function(){for(var a=f.length;a--;)f[a].close()});d.on("ResizeEditor",a);d.on("ResizeWindow",function(){g.requestAnimationFrame(function(){for(var b=0;b<f.length;b++)f[b].moveTo(0,0);a()})});
this.open=function(b){if(!d.removed){var e;d.editorManager.setActive(d);var g=c(f,b);null===g?(e=new h(b),f.push(e),0<b.timeout&&(e.timer=setTimeout(function(){e.close()},b.timeout)),e.on("close",function(){var b=f.length;for(e.timer&&d.getWin().clearTimeout(e.timer);b--;)f[b]===e&&f.splice(b,1);a()}),e.renderTo(),a()):e=g;return e}};this.close=function(){b()&&b().close()};this.getNotifications=function(){return f};d.on("SkinLoaded",function(){var a=d.settings.service_message;a&&d.notificationManager.open({text:a,
type:"warning",timeout:0,icon:""})})}});u("tinymce.core.EditorObservable",["tinymce.core.util.Observable","tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(h,g,e){function d(b,c){return"selectionchange"==c?b.getDoc():!b.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(c)?b.getDoc().documentElement:b.settings.event_root?(b.eventRoot||(b.eventRoot=a.select(b.settings.event_root)[0]),b.eventRoot):b.getBody()}function b(b,e){var g,h;b.delegates||(b.delegates={});b.delegates[e]||
b.removed||(g=d(b,e),b.settings.event_root?(c||(c={},b.editorManager.on("removeEditor",function(){var a;if(!b.editorManager.activeEditor&&c){for(a in c)b.dom.unbind(d(b,a));c=null}})),c[e]||(h=function(c){for(var d=c.target,g=b.editorManager.editors,h=g.length;h--;){var p=g[h].getBody();if(p===d||a.isChildOf(d,p))g[h].hidden||g[h].readonly||g[h].fire(e,c)}},c[e]=h,a.bind(g,e,h))):(h=function(a){b.hidden||b.readonly||b.fire(e,a)},a.bind(g,e,h),b.delegates[e]=h))}var a=g.DOM,c;g={bindPendingEventDelegates:function(){var a=
this;e.each(a._pendingNativeEvents,function(c){b(a,c)})},toggleNativeEvent:function(a,c){"focus"!=a&&"blur"!=a&&(c?this.initialized?b(this,a):this._pendingNativeEvents?this._pendingNativeEvents.push(a):this._pendingNativeEvents=[a]:this.initialized&&(this.dom.unbind(d(this,a),a,this.delegates[a]),delete this.delegates[a]))},unbindAllNativeEvents:function(){var a;if(this.delegates){for(a in this.delegates)this.dom.unbind(d(this,a),a,this.delegates[a]);delete this.delegates}this.inline||(this.getBody().onload=
null,this.dom.unbind(this.getWin()),this.dom.unbind(this.getDoc()));this.dom.unbind(this.getBody());this.dom.unbind(this.getContainer())}};return g=e.extend({},h,g)});u("tinymce.core.Shortcuts",["tinymce.core.util.Tools","tinymce.core.Env"],function(h,g){var e=h.each,d=h.explode,b={f9:120,f10:121,f11:122},a=h.makeMap("alt,ctrl,shift,meta,access");return function(c){function f(c){var f,k={};e(d(c,"+"),function(c){c in a?k[c]=!0:/^[0-9]{2,}$/.test(c)?k.keyCode=parseInt(c,10):(k.charCode=c.charCodeAt(0),
k.keyCode=b[c]||c.toUpperCase().charCodeAt(0))});c=[k.keyCode];for(f in a)k[f]?c.push(f):k[f]=!1;k.id=c.join(",");k.access&&(k.alt=!0,g.mac?k.ctrl=!0:k.shift=!0);k.meta&&(g.mac?k.meta=!0:(k.ctrl=!0,k.meta=!1));return k}function k(a,b,e,g){a=h.map(d(a,">"),f);a[a.length-1]=h.extend(a[a.length-1],{func:e,scope:g||c});return h.extend(a[0],{desc:c.translate(b),subpatterns:a.slice(1)})}function p(a,b){return b&&b.ctrl==a.ctrlKey&&b.meta==a.metaKey&&b.alt==a.altKey&&b.shift==a.shiftKey?a.keyCode==b.keyCode||
a.charCode&&a.charCode==b.charCode?(a.preventDefault(),!0):!1:!1}var n={},r=[];c.on("keyup keypress keydown",function(a){(a.altKey||a.ctrlKey||a.metaKey||"keydown"===a.type&&112<=a.keyCode&&123>=a.keyCode)&&!a.isDefaultPrevented()&&(e(n,function(b){if(p(a,b))return r=b.subpatterns.slice(0),"keydown"==a.type&&b.func&&b.func.call(b.scope),!0}),p(a,r[0])&&(1===r.length&&"keydown"==a.type&&r[0].func&&r[0].func.call(r[0].scope),r.shift()))});this.add=function(a,b,f,g){var p;p=f;"string"===typeof f?f=function(){c.execCommand(p,
!1,null)}:h.isArray(p)&&(f=function(){c.execCommand(p[0],p[1],p[2])});e(d(h.trim(a.toLowerCase())),function(a){a=k(a,b,f,g);n[a.id]=a});return!0};this.remove=function(a){a=k(a);return n[a.id]?(delete n[a.id],!0):!1}}});u("tinymce.core.EditorSettings",["tinymce.core.util.Tools"],function(h){return{getEditorSettings:function(g,e,d,b,a){a=h.extend({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:d,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,
convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:g.convertURL,url_converter_scope:g,ie7_compat:!0},b,a,{validate:!0,content_editable:a.inline});b&&b.external_plugins&&a.external_plugins&&(a.external_plugins=h.extend({},b.external_plugins,a.external_plugins));return a}}});ga("global!window",window);u("tinymce.core.ErrorReporter",
["tinymce.core.AddOnManager"],function(h){var g=h.PluginManager,e=function(d,b){if(d._skinLoaded)d.notificationManager.open({type:"error",text:b});else d.on("SkinLoaded",function(){d.notificationManager.open({type:"error",text:b})})};return{pluginLoadError:function(d,b){var a;a:{for(a in g.urls)if(g.urls[a]+"/plugin"+d.suffix+".js"===b)break a;a=null}e(d,a?"Failed to load plugin: "+a+" from url "+b:"Failed to load plugin url: "+b)},uploadError:function(d,b){e(d,"Failed to upload image: "+b)},displayError:e,
contentCssError:function(d,b){e(d,"Failed to load content css: "+b[0])},initError:function(d){var b=window.console;b&&!window.test&&(b.error?b.error.apply(b,arguments):b.log.apply(b,arguments))}}});u("tinymce.core.caret.CaretContainerInput",["ephox.katamari.api.Fun","tinymce.core.caret.CaretContainer"],function(h,g){var e=function(b,a){a.hasAttribute("data-mce-caret")&&(g.showCaretContainerBlock(a),b.selection.setRng(b.selection.getRng()),b.selection.scrollIntoView(a))},d=function(b,a){var c=b.dom.select("*[data-mce-caret]")[0];
c&&("compositionstart"===a.type?(a.preventDefault(),a.stopPropagation(),e(c)):g.hasContent(c)&&e(b,c))};return{setup:function(b){b.on("keyup compositionstart",h.curry(d,b))}}});u("tinymce.core.file.Uploader",["tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.Fun"],function(h,g,e){return function(d,b){function a(a,c,d,f){var e,g;e=new XMLHttpRequest;e.open("POST",b.url);e.withCredentials=b.credentials;e.upload.onprogress=function(a){f(100*(a.loaded/a.total))};e.onerror=function(){d("Image upload failed due to a XHR Transport error. Code: "+
e.status)};e.onload=function(){var a;if(200>e.status||300<=e.status)d("HTTP Error: "+e.status);else if((a=JSON.parse(e.responseText))&&"string"==typeof a.location){var f;f=b.basePath;a=a.location;f=f?f.replace(/\/$/,"")+"/"+a.replace(/^\//,""):a;c(f)}else d("Invalid JSON: "+e.responseText)};g=new FormData;g.append("file",a.blob(),a.filename());e.send(g)}function c(){return new h(function(a){a([])})}function f(a,b){return{url:"",blobInfo:a,status:!1,error:b}}function e(a,b){g.each(l[a],function(a){a(b)});
delete l[a]}function p(a,b,c){d.markPending(a.blobUri());return new h(function(g){var h,p,l=function(){};try{p=function(a){0>a||100<a||(h||(h=c()),h.progressBar.value(a))},b(a,function(b){h&&(h.close(),p=l);d.markUploaded(a.blobUri(),b);e(a.blobUri(),{url:b,blobInfo:a,status:!0});g({url:b,blobInfo:a,status:!0})},function(b){h&&(h.close(),p=l);d.removeFailed(a.blobUri());e(a.blobUri(),f(a,b));g(f(a,b))},p)}catch(n){g(f(a,n.message))}})}function n(a){var b=a.blobUri();return new h(function(a){l[b]=
l[b]||[];l[b].push(a)})}function r(a,c){a=g.grep(a,function(a){return!d.isUploaded(a.blobUri())});return h.all(g.map(a,function(a){return d.isPending(a.blobUri())?n(a):p(a,b.handler,c)}))}var l={};b=g.extend({credentials:!1,handler:a},b);return{upload:function(d,f){return b.url||b.handler!==a?r(d,f):c()}}}});u("tinymce.core.file.Conversions",["tinymce.core.util.Promise"],function(h){function g(b){return new h(function(a,c){var d=function(){c("Cannot convert "+b+" to Blob. Resource might not exist or is inaccessible.")};
try{var e=new XMLHttpRequest;e.open("GET",b,!0);e.responseType="blob";e.onload=function(){200==this.status?a(this.response):d()};e.onerror=d;e.send()}catch(g){d()}})}function e(b){var a,c;b=decodeURIComponent(b).split(",");(c=/data:([^;]+)/.exec(b[0]))&&(a=c[1]);return{type:a,data:b[1]}}function d(b){return new h(function(a){var c,d,g;b=e(b);try{c=atob(b.data)}catch(h){a(new Blob([]));return}d=new Uint8Array(c.length);for(g=0;g<d.length;g++)d[g]=c.charCodeAt(g);a(new Blob([d],{type:b.type}))})}return{uriToBlob:function(b){return 0===
b.indexOf("blob:")?g(b):0===b.indexOf("data:")?d(b):null},blobToDataUri:function(b){return new h(function(a){var c=new FileReader;c.onloadend=function(){a(c.result)};c.readAsDataURL(b)})},parseDataUri:e}});u("tinymce.core.file.ImageScanner",["tinymce.core.util.Promise","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.file.Conversions","tinymce.core.Env"],function(h,g,e,d,b){var a=0,c=function(b,c,e,g){var h,l;0===c.src.indexOf("blob:")?(l=b.getByUri(c.src))?e({image:c,blobInfo:l}):d.uriToBlob(c.src).then(function(g){d.blobToDataUri(g).then(function(n){h=
d.parseDataUri(n).data;l=b.create("blobid"+a++,g,h);b.add(l);e({image:c,blobInfo:l})})},function(a){g(a)}):(h=d.parseDataUri(c.src).data,(l=b.findFirst(function(a){return a.base64()===h}))?e({image:c,blobInfo:l}):d.uriToBlob(c.src).then(function(d){l=b.create("blobid"+a++,d,h);b.add(l);e({image:c,blobInfo:l})},function(a){g(a)}))};return function(a,d){var p={};return{findAll:function(n,r){var l;r||(r=e.constant(!0));l=g.filter(n?n.getElementsByTagName("img"):[],function(c){var d=c.src;return!b.fileApi||
c.hasAttribute("data-mce-bogus")||c.hasAttribute("data-mce-placeholder")||!d||d==b.transparentSrc?!1:0===d.indexOf("blob:")?!a.isUploaded(d):0===d.indexOf("data:")?r(c):!1});l=g.map(l,function(a){var b;if(p[a.src])return new h(function(b){p[a.src].then(function(c){if("string"===typeof c)return c;b({image:a,blobInfo:c.blobInfo})})});b=(new h(function(b,e){c(d,a,b,e)})).then(function(a){delete p[a.image.src];return a})["catch"](function(b){delete p[a.src];return b});return p[a.src]=b});return h.all(l)}}}});
u("tinymce.core.util.Uuid",[],function(){var h=0,g=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()};return{uuid:function(e){return e+h++ +g()}}});ga("global!URL",URL);u("tinymce.core.file.BlobCache",["tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Uuid","global!URL"],function(h,g,e,d){return function(){function b(a){var b,c;if(!a.blob||!a.base64)throw"blob and base64 representations of the image are required for BlobInfo to be created";
b=a.id||e.uuid("blobid");c=a.name||b;b=k(b);var f=k(c),g=k;c+=".";var h;h={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[a.blob.type.toLowerCase()]||"dat";return{id:b,name:f,filename:g(c+h),blob:k(a.blob),base64:k(a.base64),blobUri:k(a.blobUri||d.createObjectURL(a.blob)),uri:k(a.uri)}}function a(a){return c(function(b){return b.id()===a})}function c(a){return h.filter(f,a)[0]}var f=[],k=g.constant;return{create:function(a,c,d,e){return"object"===typeof a?b(a):b({id:a,name:e,
blob:c,base64:d})},add:function(b){a(b.id())||f.push(b)},get:a,getByUri:function(a){return c(function(b){return b.blobUri()==a})},findFirst:c,removeByUri:function(a){f=h.filter(f,function(b){return b.blobUri()===a?(d.revokeObjectURL(b.blobUri()),!1):!0})},destroy:function(){h.each(f,function(a){d.revokeObjectURL(a.blobUri())});f=[]}}}});u("tinymce.core.file.UploadStatus",[],function(){return function(){function h(e){return e in g}var g={};return{hasBlobUri:h,getResultUri:function(e){return(e=g[e])?
e.resultUri:null},isPending:function(e){return h(e)?1===g[e].status:!1},isUploaded:function(e){return h(e)?2===g[e].status:!1},markPending:function(e){g[e]={status:1,resultUri:null}},markUploaded:function(e,d){g[e]={status:2,resultUri:d}},removeFailed:function(e){delete g[e]},destroy:function(){g={}}}}});u("tinymce.core.EditorUpload","tinymce.core.util.Arr tinymce.core.file.Uploader tinymce.core.file.ImageScanner tinymce.core.file.BlobCache tinymce.core.file.UploadStatus tinymce.core.ErrorReporter".split(" "),
function(h,g,e,d,b,a){return function(c){function f(a){return function(b){return c.selection?a(b):[]}}function k(a,b,c){var d=0;do d=a.indexOf(b,d),-1!==d&&(a=a.substring(0,d)+c+a.substr(d+b.length),d+=c.length-b.length+1);while(-1!==d);return a}function p(a,b,c){a=k(a,'src="'+b+'"','src="'+c+'"');return a=k(a,'data-mce-src="'+b+'"','data-mce-src="'+c+'"')}function n(a,b){h.each(c.undoManager.data,function(c){"fragmented"===c.type?c.fragments=h.map(c.fragments,function(c){return p(c,a,b)}):c.content=
p(c.content,a,b)})}function r(){return c.notificationManager.open({text:c.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function l(b){y||(y=new g(u,{url:x.images_upload_url,basePath:x.images_upload_base_path,credentials:x.images_upload_credentials,handler:x.images_upload_handler}));return w().then(f(function(d){var e;e=h.map(d,function(a){return a.blobInfo});return y.upload(e,r).then(f(function(e){e=h.map(e,function(b,e){var f=d[e].image;if(b.status&&!1!==c.settings.images_replace_blob_uris){var g=
b.url;s.removeByUri(f.src);n(f.src,g);c.$(f).attr({src:x.images_reuse_filename?g+("?"+(new Date).getTime()):g,"data-mce-src":c.convertURL(g,"src")})}else b.error&&a.uploadError(c,b.error);return{element:f,status:b.status}});b&&b(e);return e}))}))}function m(a){if(!1!==x.automatic_uploads)return l(a)}function t(a){return x.images_dataimg_filter?x.images_dataimg_filter(a):!0}function w(){q||(q=new e(u,s));return q.findAll(c.getBody(),t).then(f(function(b){b=h.filter(b,function(b){return"string"===typeof b?
(a.displayError(c,b),!1):!0});h.each(b,function(a){n(a.image.src,a.blobInfo.blobUri());a.image.src=a.blobInfo.blobUri();a.image.removeAttribute("data-mce-src")});return b}))}function v(a){return a.replace(/src="(blob:[^"]+)"/g,function(a,b){var d=u.getResultUri(b);if(d)return'src="'+d+'"';(d=s.getByUri(b))||(d=h.reduce(c.editorManager.editors,function(a,c){return a||c.editorUpload&&c.editorUpload.blobCache.getByUri(b)},null));return d?'src="data:'+d.blob().type+";base64,"+d.base64()+'"':a})}var s=
new d,y,q,x=c.settings,u=new b;c.on("setContent",function(){!1!==c.settings.automatic_uploads?m():w()});c.on("RawSaveContent",function(a){a.content=v(a.content)});c.on("getContent",function(a){a.source_view||"raw"==a.format||(a.content=v(a.content))});c.on("PostRender",function(){c.parser.addNodeFilter("img",function(a){h.each(a,function(a){var b=a.attr("src");s.getByUri(b)||(b=u.getResultUri(b))&&a.attr("src",b)})})});return{blobCache:s,uploadImages:l,uploadImagesAuto:m,scanForImages:w,destroy:function(){s.destroy();
u.destroy();q=y=null}}}});u("tinymce.core.ForceBlocks",["ephox.katamari.api.Fun"],function(h){var g=function(e){var d=e.settings,b=e.dom,a=e.selection,c=e.schema,f=c.getBlockElements(),g=a.getStart(),h=e.getBody(),n,r,l,m,t,w,v,s,y,q;q=d.forced_root_block;if(g&&1===g.nodeType&&q){for(;g&&g!==h;){if(f[g.nodeName])return;g=g.parentNode}d=a.getRng();if(d.setStart){n=d.startContainer;r=d.startOffset;l=d.endContainer;m=d.endOffset;try{s=e.getDoc().activeElement===h}catch(x){}}else d.item&&(g=d.item(0),
d=e.getDoc().body.createTextRange(),d.moveToElementText(g)),s=d.parentElement().ownerDocument===e.getDoc(),g=d.duplicate(),g.collapse(!0),r=-1*g.move("character",-16777215),g.collapsed||(g=d.duplicate(),g.collapse(!1),m=-1*g.move("character",-16777215)-r);g=h.firstChild;for(y=h.nodeName.toLowerCase();g;)(3===g.nodeType||1==g.nodeType&&!f[g.nodeName])&&c.isValidChild(y,q.toLowerCase())?3===g.nodeType&&0===g.nodeValue.length?(w=g,g=g.nextSibling,b.remove(w)):(t||(t=b.create(q,e.settings.forced_root_block_attrs),
g.parentNode.insertBefore(t,g),v=!0),w=g,g=g.nextSibling,t.appendChild(w)):(t=null,g=g.nextSibling);if(v&&s){if(d.setStart)d.setStart(n,r),d.setEnd(l,m),a.setRng(d);else try{d=e.getDoc().body.createTextRange(),d.moveToElementText(h),d.collapse(!0),d.moveStart("character",r),0<m&&d.moveEnd("character",m),d.select()}catch(u){}e.nodeChanged()}}};return{setup:function(e){if(e.settings.forced_root_block)e.on("NodeChange",h.curry(g,e))}}});u("tinymce.core.dom.Dimensions",["tinymce.core.util.Arr","tinymce.core.dom.NodeType",
"tinymce.core.geom.ClientRect"],function(h,g,e){function d(b){function a(a){return h.map(a,function(a){a=e.clone(a);a.node=b;return a})}if(h.isArray(b))return h.reduce(b,function(a,b){return a.concat(d(b))},[]);if(g.isElement(b))return a(b.getClientRects());if(g.isText(b)){var c=b.ownerDocument.createRange();c.setStart(b,0);c.setEnd(b,b.data.length);return a(c.getClientRects())}}return{getClientRects:d}});u("tinymce.core.caret.LineUtils","tinymce.core.util.Fun tinymce.core.util.Arr tinymce.core.dom.NodeType tinymce.core.dom.Dimensions tinymce.core.geom.ClientRect tinymce.core.caret.CaretUtils tinymce.core.caret.CaretCandidate".split(" "),
function(h,g,e,d,b,a,c){function f(a,b){return g.reduce(a,function(a,c){var d,e;d=Math.min(Math.abs(a.left-b),Math.abs(a.right-b));e=Math.min(Math.abs(c.left-b),Math.abs(c.right-b));return b>=c.left&&b<=c.right?c:b>=a.left&&b<=a.right?a:e==d&&n(c.node)||e<d?c:a})}function k(a,b,d,e){for(;(e=r(e,a,c.isEditableCaretCandidate,b))&&!d(e););}function p(a,c){function e(a,b){var h;h=g.filter(d.getClientRects(b),function(b){return!a(b,c)});f=f.concat(h);return 0===h.length}var f=[];f.push(c);k(-1,a,l(e,b.isAbove),
c.node);k(1,a,l(e,b.isBelow),c.node);return f}var n=e.isContentEditableFalse,r=a.findNode,l=h.curry;return{findClosestClientRect:f,findLineNodeRects:p,closestCaret:function(a,b,c){var e;e=d.getClientRects(g.filter(g.toArray(a.getElementsByTagName("*")),n));e=g.filter(e,function(a){return c>=a.top&&c<=a.bottom});return(e=f(e,b))&&(e=f(p(a,e),b))&&n(e.node)?{node:e.node,before:Math.abs(e.left-b)<Math.abs(e.right-b)}:null}}});u("tinymce.core.caret.LineWalker","tinymce.core.util.Fun tinymce.core.util.Arr tinymce.core.dom.Dimensions tinymce.core.caret.CaretCandidate tinymce.core.caret.CaretUtils tinymce.core.caret.CaretWalker tinymce.core.caret.CaretPosition tinymce.core.geom.ClientRect".split(" "),
function(h,g,e,d,b,a,c,f){function k(a,c,e,f){for(;(f=b.findNode(f,a,d.isEditableCaretCandidate,c))&&!e(f););}function p(a,b,c,d,f,h){function p(d){var h,k;k=e.getClientRects(d);-1==a&&(k=k.reverse());for(d=0;d<k.length;d++)if(h=k[d],!c(h,r)){0<n.length&&b(h,g.last(n))&&q++;h.line=q;if(f(h))return!0;n.push(h)}}var q=0,n=[],r;r=g.last(h.getClientRects());if(!r)return n;h=h.getNode();p(h);k(a,d,p,h);return n}h=h.curry;var n=h(p,-1,f.isAbove,f.isBelow),r=h(p,1,f.isBelow,f.isAbove);return{upUntil:n,downUntil:r,
positionsUntil:function(b,d,e,h){var k=new a(d),p;d=[];var n=0,q,r;1==b?(b=k.next,k=f.isBelow,p=f.isAbove,h=c.after(h)):(b=k.prev,k=f.isAbove,p=f.isBelow,h=c.before(h));r=g.last(h.getClientRects());do if(h.isVisible()&&(q=g.last(h.getClientRects()),!p(q,r))){0<d.length&&k(q,g.last(d))&&n++;q=f.clone(q);q.position=h;q.line=n;if(e(q))break;d.push(q)}while(h=b(h));return d},isAboveLine:h(function(a,b){return b.line>a}),isLine:h(function(a,b){return b.line===a})}});u("tinymce.core.keyboard.CefUtils",
["tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType","tinymce.core.util.Fun"],function(h,g,e,d){var b=e.isContentEditableTrue,a=e.isContentEditableFalse,c=function(a,b,c,d){return b._selectionOverrides.showCaret(a,c,d)},f=function(e,f){var n;f=g.normalizeRange(1,e.getBody(),f);n=h.fromRangeStart(f);if(a(n.getNode()))return c(1,e,n.getNode(),!n.isAtEnd());if(a(n.getNode(!0)))return c(1,e,n.getNode(!0),!1);n=e.dom.getParent(n.getNode(),d.or(a,b));return a(n)?
c(1,e,n,!1):null};return{showCaret:c,selectNode:function(a,b){if(a.fire("BeforeObjectSelected",{target:b}).isDefaultPrevented())return null;var c=b.ownerDocument.createRange();c.selectNode(b);return c},renderCaretAtRange:f,renderRangeCaret:function(a,b){var c;return b&&b.collapsed?(c=f(a,b))?c:b:b}}});u("tinymce.core.keyboard.CefNavigation","tinymce.core.caret.CaretContainer tinymce.core.caret.CaretPosition tinymce.core.caret.CaretUtils tinymce.core.caret.CaretWalker tinymce.core.caret.LineUtils tinymce.core.caret.LineWalker tinymce.core.dom.NodeType tinymce.core.dom.RangeUtils tinymce.core.Env tinymce.core.keyboard.CefUtils tinymce.core.util.Arr tinymce.core.util.Fun".split(" "),
function(h,g,e,d,b,a,c,f,k,p,n,r){var l=c.isContentEditableFalse,m=f.getSelectedNode,t=e.isAfterContentEditableFalse,w=e.isBeforeContentEditableFalse,v=function(a,b){for(;(b=a(b))&&!b.isVisible(););return b},s=function(a,b,c){c=e.normalizeRange(a,b,c);return-1===a?g.fromRangeStart(c):g.fromRangeEnd(c)},y=function(a,b,d,f,g){var k,q;if(!g.collapsed&&(k=m(g),l(k)))return p.showCaret(a,b,k,-1===a);q=h.isCaretContainerBlock(g.startContainer);k=s(a,b.getBody(),g);if(f(k))return p.selectNode(b,k.getNode(-1===
a));k=d(k);if(!k)return q?g:null;if(f(k))return p.showCaret(a,b,k.getNode(-1===a),1===a);d=d(k);return f(d)&&(f=k,g=e.isInSameBlock(f,d),f=!g&&c.isBr(f.getNode())?!0:g,f)?p.showCaret(a,b,d.getNode(-1===a),1===a):q?p.renderRangeCaret(b,k.toRange()):null},q=function(a,b,c){var e;e=new d(a.getBody());var f=r.curry(v,e.next),h=r.curry(v,e.prev);if(c.collapsed&&a.settings.forced_root_block&&(e=a.dom.getParent(c.startContainer,"PRE"))&&(c=1===b?f(g.fromRangeStart(c)):h(g.fromRangeStart(c)),!c)){c=a.dom.create(a.settings.forced_root_block);
if(!k.ie||11<=k.ie)c.innerHTML='<br data-mce-bogus="1">';1===b?a.$(e).after(c):a.$(e).before(c);a.selection.select(c,!0);a.selection.collapse()}};return{moveH:function(a,b){return function(){var c;c=new d(a.getBody());var e=r.curry(v,c.next),f=r.curry(v,c.prev);c=b?1:-1;var f=b?e:f,g=b?w:t,e=a.selection.getRng();c=(f=y(c,a,f,g,e))?f:(f=q(a,c,e))?f:null;return c?(a.selection.setRng(c),!0):!1}},moveV:function(c,d){return function(){var e;var f;e=d?1:-1;var g=d?a.downUntil:a.upUntil,h=c.selection.getRng();
b:{var k,r;f=m(h);k=s(e,c.getBody(),h);g=g(c.getBody(),a.isAboveLine(1),k);r=n.filter(g,a.isLine(1));g=n.last(k.getClientRects());w(k)&&(f=k.getNode());t(k)&&(f=k.getNode(!0));if(g)if(g=g.left,(k=b.findClosestClientRect(r,g))&&l(k.node))f=Math.abs(g-k.left),g=Math.abs(g-k.right),f=p.showCaret(e,c,k.node,f<g);else{if(f){f=a.positionsUntil(e,c.getBody(),a.isAboveLine(1),f);if(k=b.findClosestClientRect(n.filter(f,a.isLine(1)),g)){f=p.renderRangeCaret(c,k.position.toRange());break b}if(k=n.last(n.filter(f,
a.isLine(0)))){f=p.renderRangeCaret(c,k.position.toRange());break b}}f=void 0}else f=null}e=f?f:(f=q(c,e,h))?f:null;return e?(c.selection.setRng(e),!0):!1}}}});u("ephox.katamari.api.Merger",["ephox.katamari.api.Type","global!Array","global!Error"],function(h,g,e){var d=function(a){return function(){for(var b=new g(arguments.length),d=0;d<b.length;d++)b[d]=arguments[d];if(0===b.length)throw new e("Can't merge zero objects");for(var d={},h=0;h<b.length;h++){var p=b[h],n;for(n in p)p.hasOwnProperty(n)&&
(d[n]=a(d[n],p[n]))}return d}},b=d(function(a,c){return h.isObject(a)&&h.isObject(c)?b(a,c):c}),d=d(function(a,b){return b});return{deepMerge:b,merge:d}});u("tinymce.core.keyboard.MatchKeys",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Merger"],function(h,g,e){var d=function(b){return h.map(b,function(a){return e.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:g.noop},a)})};return{match:function(b,a){return h.bind(d(b),function(b){return a.keyCode===b.keyCode&&
a.shiftKey===b.shiftKey&&a.altKey===b.altKey&&a.ctrlKey===b.ctrlKey&&a.metaKey===b.metaKey?[b]:[]})},action:function(b){var a=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,a)}}}});u("tinymce.core.keyboard.ArrowKeys","ephox.katamari.api.Arr ephox.katamari.api.Cell tinymce.core.keyboard.BoundarySelection tinymce.core.keyboard.CefNavigation tinymce.core.keyboard.MatchKeys tinymce.core.util.VK".split(" "),function(h,g,e,d,b,a){var c=function(c,g,p){c=b.match([{keyCode:a.RIGHT,
action:d.moveH(c,!0)},{keyCode:a.LEFT,action:d.moveH(c,!1)},{keyCode:a.UP,action:d.moveV(c,!1)},{keyCode:a.DOWN,action:d.moveV(c,!0)},{keyCode:a.RIGHT,action:e.move(c,g,!0)},{keyCode:a.LEFT,action:e.move(c,g,!1)}],p);h.find(c,function(a){return a.action()}).each(function(a){p.preventDefault()})};return{setup:function(a,b){a.on("keydown",function(d){!1===d.isDefaultPrevented()&&c(a,b,d)})}}});u("tinymce.core.keyboard.DeleteBackspaceKeys","ephox.katamari.api.Arr tinymce.core.delete.BlockBoundaryDelete tinymce.core.delete.BlockRangeDelete tinymce.core.delete.CefDelete tinymce.core.delete.InlineBoundaryDelete tinymce.core.keyboard.MatchKeys tinymce.core.util.VK".split(" "),
function(h,g,e,d,b,a,c){var f=function(f,k,r){f=a.match([{keyCode:c.BACKSPACE,action:a.action(d.backspaceDelete,f,!1)},{keyCode:c.DELETE,action:a.action(d.backspaceDelete,f,!0)},{keyCode:c.BACKSPACE,action:a.action(b.backspaceDelete,f,k,!1)},{keyCode:c.DELETE,action:a.action(b.backspaceDelete,f,k,!0)},{keyCode:c.BACKSPACE,action:a.action(e.backspaceDelete,f,!1)},{keyCode:c.DELETE,action:a.action(e.backspaceDelete,f,!0)},{keyCode:c.BACKSPACE,action:a.action(g.backspaceDelete,f,!1)},{keyCode:c.DELETE,
action:a.action(g.backspaceDelete,f,!0)}],r);h.find(f,function(a){return a.action()}).each(function(a){r.preventDefault()})},k=function(b,e){var f=a.match([{keyCode:c.BACKSPACE,action:a.action(d.paddEmptyElement,b)},{keyCode:c.DELETE,action:a.action(d.paddEmptyElement,b)}],e);h.find(f,function(a){return a.action()})};return{setup:function(a,b){a.on("keydown",function(c){!1===c.isDefaultPrevented()&&f(a,b,c)});a.on("keyup",function(b){!1===b.isDefaultPrevented()&&k(a,b)})}}});u("tinymce.core.keyboard.EnterKey",
"tinymce.core.caret.CaretContainer tinymce.core.dom.NodeType tinymce.core.dom.RangeUtils tinymce.core.dom.TreeWalker tinymce.core.Env tinymce.core.text.Zwsp tinymce.core.util.Tools".split(" "),function(h,g,e,d,b,a,c){var f=b.ie&&11>b.ie,k=function(a){a.innerHTML=f?"":'<br data-mce-bogus="1">'},p=function(a,b){return a.nodeName===b||a.previousSibling&&a.previousSibling.nodeName===b},n=function(a,b){return b&&a.isBlock(b)&&!/^(TD|TH|CAPTION|FORM)$/.test(b.nodeName)&&!/^(fixed|absolute)/i.test(b.style.position)&&
"true"!==a.getContentEditable(b)},r=function(a,b,c){var d;a.isBlock(c)&&(d=b.getRng(),c.appendChild(a.create("span",null,"\u00a0")),b.select(c),c.lastChild.outerHTML="",b.setRng(d))},l=function(b,d,e){var f=[];if(e){for(;e=e.firstChild;){if(b.isBlock(e))return;1!=e.nodeType||d[e.nodeName.toLowerCase()]||f.push(e)}for(d=f.length;d--;)e=f[d],!e.hasChildNodes()||e.firstChild==e.lastChild&&""===e.firstChild.nodeValue?b.remove(e):e&&"A"===e.nodeName&&0===c.trim(a.trim(e.innerText||e.textContent)).length&&
b.remove(e)}},m=function(b,c,d){return!1===g.isText(c)?d:b?1===d&&c.data.charAt(d-1)===a.ZWSP?0:d:d===c.data.length-1&&c.data.charAt(d)===a.ZWSP?c.data.length:d},t=function(a){var b=a.cloneRange();b.setStart(a.startContainer,m(!0,a.startContainer,a.startOffset));b.setEnd(a.endContainer,m(!1,a.endContainer,a.endOffset));return b};return{setup:function(a){function c(v){function D(a){var c,e,f,h=a,k;if(a){b.ie&&9>b.ie&&O&&O.firstChild&&O.firstChild==O.lastChild&&"BR"==O.firstChild.tagName&&g.remove(O.firstChild);
if(/^(LI|DT|DD)$/.test(a.nodeName)){a:{for(c=a.firstChild;c;){if(1===c.nodeType||3===c.nodeType&&c.data&&/[\r\n\s]/.test(c.data))break a;c=c.nextSibling}c=void 0}c&&/^(UL|OL|DL)$/.test(c.nodeName)&&a.insertBefore(g.doc.createTextNode("\u00a0"),a.firstChild)}f=g.createRng();b.ie||a.normalize();if(a.hasChildNodes()){for(c=new d(a,a);e=c.current();){if(3==e.nodeType){f.setStart(e,0);f.setEnd(e,0);break}if(A[e.nodeName.toLowerCase()]){f.setStartBefore(e);f.setEndBefore(e);break}h=e;c.next()}e||(f.setStart(h,
0),f.setEnd(h,0))}else if("BR"==a.nodeName)if(a.nextSibling&&g.isBlock(a.nextSibling)){if(!F||9>F)k=g.create("br"),a.parentNode.insertBefore(k,a);f.setStartBefore(a);f.setEndBefore(a)}else f.setStartAfter(a),f.setEndAfter(a);else f.setStart(a,0),f.setEnd(a,0);y.setRng(f);g.remove(k);y.scrollIntoView(a)}}function L(a){var b=q.forced_root_block;b&&b.toLowerCase()===a.tagName.toLowerCase()&&g.setAttribs(a,q.forced_root_block_attrs)}function B(a){var b=U,c,d,e=u.getTextInlineElements();a||"TABLE"==ca||
"HR"==ca?(a=g.create(a||M),L(a)):a=O.cloneNode(!1);d=a;if(!1===q.keep_styles)g.setAttrib(a,"style",null),g.setAttrib(a,"class",null);else{do e[b.nodeName]&&"_mce_caret"!=b.id&&(c=b.cloneNode(!1),g.setAttrib(c,"id",""),a.hasChildNodes()?c.appendChild(a.firstChild):d=c,a.appendChild(c));while((b=b.parentNode)&&b!=Y)}f||(d.innerHTML='<br data-mce-bogus="1">');return a}function G(a){var b,c;c=m(a,U,N);if(3==U.nodeType&&(a?0<c:c<U.nodeValue.length))return!1;if(U.parentNode==O&&ha&&!a||a&&1==U.nodeType&&
U==O.firstChild)return!0;if(p(U,"TABLE")||p(U,"HR"))return ha&&!a||!ha&&a;b=new d(U,O);for(3==U.nodeType&&(a&&0===c?b.prev():a||c!=U.nodeValue.length||b.next());c=b.current();){if(1===c.nodeType){if(!c.getAttribute("data-mce-bogus")&&(c=c.nodeName.toLowerCase(),z[c]&&"br"!==c))return!1}else if(3===c.nodeType&&!/^[ \t\r\n]*$/.test(c.nodeValue))return!1;a?b.prev():b.next()}return!0}function E(b,c){var d,e,f,h,k=M||"P";e=g.getParent(b,g.isBlock);if(!e||!n(g,e)){e=e||Y;d=e==a.getBody()||e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)?
e.nodeName.toLowerCase():e.parentNode.nodeName.toLowerCase();if(!e.hasChildNodes())return d=g.create(k),L(d),e.appendChild(d),$.setStart(d,0),$.setEnd(d,0),d;for(h=b;h.parentNode!=e;)h=h.parentNode;for(;h&&!g.isBlock(h);)f=h,h=h.previousSibling;if(f&&u.isValidChild(d,k.toLowerCase())){d=g.create(k);L(d);f.parentNode.insertBefore(d,f);for(h=f;h&&!g.isBlock(h);)e=h.nextSibling,d.appendChild(h),h=e;$.setStart(b,c);$.setEnd(b,c)}}return b}function R(){function b(a){for(var c=V[a?"firstChild":"lastChild"];c&&
1!=c.nodeType;)c=c[a?"nextSibling":"previousSibling"];return c===O}function c(){var a=V.parentNode;return/^(LI|DT|DD)$/.test(a.nodeName)?a:V}if(V!=a.getBody()){var d=V.parentNode.nodeName;/^(OL|UL|LI)$/.test(d)&&(M="LI");P=M?B(M):g.create("BR");b(!0)&&b()?"LI"==d?g.insertAfter(P,c()):g.replace(P,V):b(!0)?"LI"==d?(g.insertAfter(P,c()),P.appendChild(g.doc.createTextNode(" ")),P.appendChild(V)):V.parentNode.insertBefore(P,V):b()?(g.insertAfter(P,c()),r(g,y,P)):(V=c(),W=$.cloneRange(),W.setStartAfter(O),
W.setEndAfter(V),aa=W.extractContents(),"LI"==M&&"LI"==aa.firstChild.nodeName?(P=aa.firstChild,g.insertAfter(aa,V)):(g.insertAfter(aa,V),g.insertAfter(P,V)));g.remove(O);D(P);x.add()}}function K(){a.execCommand("InsertLineBreak",!1,v)}function Q(a){do 3===a.nodeType&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;while(a)}function T(a){for(var b=g.getRoot(),c;a!==b&&"false"!==g.getContentEditable(a);)"true"===g.getContentEditable(a)&&(c=a),a=a.parentNode;return a!==b?c:b}function X(a){var b;
f||(a.normalize(),(b=a.lastChild)&&!/^(left|right)$/gi.test(g.getStyle(b,"float",!0))||g.add(a,"br"))}function ba(){P=/^(H[1-6]|PRE|FIGURE)$/.test(ca)&&"HGROUP"!=Z?B(M):B();q.end_container_on_empty_block&&n(g,V)&&g.isEmpty(O)?P=g.split(V,O):g.insertAfter(P,O);D(P)}var $,W,Y,U,N,O,F,I,P,aa,V,ca,Z,M,ha;$=y.getRng(!0);if(!v.isDefaultPrevented())if($.collapsed){if((new e(g)).normalize($),U=$.startContainer,N=$.startOffset,M=(M=(q.force_p_newlines?"p":"")||q.forced_root_block)?M.toUpperCase():"",F=g.doc.documentMode,
I=v.shiftKey,1==U.nodeType&&U.hasChildNodes()&&(ha=N>U.childNodes.length-1,U=U.childNodes[Math.min(N,U.childNodes.length-1)]||U,N=ha&&3==U.nodeType?U.nodeValue.length:0),Y=T(U))if(x.beforeChange(),g.isBlock(Y)||Y==g.getRoot()){if(M&&!I||!M&&I)U=E(U,N);V=(O=g.getParent(U,g.isBlock))?g.getParent(O.parentNode,g.isBlock):null;ca=O?O.nodeName.toUpperCase():"";Z=V?V.nodeName.toUpperCase():"";"LI"!=Z||v.ctrlKey||(O=V,ca=Z);a.undoManager.typing&&(a.undoManager.typing=!1,a.undoManager.add());if(/^(LI|DT|DD)$/.test(ca)){if(!M&&
I){K();return}if(g.isEmpty(O)){R();return}}if("PRE"==ca&&!1!==q.br_in_pre){if(!I){K();return}}else if(!M&&!I&&"LI"!=ca||M&&I){K();return}M&&O===a.getBody()||(M=M||"P",h.isCaretContainerBlock(O)?(P=h.showCaretContainerBlock(O),g.isEmpty(O)&&k(O),D(P)):G()?ba():G(!0)?(P=O.parentNode.insertBefore(B(),O),r(g,y,P),p(O,"HR")?D(P):D(O)):(W=t($).cloneRange(),W.setEndAfter(O),aa=W.extractContents(),Q(aa),P=aa.firstChild,g.insertAfter(aa,O),l(g,z,P),X(O),g.isEmpty(O)&&k(O),P.normalize(),g.isEmpty(P)?(g.remove(P),
ba()):D(P)),g.setAttrib(P,"id",""),a.fire("NewBlock",{newBlock:P}),x.typing=!1,x.add())}else M&&!I||K()}else a.execCommand("Delete")}var g=a.dom,y=a.selection,q=a.settings,x=a.undoManager,u=a.schema,z=u.getNonEmptyElements(),A=u.getMoveCaretBeforeOnEnterElements();a.on("keydown",function(a){13==a.keyCode&&!1!==c(a)&&a.preventDefault()})}}});u("tinymce.core.keyboard.InsertSpace",["ephox.katamari.api.Fun","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.BoundaryLocation"],
function(h,g,e,d){var b=function(a,b,d){return d.fold(h.constant(!1),h.constant(!0),h.constant(!0),h.constant(!1))&&e.isText(b.container())?(d=b.container(),b=b.offset(),d.insertData(b,"\u00a0"),a.selection.setCursorLocation(d,b+1),!0):!1};return{insertAtSelection:function(a){if(a.selection.isCollapsed()){var c=g.fromRangeStart(a.selection.getRng());a=d.readLocation(a.getBody(),c).map(h.curry(b,a,c)).getOr(!1)}else a=!1;return a}}});u("tinymce.core.keyboard.SpaceKey",["ephox.katamari.api.Arr","tinymce.core.keyboard.InsertSpace",
"tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(h,g,e,d){var b=function(a,b){var f=e.match([{keyCode:d.SPACEBAR,action:e.action(g.insertAtSelection,a)}],b);h.find(f,function(a){return a.action()}).each(function(a){b.preventDefault()})};return{setup:function(a){a.on("keydown",function(c){!1===c.isDefaultPrevented()&&b(a,c)})}}});u("tinymce.core.keyboard.KeyboardOverrides",["tinymce.core.keyboard.ArrowKeys","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.DeleteBackspaceKeys",
"tinymce.core.keyboard.EnterKey","tinymce.core.keyboard.SpaceKey"],function(h,g,e,d,b){return{setup:function(a){var c=g.setupSelectedState(a);h.setup(a,c);e.setup(a,c);d.setup(a);b.setup(a)}}});u("tinymce.core.NodeChange",["tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.util.Delay"],function(h,g,e){return function(d){var b,a=[];if(!("onselectionchange"in d.getDoc()))d.on("NodeChange Click MouseUp KeyUp Focus",function(a){var e;e=d.selection.getRng();e={startContainer:e.startContainer,
startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset};"nodechange"!=a.type&&h.compareRanges(e,b)||d.fire("SelectionChange");b=e});d.on("contextmenu",function(){d.fire("SelectionChange")});d.on("SelectionChange",function(){var b=d.selection.getStart(!0);if(g.range||!d.selection.isCollapsed()){var e;a:{var h;h=d.$(b).parentsUntil(d.getBody()).add(b);if(h.length===a.length){for(e=h.length;0<=e&&h[e]===a[e];e--);if(-1===e){a=h;e=!0;break a}}a=h;e=!1}!e&&d.dom.isChildOf(b,d.getBody())&&
d.nodeChanged({selectionChange:!0})}});d.on("MouseUp",function(a){a.isDefaultPrevented()||("IMG"==d.selection.getNode().nodeName?e.setEditorTimeout(d,function(){d.nodeChanged()}):d.nodeChanged())});this.nodeChanged=function(a){var b=d.selection,e,g;d.initialized&&b&&!d.settings.disable_nodechange&&!d.readonly&&(g=d.getBody(),b=b.getStart(!0)||g,b.ownerDocument==d.getDoc()&&d.dom.isChildOf(b,g)||(b=g),e=[],d.dom.getParent(b,function(a){if(a===g)return!0;e.push(a)}),a=a||{},a.element=b,a.parents=e,
d.fire("NodeChange",a))}}});u("tinymce.core.caret.FakeCaret","tinymce.core.caret.CaretContainer tinymce.core.caret.CaretContainerRemove tinymce.core.caret.CaretPosition tinymce.core.dom.DomQuery tinymce.core.dom.NodeType tinymce.core.dom.RangeUtils tinymce.core.geom.ClientRect tinymce.core.util.Delay".split(" "),function(h,g,e,d,b,a,c,f){var k=b.isContentEditableFalse;return function(a,b){function e(){var b,c,f,k,l;b=d("*[contentEditable=false]",a);for(k=0;k<b.length;k++)c=b[k],f=c.previousSibling,
h.endsWithCaretContainer(f)&&(l=f.data,1==l.length?f.parentNode.removeChild(f):f.deleteData(l.length-1,1)),f=c.nextSibling,h.startsWithCaretContainer(f)&&(l=f.data,1==l.length?f.parentNode.removeChild(f):f.deleteData(0,1));w&&(g.remove(w),w=null);t&&(t.remove(),t=null);clearInterval(m)}function l(){m=f.setInterval(function(){d("div.mce-visual-caret",a).toggleClass("mce-visual-caret-hidden")},500)}var m,t,w;return{show:function(f,g){var m;e();if(g&&/^(TD|TH)$/i.test(g.nodeName))return null;if(b(g)){w=
h.insertBlock("p",g,f);m=c.collapse(g.getBoundingClientRect(),f);var q,x;"BODY"==a.tagName?(q=a.ownerDocument.documentElement,x=a.scrollLeft||q.scrollLeft,q=a.scrollTop||q.scrollTop):(q=a.getBoundingClientRect(),x=a.scrollLeft-q.left,q=a.scrollTop-q.top);m.left+=x;m.right+=x;m.top+=q;m.bottom+=q;m.width=1;x=g.offsetWidth-g.clientWidth;0<x&&(f&&(x*=-1),m.left+=x,m.right+=x);d(w).css("top",m.top);t=d('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(m).appendTo(a);f&&t.addClass("mce-visual-caret-before");
l();m=g.ownerDocument.createRange();m.setStart(w,0);m.setEnd(w,0)}else w=h.insertInline(g,f),m=g.ownerDocument.createRange(),k(w.nextSibling)?(m.setStart(w,0),m.setEnd(w,0)):(m.setStart(w,1),m.setEnd(w,1));return m},hide:e,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){f.clearInterval(m)}}}});
u("tinymce.core.dom.MousePosition",[],function(){var h=function(g){var e,d;d=g.getBoundingClientRect();e=g.ownerDocument;g=e.documentElement;e=e.defaultView;return{top:d.top+e.pageYOffset-g.clientTop,left:d.left+e.pageXOffset-g.clientLeft}};return{calc:function(g,e){var d,b,a=g.inline?h(g.getBody()):{left:0,top:0},c;c=g.getBody();c=g.inline?{left:c.scrollLeft,top:c.scrollTop}:{left:0,top:0};if(e.target.ownerDocument!==g.getDoc()){b=h(g.getContentAreaContainer());var f;f=g.getBody();var k=g.getDoc().documentElement;
d={left:f.scrollLeft,top:f.scrollTop};f={left:f.scrollLeft||k.scrollLeft,top:f.scrollTop||k.scrollTop};f=g.inline?d:f;d=e.pageX-b.left+f.left;b=e.pageY-b.top+f.top}else d=e.pageX,b=e.pageY;return{pageX:d-a.left+c.left,pageY:b-a.top+c.top}}}});u("tinymce.core.DragDropOverrides","tinymce.core.dom.NodeType tinymce.core.util.Arr tinymce.core.util.Fun tinymce.core.util.Delay tinymce.core.dom.DOMUtils tinymce.core.dom.MousePosition".split(" "),function(h,g,e,d,b,a){var c=h.isContentEditableFalse,f=h.isContentEditableTrue,
k=function(a,b,d){return b===d||a.dom.isChildOf(b,d)||c(b)?!1:!0},p=function(a){a=a.cloneNode(!0);a.removeAttribute("data-mce-selected");return a},n=function(a,b){return function(d){if(0===d.button){var h=g.find(b.dom.getParents(d.target),e.or(c,f)),k=b.getBody();if(c(h)&&h!==k){var k=b.dom.getPos(h),l=b.getBody(),p=b.getDoc().documentElement;a.element=h;a.screenX=d.screenX;a.screenY=d.screenY;a.maxX=(b.inline?l.scrollWidth:p.offsetWidth)-2;a.maxY=(b.inline?l.scrollHeight:p.offsetHeight)-2;a.relX=
d.pageX-k.x;a.relY=d.pageY-k.y;a.width=h.offsetWidth;a.height=h.offsetHeight;d=a.width;k=a.height;h=h.cloneNode(!0);b.dom.setStyles(h,{width:d,height:k});b.dom.setAttrib(h,"data-mce-selected",null);l=b.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});b.dom.setStyles(l,{position:"absolute",opacity:0.5,overflow:"hidden",border:0,padding:0,margin:0,width:d,height:k});b.dom.setStyles(h,{margin:0,boxSizing:"border-box"});l.appendChild(h);
a.ghost=l}}}},r=function(b,c){var e=d.throttle(function(a,b){c._selectionOverrides.hideFakeCaret();c.selection.placeCaretAt(a,b)},0);return function(d){var f,g;f=Math.max(Math.abs(d.screenX-b.screenX),Math.abs(d.screenY-b.screenY));if(b.element&&!b.dragging&&10<f){if(c.fire("dragstart",{target:b.element}).isDefaultPrevented())return;b.dragging=!0;c.focus()}if(b.dragging){g=a.calc(c,d);f=g.pageX-b.relX;g=g.pageY+5;var h=b.ghost,k=c.getBody();h.parentNode!==k&&k.appendChild(h);var h=b.ghost,k=b.width,
l=b.height,p=b.maxX,m=b.maxY,n=0,t=0;h.style.left=f+"px";h.style.top=g+"px";f+k>p&&(n=f+k-p);g+l>m&&(t=g+l-m);h.style.width=k-n+"px";h.style.height=l-t+"px";e(d.clientX,d.clientY)}}},l=function(a){a=a.getSel().getRangeAt(0).startContainer;return 3===a.nodeType?a.parentNode:a},m=function(a,b){return function(c){if(a.dragging&&k(b,l(b.selection),a.element)){var d=p(a.element);c=b.fire("drop",{targetClone:d,clientX:c.clientX,clientY:c.clientY});c.isDefaultPrevented()||(d=c.targetClone,b.undoManager.transact(function(){var c=
a.element;c&&c.parentNode&&c.parentNode.removeChild(c);b.insertContent(b.dom.getOuterHTML(d));b._selectionOverrides.hideFakeCaret()}))}w(a)}},t=function(a,b){return function(){w(a);a.dragging&&b.fire("dragend")}},w=function(a){a.dragging=!1;a.element=null;(a=a.ghost)&&a.parentNode&&a.parentNode.removeChild(a)},v=function(a){var c={},d,e,f,g,h,k;d=b.DOM;k=document;e=n(c,a);f=r(c,a);g=m(c,a);h=t(c,a);a.on("mousedown",e);a.on("mousemove",f);a.on("mouseup",g);d.bind(k,"mousemove",f);d.bind(k,"mouseup",
h);a.on("remove",function(){d.unbind(k,"mousemove",f);d.unbind(k,"mouseup",h)})},s=function(a){a.on("drop",function(b){var d="undefined"!==typeof b.clientX?a.getDoc().elementFromPoint(b.clientX,b.clientY):null;(c(d)||c(a.dom.getContentEditableParent(d)))&&b.preventDefault()})};return{init:function(a){v(a);s(a)}}});u("ephox.sugar.impl.Style",[],function(){return{isSupported:function(h){return void 0!==h.style}}});u("ephox.sugar.api.properties.Css","ephox.katamari.api.Type ephox.katamari.api.Arr ephox.katamari.api.Obj ephox.katamari.api.Option ephox.sugar.api.properties.Attr ephox.sugar.api.node.Body ephox.sugar.api.node.Element ephox.sugar.api.node.Node ephox.sugar.impl.Style ephox.katamari.api.Strings global!Error global!console global!window".split(" "),
function(h,g,e,d,b,a,c,f,k,p,n,r,l){var m=function(a,b,c){if(!h.isString(c))throw r.error("Invalid call to CSS.set. Property ",b,":: Value ",c,":: Element ",a),new n("CSS value must be a string: "+c);k.isSupported(a)&&a.style.setProperty(b,c)},t=function(a,b,c){a=a.dom();m(a,b,c)},w=function(a,b){var c=a.dom(),c=k.isSupported(c)?c.style.getPropertyValue(b):"";return d.from(c).filter(function(a){return 0<a.length})},v=function(a,b,c){w(a,c).each(function(a){w(b,c).isNone()&&t(b,c,a)})};return{copy:function(a,
b){var c=a.dom(),d=b.dom();k.isSupported(c)&&k.isSupported(d)&&(d.style.cssText=c.style.cssText)},set:t,preserve:function(a,c){var d=b.get(a,"style"),e=c(a);(void 0===d?b.remove:b.set)(a,"style",d);return e},setAll:function(a,b){var c=a.dom();e.each(b,function(a,b){m(c,b,a)})},setOptions:function(a,b){var c=a.dom();e.each(b,function(a,b){a.fold(function(){k.isSupported(c)&&c.style.removeProperty(b)},function(a){m(c,b,a)})})},remove:function(a,c){var d=a.dom();k.isSupported(d)&&d.style.removeProperty(c);
b.has(a,"style")&&""===p.trim(b.get(a,"style"))&&b.remove(a,"style")},get:function(b,c){var d=b.dom(),e=l.getComputedStyle(d).getPropertyValue(c),d=""!==e||a.inBody(b)?e:k.isSupported(d)?d.style.getPropertyValue(c):"";return null===d?void 0:d},getRaw:w,isValidValue:function(a,b,d){a=c.fromTag(a);t(a,b,d);return w(a,b).isSome()},reflow:function(a){return a.dom().offsetWidth},transfer:function(a,b,c){f.isElement(a)&&f.isElement(b)&&g.each(c,function(c){v(a,b,c)})}}});u("tinymce.core.EditorView",["ephox.katamari.api.Fun",
"ephox.sugar.api.node.Element","ephox.sugar.api.properties.Css","ephox.sugar.api.search.Traverse"],function(h,g,e,d){var b=function(a,b){return b.dom()[a]},a=function(a,b){return parseInt(e.get(b,a),10)},c=h.curry(b,"clientWidth"),f=h.curry(b,"clientHeight"),k=h.curry(a,"margin-top"),p=h.curry(a,"margin-left");return{isXYInContentArea:function(a,b,e){var h=g.fromDom(a.getBody()),h=a.inline?h:d.documentElement(h),t=a.inline,w=h.dom().getBoundingClientRect();a=t?w.left+h.dom().clientLeft+p(h):0;t=t?
w.top+h.dom().clientTop+k(h):0;b-=a;e-=t;a=c(h);h=f(h);return 0<=b&&0<=e&&b<=a&&e<=h}}});u("tinymce.core.SelectionOverrides","tinymce.core.caret.CaretContainer tinymce.core.caret.CaretPosition tinymce.core.caret.CaretUtils tinymce.core.caret.CaretWalker tinymce.core.caret.FakeCaret tinymce.core.caret.LineUtils tinymce.core.dom.NodeType tinymce.core.dom.RangePoint tinymce.core.DragDropOverrides tinymce.core.EditorView tinymce.core.Env tinymce.core.keyboard.CefUtils tinymce.core.util.Delay tinymce.core.util.VK".split(" "),
function(h,g,e,d,b,a,c,f,k,p,n,r,l,m){var t=c.isContentEditableTrue,w=c.isContentEditableFalse,v=e.isAfterContentEditableFalse,s=e.isBeforeContentEditableFalse;return function(c){function q(a,b,d){if(c.fire("ShowCaret",{target:b,direction:a,before:d}).isDefaultPrevented())return null;c.selection.scrollIntoView(b,-1===a);return G.show(d,b)}function x(a,b){b=e.normalizeRange(a,B,b);return-1==a?g.fromRangeStart(b):g.fromRangeEnd(b)}function u(){function b(a){for(var d=c.getBody();a&&a!=d;){if(t(a)||
w(a))return a;a=a.parentNode}return null}c.on("mouseup",function(a){var b=c.selection.getRng();b.collapsed&&p.isXYInContentArea(c,a.clientX,a.clientY)&&(a=r.renderCaretAtRange(c,b))&&c.selection.setRng(a)});c.on("click",function(a){var d;if(d=b(a.target))w(d)&&(a.preventDefault(),c.focus()),t(d)&&c.dom.isChildOf(d,c.selection.getNode())&&D()});c.on("blur NewBlock",function(){D();L()});(function(a){var c=!1;a.on("touchstart",function(){c=!1});a.on("touchmove",function(){c=!0});a.on("touchend",function(d){var e=
b(d.target);w(e)&&!c&&(d.preventDefault(),H(r.selectNode(a,e)))})})(c);c.on("mousedown",function(e){var h;if(!1!==p.isXYInContentArea(c,e.clientX,e.clientY))if(h=b(e.target))w(h)?(e.preventDefault(),H(r.selectNode(c,h))):(D(),t(h)&&e.shiftKey||f.isXYWithinRange(e.clientX,e.clientY,c.selection.getRng())||c.selection.placeCaretAt(e.clientX,e.clientY));else if(D(),L(),h=a.closestCaret(B,e.clientX,e.clientY)){var k=h.node,l=c.dom.getParent(e.target,c.dom.isBlock),k=c.dom.getParent(k,c.dom.isBlock),m;
(m=!l)||(m=c.dom.getParent(l,c.dom.isBlock),k=c.dom.getParent(k,c.dom.isBlock),(k=m===k)||(k=new d(l),l.firstChild?(l=g.before(l.firstChild),l=(l=k.next(l))&&!s(l)&&!v(l)):l=!1,k=!l),m=k);m&&(e.preventDefault(),c.getBody().focus(),(e=q(1,h.node,h.before))&&c.selection.setRng(e))}});c.on("keypress",function(a){if(!m.modifierPressed(a))switch(a.keyCode){default:w(c.selection.getNode())&&a.preventDefault()}});c.on("getSelectionRange",function(a){var b=a.range;R&&(R.parentNode?(b=b.cloneRange(),b.selectNode(R),
a.range=b):R=null)});c.on("setSelectionRange",function(a){var b;if(b=H(a.range,a.forward))a.range=b});c.on("AfterSetSelectionRange",function(a){a=a.range;A(a.startContainer)||A(a.endContainer)||L();c.dom.hasClass(a.startContainer.parentNode,"mce-offscreen-selection")||D()});c.on("focus",function(){l.setEditorTimeout(c,function(){c.selection.setRng(r.renderRangeCaret(c,c.selection.getRng()))},0)});c.on("copy",function(a){var b=a.clipboardData;if(!a.isDefaultPrevented()&&a.clipboardData&&!n.ie){var d;
if(d=(d=c.dom.get(E))?d.getElementsByTagName("*")[0]:d)a.preventDefault(),b.clearData(),b.setData("text/html",d.outerHTML),b.setData("text/plain",d.outerText)}});k.init(c)}function z(){var a=c.contentStyles;a.push(G.getCss());a.push(".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}")}function A(a){return h.isCaretContainer(a)||
h.startsWithCaretContainer(a)||h.endsWithCaretContainer(a)}function H(a,b){var d,e=c.$,f=c.dom,g,h,k;if(!a)return null;if(a.collapsed){if(!A(a.startContainer)&&!A(a.endContainer))if(!1===b){d=x(-1,a);if(w(d.getNode(!0)))return q(-1,d.getNode(!0),!1);if(w(d.getNode()))return q(-1,d.getNode(),!d.isAtEnd())}else{d=x(1,a);if(w(d.getNode()))return q(1,d.getNode(),!d.isAtEnd());if(w(d.getNode(!0)))return q(1,d.getNode(!0),!1)}return null}h=a.startContainer;g=a.startOffset;k=a.endOffset;3==h.nodeType&&0==
g&&w(h.parentNode)&&(h=h.parentNode,g=f.nodeIndex(h),h=h.parentNode);if(1!=h.nodeType)return null;k==g+1&&(d=h.childNodes[g]);if(!w(d))return null;k=h=d.cloneNode(!0);g=c.fire("ObjectSelected",{target:d,targetClone:k});if(g.isDefaultPrevented())return null;k=g.targetClone;g=e("#"+E);0===g.length&&(g=e('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",E),g.appendTo(c.getBody()));a=c.dom.createRng();k===h&&n.ie?(g.empty().append('<p style="font-size: 0" data-mce-bogus="all">\u00a0</p>').append(k),
a.setStartAfter(g[0].firstChild.firstChild),a.setEndAfter(k)):(g.empty().append("\u00a0").append(k).append("\u00a0"),a.setStart(g[0].firstChild,1),a.setEnd(g[0].lastChild,0));g.css({top:f.getPos(d,c.getBody()).y});g[0].focus();e=c.selection.getSel();e.removeAllRanges();e.addRange(a);c.$("*[data-mce-selected]").removeAttr("data-mce-selected");d.setAttribute("data-mce-selected",1);R=d;L();return a}function D(){R&&(R.removeAttribute("data-mce-selected"),c.$("#"+E).remove(),R=null)}function L(){G.hide()}
var B=c.getBody(),G=new b(c.getBody(),function(a){return c.dom.isBlock(a)}),E="sel-"+c.dom.uniqueId(),R;n.ceFalse&&(u(),z());return{showCaret:q,showBlockCaretContainer:function(a){if(a.hasAttribute("data-mce-caret")){h.showCaretContainerBlock(a);var b=c.selection.getRng();b&&c.selection.setRng(b);c.selection.scrollIntoView(a[0],void 0)}},hideFakeCaret:L,destroy:function(){G.destroy();R=null}}}});u("tinymce.core.dom.NodePath",["tinymce.core.dom.DOMUtils"],function(h){return{create:function(g,e,d){for(var b=
[];e&&e!=g;e=e.parentNode)b.push(h.nodeIndex(e,d));return b},resolve:function(g,e){var d,b;b=g;for(d=e.length-1;0<=d;d--){b=b.childNodes;if(e[d]>b.length-1)return null;b=b[e[d]]}return b}}});u("tinymce.core.util.Quirks","tinymce.core.util.VK tinymce.core.dom.RangeUtils tinymce.core.dom.TreeWalker tinymce.core.dom.NodePath tinymce.core.html.Node tinymce.core.html.Entities tinymce.core.Env tinymce.core.util.Tools tinymce.core.util.Delay tinymce.core.caret.CaretContainer tinymce.core.caret.CaretPosition tinymce.core.caret.CaretWalker".split(" "),
function(h,g,e,d,b,a,c,f,k,p,n,r){return function(d){function e(a,b){try{d.getDoc().execCommand(a,!1,b)}catch(c){}}function t(){var a=d.getDoc().documentMode;return a?a:6}function w(){d.shortcuts.add("meta+a",null,"SelectAll")}function v(){d.settings.content_editable||I.bind(d.getDoc(),"mousedown mouseup",function(a){var b;a.target==d.getDoc().documentElement&&(b=P.getRng(),d.getBody().focus(),"mousedown"==a.type?p.isCaretContainer(b.startContainer)||P.placeCaretAt(a.clientX,a.clientY):P.setRng(b))})}
function s(){d.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===O&&d.getBody().getElementsByTagName("hr").length&&P.isCollapsed()&&0===P.getRng(!0).startOffset){var b=P.getNode(),c=b.previousSibling;"HR"==b.nodeName?(I.remove(b),a.preventDefault()):c&&c.nodeName&&"hr"===c.nodeName.toLowerCase()&&(I.remove(c),a.preventDefault())}})}function y(){if(!window.Range.prototype.getClientRects)d.on("mousedown",function(a){if(!a.isDefaultPrevented()&&"HTML"===a.target.nodeName){var b=d.getBody();
b.blur();k.setEditorTimeout(d,function(){b.focus()})}})}function q(){d.on("click",function(a){var b=a.target;/^(IMG|HR)$/.test(b.nodeName)&&"false"!==I.getContentEditableParent(b)&&(a.preventDefault(),d.selection.select(b),d.nodeChanged());"A"==b.nodeName&&I.hasClass(b,"mce-item-anchor")&&(a.preventDefault(),P.select(b))})}function x(){function a(){var b=I.getAttribs(P.getStart().cloneNode(!1));return function(){var a=P.getStart();a!==d.getBody()&&(I.setAttrib(a,"style",null),N(b,function(b){a.setAttributeNode(b.cloneNode(!0))}))}}
function b(){return!P.isCollapsed()&&I.getParent(P.getStart(),I.isBlock)!=I.getParent(P.getEnd(),I.isBlock)}d.on("keypress",function(c){var e;if(!c.isDefaultPrevented()&&(8==c.keyCode||46==c.keyCode)&&b())return e=a(),d.getDoc().execCommand("delete",!1,null),e(),c.preventDefault(),!1});I.bind(d.getDoc(),"cut",function(c){var e;!c.isDefaultPrevented()&&b()&&(e=a(),k.setEditorTimeout(d,function(){e()}))})}function u(){d.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===O&&P.isCollapsed()&&
0===P.getRng(!0).startOffset){var b=P.getNode().previousSibling;if(b&&b.nodeName&&"table"===b.nodeName.toLowerCase())return a.preventDefault(),!1}})}function z(){7<t()||(e("RespectVisibilityInDesign",!0),d.contentStyles.push(".mceHideBrInPre pre br {display: none}"),I.addClass(d.getBody(),"mceHideBrInPre"),V.addNodeFilter("pre",function(a){for(var c=a.length,d,e,f,g;c--;)for(d=a[c].getAll("br"),e=d.length;e--;)f=d[e],(g=f.prev)&&3===g.type&&"\n"!=g.value.charAt(g.value-1)?g.value+="\n":f.parent.insert(new b("#text",
3),f,!0).value="\n"}),ca.addNodeFilter("pre",function(a){for(var b=a.length,c,d,e;b--;)for(c=a[b].getAll("br"),d=c.length;d--;)e=c[d],(e=e.prev)&&3==e.type&&(e.value=e.value.replace(/\r?\n$/,""))}))}function A(){I.bind(d.getBody(),"mouseup",function(){var a,b=P.getNode();if("IMG"==b.nodeName){if(a=I.getStyle(b,"width"))I.setAttrib(b,"width",a.replace(/[^0-9%]+/g,"")),I.setStyle(b,"width","");if(a=I.getStyle(b,"height"))I.setAttrib(b,"height",a.replace(/[^0-9%]+/g,"")),I.setStyle(b,"height","")}})}
function H(){function a(){e("StyleWithCSS",!1);e("enableInlineTableEditing",!1);aa.object_resizing||e("enableObjectResizing",!1)}if(!aa.readonly)d.on("BeforeExecCommand MouseDown",a)}function D(){function a(){N(I.select("a"),function(a){var b=a.parentNode,c=I.getRoot();if(b.lastChild===a){for(;b&&!I.isBlock(b);){if(b.parentNode.lastChild!==b||b===c)return;b=b.parentNode}I.add(b,"br",{"data-mce-bogus":1})}})}d.on("SetContent ExecCommand",function(b){"setcontent"!=b.type&&"mceInsertLink"!==b.command||
a()})}function L(){if(aa.forced_root_block)d.on("init",function(){e("DefaultParagraphSeparator",aa.forced_root_block)})}function B(){d.on("keydown",function(a){var b;a.isDefaultPrevented()||a.keyCode!=O||(b=d.getDoc().selection.createRange())&&b.item&&(a.preventDefault(),d.undoManager.beforeChange(),I.remove(b.item(0)),d.undoManager.add())})}function G(){var a;10<=t()&&(a="",N("p div h1 h2 h3 h4 h5 h6".split(" "),function(b,c){a+=(0<c?",":"")+b+":empty"}),d.contentStyles.push(a+"{padding-right: 1px !important}"))}
function E(){9>t()&&(V.addNodeFilter("noscript",function(a){for(var b=a.length,c,d;b--;)c=a[b],(d=c.firstChild)&&c.attr("data-mce-innertext",d.value)}),ca.addNodeFilter("noscript",function(c){for(var d=c.length,e,f,g;d--;)if(e=c[d],f=c[d].firstChild)f.value=a.decode(f.value);else if(g=e.attributes.map["data-mce-innertext"])e.attr("data-mce-innertext",null),f=new b("#text",3),f.value=g,f.raw=!0,e.append(f)}))}function R(){function a(b,c){var d=e.createTextRange();try{d.moveToPoint(b,c)}catch(f){d=
null}return d}function b(d){if(d.button){if(d=a(d.x,d.y))0<d.compareEndPoints("StartToStart",g)?d.setEndPoint("StartToStart",g):d.setEndPoint("EndToEnd",g),d.select()}else c()}function c(){var a=d.selection.createRange();g&&!a.item&&0===a.compareEndPoints("StartToEnd",a)&&g.select();I.unbind(d,"mouseup",c);I.unbind(d,"mousemove",b);g=f=0}var d=I.doc,e=d.body,f,g,h;d.documentElement.unselectable=!0;I.bind(d,"mousedown contextmenu",function(e){"HTML"===e.target.nodeName&&(f&&c(),h=d.documentElement,
!(h.scrollHeight>h.clientHeight)&&(f=1,g=a(e.x,e.y)))&&(I.bind(d,"mouseup",c),I.bind(d,"mousemove",b),I.getRoot().focus(),g.select())})}function K(){d.on("keyup focusin mouseup",function(a){65==a.keyCode&&h.metaKeyPressed(a)||P.normalize()},!0)}function Q(){if(!d.inline)d.on("keydown",function(){document.activeElement==document.body&&d.getWin().focus()})}function T(){d.inline||(d.contentStyles.push("body {min-height: 150px}"),d.on("click",function(a){"HTML"==a.target.nodeName&&(11<c.ie?d.getBody().focus():
(a=d.selection.getRng(),d.getBody().focus(),d.selection.setRng(a),d.selection.normalize(),d.nodeChanged()))}))}function X(){if(c.mac)d.on("keydown",function(a){!h.metaKeyPressed(a)||a.shiftKey||37!=a.keyCode&&39!=a.keyCode||(a.preventDefault(),d.selection.getSel().modify("move",37==a.keyCode?"backward":"forward","lineboundary"))})}function ba(){d.on("click",function(a){var b=a.target;do if("A"===b.tagName){a.preventDefault();break}while(b=b.parentNode)});d.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}
function $(){d.on("init",function(){d.dom.bind(d.getBody(),"submit",function(a){a.preventDefault()})})}function W(){V.addNodeFilter("br",function(a){for(var b=a.length;b--;)"Apple-interchange-newline"==a[b].attr("class")&&a[b].remove()})}function Y(){d.on("dragstart",function(a){var b;a.dataTransfer&&(d.selection.isCollapsed()&&"IMG"==a.target.tagName&&P.select(a.target),b=d.selection.getContent(),0<b.length&&(b=ea+escape(d.id)+","+escape(b),a.dataTransfer.setData(da,b)))});d.on("drop",function(a){if(!a.isDefaultPrevented()){var b;
a:{if(a.dataTransfer&&(b=a.dataTransfer.getData(da))&&0<=b.indexOf(ea)){b=b.substr(ea.length).split(",");b={id:unescape(b[0]),html:unescape(b[1])};break a}b=null}b&&b.id!=d.id&&(a.preventDefault(),a=g.getCaretRangeFromPoint(a.x,a.y,d.getDoc()),P.setRng(a),a=b.html,d.queryCommandSupported("mceInsertClipboardContent")?d.execCommand("mceInsertClipboardContent",!1,{content:a,internal:!0}):d.execCommand("mceInsertContent",!1,a))}})}function U(){function a(b){var c=new r(b.getBody()),d=b.selection.getRng(),
e=n.fromRangeStart(d),f=n.fromRangeEnd(d),d=c.prev(e),c=c.next(f);return!b.selection.isCollapsed()&&(!d||d.isAtStart()&&e.isEqual(d))&&(!c||c.isAtEnd()&&e.isEqual(c))}d.on("keypress",function(b){!b.isDefaultPrevented()&&!P.isCollapsed()&&31<b.charCode&&!h.metaKeyPressed(b)&&a(d)&&(b.preventDefault(),d.setContent(String.fromCharCode(b.charCode)),d.selection.select(d.getBody(),!0),d.selection.collapse(!1),d.nodeChanged())});d.on("keydown",function(b){var c=b.keyCode;b.isDefaultPrevented()||c!=F&&c!=
O||!a(d)||(b.preventDefault(),d.setContent(""),d.nodeChanged())})}var N=f.each,O=h.BACKSPACE,F=h.DELETE,I=d.dom,P=d.selection,aa=d.settings,V=d.parser,ca=d.serializer,Z=c.gecko,M=c.ie,ha=c.webkit,ea="data:text/mce-internal,",da=M?"Text":"URL";(function(){d.on("keydown",function(a){var b,c,e,f;if(!a.isDefaultPrevented()&&a.keyCode==h.BACKSPACE&&(a=P.getRng(),b=a.startContainer,c=a.startOffset,e=I.getRoot(),f=b,a.collapsed&&0===c)){for(;f&&f.parentNode&&f.parentNode.firstChild==f&&f.parentNode!=e;)f=
f.parentNode;"BLOCKQUOTE"===f.tagName&&(d.formatter.toggle("blockquote",null,f),a=I.createRng(),a.setStart(b,0),a.setEnd(b,0),P.setRng(a))}})})();(function(){function a(b){var c=I.create("body");b=b.cloneContents();c.appendChild(b);return P.serializer.serialize(c,{format:"html"})}d.on("keydown",function(b){var c=b.keyCode,e;if(!b.isDefaultPrevented()&&(c==F||c==O)&&(e=d.selection.isCollapsed(),c=d.getBody(),!e||I.isEmpty(c))){if(e=!e){e=d.selection.getRng();if(e.setStart){e=a(e);var f=I.createRng();
f.selectNode(d.getBody());f=a(f);e=e===f}else e.item?e=!1:(f=e.duplicate(),f.moveToElementText(d.getBody()),e=g.compareRanges(e,f));e=!e}e||(b.preventDefault(),d.setContent(""),c.firstChild&&I.isBlock(c.firstChild)?d.selection.setCursorLocation(c.firstChild,0):d.selection.setCursorLocation(c,0),d.nodeChanged())}})})();c.windowsPhone||K();ha&&(U(),v(),q(),L(),$(),u(),W(),c.iOS?(Q(),T(),ba()):w());M&&11>c.ie&&(s(),document.body.setAttribute("role","application"),z(),A(),B(),G(),E(),R());11<=c.ie&&(T(),
u());c.ie&&(w(),e("AutoUrlDetect",!1),Y());Z&&(U(),s(),y(),x(),H(),D(),d.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),X(),u());return{refreshContentEditable:function(){},isHidden:function(){var a;if(!Z||d.removed)return 0;a=d.selection.getSel();return!a||!a.rangeCount||0===a.rangeCount}}}});u("tinymce.core.init.InitContentBody","global!document global!window tinymce.core.caret.CaretContainerInput tinymce.core.dom.DOMUtils tinymce.core.dom.Selection tinymce.core.dom.Serializer tinymce.core.EditorUpload tinymce.core.ErrorReporter tinymce.core.ForceBlocks tinymce.core.Formatter tinymce.core.html.DomParser tinymce.core.html.Node tinymce.core.html.Schema tinymce.core.keyboard.KeyboardOverrides tinymce.core.NodeChange tinymce.core.SelectionOverrides tinymce.core.UndoManager tinymce.core.util.Delay tinymce.core.util.Quirks tinymce.core.util.Tools".split(" "),
function(h,g,e,d,b,a,c,f,k,p,n,r,l,m,t,w,v,s,y,q){var x=d.DOM,u=function(a){var b=new n(a.settings,a.schema);b.addAttributeFilter("src,href,style,tabindex",function(b,c){for(var d=b.length,e,f=a.dom,g,h;d--;)e=b[d],g=e.attr(c),h="data-mce-"+c,e.attributes.map[h]||0===g.indexOf("data:")||0===g.indexOf("blob:")||("style"===c?(g=f.serializeStyle(f.parseStyle(g),e.name),g.length||(g=null),e.attr(h,g),e.attr(c,g)):"tabindex"===c?(e.attr(h,g),e.attr(c,null)):e.attr(h,a.convertURL(g,c,e.name)))});b.addNodeFilter("script",
function(a){for(var b=a.length,c,d;b--;)c=a[b],d=c.attr("type")||"no/type",0!==d.indexOf("mce-")&&c.attr("type","mce-"+d)});b.addNodeFilter("#cdata",function(a){for(var b=a.length,c;b--;)c=a[b],c.type=8,c.name="#comment",c.value="[CDATA["+c.value+"]]"});b.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(b){for(var c=b.length,d,e=a.schema.getNonEmptyElements();c--;)d=b[c],d.isEmpty(e)&&0===d.getAll("br").length&&(d.append(new r("br",1)).shortEnded=!0)});return b},z=function(a){a.settings.auto_focus&&
s.setEditorTimeout(a,function(){var b;b=!0===a.settings.auto_focus?a:a.editorManager.get(a.settings.auto_focus);b.destroyed||b.focus()},100)},A=function(a){a.bindPendingEventDelegates();a.initialized=!0;a.fire("init");a.focus(!0);a.nodeChanged({initial:!0});a.execCallback("init_instance_callback",a);z(a)};return{initContentBody:function(n,r){var s=n.settings,B=n.getElement(),z=n.getDoc(),E;s.inline||(n.getElement().style.visibility=n.orgVisibility);r||s.content_editable||(z.open(),z.write(n.iframeHTML),
z.close());s.content_editable&&(n.on("remove",function(){var a=this.getBody();x.removeClass(a,"mce-content-body");x.removeClass(a,"mce-edit-focus");x.setAttrib(a,"contentEditable",null)}),x.addClass(B,"mce-content-body"),n.contentDocument=z=s.content_document||h,n.contentWindow=s.content_window||g,n.bodyElement=B,s.content_document=s.content_window=null,s.root_name=B.nodeName.toLowerCase());B=n.getBody();B.disabled=!0;n.readonly=s.readonly;n.readonly||(n.inline&&"static"===x.getStyle(B,"position",
!0)&&(B.style.position="relative"),B.contentEditable=n.getParam("content_editable_state",!0));B.disabled=!1;n.editorUpload=new c(n);n.schema=new l(s);n.dom=new d(z,{keep_values:!0,url_converter:n.convertURL,url_converter_scope:n,hex_colors:s.force_hex_style_colors,class_filter:s.class_filter,update_styles:!0,root_element:n.inline?n.getBody():null,collect:s.content_editable,schema:n.schema,onSetAttrib:function(a){n.fire("SetAttrib",a)}});n.parser=u(n);n.serializer=new a(s,n);n.selection=new b(n.dom,
n.getWin(),n.serializer,n);n.formatter=new p(n);n.undoManager=new v(n);n._nodeChangeDispatcher=new t(n);n._selectionOverrides=new w(n);e.setup(n);m.setup(n);k.setup(n);n.fire("PreInit");s.browser_spellcheck||s.gecko_spellcheck||(z.body.spellcheck=!1,x.setAttrib(B,"spellcheck","false"));n.quirks=new y(n);n.fire("PostRender");s.directionality&&(B.dir=s.directionality);s.nowrap&&(B.style.whiteSpace="nowrap");if(s.protect)n.on("BeforeSetContent",function(a){q.each(s.protect,function(b){a.content=a.content.replace(b,
function(a){return"\x3c!--mce:protected "+escape(a)+"--\x3e"})})});n.on("SetContent",function(){n.addVisual(n.getBody())});if(s.padd_empty_editor)n.on("PostProcess",function(a){a.content=a.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")});n.load({initial:!0,format:"html"});n.startContent=n.getContent({format:"raw"});n.on("compositionstart compositionend",function(a){n.composing="compositionstart"===a.type});0<n.contentStyles.length&&(E="",q.each(n.contentStyles,
function(a){E+=a+"\r\n"}),n.dom.addStyle(E));(n.inline?x.styleSheetLoader:n.dom.styleSheetLoader).loadAll(n.contentCSS,function(a){A(n)},function(a){A(n);f.contentCssError(n,a)})}}});u("tinymce.core.PluginManager",["tinymce.core.AddOnManager"],function(h){return h.PluginManager});u("tinymce.core.ThemeManager",["tinymce.core.AddOnManager"],function(h){return h.ThemeManager});u("tinymce.core.init.Init","global!document global!window tinymce.core.dom.DOMUtils tinymce.core.Env tinymce.core.init.InitContentBody tinymce.core.PluginManager tinymce.core.ThemeManager tinymce.core.util.Tools tinymce.core.util.Uuid".split(" "),
function(h,g,e,d,b,a,c,f,k){var p=e.DOM,n=function(b,c,d){var e=a.get(d),g;g=a.urls[d]||b.documentBaseUrl.replace(/\/$/,"");d=f.trim(d);e&&-1===f.inArray(c,d)&&(f.each(a.dependencies(d),function(a){n(b,c,a)}),b.plugins[d]||(e=new e(b,g,b.$),b.plugins[d]=e,e.init&&(e.init(b,g),c.push(d))))},r=function(a){var b=[];f.each(a.settings.plugins.replace(/\-/g,"").split(/[ ,]/),function(c){n(a,b,c)})},l=function(a){var b,d=a.settings;d.theme&&("function"!=typeof d.theme?(d.theme=d.theme.replace(/-/,""),b=
c.get(d.theme),a.theme=new b(a,c.urls[d.theme]),a.theme.init&&a.theme.init(a,c.urls[d.theme]||a.documentBaseUrl.replace(/\/$/,""),a.$)):a.theme=d.theme)},m=function(a){var b,c,d,e,f=a.settings,g=a.getElement();f.render_ui&&a.theme&&(a.orgDisplay=g.style.display,"function"!=typeof f.theme?(b=f.width||p.getStyle(g,"width")||"100%",c=f.height||p.getStyle(g,"height")||g.offsetHeight,d=f.min_height||100,e=/^[0-9\.]+(|px)$/i,e.test(""+b)&&(b=Math.max(parseInt(b,10),100)),e.test(""+c)&&(c=Math.max(parseInt(c,
10),d)),b=a.theme.renderUI({targetNode:g,width:b,height:c,deltaWidth:f.delta_width,deltaHeight:f.delta_height}),f.content_editable||(c=(b.iframeHeight||c)+("number"===typeof c?b.deltaHeight||0:""),c<d&&(c=d))):(b=f.theme(a,g),b.editorContainer.nodeType&&(b.editorContainer.id=b.editorContainer.id||a.id+"_parent"),b.iframeContainer.nodeType&&(b.iframeContainer.id=b.iframeContainer.id||a.id+"_iframecontainer"),c=b.iframeHeight||g.offsetHeight),a.editorContainer=b.editorContainer,b.height=c);return b},
t=function(a,c){if(h.domain!==g.location.hostname&&d.ie&&12>d.ie){var e=k.uuid("mce");a[e]=function(){b.initContentBody(a)};p.setAttrib(c,"src",'javascript:(function(){document.open();document.domain="'+h.domain+'";var ed = window.parent.tinymce.get("'+a.id+'");document.write(ed.iframeHTML);document.close();ed.'+e+"(true);})()");return!0}return!1},w=function(a,b){var c=a.settings,e,f;a.iframeHTML=c.doctype+"<html><head>";c.document_base_url!=a.documentBaseUrl&&(a.iframeHTML+='<base href="'+a.documentBaseURI.getURI()+
'" />');!d.caretAfter&&c.ie7_compat&&(a.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />');a.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';e=c.body_id||"tinymce";-1!=e.indexOf("=")&&(e=a.getParam("body_id","","hash"),e=e[a.id]||e);f=c.body_class||"";-1!=f.indexOf("=")&&(f=a.getParam("body_class","","hash"),f=f[a.id]||"");c.content_security_policy&&(a.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+c.content_security_policy+
'" />');a.iframeHTML+='</head><body id="'+e+'" class="mce-content-body '+f+'" data-id="'+a.id+'"><br></body></html>';var g=p.create("iframe",{id:a.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:a.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:b.height,display:"block"}});g.onload=function(){g.onload=null;a.fire("load")};c=t(a,g);a.contentAreaContainer=b.iframeContainer;a.iframeElement=g;p.add(b.iframeContainer,
g);return c};return{init:function(a){var c=a.settings,d=a.getElement();a.rtl=c.rtl_ui||a.editorManager.i18n.rtl;a.editorManager.i18n.setCode(c.language);c.aria_label=c.aria_label||p.getAttrib(d,"aria-label",a.getLang("aria.rich_text_area"));a.fire("ScriptsLoaded");l(a);r(a);d=m(a);c.content_css&&f.each(f.explode(c.content_css),function(b){a.contentCSS.push(a.documentBaseURI.toAbsolute(b))});c.content_style&&a.contentStyles.push(c.content_style);if(c.content_editable)return b.initContentBody(a);c=
w(a,d);d.editorContainer&&(p.get(d.editorContainer).style.display=a.orgDisplay,a.hidden=p.isHidden(d.editorContainer));a.getElement().style.display="none";p.setAttrib(a.id,"aria-hidden",!0);c||b.initContentBody(a)}}});u("tinymce.core.init.Render","global!window tinymce.core.dom.DOMUtils tinymce.core.dom.EventUtils tinymce.core.dom.ScriptLoader tinymce.core.Env tinymce.core.ErrorReporter tinymce.core.init.Init tinymce.core.NotificationManager tinymce.core.PluginManager tinymce.core.ThemeManager tinymce.core.util.Tools tinymce.core.WindowManager".split(" "),
function(h,g,e,d,b,a,c,f,k,p,n,r){var l=g.DOM,m=function(b,e){var f=b.settings,g=d.ScriptLoader;f.language&&"en"!=f.language&&!f.language_url&&(f.language_url=b.editorManager.baseURL+"/langs/"+f.language+".js");f.language_url&&g.add(f.language_url);if(f.theme&&"function"!=typeof f.theme&&"-"!=f.theme.charAt(0)&&!p.urls[f.theme]){var h=f.theme_url,h=h?b.documentBaseURI.toAbsolute(h):"themes/"+f.theme+"/theme"+e+".js";p.load(f.theme,h)}n.isArray(f.plugins)&&(f.plugins=f.plugins.join(" "));n.each(f.external_plugins,
function(a,b){k.load(b,a);f.plugins+=" "+b});n.each(f.plugins.split(/[ ,]/),function(a){(a=n.trim(a))&&!k.urls[a]&&("-"===a.charAt(0)?(a=a.substr(1,a.length),a=k.dependencies(a),n.each(a,function(a){a=k.createUrl({prefix:"plugins/",resource:a,suffix:"/plugin"+e+".js"},a);k.load(a.resource,a)})):k.load(a,{prefix:"plugins/",resource:a,suffix:"/plugin"+e+".js"}))});g.loadQueue(function(){b.removed||c.init(b)},b,function(d){a.pluginLoadError(b,d[0]);b.removed||c.init(b)})};return{render:function(a){function c(){l.unbind(h,
"ready",c);a.render()}var d=a.settings,g=a.id;if(!e.Event.domLoaded)l.bind(h,"ready",c);else if(a.getElement()&&b.contentEditable){d.inline?a.inline=!0:(a.orgVisibility=a.getElement().style.visibility,a.getElement().style.visibility="hidden");var k=a.getElement().form||l.getParent(g,"form");k&&(a.formElement=k,d.hidden_input&&!/TEXTAREA|INPUT/i.test(a.getElement().nodeName)&&(l.insertAfter(l.create("input",{type:"hidden",name:g}),g),a.hasHiddenInput=!0),a.formEventDelegate=function(b){a.fire(b.type,
b)},l.bind(k,"submit reset",a.formEventDelegate),a.on("reset",function(){a.setContent(a.startContent,{format:"raw"})}),!d.submit_patch||k.submit.nodeType||k.submit.length||k._mceOldSubmit||(k._mceOldSubmit=k.submit,k.submit=function(){a.editorManager.triggerSave();a.setDirty(!1);return k._mceOldSubmit(k)}));a.windowManager=new r(a);a.notificationManager=new f(a);if("xml"===d.encoding)a.on("GetContent",function(a){a.save&&(a.content=l.encode(a.content))});if(d.add_form_submit_trigger)a.on("submit",
function(){a.initialized&&a.save()});d.add_unload_trigger&&(a._beforeUnload=function(){!a.initialized||a.destroyed||a.isHidden()||a.save({format:"raw",no_events:!0,set_dirty:!1})},a.editorManager.on("BeforeUnload",a._beforeUnload));a.editorManager.add(a);m(a,a.suffix)}}}});u("tinymce.core.Mode",[],function(){function h(d,b,a){try{d.getDoc().execCommand(b,!1,a)}catch(c){}}function g(d){var b,a;b=d.getBody();a=function(a){0<d.dom.getParents(a.target,"a").length&&a.preventDefault()};d.dom.bind(b,"click",
a);return{unbind:function(){d.dom.unbind(b,"click",a)}}}function e(d,b){d._clickBlocker&&(d._clickBlocker.unbind(),d._clickBlocker=null);b?(d._clickBlocker=g(d),d.selection.controlSelection.hideResizeRect(),d.readonly=!0,d.getBody().contentEditable=!1):(d.readonly=!1,d.getBody().contentEditable=!0,h(d,"StyleWithCSS",!1),h(d,"enableInlineTableEditing",!1),h(d,"enableObjectResizing",!1),d.focus(),d.nodeChanged())}return{setMode:function(d,b){if(b!=(d.readonly?"readonly":"design")){if(d.initialized)e(d,
"readonly"==b);else d.on("init",function(){e(d,"readonly"==b)});d.fire("SwitchMode",{mode:b})}}}});u("tinymce.core.ui.Sidebar",[],function(){return{add:function(h,g,e){var d=h.sidebars?h.sidebars:[];d.push({name:g,settings:e});h.sidebars=d}}});u("tinymce.core.Editor","tinymce.core.AddOnManager tinymce.core.dom.DomQuery tinymce.core.dom.DOMUtils tinymce.core.EditorCommands tinymce.core.EditorObservable tinymce.core.EditorSettings tinymce.core.Env tinymce.core.html.Serializer tinymce.core.init.Render tinymce.core.Mode tinymce.core.Shortcuts tinymce.core.ui.Sidebar tinymce.core.util.Tools tinymce.core.util.URI tinymce.core.util.Uuid".split(" "),
function(h,g,e,d,b,a,c,f,k,p,n,r,l,m,t){function w(b,e,f){var k=this,p,l;p=k.documentBaseUrl=f.documentBaseURL;l=f.baseURI;e=a.getEditorSettings(k,b,p,f.defaultSettings,e);k.settings=e;h.language=e.language||"en";h.languageLoad=e.language_load;h.baseURL=f.baseURL;k.id=b;k.setDirty(!1);k.plugins={};k.documentBaseURI=new m(e.document_base_url,{base_uri:l});k.baseURI=l;k.contentCSS=[];k.contentStyles=[];k.shortcuts=new n(k);k.loadedCSS={};k.editorCommands=new d(k);k.suffix=f.suffix;k.editorManager=f;
k.inline=e.inline;e.cache_suffix&&(c.cacheSuffix=e.cache_suffix.replace(/^[\?\&]+/,""));!1===e.override_viewport&&(c.overrideViewPort=!1);f.fire("SetupEditor",k);k.execCallback("setup",k);k.$=g.overrideDefaults(function(){return{context:k.inline?k.getBody():k.getDoc(),element:k.getBody()}})}var v=e.DOM,s=l.extend,u=l.each,q=l.trim,x=l.resolve,C=c.gecko,z=c.ie;w.prototype={render:function(){k.render(this)},focus:function(a){function b(a){return d.dom.getParent(a,function(a){return"true"===d.dom.getContentEditable(a)})}
var d=this,e=d.selection,f=d.settings.content_editable,g,h=d.getDoc(),k=d.getBody();if(!d.removed){if(!a){a=e.getRng();a.item&&(g=a.item(0));d.quirks.refreshContentEditable();a=b(e.getNode());if(d.$.contains(k,a)){a.focus();e.normalize();d.editorManager.setActive(d);return}f||(c.opera||d.getBody().focus(),d.getWin().focus());if(C||f){if(k.setActive)try{k.setActive()}catch(p){k.focus()}else d.selection.setRng(d.lastRng),k.focus();f&&e.normalize()}g&&g.ownerDocument==h&&(a=h.body.createControlRange(),
a.addElement(g),a.select())}d.editorManager.setActive(d)}},execCallback:function(a){var b=this.settings[a],c;if(b)return this.callbackLookup&&(c=this.callbackLookup[a])&&(b=c.func,c=c.scope),"string"===typeof b&&(c=(c=b.replace(/\.\w+$/,""))?x(c):0,b=x(b),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]={func:b,scope:c}),b.apply(c||this,Array.prototype.slice.call(arguments,1))},translate:function(a){if(a&&l.is(a,"string")){var b=this.settings.language||"en",c=this.editorManager.i18n;
a=c.data[b+"."+a]||a.replace(/\{\#([^\}]+)\}/g,function(a,d){return c.data[b+"."+d]||"{#"+d+"}"})}return this.editorManager.translate(a)},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(void 0!==b?b:"{#"+a+"}")},getParam:function(a,b,c){a=a in this.settings?this.settings[a]:b;var d;return"hash"===c?(d={},"string"===typeof a?u(0<a.indexOf("=")?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(a){a=a.split("=");1<a.length?d[q(a[0])]=q(a[1]):
d[q(a[0])]=q(a)}):d=a,d):a},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});b.text||b.icon||(b.icon=a);c.buttons=c.buttons||{};b.tooltip=b.tooltip||b.title;c.buttons[a]=b},addSidebar:function(a,b){return r.add(this,a,b)},addMenuItem:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});c.menuItems=c.menuItems||{};c.menuItems[a]=b},addContextToolbar:function(a,b){var c=this,
d;c.contextToolbars=c.contextToolbars||[];"string"==typeof a&&(d=a,a=function(a){return c.dom.is(a,d)});c.contextToolbars.push({id:t.uuid("mcet"),predicate:a,items:b})},addCommand:function(a,b,c){this.editorCommands.addCommand(a,b,c)},addQueryStateHandler:function(a,b,c){this.editorCommands.addQueryStateHandler(a,b,c)},addQueryValueHandler:function(a,b,c){this.editorCommands.addQueryValueHandler(a,b,c)},addShortcut:function(a,b,c,d){this.shortcuts.add(a,b,c,d)},execCommand:function(a,b,c,d){return this.editorCommands.execCommand(a,
b,c,d)},queryCommandState:function(a){return this.editorCommands.queryCommandState(a)},queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a)},queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(v.show(this.getContainer()),v.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var a=this.getDoc();this.hidden||(z&&a&&!this.inline&&a.execCommand("SelectAll"),
this.save(),this.inline?(this.getBody().contentEditable=!1,this==this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(v.hide(this.getContainer()),v.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(a,b){this.fire("ProgressState",{state:a,time:b})},load:function(a){var b=this.getElement(),c;if(this.removed)return"";if(b)return a=a||{},a.load=!0,c=this.setContent(void 0!==b.value?
b.value:b.innerHTML,a),a.element=b,a.no_events||this.fire("LoadContent",a),a.element=null,c},save:function(a){var b=this,c=b.getElement(),d,e;if(c&&b.initialized&&!b.removed)return a=a||{},a.save=!0,a.element=c,d=a.content=b.getContent(a),a.no_events||b.fire("SaveContent",a),"raw"==a.format&&b.fire("RawSaveContent",a),d=a.content,/TEXTAREA|INPUT/i.test(c.nodeName)?c.value=d:(b.inline||(c.innerHTML=d),(e=v.getParent(b.id,"form"))&&u(e.elements,function(a){if(a.name==b.id)return a.value=d,!1})),a.element=
c=null,!1!==a.set_dirty&&b.setDirty(!1),d},setContent:function(a,b){var c=this.getBody(),d,e;b=b||{};b.format=b.format||"html";b.set=!0;b.content=a;b.no_events||this.fire("BeforeSetContent",b);a=b.content;0===a.length||/^\s+$/.test(a)?(e=z&&11>z?"":'<br data-mce-bogus="1">',"TABLE"==c.nodeName?a="<tr><td>"+e+"</td></tr>":/^(UL|OL)$/.test(c.nodeName)&&(a="<li>"+e+"</li>"),(d=this.settings.forced_root_block)&&this.schema.isValidChild(c.nodeName.toLowerCase(),d.toLowerCase())?a=this.dom.createHTML(d,
this.settings.forced_root_block_attrs,e):z||a||(a='<br data-mce-bogus="1">'),this.dom.setHTML(c,a),this.fire("SetContent",b)):("raw"!==b.format&&(a=(new f({validate:this.validate},this.schema)).serialize(this.parser.parse(a,{isRootContent:!0}))),b.content=q(a),this.dom.setHTML(c,b.content),b.no_events||this.fire("SetContent",b));return b.content},getContent:function(a){var b;b=this.getBody();if(this.removed)return"";a=a||{};a.format=a.format||"html";a.get=!0;a.getInner=!0;a.no_events||this.fire("BeforeGetContent",
a);b="raw"==a.format?l.trim(this.serializer.getTrimmedContent()):"text"==a.format?b.innerText||b.textContent:this.serializer.serialize(b,a);a.content="text"!=a.format?q(b):b;a.no_events||this.fire("GetContent",a);return a.content},insertContent:function(a,b){b&&(a=s({content:a},b));this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return!this.isNotDirty},setDirty:function(a){var b=!this.isNotDirty;this.isNotDirty=!a;a&&a!=b&&this.fire("dirty")},setMode:function(a){p.setMode(this,a)},getContainer:function(){this.container||
(this.container=v.get(this.editorContainer||this.id+"_parent"));return this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){this.targetElm||(this.targetElm=v.get(this.id));return this.targetElm},getWin:function(){var a;!this.contentWindow&&(a=this.iframeElement)&&(this.contentWindow=a.contentWindow);return this.contentWindow},getDoc:function(){var a;!this.contentDocument&&(a=this.getWin())&&(this.contentDocument=a.document);return this.contentDocument},
getBody:function(){var a=this.getDoc();return this.bodyElement||(a?a.body:null)},convertURL:function(a,b,c){var d=this.settings;return d.urlconverter_callback?this.execCallback("urlconverter_callback",a,c,!0,b):!d.convert_urls||c&&"LINK"==c.nodeName||0===a.indexOf("file:")||0===a.length?a:d.relative_urls?this.documentBaseURI.toRelative(a):a=this.documentBaseURI.toAbsolute(a,d.remove_script_host)},addVisual:function(a){var b=this,c=b.settings,d=b.dom,e;a=a||b.getBody();void 0===b.hasVisual&&(b.hasVisual=
c.visual);u(d.select("table,a",a),function(a){var f;switch(a.nodeName){case "TABLE":e=c.visual_table_class||"mce-item-table";(f=d.getAttrib(a,"border"))&&"0"!=f||!b.hasVisual?d.removeClass(a,e):d.addClass(a,e);break;case "A":d.getAttrib(a,"href",!1)||(f=d.getAttrib(a,"name")||a.id,e=c.visual_anchor_class||"mce-item-anchor",f&&b.hasVisual?d.addClass(a,e):d.removeClass(a,e))}});b.fire("VisualAid",{element:a,hasVisual:b.hasVisual})},remove:function(){this.removed||(this.save(),this.removed=1,this.unbindAllNativeEvents(),
this.hasHiddenInput&&v.remove(this.getElement().nextSibling),this.inline||(z&&10>z&&this.getDoc().execCommand("SelectAll",!1,null),v.setStyle(this.id,"display",this.orgDisplay),this.getBody().onload=null),this.fire("remove"),this.editorManager.remove(this),v.remove(this.getContainer()),this._selectionOverrides.destroy(),this.editorUpload.destroy(),this.destroy())},destroy:function(a){if(!this.destroyed)if(a||this.removed){a||(this.editorManager.off("beforeunload",this._beforeUnload),this.theme&&this.theme.destroy&&
this.theme.destroy(),this.selection.destroy(),this.dom.destroy());if(a=this.formElement)a._mceOldSubmit&&(a.submit=a._mceOldSubmit,a._mceOldSubmit=null),v.unbind(a,"submit reset",this.formEventDelegate);this.iframeElement=this.targetElm=this.bodyElement=this.contentDocument=this.contentWindow=this.contentAreaContainer=this.formElement=this.container=this.editorContainer=null;this.selection&&(this.selection=this.selection.win=this.selection.dom=this.selection.dom.doc=null);this.destroyed=1}else this.remove()},
uploadImages:function(a){return this.editorUpload.uploadImages(a)},_scanForImages:function(){return this.editorUpload.scanForImages()}};s(w.prototype,b);return w});u("tinymce.core.util.I18n",["tinymce.core.util.Tools"],function(h){var g={},e="en";return{setCode:function(d){d&&(e=d,this.rtl=this.data[d]?"rtl"===this.data[d]._dir:!1)},getCode:function(){return e},rtl:!1,add:function(d,b){var a=g[d];a||(g[d]=a={});for(var c in b)a[c]=b[c];this.setCode(d)},translate:function(d){function b(b){return h.is(b,
"function")?Object.prototype.toString.call(b):a(b)?"":""+b}function a(a){return""===a||null===a||h.is(a,"undefined")}function c(a){a=b(a);return h.hasOwn(f,a)?b(f[a]):a}var f=g[e]||{};if(a(d))return"";if(h.is(d,"object")&&h.hasOwn(d,"raw"))return b(d.raw);if(h.is(d,"array")){var k=d.slice(1);d=c(d[0]).replace(/\{([0-9]+)\}/g,function(a,c){return h.hasOwn(k,c)?b(k[c]):a})}return c(d).replace(/{context:\w+}$/,"")},data:g}});u("tinymce.core.FocusManager",["tinymce.core.dom.DOMUtils","tinymce.core.util.Delay",
"tinymce.core.Env"],function(h,g,e){function d(d){function h(){try{return document.activeElement}catch(a){return document.body}}d.on("AddEditor",function(r){var l=r.editor;l.on("init",function(){if(l.inline||e.ie){if("onbeforedeactivate"in document&&9>e.ie)l.dom.bind(l.getBody(),"beforedeactivate",function(a){if(a.target==l.getBody())try{l.lastRng=l.selection.getRng()}catch(b){}});else l.on("nodechange mouseup keyup",function(a){var b=h();"nodechange"==a.type&&a.selectionChange||(b&&b.id==l.id+"_ifr"&&
(b=l.getBody()),l.dom.isChildOf(b,l.getBody())&&(l.lastRng=l.selection.getRng()))});e.webkit&&!b&&(b=function(){var a=d.activeEditor;a&&a.selection&&(a=a.selection.getRng())&&!a.collapsed&&(l.lastRng=a)},f.bind(document,"selectionchange",b))}});l.on("setcontent",function(){l.lastRng=null});l.on("mousedown",function(){l.selection.lastFocusBookmark=null});l.on("focusin",function(){var a=d.focusedEditor;if(l.selection.lastFocusBookmark){var b=l.selection.lastFocusBookmark,c;b.startContainer?(c=l.getDoc().createRange(),
c.setStart(b.startContainer,b.startOffset),c.setEnd(b.endContainer,b.endOffset)):c=b;l.selection.lastFocusBookmark=null;l.selection.setRng(c)}a!=l&&(a&&a.fire("blur",{focusedEditor:l}),d.setActive(l),d.focusedEditor=l,l.fire("focus",{blurredEditor:a}),l.focus(!0));l.lastRng=null});l.on("focusout",function(){g.setEditorTimeout(l,function(){var a=d.focusedEditor;k(l,h())||a!=l||(l.fire("blur",{focusedEditor:null}),d.focusedEditor=null,l.selection&&(l.selection.lastFocusBookmark=null))})});a||(a=function(a){var b=
d.activeEditor;a=a.target;if(b&&a.ownerDocument===document){if(b.selection&&a!==b.getBody()&&(!1===(!0===l.inline)||!1===l.dom.isChildOf(a,l.getBody()))){var c=b.selection,e;e=b.dom;var f=b.lastRng;e=f&&f.startContainer?e.isChildOf(f.startContainer,e.getRoot())&&e.isChildOf(f.endContainer,e.getRoot())?{startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset}:void 0:f;c.lastFocusBookmark=e}a===document.body||k(b,a)||d.focusedEditor!==b||(b.fire("blur",
{focusedEditor:null}),d.focusedEditor=null)}},f.bind(document,"focusin",a));l.inline&&!c&&(c=function(a){var b=d.activeEditor,c=b.dom;b.inline&&c&&!c.isChildOf(a.target,b.getBody())&&(a=b.selection.getRng(),a.collapsed||(b.lastRng=a))},f.bind(document,"mouseup",c))});d.on("RemoveEditor",function(e){d.focusedEditor==e.editor&&(d.focusedEditor=null);d.activeEditor||(f.unbind(document,"selectionchange",b),f.unbind(document,"focusin",a),f.unbind(document,"mouseup",c),b=a=c=null)})}var b,a,c,f=h.DOM,k=
function(a,b){var c=a?a.settings.custom_ui_selector:"";return null!==f.getParent(b,function(b){return d.isEditorUIElement(b)||(c?a.dom.is(b,c):!1)})};d.isEditorUIElement=function(a){return-1!==a.className.toString().indexOf("mce-")};d._isUIElement=k;return d});u("tinymce.core.LegacyInput",["tinymce.core.util.Tools"],function(h){var g=h.each,e=h.explode;return{register:function(d){d.on("AddEditor",function(b){var a=b.editor;a.on("preInit",function(){function b(a,c){g(c,function(b,c){b&&n.setStyle(a,
c,b)});n.rename(a,"span")}function d(b){n=a.dom;r.convert_fonts_to_spans&&g(n.select("font,u,strike",b.node),function(a){h[a.nodeName.toLowerCase()](n,a)})}var h,p,n,r=a.settings;r.inline_styles&&(p=e(r.font_size_legacy_values),h={font:function(a,d){b(d,{backgroundColor:d.style.backgroundColor,color:d.color,fontFamily:d.face,fontSize:p[parseInt(d.size,10)-1]})},u:function(d,e){"html4"===a.settings.schema&&b(e,{textDecoration:"underline"})},strike:function(a,d){b(d,{textDecoration:"line-through"})}},
a.on("PreProcess SetContent",d))})})}}});u("tinymce.core.EditorManager","tinymce.core.AddOnManager tinymce.core.dom.DomQuery tinymce.core.dom.DOMUtils tinymce.core.Editor tinymce.core.Env tinymce.core.ErrorReporter tinymce.core.FocusManager tinymce.core.LegacyInput tinymce.core.util.I18n tinymce.core.util.Observable tinymce.core.util.Promise tinymce.core.util.Tools tinymce.core.util.URI".split(" "),function(h,g,e,d,b,a,c,f,k,p,n,r,l){function m(a){u(z.editors,function(b){"scroll"===a.type?b.fire("ScrollWindow",
a):b.fire("ResizeWindow",a)})}function t(a,b){if(b!==A){if(b)g(window).on("resize scroll",m);else g(window).off("resize scroll",m);A=b}}function w(a){var b=z.editors,c;delete b[a.id];for(var d=0;d<b.length;d++)if(b[d]==a){b.splice(d,1);c=!0;break}z.activeEditor==a&&(z.activeEditor=b[0]);z.focusedEditor==a&&(z.focusedEditor=null);return c}var v=e.DOM,s=r.explode,u=r.each,q=r.extend,x=0,C,z,A=!1;z={$:g,majorVersion:"4",minorVersion:"6.4",releaseDate:"2017-06-13",editors:[],i18n:k,activeEditor:null,
setup:function(){var a,b,d="",e;b=l.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(b)&&(b=b.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(b)||(b+="/"));if(e=window.tinymce||window.tinyMCEPreInit)a=e.base||e.baseURL,d=e.suffix;else{for(var f=document.getElementsByTagName("script"),g=0;g<f.length;g++){e=f[g].src;var h=e.substring(e.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(e)){-1!=h.indexOf(".min")&&(d=".min");a=e.substring(0,e.lastIndexOf("/"));
break}}!a&&document.currentScript&&(e=document.currentScript.src,-1!=e.indexOf(".min")&&(d=".min"),a=e.substring(0,e.lastIndexOf("/")))}this.baseURL=(new l(b)).toAbsolute(a);this.documentBaseURL=b;this.baseURI=new l(this.baseURL);this.suffix=d;this.focusManager=new c(this)},overrideDefaults:function(a){var b;if(b=a.base_url)this.baseURL=(new l(this.documentBaseURL)).toAbsolute(b.replace(/\/+$/,"")),this.baseURI=new l(this.baseURL);if(b=a.suffix)this.suffix=b;this.defaultSettings=a;a=a.plugin_base_urls;
for(var c in a)h.PluginManager.urls[c]=a[c]},init:function(c){function e(a){var b=a.id;b||(b=(b=a.name)&&!v.get(b)?a.name:v.uniqueId(),a.setAttribute("id",b));return b}function f(a){var b=c[a];if(b)return b.apply(p,Array.prototype.slice.call(arguments,2))}function h(c){var d,e=[];if(b.ie&&11>b.ie)return a.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(c.types)return u(c.types,
function(a){e=e.concat(v.select(a.selector))}),e;if(c.selector)return v.select(c.selector);if(c.target)return[c.target];switch(c.mode){case "exact":d=c.elements||"";0<d.length&&u(s(d),function(a){var b;(b=v.get(a))?e.push(b):u(document.forms,function(b){u(b.elements,function(b){b.name===a&&(a="mce_editor_"+x++,v.setAttrib(b,"id",a),e.push(b))})})});break;case "textareas":case "specific_textareas":u(v.select("textarea"),function(a){c.editor_deselector&&(c.editor_deselector.constructor===RegExp?c.editor_deselector.test(a.className):
v.hasClass(a,c.editor_deselector))||(!c.editor_selector||(c.editor_selector.constructor===RegExp?c.editor_selector.test(a.className):v.hasClass(a,c.editor_selector)))&&e.push(a)})}return e}function k(){function b(a,c,e){a=new d(a,c,p);n.push(a);a.on("init",function(){++l===s.length&&t(n)});a.targetElm=a.targetElm||e;a.render()}var l=0,n=[],s;v.unbind(window,"ready",k);f("onpageload");s=g.unique(h(c));c.types?u(c.types,function(a){r.each(s,function(d){return v.is(d,a.selector)?(b(e(d),q({},c,a),d),
!1):!0})}):(r.each(s,function(a){(a=p.get(a.id))&&a.initialized&&!(a.getContainer()||a.getBody()).parentNode&&(w(a),a.unbindAllNativeEvents(),a.destroy(!0),a.removed=!0)}),s=r.grep(s,function(a){return!p.get(a.id)}),0===s.length?t([]):u(s,function(d){c.inline&&d.tagName.toLowerCase()in m?a.initError("Could not initialize inline editor on invalid inline target element",d):b(e(d),c,d)}))}var p=this,l,m;m=r.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu",
" ");var t=function(a){l=a};p.settings=c;v.bind(window,"ready",k);return new n(function(a){l?a(l):t=function(b){a(b)}})},get:function(a){return arguments.length?a in this.editors?this.editors[a]:null:this.editors},add:function(a){var b=this,c=b.editors;c[a.id]=a;c.push(a);t(c,!0);b.activeEditor=a;b.fire("AddEditor",{editor:a});C||(C=function(){b.fire("BeforeUnload")},v.bind(window,"beforeunload",C));return a},createEditor:function(a,b){return this.add(new d(a,b,this))},remove:function(a){var b=this,
c=b.editors,d;if(a)if("string"==typeof a)a=a.selector||a,u(v.select(a),function(a){(d=c[a.id])&&b.remove(d)});else{d=a;if(!c[d.id])return null;w(d)&&b.fire("RemoveEditor",{editor:d});c.length||v.unbind(window,"beforeunload",C);d.remove();t(c,0<c.length);return d}else for(a=c.length-1;0<=a;a--)b.remove(c[a])},execCommand:function(a,b,c){var e=this.get(c);switch(a){case "mceAddEditor":return this.get(c)||(new d(c,this.settings,this)).render(),!0;case "mceRemoveEditor":return e&&e.remove(),!0;case "mceToggleEditor":if(!e)return this.execCommand("mceAddEditor",
0,c),!0;e.isHidden()?e.show():e.hide();return!0}return this.activeEditor?this.activeEditor.execCommand(a,b,c):!1},triggerSave:function(){u(this.editors,function(a){a.save()})},addI18n:function(a,b){k.add(a,b)},translate:function(a){return k.translate(a)},setActive:function(a){var b=this.activeEditor;this.activeEditor!=a&&(b&&b.fire("deactivate",{relatedTarget:a}),a.fire("activate",{relatedTarget:b}));this.activeEditor=a}};q(z,p);z.setup();f.register(z);return z});u("tinymce.core.util.XHR",["tinymce.core.util.Observable",
"tinymce.core.util.Tools"],function(h,g){var e={send:function(d){function b(){!d.async||4==a.readyState||1E4<c++?(d.success&&1E4>c&&200==a.status?d.success.call(d.success_scope,""+a.responseText,a,d):d.error&&d.error.call(d.error_scope,1E4<c?"TIMED_OUT":"GENERAL",a,d),a=null):setTimeout(b,10)}var a,c=0;d.scope=d.scope||this;d.success_scope=d.success_scope||d.scope;d.error_scope=d.error_scope||d.scope;d.async=!1===d.async?!1:!0;d.data=d.data||"";e.fire("beforeInitialize",{settings:d});if(a=new XMLHttpRequest){a.overrideMimeType&&
a.overrideMimeType(d.content_type);a.open(d.type||(d.data?"POST":"GET"),d.url,d.async);d.crossDomain&&(a.withCredentials=!0);d.content_type&&a.setRequestHeader("Content-Type",d.content_type);d.requestheaders&&g.each(d.requestheaders,function(b){a.setRequestHeader(b.key,b.value)});a.setRequestHeader("X-Requested-With","XMLHttpRequest");a=e.fire("beforeSend",{xhr:a,settings:d}).xhr;a.send(d.data);if(!d.async)return b();setTimeout(b,10)}}};g.extend(e,h);return e});u("tinymce.core.util.JSON",[],function(){function h(g,
e){var d,b,a,c;e=e||'"';if(null===g)return"null";a=typeof g;if("string"==a)return b="\bb\tt\nn\ff\rr\"\"''\\\\",e+g.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(a,c){if('"'===e&&"'"===a)return a;d=b.indexOf(c);if(d+1)return"\\"+b.charAt(d+1);a=c.charCodeAt().toString(16);return"\\u"+"0000".substring(a.length)+a})+e;if("object"==a){if(g.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(g)){d=0;for(b="[";d<g.length;d++)b+=(0<d?",":"")+h(g[d],e);return b+"]"}b="{";for(c in g)g.hasOwnProperty(c)&&
(b+="function"!=typeof g[c]?(1<b.length?","+e:e)+c+e+":"+h(g[c],e):"");return b+"}"}return""+g}return{serialize:h,parse:function(g){try{return window[String.fromCharCode(101)+"val"]("("+g+")")}catch(e){}}}});u("tinymce.core.util.JSONRequest",["tinymce.core.util.JSON","tinymce.core.util.XHR","tinymce.core.util.Tools"],function(h,g,e){function d(a){this.settings=b({},a);this.count=0}var b=e.extend;d.sendRPC=function(a){return(new d).send(a)};d.prototype={send:function(a){var c=a.error,d=a.success;a=
b(this.settings,a);a.success=function(b,e){b=h.parse(b);"undefined"==typeof b&&(b={error:"JSON Parse error."});b.error?c.call(a.error_scope||a.scope,b.error,e):d.call(a.success_scope||a.scope,b.result)};a.error=function(b,d){c&&c.call(a.error_scope||a.scope,b,d)};a.data=h.serialize({id:a.id||"c"+this.count++,method:a.method,params:a.params});a.content_type="application/json";g.send(a)}};return d});u("tinymce.core.util.JSONP",["tinymce.core.dom.DOMUtils"],function(h){return{callbacks:{},count:0,send:function(g){var e=
this,d=h.DOM,b=void 0!==g.count?g.count:e.count,a="tinymce_jsonp_"+b;e.callbacks[b]=function(c){d.remove(a);delete e.callbacks[b];g.callback(c)};d.add(d.doc.body,"script",{id:a,src:g.url,type:"text/javascript"});e.count++}}});u("tinymce.core.util.LocalStorage",[],function(){function h(){a=[];for(var c in b)a.push(c);e.length=a.length}function g(){var a,e="";if(f){for(var g in b)a=b[g],e+=(e?",":"")+g.length.toString(32)+","+g+","+a.length.toString(32)+","+a;d.setAttribute(c,e);try{d.save(c)}catch(k){}h()}}
var e,d,b,a,c,f;try{if(window.localStorage)return localStorage}catch(k){}c="tinymce";d=document.documentElement;(f=!!d.addBehavior)&&d.addBehavior("#default#userData");e={key:function(b){return a[b]},getItem:function(a){return a in b?b[a]:null},setItem:function(a,c){b[a]=""+c;g()},removeItem:function(a){delete b[a];g()},clear:function(){b={};g()}};(function(){function a(b){var c;c=void 0!==b?m+b:g.indexOf(",",m);if(-1===c||c>g.length)return null;b=g.substring(m,c);m=c+1;return b}var e,g,k,m=0;b={};
if(f){d.load(c);g=d.getAttribute(c)||"";do{k=a();if(null===k)break;e=a(parseInt(k,32)||0);if(null!==e){k=a();if(null===k)break;k=a(parseInt(k,32)||0);e&&(b[e]=k)}}while(null!==e);h()}})();return e});u("tinymce.core.api.Compat","tinymce.core.dom.DOMUtils tinymce.core.dom.EventUtils tinymce.core.dom.ScriptLoader tinymce.core.AddOnManager tinymce.core.util.Tools tinymce.core.Env".split(" "),function(h,g,e,d,b,a){return{register:function(c){c.DOM=h.DOM;c.ScriptLoader=e.ScriptLoader;c.PluginManager=d.PluginManager;
c.ThemeManager=d.ThemeManager;c.dom=c.dom||{};c.dom.Event=g.Event;b.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(a){c[a]=b[a]});b.each(["isOpera","isWebKit","isIE","isGecko","isMac"],function(b){c[b]=a[b.substr(2).toLowerCase()]})}}});u("tinymce.core.util.Color",[],function(){var h=Math.min,g=Math.max,e=Math.round;return function(d){function b(b){var d;if("object"==typeof b)if("r"in b)c=b.r,f=b.g,k=b.b;
else{if("v"in b){d=b.h;var r=b.s;b=b.v;var l;d=(parseInt(d,10)||0)%360;r=parseInt(r,10)/100;b=parseInt(b,10)/100;r=g(0,h(r,1));b=g(0,h(b,1));if(0===r)c=f=k=e(255*b);else{d/=60;r*=b;l=r*(1-Math.abs(d%2-1));b-=r;switch(Math.floor(d)){case 0:c=r;f=l;k=0;break;case 1:c=l;f=r;k=0;break;case 2:c=0;f=r;k=l;break;case 3:c=0;f=l;k=r;break;case 4:c=l;f=0;k=r;break;case 5:c=r;f=0;k=l;break;default:c=f=k=0}c=e(255*(c+b));f=e(255*(f+b));k=e(255*(k+b))}}}else if(d=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(b))c=
parseInt(d[1],10),f=parseInt(d[2],10),k=parseInt(d[3],10);else if(d=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(b))c=parseInt(d[1],16),f=parseInt(d[2],16),k=parseInt(d[3],16);else if(d=/#([0-F])([0-F])([0-F])/gi.exec(b))c=parseInt(d[1]+d[1],16),f=parseInt(d[2]+d[2],16),k=parseInt(d[3]+d[3],16);c=0>c?0:255<c?255:c;f=0>f?0:255<f?255:f;k=0>k?0:255<k?255:k;return a}var a=this,c=0,f=0,k=0;d&&b(d);a.toRgb=function(){return{r:c,g:f,b:k}};a.toHsv=function(){var a;var b=c,d=f,l=k,m,b=b/255,d=d/255,l=l/255;m=
h(b,h(d,l));a=g(b,g(d,l));m==a?a={h:0,s:0,v:100*m}:(b=60*((b==m?3:l==m?1:5)-(b==m?d-l:l==m?b-d:l-b)/(a-m)),m=(a-m)/a,a={h:e(b),s:e(100*m),v:e(100*a)});return a};a.toHex=function(){function a(b){b=parseInt(b,10).toString(16);return 1<b.length?b:"0"+b}return"#"+a(c)+a(f)+a(k)};a.parse=b}});u("tinymce.core.ui.Layout",["tinymce.core.util.Class","tinymce.core.util.Tools"],function(h,g){return h.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=g.extend({},
this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var d=this.settings,b,a,c,f;b=d.firstControlClass;a=d.lastControlClass;e.each(function(e){e.classes.remove(b).remove(a).add(d.controlClass);e.visible()&&(c||(c=e),f=e)});c&&c.classes.add(b);f&&f.classes.add(a)},renderHtml:function(e){var d="";this.applyClasses(e.items());e.items().each(function(b){d+=b.renderHtml()});return d},recalc:function(){},postRender:function(){},isNative:function(){return!1}})});
u("tinymce.core.ui.AbsoluteLayout",["tinymce.core.ui.Layout"],function(h){return h.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(g){g.items().filter(":visible").each(function(e){var d=e.settings;e.layoutRect({x:d.x,y:d.y,w:d.w,h:d.h});e.recalc&&e.recalc()})},renderHtml:function(g){return'<div id="'+g._id+'-absend" class="'+g.classPrefix+'abs-end"></div>'+this._super(g)}})});u("tinymce.core.ui.Button",["tinymce.core.ui.Widget"],function(h){return h.extend({Defaults:{classes:"widget btn",
role:"button"},init:function(g){var e=this,d;e._super(g);g=e.settings;d=e.settings.size;e.on("click mousedown",function(b){b.preventDefault()});e.on("touchstart",function(b){e.fire("click",b);b.preventDefault()});g.subtype&&e.classes.add(g.subtype);d&&e.classes.add("btn-"+d);g.icon&&e.icon(g.icon)},icon:function(g){if(!arguments.length)return this.state.get("icon");this.state.set("icon",g);return this},repaint:function(){var g=this.getEl().firstChild;g&&(g=g.style,g.width=g.height="100%");this._super()},
renderHtml:function(){var g=this._id,e=this.classPrefix,d=this.state.get("icon"),b,a=this.state.get("text"),c="";(b=this.settings.image)?(d="none","string"!=typeof b&&(b=window.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="";a&&(this.classes.add("btn-has-text"),c='<span class="'+e+'txt">'+this.encode(a)+"</span>");d=d?e+"ico "+e+"i-"+d:"";return'<div id="'+g+'" class="'+this.classes+'" tabindex="-1"><button role="presentation" type="button" tabindex="-1">'+(d?'<i class="'+
d+'"'+b+"></i>":"")+c+"</button></div>"},bindStates:function(){function g(a){var c=d("span."+b,e.getEl());a?(c[0]||(d("button:first",e.getEl()).append('<span class="'+b+'"></span>'),c=d("span."+b,e.getEl())),c.html(e.encode(a))):c.remove();e.classes.toggle("btn-has-text",!!a)}var e=this,d=e.$,b=e.classPrefix+"txt";e.state.on("change:text",function(a){g(a.value)});e.state.on("change:icon",function(a){a=a.value;var b=e.classPrefix;a=(e.settings.icon=a)?b+"ico "+b+"i-"+e.settings.icon:"";var b=e.getEl().firstChild,
d=b.getElementsByTagName("i")[0];a?(d&&d==b.firstChild||(d=document.createElement("i"),b.insertBefore(d,b.firstChild)),d.className=a):d&&b.removeChild(d);g(e.state.get("text"))});return e._super()}})});u("tinymce.core.ui.ButtonGroup",["tinymce.core.ui.Container"],function(h){return h.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var g=this._layout;this.classes.add("btn-group");this.preRender();g.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+
this._id+'-body">'+(this.settings.html||"")+g.renderHtml(this)+"</div></div>"}})});u("tinymce.core.ui.Checkbox",["tinymce.core.ui.Widget"],function(h){return h.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(g){var e=this;e._super(g);e.on("click mousedown",function(d){d.preventDefault()});e.on("click",function(d){d.preventDefault();e.disabled()||e.checked(!e.checked())});e.checked(e.settings.checked)},checked:function(g){if(!arguments.length)return this.state.get("checked");
this.state.set("checked",g);return this},value:function(g){return arguments.length?this.checked(g):this.checked()},renderHtml:function(){var g=this._id,e=this.classPrefix;return'<div id="'+g+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+g+'-al" tabindex="-1"><i class="'+e+"ico "+e+'i-checkbox"></i><span id="'+g+'-al" class="'+e+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){function g(d){e.classes.toggle("checked",d);e.aria("checked",d)}var e=
this;e.state.on("change:text",function(d){e.getEl("al").firstChild.data=e.translate(d.value)});e.state.on("change:checked change:value",function(d){e.fire("change");g(d.value)});e.state.on("change:icon",function(d){d=d.value;var b=e.classPrefix;if("undefined"==typeof d)return e.settings.icon;d=(e.settings.icon=d)?b+"ico "+b+"i-"+e.settings.icon:"";var b=e.getEl().firstChild,a=b.getElementsByTagName("i")[0];d?(a&&a==b.firstChild||(a=document.createElement("i"),b.insertBefore(a,b.firstChild)),a.className=
d):a&&b.removeChild(a)});e.state.get("checked")&&g(!0);return e._super()}})});u("tinymce.core.ui.ComboBox","tinymce.core.ui.Widget tinymce.core.ui.Factory tinymce.core.ui.DomUtils tinymce.core.dom.DomQuery tinymce.core.util.VK tinymce.core.util.Tools".split(" "),function(h,g,e,d,b,a){return h.extend({init:function(a){var b=this;b._super(a);a=b.settings;b.classes.add("combobox");b.subinput=!0;b.ariaTarget="inp";a.menu=a.menu||a.values;a.menu&&(a.icon="caret");b.on("click",function(e){var g=e.target,
h=b.getEl();if(d.contains(h,g)||g==h)for(;g&&g!=h;)g.id&&-1!=g.id.indexOf("-open")&&(b.fire("action"),a.menu&&(b.showMenu(),e.aria&&b.menu.items()[0].focus())),g=g.parentNode});b.on("keydown",function(a){var c;13==a.keyCode&&"INPUT"===a.target.nodeName&&(a.preventDefault(),b.parents().reverse().each(function(a){if(a.toJSON)return c=a,!1}),b.fire("submit",{data:c.toJSON()}))});b.on("keyup",function(a){if("INPUT"==a.target.nodeName){var c=b.state.get("value"),d=a.target.value;d!==c&&(b.state.set("value",
d),b.fire("autocomplete",a))}});b.on("mouseover",function(a){var c=b.tooltip().moveTo(-65535);if(b.statusLevel()&&-1!==a.target.className.indexOf(b.classPrefix+"status")){var d=b.statusMessage()||"Ok",d=c.text(d).show().testMoveRel(a.target,["bc-tc","bc-tl","bc-tr"]);c.classes.toggle("tooltip-n","bc-tc"==d);c.classes.toggle("tooltip-nw","bc-tl"==d);c.classes.toggle("tooltip-ne","bc-tr"==d);c.moveRel(a.target,d)}})},statusLevel:function(a){0<arguments.length&&this.state.set("statusLevel",a);return this.state.get("statusLevel")},
statusMessage:function(a){0<arguments.length&&this.state.set("statusMessage",a);return this.state.get("statusMessage")},showMenu:function(){var a=this,b=a.settings;a.menu||(b=b.menu||[],b.length?b={type:"menu",items:b}:b.type=b.type||"menu",a.menu=g.create(b).parent(a).renderTo(a.getContainerElm()),a.fire("createmenu"),a.menu.reflow(),a.menu.on("cancel",function(b){b.control===a.menu&&a.focus()}),a.menu.on("show hide",function(b){b.control.items().each(function(b){b.active(b.value()==a.value())})}).fire("show"),
a.menu.on("select",function(b){a.value(b.control.value())}),a.on("focusin",function(b){"INPUT"==b.target.tagName.toUpperCase()&&a.menu.hide()}),a.aria("expanded",!0));a.menu.show();a.menu.layoutRect({w:a.layoutRect().w});a.menu.moveRel(a.getEl(),a.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var a=this.getEl(),b=this.getEl("open"),g=this.layoutRect(),h,n=0,a=a.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(n=parseInt(e.getRuntimeStyle(a,
"padding-right"),10)-parseInt(e.getRuntimeStyle(a,"padding-left"),10));b=b?g.w-e.getSize(b).width-10:g.w-10;g=document;g.all&&(!g.documentMode||8>=g.documentMode)&&(h=this.layoutRect().h-2+"px");d(a).css({width:b-n,lineHeight:h});this._super();return this},postRender:function(){var a=this;d(this.getEl("inp")).on("change",function(b){a.state.set("value",b.target.value);a.fire("change",b)});return a._super()},renderHtml:function(){var a=this._id,b=this.settings,d=this.classPrefix,e=this.state.get("value")||
"",g,h,l="",m="",t="";"spellcheck"in b&&(m+=' spellcheck="'+b.spellcheck+'"');b.maxLength&&(m+=' maxlength="'+b.maxLength+'"');b.size&&(m+=' size="'+b.size+'"');b.subtype&&(m+=' type="'+b.subtype+'"');t='<i id="'+a+'-status" class="mce-status mce-ico" style="display: none"></i>';this.disabled()&&(m+=' disabled="disabled"');(g=b.icon)&&"caret"!=g&&(g=d+"ico "+d+"i-"+b.icon);h=this.state.get("text");if(g||h)l='<div id="'+a+'-open" class="'+d+"btn "+d+'open" tabIndex="-1" role="button"><button id="'+
a+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=g?'<i class="'+g+'"></i>':'<i class="'+d+'caret"></i>')+(h?(g?" ":"")+h:"")+"</button></div>",this.classes.add("has-open");return'<div id="'+a+'" class="'+this.classes+'"><input id="'+a+'-inp" class="'+d+'textbox" value="'+this.encode(e,!1)+'" hidefocus="1"'+m+' placeholder="'+this.encode(b.placeholder)+'" />'+t+l+"</div>"},value:function(a){if(arguments.length)return this.state.set("value",a),this;this.state.get("rendered")&&this.state.set("value",
this.getEl("inp").value);return this.state.get("value")},showAutoComplete:function(b,d){var e=this;if(0===b.length)e.hideMenu();else{var h=function(a,b){return function(){e.fire("selectitem",{title:b,value:a})}};e.menu?e.menu.items().remove():e.menu=g.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(e).renderTo();a.each(b,function(a){e.menu.add({text:a.title,url:a.previewUrl,match:d,classes:"menu-item-ellipsis",onclick:h(a.value,a.title)})});e.menu.renderNew();e.hideMenu();e.menu.on("cancel",
function(a){a.control.parent()===e.menu&&(a.stopPropagation(),e.focus(),e.hideMenu())});e.menu.on("select",function(){e.focus()});var n=e.layoutRect().w;e.menu.layoutRect({w:n,minW:0,maxW:n});e.menu.reflow();e.menu.show();e.menu.moveRel(e.getEl(),e.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var a=this;a.state.on("change:value",function(b){a.getEl("inp").value!=b.value&&(a.getEl("inp").value=b.value)});a.state.on("change:disabled",
function(b){a.getEl("inp").disabled=b.value});a.state.on("change:statusLevel",function(b){var d=a.getEl("status"),f=a.classPrefix;b=b.value;e.css(d,"display","none"===b?"none":"");e.toggleClass(d,f+"i-checkmark","ok"===b);e.toggleClass(d,f+"i-warning","warn"===b);e.toggleClass(d,f+"i-error","error"===b);a.classes.toggle("has-status","none"!==b);a.repaint()});e.on(a.getEl("status"),"mouseleave",function(){a.tooltip().hide()});a.on("cancel",function(b){a.menu&&a.menu.visible()&&(b.stopPropagation(),
a.hideMenu())});var d=function(a,b){b&&0<b.items().length&&b.items().eq(a)[0].focus()};a.on("keydown",function(e){var g=e.keyCode;"INPUT"===e.target.nodeName&&(g===b.DOWN?(e.preventDefault(),a.fire("autocomplete"),d(0,a.menu)):g===b.UP&&(e.preventDefault(),d(-1,a.menu)))});return a._super()},remove:function(){d(this.getEl("inp")).off();this.menu&&this.menu.remove();this._super()}})});u("tinymce.core.ui.ColorBox",["tinymce.core.ui.ComboBox"],function(h){return h.extend({init:function(g){var e=this;
g.spellcheck=!1;g.onaction&&(g.icon="none");e._super(g);e.classes.add("colorbox");e.on("change keyup postrender",function(){e.repaintColor(e.value())})},repaintColor:function(g){var e=this.getEl("open");if(e=e?e.getElementsByTagName("i")[0]:null)try{e.style.background=g}catch(d){}},bindStates:function(){var g=this;g.state.on("change:value",function(e){g.state.get("rendered")&&g.repaintColor(e.value)});return g._super()}})});u("tinymce.core.ui.PanelButton",["tinymce.core.ui.Button","tinymce.core.ui.FloatPanel"],
function(h,g){return h.extend({showPanel:function(){var e=this,d=e.settings;e.active(!0);if(e.panel)e.panel.show();else{var b=d.panel;b.type&&(b={layout:"grid",items:b});b.role=b.role||"dialog";b.popover=!0;b.autohide=!0;b.ariaRoot=!0;e.panel=(new g(b)).on("hide",function(){e.active(!1)}).on("cancel",function(a){a.stopPropagation();e.focus();e.hidePanel()}).parent(e).renderTo(e.getContainerElm());e.panel.fire("show");e.panel.reflow()}d=e.panel.testMoveRel(e.getEl(),d.popoverAlign||(e.isRtl()?["bc-tc",
"bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl"]));e.panel.classes.toggle("start","bc-tl"===d);e.panel.classes.toggle("end","bc-tr"===d);e.panel.moveRel(e.getEl(),d)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var e=this;e.aria("haspopup",!0);e.on("click",function(d){d.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!d.aria)))});return e._super()},remove:function(){this.panel&&(this.panel.remove(),this.panel=null);return this._super()}})});
u("tinymce.core.ui.ColorButton",["tinymce.core.ui.PanelButton","tinymce.core.dom.DOMUtils"],function(h,g){var e=g.DOM;return h.extend({init:function(d){this._super(d);this.classes.add("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},resetColor:function(){this._color=null;this.getEl("preview").style.backgroundColor=null;return this},renderHtml:function(){var d=this._id,b=this.classPrefix,a=this.state.get("text"),c=this.settings.icon?
b+"ico "+b+"i-"+this.settings.icon:"",e=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"",g="";a&&(this.classes.add("btn-has-text"),g='<span class="'+b+'txt">'+this.encode(a)+"</span>");return'<div id="'+d+'" class="'+this.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(c?'<i class="'+c+'"'+e+"></i>":"")+'<span id="'+d+'-preview" class="'+b+'preview"></span>'+g+'</button><button type="button" class="'+
b+'open" hidefocus="1" tabindex="-1"> <i class="'+b+'caret"></i></button></div>'},postRender:function(){var d=this,b=d.settings.onclick;d.on("click",function(a){a.aria&&"down"==a.aria.key||a.control!=d||e.getParent(a.target,"."+d.classPrefix+"open")||(a.stopImmediatePropagation(),b.call(d,a))});delete d.settings.onclick;return d._super()}})});u("tinymce.core.ui.ColorPicker",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper","tinymce.core.ui.DomUtils","tinymce.core.util.Color"],function(h,g,e,
d){return h.extend({Defaults:{classes:"widget colorpicker"},init:function(b){this._super(b)},postRender:function(){function b(a,b){var c=e.getPos(a),d;d=b.pageX-c.x;c=b.pageY-c.y;d=Math.max(0,Math.min(d/a.clientWidth,1));c=Math.max(0,Math.min(c/a.clientHeight,1));return{x:d,y:c}}function a(a,b){e.css(l,{top:100*((360-a.h)/360)+"%"});b||e.css(t,{left:a.s+"%",top:100-a.v+"%"});m.style.background=(new d({s:100,v:100,h:a.h})).toHex();h.color().parse({s:a.s,v:a.v,h:a.h})}function c(c){c=b(m,c);n.s=100*
c.x;n.v=100*(1-c.y);a(n);h.fire("change")}function f(c){c=b(r,c);n=p.toHsv();n.h=360*(1-c.y);a(n,!0);h.fire("change")}var h=this,p=h.color(),n,r,l,m,t;r=h.getEl("h");l=h.getEl("hp");m=h.getEl("sv");t=h.getEl("svp");h._repaint=function(){n=p.toHsv();a(n)};h._super();h._svdraghelper=new g(h._id+"-sv",{start:c,drag:c});h._hdraghelper=new g(h._id+"-h",{start:f,drag:f});h._repaint()},rgb:function(){return this.color().toRgb()},value:function(b){if(arguments.length)this.color().parse(b),this._rendered&&
this._repaint();else return this.color().toHex()},color:function(){this._color||(this._color=new d);return this._color},renderHtml:function(){var b=this._id,a=this.classPrefix,c,d,e="",g;g="#ff0000 #ff0080 #ff00ff #8000ff #0000ff #0080ff #00ffff #00ff80 #00ff00 #80ff00 #ffff00 #ff8000 #ff0000".split(" ");c=0;for(d=g.length-1;c<d;c++)e+='<div class="'+a+'colorpicker-h-chunk" style="height:'+100/d+"%;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+g[c]+",endColorstr="+
g[c+1]+");-ms-filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+g[c]+",endColorstr="+g[c+1]+')"></div>';return'<div id="'+b+'" class="'+this.classes+'"><div id="'+b+'-sv" class="'+a+'colorpicker-sv"><div class="'+a+'colorpicker-overlay1"><div class="'+a+'colorpicker-overlay2"><div id="'+b+'-svp" class="'+a+'colorpicker-selector1"><div class="'+a+'colorpicker-selector2"></div></div></div></div></div>'+('<div id="'+b+'-h" class="'+a+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+
e+'<div id="'+b+'-hp" class="'+a+'colorpicker-h-marker"></div></div>')+"</div>"}})});u("tinymce.core.ui.Path",["tinymce.core.ui.Widget"],function(h){return h.extend({init:function(g){var e=this;g.delimiter||(g.delimiter="\u00bb");e._super(g);e.classes.add("path");e.canFocus=!0;e.on("click",function(d){var b;(b=d.target.getAttribute("data-index"))&&e.fire("select",{value:e.row()[b],index:b})});e.row(e.settings.row)},focus:function(){this.getEl().firstChild.focus();return this},row:function(g){if(!arguments.length)return this.state.get("row");
this.state.set("row",g);return this},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var g=this;g.state.on("change:row",function(e){g.innerHtml(g._getDataPathHtml(e.value))});return g._super()},_getDataPathHtml:function(g){g=g||[];var e,d,b="",a=this.classPrefix;e=0;for(d=g.length;e<d;e++)b+=(0<e?'<div class="'+a+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+
a+"path-item"+(e==d-1?" "+a+"last":"")+'" data-index="'+e+'" tabindex="-1" id="'+this._id+"-"+e+'" aria-level="'+(e+1)+'">'+g[e].name+"</div>";b||(b='<div class="'+a+'path-item">\u00a0</div>');return b}})});u("tinymce.core.ui.ElementPath",["tinymce.core.ui.Path"],function(h){return h.extend({postRender:function(){var g=this,e=g.settings.editor;!1!==e.settings.elementpath&&(g.on("select",function(d){e.focus();e.selection.select(this.row()[d.index].element);e.nodeChanged()}),e.on("nodeChange",function(d){var b=
[];d=d.parents;for(var a=d.length;a--;){var c;if(c=1==d[a].nodeType){a:{c=d[a];if(1===c.nodeType){if("BR"==c.nodeName||c.getAttribute("data-mce-bogus")){c=!0;break a}if("bookmark"===c.getAttribute("data-mce-type")){c=!0;break a}}c=!1}c=!c}if(c&&(c=e.fire("ResolveName",{name:d[a].nodeName.toLowerCase(),target:d[a]}),c.isDefaultPrevented()||b.push({name:c.name,element:d[a]}),c.isPropagationStopped()))break}g.row(b)}));return g._super()}})});u("tinymce.core.ui.FormItem",["tinymce.core.ui.Container"],
function(h){return h.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var g=this._layout,e=this.classPrefix;this.classes.add("formitem");g.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+e+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+g.renderHtml(this)+"</div></div>"}})});
u("tinymce.core.ui.Form",["tinymce.core.ui.Container","tinymce.core.ui.FormItem","tinymce.core.util.Tools"],function(h,g,e){return h.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var d=this,b=d.items();d.settings.formItemDefaults||(d.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}});b.each(function(a){var b;if(b=a.settings.label)b=
new g(e.extend({items:{type:"label",id:a._id+"-l",text:b,flex:0,forId:a._id,disabled:a.disabled()}},d.settings.formItemDefaults)),b.type="formitem",a.aria("labelledby",a._id+"-l"),"undefined"==typeof a.settings.flex&&(a.settings.flex=1),d.replace(a,b),b.add(a)})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();this.fromJSON(this.settings.data)},bindStates:function(){function d(){var a=0,c=[],d,e;if(!1!==b.settings.labelGapCalc)for(d="children"==
b.settings.labelGapCalc?b.find("formitem"):b.items(),d.filter("formitem").each(function(b){b=b.items()[0];var d=b.getEl().clientWidth;a=d>a?d:a;c.push(b)}),e=b.settings.labelGap||0,d=c.length;d--;)c[d].settings.minWidth=a+e}var b=this;b._super();b.on("show",d);d()}})});u("tinymce.core.ui.FieldSet",["tinymce.core.ui.Form"],function(h){return h.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var g=
this._layout,e=this.classPrefix;this.preRender();g.preRender(this);return'<fieldset id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+e+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+g.renderHtml(this)+"</div></fieldset>"}})});u("tinymce.core.content.LinkTargets","tinymce.core.dom.DOMUtils tinymce.core.dom.NodeType tinymce.core.util.Arr tinymce.core.util.Fun tinymce.core.util.Tools tinymce.core.util.Uuid".split(" "),
function(h,g,e,d,b,a){var c=b.trim,f=function(a,b,c,d,e){return{type:a,title:b,url:c,level:d,attach:e}},k=function(a){for(;a=a.parentNode;){var b=a.contentEditable;if(b&&"inherit"!==b)return g.isContentEditableTrue(a)}return!1},p=function(a){return a&&"A"===a.nodeName&&(a.id||a.name)&&k(a)&&!g.isContentEditableFalse(a)},n=function(a){return a&&/^(H[1-6])$/.test(a.nodeName)&&k(a)&&!g.isContentEditableFalse(a)},r=function(b){var c=b.id?b.id:a.uuid("h");return f("header",b.innerText||b.textContent,"#"+
c,b&&/^(H[1-6])$/.test(b.nodeName)?parseInt(b.nodeName.substr(1),10):0,function(){b.id=c})},l=function(a){var b=a.id||a.name;a=a.innerText||a.textContent;return f("anchor",a?a:"#"+b,"#"+b,0,d.noop)},m=function(a){return 0<c(a.title).length};return{find:function(a){a=h.DOM.select("h1,h2,h3,h4,h5,h6,a:not([href])",a);return e.filter(e.map(e.filter(a,n),r).concat(e.map(e.filter(a,p),l)),m)}}});u("tinymce.core.ui.FilePicker","global!window tinymce.core.content.LinkTargets tinymce.core.EditorManager tinymce.core.ui.ComboBox tinymce.core.util.Arr tinymce.core.util.Fun tinymce.core.util.Tools".split(" "),
function(h,g,e,d,b,a,c){var f={},k=function(a){return{title:a.title,value:{title:{raw:a.title},url:a.url,attach:a.attach}}},p=function(b,c){return{title:b,value:{title:b,url:c,attach:a.noop}}},n=function(a,c){return!b.find(c,function(b){return b.url===a})},r=function(a,b,c){a=b in a?a[b]:c;return!1===a?null:a},l=function(d,e,g,h){var l={title:"-"},t=function(d){d=b.filter(d[g],function(a){return n(a,e)});return c.map(d,function(b){return{title:b,value:{title:b,url:b,attach:a.noop}}})},u=function(a){var d=
b.filter(e,function(b){return b.type==a});return c.map(d,k)},w=function(){var a=u("anchor"),b=r(h,"anchor_top","#top"),c=r(h,"anchor_bottom","#bottom");null!==b&&a.unshift(p("<top>",b));null!==c&&a.push(p("<bottom>",c));return a},H=function(a){return b.reduce(a,function(a,b){return 0===a.length||0===b.length?a.concat(b):a.concat(l,b)},[])};return!1===h.typeahead_urls?[]:"file"===g?H([m(d,t(f)),m(d,u("header")),m(d,w())]):m(d,t(f))},m=function(a,b){var d=a.toLowerCase(),e=c.grep(b,function(a){return-1!==
a.title.toLowerCase().indexOf(d)});return 1===e.length&&e[0].title===a?[]:e},t=function(a,c,d,e){var h=function(b){var f=g.find(d),f=l(b,f,e,c);a.showAutoComplete(f,b)};a.on("autocomplete",function(){h(a.value())});a.on("selectitem",function(b){b=b.value;a.value(b.url);var c;c=b.title;c=c.raw?c.raw:c;"image"===e?a.fire("change",{meta:{alt:c,attach:b.attach}}):a.fire("change",{meta:{text:c,attach:b.attach}});a.focus()});a.on("click",function(b){0===a.value().length&&"INPUT"===b.target.nodeName&&h("")});
a.on("PostRender",function(){a.getRoot().on("submit",function(c){if(!c.isDefaultPrevented()){c=a.value();var d=f[e];/^https?/.test(c)&&(d?-1===b.indexOf(d,c)&&(f[e]=d.slice(0,5).concat(c)):f[e]=[c])}})})},u=function(a,b,c){var d=b.filepicker_validator_handler;if(d){var e=function(b){0===b.length?a.statusLevel("none"):d({url:b,type:c},function(b){var c;c=b.status;b=b.message;c="valid"===c?{status:"ok",message:b}:"unknown"===c?{status:"warn",message:b}:"invalid"===c?{status:"warn",message:b}:{status:"none",
message:""};a.statusMessage(c.message);a.statusLevel(c.status)})};a.state.on("change:value",function(a){e(a.value)})}};return d.extend({init:function(a){var b=this,d=h.tinymce?h.tinymce.activeEditor:e.activeEditor,f=d.settings,g,k,l,m=a.filetype;a.spellcheck=!1;(l=f.file_picker_types||f.file_browser_callback_types)&&(l=c.makeMap(l,/[, ]/));if(!l||l[m])k=f.file_picker_callback,!k||l&&!l[m]?(k=f.file_browser_callback,!k||l&&!l[m]||(g=function(){k(b.getEl("inp").id,b.value(),m,h)})):g=function(){var a=
b.fire("beforecall").meta,a=c.extend({filetype:m},a);k.call(d,function(a,c){b.value(a).fire("change",{meta:c})},b.value(),a)};g&&(a.icon="browse",a.onaction=g);b._super(a);t(b,f,d.getBody(),m);u(b,f,m)}})});u("tinymce.core.ui.FitLayout",["tinymce.core.ui.AbsoluteLayout"],function(h){return h.extend({recalc:function(g){var e=g.layoutRect(),d=g.paddingBox;g.items().filter(":visible").each(function(b){b.layoutRect({x:d.left,y:d.top,w:e.innerW-d.right-d.left,h:e.innerH-d.top-d.bottom});b.recalc&&b.recalc()})}})});
u("tinymce.core.ui.FlexLayout",["tinymce.core.ui.AbsoluteLayout"],function(h){return h.extend({recalc:function(g){var e,d,b,a,c,f,h,p,n,r,l,m,t,u=[],v,s,y,q,x,C,z,A,H,D,L,B,G,E,R,K,Q,T,X=Math.max,ba=Math.min;b=g.items().filter(":visible");a=g.layoutRect();c=g.paddingBox;f=g.settings;e=g.isRtl()?f.direction||"row-reversed":f.direction;h=f.align;p=g.isRtl()?f.pack||"end":f.pack;f=f.spacing||0;if("row-reversed"==e||"column-reverse"==e)b=b.set(b.toArray().reverse()),e=e.split("-")[0];"column"==e?(x="y",
y="h",q="minH",C="maxH",A="innerH",z="top",H="deltaH",D="contentH",R="left",G="w",L="x",B="innerW",E="minW",K="right",Q="deltaW",T="contentW"):(x="x",y="w",q="minW",C="maxW",A="innerW",z="left",H="deltaW",D="contentW",R="top",G="h",L="y",B="innerH",E="minH",K="bottom",Q="deltaH",T="contentH");r=a[A]-c[z]-c[z];e=s=n=0;for(d=b.length;e<d;e++)l=b[e],m=l.layoutRect(),t=l.settings,t=t.flex,r-=e<d-1?f:0,0<t&&(n+=t,m[C]&&u.push(l),m.flex=t),r-=m[q],t=c[R]+m[E]+c[K],t>s&&(s=t);v={};v[q]=0>r?a[q]-r+a[H]:a[A]-
r+a[H];v[E]=s+a[Q];v[D]=a[A]-r;v[T]=s;v.minW=ba(v.minW,a.maxW);v.minH=ba(v.minH,a.maxH);v.minW=X(v.minW,a.startMinWidth);v.minH=X(v.minH,a.startMinHeight);if(!a.autoResize||v.minW==a.minW&&v.minH==a.minH){g=r/n;e=0;for(d=u.length;e<d;e++)l=u[e],m=l.layoutRect(),l=m[C],t=m[q]+m.flex*g,t>l?(r-=m[C]-m[q],n-=m.flex,m.flex=0,m.maxFlexSize=l):m.maxFlexSize=0;g=r/n;u=c[z];v={};0===n&&("end"==p?u=r+c[z]:"center"==p?(u=Math.round(a[A]/2-(a[A]-r)/2)+c[z],0>u&&(u=c[z])):"justify"==p&&(u=c[z],f=Math.floor(r/
(b.length-1))));v[L]=c[R];e=0;for(d=b.length;e<d;e++)l=b[e],m=l.layoutRect(),t=m.maxFlexSize||m[q],"center"===h?v[L]=Math.round(a[B]/2-m[G]/2):"stretch"===h?(v[G]=X(m[E]||0,a[B]-c[R]-c[K]),v[L]=c[R]):"end"===h&&(v[L]=a[B]-m[G]-c.top),0<m.flex&&(t+=m.flex*g),v[y]=t,v[x]=u,l.layoutRect(v),l.recalc&&l.recalc(),u+=t+f}else if(v.w=v.minW,v.h=v.minH,g.layoutRect(v),this.recalc(g),null===g._lastRect&&(b=g.parent()))b._lastRect=null,b.recalc()}})});u("tinymce.core.ui.FlowLayout",["tinymce.core.ui.Layout"],
function(h){return h.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(g){g.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})});u("tinymce.core.fmt.FontInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","tinymce.core.dom.DOMUtils"],function(h,g,e,d,b){var a=function(a,c){return g.from(b.DOM.getStyle(c,a,!0))},c=function(b){return function(c,
h){return g.from(h).map(e.fromDom).filter(d.isElement).bind(function(d){var e;a:{for(e=d.dom();e!==c;){if(e.style[b]){e=e.style[b];e=""!==e?g.some(e):g.none();break a}e=e.parentNode}e=g.none()}return e.or(a(b,d.dom()))}).getOr("")}};return{getFontSize:c("fontSize"),getFontFamily:h.compose(function(a){return a.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},c("fontFamily")),toPt:function(a){return/[0-9.]+px$/.test(a)?Math.round(72*parseInt(a,10)/96)+"pt":a}}});u("tinymce.core.ui.FormatControls","tinymce.core.ui.Control tinymce.core.ui.Widget tinymce.core.ui.FloatPanel tinymce.core.util.Tools tinymce.core.util.Arr tinymce.core.dom.DOMUtils tinymce.core.EditorManager tinymce.core.Env tinymce.core.fmt.FontInfo".split(" "),
function(h,g,e,d,b,a,c,f,k){function p(a){a.on("ScriptsLoaded",function(){a.rtl&&(h.rtl=!0)})}function n(a){function b(c,d){return function(){var b=this;a.on("nodeChange",function(e){var f=a.formatter,g=null;r(e.parents,function(a){r(c,function(b){d?f.matchNode(a,d,{value:b.value})&&(g=b.value):f.matchNode(a,b.value)&&(g=b.value);if(g)return!1});if(g)return!1});b.value(g)})}}function c(b){return function(){var c=this;a.on("init nodeChange",function(d){var e,f=null;e=k.getFontFamily(a.getBody(),d.element);
r(b,function(a){a.value.toLowerCase()===e.toLowerCase()&&(f=a.value)});r(b,function(a){f||(a.value?a.value.split(",")[0]:"").toLowerCase()!==(e?e.split(",")[0]:"").toLowerCase()||(f=a.value)});c.value(f);!f&&e&&c.text(e?e.split(",")[0]:"")})}}function f(b){return function(){var c=this;a.on("init nodeChange",function(d){var e,f,g=null;e=k.getFontSize(a.getBody(),d.element);f=k.toPt(e);r(b,function(a){a.value===e?g=e:a.value===f&&(g=f)});c.value(g);g||c.text(f)})}}function g(a){a=a.replace(/;$/,"").split(";");
for(var b=a.length;b--;)a[b]=a[b].split("=");return a}function h(b){return function(){var c=this;if(a.formatter)a.formatter.formatChanged(b,function(a){c.active(a)});else a.on("init",function(){a.formatter.formatChanged(b,function(a){c.active(a)})})}}function p(b){return function(){function c(){var d="redo"==b?"hasRedo":"hasUndo";return a.undoManager?a.undoManager[d]():!1}var d=this;d.disabled(!c());a.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){d.disabled(a.readonly||!c())})}}
function n(b){b.control&&(b=b.control.value());b&&a.execCommand("mceToggleFormat",!1,b)}function u(b){var c=b.length;d.each(b,function(b){b.menu&&(b.hidden=0===u(b.menu));var d=b.format;d&&(b.hidden=!a.formatter.canApply(d));b.hidden&&c--});return c}function z(b){var c=b.items().length;b.items().each(function(b){b.menu&&b.visible(0<z(b.menu));!b.menu&&b.settings.menu&&b.visible(0<u(b.settings.menu));var d=b.settings.format;d&&b.visible(a.formatter.canApply(d));b.visible()||c--});return c}var A;A=
function(){function b(a){var e=[];if(a)return r(a,function(a){var f={text:a.title,icon:a.icon};if(a.items)f.menu=b(a.items);else{var g=a.format||"custom"+c++;a.format||(a.name=g,d.push(a));f.format=g;f.cmd=a.cmd}e.push(f)}),e}var c=0,d=[],e=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",
format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",
items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];a.on("init",function(){r(d,function(b){a.formatter.register(b.name,b)})});return{type:"menu",items:a.settings.style_formats_merge?a.settings.style_formats?b(e.concat(a.settings.style_formats)):b(e):b(a.settings.style_formats||e),onPostRender:function(b){a.fire("renderFormatsMenu",
{control:b.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return a.formatter.getCssText(this.settings.format)},onPostRender:function(){var b=this;b.parent().on("show",function(){var c;if(c=b.settings.format)b.disabled(!a.formatter.canApply(c)),b.active(a.formatter.match(c));(c=b.settings.cmd)&&b.active(a.queryCommandState(c))})},onclick:function(){this.settings.format&&n(this.settings.format);this.settings.cmd&&a.execCommand(this.settings.cmd)}}}}();r({bold:"Bold",
italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(b,c){a.addButton(c,{tooltip:b,onPostRender:h(c),onclick:function(){n(c)}})});r({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document",
"mceNewDocument"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1]})});r({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1],onPostRender:h(c)})});var H=function(a){0<a.length&&
"-"===a[0].text&&(a=a.slice(1));0<a.length&&"-"===a[a.length-1].text&&(a=a.slice(0,a.length-1));return a},D=function(b){var c;if("string"===typeof b)c=b.split(" ");else if(d.isArray(b))return l(d.map(b,D));b=d.grep(c,function(b){return"|"===b||b in a.menuItems});return d.map(b,function(b){return"|"===b?{text:"-"}:a.menuItems[b]})},L=function(b){var c=[{text:"-"}],e=d.grep(a.menuItems,function(a){return a.context===b});d.each(e,function(a){"before"==a.separator&&c.push({text:"|"});a.prependToContext?
c.unshift(a):c.push(a);"after"==a.separator&&c.push({text:"|"})});return c};a.addButton("undo",{tooltip:"Undo",onPostRender:p("undo"),cmd:"undo"});a.addButton("redo",{tooltip:"Redo",onPostRender:p("redo"),cmd:"redo"});a.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"});a.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:p("undo"),cmd:"undo"});a.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:p("redo"),cmd:"redo"});
a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var b=this;a.on("VisualAid",function(a){b.active(a.hasVisual)});b.active(a.hasVisual)},cmd:"mceToggleVisualAid"});a.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"});a.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(a.settings.insert_button_items?H(D(a.settings.insert_button_items)):H(L("insert")));this.menu.renderNew()}});r({cut:["Cut","Cut","Meta+X"],
copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(b,c){a.addMenuItem(c,{text:b[0],icon:c,shortcut:b[2],cmd:b[1]})});a.on("mousedown",function(){e.hideAll()});
a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:A,onShowMenu:function(){a.settings.style_formats_autohide&&z(this.menu)}});a.addButton("formatselect",function(){var c=[],d=g(a.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");r(d,function(b){c.push({text:b[0],value:b[1],textStyle:function(){return a.formatter.getCssText(b[1])}})});return{type:"listbox",text:d[0][0],values:c,fixedWidth:!0,onselect:n,
onPostRender:b(c)}});a.addButton("fontselect",function(){var b=[],d=g(a.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
r(d,function(a){b.push({text:{raw:a[0]},value:a[1],textStyle:-1==a[1].indexOf("dings")?"font-family:"+a[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:b,fixedWidth:!0,onPostRender:c(b),onselect:function(b){b.control.settings.value&&a.execCommand("FontName",!1,b.control.settings.value)}}});a.addButton("fontsizeselect",function(){var b=[];r((a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(a){var c=a,d=a;a=a.split("=");1<a.length&&
(c=a[0],d=a[1]);b.push({text:c,value:d})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:b,fixedWidth:!0,onPostRender:f(b),onclick:function(b){b.control.settings.value&&a.execCommand("FontSize",!1,b.control.settings.value)}}});a.addMenuItem("formats",{text:"Formats",menu:A})}var r=d.each,l=function(a){return b.reduce(a,function(a,b){return a.concat(b)},[])};c.on("AddEditor",function(b){b=b.editor;p(b);n(b);b.settings.ui_container&&(f.container=a.DOM.select(b.settings.ui_container)[0])});
h.translate=function(a){return c.translate(a)};g.tooltips=!f.iOS;return{}});u("tinymce.core.ui.GridLayout",["tinymce.core.ui.AbsoluteLayout"],function(h){return h.extend({recalc:function(g){var e,d,b,a,c,f,h,p,n,r,l,m,t,u,v,s,y,q,x=[],C=[],z;e=g.settings;a=g.items().filter(":visible");c=g.layoutRect();b=e.columns||Math.ceil(Math.sqrt(a.length));d=Math.ceil(a.length/b);v=e.spacingH||e.spacing||0;s=e.spacingV||e.spacing||0;y=e.alignH||e.align;q=e.alignV||e.align;t=g.paddingBox;z="reverseRows"in e?e.reverseRows:
g.isRtl();y&&"string"==typeof y&&(y=[y]);q&&"string"==typeof q&&(q=[q]);for(r=0;r<b;r++)x.push(0);for(h=0;h<d;h++)C.push(0);for(h=0;h<d;h++)for(r=0;r<b;r++){n=a[h*b+r];if(!n)break;p=n.layoutRect();n=p.minW;p=p.minH;x[r]=n>x[r]?n:x[r];C[h]=p>C[h]?p:C[h]}p=c.innerW-t.left-t.right;for(r=n=0;r<b;r++)n+=x[r]+(0<r?v:0),p-=(0<r?v:0)+x[r];l=c.innerH-t.top-t.bottom;for(h=r=0;h<d;h++)r+=C[h]+(0<h?s:0),l-=(0<h?s:0)+C[h];n+=t.left+t.right;r+=t.top+t.bottom;h={};h.minW=n+(c.w-c.innerW);h.minH=r+(c.h-c.innerH);
h.contentW=h.minW-c.deltaW;h.contentH=h.minH-c.deltaH;h.minW=Math.min(h.minW,c.maxW);h.minH=Math.min(h.minH,c.maxH);h.minW=Math.max(h.minW,c.startMinWidth);h.minH=Math.max(h.minH,c.startMinHeight);if(!c.autoResize||h.minW==c.minW&&h.minH==c.minH){c.autoResize&&(h=g.layoutRect(h),h.contentW=h.minW-c.deltaW,h.contentH=h.minH-c.deltaH);g="start"==e.packV?0:0<l?Math.floor(l/d):0;h=0;if(e=e.flexWidths)for(r=0;r<e.length;r++)h+=e[r];else h=b;h=p/h;for(r=0;r<b;r++)x[r]+=e?e[r]*h:h;l=t.top;for(h=0;h<d;h++){c=
t.left;e=C[h]+g;for(r=0;r<b;r++){p=z?h*b+b-1-r:h*b+r;n=a[p];if(!n)break;m=n.settings;p=n.layoutRect();f=Math.max(x[r],p.startMinWidth);p.x=c;p.y=l;u=m.alignH||(y?y[r]||y[0]:null);"center"==u?p.x=c+f/2-p.w/2:"right"==u?p.x=c+f-p.w:"stretch"==u&&(p.w=f);u=m.alignV||(q?q[r]||q[0]:null);"center"==u?p.y=l+e/2-p.h/2:"bottom"==u?p.y=l+e-p.h:"stretch"==u&&(p.h=e);n.layoutRect(p);c+=f+v;n.recalc&&n.recalc()}l+=e+s}}else if(h.w=h.minW,h.h=h.minH,g.layoutRect(h),this.recalc(g),null===g._lastRect&&(d=g.parent()))d._lastRect=
null,d.recalc()}})});u("tinymce.core.ui.Iframe",["tinymce.core.ui.Widget","tinymce.core.util.Delay"],function(h,g){return h.extend({renderHtml:function(){this.classes.add("iframe");this.canFocus=!1;return'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,d){var b=this,a=this.getEl().contentWindow.document.body;a?(a.innerHTML=e,d&&d()):g.setTimeout(function(){b.html(e)});
return this}})});u("tinymce.core.ui.InfoBox",["tinymce.core.ui.Widget"],function(h){return h.extend({init:function(g){this._super(g);this.classes.add("widget").add("infobox");this.canFocus=!1},severity:function(g){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(g)},help:function(g){this.state.set("help",g)},renderHtml:function(){var g=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+
'<button role="button" tabindex="-1"><i class="'+g+"ico "+g+'i-help"></i></button></div></div>'},bindStates:function(){var g=this;g.state.on("change:text",function(e){g.getEl("body").firstChild.data=g.encode(e.value);g.state.get("rendered")&&g.updateLayoutRect()});g.state.on("change:help",function(e){g.classes.toggle("has-help",e.value);g.state.get("rendered")&&g.updateLayoutRect()});return g._super()}})});u("tinymce.core.ui.Label",["tinymce.core.ui.Widget","tinymce.core.ui.DomUtils"],function(h,
g){return h.extend({init:function(e){this._super(e);this.classes.add("widget").add("label");this.canFocus=!1;e.multiline&&this.classes.add("autoscroll");e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();this.settings.multiline&&(g.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,g.getSize(this.getEl()).height));return e},repaint:function(){this.settings.multiline||
(this.getEl().style.lineHeight=this.layoutRect().h+"px");return this._super()},severity:function(e){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(e)},renderHtml:function(){var e,d=this.settings.forId,b=this.settings.html?this.settings.html:this.encode(this.state.get("text"));!d&&(e=this.settings.forName)&&(e=this.getRoot().find("#"+e)[0])&&(d=e._id);return d?'<label id="'+this._id+'" class="'+this.classes+'"'+(d?' for="'+d+'"':"")+">"+
b+"</label>":'<span id="'+this._id+'" class="'+this.classes+'">'+b+"</span>"},bindStates:function(){var e=this;e.state.on("change:text",function(d){e.innerHtml(e.encode(d.value));e.state.get("rendered")&&e.updateLayoutRect()});return e._super()}})});u("tinymce.core.ui.Toolbar",["tinymce.core.ui.Container"],function(h){return h.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(g){this._super(g);this.classes.add("toolbar")},postRender:function(){this.items().each(function(g){g.classes.add("toolbar-item")});
return this._super()}})});u("tinymce.core.ui.MenuBar",["tinymce.core.ui.Toolbar"],function(h){return h.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})});u("tinymce.core.ui.MenuButton",["tinymce.core.ui.Button","tinymce.core.ui.Factory","tinymce.core.ui.MenuBar"],function(h,g,e){var d=h.extend({init:function(b){this._renderOpen=!0;this._super(b);b=this.settings;this.classes.add("menubtn");b.fixedWidth&&this.classes.add("fixed-width");this.aria("haspopup",
!0);this.state.set("menu",b.menu||this.render())},showMenu:function(b){var a=this;if(a.menu&&a.menu.visible()&&!1!==b)return a.hideMenu();a.menu||(b=a.state.get("menu")||[],b.length?b={type:"menu",items:b}:b.type=b.type||"menu",a.menu=b.renderTo?b.parent(a).show().renderTo():g.create(b).parent(a).renderTo(),a.fire("createmenu"),a.menu.reflow(),a.menu.on("cancel",function(b){b.control.parent()===a.menu&&(b.stopPropagation(),a.focus(),a.hideMenu())}),a.menu.on("select",function(){a.focus()}),a.menu.on("show hide",
function(b){b.control==a.menu&&a.activeMenu("show"==b.type);a.aria("expanded","show"==b.type)}).fire("show"));a.menu.show();a.menu.layoutRect({w:a.layoutRect().w});a.menu.moveRel(a.getEl(),a.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);a.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(b){b.hideMenu&&b.hideMenu()}),this.menu.hide())},activeMenu:function(b){this.classes.toggle("active",b)},renderHtml:function(){var b=this._id,a=this.classPrefix,c=this.settings.icon,
d,g=this.state.get("text"),h="";(d=this.settings.image)?(c="none","string"!=typeof d&&(d=window.getSelection?d[0]:d[1]),d=" style=\"background-image: url('"+d+"')\""):d="";g&&(this.classes.add("btn-has-text"),h='<span class="'+a+'txt">'+this.encode(g)+"</span>");c=this.settings.icon?a+"ico "+a+"i-"+c:"";this.aria("role",this.parent()instanceof e?"menuitem":"button");return'<div id="'+b+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+b+'"><button id="'+b+'-open" role="presentation" type="button" tabindex="-1">'+
(c?'<i class="'+c+'"'+d+"></i>":"")+h+' <i class="'+a+'caret"></i></button></div>'},postRender:function(){var b=this;b.on("click",function(a){var c;if(c=a.control===b)a:{c=a.target;for(var d=b.getEl();c;){if(d===c){c=!0;break a}c=c.parentNode}c=!1}c&&(b.focus(),b.showMenu(!a.aria),a.aria&&b.menu.items().filter(":visible")[0].focus())});b.on("mouseenter",function(a){var c=a.control;a=b.parent();var e;c&&a&&c instanceof d&&c.parent()==a&&(a.items().filter("MenuButton").each(function(a){a.hideMenu&&
a!=c&&(a.menu&&a.menu.visible()&&(e=!0),a.hideMenu())}),e&&(c.focus(),c.showMenu()))});return b._super()},bindStates:function(){var b=this;b.state.on("change:menu",function(){b.menu&&b.menu.remove();b.menu=null});return b._super()},remove:function(){this._super();this.menu&&this.menu.remove()}});return d});u("tinymce.core.ui.MenuItem",["tinymce.core.ui.Widget","tinymce.core.ui.Factory","tinymce.core.Env","tinymce.core.util.Delay"],function(h,g,e,d){return h.extend({Defaults:{border:0,role:"menuitem"},
init:function(b){var a;this._super(b);b=this.settings;this.classes.add("menu-item");b.menu&&this.classes.add("menu-item-expand");b.preview&&this.classes.add("menu-item-preview");a=this.state.get("text");if("-"===a||"|"===a)this.classes.add("menu-item-sep"),this.aria("role","separator"),this.state.set("text","-");b.selectable&&(this.aria("role","menuitemcheckbox"),this.classes.add("menu-item-checkbox"),b.icon="selected");b.preview||b.selectable||this.classes.add("menu-item-normal");this.on("mousedown",
function(a){a.preventDefault()});b.menu&&!b.ariaHideMenu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var b=this,a=b.settings,c,d=b.parent();d.items().each(function(a){a!==b&&a.hideMenu()});a.menu&&((c=b.menu)?c.show():(c=a.menu,c.length?c={type:"menu",items:c}:c.type=c.type||"menu",d.settings.itemDefaults&&(c.itemDefaults=d.settings.itemDefaults),c=b.menu=g.create(c).parent(b).renderTo(),c.reflow(),c.on("cancel",function(a){a.stopPropagation();b.focus();
c.hide()}),c.on("show hide",function(a){a.control.items&&a.control.items().each(function(a){a.active(a.settings.selected)})}).fire("show"),c.on("hide",function(a){a.control===c&&b.classes.remove("selected")}),c.submenu=!0),c._parentMenu=d,c.classes.add("menu-sub"),a=c.testMoveRel(b.getEl(),b.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]),c.moveRel(b.getEl(),a),c.rel=a,a="menu-sub-"+a,c.classes.remove(c._lastRel).add(a),c._lastRel=a,b.classes.add("selected"),b.aria("expanded",
!0))},hideMenu:function(){this.menu&&(this.menu.items().each(function(b){b.hideMenu&&b.hideMenu()}),this.menu.hide(),this.aria("expanded",!1));return this},renderHtml:function(){function b(a){var b,c,d={},d=e.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"};a=a.split("+");for(b=0;b<a.length;b++)(c=d[a[b].toLowerCase()])&&(a[b]=c);return a.join("+")}function a(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c(b){var c=h.match||"";return c?b.replace(RegExp(a(c),
"gi"),function(a){return"!mce~match["+a+"]mce~match!"}):b}function d(b){return b.replace(RegExp(a("!mce~match["),"g"),"<b>").replace(RegExp(a("]mce~match!"),"g"),"</b>")}var g=this._id,h=this.settings,n=this.classPrefix,r=this.state.get("text"),l=this.settings.icon,m="",t=h.shortcut,u=this.encode(h.url),v="";l&&this.parent().classes.add("menu-has-icons");h.image&&(m=" style=\"background-image: url('"+h.image+"')\"");t&&(t=b(t));l=n+"ico "+n+"i-"+(this.settings.icon||"none");v="-"!==r?'<i class="'+
l+'"'+m+"></i>\u00a0":"";r=d(this.encode(c(r)));u=d(this.encode(c(u)));return'<div id="'+g+'" class="'+this.classes+'" tabindex="-1">'+v+("-"!==r?'<span id="'+g+'-text" class="'+n+'text">'+r+"</span>":"")+(t?'<div id="'+g+'-shortcut" class="'+n+'menu-shortcut">'+t+"</div>":"")+(h.menu?'<div class="'+n+'caret"></div>':"")+(u?'<div class="'+n+'menu-item-link">'+u+"</div>":"")+"</div>"},postRender:function(){var b=this,a=b.settings,c=a.textStyle;"function"==typeof c&&(c=c.call(this));if(c){var e=b.getEl("text");
e&&e.setAttribute("style",c)}b.on("mouseenter click",function(c){c.control===b&&(a.menu||"click"!==c.type?(b.showMenu(),c.aria&&b.menu.focus(!0)):(b.fire("select"),d.requestAnimationFrame(function(){b.parent().hideAll()})))});b._super();return b},hover:function(){this.parent().items().each(function(b){b.classes.remove("selected")});this.classes.toggle("selected",!0);return this},active:function(b){"undefined"!=typeof b&&this.aria("checked",b);return this._super(b)},remove:function(){this._super();
this.menu&&this.menu.remove()}})});u("tinymce.core.ui.Throbber",["tinymce.core.dom.DomQuery","tinymce.core.ui.Control","tinymce.core.util.Delay"],function(h,g,e){return function(d,b){var a=this,c,f=g.classPrefix,k;a.show=function(g,n){function r(){c&&(h(d).append('<div class="'+f+"throbber"+(b?" "+f+"throbber-inline":"")+'"></div>'),n&&n())}a.hide();c=!0;g?k=e.setTimeout(r,g):r();return a};a.hide=function(){var b=d.lastChild;e.clearTimeout(k);b&&-1!=b.className.indexOf("throbber")&&b.parentNode.removeChild(b);
c=!1;return a}}});u("tinymce.core.ui.Menu",["tinymce.core.ui.FloatPanel","tinymce.core.ui.MenuItem","tinymce.core.ui.Throbber","tinymce.core.util.Tools"],function(h,g,e,d){return h.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(b){b.autohide=!0;b.constrainToViewport=!0;"function"===typeof b.items&&(b.itemsFactory=b.items,b.items=[]);if(b.itemDefaults)for(var a=b.items,c=a.length;c--;)a[c]=d.extend({},b.itemDefaults,a[c]);
this._super(b);this.classes.add("menu")},repaint:function(){this.classes.toggle("menu-align",!0);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){this.hideAll();this.fire("select")},load:function(){function b(){a.throbber&&(a.throbber.hide(),a.throbber=null)}var a=this,c;a.settings.itemsFactory&&(a.throbber||(a.throbber=new e(a.getEl("body"),!0),0===a.items().length?(a.throbber.show(),a.fire("loading")):a.throbber.show(100,function(){a.items().remove();
a.fire("loading")}),a.on("hide close",b)),a.requestTime=c=(new Date).getTime(),a.settings.itemsFactory(function(d){0===d.length?a.hide():a.requestTime===c&&(a.getEl().style.width="",a.getEl("body").style.width="",b(),a.items().remove(),a.getEl("body").innerHTML="",a.add(d),a.renderNew(),a.fire("loaded"))}))},hideAll:function(){this.find("menuitem").exec("hideMenu");return this._super()},preRender:function(){var b=this;b.items().each(function(a){a=a.settings;if(a.icon||a.image||a.selectable)return b._hasIcons=
!0,!1});if(b.settings.itemsFactory)b.on("postrender",function(){b.settings.itemsFactory&&b.load()});return b._super()}})});u("tinymce.core.ui.ListBox",["tinymce.core.ui.MenuButton","tinymce.core.ui.Menu"],function(h,g){return h.extend({init:function(e){function d(a){for(var g=0;g<a.length;g++){if(c=a[g].selected||e.value===a[g].value)return f=f||a[g].text,b.state.set("value",a[g].value),!0;if(a[g].menu&&d(a[g].menu))return!0}}var b=this,a,c,f,g;b._super(e);e=b.settings;if(b._values=a=e.values)"undefined"!=
typeof e.value&&d(a),!c&&0<a.length&&(f=a[0].text,b.state.set("value",a[0].value)),b.state.set("menu",a);b.state.set("text",e.text||f);b.classes.add("listbox");b.on("select",function(a){var c=a.control;g&&(a.lastControl=g);e.multiple?c.active(!c.active()):b.value(a.control.value());g=c})},bindStates:function(){function e(a,b){a instanceof g&&a.items().each(function(a){a.hasMenus()||a.active(a.value()===b)})}function d(a,b){var e;if(a)for(var g=0;g<a.length;g++){if(a[g].value===b)return a[g];if(a[g].menu&&
(e=d(a[g].menu,b)))return e}}var b=this;b.on("show",function(a){e(a.control,b.value())});b.state.on("change:value",function(a){(a=d(b.state.get("menu"),a.value))?b.text(a.text):b.text(b.settings.text)});return b._super()}})});u("tinymce.core.ui.Radio",["tinymce.core.ui.Checkbox"],function(h){return h.extend({Defaults:{classes:"radio",role:"radio"}})});u("tinymce.core.ui.ResizeHandle",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper"],function(h,g){return h.extend({renderHtml:function(){var e=
this.classPrefix;this.classes.add("resizehandle");"both"==this.settings.direction&&this.classes.add("resizehandle-both");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var e=this;e._super();e.resizeDragHelper=new g(this._id,{start:function(){e.fire("ResizeStart")},drag:function(d){"both"!=e.settings.direction&&(d.deltaX=0);e.fire("Resize",d)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){this.resizeDragHelper&&
this.resizeDragHelper.destroy();return this._super()}})});u("tinymce.core.ui.SelectBox",["tinymce.core.ui.Widget"],function(h){function g(e){var d="";if(e)for(var b=0;b<e.length;b++)d+='<option value="'+e[b]+'">'+e[b]+"</option>";return d}return h.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var d=this;d._super(e);d.settings.size&&(d.size=d.settings.size);d.settings.options&&(d._options=d.settings.options);d.on("keydown",function(b){var a;13==b.keyCode&&(b.preventDefault(),
d.parents().reverse().each(function(b){if(b.toJSON)return a=b,!1}),d.fire("submit",{data:a.toJSON()}))})},options:function(e){if(!arguments.length)return this.state.get("options");this.state.set("options",e);return this},renderHtml:function(){var e,d="";e=g(this._options);this.size&&(d=' size = "'+this.size+'"');return'<select id="'+this._id+'" class="'+this.classes+'"'+d+">"+e+"</select>"},bindStates:function(){var e=this;e.state.on("change:options",function(d){e.getEl().innerHTML=g(d.value)});return e._super()}})});
u("tinymce.core.ui.Slider",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper","tinymce.core.ui.DomUtils"],function(h,g,e){function d(a,b,d){a<b&&(a=b);a>d&&(a=d);return a}function b(a,b){var d,g,h,n;"v"==a.settings.orientation?(h="top",g="height",d="h"):(h="left",g="width",d="w");n=a.getEl("handle");d=((a.layoutRect()[d]||100)-e.getSize(n)[g])*((b-a._minValue)/(a._maxValue-a._minValue))+"px";n.style[h]=d;n.style.height=a.layoutRect().h+"px";n.setAttribute("aria-valuenow",b);h=""+a.settings.previewFilter(b);
n.setAttribute("aria-valuetext",h);n.setAttribute("aria-valuemin",a._minValue);n.setAttribute("aria-valuemax",a._maxValue)}return h.extend({init:function(a){a.previewFilter||(a.previewFilter=function(a){return Math.round(100*a)/100});this._super(a);this.classes.add("slider");"v"==a.orientation&&this.classes.add("vertical");this._minValue=a.minValue||0;this._maxValue=a.maxValue||100;this._initValue=this.state.get("value")},renderHtml:function(){var a=this._id;return'<div id="'+a+'" class="'+this.classes+
'"><div id="'+a+'-handle" class="'+this.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var a=this,b,f,h,p,n,r;b=a._minValue;f=a._maxValue;"v"==a.settings.orientation?(h="screenY",p="top",n="height",r="h"):(h="screenX",p="left",n="width",r="w");a._super();(function(b,c){function e(f){var g;g=a.value();g=((g+b)/(c-b)+0.05*f)*(c-b)-b;g=d(g,b,c);a.value(g);a.fire("dragstart",{value:g});a.fire("drag",
{value:g});a.fire("dragend",{value:g})}a.on("keydown",function(a){switch(a.keyCode){case 37:case 38:e(-1);break;case 39:case 40:e(1)}})})(b,f,a.getEl("handle"));(function(b,c,f){var u,v,s,y,q;a._dragHelper=new g(a._id,{handle:a._id+"-handle",start:function(b){u=b[h];v=parseInt(a.getEl("handle").style[p],10);s=(a.layoutRect()[r]||100)-e.getSize(f)[n];a.fire("dragstart",{value:q})},drag:function(e){y=d(v+(e[h]-u),0,s);f.style[p]=y+"px";q=b+y/s*(c-b);a.value(q);a.tooltip().text(""+a.settings.previewFilter(q)).show().moveRel(f,
"bc tc");a.fire("drag",{value:q})},stop:function(){a.tooltip().hide();a.fire("dragend",{value:q})}})})(b,f,a.getEl("handle"))},repaint:function(){this._super();b(this,this.value())},bindStates:function(){var a=this;a.state.on("change:value",function(c){b(a,c.value)});return a._super()}})});u("tinymce.core.ui.Spacer",["tinymce.core.ui.Widget"],function(h){return h.extend({renderHtml:function(){this.classes.add("spacer");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})});
u("tinymce.core.ui.SplitButton",["tinymce.core.ui.MenuButton","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery"],function(h,g,e){return h.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var d=this.getEl(),b=this.layoutRect(),a;this._super();a=d.firstChild;d=d.lastChild;e(a).css({width:b.w-g.getSize(d).width,height:b.h-2});e(d).css({height:b.h-2});return this},activeMenu:function(d){e(this.getEl().lastChild).toggleClass(this.classPrefix+"active",d)},renderHtml:function(){var d=
this._id,b=this.classPrefix,a,c=this.state.get("icon"),e=this.state.get("text"),g="";(a=this.settings.image)?(c="none","string"!=typeof a&&(a=window.getSelection?a[0]:a[1]),a=" style=\"background-image: url('"+a+"')\""):a="";c=this.settings.icon?b+"ico "+b+"i-"+c:"";e&&(this.classes.add("btn-has-text"),g='<span class="'+b+'txt">'+this.encode(e)+"</span>");return'<div id="'+d+'" class="'+this.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(c?'<i class="'+
c+'"'+a+"></i>":"")+g+'</button><button type="button" class="'+b+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?(c?"\u00a0":"")+this._menuBtnText:"")+' <i class="'+b+'caret"></i></button></div>'},postRender:function(){var d=this.settings.onclick;this.on("click",function(b){var a=b.target;if(b.control==this)for(;a;){if(b.aria&&"down"!=b.aria.key||"BUTTON"==a.nodeName&&-1==a.className.indexOf("open")){b.stopImmediatePropagation();d&&d.call(this,b);break}a=a.parentNode}});delete this.settings.onclick;
return this._super()}})});u("tinymce.core.ui.StackLayout",["tinymce.core.ui.FlowLayout"],function(h){return h.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})});u("tinymce.core.ui.TabPanel",["tinymce.core.ui.Panel","tinymce.core.dom.DomQuery","tinymce.core.ui.DomUtils"],function(h,g,e){return h.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(d){var b;this.activeTabId&&(b=this.getEl(this.activeTabId),
g(b).removeClass(this.classPrefix+"active"),b.setAttribute("aria-selected","false"));this.activeTabId="t"+d;b=this.getEl("t"+d);b.setAttribute("aria-selected","true");g(b).addClass(this.classPrefix+"active");this.items()[d].show().fire("showtab");this.reflow();this.items().each(function(a,b){d!=b&&a.hide()})},renderHtml:function(){var d=this,b=d._layout,a="",c=d.classPrefix;d.preRender();b.preRender(d);d.items().each(function(b,e){var g=d._id+"-t"+e;b.aria("role","tabpanel");b.aria("labelledby",g);
a+='<div id="'+g+'" class="'+c+'tab" unselectable="on" role="tab" aria-controls="'+b._id+'" aria-selected="false" tabIndex="-1">'+d.encode(b.settings.title)+"</div>"});return'<div id="'+d._id+'" class="'+d.classes+'" hidefocus="1" tabindex="-1"><div id="'+d._id+'-head" class="'+c+'tabs" role="tablist">'+a+'</div><div id="'+d._id+'-body" class="'+d.bodyClasses+'">'+b.renderHtml(d)+"</div></div>"},postRender:function(){var d=this;d._super();d.settings.activeTab=d.settings.activeTab||0;d.activateTab(d.settings.activeTab);
this.on("click",function(b){var a=b.target.parentNode;if(a&&a.id==d._id+"-head")for(var c=a.childNodes.length;c--;)a.childNodes[c]==b.target&&d.activateTab(c)})},initLayoutRect:function(){var d,b,a;b=e.getSize(this.getEl("head")).width;b=0>b?0:b;a=0;this.items().each(function(c){b=Math.max(b,c.layoutRect().minW);a=Math.max(a,c.layoutRect().minH)});this.items().each(function(c){c.settings.x=0;c.settings.y=0;c.settings.w=b;c.settings.h=a;c.layoutRect({x:0,y:0,w:b,h:a})});var c=e.getSize(this.getEl("head")).height;
this.settings.minWidth=b;this.settings.minHeight=a+c;d=this._super();d.deltaH+=c;d.innerH=d.h-d.deltaH;return d}})});u("tinymce.core.ui.TextBox",["tinymce.core.ui.Widget","tinymce.core.util.Tools","tinymce.core.ui.DomUtils"],function(h,g,e){return h.extend({init:function(d){var b=this;b._super(d);b.classes.add("textbox");d.multiline?b.classes.add("multiline"):(b.on("keydown",function(a){var c;13==a.keyCode&&(a.preventDefault(),b.parents().reverse().each(function(a){if(a.toJSON)return c=a,!1}),b.fire("submit",
{data:c.toJSON()}))}),b.on("keyup",function(a){b.state.set("value",a.target.value)}))},repaint:function(){var d,b,a,c;a=0;var e;d=this.getEl().style;b=this._layoutRect;e=this._lastRepaintRect||{};c=document;!this.settings.multiline&&c.all&&(!c.documentMode||8>=c.documentMode)&&(d.lineHeight=b.h-a+"px");a=this.borderBox;c=a.left+a.right+8;a=a.top+a.bottom+(this.settings.multiline?8:0);b.x!==e.x&&(d.left=b.x+"px",e.x=b.x);b.y!==e.y&&(d.top=b.y+"px",e.y=b.y);b.w!==e.w&&(d.width=b.w-c+"px",e.w=b.w);b.h!==
e.h&&(d.height=b.h-a+"px",e.h=b.h);this._lastRepaintRect=e;this.fire("repaint",{},!1);return this},renderHtml:function(){var d=this.settings,b,a;b={id:this._id,hidefocus:"1"};g.each("rows spellcheck maxLength size readonly min max step list pattern placeholder required multiple".split(" "),function(a){b[a]=d[a]});this.disabled()&&(b.disabled="disabled");d.subtype&&(b.type=d.subtype);a=e.create(d.multiline?"textarea":"input",b);a.value=this.state.get("value");a.className=this.classes;return a.outerHTML},
value:function(d){if(arguments.length)return this.state.set("value",d),this;this.state.get("rendered")&&this.state.set("value",this.getEl().value);return this.state.get("value")},postRender:function(){var d=this;d.getEl().value=d.state.get("value");d._super();d.$el.on("change",function(b){d.state.set("value",b.target.value);d.fire("change",b)})},bindStates:function(){var d=this;d.state.on("change:value",function(b){d.getEl().value!=b.value&&(d.getEl().value=b.value)});d.state.on("change:disabled",
function(b){d.getEl().disabled=b.value});return d._super()},remove:function(){this.$el.off();this._super()}})});u("tinymce.core.ui.Api","tinymce.core.ui.Selector tinymce.core.ui.Collection tinymce.core.ui.ReflowQueue tinymce.core.ui.Control tinymce.core.ui.Factory tinymce.core.ui.KeyboardNavigation tinymce.core.ui.Container tinymce.core.ui.DragHelper tinymce.core.ui.Scrollable tinymce.core.ui.Panel tinymce.core.ui.Movable tinymce.core.ui.Resizable tinymce.core.ui.FloatPanel tinymce.core.ui.Window tinymce.core.ui.MessageBox tinymce.core.ui.Tooltip tinymce.core.ui.Widget tinymce.core.ui.Progress tinymce.core.ui.Notification tinymce.core.ui.Layout tinymce.core.ui.AbsoluteLayout tinymce.core.ui.Button tinymce.core.ui.ButtonGroup tinymce.core.ui.Checkbox tinymce.core.ui.ComboBox tinymce.core.ui.ColorBox tinymce.core.ui.PanelButton tinymce.core.ui.ColorButton tinymce.core.ui.ColorPicker tinymce.core.ui.Path tinymce.core.ui.ElementPath tinymce.core.ui.FormItem tinymce.core.ui.Form tinymce.core.ui.FieldSet tinymce.core.ui.FilePicker tinymce.core.ui.FitLayout tinymce.core.ui.FlexLayout tinymce.core.ui.FlowLayout tinymce.core.ui.FormatControls tinymce.core.ui.GridLayout tinymce.core.ui.Iframe tinymce.core.ui.InfoBox tinymce.core.ui.Label tinymce.core.ui.Toolbar tinymce.core.ui.MenuBar tinymce.core.ui.MenuButton tinymce.core.ui.MenuItem tinymce.core.ui.Throbber tinymce.core.ui.Menu tinymce.core.ui.ListBox tinymce.core.ui.Radio tinymce.core.ui.ResizeHandle tinymce.core.ui.SelectBox tinymce.core.ui.Slider tinymce.core.ui.Spacer tinymce.core.ui.SplitButton tinymce.core.ui.StackLayout tinymce.core.ui.TabPanel tinymce.core.ui.TextBox".split(" "),
function(h,g,e,d,b,a,c,f,k,p,n,r,l,m,t,u,v,s,y,q,x,C,z,A,H,D,L,B,G,E,R,K,Q,T,X,ba,$,W,Y,U,N,O,F,I,P,aa,V,ca,Z,M,ha,ea,da,fa,ga,ka,oa,pa,ia){var J=function(a,c,d){var e,f;f=c.split(/[.\/]/);for(e=0;e<f.length-1;++e)void 0===a[f[e]]&&(a[f[e]]={}),a=a[f[e]];a[f[f.length-1]]=d;b.add(c.split(".").pop(),d)},ja={appendTo:function(S){J(S,"ui.Selector",h);J(S,"ui.Collection",g);J(S,"ui.ReflowQueue",e);J(S,"ui.Control",d);J(S,"ui.Factory",b);J(S,"ui.KeyboardNavigation",a);J(S,"ui.Container",c);J(S,"ui.DragHelper",
f);J(S,"ui.Scrollable",k);J(S,"ui.Panel",p);J(S,"ui.Movable",n);J(S,"ui.Resizable",r);J(S,"ui.FloatPanel",l);J(S,"ui.Window",m);J(S,"ui.MessageBox",t);J(S,"ui.Tooltip",u);J(S,"ui.Widget",v);J(S,"ui.Progress",s);J(S,"ui.Notification",y);J(S,"ui.Layout",q);J(S,"ui.AbsoluteLayout",x);J(S,"ui.Button",C);J(S,"ui.ButtonGroup",z);J(S,"ui.Checkbox",A);J(S,"ui.ComboBox",H);J(S,"ui.ColorBox",D);J(S,"ui.PanelButton",L);J(S,"ui.ColorButton",B);J(S,"ui.ColorPicker",G);J(S,"ui.Path",E);J(S,"ui.ElementPath",R);
J(S,"ui.FormItem",K);J(S,"ui.Form",Q);J(S,"ui.FieldSet",T);J(S,"ui.FilePicker",X);J(S,"ui.FitLayout",ba);J(S,"ui.FlexLayout",$);J(S,"ui.FlowLayout",W);J(S,"ui.FormatControls",Y);J(S,"ui.GridLayout",U);J(S,"ui.Iframe",N);J(S,"ui.InfoBox",O);J(S,"ui.Label",F);J(S,"ui.Toolbar",I);J(S,"ui.MenuBar",P);J(S,"ui.MenuButton",aa);J(S,"ui.MenuItem",V);J(S,"ui.Throbber",ca);J(S,"ui.Menu",Z);J(S,"ui.ListBox",M);J(S,"ui.Radio",ha);J(S,"ui.ResizeHandle",ea);J(S,"ui.SelectBox",da);J(S,"ui.Slider",fa);J(S,"ui.Spacer",
ga);J(S,"ui.SplitButton",ka);J(S,"ui.StackLayout",oa);J(S,"ui.TabPanel",pa);J(S,"ui.TextBox",ia);J(S,"ui.Api",ja)}};return ja});u("tinymce.core.api.Tinymce","tinymce.core.geom.Rect tinymce.core.util.Promise tinymce.core.util.Delay tinymce.core.Env tinymce.core.dom.EventUtils tinymce.core.dom.Sizzle tinymce.core.util.Tools tinymce.core.dom.DomQuery tinymce.core.html.Styles tinymce.core.dom.TreeWalker tinymce.core.html.Entities tinymce.core.dom.DOMUtils tinymce.core.dom.ScriptLoader tinymce.core.AddOnManager tinymce.core.dom.RangeUtils tinymce.core.html.Node tinymce.core.html.Schema tinymce.core.html.SaxParser tinymce.core.html.DomParser tinymce.core.html.Writer tinymce.core.html.Serializer tinymce.core.dom.Serializer tinymce.core.util.VK tinymce.core.dom.ControlSelection tinymce.core.dom.BookmarkManager tinymce.core.dom.Selection tinymce.core.Formatter tinymce.core.UndoManager tinymce.core.EditorCommands tinymce.core.util.URI tinymce.core.util.Class tinymce.core.util.EventDispatcher tinymce.core.util.Observable tinymce.core.WindowManager tinymce.core.NotificationManager tinymce.core.EditorObservable tinymce.core.Shortcuts tinymce.core.Editor tinymce.core.util.I18n tinymce.core.FocusManager tinymce.core.EditorManager tinymce.core.util.XHR tinymce.core.util.JSON tinymce.core.util.JSONRequest tinymce.core.util.JSONP tinymce.core.util.LocalStorage tinymce.core.api.Compat tinymce.core.util.Color tinymce.core.ui.Api".split(" "),
function(h,g,e,d,b,a,c,f,k,p,n,r,l,m,t,u,v,s,y,q,x,C,z,A,H,D,L,B,G,E,R,K,Q,T,X,ba,$,W,Y,U,N,O,F,I,P,aa,V,ca,Z){var M=function(a,b,c){var d;d=b.split(/[.\/]/);for(b=0;b<d.length-1;++b)void 0===a[d[b]]&&(a[d[b]]={}),a=a[d[b]];a[d[d.length-1]]=c};M(N,"geom.Rect",h);M(N,"util.Promise",g);M(N,"util.Delay",e);M(N,"Env",d);M(N,"dom.EventUtils",b);M(N,"dom.Sizzle",a);M(N,"util.Tools",c);M(N,"dom.DomQuery",f);M(N,"html.Styles",k);M(N,"dom.TreeWalker",p);M(N,"html.Entities",n);M(N,"dom.DOMUtils",r);M(N,"dom.ScriptLoader",
l);M(N,"AddOnManager",m);M(N,"dom.RangeUtils",t);M(N,"html.Node",u);M(N,"html.Schema",v);M(N,"html.SaxParser",s);M(N,"html.DomParser",y);M(N,"html.Writer",q);M(N,"html.Serializer",x);M(N,"dom.Serializer",C);M(N,"util.VK",z);M(N,"dom.ControlSelection",A);M(N,"dom.BookmarkManager",H);M(N,"dom.Selection",D);M(N,"Formatter",L);M(N,"UndoManager",B);M(N,"EditorCommands",G);M(N,"util.URI",E);M(N,"util.Class",R);M(N,"util.EventDispatcher",K);M(N,"util.Observable",Q);M(N,"WindowManager",T);M(N,"NotificationManager",
X);M(N,"EditorObservable",ba);M(N,"Shortcuts",$);M(N,"Editor",W);M(N,"util.I18n",Y);M(N,"FocusManager",U);M(N,"EditorManager",N);M(N,"util.XHR",O);M(N,"util.JSON",F);M(N,"util.JSONRequest",I);M(N,"util.JSONP",P);M(N,"util.LocalStorage",aa);M(N,"Compat",V);M(N,"util.Color",ca);Z.appendTo(N);V.register(N);return N});u("tinymce.core.Register",[],function(){var h=this||window;return{exposeToModuleLoaders:function(g){"function"!==typeof h.define||h.define.amd||(h.define("ephox/tinymce",[],function(){return g}),
h.define("tinymce.core.EditorManager",[],function(){return g}));"object"===typeof module&&(module.exports=g)}}});u("tinymce.core.api.Main",["tinymce.core.api.Tinymce","tinymce.core.Register"],function(h,g){return function(){window.tinymce=h;window.tinyMCE=h;g.exposeToModuleLoaders(h);return h}});ta("tinymce.core.api.Main")()})();
