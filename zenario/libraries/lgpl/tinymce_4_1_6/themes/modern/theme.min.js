tinymce.ThemeManager.add("modern",function(e){function p(){function a(a){var f=[],g;if(a)return q(a.split(/[ ,]/),function(a){function c(){var b=e.selection;"bullist"==d&&b.selectorChanged("ul > li",function(b,g){for(var c,e=g.parents.length;e--&&(c=g.parents[e].nodeName,"OL"!=c&&"UL"!=c););a.active(b&&"UL"==c)});"numlist"==d&&b.selectorChanged("ol > li",function(b,c){for(var g,e=c.parents.length;e--&&(g=c.parents[e].nodeName,"OL"!=g&&"UL"!=g););a.active(b&&"OL"==g)});a.settings.stateSelector&&b.selectorChanged(a.settings.stateSelector,
function(b){a.active(b)},!0);a.settings.disabledStateSelector&&b.selectorChanged(a.settings.disabledStateSelector,function(b){a.disabled(b)})}var d;if("|"==a)g=null;else if(m.has(a))a={type:a},b.toolbar_items_size&&(a.size=b.toolbar_items_size),f.push(a),g=null;else if(g||(g={type:"buttongroup",items:[]},f.push(g)),e.buttons[a])if(d=a,a=e.buttons[d],"function"==typeof a&&(a=a()),a.type=a.type||"button",b.toolbar_items_size&&(a.size=b.toolbar_items_size),a=m.create(a),g.items.push(a),e.initialized)c();
else e.on("init",c)}),c.push({type:"toolbar",layout:"flow",items:f}),!0}var c=[];if(tinymce.isArray(b.toolbar)){if(0===b.toolbar.length)return;tinymce.each(b.toolbar,function(a,c){b["toolbar"+(c+1)]=a});delete b.toolbar}for(var f=1;10>f&&a(b["toolbar"+f]);f++);c.length||!1===b.toolbar||a(b.toolbar||v);if(c.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:c}}function r(){function a(a){var c,f,d,h,k;k=tinymce.makeMap((b.removed_menuitems||"").split(/[ ,]/));
b.menu?(f=b.menu[a],h=!0):f=u[a];if(f){c={text:f.title};d=[];q((f.items||"").split(/[ ,]/),function(a){"|"!=a&&!e.menuItems[a]||k[a]||d.push("|"==a?{text:"|"}:e.menuItems[a])});h||q(e.menuItems,function(b){b.context==a&&("before"==b.separator&&d.push({text:"|"}),b.prependToContext?d.unshift(b):d.push(b),"after"==b.separator&&d.push({text:"|"}))});for(f=0;f<d.length;f++)"|"==d[f].text&&(0!==f&&f!=d.length-1||d.splice(f,1));c.menu=d;if(!c.menu.length)return null}return c}var c,f=[],d=[];if(b.menu)for(c in b.menu)d.push(c);
else for(c in u)d.push(c);c="string"==typeof b.menubar?b.menubar.split(/[ ,]/):d;for(d=0;d<c.length;d++){var h=c[d];(h=a(h))&&f.push(h)}return f}function s(a){function b(c){(c=a.find(c)[0])&&c.focus(!0)}e.shortcuts.add("Alt+F9","",function(){b("menubar")});e.shortcuts.add("Alt+F10","",function(){b("toolbar")});e.shortcuts.add("Alt+F11","",function(){b("elementpath")});a.on("cancel",function(){e.focus()})}function t(a,c){var f,d,h,g;h=e.getContainer();g=e.getContentAreaContainer().firstChild;d=h.clientWidth;
f=g.clientWidth;null!==a&&(a=Math.max(b.min_width||100,a),a=Math.min(b.max_width||65535,a),l.setStyle(h,"width",a+(d-f)),l.setStyle(g,"width",a));c=Math.max(b.min_height||100,c);c=Math.min(b.max_height||65535,c);l.setStyle(g,"height",c);e.fire("ResizeEditor")}function w(a){function c(){if(g&&g.moveRel&&g.visible()&&!g._fixed){var a=e.selection.getScrollContainer(),b=e.getBody(),c=0,d=0;a&&(d=l.getPos(b),a=l.getPos(a),c=Math.max(0,a.x-d.x),d=Math.max(0,a.y-d.y));g.fixed(!1).moveRel(b,e.rtl?["tr-br",
"br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(c,d)}}function f(){g&&(g.show(),c(),l.addClass(e.getBody(),"mce-edit-focus"))}function d(){g&&(g.hide(),l.removeClass(e.getBody(),"mce-edit-focus"))}function h(){g?g.visible()||f():(g=k.panel=m.create({type:n?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!n,border:1,items:[!1===b.menubar?null:{type:"menubar",border:"0 0 1 0",items:r()},p()]}),e.fire("BeforeRenderUI"),
g.renderTo(n||document.body).reflow(),s(g),f(),e.on("nodeChange",c),e.on("activate",f),e.on("deactivate",d),e.nodeChanged())}var g,n;b.fixed_toolbar_container&&(n=l.select(b.fixed_toolbar_container)[0]);b.content_editable=!0;e.on("focus",function(){a.skinUiCss?tinymce.DOM.styleSheetLoader.load(a.skinUiCss,h,h):h()});e.on("blur hide",d);e.on("remove",function(){g&&(g.remove(),g=null)});a.skinUiCss&&tinymce.DOM.styleSheetLoader.load(a.skinUiCss);return{}}function x(a){zenario.getContainerIdFromEl(a.targetNode);
var c=document.getElementById("zenario_at_toolbars");a.skinUiCss&&tinymce.DOM.loadCSS(a.skinUiCss);a=k.panel=m.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===b.menubar?null:{type:"menubar",border:"0 0 1 0",items:r()},{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:p()},{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",html:"",border:"1 0 0 0"}]});c.innerHTML="";e.fire("BeforeRenderUI");
a.renderTo(c).reflow();s(a);b.content_editable=!0;return{}}function y(a){var c,f,d,h;a.skinUiCss&&tinymce.DOM.loadCSS(a.skinUiCss);d=k.panel=m.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===b.menubar?null:{type:"menubar",border:"0 0 1 0",items:r()},p(),{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",html:"",border:"1 0 0 0"}]});!1!==b.resize&&(h={type:"resizehandle",direction:b.resize,onResizeStart:function(){var a=
e.getContentAreaContainer().firstChild;c=a.clientWidth;f=a.clientHeight},onResize:function(a){"both"==b.resize?t(c+a.deltaX,f+a.deltaY):t(null,f+a.deltaY)}});!1!==b.statusbar&&d.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath"},h]});b.readonly&&d.find("*").disabled(!0);e.fire("BeforeRenderUI");d.renderBefore(a.targetNode).reflow();b.width&&tinymce.DOM.setStyle(d.getEl(),"width",b.width);e.on("remove",function(){d.remove();
d=null});s(d);return{iframeContainer:d.find("#iframe")[0].getEl(),editorContainer:d.getEl()}}var k=this,b=e.settings,m=tinymce.ui.Factory,q=tinymce.each,l=tinymce.DOM,u={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},
v="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";k.renderUI=function(a){var c=!1!==b.skin?b.skin||"lightgray":!1;if(c){var f=b.skin_url,f=f?e.documentBaseURI.toAbsolute(f):tinymce.baseURL+"/skins/"+c;a.skinUiCss=7>=tinymce.Env.documentMode?f+"/skin.ie7.min.css":f+"/skin.min.css";e.contentCSS.push(f+"/content"+(e.inline?".inline":"")+".min.css")}e.on("ProgressState",function(a){k.throbber=k.throbber||new tinymce.ui.Throbber(k.panel.getEl("body"));
a.state?k.throbber.show(a.time):k.throbber.hide()});return b.zenario_inline_ui?x(a):b.inline?w(a):y(a)};k.resizeTo=t;k.resizeBy=function(a,b){var f=e.getContentAreaContainer();k.resizeTo(f.clientWidth+a,f.clientHeight+b)}});
