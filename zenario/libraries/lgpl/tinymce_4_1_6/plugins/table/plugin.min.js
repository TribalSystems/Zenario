(function(I,F){function J(u,B){for(var k,a=[],f=0;f<u.length;++f){if(!(k=H[u[f]]))a:{k=I;for(var x=u[f].split(/[.\/]/),w=0;w<x.length;++w){if(!k[x[w]]){k=void 0;break a}k=k[x[w]]}}if(!k)throw"module definition dependecy not found: "+u[f];a.push(k)}B.apply(null,a)}function E(u,B,k){if("string"!==typeof u)throw"invalid module definition, module id must be defined and be a string";if(B===F)throw"invalid module definition, dependencies must be specified";if(k===F)throw"invalid module definition, definition function must be specified";
J(B,function(){H[u]=k.apply(null,arguments)})}var H={};E("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env"],function(u,B){function k(a,k){return parseInt(a.getAttribute(k)||1,10)}var a=u.each;return function(f,x){function w(){var c=0;l=[];p=0;a(["thead","tbody","tfoot"],function(b){var d=s.select("> "+b+" tr",x);a(d,function(d,e){e+=c;a(s.select("> td, > th",d),function(c,C){var a,d,G,m;if(l[e])for(;l[e][C];)C++;G=k(c,"rowspan");m=k(c,"colspan");for(d=e;d<e+G;d++)for(l[d]||(l[d]=
[]),a=C;a<C+m;a++)l[d][a]={part:b,real:d==e&&a==C,elm:c,rowspan:G,colspan:m};p=Math.max(p,C+1)})});c+=d.length})}function y(c,a){c=c.cloneNode(a);c.removeAttribute("id");return c}function z(c,a){var b;if(b=l[a])return b[c]}function b(c,a,b){c&&(b=parseInt(b,10),1===b?c.removeAttribute(a,1):c.setAttribute(a,b,1))}function n(c){return c&&(s.hasClass(c.elm,"mce-item-selected")||c==m)}function t(){var c=[];a(x.rows,function(b){a(b.cells,function(a){if(s.hasClass(a,"mce-item-selected")||m&&a==m.elm)return c.push(b),
!1})});return c}function A(c){var l,d={};!1!==f.settings.table_clone_elements&&(d=u.makeMap((f.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/));u.walk(c,function(b){var e;if(3==b.nodeType)return a(s.getParents(b.parentNode,null,c).reverse(),function(c){d[c.nodeName]&&(c=y(c,!1),l?e&&e.appendChild(c):l=e=c,e=c)}),e&&(e.innerHTML=B.ie?"&nbsp;":'<br data-mce-bogus="1" />'),!1},"childNodes");c=y(c,!1);b(c,"rowSpan",1);b(c,"colSpan",1);if(l)c.appendChild(l);
else if(!B.ie||10<B.ie)c.innerHTML='<br data-mce-bogus="1" />';return c}function v(){var c=s.createRng();a(s.select("tr",x),function(c){0===c.cells.length&&s.remove(c)});if(0===s.select("tr",x).length)c.setStartBefore(x),c.setEndBefore(x),r.setRng(c),s.remove(x);else if(a(s.select("thead,tbody,tfoot",x),function(c){0===c.rows.length&&s.remove(c)}),w(),d&&(c=l[Math.min(l.length-1,d.y)]))r.select(c[Math.min(c.length-1,d.x)].elm,!0),r.collapse(!0)}function h(c,a,b,d){var e,m,h,r,g;e=l[a][c].elm.parentNode;
for(h=1;h<=b;h++)if(e=s.getNext(e,"tr")){for(m=c;0<=m;m--)if(g=l[a+h][m].elm,g.parentNode==e){for(r=1;r<=d;r++)s.insertAfter(A(g),g);break}if(-1==m)for(r=1;r<=d;r++)e.insertBefore(A(e.cells[0]),e.cells[0])}}function q(){a(l,function(c,l){a(c,function(c,a){var d,e,C;if(n(c)&&(c=c.elm,d=k(c,"colspan"),e=k(c,"rowspan"),1<d||1<e)){b(c,"rowSpan",1);b(c,"colSpan",1);for(C=0;C<d-1;C++)s.insertAfter(A(c),c);h(a,l,e-1,d)}})})}function e(c){var b;a(l,function(l,d){a(l,function(a,l){if(a.elm==c)return b={x:l,
y:d},!1});return!b});return b}function g(){var c,b;c=b=0;a(l,function(d,e){a(d,function(a,d){var m,h;n(a)&&(a=l[e][d],d>c&&(c=d),e>b&&(b=e),a.real&&(m=a.colspan-1,h=a.rowspan-1,m&&d+m>c&&(c=d+m),h&&e+h>b&&(b=e+h)))})});return{x:c,y:b}}var l,p,d,c,m,r=f.selection,s=r.dom;x=x||s.getParent(r.getStart(),"table");w();if(m=s.getParent(r.getStart(),"th,td"))d=e(m),c=g(),m=z(d.x,d.y);u.extend(this,{deleteTable:function(){var c=s.createRng();c.setStartAfter(x);c.setEndAfter(x);r.setRng(c);s.remove(x)},split:q,
merge:function(m,h,r){var g,f,D,p,t,k,A;m?(g=e(m),f=g.x,D=g.y,g=f+(h-1),p=D+(r-1)):(d=c=null,a(l,function(b,l){a(b,function(a,b){n(a)&&(d||(d={x:b,y:l}),c={x:b,y:l})})}),d&&(f=d.x,D=d.y,g=c.x,p=c.y));t=z(f,D);m=z(g,p);if(t&&m&&t.part==m.part){q();w();t=z(f,D).elm;b(t,"colSpan",g-f+1);b(t,"rowSpan",p-D+1);for(r=D;r<=p;r++)for(h=f;h<=g;h++)l[r]&&l[r][h]&&(m=l[r][h].elm,m!=t&&(k=u.grep(m.childNodes),a(k,function(c){t.appendChild(c)}),k.length&&(k=u.grep(t.childNodes),A=0,a(k,function(c){"BR"==c.nodeName&&
s.getAttrib(c,"data-mce-bogus")&&A++<k.length-1&&t.removeChild(c)})),s.remove(m)));v()}},insertRow:function(c){var d,e,m,h,r,g,f,q;a(l,function(b,e){a(b,function(a){if(n(a)&&(a=a.elm,r=a.parentNode,g=y(r,!1),d=e,c))return!1});if(c)return!d});if(d!==F){for(h=0;h<l[0].length;h++)if(l[d][h]&&(e=l[d][h].elm,e!=m)){if(!c){if(q=k(e,"rowspan"),1<q){b(e,"rowSpan",q+1);continue}}else if(0<d&&l[d-1][h]&&(f=l[d-1][h].elm,q=k(f,"rowSpan"),1<q)){b(f,"rowSpan",q+1);continue}m=A(e);b(m,"colSpan",e.colSpan);g.appendChild(m);
m=e}g.hasChildNodes()&&(c?r.parentNode.insertBefore(g,r):s.insertAfter(g,r))}},insertCol:function(c){var d,e;a(l,function(b){a(b,function(a,b){if(n(a)&&(d=b,c))return!1});if(c)return!d});a(l,function(a,l){var m,r,g;a[d]&&(m=a[d].elm,m!=e&&(g=k(m,"colspan"),r=k(m,"rowspan"),1==g?(c?m.parentNode.insertBefore(A(m),m):s.insertAfter(A(m),m),h(d,l,r-1,g)):b(m,"colSpan",m.colSpan+1),e=m))})},deleteCols:function(){var c=[];a(l,function(d){a(d,function(d,e){n(d)&&-1===u.inArray(c,e)&&(a(l,function(c){c=c[e].elm;
var a;a=k(c,"colSpan");1<a?b(c,"colSpan",a-1):s.remove(c)}),c.push(e))})});v()},deleteRows:function(){function c(d){var m,r;a(d.cells,function(c){var a=k(c,"rowSpan");1<a&&(b(c,"rowSpan",a-1),m=e(c),h(m.x,m.y,1,1))});m=e(d.cells[0]);a(l[m.y],function(c){var a;c=c.elm;c!=r&&(a=k(c,"rowSpan"),1>=a?s.remove(c):b(c,"rowSpan",a-1),r=c)})}var d;d=t();a(d.reverse(),function(a){c(a)});v()},cutRows:function(){var c=t();s.remove(c);v();return c},copyRows:function(){var c=t();a(c,function(a,d){c[d]=y(a,!0)});
return c},pasteRows:function(c,d){var e=t(),m=e[d?0:e.length-1],h=m.cells.length;c&&(a(l,function(c){var d;h=0;a(c,function(c){c.real&&(h+=c.colspan);c.elm.parentNode==m&&(d=1)});if(d)return!1}),d||c.reverse(),a(c,function(c){var a,e=c.cells.length,l;for(a=0;a<e;a++)l=c.cells[a],b(l,"colSpan",1),b(l,"rowSpan",1);for(a=e;a<h;a++)c.appendChild(A(c.cells[e-1]));for(a=h;a<e;a++)s.remove(c.cells[a]);d?m.parentNode.insertBefore(c,m):s.insertAfter(c,m)}),s.removeClass(s.select("td.mce-item-selected,th.mce-item-selected"),
"mce-item-selected"))},getPos:e,setStartCell:function(c){d=e(c)},setEndCell:function(a){var b,m,h,r,g,f,q,n,p;c=e(a);if(d&&c){b=Math.min(d.x,c.x);m=Math.min(d.y,c.y);h=Math.max(d.x,c.x);r=Math.max(d.y,c.y);g=h;f=r;for(p=m;p<=f;p++)a=l[p][b],a.real||b-(a.colspan-1)<b&&(b-=a.colspan-1);for(n=b;n<=g;n++)a=l[m][n],a.real||m-(a.rowspan-1)<m&&(m-=a.rowspan-1);for(p=m;p<=r;p++)for(n=b;n<=h;n++)a=l[p][n],a.real&&(q=a.colspan-1,a=a.rowspan-1,q&&n+q>g&&(g=n+q),a&&p+a>f&&(f=p+a));s.removeClass(s.select("td.mce-item-selected,th.mce-item-selected"),
"mce-item-selected");for(p=m;p<=f;p++)for(n=b;n<=g;n++)l[p][n]&&s.addClass(l[p][n].elm,"mce-item-selected")}},moveRelIdx:function(c,a){var d,b;d=e(c);d=d.y*p+d.x;do{d+=a;b=z(d%p,Math.floor(d/p));if(!b)break;if(b.elm!=c)return r.select(b.elm,!0),s.isEmpty(b.elm)&&r.collapse(!0),!0}while(b.elm==c);return!1},refresh:w})}});E("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/Env","tinymce/util/Tools"],function(u,B,k){var a=k.each;return function(f){function k(){function b(b){function t(a,e){var d=
a?"previousSibling":"nextSibling",c=f.dom.getParent(e,"tr"),m=c[d];if(m)return q(f,e,m,a),b.preventDefault(),!0;var m=f.dom.getParent(c,"table"),h=c.parentNode,g=h.nodeName.toLowerCase();if("tbody"===g||g===(a?"tfoot":"thead")){var g=f.dom.select(">tbody",m),v=g.indexOf(h);a&&0===v||!a&&v===g.length-1?(h=f.dom.select(">"+(a?"thead":"tfoot"),m),h=0!==h.length?h[0]:null):-1===v?(h="thead"===h.tagName.toLowerCase()?0:g.length-1,h=g[h]):h=g[v+(a?-1:1)];if(null!==h)return(c=k(h,a))&&q(f,e,c,a),b.preventDefault(),
!0}(d=m[d])?(f.selection.setCursorLocation(d,0),c=!0):(d=f.dom.getParent(m,"td,th"))?c=t(a,d,b):(c=k(c,!a),f.selection.setCursorLocation(c,0),b.preventDefault(),c=!1);return c}function k(a,b){var d=a&&a[b?"lastChild":"firstChild"];return d&&"BR"===d.nodeName?f.dom.getParent(d,"td,th"):d}function v(a){var b=a.selection.getNode();return null!==a.dom.getParent(b,"tr")}function h(b,e){var d=0,c=0;a(b.children,function(a,b){d+=parseInt(a.getAttribute("colspan")||1,10);c=b;if(d>e)return!1});return c}function q(a,
b,d,c){a=0;for(b=f.dom.getParent(b,"td,th");b.previousSibling;)b=b.previousSibling,a+=parseInt(b.getAttribute("colspan")||1,10);b=h(d,a);d=d.childNodes[b];c=k(d,c);f.selection.setCursorLocation(c||d,0)}var e=b.keyCode;if((e==u.UP||e==u.DOWN)&&v(f)){var g=f.selection.getNode();setTimeout(function(){var a=f.selection.getNode(),a=f.dom.getParent(a,"td,th"),h=f.dom.getParent(g,"td,th");a&&a!==h&&f.dom.getParent(a,"TABLE")===f.dom.getParent(h,"TABLE")&&t(!b.shiftKey&&e===u.UP,g,b)},0)}}f.on("KeyDown",
function(a){b(a)})}function w(){f.on("KeyDown",function(a){var n,k,A=f.dom;if(37==a.keyCode||38==a.keyCode)if(n=f.selection.getRng(),(k=A.getParent(n.startContainer,"table"))&&f.getBody().firstChild==k){var v=n,h=k.ownerDocument;n=h.createRange();n.setStartBefore(k);n.setEnd(v.endContainer,v.endOffset);v=h.createElement("body");v.appendChild(n.cloneContents());0===v.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length&&(n=A.createRng(),n.setStartBefore(k),
n.setEndBefore(k),f.selection.setRng(n),a.preventDefault())}})}function y(){f.on("KeyDown SetContent VisualAid",function(){var a;for(a=f.getBody().lastChild;a;a=a.previousSibling)if(3==a.nodeType){if(0<a.nodeValue.length)break}else if(1==a.nodeType&&("BR"==a.tagName||!a.getAttribute("data-mce-bogus")))break;a&&"TABLE"==a.nodeName&&(f.settings.forced_root_block?f.dom.add(f.getBody(),f.settings.forced_root_block,f.settings.forced_root_block_attrs,B.ie&&11>B.ie?"&nbsp;":'<br data-mce-bogus="1" />'):
f.dom.add(f.getBody(),"br",{"data-mce-bogus":"1"}))});f.on("PreProcess",function(a){(a=a.node.lastChild)&&("BR"==a.nodeName||1==a.childNodes.length&&("BR"==a.firstChild.nodeName||"\u00a0"==a.firstChild.nodeValue))&&a.previousSibling&&"TABLE"==a.previousSibling.nodeName&&f.dom.remove(a)})}function z(){function a(){var b=f.selection.getRng(),k=f.selection.getNode(),A=f.dom.getParent(b.startContainer,"TD,TH"),v=A,h=f.dom.getParent(b.startContainer,"TABLE"),q;h&&(q=h.parentNode);h=3==b.startContainer.nodeType&&
0===b.startOffset&&0===b.endOffset&&v&&("TR"==k.nodeName||k==q);v=("TD"==k.nodeName||"TH"==k.nodeName)&&!v;if(h||v){A||(A=k);for(k=A.lastChild;k.lastChild;)k=k.lastChild;3==k.nodeType&&(b.setEnd(k,k.data.length),f.selection.setRng(b))}}f.on("KeyDown",function(){a()});f.on("MouseDown",function(f){2!=f.button&&a()})}(function(){f.on("keydown",function(a){if((a.keyCode==u.DELETE||a.keyCode==u.BACKSPACE)&&!a.isDefaultPrevented()){var k=f.dom.getParent(f.selection.getStart(),"table");if(k){for(var k=f.dom.select("td,th",
k),t=k.length;t--;)if(!f.dom.hasClass(k[t],"mce-item-selected"))return;a.preventDefault();f.execCommand("mceTableDelete")}}})})();B.webkit&&(k(),z());B.gecko&&(w(),y());10<B.ie&&(w(),y())}});E("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(u,B,k){return function(a){function f(b){a.getBody().style.webkitUserSelect="";if(b||n)a.dom.removeClass(a.dom.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"),
n=!1}function x(f){var k,h=f.target;if(!t&&z&&(y||h!=z)&&("TD"==h.nodeName||"TH"==h.nodeName)){k=w.getParent(h,"table");k==b&&(y||(y=new u(a,k),y.setStartCell(z),a.getBody().style.webkitUserSelect="none"),y.setEndCell(h),n=!0);k=a.selection.getSel();try{k.removeAllRanges?k.removeAllRanges():k.empty()}catch(q){}f.preventDefault()}}var w=a.dom,y,z,b,n=!0,t;a.on("MouseDown",function(a){2==a.button||t||(f(),z=w.getParent(a.target,"td,th"),b=w.getParent(z,"table"))});a.on("mouseover",x);a.on("remove",
function(){w.unbind(a.getDoc(),"mouseover",x)});a.on("MouseUp",function(){function f(a,b){var d=new B(a,a);do{if(3==a.nodeType&&0!==k.trim(a.nodeValue).length){b?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);break}if("BR"==a.nodeName){b?n.setStartBefore(a):n.setEndBefore(a);break}}while(a=b?d.next():d.prev())}var n,h=a.selection,q,e,g;if(z){y&&(a.getBody().style.webkitUserSelect="");q=w.select("td.mce-item-selected,th.mce-item-selected");if(0<q.length){n=w.createRng();e=q[0];n.setStartBefore(e);
n.setEndAfter(e);f(e,1);q=new B(e,w.getParent(q[0],"table"));do if("TD"==e.nodeName||"TH"==e.nodeName){if(!w.hasClass(e,"mce-item-selected"))break;g=e}while(e=q.next());f(g);h.setRng(n)}a.nodeChanged();z=y=b=null}});a.on("KeyUp Drop SetContent",function(a){f("setcontent"==a.type);z=y=b=null;t=!1});a.on("ObjectResizeStart ObjectResized",function(a){t="objectresized"!=a.type});return{clear:f}}});E("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(u,B){var k=u.each;return function(a){function f(){var b=
a.settings.color_picker_callback;if(b)return function(){var f=this;b.call(a,function(a){f.value(a).fire("change")},f.value())}}function x(a){return{title:"Advanced",type:"form",defaults:{onchange:function(){t(a,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:f()},{label:"Background color",
type:"colorbox",name:"backgroundColor",onaction:f()}]}]}}function w(a){return a?a.replace(/px$/,""):""}function y(a){/^[0-9]+$/.test(a)&&(a+="px");return a}function z(b){k(["left","center","right"],function(f){a.formatter.remove("align"+f,{},b)})}function b(b){k(["top","middle","bottom"],function(f){a.formatter.remove("valign"+f,{},b)})}function n(a,b,e){function g(a,e){e=e||[];u.each(a,function(a){var c={text:a.text||a.title};a.menu?c.menu=g(a.menu):(c.value=a.value,b&&b(c));e.push(c)});return e}
return g(a,e||[])}function t(a,b,e){var g=b.toJSON(),f=a.parseStyle(g.style);e?(b.find("#borderColor").value(f["border-color"]||"")[0].fire("change"),b.find("#backgroundColor").value(f["background-color"]||"")[0].fire("change")):(f["border-color"]=g.borderColor,f["background-color"]=g.backgroundColor);b.find("#style").value(a.serializeStyle(a.parseStyle(a.serializeStyle(f))))}function A(a,b,e){e=a.parseStyle(a.getAttrib(e,"style"));e["border-color"]&&(b.borderColor=e["border-color"]);e["background-color"]&&
(b.backgroundColor=e["background-color"]);b.style=a.serializeStyle(e)}var v=this;v.tableProps=function(){v.table(!0)};v.table=function(b){function f(){var b;t(e,this);c=u.extend(c,this.toJSON());u.each(["backgroundColor","borderColor"],function(a){delete c[a]});!1===c["class"]&&delete c["class"];a.undoManager.transact(function(){g||(g=a.plugins.table.insertTable(c.cols||1,c.rows||1));a.dom.setAttribs(g,{cellspacing:c.cellspacing,cellpadding:c.cellpadding,border:c.border,style:c.style,"class":c["class"]});
e.getAttrib(g,"width")?e.setAttrib(g,"width",w(c.width)):e.setStyle(g,"width",y(c.width));e.setStyle(g,"height",y(c.height));(b=e.select("caption",g)[0])&&!c.caption&&e.remove(b);!b&&c.caption&&(b=e.create("caption"),b.innerHTML=B.ie?"\u00a0":'<br data-mce-bogus="1"/>',g.insertBefore(b,g.firstChild));z(g);c.align&&a.formatter.apply("align"+c.align,{},g);a.focus();a.addVisual()})}var e=a.dom,g,l,p,d,c={};if(!0===b){if(g=e.getParent(a.selection.getStart(),"table"))c={width:w(e.getStyle(g,"width")||
e.getAttrib(g,"width")),height:w(e.getStyle(g,"height")||e.getAttrib(g,"height")),cellspacing:g?e.getAttrib(g,"cellspacing"):"",cellpadding:g?e.getAttrib(g,"cellpadding"):"",border:g?e.getAttrib(g,"border"):"",caption:!!e.select("caption",g)[0],"class":e.getAttrib(g,"class")},k(["left","center","right"],function(b){a.formatter.matchNode(g,"align"+b)&&(c.align=b)})}else l={label:"Cols",name:"cols"},p={label:"Rows",name:"rows"};a.settings.table_class_list&&(c["class"]&&(c["class"]=c["class"].replace(/\s*mce\-item\-table\s*/g,
"")),d={name:"class",type:"listbox",label:"Class",values:n(a.settings.table_class_list,function(c){c.value&&(c.textStyle=function(){return a.formatter.getCssText({block:"table",classes:[c.value]})})})});b={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:[l,p,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},
{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},d]};!1!==a.settings.table_advtab?(A(e,c,g),a.windowManager.open({title:"Table properties",data:c,bodyType:"tabpanel",body:[{title:"General",type:"form",items:b},x(e)],onsubmit:f})):a.windowManager.open({title:"Table properties",
data:c,body:b,onsubmit:f})};v.merge=function(b,f){a.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var e=this.toJSON();a.undoManager.transact(function(){b.merge(f,e.cols,e.rows)})}})};v.cell=function(){function f(){t(q,this);g=u.extend(g,this.toJSON());a.undoManager.transact(function(){k(p,function(d){a.dom.setAttribs(d,{scope:g.scope,style:g.style,"class":g["class"]});
a.dom.setStyles(d,{width:y(g.width),height:y(g.height)});g.type&&d.nodeName.toLowerCase()!=g.type&&(d=q.rename(d,g.type));z(d);g.align&&a.formatter.apply("align"+g.align,{},d);b(d);g.valign&&a.formatter.apply("valign"+g.valign,{},d)});a.focus()})}var q=a.dom,e,g,l,p=[],p=a.dom.select("td.mce-item-selected,th.mce-item-selected");e=a.dom.getParent(a.selection.getStart(),"td,th");!p.length&&e&&p.push(e);if(e=e||p[0])g={width:w(q.getStyle(e,"width")||q.getAttrib(e,"width")),height:w(q.getStyle(e,"height")||
q.getAttrib(e,"height")),scope:q.getAttrib(e,"scope"),"class":q.getAttrib(e,"class")},g.type=e.nodeName.toLowerCase(),k(["left","center","right"],function(b){a.formatter.matchNode(e,"align"+b)&&(g.align=b)}),k(["top","middle","bottom"],function(b){a.formatter.matchNode(e,"valign"+b)&&(g.valign=b)}),a.settings.table_cell_class_list&&(l={name:"class",type:"listbox",label:"Class",values:n(a.settings.table_cell_class_list,function(b){b.value&&(b.textStyle=function(){return a.formatter.getCssText({block:"td",
classes:[b.value]})})})}),l={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,
maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",
value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},l]},!1!==a.settings.table_cell_advtab?(A(q,g,e),a.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:g,body:[{title:"General",type:"form",items:l},x(q)],onsubmit:f})):a.windowManager.open({title:"Cell properties",data:g,body:l,onsubmit:f})};v.row=function(){function b(){var e,g,h;t(f,this);d=u.extend(d,this.toJSON());a.undoManager.transact(function(){var b=d.type;k(c,function(c){a.dom.setAttribs(c,{scope:d.scope,
style:d.style,"class":d["class"]});a.dom.setStyles(c,{height:y(d.height)});b!=c.parentNode.nodeName.toLowerCase()&&(e=f.getParent(c,"table"),g=c.parentNode,h=f.select(b,e)[0],h||(h=f.create(b),e.firstChild?e.insertBefore(h,e.firstChild):e.appendChild(h)),h.appendChild(c),g.hasChildNodes()||f.remove(g));z(c);d.align&&a.formatter.apply("align"+d.align,{},c)});a.focus()})}var f=a.dom,e,g,l,p,d,c=[];e=a.dom.getParent(a.selection.getStart(),"table");g=a.dom.getParent(a.selection.getStart(),"td,th");k(e.rows,
function(a){k(a.cells,function(b){if(f.hasClass(b,"mce-item-selected")||b==g)return c.push(a),!1})});if(l=c[0])d={height:w(f.getStyle(l,"height")||f.getAttrib(l,"height")),scope:f.getAttrib(l,"scope"),"class":f.getAttrib(l,"class")},d.type=l.parentNode.nodeName.toLowerCase(),k(["left","center","right"],function(c){a.formatter.matchNode(l,"align"+c)&&(d.align=c)}),a.settings.table_row_class_list&&(p={name:"class",type:"listbox",label:"Class",values:n(a.settings.table_row_class_list,function(c){c.value&&
(c.textStyle=function(){return a.formatter.getCssText({block:"tr",classes:[c.value]})})})}),e={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"None",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",
value:"right"}]},{label:"Height",name:"height"},p]},!1!==a.settings.table_row_advtab?(A(f,d,l),a.windowManager.open({title:"Row properties",data:d,bodyType:"tabpanel",body:[{title:"General",type:"form",items:e},x(f)],onsubmit:b})):a.windowManager.open({title:"Row properties",data:d,body:e,onsubmit:b})}}});E("tinymce/tableplugin/Plugin","tinymce/tableplugin/TableGrid tinymce/tableplugin/Quirks tinymce/tableplugin/CellSelection tinymce/tableplugin/Dialogs tinymce/util/Tools tinymce/dom/TreeWalker tinymce/Env tinymce/PluginManager".split(" "),
function(u,B,k,a,f,x,w,y){var z=f.each;y.add("table",function(b){function f(a){return function(){b.execCommand(a)}}function t(a,e){var d,f,g,h;g='<table id="__mce"><tbody>';for(d=0;d<e;d++){g+="<tr>";for(f=0;f<a;f++)g+="<td>"+(w.ie?" ":"<br>")+"</td>";g+="</tr>"}g+="</tbody></table>";b.undoManager.transact(function(){b.insertContent(g);h=b.dom.get("__mce");b.dom.setAttrib(h,"id",null);b.dom.setAttribs(h,b.settings.table_default_attributes||{});b.dom.setStyles(h,b.settings.table_default_styles||{})});
return h}function x(a,e){function d(){a.disabled(!b.dom.getParent(b.selection.getStart(),e));b.selection.selectorChanged(e,function(b){a.disabled(!b)})}if(b.initialized)d();else b.on("init",d)}function v(){x(this,"table")}function h(){x(this,"td,th")}function q(){for(var a="",a='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">',b=0;10>b;b++){for(var a=a+"<tr>",e=0;10>e;e++)a+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*b+e)+'" href="#" data-mce-x="'+e+'" data-mce-y="'+
b+'"></a></td>';a+="</tr>"}return a+='</table><div class="mce-text-center" role="presentation">1 x 1</div>'}function e(a,e,d){var f=d.getEl().getElementsByTagName("table")[0],g,h,k,l,n=d.isRtl()||"tl-tr"==d.parent().rel;f.nextSibling.innerHTML=a+1+" x "+(e+1);n&&(a=9-a);for(g=0;10>g;g++)for(d=0;10>d;d++)k=f.rows[g].childNodes[d].firstChild,l=(n?d>=a:d<=a)&&g<=e,b.dom.toggleClass(k,"mce-active",l),l&&(h=k);return h.parentNode}var g,l=this,p=new a(b);!1===b.settings.table_grid?b.addMenuItem("inserttable",
{text:"Insert table",icon:"table",context:"table",onclick:p.table}):b.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(a){a.aria&&(this.parent().hideAll(),a.stopImmediatePropagation(),p.table())},onshow:function(){e(0,0,this.menu.items()[0])},onhide:function(){var a=this.menu.items()[0].getEl().getElementsByTagName("a");b.dom.removeClass(a,"mce-active");b.dom.addClass(a[0],"mce-active")},menu:[{type:"container",html:q(),onPostRender:function(){this.lastX=
this.lastY=0},onmousemove:function(a){var b=a.target,d;if("A"==b.tagName.toUpperCase()){d=parseInt(b.getAttribute("data-mce-x"),10);b=parseInt(b.getAttribute("data-mce-y"),10);if(this.isRtl()||"tl-tr"==this.parent().rel)d=9-d;if(d!==this.lastX||b!==this.lastY)e(d,b,a.control),this.lastX=d,this.lastY=b}},onclick:function(a){var d=this;"A"==a.target.tagName.toUpperCase()&&(a.preventDefault(),a.stopPropagation(),d.parent().cancel(),b.undoManager.transact(function(){t(d.lastX+1,d.lastY+1)}),b.addVisual())}}]});
b.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:v,onclick:p.tableProps});b.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:v,cmd:"mceTableDelete"});b.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:f("mceTableCellProps"),onPostRender:h},{text:"Merge cells",onclick:f("mceTableMergeCells"),onPostRender:h},{text:"Split cell",onclick:f("mceTableSplitCells"),onPostRender:h}]});b.addMenuItem("row",
{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:f("mceTableInsertRowBefore"),onPostRender:h},{text:"Insert row after",onclick:f("mceTableInsertRowAfter"),onPostRender:h},{text:"Delete row",onclick:f("mceTableDeleteRow"),onPostRender:h},{text:"Row properties",onclick:f("mceTableRowProps"),onPostRender:h},{text:"-"},{text:"Cut row",onclick:f("mceTableCutRow"),onPostRender:h},{text:"Copy row",onclick:f("mceTableCopyRow"),onPostRender:h},{text:"Paste row before",onclick:f("mceTablePasteRowBefore"),
onPostRender:h},{text:"Paste row after",onclick:f("mceTablePasteRowAfter"),onPostRender:h}]});b.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:f("mceTableInsertColBefore"),onPostRender:h},{text:"Insert column after",onclick:f("mceTableInsertColAfter"),onPostRender:h},{text:"Delete column",onclick:f("mceTableDeleteCol"),onPostRender:h}]});var d=[];z("inserttable tableprops deletetable | cell row column".split(" "),function(a){"|"==a?d.push({text:"-"}):
d.push(b.menuItems[a])});b.addButton("table",{type:"menubutton",title:"Table",menu:d});if(!w.isIE)b.on("click",function(a){a=a.target;"TABLE"===a.nodeName&&(b.selection.select(a),b.nodeChanged())});l.quirks=new B(b);b.on("Init",function(){l.cellSelection=new k(b)});z({mceTableSplitCells:function(a){a.split()},mceTableMergeCells:function(a){var d;d=b.dom.getParent(b.selection.getStart(),"th,td");b.dom.select("td.mce-item-selected,th.mce-item-selected").length?a.merge():p.merge(a,d)},mceTableInsertRowBefore:function(a){a.insertRow(!0)},
mceTableInsertRowAfter:function(a){a.insertRow()},mceTableInsertColBefore:function(a){a.insertCol(!0)},mceTableInsertColAfter:function(a){a.insertCol()},mceTableDeleteCol:function(a){a.deleteCols()},mceTableDeleteRow:function(a){a.deleteRows()},mceTableCutRow:function(a){g=a.cutRows()},mceTableCopyRow:function(a){g=a.copyRows()},mceTablePasteRowBefore:function(a){a.pasteRows(g,!0)},mceTablePasteRowAfter:function(a){a.pasteRows(g)},mceTableDelete:function(a){a.deleteTable()}},function(a,d){b.addCommand(d,
function(){var d=new u(b);d&&(a(d),b.execCommand("mceRepaint"),l.cellSelection.clear())})});z({mceInsertTable:p.table,mceTableProps:function(){p.table(!0)},mceTableRowProps:p.row,mceTableCellProps:p.cell},function(a,d){b.addCommand(d,function(b,d){a(d)})});if(!1!==b.settings.table_tab_navigation)b.on("keydown",function(a){var d,e,f;9==a.keyCode&&(d=b.dom.getParent(b.selection.getStart(),"th,td"))&&(a.preventDefault(),e=new u(b),f=a.shiftKey?-1:1,b.undoManager.transact(function(){!e.moveRelIdx(d,f)&&
0<f&&(e.insertRow(),e.refresh(),e.moveRelIdx(d,f))}))});l.insertTable=t})})})(this);
