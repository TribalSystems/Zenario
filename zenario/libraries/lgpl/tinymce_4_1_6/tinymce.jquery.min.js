(function(fa,U){function ha(l,g){for(var f,e=[],b=0;b<l.length;++b){if(!(f=ca[l[b]]))a:{f=fa;for(var d=l[b].split(/[.\/]/),c=0;c<d.length;++c){if(!f[d[c]]){f=void 0;break a}f=f[d[c]]}}if(!f)throw"module definition dependecy not found: "+l[b];e.push(f)}g.apply(null,e)}function w(l,g,f){if("string"!==typeof l)throw"invalid module definition, module id must be defined and be a string";if(g===U)throw"invalid module definition, dependencies must be specified";if(f===U)throw"invalid module definition, definition function must be specified";
ha(g,function(){ca[l]=f.apply(null,arguments)})}var ca={};w("tinymce/dom/EventUtils",[],function(){function l(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&&a.attachEvent("on"+b,c)}function g(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent&&a.detachEvent("on"+b,c)}function f(a,b){function d(){return!1}function e(){return!0}var f,p=b||{};for(f in a)k[f]||(p[f]=a[f]);p.target||(p.target=p.srcElement||document);if(a&&c.test(a.type)&&void 0===a.pageX&&
void 0!==a.clientX){var q=p.target.ownerDocument||document;f=q.documentElement;q=q.body;p.pageX=a.clientX+(f&&f.scrollLeft||q&&q.scrollLeft||0)-(f&&f.clientLeft||q&&q.clientLeft||0);p.pageY=a.clientY+(f&&f.scrollTop||q&&q.scrollTop||0)-(f&&f.clientTop||q&&q.clientTop||0)}p.preventDefault=function(){p.isDefaultPrevented=e;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)};p.stopPropagation=function(){p.isPropagationStopped=e;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)};p.stopImmediatePropagation=
function(){p.isImmediatePropagationStopped=e;p.stopPropagation()};p.isDefaultPrevented||(p.isDefaultPrevented=d,p.isPropagationStopped=d,p.isImmediatePropagationStopped=d);return p}function e(a,b,c){function d(){c.domLoaded||(c.domLoaded=!0,b(y))}function k(){if("complete"===f.readyState||"interactive"===f.readyState&&f.body)g(f,"readystatechange",k),d()}function e(){try{f.documentElement.doScroll("left")}catch(a){setTimeout(e,0);return}d()}var f=a.document,y={type:"ready"};c.domLoaded?b(y):(f.addEventListener?
"complete"===f.readyState?d():l(a,"DOMContentLoaded",d):(l(f,"readystatechange",k),f.documentElement.doScroll&&a.self===a.top&&e()),l(a,"load",d))}function b(){function a(a,b){var d,n,k,h;if(d=(d=c[b])&&d[a.type])for(n=0,k=d.length;n<k&&((h=d[n])&&!1===h.func.call(h.scope,a)&&a.preventDefault(),!a.isImmediatePropagationStopped());n++);}var b=this,c={},k,t,p,q,y;t=d+(+new Date).toString(32);q="onmouseenter"in document.documentElement;p="onfocusin"in document.documentElement;y={mouseenter:"mouseover",
mouseleave:"mouseout"};k=1;b.domLoaded=!1;b.events=c;b.bind=function(d,r,v,n){function B(b){a(f(b||H.event),g)}var g,x,z,K,D,I,L,H=window;if(d&&3!==d.nodeType&&8!==d.nodeType){d[t]?g=d[t]:(g=k++,d[t]=g,c[g]={});n=n||d;r=r.split(" ");for(z=r.length;z--;)K=r[z],I=B,D=L=!1,"DOMContentLoaded"===K&&(K="ready"),b.domLoaded&&"ready"===K&&"complete"==d.readyState?v.call(n,f({type:K})):(q||(D=y[K])&&(I=function(b){var c,n;c=b.currentTarget;if((n=b.relatedTarget)&&c.contains)n=c.contains(n);else for(;n&&n!==
c;)n=n.parentNode;n||(b=f(b||H.event),b.type="mouseout"===b.type?"mouseleave":"mouseenter",b.target=c,a(b,g))}),p||"focusin"!==K&&"focusout"!==K||(L=!0,D="focusin"===K?"focus":"blur",I=function(b){b=f(b||H.event);b.type="focus"===b.type?"focusin":"focusout";a(b,g)}),(x=c[g][K])?"ready"===K&&b.domLoaded?v({type:K}):x.push({func:v,scope:n}):(c[g][K]=x=[{func:v,scope:n}],x.fakeName=D,x.capture=L,x.nativeHandler=I,"ready"===K?e(d,I,b):l(d,D||K,I,L)));d=x=0;return v}};b.unbind=function(a,d,k){var n,e,
m,p,f,q;if(!a||3===a.nodeType||8===a.nodeType)return b;if(n=a[t]){q=c[n];if(d)for(d=d.split(" "),m=d.length;m--;){if(f=d[m],e=q[f]){if(k)for(p=e.length;p--;)if(e[p].func===k){var y=e.nativeHandler,l=e.fakeName,L=e.capture;e=e.slice(0,p).concat(e.slice(p+1));e.nativeHandler=y;e.fakeName=l;e.capture=L;q[f]=e}k&&0!==e.length||(delete q[f],g(a,e.fakeName||f,e.nativeHandler,e.capture))}}else{for(f in q)e=q[f],g(a,e.fakeName||f,e.nativeHandler,e.capture);q={}}for(f in q)return b;delete c[n];try{delete a[t]}catch(H){a[t]=
null}}return b};b.fire=function(c,d,k){if(!c||3===c.nodeType||8===c.nodeType)return b;k=f(null,k);k.type=d;k.target=c;do(d=c[t])&&a(k,d),c=c.parentNode||c.ownerDocument||c.defaultView||c.parentWindow;while(c&&!k.isPropagationStopped());return b};b.clean=function(a){var c,d,n=b.unbind;if(!a||3===a.nodeType||8===a.nodeType)return b;a[t]&&n(a);a.getElementsByTagName||(a=a.document);if(a&&a.getElementsByTagName)for(n(a),d=a.getElementsByTagName("*"),c=d.length;c--;)a=d[c],a[t]&&n(a);return b};b.destroy=
function(){c={}};b.cancel=function(a){a&&(a.preventDefault(),a.stopImmediatePropagation());return!1}}var d="mce-data-",c=/^(?:mouse|contextmenu)|click/,k={keyLocation:1,layerX:1,layerY:1,returnValue:1};b.Event=new b;b.Event.bind(window,"ready",function(){});return b});w("tinymce/dom/Sizzle",[],function(){if(!window.jQuery)throw Error("Load jQuery first");return jQuery.find});w("tinymce/util/Tools",[],function(){function l(b){return null===b||b===U?"":(""+b).replace(d,"")}function g(b,a){return a?
"array"==a&&c(b)?!0:typeof b==a:b!==U}function f(b,a,c){var d,e;if(!b)return 0;c=c||b;if(b.length!==U)for(d=0,e=b.length;d<e;d++){if(!1===a.call(c,b[d],d,b))return 0}else for(d in b)if(b.hasOwnProperty(d)&&!1===a.call(c,b[d],d,b))return 0;return 1}function e(b,a){var c=[];f(b,function(b){c.push(a(b))});return c}function b(c,a,d,e){e=e||this;c&&(d&&(c=c[d]),f(c,function(c,k){if(!1===a.call(e,c,k,d))return!1;b(c,a,d,e)}))}var d=/^\s*|\s*$/g,c=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)};
return{trim:l,isArray:c,is:g,toArray:function(b){var a=b,d,e;if(!c(b))for(a=[],d=0,e=b.length;d<e;d++)a[d]=b[d];return a},makeMap:function(b,a,c){b=b||[];"string"==typeof b&&(b=b.split(a||","));c=c||{};for(a=b.length;a--;)c[b[a]]={};return c},each:f,map:e,grep:function(b,a){var c=[];f(b,function(b){a&&!a(b)||c.push(b)});return c},inArray:function(b,a){var c,d;if(b)for(c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1},extend:function(b,a){var c,d,e,f=arguments,p;c=1;for(d=f.length;c<d;c++)for(e in a=
f[c],a)a.hasOwnProperty(e)&&(p=a[e],p!==U&&(b[e]=p));return b},create:function(b,a,c){var d,e,f,p,q,g=0;b=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(b);f=b[3].match(/(^|\.)(\w+)$/i)[2];e=this.createNS(b[3].replace(/\.\w+$/,""),c);if(!e[f])if("static"==b[2]){if(e[f]=a,this.onCreate)this.onCreate(b[2],b[3],e[f])}else a[f]||(a[f]=function(){},g=1),e[f]=a[f],this.extend(e[f].prototype,a),b[5]&&(d=this.resolve(b[5]).prototype,p=b[5].match(/\.(\w+)$/i)[1],q=e[f],e[f]=g?function(){return d[p].apply(this,arguments)}:
function(){this.parent=d[p];return q.apply(this,arguments)},e[f].prototype[f]=e[f],this.each(d,function(a,b){e[f].prototype[b]=d[b]}),this.each(a,function(a,b){d[b]?e[f].prototype[b]=function(){this.parent=d[b];return a.apply(this,arguments)}:b!=f&&(e[f].prototype[b]=a)})),this.each(a["static"],function(a,b){e[f][b]=a})},walk:b,createNS:function(b,a){var c,d;a=a||window;b=b.split(".");for(c=0;c<b.length;c++)d=b[c],a[d]||(a[d]={}),a=a[d];return a},resolve:function(b,a){var c,d;a=a||window;b=b.split(".");
c=0;for(d=b.length;c<d&&(a=a[b[c]],a);c++);return a},explode:function(b,a){return!b||g(b,"array")?b:e(b.split(a||","),l)}}});w("tinymce/Env",[],function(){var l=navigator,g=l.userAgent,f,e,b,d,c;f=window.opera&&window.opera.buildNumber;e=/WebKit/.test(g);b=(b=!e&&!f&&/MSIE/gi.test(g)&&/Explorer/gi.test(l.appName))&&/MSIE (\w+)\./.exec(g)[1];l=-1==g.indexOf("Trident/")||-1==g.indexOf("rv:")&&-1==l.appName.indexOf("Netscape")?!1:11;b=b||l;l=!e&&!l&&/Gecko/.test(g);d=-1!=g.indexOf("Mac");c=/(iPad|iPhone)/.test(g);
g=!c||534<=g.match(/AppleWebKit\/(\d*)/)[1];return{opera:f,webkit:e,ie:b,gecko:l,mac:d,iOS:c,contentEditable:g,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=b,range:window.getSelection&&"Range"in window,documentMode:b?document.documentMode||7:10}});w("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(l,g,f,e){function b(a){return"undefined"!==typeof a}function d(a,b){var c,
d,n;b=b||r;n=b.createElement("div");c=b.createDocumentFragment();for(n.innerHTML=a;d=n.firstChild;)c.appendChild(d);return c}function c(b,n,e,k){var h;if("string"===typeof n)n=d(n,t(b[0]));else if(n.length&&!n.nodeType){n=a.makeArray(n);if(k)for(h=n.length-1;0<=h;h--)c(b,n[h],e,k);else for(h=0;h<n.length;h++)c(b,n[h],e,k);return b}if(n.nodeType)for(h=b.length;h--;)e.call(b[h],n);return b}function k(b,c,n){var d,e;c=a(c)[0];b.each(function(){n&&d==this.parentNode||(d=this.parentNode,e=c.cloneNode(!1),
this.parentNode.insertBefore(e,this));e.appendChild(this)});return b}function a(b,c){return new a.fn.init(b,c)}function h(a){return null===a||a===x?"":(""+a).replace(F,"")}function u(a,b){var c,n,d;if(a)if(c=a.length,void 0===c)for(n in a){if(a.hasOwnProperty(n)&&(d=a[n],!1===b.call(d,n,d)))break}else for(n=0;n<c&&(d=a[n],!1!==b.call(d,n,d));n++);return a}function m(a,b){var c=[];u(a,function(a,n){b(n,a)&&c.push(n)});return c}function t(a){return a?9==a.nodeType?a:a.ownerDocument:r}function p(b,c,
n){var d=[];b=b[c];for("string"!=typeof n&&n instanceof a&&(n=n[0]);b&&9!==b.nodeType;){if(n!==U){if(b===n)break;if("string"==typeof n&&a(b).is(n))break}1===b.nodeType&&d.push(b);b=b[c]}return d}function q(b,c,n,d){var e=[];for(d instanceof a&&(d=d[0]);b;b=b[c])if(!n||b.nodeType===n){if(d!==U){if(b===d)break;if("string"==typeof d&&a(b).is(d))break}e.push(b)}return e}function y(a,b,c){for(a=a[b];a;a=a[b])if(a.nodeType==c)return a;return null}function s(a,b,c){u(c,function(c,n){a[c]=a[c]||{};a[c][b]=
n})}var r=document,v=Array.prototype.push,n=Array.prototype.slice,B=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,G=l.Event,x,z=f.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),K=f.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),D={"for":"htmlFor","class":"className",readonly:"readOnly"},I={"float":"cssFloat"},L={},H={},F=/^\s*|\s*$/g;a.fn=a.prototype={constructor:a,selector:"",context:null,length:0,init:function(b,
c){var n,e;if(!b)return this;if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if(c&&c.nodeType)this.context=c;else{if(c)return a(b).attr(c);this.context=c=document}if("string"===typeof b)if(this.selector=b,n="<"===b.charAt(0)&&">"===b.charAt(b.length-1)&&3<=b.length?[null,b,null]:B.exec(b))if(n[1])for(e=d(b,t(c)).firstChild;e;)v.call(this,e),e=e.nextSibling;else{e=t(c).getElementById(n[2]);if(!e)return this;if(e.id!==n[2])return this.find(b);this.length=1;this[0]=e}else return a(c).find(b);
else this.add(b,!1);return this},toArray:function(){return f.toArray(this)},add:function(b,c){var n,d;if("string"===typeof b)return this.add(a(b));if(b.nodeType)return this.add([b]);if(!1!==c)for(n=a.unique(this.toArray().concat(a.makeArray(b))),this.length=n.length,d=0;d<n.length;d++)this[d]=n[d];else v.apply(this,a.makeArray(b));return this},attr:function(a,c){var n=this,d;if("object"===typeof a)u(a,function(b,a){n.attr(b,a)});else if(b(c))this.each(function(){var b;1===this.nodeType&&((b=L[a])&&
b.set?b.set(this,c):null===c?this.removeAttribute(a,2):this.setAttribute(a,c,2))});else{if(n[0]&&1===n[0].nodeType){if((d=L[a])&&d.get)return d.get(n[0],a);if(K[a])return n.prop(a)?a:x;c=n[0].getAttribute(a,2);null===c&&(c=x)}return c}return n},removeAttr:function(b){return this.attr(b,null)},prop:function(a,c){var n=this;a=D[a]||a;if("object"===typeof a)u(a,function(a,b){n.prop(a,b)});else if(b(c))this.each(function(){1==this.nodeType&&(this[a]=c)});else return n[0]&&n[0].nodeType&&a in n[0]?n[0][a]:
c;return n},css:function(a,c){function n(a){return a.replace(/-(\D)/g,function(a,b){return b.toUpperCase()})}function d(a){return a.replace(/[A-Z]/g,function(a){return"-"+a})}var e=this,h,k;if("object"===typeof a)u(a,function(a,b){e.css(a,b)});else if(b(c))a=n(a),"number"!==typeof c||z[a]||(c+="px"),e.each(function(){var b=this.style;if((k=H[a])&&k.set)k.set(this,c);else{try{this.style[I[a]||a]=c}catch(n){}if(null===c||""===c)b.removeProperty?b.removeProperty(d(a)):b.removeAttribute(a)}});else{h=
e[0];if((k=H[a])&&k.get)return k.get(h);if(h.ownerDocument.defaultView)try{return h.ownerDocument.defaultView.getComputedStyle(h,null).getPropertyValue(d(a))}catch(f){return x}else if(h.currentStyle)return h.currentStyle[n(a)]}return e},remove:function(){for(var a,b=this.length;b--;)a=this[b],G.clean(a),a.parentNode&&a.parentNode.removeChild(a);return this},empty:function(){for(var a,b=this.length;b--;)for(a=this[b];a.firstChild;)a.removeChild(a.firstChild);return this},html:function(c){var n;if(b(c)){n=
this.length;try{for(;n--;)this[n].innerHTML=c}catch(d){a(this[n]).empty().append(c)}return this}return this[0]?this[0].innerHTML:""},text:function(a){var c;if(b(a)){for(c=this.length;c--;)"innerText"in this[c]?this[c].innerText=a:this[0].textContent=a;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return c(this,arguments,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return c(this,arguments,function(a){1===this.nodeType&&this.insertBefore(a,
this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?c(this,arguments,function(a){this.parentNode.insertBefore(a,this)}):this},after:function(){return this[0]&&this[0].parentNode?c(this,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)},!0):this},appendTo:function(b){a(b).append(this);return this},prependTo:function(b){a(b).prepend(this);return this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return k(this,a)},wrapAll:function(a){return k(this,
a,!0)},wrapInner:function(b){this.each(function(){a(this).contents().wrapAll(b)});return this},unwrap:function(){return this.parent().each(function(){a(this).replaceWith(this.childNodes)})},clone:function(){var b=[];this.each(function(){b.push(this.cloneNode(!0))});return a(b)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(a,b){var c=this;if("string"!=typeof a)return c;-1!==a.indexOf(" ")?u(a.split(" "),function(){c.toggleClass(this,
b)}):c.each(function(c,n){var d,e;e=n&&a&&-1!==(" "+n.className+" ").indexOf(" "+a+" ");e!==b&&(d=n.className,n.className=e?h((" "+d+" ").replace(" "+a+" "," ")):n.className+(d?" "+a:a))});return c},hasClass:function(a){return this[0]&&a&&-1!==(" "+this[0].className+" ").indexOf(" "+a+" ")},each:function(a){return u(this,a)},on:function(a,b){return this.each(function(){G.bind(this,a,b)})},off:function(a,b){return this.each(function(){G.unbind(this,a,b)})},trigger:function(a){return this.each(function(){"object"==
typeof a?G.fire(this,a.type,a):G.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new a(n.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(b){var c,n,d=[];c=0;for(n=this.length;c<n;c++)a.find(b,this[c],d);return a(d)},filter:function(b){return"function"==typeof b?a(m(this.toArray(),function(a,
c){return b(c,a)})):a(a.filter(b,this.toArray()))},closest:function(b){var c=[];b instanceof a&&(b=b[0]);this.each(function(n,d){for(;d;){if("string"==typeof b&&a(d).is(b)){c.push(d);break}else if(d==b){c.push(d);break}d=d.parentNode}});return a(c)},offset:function(a){var b,c,n=0,d=0;if(!a){if(b=this[0])a=b.ownerDocument,c=a.documentElement,b.getBoundingClientRect&&(d=b.getBoundingClientRect(),n=d.left+(c.scrollLeft||a.body.scrollLeft)-c.clientLeft,d=d.top+(c.scrollTop||a.body.scrollTop)-c.clientTop);
return{left:n,top:d}}return this.css(a)},push:v,sort:[].sort,splice:[].splice};f.extend(a,{extend:f.extend,makeArray:f.toArray,inArray:function(a,b){var c;if(b.indexOf)return b.indexOf(a);for(c=b.length;c--;)if(b[c]===a)return c;return-1},isArray:f.isArray,each:u,trim:h,grep:m,find:g,expr:g.selectors,unique:g.uniqueSort,text:g.getText,contains:g.contains,filter:function(b,c,n){var d=c.length;for(n&&(b=":not("+b+")");d--;)1!=c[d].nodeType&&c.splice(d,1);return c=1===c.length?a.find.matchesSelector(c[0],
b)?[c[0]]:[]:a.find.matches(b,c)}});u({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return p(a,"parentNode")},next:function(a){return y(a,"nextSibling",1)},prev:function(a){return y(a,"previousSibling",1)},children:function(a){return q(a.firstChild,"nextSibling",1)},contents:function(a){return f.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(b,c){a.fn[b]=function(n){var d=[];this.each(function(){var b=
c.call(d,this,n,d);b&&(a.isArray(b)?d.push.apply(d,b):d.push(b))});1<this.length&&(d=a.unique(d),0===b.indexOf("parents")&&(d=d.reverse()));d=a(d);return n?d.filter(n):d}});u({parentsUntil:function(a,b){return p(a,"parentNode",b)},nextUntil:function(a,b){return q(a,"nextSibling",1,b).slice(1)},prevUntil:function(a,b){return q(a,"previousSibling",1,b).slice(1)}},function(b,c){a.fn[b]=function(n,d){var e=[];this.each(function(){var b=c.call(e,this,n,e);b&&(a.isArray(b)?e.push.apply(e,b):e.push(b))});
1<this.length&&(e=a.unique(e),0===b.indexOf("parents")||"prevUntil"===b)&&(e=e.reverse());e=a(e);return d?e.filter(d):e}});a.fn.is=function(a){return!!a&&0<this.filter(a).length};a.fn.init.prototype=a.fn;a.overrideDefaults=function(b){function c(a,d){n=n||b();0===arguments.length&&(a=n.element);d||(d=n.context);return new c.fn.init(a,d)}var n;a.extend(c,this);return c};e.ie&&8>e.ie&&(s(L,"get",{maxlength:function(a){a=a.maxLength;return 2147483647===a?x:a},size:function(a){a=a.size;return 20===a?
x:a},"class":function(a){return a.className},style:function(a){a=a.style.cssText;return 0===a.length?x:a}}),s(L,"set",{"class":function(a,b){a.className=b},style:function(a,b){a.style.cssText=b}}));e.ie&&9>e.ie&&(I["float"]="styleFloat",s(H,"set",{opacity:function(a,b){var c=a.style;null===b||""===b?c.removeAttribute("filter"):(c.zoom=1,c.filter="alpha(opacity="+100*b+")")}}));a.attrHooks=L;a.cssHooks=H;return a});w("tinymce/html/Styles",[],function(){return function(l,g){function f(a,b,c,d){function e(a){a=
parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+e(b)+e(c)+e(d)}var e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,b=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,d=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,k,a={},h,u,m;l=l||{};g&&(u=g.getValidStyles(),m=g.getInvalidStyles());h="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(k=0;k<h.length;k++)a[h[k]]="\ufeff"+k,a["\ufeff"+k]=h[k];return{toHex:function(a){return a.replace(e,
f)},parse:function(h){function p(a,b,c){var d,e,h,f;if(d=n[a+"-top"+b])if(e=n[a+"-right"+b])if(h=n[a+"-bottom"+b])if(f=n[a+"-left"+b]){d=[d,e,h,f];for(k=d.length-1;k--&&d[k]===d[k+1];);-1<k&&c||(n[a+b]=-1==k?d[0]:d.join(" "),delete n[a+"-top"+b],delete n[a+"-right"+b],delete n[a+"-bottom"+b],delete n[a+"-left"+b])}}function m(a){var b=n[a],c;if(b){b=b.split(" ");for(c=b.length;c--;)if(b[c]!==b[0])return!1;n[a]=b[0];return!0}}function u(a,b,c,d){m(b)&&m(c)&&m(d)&&(n[a]=n[b]+" "+n[c]+" "+n[d],delete n[b],
delete n[c],delete n[d])}function s(b){z=!0;return a[b]}function r(b,c){z&&(b=b.replace(/\uFEFF[0-9]/g,function(b){return a[b]}));c||(b=b.replace(/\\([\'\";:])/g,"$1"));return b}function v(a,b,c,n,d,e){if(d=d||e)return d=r(d),"'"+d.replace(/\'/g,"\\'")+"'";b=r(b||c||n);if(!l.allow_script_urls&&(a=b.replace(/[\s\r\n]+/,""),/(java|vb)script:/i.test(a)||!l.allow_svg_data_urls&&/^data:image\/svg/i.test(a)))return"";K&&(b=K.call(D,b,"style"));return"url('"+b.replace(/\'/g,"\\'")+"')"}var n={},B,g,x,z,
K=l.url_converter,D=l.url_converter_scope||this;if(h){h=h.replace(/[\u0000-\u001F]/g,"");for(h=h.replace(/\\[\"\';:\uFEFF]/g,s).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,s)});B=d.exec(h);){g=B[1].replace(c,"").toLowerCase();x=B[2].replace(c,"");x=x.replace(/\\[0-9a-f]+/g,function(a){return String.fromCharCode(parseInt(a.substr(1),16))});if(g&&0<x.length){if(!l.allow_script_urls&&("behavior"==g||/expression\s*\(|\/\*|\*\//.test(x)))continue;if("font-weight"===g&&"700"===
x)x="bold";else if("color"===g||"background-color"===g)x=x.toLowerCase();x=x.replace(e,f);x=x.replace(b,v);n[g]=z?r(x,!0):x}d.lastIndex=B.index+B[0].length}p("border","",!0);p("border","-width");p("border","-color");p("border","-style");p("padding","");p("margin","");u("border","border-width","border-style","border-color");"medium none"===n.border&&delete n.border;"none"===n["border-image"]&&delete n["border-image"]}return n},serialize:function(a,b){function c(b){var d,h,k,f;if(d=u[b])for(h=0,k=d.length;h<
k;h++)b=d[h],f=a[b],void 0!==f&&0<f.length&&(e+=(0<e.length?" ":"")+b+": "+f+";")}function d(a,b){var c;return(c=m["*"])&&c[a]?!1:(c=m[b])&&c[a]?!1:!0}var e="",h,k;if(b&&u)c("*"),c(b);else for(h in a)k=a[h],void 0!==k&&0<k.length&&(!m||d(h,b))&&(e+=(0<e.length?" ":"")+h+": "+k+";");return e}}}});w("tinymce/dom/TreeWalker",[],function(){return function(l,g){function f(b,d,c,e){if(b){if(!e&&b[d])return b[d];if(b!=g){if(d=b[c])return d;for(b=b.parentNode;b&&b!=g;b=b.parentNode)if(d=b[c])return d}}}var e=
l;this.current=function(){return e};this.next=function(b){return e=f(e,"firstChild","nextSibling",b)};this.prev=function(b){return e=f(e,"lastChild","previousSibling",b)}}});w("tinymce/dom/Range",["tinymce/util/Tools"],function(l){function g(f){function e(a,b){u(G,a,b)}function b(a,b){u(x,a,b)}function d(a){e(a.parentNode,H(a))}function c(a){b(a.parentNode,H(a)+1)}function k(){return m(n)}function a(a,b){var c;if(3==a.nodeType||0>b)return a;for(c=a.firstChild;c&&0<b;)--b,c=c.nextSibling;return c?
c:a}function h(a,b,c,d){var n,e;if(a==c)return b==d?0:b<d?-1:1;for(n=c;n&&n.parentNode!=a;)n=n.parentNode;if(n){e=0;for(c=a.firstChild;c!=n&&e<b;)e++,c=c.nextSibling;return b<=e?-1:1}for(n=a;n&&n.parentNode!=c;)n=n.parentNode;if(n){e=0;for(c=c.firstChild;c!=n&&e<d;)e++,c=c.nextSibling;return e<d?-1:1}for(b=f.findCommonAncestor(a,c);a&&a.parentNode!=b;)a=a.parentNode;a||(a=b);for(d=c;d&&d.parentNode!=b;)d=d.parentNode;d||(d=b);if(a==d)return 0;for(c=b.firstChild;c;){if(c==a)return-1;if(c==d)return 1;
c=c.nextSibling}}function u(a,b,c){a?(r[K]=b,r[z]=c):(r[D]=b,r[I]=c);for(b=r[D];b.parentNode;)b=b.parentNode;for(c=r[K];c.parentNode;)c=c.parentNode;c==b?0<h(r[K],r[z],r[D],r[I])&&r.collapse(a):r.collapse(a);r.collapsed=r[K]==r[D]&&r[z]==r[I];r.commonAncestorContainer=f.findCommonAncestor(r[K],r[D])}function m(a){var b,c=0,d=0,e;if(r[K]==r[D])return t(a);b=r[D];for(e=b.parentNode;e;b=e,e=e.parentNode){if(e==r[K]){var h=b;e=d=c=c=e=b=void 0;a!=B&&(b=v.createDocumentFragment());e=p(h,a);b&&b.appendChild(e);
c=H(h);c-=r[z];if(!(0>=c))for(e=h.previousSibling;0<c;)d=e.previousSibling,e=s(e,a),b&&b.insertBefore(e,b.firstChild),--c,e=d;a!=n&&(r.setEndBefore(h),r.collapse(x));a=b;return a}++c}b=r[K];for(e=b.parentNode;e;b=e,e=e.parentNode){if(e==r[D]){h=b;e=d=c=e=c=b=void 0;a!=B&&(b=v.createDocumentFragment());e=q(h,a);b&&b.appendChild(e);c=H(h);++c;c=r[I]-c;for(e=h.nextSibling;e&&0<c;)d=e.nextSibling,e=s(e,a),b&&b.appendChild(e),--c,e=d;a!=n&&(r.setStartAfter(h),r.collapse(G));return b}++d}d-=c;for(b=r[K];0<
d;)b=b.parentNode,d--;for(c=r[D];0>d;)c=c.parentNode,d++;d=b.parentNode;for(e=c.parentNode;d!=e;d=d.parentNode,e=e.parentNode)b=d,c=e;var k;a!=B&&(h=v.createDocumentFragment());k=q(b,a);h&&h.appendChild(k);d=H(b);e=H(c);++d;d=e-d;for(k=b.nextSibling;0<d;)e=k.nextSibling,k=s(k,a),h&&h.appendChild(k),k=e,--d;k=p(c,a);h&&h.appendChild(k);a!=n&&(r.setStartAfter(b),r.collapse(G));return h}function t(b){var c,d,e,h,k;b!=B&&(c=v.createDocumentFragment());if(r[z]==r[I])return c;if(3==r[K].nodeType){d=r[K].nodeValue;
e=d.substring(r[z],r[I]);b!=n&&(d=r[K],h=r[z],k=r[I]-r[z],0===h&&k>=d.nodeValue.length-1?d.parentNode.removeChild(d):d.deleteData(h,k),r.collapse(G));if(b==B)return;0<e.length&&c.appendChild(v.createTextNode(e));return c}d=a(r[K],r[z]);for(e=r[I]-r[z];d&&0<e;)h=d.nextSibling,d=s(d,b),c&&c.appendChild(d),--e,d=h;b!=n&&r.collapse(G);return c}function p(b,c){var d=a(r[D],r[I]-1),n,e,h,k=d!=r[D];if(d==b)return y(d,k,x,c);n=d.parentNode;for(e=y(n,x,x,c);n;){for(;d;)h=d.previousSibling,d=y(d,k,x,c),c!=
B&&e.insertBefore(d,e.firstChild),k=G,d=h;if(n==b)return e;d=n.previousSibling;n=n.parentNode;h=y(n,x,x,c);c!=B&&h.appendChild(e);e=h}}function q(b,c){var d=a(r[K],r[z]),n=d!=r[K],e,h,k;if(d==b)return y(d,n,G,c);e=d.parentNode;for(h=y(e,x,G,c);e;){for(;d;)k=d.nextSibling,d=y(d,n,G,c),c!=B&&h.appendChild(d),n=G,d=k;if(e==b)return h;d=e.nextSibling;e=e.parentNode;k=y(e,x,G,c);c!=B&&k.appendChild(h);h=k}}function y(a,b,c,d){var e;if(b)return s(a,d);if(3==a.nodeType){b=a.nodeValue;c?(e=r[z],c=b.substring(e),
b=b.substring(0,e)):(e=r[I],c=b.substring(0,e),b=b.substring(e));d!=n&&(a.nodeValue=b);if(d==B)return;a=f.clone(a,x);a.nodeValue=c;return a}if(d!=B)return f.clone(a,x)}function s(a,b){if(b!=B)return b==n?f.clone(a,G):a;a.parentNode.removeChild(a)}var r=this,v=f.doc,n=1,B=2,G=!0,x=!1,z="startOffset",K="startContainer",D="endContainer",I="endOffset",L=l.extend,H=f.nodeIndex;L(r,{startContainer:v,startOffset:0,endContainer:v,endOffset:0,collapsed:G,commonAncestorContainer:v,START_TO_START:0,START_TO_END:1,
END_TO_END:2,END_TO_START:3,setStart:e,setEnd:b,setStartBefore:d,setStartAfter:function(a){e(a.parentNode,H(a)+1)},setEndBefore:function(a){b(a.parentNode,H(a))},setEndAfter:c,collapse:function(a){a?(r[D]=r[K],r[I]=r[z]):(r[K]=r[D],r[z]=r[I]);r.collapsed=G},selectNode:function(a){d(a);c(a)},selectNodeContents:function(a){e(a,0);b(a,1===a.nodeType?a.childNodes.length:a.nodeValue.length)},compareBoundaryPoints:function(a,b){var c=r[K],d=r[z],n=r[D],e=r[I],k=b.startContainer,f=b.startOffset,p=b.endContainer,
m=b.endOffset;if(0===a)return h(c,d,k,f);if(1===a)return h(n,e,k,f);if(2===a)return h(n,e,p,m);if(3===a)return h(c,d,p,m)},deleteContents:function(){m(B)},extractContents:function(){return m(0)},cloneContents:k,insertNode:function(a){var b=this[K],c=this[z],d;3!==b.nodeType&&4!==b.nodeType||!b.nodeValue?(0<b.childNodes.length&&(d=b.childNodes[c]),d?b.insertBefore(a,d):3==b.nodeType?f.insertAfter(a,b):b.appendChild(a)):c?c>=b.nodeValue.length?f.insertAfter(a,b):(c=b.splitText(c),b.parentNode.insertBefore(a,
c)):b.parentNode.insertBefore(a,b)},surroundContents:function(a){var b=r.extractContents();r.insertNode(a);a.appendChild(b);r.selectNode(a)},cloneRange:function(){return L(new g(f),{startContainer:r[K],startOffset:r[z],endContainer:r[D],endOffset:r[I],collapsed:r.collapsed,commonAncestorContainer:r.commonAncestorContainer})},toStringIE:function(){return f.create("body",null,k()).outerText}});return r}g.prototype.toString=function(){return this.toStringIE()};return g});w("tinymce/html/Entities",["tinymce/util/Tools"],
function(l){function g(a,c){var d,e,h,k={};if(a){a=a.split(",");c=c||10;for(d=0;d<a.length;d+=2)e=String.fromCharCode(parseInt(a[d],c)),b[e]||(h="&"+a[d+1]+";",k[e]=h,k[h]=e);return k}}var f=l.makeMap,e,b,d,c=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[<>&\"\']/g,h=/&(#x|#)?([\w]+);/g,u={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",
138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};b={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"};d={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};e=g("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);var m={encodeRaw:function(a,d){return a.replace(d?c:k,function(a){return b[a]||a})},encodeAllRaw:function(c){return(""+c).replace(a,function(a){return b[a]||a})},encodeNumeric:function(a,d){return a.replace(d?c:k,function(a){return 1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":b[a]||"&#"+a.charCodeAt(0)+";"})},encodeNamed:function(a,d,h){h=h||e;return a.replace(d?c:k,function(a){return b[a]||h[a]||a})},getEncodeFunc:function(a,d){function h(a,e){return a.replace(e?
c:k,function(a){return b[a]||d[a]||"&#"+a.charCodeAt(0)+";"||a})}function u(a,b){return m.encodeNamed(a,b,d)}d=g(d)||e;a=f(a.replace(/\+/g,","));return a.named&&a.numeric?h:a.named?d?u:m.encodeNamed:a.numeric?m.encodeNumeric:m.encodeRaw},decode:function(a){return a.replace(h,function(a,b,c){if(b)return c=parseInt(c,2===b.length?16:10),65535<c?(c-=65536,String.fromCharCode(55296+(c>>10),56320+(c&1023))):u[c]||String.fromCharCode(c);(b=d[a])||(b=e[a])||(b=document.createElement("div"),b.innerHTML=a,
b=b.textContent||b.innerText||a);return b})}};return m});w("tinymce/dom/StyleSheetLoader",[],function(){return function(l,g){function f(b){l.getElementsByTagName("head")[0].appendChild(b)}var e=0,b={},d;g=g||{};d=g.maxLoadTime||5E3;this.load=function(c,k,a){function h(){for(var a=v.passed,b=a.length;b--;)a[b]();v.status=2;v.passed=[];v.failed=[]}function u(){for(var a=v.failed,b=a.length;b--;)a[b]();v.status=3;v.passed=[];v.failed=[]}function m(){var a=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(a&&
536>a[1])}function t(a,b){a()||((new Date).getTime()-r<d?window.setTimeout(b,0):u())}function p(){t(function(){for(var a=l.styleSheets,b,c=a.length;c--;)if(b=a[c],(b=b.ownerNode?b.ownerNode:b.owningElement)&&b.id===g.id)return h(),!0},p)}function q(){t(function(){try{var a=s.sheet.cssRules;h();return!!a}catch(b){}},q)}var g,s,r,v;b[c]?v=b[c]:(v={passed:[],failed:[]},b[c]=v);k&&v.passed.push(k);a&&v.failed.push(a);if(1!=v.status)if(2==v.status)h();else if(3==v.status)u();else{v.status=1;g=l.createElement("link");
g.rel="stylesheet";g.type="text/css";g.id="u"+e++;g.async=!1;g.defer=!1;r=(new Date).getTime();if("onload"in g&&!m())g.onload=p,g.onerror=u;else{if(0<navigator.userAgent.indexOf("Firefox")){s=l.createElement("style");s.textContent='@import "'+c+'"';q();f(s);return}p()}f(g);g.href=c}}}});w("tinymce/dom/DOMUtils","tinymce/dom/Sizzle tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/EventUtils tinymce/dom/TreeWalker tinymce/dom/Range tinymce/html/Entities tinymce/Env tinymce/util/Tools tinymce/dom/StyleSheetLoader".split(" "),
function(l,g,f,e,b,d,c,k,a,h){function u(a,b){var c={},d=b.keep_values,e;e={set:function(c,d,e){b.url_converter&&(d=b.url_converter.call(b.url_converter_scope||a,d,e,c[0]));c.attr("data-mce-"+e,d).attr(e,d)},get:function(a,b){return a.attr("data-mce-"+b)||a.attr(b)}};c={style:{set:function(a,b){null!==b&&"object"===typeof b?a.css(b):(d&&a.attr("data-mce-style",b),a.attr("style",b))},get:function(b){var c=b.attr("data-mce-style")||b.attr("style");return c=a.serializeStyle(a.parseStyle(c),b[0].nodeName)}}};
d&&(c.href=c.src=e);return c}function m(a,b){var c=this,d;c.doc=a;c.win=window;c.files={};c.counter=0;c.stdMode=!s||8<=a.documentMode;c.boxModel=!s||"CSS1Compat"==a.compatMode||c.stdMode;c.styleSheetLoader=new h(a);c.boundEvents=[];c.settings=b=b||{};c.schema=b.schema;c.styles=new f({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema);c.fixDoc(a);c.events=b.ownEvents?new e(b.proxy):e.Event;c.attrHooks=u(c,b);d=b.schema?b.schema.getBlockElements():{};c.$=g.overrideDefaults(function(){return{context:a,
element:c.getRoot()}});c.isBlock=function(a){if(!a)return!1;var b=a.nodeType;return b?!(1!==b||!d[a.nodeName]):!!d[a]}}var t=a.each,p=a.is,q=a.grep,y=a.trim,s=k.ie,r=/^([a-z0-9],?)+$/i,v=/^[ \t\r\n]*$/;m.prototype={$$:function(a){"string"==typeof a&&(a=this.get(a));return this.$(a)},root:null,fixDoc:function(a){var b=this.settings,c;if(s&&b.schema)for(c in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,
function(b){a.createElement(b)}),b.schema.getCustomElements())a.createElement(c)},clone:function(a,b){var c=this,d,e;if(!s||1!==a.nodeType||b)return a.cloneNode(b);e=c.doc;return b?d.firstChild:(d=e.createElement(a.nodeName),t(c.getAttribs(a),function(b){c.setAttrib(d,b.nodeName,c.getAttrib(a,b.nodeName))}),d)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(a){var b;a=a?a:this.win;b=a.document;b=this.boxModel?b.documentElement:b.body;return{x:a.pageXOffset||
b.scrollLeft,y:a.pageYOffset||b.scrollTop,w:a.innerWidth||b.clientWidth,h:a.innerHeight||b.clientHeight}},getRect:function(a){var b;a=this.get(a);b=this.getPos(a);a=this.getSize(a);return{x:b.x,y:b.y,w:a.w,h:a.h}},getSize:function(a){var b,c;a=this.get(a);b=this.getStyle(a,"width");c=this.getStyle(a,"height");-1===b.indexOf("px")&&(b=0);-1===c.indexOf("px")&&(c=0);return{w:parseInt(b,10)||a.offsetWidth||a.clientWidth,h:parseInt(c,10)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,
b,c,!1)},getParents:function(a,b,c,d){var e=this,h,k=[];a=e.get(a);d=d===U;c=c||("BODY"!=e.getRoot().nodeName?e.getRoot().parentNode:null);p(b,"string")&&(h=b,b="*"===b?function(a){return 1==a.nodeType}:function(a){return e.is(a,h)});for(;a&&a!=c&&a.nodeType&&9!==a.nodeType;){if(!b||b(a))if(d)k.push(a);else return a;a=a.parentNode}return d?k:null},get:function(a){var b;return a&&this.doc&&"string"==typeof a&&(b=a,(a=this.doc.getElementById(a))&&a.id!==b)?this.doc.getElementsByName(b)[1]:a},getNext:function(a,
b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(a,b){return l(a,this.get(b)||this.settings.root_element||this.doc,[])},is:function(a,b){var c;if(a.length===U){if("*"===b)return 1==a.nodeType;if(r.test(b)){b=b.toLowerCase().split(/,/);a=a.nodeName.toLowerCase();for(c=b.length-1;0<=c;c--)if(b[c]==a)return!0;return!1}}if(a.nodeType&&1!=a.nodeType)return!1;c=a.nodeType?[a]:a;return 0<l(b,c[0].ownerDocument||c[0],null,c).length},
add:function(a,b,c,d,e){var h=this;return this.run(a,function(a){var n;n=p(b,"string")?h.doc.createElement(b):b;h.setAttribs(n,c);d&&(d.nodeType?n.appendChild(d):h.setHTML(n,d));return e?n:a.appendChild(n)})},create:function(a,b,c){return this.add(this.doc.createElement(a),a,b,c,1)},createHTML:function(a,b,c){var d,e;d="<"+a;for(e in b)b.hasOwnProperty(e)&&null!==b[e]&&"undefined"!=typeof b[e]&&(d+=" "+e+'="'+this.encode(b[e])+'"');return"undefined"!=typeof c?d+">"+c+"</"+a+">":d+" />"},createFragment:function(a){var b;
b=this.doc;var c;c=b.createElement("div");b=b.createDocumentFragment();a&&(c.innerHTML=a);for(;a=c.firstChild;)b.appendChild(a);return b},remove:function(a,b){a=this.$$(a);b?a.each(function(){for(var a;a=this.firstChild;)3==a.nodeType&&0===a.data.length?this.removeChild(a):this.parentNode.insertBefore(a,this)}).remove():a.remove();return 1<a.length?a.toArray():a[0]},setStyle:function(a,b,c){a=this.$$(a).css(b,c);this.settings.update_styles&&a.attr("data-mce-style",null)},getStyle:function(a,b,c){a=
this.$$(a);if(c)return a.css(b);b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()});"float"==b&&(b=s?"styleFloat":"cssFloat");return a[0]&&a[0].style?a[0].style[b]:U},setStyles:function(a,b){a=this.$$(a).css(b);this.settings.update_styles&&a.attr("data-mce-style",null)},removeAllAttribs:function(a){return this.run(a,function(a){var b,c=a.attributes;for(b=c.length-1;0<=b;b--)a.removeAttributeNode(c.item(b))})},setAttrib:function(a,b,c){var d,e,h=this.settings;""===c&&(c=null);a=this.$$(a);
d=a.attr(b);if(a.length&&((e=this.attrHooks[b])&&e.set?e.set(a,c,b):a.attr(b,c),d!=c&&h.onSetAttrib))h.onSetAttrib({attrElm:a,attrName:b,attrValue:c})},setAttribs:function(a,b){var c=this;c.$$(a).each(function(a,d){t(b,function(a,b){c.setAttrib(d,b,a)})})},getAttrib:function(a,b,c){var d;a=this.$$(a);a.length&&(d=(d=this.attrHooks[b])&&d.get?d.get(a,b):a.attr(b));"undefined"==typeof d&&(d=c||"");return d},getPos:function(a,b){var c=0,d=0,e;e=this.doc;var h=e.body;a=this.get(a);b=b||h;if(a){if(b===
h&&a.getBoundingClientRect&&"static"===g(h).css("position"))return d=a.getBoundingClientRect(),b=this.boxModel?e.documentElement:h,c=d.left+(e.documentElement.scrollLeft||h.scrollLeft)-b.clientLeft,d=d.top+(e.documentElement.scrollTop||h.scrollTop)-b.clientTop,{x:c,y:d};for(e=a;e&&e!=b&&e.nodeType;)c+=e.offsetLeft||0,d+=e.offsetTop||0,e=e.offsetParent;for(e=a.parentNode;e&&e!=b&&e.nodeType;)c-=e.scrollLeft||0,d-=e.scrollTop||0,e=e.parentNode}return{x:c,y:d}},parseStyle:function(a){return this.styles.parse(a)},
serializeStyle:function(a,b){return this.styles.serialize(a,b)},addStyle:function(a){var b=this.doc,c,d;if(this!==m.DOM&&b===document){c=(c=m.DOM.addedStyles)||[];if(c[a])return;c[a]=!0;m.DOM.addedStyles=c}d=b.getElementById("mceDefaultStyles");d||(d=b.createElement("style"),d.id="mceDefaultStyles",d.type="text/css",c=b.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d));d.styleSheet?d.styleSheet.cssText+=a:d.appendChild(b.createTextNode(a))},loadCSS:function(a){var b=
this,c=b.doc,d;b!==m.DOM&&c===document?m.DOM.loadCSS(a):(a||(a=""),d=c.getElementsByTagName("head")[0],t(a.split(","),function(a){var e;b.files[a]||(b.files[a]=!0,e=b.create("link",{rel:"stylesheet",href:a}),s&&c.documentMode&&c.recalc&&(e.onload=function(){c.recalc&&c.recalc();e.onload=null}),d.appendChild(e))}))},addClass:function(a,b){this.$$(a).addClass(b)},removeClass:function(a,b){this.toggleClass(a,b,!1)},hasClass:function(a,b){return this.$$(a).hasClass(b)},toggleClass:function(a,b,c){this.$$(a).toggleClass(b,
c).each(function(){""===this.className&&g(this).attr("class",null)})},show:function(a){this.$$(a).show()},hide:function(a){this.$$(a).hide()},isHidden:function(a){return"none"==this.$$(a).css("display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(a,b){a=this.$$(a);s?a.each(function(a,c){if(!1!==c.canHaveHTML){for(;c.firstChild;)c.removeChild(c.firstChild);try{c.innerHTML="<br>"+b,c.removeChild(c.firstChild)}catch(d){g("<div>").html("<br>"+b).contents().slice(1).appendTo(c)}return b}}):
a.html(b)},getOuterHTML:function(a){a=this.get(a);return 1==a.nodeType?a.outerHTML:g("<div>").append(g(a).clone()).html()},setOuterHTML:function(a,b){var c=this;c.$$(a).each(function(){try{this.outerHTML=b}catch(a){c.remove(g(this).html(b),!0)}})},decode:c.decode,encode:c.encodeAllRaw,insertAfter:function(a,b){b=this.get(b);return this.run(a,function(a){var c,d;c=b.parentNode;(d=b.nextSibling)?c.insertBefore(a,d):c.appendChild(a);return a})},replace:function(a,b,c){return this.run(b,function(b){p(b,
"array")&&(a=a.cloneNode(!0));c&&t(q(b.childNodes),function(b){a.appendChild(b)});return b.parentNode.replaceChild(a,b)})},rename:function(a,b){var c=this,d;a.nodeName!=b.toUpperCase()&&(d=c.create(b),t(c.getAttribs(a),function(b){c.setAttrib(d,b.nodeName,c.getAttrib(a,b.nodeName))}),c.replace(d,a,1));return d||a},findCommonAncestor:function(a,b){for(var c=a,d;c;){for(d=b;d&&c!=d;)d=d.parentNode;if(c==d)break;c=c.parentNode}return!c&&a.ownerDocument?a.ownerDocument.documentElement:c},toHex:function(b){return this.styles.toHex(a.trim(b))},
run:function(a,b,c){var d=this,e;"string"===typeof a&&(a=d.get(a));if(!a)return!1;c=c||this;return a.nodeType||!a.length&&0!==a.length?b.call(c,a):(e=[],t(a,function(a,h){a&&("string"==typeof a&&(a=d.get(a)),e.push(b.call(c,a,h)))}),e)},getAttribs:function(a){var b;a=this.get(a);if(!a)return[];if(s){b=[];if("OBJECT"==a.nodeName)return a.attributes;"OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"});a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,
"").replace(/[\w:\-]+/gi,function(a){b.push({specified:1,nodeName:a})});return b}return a.attributes},isEmpty:function(a,c){var d,e,h,k,f,m=0;if(a=a.firstChild){k=new b(a,a.parentNode);c=c||(this.schema?this.schema.getNonEmptyElements():null);do{h=a.nodeType;if(1===h){if(a.getAttribute("data-mce-bogus"))continue;f=a.nodeName.toLowerCase();if(c&&c[f]){if("br"===f){m++;continue}return!1}e=this.getAttribs(a);for(d=e.length;d--;)if(f=e[d].nodeName,"name"===f||"data-mce-bookmark"===f)return!1}if(8==h||
3===h&&!v.test(a.nodeValue))return!1}while(a=k.next())}return 1>=m},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new d(this)},nodeIndex:function(a,b){var c=0,d,e;if(a)for(d=a.nodeType,a=a.previousSibling;a;a=a.previousSibling)if(e=a.nodeType,!b||3!=e||e!=d&&a.nodeValue.length)c++,d=e;return c},split:function(a,b,c){function d(a){var b,c=a.childNodes,h=a.nodeType;if(1!=h||"bookmark"!=a.getAttribute("data-mce-type")){for(b=c.length-1;0<=b;b--)d(c[b]);if(9!=h){if(3==h&&0<
a.nodeValue.length){b=y(a.nodeValue).length;if(!(c=!e.isBlock(a.parentNode))&&!(c=0<b)){if(b=0===b)b=a.nextSibling&&"SPAN"==a.nextSibling.nodeName,b=a.previousSibling&&"SPAN"==a.previousSibling.nodeName&&b;c=b}if(c)return}else if(1==h&&(c=a.childNodes,1==c.length&&c[0]&&1==c[0].nodeType&&"bookmark"==c[0].getAttribute("data-mce-type")&&a.parentNode.insertBefore(c[0],a),c.length||/^(br|hr|input|img)$/i.test(a.nodeName)))return;e.remove(a)}return a}}var e=this,h=e.createRng(),k,f;if(a&&b)return h.setStart(a.parentNode,
e.nodeIndex(a)),h.setEnd(b.parentNode,e.nodeIndex(b)),k=h.extractContents(),h=e.createRng(),h.setStart(b.parentNode,e.nodeIndex(b)+1),h.setEnd(a.parentNode,e.nodeIndex(a)+1),h=h.extractContents(),f=a.parentNode,f.insertBefore(d(k),a),c?f.replaceChild(c,b):f.insertBefore(b,a),f.insertBefore(d(h),a),e.remove(a),c||b},bind:function(b,c,d,e){if(a.isArray(b)){for(var h=b.length;h--;)b[h]=this.bind(b[h],c,d,e);return b}!this.settings.collect||b!==this.doc&&b!==this.win||this.boundEvents.push([b,c,d,e]);
return this.events.bind(b,c,d,e||this)},unbind:function(b,c,d){var e;if(a.isArray(b)){for(e=b.length;e--;)b[e]=this.unbind(b[e],c,d);return b}if(this.boundEvents&&(b===this.doc||b===this.win))for(e=this.boundEvents.length;e--;){var h=this.boundEvents[e];b!=h[0]||c&&c!=h[1]||d&&d!=h[2]||this.events.unbind(h[0],h[1],h[2])}return this.events.unbind(b,c,d)},fire:function(a,b,c){return this.events.fire(a,b,c)},getContentEditable:function(a){var b;return a&&1==a.nodeType?(b=a.getAttribute("data-mce-contenteditable"))&&
"inherit"!==b?b:"inherit"!==a.contentEditable?a.contentEditable:null:null},getContentEditableParent:function(a){for(var b=this.getRoot(),c=null;a&&a!==b&&(c=this.getContentEditable(a),null===c);a=a.parentNode);return c},destroy:function(){if(this.boundEvents){for(var a=this.boundEvents.length;a--;){var b=this.boundEvents[a];this.events.unbind(b[0],b[1],b[2])}this.boundEvents=null}l.setDocument&&l.setDocument();this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(a,b){for(;a;){if(b===
a)return!0;a=a.parentNode}return!1},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(a,b,c){var d=this,e=b;if(a)for("string"==typeof e&&(e=function(a){return d.is(a,b)}),a=a[c];a;a=a[c])if(e(a))return a;return null}};m.DOM=new m(document);return m});w("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(l,g){function f(){function c(a,
b){function c(){d.remove(k);h&&(h.onreadystatechange=h.onload=h=null);b()}var d=e,h,k;k=d.uniqueId();h=document.createElement("script");h.id=k;h.type="text/javascript";h.src=a;"onreadystatechange"in h?h.onreadystatechange=function(){/loaded|complete/.test(h.readyState)&&c()}:h.onload=c;h.onerror=function(){"undefined"!==typeof console&&console.log&&console.log("Failed to load: "+a)};(document.getElementsByTagName("head")[0]||document.body).appendChild(h)}var k={},a=[],h={},f=[],m=0;this.isDone=function(a){return 2==
k[a]};this.markDone=function(a){k[a]=2};this.add=this.load=function(b,c,d){void 0==k[b]&&(a.push(b),k[b]=0);c&&(h[b]||(h[b]=[]),h[b].push({func:c,scope:d||this}))};this.loadQueue=function(b,c){this.loadScripts(a,b,c)};this.loadScripts=function(a,e,q){function g(a){b(h[a],function(a){a.func.call(a.scope)});h[a]=void 0}var s;f.push({func:e,scope:q||this});s=function(){var e=d(a);a.length=0;b(e,function(a){2==k[a]?g(a):1!=k[a]&&(k[a]=1,m++,c(a,function(){k[a]=2;m--;g(a);s()}))});m||(b(f,function(a){a.func.call(a.scope)}),
f.length=0)};s()}}var e=l.DOM,b=g.each,d=g.grep;f.ScriptLoader=new f;return f});w("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(l,g){function f(){this.items=[];this.urls={};this.lookup={}}var e=g.each;f.prototype={get:function(b){return this.lookup[b]?this.lookup[b].instance:U},dependencies:function(b){var d;this.lookup[b]&&(d=this.lookup[b].dependencies);return d||[]},requireLangPack:function(b,d){var c=f.language;if(c&&!1!==f.languageLoad){if(d)if(d=","+d+",",
-1!=d.indexOf(","+c.substr(0,2)+","))c=c.substr(0,2);else if(-1==d.indexOf(","+c+","))return;l.ScriptLoader.add(this.urls[b]+"/langs/"+c+".js")}},add:function(b,d,c){this.items.push(d);this.lookup[b]={instance:d,dependencies:c};return d},createUrl:function(b,d){return"object"===typeof d?d:{prefix:b.prefix,resource:d,suffix:b.suffix}},addComponents:function(b,d){var c=this.urls[b];e(d,function(b){l.ScriptLoader.add(c+"/"+b)})},load:function(b,d,c,k){function a(){var a=h.dependencies(b);e(a,function(a){a=
h.createUrl(d,a);h.load(a.resource,a,U,U)});c&&(k?c.call(k):c.call(l))}var h=this,u=d;h.urls[b]||("object"===typeof d&&(u=d.prefix+d.resource+d.suffix),0!==u.indexOf("/")&&-1==u.indexOf("://")&&(u=f.baseURL+"/"+u),h.urls[b]=u.substring(0,u.lastIndexOf("/")),h.lookup[b]?a():l.ScriptLoader.add(u,a,k))}};f.PluginManager=new f;f.ThemeManager=new f;return f});w("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker"],function(l,g){function f(b,c){var e=b.childNodes;c--;c>e.length-1?c=e.length-
1:0>c&&(c=0);return e[c]||b}function e(d){this.walk=function(c,e){function a(a){var b;b=a[0];3===b.nodeType&&b===t&&p>=b.nodeValue.length&&a.splice(0,1);b=a[a.length-1];0===g&&0<a.length&&b===q&&3===b.nodeType&&a.splice(a.length-1,1);return a}function h(a,b,c){for(var d=[];a&&a!=c;a=a[b])d.push(a);return d}function u(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function m(b,c,d){var f=d?"nextSibling":"previousSibling";v=b;for(n=v.parentNode;v&&v!=c;v=n)n=v.parentNode,B=h(v==b?v:v[f],
f),B.length&&(d||B.reverse(),e(a(B)))}var t=c.startContainer,p=c.startOffset,q=c.endContainer,g=c.endOffset,s,r,v,n,B;r=d.select("td.mce-item-selected,th.mce-item-selected");if(0<r.length)b(r,function(a){e([a])});else{1==t.nodeType&&t.hasChildNodes()&&(t=t.childNodes[p]);1==q.nodeType&&q.hasChildNodes()&&(q=f(q,g));if(t==q)return e(a([t]));s=d.findCommonAncestor(t,q);for(v=t;v;v=v.parentNode){if(v===q)return m(t,s,!0);if(v===s)break}for(v=q;v;v=v.parentNode){if(v===t)return m(q,s);if(v===s)break}r=
u(t,s)||t;s=u(q,s)||q;m(t,r,!0);B=h(r==t?r:r.nextSibling,"nextSibling",s==q?s.nextSibling:s);B.length&&e(a(B));m(q,s)}};this.split=function(b){var d=b.startContainer,a=b.startOffset,e=b.endContainer;b=b.endOffset;d==e&&3==d.nodeType?0<a&&a<d.nodeValue.length&&(e=d.splitText(a),d=e.previousSibling,b>a?(d=e=e.splitText(b-a).previousSibling,b=e.nodeValue.length,a=0):b=0):(3==d.nodeType&&0<a&&a<d.nodeValue.length&&(d=d.splitText(a),a=0),3==e.nodeType&&0<b&&b<e.nodeValue.length&&(e=e.splitText(b).previousSibling,
b=e.nodeValue.length));return{startContainer:d,startOffset:a,endContainer:e,endOffset:b}};this.normalize=function(b){function e(k){function f(a,b){for(var c=new g(a,d.getParent(a.parentNode,d.isBlock)||s);a=c[b?"prev":"next"]();)if("BR"===a.nodeName)return!0}function t(b,c){var e,k;c=c||p;e=d.getParent(c.parentNode,d.isBlock)||s;if(b&&"BR"==c.nodeName&&B&&d.isEmpty(e))p=c.parentNode,q=d.nodeIndex(c),a=!0;else{for(e=new g(c,e);r=e[b?"prev":"next"]();){if("false"===d.getContentEditableParent(r))return;
if(3===r.nodeType&&0<r.nodeValue.length){p=r;q=b?r.nodeValue.length:0;a=!0;return}if(d.isBlock(r)||v[r.nodeName.toLowerCase()])return;k=r}h&&k&&(p=k,a=!0,q=0)}}var p,q,y,s=d.getRoot(),r,v,n,B;p=b[(k?"start":"end")+"Container"];q=b[(k?"start":"end")+"Offset"];B=1==p.nodeType&&q===p.childNodes.length;v=d.schema.getNonEmptyElements();n=k;1==p.nodeType&&q>p.childNodes.length-1&&(n=!1);9===p.nodeType&&(p=d.getRoot(),q=0);if(p===s){if(n&&(r=p.childNodes[0<q?q-1:0])&&(v[r.nodeName]||"TABLE"==r.nodeName))return;
if(p.hasChildNodes()&&(q=Math.min(!n&&0<q?q-1:q,p.childNodes.length-1),p=p.childNodes[q],q=0,p.hasChildNodes()&&!/TABLE/.test(p.nodeName))){r=p;y=new g(p,s);do{if(3===r.nodeType&&0<r.nodeValue.length){q=n?0:r.nodeValue.length;p=r;a=!0;break}if(v[r.nodeName.toLowerCase()]){q=d.nodeIndex(r);p=r.parentNode;"IMG"!=r.nodeName||n||q++;a=!0;break}}while(r=n?y.next():y.prev())}}h&&(3===p.nodeType&&0===q&&t(!0),1===p.nodeType&&((r=p.childNodes[q])||(r=p.childNodes[q-1]),!r||"BR"!==r.nodeName||r.previousSibling&&
"A"==r.previousSibling.nodeName||f(r)||f(r,!0)||t(!0,r)));n&&!h&&3===p.nodeType&&q===p.nodeValue.length&&t(!1);if(a)b["set"+(k?"Start":"End")](p,q)}var a,h;h=b.collapsed;e(!0);h||e();a&&h&&b.collapse(!0);return a}}var b=l.each;e.compareRanges=function(b,c){if(b&&c)if(b.item||b.duplicate){if(b.item&&c.item&&b.item(0)===c.item(0)||b.isEqual&&c.isEqual&&c.isEqual(b))return!0}else return b.startContainer==c.startContainer&&b.startOffset==c.startOffset;return!1};return e});w("tinymce/NodeChange",["tinymce/dom/RangeUtils"],
function(l){return function(g){var f,e=[];if(!("onselectionchange"in g.getDoc()))g.on("NodeChange Click MouseUp KeyUp Focus",function(b){var d;d=g.selection.getRng();d={startContainer:d.startContainer,startOffset:d.startOffset,endContainer:d.endContainer,endOffset:d.endOffset};"nodechange"!=b.type&&l.compareRanges(d,f)||g.fire("SelectionChange");f=d});g.on("contextmenu",function(){g.fire("SelectionChange")});g.on("SelectionChange",function(){var b=g.selection.getStart(!0),d;if(d=!g.selection.isCollapsed()){a:{var c;
c=g.$(b).parentsUntil(g.getBody()).add(b);if(c.length===e.length){for(d=c.length;0<=d&&c[d]===e[d];d--);if(-1===d){e=c;d=!0;break a}}e=c;d=!1}d=!d&&g.dom.isChildOf(b,g.getBody())}d&&g.nodeChanged({selectionChange:!0})});g.on("MouseUp",function(b){b.isDefaultPrevented()||setTimeout(function(){g.nodeChanged()},0)});this.nodeChanged=function(b){var d=g.selection,c,e,a;g.initialized&&d&&!g.settings.disable_nodechange&&!g.settings.readonly&&(a=g.getBody(),c=d.getStart()||a,c=c.ownerDocument!=g.getDoc()?
g.getBody():c,"IMG"==c.nodeName&&d.isCollapsed()&&(c=c.parentNode),e=[],g.dom.getParent(c,function(b){if(b===a)return!0;e.push(b)}),b=b||{},b.element=c,b.parents=e,g.fire("NodeChange",b))}}});w("tinymce/html/Node",[],function(){function l(b,d,c){var e;e=c?"lastChild":"firstChild";c=c?"prev":"next";if(b[e])return b[e];if(b!==d){if(e=b[c])return e;for(b=b.parent;b&&b!==d;b=b.parent)if(e=b[c])return e}}function g(b,d){this.name=b;this.type=d;1===d&&(this.attributes=[],this.attributes.map={})}var f=/^[ \t\r\n]*$/,
e={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};g.prototype={replace:function(b){b.parent&&b.remove();this.insert(b,this);this.remove();return this},attr:function(b,d){var c,e;if("string"!==typeof b){for(e in b)this.attr(e,b[e]);return this}if(c=this.attributes){if(void 0!==d){if(null===d){if(b in c.map)for(delete c.map[b],e=c.length;e--;)if(c[e].name===b){c.splice(e,1);break}return this}if(b in c.map)for(e=c.length;e--;){if(c[e].name===b){c[e].value=d;break}}else c.push({name:b,
value:d});c.map[b]=d;return this}return c.map[b]}},clone:function(){var b=new g(this.name,this.type),d,c,e,a,h;if(e=this.attributes){h=[];h.map={};d=0;for(c=e.length;d<c;d++)a=e[d],"id"!==a.name&&(h[h.length]={name:a.name,value:a.value},h.map[a.name]=a.value);b.attributes=h}b.value=this.value;b.shortEnded=this.shortEnded;return b},wrap:function(b){this.parent.insert(b,this);b.append(this);return this},unwrap:function(){var b,d;for(b=this.firstChild;b;)d=b.next,this.insert(b,this,!0),b=d;this.remove()},
remove:function(){var b=this.parent,d=this.next,c=this.prev;if(b){if(b.firstChild===this){if(b.firstChild=d)d.prev=null}else c.next=d;if(b.lastChild===this){if(b.lastChild=c)c.next=null}else d.prev=c;this.parent=this.next=this.prev=null}return this},append:function(b){var d;b.parent&&b.remove();(d=this.lastChild)?(d.next=b,b.prev=d,this.lastChild=b):this.lastChild=this.firstChild=b;b.parent=this;return b},insert:function(b,d,c){var e;b.parent&&b.remove();e=d.parent||this;c?(d===e.firstChild?e.firstChild=
b:d.prev.next=b,b.prev=d.prev,b.next=d,d.prev=b):(d===e.lastChild?e.lastChild=b:d.next.prev=b,b.next=d.next,b.prev=d,d.next=b);b.parent=e;return b},getAll:function(b){var d,c=[];for(d=this.firstChild;d;d=l(d,this))d.name===b&&c.push(d);return c},empty:function(){var b,d,c;if(this.firstChild){b=[];for(c=this.firstChild;c;c=l(c,this))b.push(c);for(d=b.length;d--;)c=b[d],c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}this.firstChild=this.lastChild=null;return this},isEmpty:function(b){var d=this.firstChild,
c,e;if(d){do{if(1===d.type){if(d.attributes.map["data-mce-bogus"])continue;if(b[d.name])return!1;for(c=d.attributes.length;c--;)if(e=d.attributes[c].name,"name"===e||0===e.indexOf("data-mce-bookmark"))return!1}if(8===d.type||3===d.type&&!f.test(d.value))return!1}while(d=l(d,this))}return!0},walk:function(b){return l(this,null,b)}};g.create=function(b,d){var c,f;c=new g(b,e[b]||1);if(d)for(f in d)c.attr(f,d[f]);return c};return g});w("tinymce/html/Schema",["tinymce/util/Tools"],function(l){function g(a,
b){return a?a.split(b||" "):[]}function f(a,c){function e(a,b,c){function h(a,b){var c={},d,e;d=0;for(e=a.length;d<e;d++)c[a[d]]=b||{};return c}var k,n;n=arguments;c=c||[];b=b||"";"string"===typeof c&&(c=g(c));for(k=3;k<n.length;k++)"string"===typeof n[k]&&(n[k]=g(n[k])),c.push.apply(c,n[k]);a=g(a);for(k=a.length;k--;)n=[].concat(u,g(b)),f[a[k]]={attributes:h(n),attributesOrder:n,children:h(c,d)}}function h(a,b){var c,d,e,k;a=g(a);c=a.length;for(b=g(b);c--;)for(d=f[a[c]],e=0,k=b.length;e<k;e++)d.attributes[b[e]]=
{},d.attributesOrder.push(b[e])}var f={},u,r,v,n,B;if(b[a])return b[a];u=g("id accesskey class dir lang style tabindex title");eventAttributes=g("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting");
r=g("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul");v=g("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment");c.allow_events&&(u=u.concat(u,eventAttributes));"html4"!=a&&(u.push.apply(u,g("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),r.push.apply(r,g("article aside details dialog figure header footer hgroup section nav")),
v.push.apply(v,g("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen")));"html5-strict"!=a&&(u.push("xml:lang"),B=g("acronym applet basefont big font strike tt"),v.push.apply(v,B),k(B,function(a){e(a,"",v)}),B=g("center dir isindex noframes"),r.push.apply(r,B),n=[].concat(r,v),k(B,function(a){e(a,"",n)}));n=n||[].concat(r,v);e("html","manifest","head body");e("head","","base command link meta noscript script style title");e("title hr noscript br");e("base","href target");
e("link","href rel media hreflang type sizes hreflang");e("meta","name http-equiv content charset");e("style","media type scoped");e("script","src async defer type charset");e("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",n);e("address dt dd div caption","",n);e("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn",
"",v);e("blockquote","cite",n);e("ol","reversed start type","li");e("ul","","li");e("li","value",n);e("dl","","dt dd");e("a","href target rel media hreflang type",v);e("q","cite",v);e("ins del","cite datetime",n);e("img","src alt usemap ismap width height");e("iframe","src name width height",n);e("embed","src type width height");e("object","data type typemustmatch name usemap form width height",n,"param");e("param","name value");e("map","name",n,"area");e("area","alt coords shape href target rel media hreflang type");
e("table","border","caption colgroup thead tfoot tbody tr"+("html4"==a?" col":""));e("colgroup","span","col");e("col","span");e("tbody thead tfoot","","tr");e("tr","","td th");e("td","colspan rowspan headers",n);e("th","colspan rowspan headers scope abbr",n);e("form","accept-charset action autocomplete enctype method name novalidate target",n);e("fieldset","disabled form name",n,"legend");e("label","form for",v);e("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");
e("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==a?n:v);e("select","disabled form multiple name required size","option optgroup");e("optgroup","disabled label","option");e("option","disabled label selected value");e("textarea","cols dirname disabled form maxlength name readonly required rows wrap");e("menu","type label",n,"li");e("noscript","",n);"html4"!=a&&(e("wbr"),e("ruby","",v,"rt rp"),e("figcaption","",n),e("mark rt rp summary bdi",
"",v),e("canvas","width height",n),e("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",n,"track source"),e("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",n,"track source"),e("source","src type media"),e("track","kind src srclang label default"),e("datalist","",v,"option"),e("article section nav aside header footer","",n),e("hgroup","","h1 h2 h3 h4 h5 h6"),e("figure","",n,"figcaption"),e("time","datetime",
v),e("dialog","open",n),e("command","type label icon disabled checked radiogroup command"),e("output","for form name",v),e("progress","value max",v),e("meter","value min max low high optimum",v),e("details","open",n,"summary"),e("keygen","autofocus challenge disabled form keytype name"));"html5-strict"!=a&&(h("script","language xml:space"),h("style","xml:space"),h("object","declare classid code codebase codetype archive standby align border hspace vspace"),h("embed","align name hspace vspace"),h("param",
"valuetype type"),h("a","charset name rev shape coords"),h("br","clear"),h("applet","codebase archive code object alt name width height align hspace vspace"),h("img","name longdesc align border hspace vspace"),h("iframe","longdesc frameborder marginwidth marginheight scrolling align"),h("font basefont","size color face"),h("input","usemap align"),h("select","onchange"),h("textarea"),h("h1 h2 h3 h4 h5 h6 div p legend caption","align"),h("ul","type compact"),h("li","type"),h("ol dl menu dir","compact"),
h("pre","width xml:space"),h("hr","align noshade size width"),h("isindex","prompt"),h("table","summary width frame rules cellspacing cellpadding align bgcolor"),h("col","width align char charoff valign"),h("colgroup","width align char charoff valign"),h("thead","align char charoff valign"),h("tr","align char charoff valign bgcolor"),h("th","axis align char charoff valign nowrap bgcolor width height"),h("form","accept"),h("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),
h("tfoot","align char charoff valign"),h("tbody","align char charoff valign"),h("area","nohref"),h("body","background bgcolor text link vlink alink"));"html4"!=a&&(h("input button select textarea","autofocus"),h("input textarea","placeholder"),h("a","download"),h("link script img","crossorigin"),h("iframe","sandbox seamless allowfullscreen"));k(g("a form meter progress dfn"),function(a){f[a]&&delete f[a].children[a]});delete f.caption.children.table;return b[a]=f}function e(a,b){var d;a&&(d={},"string"==
typeof a&&(a={"*":a}),k(a,function(a,e){d[e]="map"==b?c(a,/[, ]/):h(a,/[, ]/)}));return d}var b={},d={},c=l.makeMap,k=l.each,a=l.extend,h=l.explode,u=l.inArray;return function(d){function t(e,h,f){var k=d[e];k?k=c(k,/[, ]/,c(k.toUpperCase(),/[, ]/)):(k=b[e],k||(k=c(h," ",c(h.toUpperCase()," ")),k=a(k,f),b[e]=k));return k}function p(a){var b,d,e,h,f,k,n,m,p,r,q,t,s,y,l,x,G,z,ia=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,A=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,H=/[*?+]/;
if(a)for(a=g(a,","),v["@"]&&(x=v["@"].attributes,G=v["@"].attributesOrder),b=0,d=a.length;b<d;b++)if(f=ia.exec(a[b])){y=f[1];p=f[2];l=f[3];m=f[5];t={};s=[];k={attributes:t,attributesOrder:s};"#"===y&&(k.paddEmpty=!0);"-"===y&&(k.removeEmpty=!0);"!"===f[4]&&(k.removeEmptyAttrs=!0);if(x){for(z in x)t[z]=x[z];s.push.apply(s,G)}if(m)for(m=g(m,"|"),e=0,h=m.length;e<h;e++)if(f=A.exec(m[e]))n={},q=f[1],r=f[2].replace(/::/g,":"),y=f[3],f=f[4],"!"===q&&(k.attributesRequired=k.attributesRequired||[],k.attributesRequired.push(r),
n.required=!0),"-"===q?(delete t[r],s.splice(u(s,r),1)):(y&&("="===y&&(k.attributesDefault=k.attributesDefault||[],k.attributesDefault.push({name:r,value:f}),n.defaultValue=f),":"===y&&(k.attributesForced=k.attributesForced||[],k.attributesForced.push({name:r,value:f}),n.forcedValue=f),"<"===y&&(n.validValues=c(f,"?"))),H.test(r)?(k.attributePatterns=k.attributePatterns||[],n.pattern=RegExp("^"+r.replace(/([?+*])/g,".$1")+"$"),k.attributePatterns.push(n)):(t[r]||s.push(r),t[r]=n));x||"@"!=p||(x=t,
G=s);l&&(k.outputName=p,v[l]=k);H.test(p)?(k.pattern=RegExp("^"+p.replace(/([?+*])/g,".$1")+"$"),B.push(k)):v[p]=k}}function q(a){v={};B=[];p(a);k(z,function(a,b){n[b]=a.children})}function y(c){var d=/^(~)?(.+)$/;c&&(b.text_block_elements=b.block_elements=null,k(g(c,","),function(b){b=d.exec(b);var c="~"===b[1],e=c?"span":"div",h=b[2];n[h]=n[e];A[h]=e;c||(F[h.toUpperCase()]={},F[h]={});v[h]||(b=v[e],b=a({},b),delete b.removeEmptyAttrs,delete b.removeEmpty,v[h]=b);k(n,function(b,c){b[e]&&(n[c]=b=
a({},n[c]),b[h]=b[e])})}))}function s(b){var c=/^([+\-]?)(\w+)\[([^\]]+)\]$/;b&&k(g(b,","),function(b){var d=c.exec(b),e,h;d&&(e=(h=d[1])?n[d[2]]:n[d[2]]={"#comment":{}},e=n[d[2]],k(g(d[3],"|"),function(b){"-"===h?(n[d[2]]=e=a({},n[d[2]]),delete e[b]):e[b]={}}))})}function r(a){var b=v[a],c;if(b)return b;for(c=B.length;c--;)if(b=B[c],b.pattern.test(a))return b}var v={},n={},B=[],l,x,z,K,D,I,w,H,F,N,M,P,A={},C={};d=d||{};z=f(d.schema,d);!1===d.verify_html&&(d.valid_elements="*[*]");l=e(d.valid_styles);
x=e(d.invalid_styles,"map");H=e(d.valid_classes,"map");K=t("whitespace_elements","pre script noscript style textarea video audio iframe object");D=t("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");I=t("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");w=t("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");N=
t("non_empty_elements","td th iframe video audio object script",I);M=t("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");F=t("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup",M);P=t("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");k((d.special||"script noscript style textarea").split(" "),
function(a){C[a]=RegExp("</"+a+"[^>]*>","gi")});d.valid_elements?q(d.valid_elements):(k(z,function(a,b){v[b]={attributes:a.attributes,attributesOrder:a.attributesOrder};n[b]=a.children}),"html5"!=d.schema&&k(g("strong/b em/i"),function(a){a=g(a,"/");v[a[1]].outputName=a[0]}),v.img.attributesDefault=[{name:"alt",value:""}],k(g("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){v[a]&&(v[a].removeEmpty=!0)}),k(g("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(a){v[a].paddEmpty=
!0}),k(g("span"),function(a){v[a].removeEmptyAttrs=!0}));y(d.custom_elements);s(d.valid_children);p(d.extended_valid_elements);s("+ol[ul|ol],+ul[ul|ol]");d.invalid_elements&&k(h(d.invalid_elements),function(a){v[a]&&delete v[a]});r("span")||p("span[!data-mce-type|*]");this.children=n;this.getValidStyles=function(){return l};this.getInvalidStyles=function(){return x};this.getValidClasses=function(){return H};this.getBoolAttrs=function(){return w};this.getBlockElements=function(){return F};this.getTextBlockElements=
function(){return M};this.getTextInlineElements=function(){return P};this.getShortEndedElements=function(){return I};this.getSelfClosingElements=function(){return D};this.getNonEmptyElements=function(){return N};this.getWhiteSpaceElements=function(){return K};this.getSpecialElements=function(){return C};this.isValidChild=function(a,b){var c=n[a];return!(!c||!c[b])};this.isValid=function(a,b){var c,d;if(c=r(a))if(b){if(c.attributes[b])return!0;if(c=c.attributePatterns)for(d=c.length;d--;)if(c[d].pattern.test(a))return!0}else return!0;
return!1};this.getElementRule=r;this.getCustomElements=function(){return A};this.addValidElements=p;this.setValidElements=q;this.addCustomElements=y;this.addValidChildren=s;this.elements=v}});w("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(l,g,f){function e(b,d,a){var e=1,f,m;m=b.getShortEndedElements();b=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(b.lastIndex=a;f=b.exec(d);){a=b.lastIndex;
if("/"===f[1])e--;else if(!f[1]){if(f[2]in m)continue;e++}if(0===e)break}return a}function b(b,k){function a(){}var h=this;b=b||{};h.schema=k=k||new l;!1!==b.fix_self_closing&&(b.fix_self_closing=!0);d("comment cdata text start end pi doctype".split(" "),function(d){d&&(h[d]=b[d]||a)});h.parse=function(a){function d(a){var b,c;for(b=v.length;b--&&v[b].name!==a;);if(0<=b){for(c=v.length-1;c>=b;c--)a=v[c],a.valid&&p.end(a.name);v.length=b}}function h(a,d,e,f,k){a=/[\s\u0000-\u001F]+/g;d=d.toLowerCase();
e=d in I?d:Y(e||f||k||"");if(w&&!z&&0!==d.indexOf("data-")){f=P[d];if(!f&&A){for(k=A.length;k--&&(f=A[k],!f.pattern.test(d)););-1===k&&(f=null)}if(!f||f.validValues&&!(e in f.validValues))return}if(V[d]&&!b.allow_script_urls){a=e.replace(a,"");try{a=decodeURIComponent(a)}catch(m){a=unescape(a)}if(Z.test(a)||!b.allow_html_data_urls&&$.test(a)&&!/^data:image\//i.test(a))return}n.map[d]=e;n.push({name:d,value:e})}var p=this,q,y=0,s,r,v=[],n,l,G,x,z,K,D,I,w,H,F,N,M,P,A,C,R,O,S,E,J,Q=0,Y=g.decode,W,V=
f.makeMap("src,href,data,background,formaction,poster"),Z=/((java|vb)script|mhtml):/i,$=/^data:/i;S=RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g");E=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;D=k.getShortEndedElements();O=b.self_closing_elements||k.getSelfClosingElements();
I=k.getBoolAttrs();w=b.validate;K=b.remove_internals;W=b.fix_self_closing;for(J=k.getSpecialElements();q=S.exec(a);){y<q.index&&p.text(Y(a.substr(y,q.index-y)));if(s=q[6])s=s.toLowerCase(),":"===s.charAt(0)&&(s=s.substr(1)),d(s);else if(s=q[7]){s=s.toLowerCase();":"===s.charAt(0)&&(s=s.substr(1));y=s in D;W&&O[s]&&0<v.length&&v[v.length-1].name===s&&d(s);if(!w||(H=k.getElementRule(s))){F=!0;w&&(P=H.attributes,A=H.attributePatterns);(M=q[8])?((z=-1!==M.indexOf("data-mce-type"))&&K&&(F=!1),n=[],n.map=
{},M.replace(E,h)):(n=[],n.map={});if(w&&!z){r=H.attributesRequired;C=H.attributesDefault;R=H.attributesForced;(l=H.removeEmptyAttrs)&&!n.length&&(F=!1);if(R)for(l=R.length;l--;)N=R[l],x=N.name,N=N.value,"{$uid}"===N&&(N="mce_"+Q++),n.map[x]=N,n.push({name:x,value:N});if(C)for(l=C.length;l--;)N=C[l],x=N.name,x in n.map||(N=N.value,"{$uid}"===N&&(N="mce_"+Q++),n.map[x]=N,n.push({name:x,value:N}));if(r){for(l=r.length;l--&&!(r[l]in n.map););-1===l&&(F=!1)}if(N=n.map["data-mce-bogus"]){if("all"===N){y=
e(k,a,S.lastIndex);S.lastIndex=y;continue}F=!1}}F&&p.start(s,n,y)}else F=!1;if(r=J[s]){r.lastIndex=y=q.index+q[0].length;(q=r.exec(a))?(F&&(G=a.substr(y,q.index-y)),y=q.index+q[0].length):(G=a.substr(y),y=a.length);F&&(0<G.length&&p.text(G,!0),p.end(s));S.lastIndex=y;continue}y||(M&&M.indexOf("/")==M.length-1?F&&p.end(s):v.push({name:s,valid:F}))}else(s=q[1])?(">"===s.charAt(0)&&(s=" "+s),b.allow_conditional_comments||"[if"!==s.substr(0,3)||(s=" "+s),p.comment(s)):(s=q[2])?p.cdata(s):(s=q[3])?p.doctype(s):
(s=q[4])&&p.pi(s,q[5]);y=q.index+q[0].length}y<a.length&&p.text(Y(a.substr(y)));for(l=v.length-1;0<=l;l--)s=v[l],s.valid&&p.end(s.name)}}var d=f.each;b.findEndTag=e;return b});w("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(l,g,f,e){var b=e.makeMap,d=e.each,c=e.explode,k=e.extend;return function(a,e){function u(a){var c,d,f,k,u,p,q,t,g,y,w,H;y=b("tr,td,th,tbody,thead,tfoot,table");g=e.getNonEmptyElements();w=e.getTextBlockElements();
for(c=0;c<a.length;c++)if(d=a[c],d.parent&&!d.fixed)if(w[d.name]&&"li"==d.parent.name){for(f=d.next;f;){if(w[f.name])f.name="li",f.fixed=!0,d.parent.insert(f,d.parent);else break;f=f.next}d.unwrap(d)}else{k=[d];for(f=d.parent;f&&!e.isValidChild(f.name,d.name)&&!y[f.name];f=f.parent)k.push(f);if(f&&1<k.length){k.reverse();u=p=m.filterNode(k[0].clone());for(t=0;t<k.length-1;t++){e.isValidChild(p.name,k[t].name)?(q=m.filterNode(k[t].clone()),p.append(q)):q=p;for(p=k[t].firstChild;p&&p!=k[t+1];)H=p.next,
q.append(p),p=H;p=q}u.isEmpty(g)?f.insert(d,k[0],!0):(f.insert(u,k[0],!0),f.insert(d,u));f=k[0];(f.isEmpty(g)||f.firstChild===f.lastChild&&"br"===f.firstChild.name)&&f.empty().remove()}else d.parent&&("li"===d.name?(f=d.prev,!f||"ul"!==f.name&&"ul"!==f.name?(f=d.next,!f||"ul"!==f.name&&"ul"!==f.name?d.wrap(m.filterNode(new l("ul",1))):f.insert(d,f.firstChild,!0)):f.append(d)):e.isValidChild(d.parent.name,"div")&&e.isValidChild("div",d.name)?d.wrap(m.filterNode(new l("div",1))):"style"===d.name||"script"===
d.name?d.empty().remove():d.unwrap())}}var m=this,t={},p=[],q={},y={};a=a||{};a.validate="validate"in a?a.validate:!0;a.root_name=a.root_name||"body";m.schema=e=e||new g;m.filterNode=function(a){var b,c,d;c in t&&((d=q[c])?d.push(a):q[c]=[a]);for(b=p.length;b--;)c=p[b].name,c in a.attributes.map&&((d=y[c])?d.push(a):y[c]=[a]);return a};m.addNodeFilter=function(a,b){d(c(a),function(a){var c=t[a];c||(t[a]=c=[]);c.push(b)})};m.addAttributeFilter=function(a,b){d(c(a),function(a){var c;for(c=0;c<p.length;c++)if(p[c].name===
a){p[c].callbacks.push(b);return}p.push({name:a,callbacks:[b]})})};m.parse=function(c,d){function m(){function b(a){a&&((c=a.firstChild)&&3==c.type&&(c.value=c.value.replace(M,"")),(c=a.lastChild)&&3==c.type&&(c.value=c.value.replace(C,"")))}var c=x.firstChild,d,f;if(e.isValidChild(x.name,Q.toLowerCase())){for(;c;)d=c.next,3==c.type||1==c.type&&"p"!==c.name&&!N[c.name]&&!c.attr("data-mce-type")?(f||(f=n(Q,1),f.attr(a.forced_root_block_attrs),x.insert(f,c)),f.append(c)):(b(f),f=null),c=d;b(f)}}function n(a,
b){var c=new l(a,b),d;a in t&&((d=q[a])?d.push(c):q[a]=[c]);return c}function g(a){var b;for(a=a.prev;a&&3===a.type;)b=a.value.replace(C,""),0<b.length?(a.value=b,a=a.prev):(b=a.prev,a.remove(),a=b)}var G,x,z,K,D,w,L,H,F,N,M,P=[],A,C,R,O,S,E,J,Q;d=d||{};q={};y={};N=k(b("script,style,head,html,body,title,meta,param"),e.getBlockElements());J=e.getNonEmptyElements();E=e.children;F=a.validate;Q="forced_root_block"in d?d.forced_root_block:a.forced_root_block;S=e.getWhiteSpaceElements();M=/^[ \t\r\n]+/;
C=/[ \t\r\n]+$/;R=/[ \t\r\n]+/g;O=/^[ \t\r\n]+$/;G=new f({validate:F,allow_script_urls:a.allow_script_urls,allow_conditional_comments:a.allow_conditional_comments,self_closing_elements:function(a){var b,c={};for(b in a)"li"!==b&&"p"!=b&&(c[b]=a[b]);return c}(e.getSelfClosingElements()),cdata:function(a){z.append(n("#cdata",4)).value=a},text:function(a,b){var c;A||(a=a.replace(R," "),z.lastChild&&N[z.lastChild.name]&&(a=a.replace(M,"")));0!==a.length&&(c=n("#text",3),c.raw=!!b,z.append(c).value=a)},
comment:function(a){z.append(n("#comment",8)).value=a},pi:function(a,b){z.append(n(a,7)).value=b;g(z)},doctype:function(a){z.append(n("#doctype",10)).value=a;g(z)},start:function(a,b,c){var d,f,k;if(d=F?e.getElementRule(a):{}){d=n(d.outputName||a,1);d.attributes=b;d.shortEnded=c;z.append(d);(f=E[z.name])&&E[d.name]&&!f[d.name]&&P.push(d);for(f=p.length;f--;)k=p[f].name,k in b.map&&((H=y[k])?H.push(d):y[k]=[d]);N[a]&&g(d);c||(z=d);!A&&S[a]&&(A=!0)}},end:function(a){var b,c,d,f;if(c=F?e.getElementRule(a):
{}){if(N[a]&&!A){if((b=z.firstChild)&&3===b.type)if(d=b.value.replace(M,""),0<d.length)b.value=d;else for(f=b.next,b.remove(),b=f;b&&3===b.type;)d=b.value,f=b.next,(0===d.length||O.test(d))&&b.remove(),b=f;if((b=z.lastChild)&&3===b.type)if(d=b.value.replace(C,""),0<d.length)b.value=d;else for(f=b.prev,b.remove(),b=f;b&&3===b.type;)d=b.value,f=b.prev,(0===d.length||O.test(d))&&b.remove(),b=f}A&&S[a]&&(A=!1);if((c.removeEmpty||c.paddEmpty)&&z.isEmpty(J))if(c.paddEmpty)z.empty().append(new l("#text",
"3")).value="\u00a0";else if(!z.attributes.map.name&&!z.attributes.map.id){a=z.parent;N[z.name]?z.empty().remove():z.unwrap();z=a;return}z=z.parent}}},e);x=z=new l(d.context||a.root_name,11);G.parse(c);F&&P.length&&(d.context?d.invalid=!0:u(P));Q&&("body"==x.name||d.isRootContent)&&m();if(!d.invalid){for(L in q){H=t[L];G=q[L];for(w=G.length;w--;)G[w].parent||G.splice(w,1);K=0;for(D=H.length;K<D;K++)H[K](G,L,d)}K=0;for(D=p.length;K<D;K++)if(H=p[K],H.name in y){G=y[H.name];for(w=G.length;w--;)G[w].parent||
G.splice(w,1);w=0;for(L=H.callbacks.length;w<L;w++)H.callbacks[w](G,H.name,d)}}return x};a.remove_trailing_brs&&m.addNodeFilter("br",function(a){var b,c=a.length,d,f=k({},e.getBlockElements()),m=e.getNonEmptyElements(),p,u,q;f.body=1;for(b=0;b<c;b++)if(d=a[b],p=d.parent,f[d.parent.name]&&d===p.lastChild){for(u=d.prev;u;){q=u.name;if("span"!==q||"bookmark"!==u.attr("data-mce-type")){if("br"!==q)break;if("br"===q){d=null;break}}u=u.prev}d&&(d.remove(),p.isEmpty(m)&&(d=e.getElementRule(p.name)))&&(d.removeEmpty?
p.remove():d.paddEmpty&&(p.empty().append(new l("#text",3)).value="\u00a0"))}else{for(u=d;p&&p.firstChild===u&&p.lastChild===u;){u=p;if(f[p.name])break;p=p.parent}u===p&&(p=new l("#text",3),p.value="\u00a0",d.replace(p))}});a.allow_html_in_named_anchor||m.addAttributeFilter("id,name",function(a){for(var b=a.length,c,d,e,h;b--;)if(h=a[b],"a"===h.name&&h.firstChild&&!h.attr("href")){e=h.parent;c=h.lastChild;do d=c.prev,e.insert(c,h),c=d;while(c)}});a.validate&&e.getValidClasses()&&m.addAttributeFilter("class",
function(a){for(var b=a.length,c,d,f,k,m,p=e.getValidClasses(),u,q;b--;){c=a[b];d=c.attr("class").split(" ");m="";for(f=0;f<d.length;f++)k=d[f],q=!1,(u=p["*"])&&u[k]&&(q=!0),u=p[c.name],q||!u||u[k]||(q=!0),q&&(m&&(m+=" "),m+=k);m.length||(m=null);c.attr("class",m)}})}});w("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(l,g){var f=g.makeMap;return function(e){var b=[],d,c,k,a,h;e=e||{};d=e.indent;c=f(e.indent_before||"");k=f(e.indent_after||"");a=l.getEncodeFunc(e.entity_encoding||
"raw",e.entities);h="html"==e.element_format;return{start:function(e,f,t){var p,q,g;d&&c[e]&&0<b.length&&(p=b[b.length-1],0<p.length&&"\n"!==p&&b.push("\n"));b.push("<",e);if(f)for(p=0,q=f.length;p<q;p++)g=f[p],b.push(" ",g.name,'="',a(g.value,!0),'"');b[b.length]=!t||h?">":" />";t&&d&&k[e]&&0<b.length&&(p=b[b.length-1],0<p.length&&"\n"!==p&&b.push("\n"))},end:function(a){b.push("</",a,">");d&&k[a]&&0<b.length&&(a=b[b.length-1],0<a.length&&"\n"!==a&&b.push("\n"))},text:function(c,d){0<c.length&&(b[b.length]=
d?c:a(c))},cdata:function(a){b.push("<![CDATA[",a,"]]\x3e")},comment:function(a){b.push("\x3c!--",a,"--\x3e")},pi:function(a,c){c?b.push("<?",a," ",c,"?>"):b.push("<?",a,"?>");d&&b.push("\n")},doctype:function(a){b.push("<!DOCTYPE",a,">",d?"\n":"")},reset:function(){b.length=0},getContent:function(){return b.join("").replace(/\n$/,"")}}}});w("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(l,g){return function(f,e){var b=new l(f);f=f||{};f.validate="validate"in f?f.validate:
!0;this.schema=e=e||new g;this.writer=b;this.serialize=function(d){function c(d){var f=k[d.type],m,t,p,q,g,s,r,v;if(f)f(d);else{f=d.name;m=d.shortEnded;t=d.attributes;if(a&&t&&1<t.length){g=[];g.map={};v=e.getElementRule(d.name);s=0;for(r=v.attributesOrder.length;s<r;s++)p=v.attributesOrder[s],p in t.map&&(q=t.map[p],g.map[p]=q,g.push({name:p,value:q}));s=0;for(r=t.length;s<r;s++)p=t[s].name,p in g.map||(q=t.map[p],g.map[p]=q,g.push({name:p,value:q}));t=g}b.start(d.name,t,m);if(!m){if(d=d.firstChild){do c(d);
while(d=d.next)}b.end(f)}}}var k,a;a=f.validate;k={3:function(a){b.text(a.value,a.raw)},8:function(a){b.comment(a.value)},7:function(a){b.pi(a.name,a.value)},10:function(a){b.doctype(a.value)},4:function(a){b.cdata(a.value)},11:function(a){if(a=a.firstChild){do c(a);while(a=a.next)}}};b.reset();if(1!=d.type||f.inner)k[11](d);else c(d);return b.getContent()}}});w("tinymce/dom/Serializer","tinymce/dom/DOMUtils tinymce/html/DomParser tinymce/html/Entities tinymce/html/Serializer tinymce/html/Node tinymce/html/Schema tinymce/Env tinymce/util/Tools".split(" "),
function(l,g,f,e,b,d,c,k){var a=k.each,h=k.trim,u=l.DOM;return function(b,k){var p,q,y;k&&(p=k.dom,q=k.schema);p=p||u;q=q||new d(b);b.entity_encoding=b.entity_encoding||"named";b.remove_trailing_brs="remove_trailing_brs"in b?b.remove_trailing_brs:!0;y=new g(b,q);y.addAttributeFilter("data-mce-tabindex",function(a,b){for(var c=a.length,d;c--;)d=a[c],d.attr("tabindex",d.attributes.map["data-mce-tabindex"]),d.attr(b,null)});y.addAttributeFilter("src,href,style",function(a,c){for(var d=a.length,e,h,f=
"data-mce-"+c,k=b.url_converter,u=b.url_converter_scope;d--;)e=a[d],h=e.attributes.map[f],void 0!==h?(e.attr(c,0<h.length?h:null),e.attr(f,null)):(h=e.attributes.map[c],"style"===c?h=p.serializeStyle(p.parseStyle(h),e.name):k&&(h=k.call(u,h,c,e.name)),e.attr(c,0<h.length?h:null))});y.addAttributeFilter("class",function(a){for(var b=a.length,c,d;b--;)if(c=a[b],d=c.attr("class"))d=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",0<d.length?d:null)});y.addAttributeFilter("data-mce-type",
function(a,b,c){b=a.length;for(var d;b--;)d=a[b],"bookmark"!==d.attributes.map["data-mce-type"]||c.cleanup||d.remove()});y.addNodeFilter("noscript",function(a){for(var b=a.length,c;b--;)if(c=a[b].firstChild)c.value=f.decode(c.value)});y.addNodeFilter("script,style",function(a,b){function c(a){return a.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((\x3c!--)?(\s*\/\/)?\s*<!\[CDATA\[|(\x3c!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*\x3c!--|\/\*\s*\x3c!--\s*\*\/)\s*[\r\n]*/gi,
"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(--\x3e)?|\s*\/\/\s*\]\]>(--\x3e)?|\/\/\s*(--\x3e)?|\]\]>|\/\*\s*--\x3e\s*\*\/|\s*--\x3e\s*)\s*$/g,"")}for(var d=a.length,e,h,f;d--;)e=a[d],h=e.firstChild?e.firstChild.value:"","script"===b?((f=e.attr("type"))&&e.attr("type","mce-no/type"==f?null:f.replace(/^mce\-/,"")),0<h.length&&(e.firstChild.value="// <![CDATA[\n"+c(h)+"\n// ]]\x3e")):0<h.length&&(e.firstChild.value="\x3c!--\n"+c(h)+"\n--\x3e")});y.addNodeFilter("#comment",function(a){for(var b=a.length,c;b--;)c=
a[b],0===c.value.indexOf("[CDATA[")?(c.name="#cdata",c.type=4,c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===c.value.indexOf("mce:protected ")&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))});y.addNodeFilter("xml:namespace,input",function(a,b){for(var c=a.length,d;c--;)d=a[c],7===d.type?d.remove():1===d.type&&("input"!==b||"type"in d.attributes.map||d.attr("type","text"))});b.fix_list_elements&&y.addNodeFilter("ul,ol",function(a){for(var b=a.length,c,d;b--;)c=a[b],
d=c.parent,("ul"===d.name||"ol"===d.name)&&c.prev&&"li"===c.prev.name&&c.prev.append(c)});y.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)});return{schema:q,addNodeFilter:y.addNodeFilter,addAttributeFilter:y.addAttributeFilter,serialize:function(d,f){var k,n,u;c.ie&&0<p.select("script,style,select,map").length?(k=d.innerHTML,d=d.cloneNode(!1),p.setHTML(d,k)):d=d.cloneNode(!0);
k=d.ownerDocument.implementation;k.createHTMLDocument&&(n=k.createHTMLDocument(""),a("BODY"==d.nodeName?d.childNodes:[d],function(a){n.body.appendChild(n.importNode(a,!0))}),d="BODY"!=d.nodeName?n.body.firstChild:n.body,u=p.doc,p.doc=n);f=f||{};f.format=f.format||"html";f.selection&&(f.forced_root_block="");f.no_events||(f.node=d,this.onPreProcess(f));k=new e(b,q);f.content=k.serialize(y.parse(h(f.getInner?d.innerHTML:p.getOuterHTML(d)),f));f.cleanup||(f.content=f.content.replace(/\uFEFF/g,""));if(!f.no_events)this.onPostProcess(f);
u&&(p.doc=u);f.node=null;return f.content},addRules:function(a){q.addValidElements(a)},setRules:function(a){q.setValidElements(a)},onPreProcess:function(a){k&&k.fire("PreProcess",a)},onPostProcess:function(a){k&&k.fire("PostProcess",a)}}}});w("tinymce/dom/TridentSelection",[],function(){return function(l){function g(b,c){var e,a=0,f,u,m,t,p,q=-1,g;e=b.duplicate();e.collapse(c);g=e.parentElement();if(g.ownerDocument===l.dom.doc){for(;"false"===g.contentEditable;)g=g.parentNode;if(!g.hasChildNodes())return{node:g,
inside:1};m=g.children;for(f=m.length-1;a<=f;)if(p=Math.floor((a+f)/2),t=m[p],e.moveToElementText(t),q=e.compareEndPoints(c?"StartToStart":"EndToEnd",b),0<q)f=p-1;else if(0>q)a=p+1;else return{node:t};if(0>q)for(t?e.collapse(!1):(e.moveToElementText(g),e.collapse(!0),t=g,u=!0),a=0;0!==e.compareEndPoints(c?"StartToStart":"StartToEnd",b)&&0!==e.move("character",1)&&g==e.parentElement();)a++;else for(e.collapse(!0),a=0;0!==e.compareEndPoints(c?"StartToStart":"StartToEnd",b)&&0!==e.move("character",-1)&&
g==e.parentElement();)a++;return{node:t,position:q,offset:a,inside:u}}}var f=this,e=l.dom,b=!1;this.getBookmark=function(b){function c(a){var b,c,d,f,h=[];b=a.parentNode;for(c=e.getRoot().parentNode;b!=c&&9!==b.nodeType;){d=b.children;for(f=d.length;f--;)if(a===d[f]){h.push(f);break}a=b;b=b.parentNode}return h}function f(b){if(b=g(a,b))return{position:b.position,offset:b.offset,indexes:c(b.node),inside:b.inside}}var a=l.getRng(),h={};2===b&&(a.item?h.start={ctrl:!0,indexes:c(a.item(0))}:(h.start=
f(!0),l.isCollapsed()||(h.end=f())));return h};this.moveToBookmark=function(b){function c(a){var b,c,d,f;b=e.getRoot();for(c=a.length-1;0<=c;c--)f=b.children,d=a[c],d<=f.length-1&&(b=f[d]);return b}function f(e){var k=b[e?"start":"end"],t,p,q;k&&(t=0<k.position,p=h.createTextRange(),p.moveToElementText(c(k.indexes)),q=k.offset,void 0!==q?(p.collapse(k.inside||t),p.moveStart("character",t?-q:q)):p.collapse(e),a.setEndPoint(e?"StartToStart":"EndToStart",p),e&&a.collapse(!0))}var a,h=e.doc.body;b.start&&
(b.start.ctrl?(a=h.createControlRange(),a.addElement(c(b.start.indexes))):(a=h.createTextRange(),f(!0),f()),a.select())};this.addRange=function(d){function c(a){var c,d,g,r,s;g=e.create("a");c=a?h:m;d=a?u:t;r=f.duplicate();if(c==p||c==p.documentElement)c=q,d=0;3==c.nodeType?(c.parentNode.insertBefore(g,c),r.moveToElementText(g),r.moveStart("character",d),e.remove(g),f.setEndPoint(a?"StartToStart":"EndToEnd",r)):(s=c.childNodes,s.length?(d>=s.length?e.insertAfter(g,s[s.length-1]):c.insertBefore(g,
s[d]),r.moveToElementText(g)):c.canHaveHTML&&(c.innerHTML="<span>&#xFEFF;</span>",g=c.firstChild,r.moveToElementText(g),r.collapse(b)),f.setEndPoint(a?"StartToStart":"EndToEnd",r),e.remove(g))}var f,a,h,u,m,t,p=l.dom.doc,q=p.body,g,s;h=d.startContainer;u=d.startOffset;m=d.endContainer;t=d.endOffset;f=q.createTextRange();if(h==m&&1==h.nodeType){if(u==t&&!h.hasChildNodes()){if(h.canHaveHTML){(d=h.previousSibling)&&!d.hasChildNodes()&&e.isBlock(d)?d.innerHTML="&#xFEFF;":d=null;h.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>";
f.moveToElementText(h.lastChild);f.select();e.doc.selection.clear();h.innerHTML="";d&&(d.innerHTML="");return}u=e.nodeIndex(h);h=h.parentNode}if(u==t-1)try{if(s=h.childNodes[u],a=q.createControlRange(),a.addElement(s),a.select(),g=l.getRng(),g.item&&s===g.item(0))return}catch(r){}}c(!0);c();f.select()};this.getRangeAt=function(){function b(a){var d=g(c,a),e,f,h=0,m;e=d.node;f=d.offset;if(d.inside&&!e.hasChildNodes())k[a?"setStart":"setEnd"](e,0);else if(void 0===f)k[a?"setStartBefore":"setEndAfter"](e);
else{if(0>d.position){d=d.inside?e.firstChild:e.nextSibling;if(!d){k[a?"setStartAfter":"setEndAfter"](e);return}if(!f){if(3==d.nodeType)k[a?"setStart":"setEnd"](d,0);else k[a?"setStartBefore":"setEndBefore"](d);return}for(;d;){if(3==d.nodeType&&(m=d.nodeValue,h+=m.length,h>=f)){e=d;h-=f;h=m.length-h;break}d=d.nextSibling}}else{d=e.previousSibling;if(!d)return k[a?"setStartBefore":"setEndBefore"](e);if(!f){if(3==e.nodeType)k[a?"setStart":"setEnd"](d,e.nodeValue.length);else k[a?"setStartAfter":"setEndAfter"](d);
return}for(;d;){if(3==d.nodeType&&(h+=d.nodeValue.length,h>=f)){e=d;h-=f;break}d=d.previousSibling}}k[a?"setStart":"setEnd"](e,h)}}var c=l.getRng(),k=e.createRng(),a,h,u,m;a=c.item?c.item(0):c.parentElement();if(a.ownerDocument!=e.doc)return k;h=l.isCollapsed();if(c.item)return k.setStart(a.parentNode,e.nodeIndex(a)),k.setEnd(k.startContainer,k.startOffset+1),k;try{b(!0),h||b()}catch(t){if(-2147024809==t.number)m=f.getBookmark(2),u=c.duplicate(),u.collapse(!0),a=u.parentElement(),h||(u=c.duplicate(),
u.collapse(!1),u=u.parentElement(),u.innerHTML=u.innerHTML),a.innerHTML=a.innerHTML,f.moveToBookmark(m),c=l.getRng(),b(!0),h||b();else throw t;}return k}}});w("tinymce/util/VK",["tinymce/Env"],function(l){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(g){return g.shiftKey||g.ctrlKey||g.altKey},metaKeyPressed:function(g){return l.mac?g.metaKey:g.ctrlKey&&!g.altKey}}});w("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools",
"tinymce/Env"],function(l,g,f){return function(e,b){function d(a){var c=b.settings.object_resizing;if(!1===c||f.iOS)return!1;"string"!=typeof c&&(c="table,img,div");return"false"===a.getAttribute("data-mce-resize")?!1:b.dom.is(a,c)}function c(a){var c,d,e;c=a.screenX-D;d=a.screenY-I;A=c*z[2]+F;C=d*z[3]+N;A=5>A?5:A;C=5>C?5:C;if("IMG"==n.nodeName&&!1!==b.settings.resize_img_proportional?!l.modifierPressed(a):l.modifierPressed(a)||"IMG"==n.nodeName&&0!==z[2]*z[3])E(c)>E(d)?(C=J(A*M),A=J(C/M)):(A=J(C/
M),C=J(A*M));r.setStyles(B,{width:A,height:C});a=z.startPos.x+c;e=z.startPos.y+d;a=0<a?a:0;e=0<e?e:0;r.setStyles(G,{left:a,top:e,display:"block"});G.innerHTML=A+" &times; "+C;0>z[2]&&B.clientWidth<=A&&r.setStyle(B,"left",L+(F-A));0>z[3]&&B.clientHeight<=C&&r.setStyle(B,"top",H+(N-C));c=Q.scrollWidth-Y;d=Q.scrollHeight-W;0!==c+d&&r.setStyles(G,{left:a-c,top:e-d});P||(b.fire("ObjectResizeStart",{target:n,width:F,height:N}),P=!0)}function k(){function d(a,c){c&&(n.style[a]||!b.schema.isValid(n.nodeName.toLowerCase(),
a)?r.setStyle(n,a,c):r.setAttrib(n,a,c))}P=!1;d("width",A);d("height",C);r.unbind(R,"mousemove",c);r.unbind(R,"mouseup",k);O!=R&&(r.unbind(O,"mousemove",c),r.unbind(O,"mouseup",k));r.remove(B);r.remove(G);S&&"TABLE"!=n.nodeName||a(n);b.fire("ObjectResized",{target:n,width:A,height:C});r.setAttrib(n,"style",r.getAttrib(n,"style"));b.nodeChanged()}function a(a,e,m){var u,g,t;q();u=r.getPos(a,Q);L=u.x;H=u.y;u=a.getBoundingClientRect();g=u.width||u.right-u.left;t=u.height||u.bottom-u.top;n!=a&&(p(),n=
a,A=C=0);u=b.fire("ObjectSelected",{target:a});d(a)&&!u.isDefaultPrevented()?v(x,function(a,b){function d(b){D=b.screenX;I=b.screenY;F=n.clientWidth;N=n.clientHeight;M=N/F;z=a;a.startPos={x:g*a[0]+L,y:t*a[1]+H};Y=Q.scrollWidth;W=Q.scrollHeight;B=n.cloneNode(!0);r.addClass(B,"mce-clonedresizable");r.setAttrib(B,"data-mce-bogus","all");B.contentEditable=!1;B.unSelectabe=!0;r.setStyles(B,{left:L,top:H,margin:0});B.removeAttribute("data-mce-selected");Q.appendChild(B);r.bind(R,"mousemove",c);r.bind(R,
"mouseup",k);O!=R&&(r.bind(O,"mousemove",c),r.bind(O,"mouseup",k));G=r.add(Q,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},F+" &times; "+N)}var h;e?b==e&&d(m):((h=r.get("mceResizeHandle"+b))?r.show(h):(h=Q,h=r.add(h,"div",{id:"mceResizeHandle"+b,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+b+"-resize; margin:0; padding:0"}),f.ie&&(h.contentEditable=!1)),a.elm||(r.bind(h,"mousedown",function(a){a.stopImmediatePropagation();a.preventDefault();d(a)}),
a.elm=h),r.setStyles(h,{left:g*a[0]+L-h.offsetWidth/2,top:t*a[1]+H-h.offsetHeight/2}))}):h();n.setAttribute("data-mce-selected","1")}function h(){var a,b;q();n&&n.removeAttribute("data-mce-selected");for(a in x)if(b=r.get("mceResizeHandle"+a))r.unbind(b),r.remove(b)}function u(b){function c(a,b){if(a){do if(a===b)return!0;while(a=a.parentNode)}}var d;if(!P){v(r.select("img[data-mce-selected],hr[data-mce-selected]"),function(a){a.removeAttribute("data-mce-selected")});d="mousedown"==b.type?b.target:
e.getNode();d=r.$(d).closest(S?"table":"table,img,hr")[0];if(c(d,Q)&&(y(),b=e.getStart(!0),c(b,d)&&c(e.getEnd(!0),d)&&(!S||d!=b&&"IMG"!==b.nodeName))){a(d);return}h()}}function m(c){c=c.srcElement;var d,e,f,h,k,m;d=c.getBoundingClientRect();k=w.clientX-d.left;m=w.clientY-d.top;for(e in x)if(d=x[e],f=c.offsetWidth*d[0],h=c.offsetHeight*d[1],8>E(f-k)&&8>E(h-m)){z=d;break}P=!0;b.fire("ObjectResizeStart",{target:n,width:n.clientWidth,height:n.clientHeight});b.getDoc().selection.empty();a(c,e,w)}function t(a){var c=
a.srcElement;if(c!=n)if(b.fire("ObjectSelected",{target:c}),p(),0===c.id.indexOf("mceResizeHandle"))a.returnValue=!1;else if("IMG"==c.nodeName||"TABLE"==c.nodeName)h(),(n=c)&&c.attachEvent&&c.attachEvent("onresizestart",m)}function p(){n&&n.detachEvent&&n.detachEvent("onresizestart",m)}function q(){for(var a in x){var b=x[a];b.elm&&(r.unbind(b.elm),delete b.elm)}}function y(){try{b.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(a){}}function s(a){var b;if(S){b=R.body.createControlRange();
try{return b.addElement(a),b.select(),!0}catch(c){}}}var r=b.dom,v=g.each,n,B,G,x,z,w,D,I,L,H,F,N,M,P,A,C,R=b.getDoc(),O=document,S=f.ie&&11>f.ie,E=Math.abs,J=Math.round,Q=b.getBody(),Y,W;x={n:[0.5,0,0,-1],e:[1,0.5,1,0],s:[0.5,1,0,1],w:[0,0.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};b.contentStyles.push(".mce-content-body div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: "+(zenarioAB.isOpen?31E4:1E4)+"}.mce-content-body .mce-resizehandle:hover {background: #000}.mce-content-body img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}.mce-content-body .mce-clonedresizable {position: absolute;"+
(f.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: "+(zenarioAB.isOpen?31E4:1E4)+"}.mce-content-body .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");b.on("init",function(){S?(b.on("ObjectResized",function(a){"TABLE"!=a.target.nodeName&&(h(),
s(a.target))}),Q&&Q.attachEvent&&Q.attachEvent("oncontrolselect",t),b.on("mousedown",function(a){w=a})):(y(),11<=f.ie&&(b.on("mouseup",function(a){var c=a.target.nodeName;!P&&/^(TABLE|IMG|HR)$/.test(c)&&(b.selection.select(a.target,"TABLE"==c),b.nodeChanged())}),b.dom.bind(Q,"mscontrolselect",function(a){/^(TABLE|IMG|HR)$/.test(a.target.nodeName)&&(a.preventDefault(),"IMG"==a.target.tagName&&window.setTimeout(function(){b.selection.select(a.target)},0))})));b.on("nodechange ResizeEditor",u);b.on("keydown keyup",
function(a){n&&"TABLE"==n.nodeName&&u(a)});b.on("hide",h)});b.on("remove",q);return{isResizable:d,showResizeRect:a,hideResizeRect:h,updateResizeRect:u,controlSelect:s,destroy:function(){n=B=null;S&&(p(),Q&&Q.detachEvent&&Q.detachEvent("oncontrolselect",t))}}}});w("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools"],function(l,g){function f(e){var b=e.dom;this.getBookmark=function(d,c){function f(a,c){var d=0;g.each(b.select(a),function(a,b){a==c&&(d=b)});return d}function a(a){function b(c){var d,
e;e=c?"start":"end";d=a[e+"Container"];e=a[e+"Offset"];1==d.nodeType&&"TR"==d.nodeName&&(d=d.childNodes,d=d[Math.min(c?e:e-1,d.length-1)])&&(e=c?0:d.childNodes.length,a["set"+(c?"Start":"End")](d,e))}b(!0);b();return a}function h(){function a(d,e){var h=d[e?"startContainer":"endContainer"],k=d[e?"startOffset":"endOffset"],m=[],p,n=0;if(3==h.nodeType){if(c)for(p=h.previousSibling;p&&3==p.nodeType;p=p.previousSibling)k+=p.nodeValue.length;m.push(k)}else p=h.childNodes,k>=p.length&&p.length&&(n=1,k=
Math.max(0,p.length-1)),m.push(b.nodeIndex(p[k],c)+n);for(;h&&h!=f;h=h.parentNode)m.push(b.nodeIndex(h,c));return m}var d=e.getRng(!0),f=b.getRoot(),h={};h.start=a(d,!0);e.isCollapsed()||(h.end=a(d));return h}var u,m,t,p,q;if(2==d)return m=(q=e.getNode())?q.nodeName:null,"IMG"==m?{name:m,index:f(m,q)}:e.tridentSel?e.tridentSel.getBookmark(d):h();if(d)return{rng:e.getRng()};u=e.getRng();t=b.uniqueId();p=e.isCollapsed();if(u.duplicate||u.item){if(u.item)return q=u.item(0),m=q.nodeName,{name:m,index:f(m,
q)};m=u.duplicate();try{u.collapse(),u.pasteHTML('<span data-mce-type="bookmark" id="'+t+'_start" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'),p||(m.collapse(!1),u.moveToElementText(m.parentElement()),0===u.compareEndPoints("StartToEnd",m)&&m.move("character",-1),m.pasteHTML('<span data-mce-type="bookmark" id="'+t+'_end" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'))}catch(y){return null}}else{q=e.getNode();m=q.nodeName;if("IMG"==m)return{name:m,index:f(m,q)};m=a(u.cloneRange());
p||(m.collapse(!1),m.insertNode(b.create("span",{"data-mce-type":"bookmark",id:t+"_end",style:"overflow:hidden;line-height:0px"},"&#xFEFF;")));u=a(u);u.collapse(!0);u.insertNode(b.create("span",{"data-mce-type":"bookmark",id:t+"_start",style:"overflow:hidden;line-height:0px"},"&#xFEFF;"))}e.moveToBookmark({id:t,keep:1});return{id:t}};this.moveToBookmark=function(d){function c(a){var b=d[a?"start":"end"],c,e,f;if(b){f=b[0];e=u;for(c=b.length-1;1<=c;c--){e=e.childNodes;if(b[c]>e.length-1)return;e=e[b[c]]}3===
e.nodeType&&(f=Math.min(b[0],e.nodeValue.length));1===e.nodeType&&(f=Math.min(b[0],e.childNodes.length));a?h.setStart(e,f):h.setEnd(e,f)}return!0}function f(a){var c=b.get(d.id+"_"+a),e,h,k;k=d.keep;if(c&&(e=c.parentNode,"start"==a?(k?(e=c.firstChild,h=1):h=b.nodeIndex(c),m=t=e,p=q=h):(k?(e=c.firstChild,h=1):h=b.nodeIndex(c),t=e,q=h),!k)){k=c.previousSibling;e=c.nextSibling;for(g.each(g.grep(c.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});c=b.get(d.id+"_"+
a);)b.remove(c,1);k&&e&&k.nodeType==e.nodeType&&3==k.nodeType&&!l.opera&&(h=k.nodeValue.length,k.appendData(e.nodeValue),b.remove(e),"start"==a?(m=t=k,p=q=h):(t=k,q=h))}}function a(a){!b.isBlock(a)||a.innerHTML||l.ie||(a.innerHTML='<br data-mce-bogus="1" />');return a}var h,u,m,t,p,q;if(d)if(d.start){h=b.createRng();u=b.getRoot();if(e.tridentSel)return e.tridentSel.moveToBookmark(d);c(!0)&&c()&&e.setRng(h)}else d.id?(f("start"),f("end"),m&&(h=b.createRng(),h.setStart(a(m),p),h.setEnd(a(t),q),e.setRng(h))):
d.name?e.select(b.select(d.name)[d.index]):d.rng&&e.setRng(d.rng)}}f.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")};return f});w("tinymce/dom/Selection","tinymce/dom/TreeWalker tinymce/dom/TridentSelection tinymce/dom/ControlSelection tinymce/dom/RangeUtils tinymce/dom/BookmarkManager tinymce/Env tinymce/util/Tools".split(" "),function(l,g,f,e,b,d,c){function k(a,c,d,e){this.dom=a;this.win=c;this.serializer=d;this.editor=e;this.bookmarkManager=
new b(this);this.controlSelection=new f(this,e);this.win.getSelection||(this.tridentSel=new g(this))}var a=c.each,h=c.trim,u=d.ie;k.prototype={setCursorLocation:function(a,b){var c=this.dom.createRng();a?(c.setStart(a,b),c.setEnd(a,b),this.setRng(c),this.collapse(!1)):(this._moveEndPoint(c,this.editor.getBody(),!0),this.setRng(c))},getContent:function(a){var b=this.getRng(),c=this.dom.create("body"),d=this.getSel(),e,f;a=a||{};e=f="";a.get=!0;a.format=a.format||"html";a.selection=!0;this.editor.fire("BeforeGetContent",
a);if("text"==a.format)return this.isCollapsed()?"":b.text||(d.toString?d.toString():"");b.cloneContents?(b=b.cloneContents())&&c.appendChild(b):b.item!==U||b.htmlText!==U?(c.innerHTML="<br>"+(b.item?b.item(0).outerHTML:b.htmlText),c.removeChild(c.firstChild)):c.innerHTML=b.toString();/^\s/.test(c.innerHTML)&&(e=" ");/\s+$/.test(c.innerHTML)&&(f=" ");a.getInner=!0;a.content=this.isCollapsed()?"":e+this.serializer.serialize(c,a)+f;this.editor.fire("GetContent",a);return a.content},setContent:function(a,
b){var c=this.getRng(),d,e=this.win.document,f;b=b||{format:"html"};b.set=!0;b.selection=!0;b.content=a;b.no_events||this.editor.fire("BeforeSetContent",b);a=b.content;if(c.insertNode){a+='<span id="__caret">_</span>';c.startContainer==e&&c.endContainer==e?e.body.innerHTML=a:(c.deleteContents(),0===e.body.childNodes.length?e.body.innerHTML=a:c.createContextualFragment?c.insertNode(c.createContextualFragment(a)):(d=e.createDocumentFragment(),f=e.createElement("div"),d.appendChild(f),f.outerHTML=a,
c.insertNode(d)));d=this.dom.get("__caret");c=e.createRange();c.setStartBefore(d);c.setEndBefore(d);this.setRng(c);this.dom.remove("__caret");try{this.setRng(c)}catch(h){}}else c.item&&(e.execCommand("Delete",!1,null),c=this.getRng()),/^\s+/.test(a)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+a),this.dom.remove("__mce_tmp")):c.pasteHTML(a);b.no_events||this.editor.fire("SetContent",b)},getStart:function(a){var b=this.getRng(),c;if(b.duplicate||b.item){if(b.item)return b.item(0);c=b.duplicate();c.collapse(1);
c=c.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());for(b=a=b.parentElement();a=a.parentNode;)if(a==c){c=b;break}return c}c=b.startContainer;1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||(c=c.childNodes[Math.min(c.childNodes.length-1,b.startOffset)]));return c&&3==c.nodeType?c.parentNode:c},getEnd:function(a){var b=this.getRng(),c,d;if(b.duplicate||b.item){if(b.item)return b.item(0);b=b.duplicate();b.collapse(0);c=b.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());
return c&&"BODY"==c.nodeName?c.lastChild||c:c}c=b.endContainer;d=b.endOffset;1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||(c=c.childNodes[0<d?d-1:d]));return c&&3==c.nodeType?c.parentNode:c},getBookmark:function(a,b){return this.bookmarkManager.getBookmark(a,b)},moveToBookmark:function(a){return this.bookmarkManager.moveToBookmark(a)},select:function(a,b){var c=this.dom,d=c.createRng();this.lastFocusBookmark=null;if(a){if(!b&&this.controlSelection.controlSelect(a))return;c=c.nodeIndex(a);d.setStart(a.parentNode,
c);d.setEnd(a.parentNode,c+1);b&&(this._moveEndPoint(d,a,!0),this._moveEndPoint(d,a));this.setRng(d)}return a},isCollapsed:function(){var a=this.getRng(),b=this.getSel();return!a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!b||a.collapsed},collapse:function(a){var b=this.getRng(),c;b.item&&(c=b.item(0),b=this.win.document.body.createTextRange(),b.moveToElementText(c));b.collapse(!!a);this.setRng(b)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},
getRng:function(a){function b(a,c,d){try{return c.compareBoundaryPoints(a,d)}catch(e){return-1}}var c,d,e=this.win.document,f;if(!a&&this.lastFocusBookmark)return a=this.lastFocusBookmark,a.startContainer?(d=e.createRange(),d.setStart(a.startContainer,a.startOffset),d.setEnd(a.endContainer,a.endOffset)):d=a,d;if(a&&this.tridentSel)return this.tridentSel.getRangeAt(0);try{if(c=this.getSel())d=0<c.rangeCount?c.getRangeAt(0):c.createRange?c.createRange():e.createRange()}catch(h){}if(u&&d&&d.setStart&&
e.selection){try{f=e.selection.createRange()}catch(k){}f&&f.item&&(a=f.item(0),d=e.createRange(),d.setStartBefore(a),d.setEndAfter(a))}d||(d=e.createRange?e.createRange():e.body.createTextRange());d.setStart&&9===d.startContainer.nodeType&&d.collapsed&&(a=this.dom.getRoot(),d.setStart(a,0),d.setEnd(a,0));this.selectedRange&&this.explicitRange&&(0===b(d.START_TO_START,d,this.selectedRange)&&0===b(d.END_TO_END,d,this.selectedRange)?d=this.explicitRange:this.explicitRange=this.selectedRange=null);return d},
setRng:function(a,b){var c;if(a)if(a.select)try{a.select()}catch(d){}else if(!this.tridentSel){if(c=this.getSel()){this.explicitRange=a;try{c.removeAllRanges(),c.addRange(a)}catch(e){}!1===b&&c.extend&&(c.collapse(a.endContainer,a.endOffset),c.extend(a.startContainer,a.startOffset));this.selectedRange=0<c.rangeCount?c.getRangeAt(0):null}}else if(a.cloneRange)try{this.tridentSel.addRange(a)}catch(f){}},setNode:function(a){this.setContent(this.dom.getOuterHTML(a));return a},getNode:function(){function a(b,
c){for(var d=b;b&&3===b.nodeType&&0===b.length;)b=c?b.nextSibling:b.previousSibling;return b||d}var b=this.getRng(),c,d=b.startContainer,e=b.endContainer,f=b.startOffset,h=b.endOffset,k=this.dom.getRoot();if(!b)return k;if(b.setStart)return c=b.commonAncestorContainer,!b.collapsed&&(d==e&&2>h-f&&d.hasChildNodes()&&(c=d.childNodes[f]),3===d.nodeType&&3===e.nodeType&&(d=d.length===f?a(d.nextSibling,!0):d.parentNode,e=0===h?a(e.previousSibling,!1):e.parentNode,d&&d===e))?d:c&&3==c.nodeType?c.parentNode:
c;c=b.item?b.item(0):b.parentElement();c.ownerDocument!==this.win.document&&(c=k);return c},getSelectedBlocks:function(a,b){var c=this.dom,d,e,f=[];e=c.getRoot();a=c.getParent(a||this.getStart(),c.isBlock);b=c.getParent(b||this.getEnd(),c.isBlock);a&&a!=e&&f.push(a);if(a&&b&&a!=b){d=a;for(var h=new l(a,e);(d=h.next())&&d!=b;)c.isBlock(d)&&f.push(d)}b&&a!=b&&b!=e&&f.push(b);return f},isForward:function(){var a=this.dom,b=this.getSel(),c;if(!b||!b.anchorNode||!b.focusNode)return!0;c=a.createRng();c.setStart(b.anchorNode,
b.anchorOffset);c.collapse(!0);a=a.createRng();a.setStart(b.focusNode,b.focusOffset);a.collapse(!0);return 0>=c.compareBoundaryPoints(c.START_TO_START,a)},normalize:function(){var a=this.getRng();!u&&(new e(this.dom)).normalize(a)&&this.setRng(a,this.isForward());return a},selectorChanged:function(b,c){var d=this,e;d.selectorChangedData||(d.selectorChangedData={},e={},d.editor.on("NodeChange",function(b){var c=b.element,f=d.dom,h=f.getParents(c,null,f.getRoot()),k={};a(d.selectorChangedData,function(b,
c){a(h,function(d){if(f.is(d,c))return e[c]||(a(b,function(a){a(!0,{node:d,selector:c,parents:h})}),e[c]=b),k[c]=b,!1})});a(e,function(b,d){k[d]||(delete e[d],a(b,function(a){a(!1,{node:c,selector:d,parents:h})}))})}));d.selectorChangedData[b]||(d.selectorChangedData[b]=[]);d.selectorChangedData[b].push(c);return d},getScrollContainer:function(){for(var a,b=this.dom.getRoot();b&&"BODY"!=b.nodeName;){if(b.scrollHeight>b.clientHeight){a=b;break}b=b.parentNode}return a},scrollIntoView:function(a){function b(a){for(var c=
0,d=0;a&&a.nodeType;)c+=a.offsetLeft||0,d+=a.offsetTop||0,a=a.offsetParent;return{x:c,y:d}}var c,d=this.dom,e;if("BODY"!=d.getRoot().nodeName&&(c=this.getScrollContainer())){a=b(a).y-b(c).y;e=c.clientHeight;d=c.scrollTop;if(a<d||a+25>d+e)c.scrollTop=a<d?a:a-e+25;return}c=d.getViewPort(this.editor.getWin());a=d.getPos(a).y;d=c.y;e=c.h;(a<c.y||a+25>d+e)&&this.editor.getWin().scrollTo(0,a<d?a:a-e+25)},placeCaretAt:function(a,b){var c=this.editor.getDoc(),d,e;if(c.caretPositionFromPoint)e=c.caretPositionFromPoint(a,
b),d=c.createRange(),d.setStart(e.offsetNode,e.offset),d.collapse(!0);else if(c.caretRangeFromPoint)d=c.caretRangeFromPoint(a,b);else if(c.body.createTextRange){d=c.body.createTextRange();try{d.moveToPoint(a,b),d.collapse(!0)}catch(f){d.collapse(b<c.body.clientHeight)}}this.setRng(d)},_moveEndPoint:function(a,b,c){var e=b,f=new l(b,e),k=this.dom.schema.getNonEmptyElements();do{if(3==b.nodeType&&0!==h(b.nodeValue).length){c?a.setStart(b,0):a.setEnd(b,b.nodeValue.length);return}if(k[b.nodeName]&&!/^(TD|TH)$/.test(b.nodeName)){c?
a.setStartBefore(b):"BR"==b.nodeName?a.setEndBefore(b):a.setEndAfter(b);return}if(d.ie&&11>d.ie&&this.dom.isBlock(b)&&this.dom.isEmpty(b)){c?a.setStart(b,0):a.setEnd(b,0);return}}while(b=c?f.next():f.prev());"BODY"==e.nodeName&&(c?a.setStart(e,0):a.setEnd(e,e.childNodes.length))},destroy:function(){this.win=null;this.controlSelection.destroy()}};return k});w("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(l,g){var f=g.each;return function(e){this.compare=function(b,
d){function c(a){var b={};f(e.getAttribs(a),function(c){c=c.nodeName.toLowerCase();0!==c.indexOf("_")&&"style"!==c&&"data-mce-style"!==c&&(b[c]=e.getAttrib(a,c))});return b}function k(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d)){c=b[d];if("undefined"==typeof c||a[d]!=c)return!1;delete b[d]}for(d in b)if(b.hasOwnProperty(d))return!1;return!0}return b.nodeName==d.nodeName&&k(c(b),c(d))&&k(e.parseStyle(e.getAttrib(b,"style")),e.parseStyle(e.getAttrib(d,"style")))?!l.isBookmarkNode(b)&&!l.isBookmarkNode(d):
!1}}});w("tinymce/fmt/Preview",["tinymce/util/Tools"],function(l){var g=l.each;return{getCssText:function(f,e){var b,d=f.dom,c="",k,a;a=f.settings.preview_styles;if(!1===a)return"";a||(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");if("string"==typeof e){e=f.formatter.get(e);if(!e)return;e=e[0]}b=d.create(e.block||e.inline||"span");g(e.styles,function(a,c){(a=a.replace(/%(\w+)/g,""))&&d.setStyle(b,c,
a)});g(e.attributes,function(a,c){(a=a.replace(/%(\w+)/g,""))&&d.setAttrib(b,c,a)});g(e.classes,function(a){a=a.replace(/%(\w+)/g,"");d.hasClass(b,a)||d.addClass(b,a)});f.fire("PreviewFormats");d.setStyles(b,{position:"absolute",left:-65535});f.getBody().appendChild(b);k=d.getStyle(f.getBody(),"fontSize",!0);k=/px$/.test(k)?parseInt(k,10):0;g(a.split(" "),function(a){var e=d.getStyle(b,a,!0);if("background-color"==a&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(e)&&(e=d.getStyle(f.getBody(),a,!0),"#ffffff"==
d.toHex(e).toLowerCase()))return;if("color"!=a||"#000000"!=d.toHex(e).toLowerCase()){if("font-size"==a&&/em|%$/.test(e)){if(0===k)return;e=parseFloat(e,10)/(/%$/.test(e)?100:1);e=e*k+"px"}"border"==a&&e&&(c+="padding:0 2px;");c+=a+":"+e+";"}});f.fire("AfterPreviewFormats");d.remove(b);return c}}});w("tinymce/Formatter","tinymce/dom/TreeWalker tinymce/dom/RangeUtils tinymce/dom/BookmarkManager tinymce/dom/ElementUtils tinymce/util/Tools tinymce/fmt/Preview".split(" "),function(l,g,f,e,b,d){return function(c){function k(a){a.nodeType&&
(a=a.nodeName);return!!c.schema.getTextBlockElements()[a.toLowerCase()]}function a(a,b){return A.getParents(a,b,A.getRoot())}function h(a){return 1===a.nodeType&&"_mce_caret"===a.id}function u(a){return a?P[a]:P}function m(a,b){a&&("string"!==typeof a?T(a,function(a,b){m(b,a)}):(b=b.length?b:[b],T(b,function(a){a.deep===$&&(a.deep=!a.selector);a.split===$&&(a.split=!a.selector||a.inline);a.remove===$&&a.selector&&!a.inline&&(a.remove="none");a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0);"string"===
typeof a.classes&&(a.classes=a.classes.split(/\s+/))}),P[a]=b))}function t(a){var b;c.dom.getParent(a,function(a){return(b=c.dom.getStyle(a,"text-decoration"))&&"none"!==b});return b}function p(a){var b;1===a.nodeType&&a.parentNode&&1===a.parentNode.nodeType&&(b=t(a.parentNode),c.dom.getStyle(a,"color")&&b?c.dom.setStyle(a,"text-decoration",b):c.dom.getStyle(a,"textdecoration")===b&&c.dom.setStyle(a,"text-decoration",null))}function q(a,b,d){function e(a,c){c=c||r;if(a){if(c.onformat)c.onformat(a,
c,b,d);T(c.styles,function(c,d){A.setStyle(a,d,G(c,b))});if(c.styles){var f=A.getAttrib(a,"style");f&&a.setAttribute("data-mce-style",f)}T(c.attributes,function(c,d){A.setAttrib(a,d,G(c,b))});T(c.classes,function(c){c=G(c,b);A.hasClass(a,c)||A.addClass(a,c)})}}function f(){var a=c.selection.getRng(),b=a.startContainer,e=a.endContainer;if(b!=e&&0===a.endOffset){a:{e=new l(e);for(d=e.current();d;d=e.prev())if(1<d.childNodes.length||d==b||"BR"==d.tagName){b=d;break a}b=void 0}a.setEnd(b,3==b.nodeType?
b.length:b.childNodes.length)}return a}function g(c,d,f){var u=[],p,q,t=!0;p=r.inline||r.block;q=A.create(p);e(q);R.walk(c,function(c){function d(c){var l,E,v,J,B;B=t;l=c.nodeName.toLowerCase();E=c.parentNode.nodeName.toLowerCase();1===c.nodeType&&aa(c)&&(B=t,t="true"===aa(c),J=!0);if(n(l,"br"))g=0,r.block&&A.remove(c);else if(r.wrapper&&s(c,a,b))g=0;else if(t&&!J&&r.block&&!r.wrapper&&k(l)&&O(E,p))c=A.rename(c,p),e(c),u.push(c),g=0;else{if(r.selector&&(T(m,function(a){"collapsed"in a&&a.collapsed!==
y||!A.is(c,a.selector)||h(c)||(e(c,a),v=!0)}),!r.inline||v)){g=0;return}!t||J||!O(p,l)||!O(E,p)||!f&&3===c.nodeType&&1===c.nodeValue.length&&65279===c.nodeValue.charCodeAt(0)||h(c)||r.inline&&S(c)?(g=0,T(ba(c.childNodes),d),J&&(t=B),g=0):(g||(g=A.clone(q,W),c.parentNode.insertBefore(g,c),u.push(g)),g.appendChild(c))}}var g;T(c,d)});!0===r.links&&T(u,function(a){function b(a){"A"===a.nodeName&&e(a,r);T(ba(a.childNodes),b)}b(a)});T(u,function(c){function d(a){var b,c;T(a.childNodes,function(a){if(1==
a.nodeType&&!X(a)&&!h(a))return b=a,W});b&&!X(b)&&v(b,r)&&(c=A.clone(b,W),e(c),A.replace(c,a,V),A.remove(b,1));return c||a}var f;f=function(a){var b=0;T(a.childNodes,function(a){x(a)||X(a)||b++});return b}(c);if((1<u.length||!S(c))&&0===f)A.remove(c,1);else if(r.inline||r.wrapper){r.exact||1!==f||(c=d(c));T(m,function(a){T(A.select(a.inline,c),function(c){X(c)||D(a,b,c,a.exact?c:null)})});if(s(c.parentNode,a,b))return A.remove(c,1),c=0,V;r.merge_with_parents&&A.getParent(c.parentNode,function(d){if(s(d,
a,b))return A.remove(c,1),c=0,V});c&&!1!==r.merge_siblings&&(c=H(L(c),c),c=H(c,L(c,V)))}})}var m=u(a),r=m[0],t,y=!d&&C.isCollapsed();if(r)if(d)d.nodeType?(t=A.createRng(),t.setStartBefore(d),t.setEndAfter(d),g(w(t,m),null,!0)):g(d,null,!0);else if(y&&r.inline&&!A.select("td.mce-item-selected,th.mce-item-selected").length)N("apply",a,b);else{var J=c.selection.getNode();E||!m[0].defaultBlock||A.getParent(J,A.isBlock)||q(m[0].defaultBlock);c.selection.setRng(f());t=C.getBookmark();g(w(C.getRng(V),m),
t);r.styles&&(r.styles.color||r.styles.textDecoration)&&(ga(J,p,"childNodes"),p(J));C.moveToBookmark(t);M(C.getRng(V));c.nodeChanged()}}function y(b,d,e,f){function h(a){var b,c,e,f,k;1===a.nodeType&&aa(a)&&(f=E,E="true"===aa(a),k=!0);b=ba(a.childNodes);if(E&&!k)for(c=0,e=m.length;c<e&&!D(m[c],d,a,a);c++);if(q.deep&&b.length){c=0;for(e=b.length;c<e;c++)h(b[c]);k&&(E=f)}}function k(c){var e;T(a(c.parentNode).reverse(),function(a){var c;e||"_start"==a.id||"_end"==a.id||(c=s(a,b,d,f))&&!1!==c.split&&
(e=a)});return e}function n(a,b,c,e){var f,h,k,u,g,r;if(a){r=a.parentNode;for(f=b.parentNode;f&&f!=r;f=f.parentNode){h=A.clone(f,W);for(g=0;g<m.length;g++)if(D(m[g],d,h,h)){h=0;break}h&&(k&&h.appendChild(k),u||(u=h),k=h)}!e||q.mixed&&S(a)||(b=A.split(a,b));k&&(c.parentNode.insertBefore(k,c),u.appendChild(c))}return b}function g(a){var b=A.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];X(c)&&(c=c[a?"firstChild":"lastChild"]);A.remove(b,!0);return c}function p(a){var b,d,e=a.commonAncestorContainer;
a=w(a,m,V);q.split&&(b=F(a,V),d=F(a),b!=d?(/^(TR|TH|TD)$/.test(b.nodeName)&&b.firstChild&&(b="TR"==b.nodeName?b.firstChild.firstChild||b:b.firstChild||b),e&&/^T(HEAD|BODY|FOOT|R)$/.test(e.nodeName)&&/^(TH|TD)$/.test(d.nodeName)&&d.firstChild&&(d=d.firstChild||d),b=z(b,"span",{id:"_start","data-mce-type":"bookmark"}),d=z(d,"span",{id:"_end","data-mce-type":"bookmark"}),n(k(b),b,b,!0),n(k(d),d,d,!0),b=g(V),d=g()):b=d=n(k(b),b,b,!0),a.startContainer=b.parentNode,a.startOffset=J(b),a.endContainer=d.parentNode,
a.endOffset=J(d)+1);R.walk(a,function(a){T(a,function(a){h(a);1===a.nodeType&&"underline"===c.dom.getStyle(a,"text-decoration")&&a.parentNode&&"underline"===t(a.parentNode)&&D({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,a)})})}var m=u(b),q=m[0],l,E=!0;e?e.nodeType?(l=A.createRng(),l.setStartBefore(e),l.setEndAfter(e),p(l)):p(e):C.isCollapsed()&&q.inline&&!A.select("td.mce-item-selected,th.mce-item-selected").length?N("remove",b,d,f):(e=C.getBookmark(),p(C.getRng(V)),
C.moveToBookmark(e),q.inline&&r(b,d,C.getStart())&&M(C.getRng(!0)),c.nodeChanged())}function s(a,b,c,d){function e(a,b,f){var h,k,u=b[f];if(b.onmatch)return b.onmatch(a,b,f);if(u)if(u.length===$)for(h in u){if(u.hasOwnProperty(h)&&(k="attributes"===f?A.getAttrib(a,h):B(A.getStyle(a,h),h),d&&!k&&!b.exact||(!d||b.exact)&&!n(k,B(G(u[h],c),h))))return}else for(h=0;h<u.length&&("attributes"===f?!A.getAttrib(a,u[h]):!B(A.getStyle(a,u[h]),u[h]));h++);return b}var f=u(b),h;if(f&&a)for(h=0;h<f.length;h++)if(b=
f[h],v(a,b)&&e(a,b,"attributes")&&e(a,b,"styles")){if(f=b.classes)for(h=0;h<f.length;h++)if(!A.hasClass(a,f[h]))return;return b}}function r(a,b,c){function d(c){var e=A.getRoot();if(c===e)return!1;c=A.getParent(c,function(c){return c.parentNode===e||!!s(c,a,b,!0)});return s(c,a,b)}var e;if(c)return d(c);c=C.getNode();if(d(c))return V;e=C.getStart();return e!=c&&d(e)?V:W}function v(a,b){if(n(a,b.inline)||n(a,b.block))return V;if(b.selector)return 1==a.nodeType&&A.is(a,b.selector)}function n(a,b){a=
a||"";b=b||"";a=""+(a.nodeName||a);b=""+(b.nodeName||b);return a.toLowerCase()==b.toLowerCase()}function B(a,b){if("color"==b||"backgroundColor"==b)a=A.toHex(a);"fontWeight"==b&&700==a&&(a="bold");"fontFamily"==b&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,","));return""+a}function G(a,b){"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a}));return a}function x(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)}function z(a,b,c){b=A.create(b,c);a.parentNode.insertBefore(b,
a);b.appendChild(a);return b}function w(b,d,e){function f(a){var b,c,e,h;b=c=a?q:s;e=a?"previousSibling":"nextSibling";h=A.getRoot();if(3==b.nodeType&&!x(b)&&(a?0<t:E<b.nodeValue.length))return b;for(;;){if(!d[0].block_expand&&S(c))return c;for(a=c[e];a;a=a[e])if(!(X(a)||x(a)||"BR"==a.nodeName&&a.getAttribute("data-mce-bogus")&&!a.nextSibling))return c;if(c.parentNode==h){b=c;break}c=c.parentNode}return b}function h(a,b){for(b===$&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)(a=
a.childNodes[b])&&(b=3===a.nodeType?a.length:a.childNodes.length);return{node:a,offset:b}}function u(a){for(var b=a;b;){if(1===b.nodeType&&aa(b))return"false"===aa(b)?b:a;b=b.parentNode}return a}function g(a,b,d){function f(a,b){var c,h;h=a.nodeValue;"undefined"==typeof b&&(b=d?h.length:0);d?(c=h.lastIndexOf(" ",b),h=h.lastIndexOf("\u00a0",b),c=c>h?c:h,-1===c||e||c++):(c=h.indexOf(" ",b),h=h.indexOf("\u00a0",b),c=-1!==c&&(-1===h||c<h)?c:h);return c}var h,k;if(3===a.nodeType){b=f(a,b);if(-1!==b)return{container:a,
offset:b};k=a}for(a=new l(a,A.getParent(a,S)||c.getBody());h=a[d?"prev":"next"]();)if(3===h.nodeType){if(k=h,b=f(h),-1!==b)return{container:h,offset:b}}else if(S(h))break;if(k)return b=d?0:k.length,{container:k,offset:b}}function r(c,e){var f,h,k,u;3==c.nodeType&&0===c.nodeValue.length&&c[e]&&(c=c[e]);f=a(c);for(h=0;h<f.length;h++)for(k=0;k<d.length;k++)if(u=d[k],!("collapsed"in u&&u.collapsed!==b.collapsed)&&A.is(f[h],u.selector))return f[h];return c}function p(b,c){var e,f=A.getRoot();d[0].wrapper||
(e=A.getParent(b,d[0].block,f));e||(e=A.getParent(3==b.nodeType?b.parentNode:b,function(a){return a!=f&&k(a)}));e&&d[0].wrapper&&(e=a(e,"ul,ol").reverse()[0]||e);if(!e)for(e=b;e[c]&&!S(e[c])&&(e=e[c],!n(e,"br")););return e||b}var m,q=b.startContainer,t=b.startOffset,s=b.endContainer,E=b.endOffset;1==q.nodeType&&q.hasChildNodes()&&(m=q.childNodes.length-1,q=q.childNodes[t>m?m:t],3==q.nodeType&&(t=0));1==s.nodeType&&s.hasChildNodes()&&(m=s.childNodes.length-1,s=s.childNodes[E>m?m:E-1],3==s.nodeType&&
(E=s.nodeValue.length));q=u(q);s=u(s);if(X(q.parentNode)||X(q))q=X(q)?q:q.parentNode,q=q.nextSibling||q,3==q.nodeType&&(t=0);if(X(s.parentNode)||X(s))s=X(s)?s:s.parentNode,s=s.previousSibling||s,3==s.nodeType&&(E=s.length);if(d[0].inline){if(b.collapsed){if(m=g(q,t,!0))q=m.container,t=m.offset;if(m=g(s,E))s=m.container,E=m.offset}m=h(s,E);if(m.node){for(;m.node&&0===m.offset&&m.node.previousSibling;)m=h(m.node.previousSibling);m.node&&0<m.offset&&3===m.node.nodeType&&" "===m.node.nodeValue.charAt(m.offset-
1)&&1<m.offset&&(s=m.node,s.splitText(m.offset-1))}}if(d[0].inline||d[0].block_expand)d[0].inline&&3==q.nodeType&&0!==t||(q=f(!0)),d[0].inline&&3==s.nodeType&&E!==s.nodeValue.length||(s=f());d[0].selector&&d[0].expand!==W&&!d[0].inline&&(q=r(q,"previousSibling"),s=r(s,"nextSibling"));if(d[0].block||d[0].selector)q=p(q,"previousSibling"),s=p(s,"nextSibling"),d[0].block&&(S(q)||(q=f(!0)),S(s)||(s=f()));1==q.nodeType&&(t=J(q),q=q.parentNode);1==s.nodeType&&(E=J(s)+1,s=s.parentNode);return{startContainer:q,
startOffset:t,endContainer:s,endOffset:E}}function D(a,b,c,d){var e,f,h;if(!(v(c,a)||a.links&&"A"==c.tagName))return W;if("all"!=a.remove)for(T(a.styles,function(e,f){e=B(G(e,b),f);"number"===typeof f&&(f=e,d=0);(a.remove_similar||!d||n(B(A.getStyle(d,f),f),e))&&A.setStyle(c,f,"");h=1}),h&&""===A.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style")),T(a.attributes,function(a,e){var f;a=G(a,b);"number"===typeof e&&(e=a,d=0);if(!d||n(A.getAttrib(d,e),a)){if("class"==
e&&(a=A.getAttrib(c,e))&&(f="",T(a.split(/\s+/),function(a){/mce\w+/.test(a)&&(f+=(f?" ":"")+a)}),f)){A.setAttrib(c,e,f);return}"class"==e&&c.removeAttribute("className");Y.test(e)&&c.removeAttribute("data-mce-"+e);c.removeAttribute(e)}}),T(a.classes,function(a){a=G(a,b);d&&!A.hasClass(d,a)||A.removeClass(c,a)}),f=A.getAttribs(c),e=0;e<f.length;e++)if(0!==f[e].nodeName.indexOf("_"))return W;if("none"!=a.remove)return I(c,a),V}function I(a,b){function d(a,b,c){a=L(a,b,c);return!a||"BR"==a.nodeName||
S(a)}var e=a.parentNode,f;b.block&&(E?e==A.getRoot()&&(b.list_block&&n(a,b.list_block)||T(ba(a.childNodes),function(a){O(E,a.nodeName.toLowerCase())?f?f.appendChild(a):(f=z(a,E),A.setAttribs(f,c.settings.forced_root_block_attrs)):f=0})):S(a)&&!S(e)&&(d(a,W)||d(a.firstChild,V,1)||a.insertBefore(A.create("br"),a.firstChild),d(a,V)||d(a.lastChild,W,1)||a.appendChild(A.create("br"))));b.selector&&b.inline&&!n(b.inline,a)||A.remove(a,1)}function L(a,b,c){if(a)for(b=b?"nextSibling":"previousSibling",a=
c?a:a[b];a;a=a[b])if(1==a.nodeType||!x(a))return a}function H(a,b){function c(a,b){for(d=a;d&&(3!=d.nodeType||0===d.nodeValue.length);d=d[b])if(1==d.nodeType&&!X(d))return d;return a}var d,f;f=new e(A);if(a&&b&&(a=c(a,"previousSibling"),b=c(b,"nextSibling"),f.compare(a,b))){for(d=a.nextSibling;d&&d!=b;)f=d,d=d.nextSibling,a.appendChild(f);A.remove(b);T(ba(b.childNodes),function(b){a.appendChild(b)});return a}return b}function F(a,b){var d,e,f;d=a[b?"startContainer":"endContainer"];e=a[b?"startOffset":
"endOffset"];1==d.nodeType&&(f=d.childNodes.length-1,!b&&e&&e--,d=d.childNodes[e>f?f:e]);3===d.nodeType&&b&&e>=d.nodeValue.length&&(d=(new l(d,c.getBody())).next()||d);3!==d.nodeType||b||0!==e||(d=(new l(d,c.getBody())).prev()||d);return d}function N(a,b,d,e){function f(a){var b=A.create("span",{id:E,"data-mce-bogus":!0,style:v?"color:red":""});a&&b.appendChild(c.getDoc().createTextNode(Q));return b}function h(a,b){for(;a;){if(3===a.nodeType&&a.nodeValue!==Q||1<a.childNodes.length)return!1;b&&1===
a.nodeType&&b.push(a);a=a.firstChild}return!0}function g(a){for(;a;){if(a.id===E)return a;a=a.parentNode}}function n(a){var b;if(a)for(b=new l(a,a),a=b.current();a;a=b.next())if(3===a.nodeType)return a}function m(a,b){var c,d;if(a)d=C.getRng(!0),h(a)?(!1!==b&&(d.setStartBefore(a),d.setEndBefore(a)),A.remove(a)):(c=n(a),c.nodeValue.charAt(0)===Q&&(c.deleteData(0,1),d.startContainer==c&&0<d.startOffset&&d.setStart(c,d.startOffset-1),d.endContainer==c&&0<d.endOffset&&d.setEnd(c,d.endOffset-1)),A.remove(a,
1)),C.setRng(d);else if(a=g(C.getStart()),!a)for(;a=A.get(E);)m(a,!1)}function r(){var a,c,e,h,k;a=C.getRng(!0);h=a.startOffset;k=a.startContainer.nodeValue;(c=g(C.getStart()))&&(e=n(c));k&&0<h&&h<k.length&&/\w/.test(k.charAt(h))&&/\w/.test(k.charAt(h-1))?(c=C.getBookmark(),a.collapse(!0),a=w(a,u(b)),a=R.split(a),q(b,d,a),C.moveToBookmark(c)):(c&&e.nodeValue===Q||(c=f(!0),e=c.firstChild,a.insertNode(c),h=1),q(b,d,c),C.setCursorLocation(e,h))}function p(){var a=C.getRng(!0),c,h,g,n,m,r=[];c=a.startContainer;
h=a.startOffset;g=c;3==c.nodeType&&(h!=c.nodeValue.length&&(n=!0),g=g.parentNode);for(;g;){if(s(g,b,d,e)){m=g;break}g.nextSibling&&(n=!0);r.push(g);g=g.parentNode}if(m)if(n)g=C.getBookmark(),a.collapse(!0),a=w(a,u(b),!0),a=R.split(a),y(b,d,a),C.moveToBookmark(g);else{g=a=f();for(c=r.length-1;0<=c;c--)g.appendChild(A.clone(r[c],!1)),g=g.firstChild;g.appendChild(A.doc.createTextNode(Q));g=g.firstChild;(r=A.getParent(m,k))&&A.isEmpty(r)?m.parentNode.replaceChild(a,m):A.insertAfter(a,m);C.setCursorLocation(g,
1);A.isEmpty(m)&&A.remove(m)}}function t(){var a;(a=g(C.getStart()))&&!A.isEmpty(a)&&ga(a,function(a){1!=a.nodeType||a.id===E||A.isEmpty(a)||A.setAttrib(a,"data-mce-bogus",null)},"childNodes")}var E="_mce_caret",v=c.settings.caret_debug;c._hasCaretEvents||(ea=function(){var a=[],b;if(h(g(C.getStart()),a))for(b=a.length;b--;)A.setAttrib(a[b],"data-mce-bogus","1")},da=function(a){a=a.keyCode;m();8!=a&&37!=a&&39!=a||m(g(C.getStart()));t()},c.on("SetContent",function(a){a.selection&&t()}),c._hasCaretEvents=
!0);"apply"==a?r():p()}function M(a){var b=a.startContainer,c=a.startOffset,d,e;3==b.nodeType&&c>=b.nodeValue.length&&(c=J(b),b=b.parentNode,d=!0);if(1==b.nodeType)for(e=b.childNodes,b=e[Math.min(c,e.length-1)],b=new l(b,A.getParent(b,A.isBlock)),(c>e.length-1||d)&&b.next(),c=b.current();c;c=b.next())if(3==c.nodeType&&!x(c)){d=A.create("a",{"data-mce-bogus":"all"},Q);c.parentNode.insertBefore(d,c);a.setStart(c,0);C.setRng(a);A.remove(d);break}}var P={},A=c.dom,C=c.selection,R=new g(A),O=c.schema.isValidChild,
S=A.isBlock,E=c.settings.forced_root_block,J=A.nodeIndex,Q="\ufeff",Y=/^(src|href|style)$/,W=!1,V=!0,Z,$,aa=A.getContentEditable,da,ea,X=f.isBookmarkNode,T=b.each,ba=b.grep,ga=b.walk,U=b.extend;U(this,{get:u,register:m,unregister:function(a){a&&P[a]&&delete P[a];return P},apply:q,remove:y,toggle:function(a,b,c){var d=u(a);!r(a,b,c)||"toggle"in d[0]&&!d[0].toggle?q(a,b,c):y(a,b,c)},match:r,matchAll:function(a,b){var c,d=[],e={};c=C.getStart();A.getParent(c,function(c){var f,h;for(f=0;f<a.length;f++)h=
a[f],!e[h]&&s(c,h,b)&&(e[h]=!0,d.push(h))},A.getRoot());return d},matchNode:s,canApply:function(b){b=u(b);var c,d,e,f;if(b)for(c=C.getStart(),c=a(c),e=b.length-1;0<=e;e--){f=b[e].selector;if(!f||b[e].defaultBlock)return V;for(d=c.length-1;0<=d;d--)if(A.is(c[d],f))return V}return W},formatChanged:function(d,e,f){var h;Z||(Z={},h={},c.on("NodeChange",function(c){var d=a(c.element),e={},d=b.grep(d,function(a){return 1==a.nodeType&&!a.getAttribute("data-mce-bogus")});T(Z,function(a,b){T(d,function(c){if(s(c,
b,{},a.similar))return h[b]||(T(a,function(a){a(!0,{node:c,format:b,parents:d})}),h[b]=a),e[b]=a,!1})});T(h,function(a,b){e[b]||(delete h[b],T(a,function(a){a(!1,{node:c.element,format:b,parents:d})}))})}));T(d.split(","),function(a){Z[a]||(Z[a]=[],Z[a].similar=f);Z[a].push(e)});return this},getCssText:function(a){return d.getCssText(c,a)}});(function(){m({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",
styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],
alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",
remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",
attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(a,b,c){T(c,function(b,c){A.setAttrib(a,c,b)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style",
"class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]});T("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(a){m(a,{block:a,remove:"all"})});m(c.settings.formats)})();(function(){c.addShortcut("ctrl+b","bold_desc","Bold");c.addShortcut("ctrl+i","italic_desc","Italic");c.addShortcut("ctrl+u","underline_desc","Underline");for(var a=1;6>=a;a++)c.addShortcut("ctrl+"+a,"",["FormatBlock",!1,"h"+a]);c.addShortcut("ctrl+7",
"",["FormatBlock",!1,"p"]);c.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]);c.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])})();c.on("BeforeGetContent",function(a){ea&&"raw"!=a.format&&ea()});c.on("mouseup keydown",function(a){da&&da(a)})}});w("tinymce/UndoManager",["tinymce/Env","tinymce/util/Tools","tinymce/html/SaxParser"],function(l,g,f){var e=g.trim,b;b=RegExp('<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>|\\s?data-mce-selected="[^"]+"',"gi");return function(d){function c(){var a=
d.getContent({format:"raw",no_events:1}),c=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,h,k,g,n,u=d.schema,a=a.replace(b,"");for(n=u.getShortEndedElements();h=c.exec(a);)k=c.lastIndex,g=h[0].length,h=n[h[1]]?k:f.findEndTag(u,a,k),a=a.substring(0,k-g)+a.substring(h),c.lastIndex=k-g;return e(a)}function k(b){a.typing=!1;a.add({},b)}var a=this,h=0,g=[],m,t,p=0;d.on("init",function(){a.add()});d.on("BeforeExecCommand",function(b){b=b.command;"Undo"!=b&&"Redo"!=b&&"mceRepaint"!=b&&a.beforeChange()});d.on("ExecCommand",
function(a){var b=a.command;"Undo"!=b&&"Redo"!=b&&"mceRepaint"!=b&&k(a)});d.on("ObjectResizeStart",function(){a.beforeChange()});d.on("SaveContent ObjectResized blur",k);d.on("DragEnd",k);d.on("KeyUp",function(b){var e=b.keyCode;if(33<=e&&36>=e||37<=e&&40>=e||45==e||13==e||b.ctrlKey)k(),d.nodeChanged();(46==e||8==e||l.mac&&(91==e||93==e))&&d.nodeChanged();t&&a.typing&&(d.isDirty()||(d.isNotDirty=!g[0]||c()==g[0].content,d.isNotDirty||d.fire("change",{level:g[0],lastLevel:null})),d.fire("TypingUndo"),
t=!1,d.nodeChanged())});d.on("KeyDown",function(b){var c=b.keyCode;33<=c&&36>=c||37<=c&&40>=c||45==c?a.typing&&k(b):(16>c||20<c)&&224!=c&&91!=c&&!a.typing&&(a.beforeChange(),a.typing=!0,a.add({},b),t=!0)});d.on("MouseDown",function(b){a.typing&&k(b)});d.addShortcut("ctrl+z","","Undo");d.addShortcut("ctrl+y,ctrl+shift+z","","Redo");d.on("AddUndo Undo Redo ClearUndos",function(a){a.isDefaultPrevented()||d.nodeChanged()});return a={data:g,typing:!1,beforeChange:function(){p||(m=d.selection.getBookmark(2,
!0))},add:function(a,b){var e;e=d.settings;var f;a=a||{};a.content=c();if(p||d.removed)return null;f=g[h];if(d.fire("BeforeAddUndo",{level:a,lastLevel:f,originalEvent:b}).isDefaultPrevented()||f&&f.content==a.content)return null;g[h]&&(g[h].beforeBookmark=m);if(e.custom_undo_redo_levels&&g.length>e.custom_undo_redo_levels){for(e=0;e<g.length-1;e++)g[e]=g[e+1];g.length--;h=g.length}a.bookmark=d.selection.getBookmark(2,!0);h<g.length-1&&(g.length=h+1);g.push(a);h=g.length-1;f={level:a,lastLevel:f,originalEvent:b};
d.fire("AddUndo",f);0<h&&(d.isNotDirty=!1,d.fire("change",f));return a},undo:function(){var b;a.typing&&(a.add(),a.typing=!1);0<h&&(b=g[--h],0===h&&(d.isNotDirty=!0),d.setContent(b.content,{format:"raw"}),d.selection.moveToBookmark(b.beforeBookmark),d.fire("undo",{level:b}));return b},redo:function(){var a;h<g.length-1&&(a=g[++h],d.setContent(a.content,{format:"raw"}),d.selection.moveToBookmark(a.bookmark),d.fire("redo",{level:a}));return a},clear:function(){g=[];h=0;a.typing=!1;d.fire("ClearUndos")},
hasUndo:function(){return 0<h||a.typing&&g[0]&&c()!=g[0].content},hasRedo:function(){return h<g.length-1&&!this.typing},transact:function(b){a.beforeChange();try{p++,b()}finally{p--}a.add()}}}});w("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(l,g,f){var e=f.ie&&11>f.ie;return function(b){function d(d){function p(a){return a&&c.isBlock(a)&&!/^(TD|TH|CAPTION|FORM)$/.test(a.nodeName)&&!/^(fixed|absolute)/i.test(a.style.position)&&"true"!==c.getContentEditable(a)}
function q(a){var b;c.isBlock(a)&&(b=k.getRng(),a.appendChild(c.create("span",null,"\u00a0")),k.select(a),a.lastChild.outerHTML="",k.setRng(b))}function y(a){var b=[],d;if(a){for(;a=a.firstChild;){if(c.isBlock(a))return;1!=a.nodeType||m[a.nodeName.toLowerCase()]||b.push(a)}for(d=b.length;d--;)a=b[d],!a.hasChildNodes()||a.firstChild==a.lastChild&&""===a.firstChild.nodeValue?c.remove(a):"A"==a.nodeName&&" "===(a.innerText||a.textContent)&&c.remove(a)}}function s(a){var b,d,e,h=a,g;if(a){f.ie&&9>f.ie&&
M&&M.firstChild&&M.firstChild==M.lastChild&&"BR"==M.firstChild.tagName&&c.remove(M.firstChild);if(/^(LI|DT|DD)$/.test(a.nodeName)){a:{for(b=a.firstChild;b;){if(1==b.nodeType||3==b.nodeType&&b.data&&/[\r\n\s]/.test(b.data))break a;b=b.nextSibling}b=void 0}b&&/^(UL|OL|DL)$/.test(b.nodeName)&&a.insertBefore(c.doc.createTextNode("\u00a0"),a.firstChild)}e=c.createRng();f.ie||a.normalize();if(a.hasChildNodes()){for(b=new l(a,a);d=b.current();){if(3==d.nodeType){e.setStart(d,0);e.setEnd(d,0);break}if(m[d.nodeName.toLowerCase()]){e.setStartBefore(d);
e.setEndBefore(d);break}h=d;b.next()}d||(e.setStart(h,0),e.setEnd(h,0))}else if("BR"==a.nodeName)if(a.nextSibling&&c.isBlock(a.nextSibling)){if(!P||9>P)g=c.create("br"),a.parentNode.insertBefore(g,a);e.setStartBefore(a);e.setEndBefore(a)}else e.setStartAfter(a),e.setEndAfter(a);else e.setStart(a,0),e.setEnd(a,0);k.setRng(e);c.remove(g);k.scrollIntoView(a)}}function r(b){var d=a.forced_root_block;d&&d.toLowerCase()===b.tagName.toLowerCase()&&c.setAttribs(b,a.forced_root_block_attrs)}function v(b){var d=
F,f,h,k=u.getTextInlineElements();b||"TABLE"==S?(b=c.create(b||J),r(b)):b=M.cloneNode(!1);h=b;if(!1!==a.keep_styles){do k[d.nodeName]&&"_mce_caret"!=d.id&&(f=d.cloneNode(!1),c.setAttrib(f,"id",""),b.hasChildNodes()?f.appendChild(b.firstChild):h=f,b.appendChild(f));while(d=d.parentNode)}e||(h.innerHTML='<br data-mce-bogus="1">');return b}function n(a){var b,c;if(3==F.nodeType&&(a?0<N:N<F.nodeValue.length))return!1;if(F.parentNode==M&&Q&&!a||a&&1==F.nodeType&&F==M.firstChild)return!0;if("TABLE"===F.nodeName||
F.previousSibling&&"TABLE"==F.previousSibling.nodeName)return Q&&!a||!Q&&a;b=new l(F,M);for(3==F.nodeType&&(a&&0===N?b.prev():a||N!=F.nodeValue.length||b.next());c=b.current();){if(1===c.nodeType){if(!c.getAttribute("data-mce-bogus")&&(c=c.nodeName.toLowerCase(),m[c]&&"br"!==c))return!1}else if(3===c.nodeType&&!/^[ \t\r\n]*$/.test(c.nodeValue))return!1;a?b.prev():b.next()}return!0}function B(a,d){var e,f,h,k,g=J||"P";f=c.getParent(a,c.isBlock);e=b.getBody().nodeName.toLowerCase();if(!f||!p(f)){f=
f||H;if(!f.hasChildNodes())return e=c.create(g),r(e),f.appendChild(e),I.setStart(e,0),I.setEnd(e,0),e;for(k=a;k.parentNode!=f;)k=k.parentNode;for(;k&&!c.isBlock(k);)h=k,k=k.previousSibling;if(h&&u.isValidChild(e,g.toLowerCase())){e=c.create(g);r(e);h.parentNode.insertBefore(e,h);for(k=h;k&&!c.isBlock(k);)f=k.nextSibling,e.appendChild(k),k=f;I.setStart(a,d);I.setEnd(a,d)}}return a}function G(){function a(b){for(var c=O[b?"firstChild":"lastChild"];c&&1!=c.nodeType;)c=c[b?"nextSibling":"previousSibling"];
return c===M}function b(){var a=O.parentNode;return/^(LI|DT|DD)$/.test(a.nodeName)?a:O}var d=O.parentNode.nodeName;/^(OL|UL|LI)$/.test(d)&&(J="LI");C=J?v(J):c.create("BR");a(!0)&&a()?"LI"==d?c.insertAfter(C,b()):c.replace(C,O):a(!0)?"LI"==d?(c.insertAfter(C,b()),C.appendChild(c.doc.createTextNode(" ")),C.appendChild(O)):O.parentNode.insertBefore(C,O):a()?(c.insertAfter(C,b()),q(C)):(O=b(),L=I.cloneRange(),L.setStartAfter(M),L.setEndAfter(O),R=L.extractContents(),"LI"==J&&"LI"==R.firstChild.nodeName?
(C=R.firstChild,c.insertAfter(R,O)):(c.insertAfter(R,O),c.insertAfter(C,O)));c.remove(M);s(C);h.add()}function x(){b.execCommand("InsertLineBreak",!1,d)}function z(a){do 3===a.nodeType&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;while(a)}function w(a){for(var b=c.getRoot(),d;a!==b&&"false"!==c.getContentEditable(a);)"true"===c.getContentEditable(a)&&(d=a),a=a.parentNode;return a!==b?d:b}function D(a){var b;e||(a.normalize(),(b=a.lastChild)&&!/^(left|right)$/gi.test(c.getStyle(b,
"float",!0))||c.add(a,"br"))}var I,L,H,F,N,M,P,A,C,R,O,S,E,J,Q;I=k.getRng(!0);if(!d.isDefaultPrevented())if(I.collapsed){if((new g(c)).normalize(I),F=I.startContainer,N=I.startOffset,J=(J=(a.force_p_newlines?"p":"")||a.forced_root_block)?J.toUpperCase():"",P=c.doc.documentMode,A=d.shiftKey,1==F.nodeType&&F.hasChildNodes()&&(Q=N>F.childNodes.length-1,F=F.childNodes[Math.min(N,F.childNodes.length-1)]||F,N=Q&&3==F.nodeType?F.nodeValue.length:0),H=w(F))if(h.beforeChange(),c.isBlock(H)||H==c.getRoot()){if(J&&
!A||!J&&A)F=B(F,N);O=(M=c.getParent(F,c.isBlock))?c.getParent(M.parentNode,c.isBlock):null;S=M?M.nodeName.toUpperCase():"";E=O?O.nodeName.toUpperCase():"";"LI"!=E||d.ctrlKey||(M=O,S=E);if(/^(LI|DT|DD)$/.test(S)){if(!J&&A){x();return}if(c.isEmpty(M)){G();return}}if("PRE"==S&&!1!==a.br_in_pre){if(!A){x();return}}else if(!J&&!A&&"LI"!=S||J&&A){x();return}J&&M===b.getBody()||(J=J||"P",n()?(C=/^(H[1-6]|PRE|FIGURE)$/.test(S)&&"HGROUP"!=E?v(J):v(),a.end_container_on_empty_block&&p(O)&&c.isEmpty(M)?C=c.split(O,
M):c.insertAfter(C,M),s(C)):n(!0)?(C=M.parentNode.insertBefore(v(),M),q(C),s(M)):(L=I.cloneRange(),L.setEndAfter(M),R=L.extractContents(),z(R),C=R.firstChild,c.insertAfter(R,M),y(C),D(M),s(C)),c.setAttrib(C,"id",""),b.fire("NewBlock",{newBlock:C}),h.add())}else J&&!A||x()}else b.execCommand("Delete")}var c=b.dom,k=b.selection,a=b.settings,h=b.undoManager,u=b.schema,m=u.getNonEmptyElements();b.on("keydown",function(a){13==a.keyCode&&!1!==d(a)&&a.preventDefault()})}});w("tinymce/ForceBlocks",[],function(){return function(l){function g(){var k=
b.getStart(),a=l.getBody(),h,g,m,t,p,q,y,s,r,v,n;n=f.forced_root_block;if(k&&1===k.nodeType&&n){for(;k&&k!=a;){if(c[k.nodeName])return;k=k.parentNode}h=b.getRng();if(h.setStart){g=h.startContainer;m=h.startOffset;t=h.endContainer;p=h.endOffset;try{r=l.getDoc().activeElement===a}catch(B){}}else h.item&&(k=h.item(0),h=l.getDoc().body.createTextRange(),h.moveToElementText(k)),r=h.parentElement().ownerDocument===l.getDoc(),k=h.duplicate(),k.collapse(!0),m=-1*k.move("character",-16777215),k.collapsed||
(k=h.duplicate(),k.collapse(!1),p=-1*k.move("character",-16777215)-m);k=a.firstChild;for(v=a.nodeName.toLowerCase();k;)(3===k.nodeType||1==k.nodeType&&!c[k.nodeName])&&d.isValidChild(v,n.toLowerCase())?3===k.nodeType&&0===k.nodeValue.length?(y=k,k=k.nextSibling,e.remove(y)):(q||(q=e.create(n,l.settings.forced_root_block_attrs),k.parentNode.insertBefore(q,k),s=!0),y=k,k=k.nextSibling,q.appendChild(y)):(q=null,k=k.nextSibling);if(s&&r){if(h.setStart)h.setStart(g,m),h.setEnd(t,p),b.setRng(h);else try{h=
l.getDoc().body.createTextRange(),h.moveToElementText(a),h.collapse(!0),h.moveStart("character",m),0<p&&h.moveEnd("character",p),h.select()}catch(G){}l.nodeChanged()}}}var f=l.settings,e=l.dom,b=l.selection,d=l.schema,c=d.getBlockElements();if(f.forced_root_block)l.on("NodeChange",g)}});w("tinymce/EditorCommands","tinymce/html/Serializer tinymce/Env tinymce/util/Tools tinymce/dom/ElementUtils tinymce/dom/RangeUtils tinymce/dom/TreeWalker".split(" "),function(l,g,f,e,b,d){var c=f.each,k=f.extend,a=
f.map,h=f.inArray,u=f.explode,m=g.gecko,t=g.ie,p=g.ie&&11>g.ie,q=!0,y=!1;return function(f){function r(a,b,c){var d;a=a.toLowerCase();return(d=w.exec[a])?(d(a,b,c),q):y}function v(a){var b;a=a.toLowerCase();return(b=w.state[a])?b(a):-1}function n(a,b){b=b||"exec";c(a,function(a,d){c(d.toLowerCase().split(","),function(c){w[b][c]=a})})}function B(a,b,c){b===U&&(b=y);c===U&&(c=null);return f.getDoc().execCommand(a,b,c)}function G(a,b){I.toggle(a,b?{value:b}:U);f.nodeChanged()}var x=f.dom,z=f.selection,
w={state:{},exec:{},value:{}},D=f.settings,I=f.formatter,L;k(this,{execCommand:r,queryCommandState:v,queryCommandValue:function(a){var b;a=a.toLowerCase();return(b=w.value[a])?b(a):y},addCommands:n});n({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){f.undoManager.add()},"Cut,Copy,Paste":function(a){var b=f.getDoc(),c;try{B(a)}catch(d){c=q}if(c||!b.queryCommandSupported(a))a=f.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),
g.mac&&(a=a.replace(/Ctrl\+/g,"\u2318+")),f.windowManager.alert(a)},unlink:function(){if(z.isCollapsed()){var a=z.getNode();"A"==a.tagName&&f.dom.remove(a,!0)}else I.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var b=a.substring(7);"full"==b&&(b="justify");c(["left","center","right","justify"],function(a){b!=a&&I.remove("align"+a)});G("align"+b);r("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(a){var b;B(a);if(a=x.getParent(z.getNode(),"ol,ul"))b=
a.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(b.nodeName)&&(L=z.getBookmark(void 0),x.split(b,a),z.moveToBookmark(L))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){G(a)},"ForeColor,HiliteColor,FontName":function(a,b,c){G(a,c)},FontSize:function(a,b,c){var d;1<=c&&7>=c&&(d=u(D.font_size_style_values),c=(b=u(D.font_size_classes))?b[c-1]||c:d[c-1]||c);G(a,c)},RemoveFormat:function(a){I.remove(a)},mceBlockQuote:function(){G("blockquote")},FormatBlock:function(a,b,c){return G(c||
"p")},mceCleanup:function(){var a=z.getBookmark();f.setContent(f.getContent({cleanup:q}),{cleanup:q});z.moveToBookmark(a)},mceRemoveNode:function(a,b,c){a=c||z.getNode();a!=f.getBody()&&(L=z.getBookmark(void 0),f.dom.remove(a,q),z.moveToBookmark(L))},mceSelectNodeDepth:function(a,b,c){var d=0;x.getParent(z.getNode(),function(a){if(1==a.nodeType&&d++==c)return z.select(a),y},f.getBody())},mceSelectNode:function(a,b,c){z.select(c)},mceInsertContent:function(a,b,d){function h(a){var b,c;b=z.getRng(!0);
c=b.startContainer;b=b.startOffset;3==c.nodeType&&(0<b?a=a.replace(/^&nbsp;/," "):c.previousSibling&&3==c.previousSibling.nodeType||(a=a.replace(/^ /,"&nbsp;")),b<c.length?a=a.replace(/&nbsp;(<br>|)$/," "):c.nextSibling&&3==c.nextSibling.nodeType||(a=a.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;")));return a}var k,g,n,u,m,p;n=f.schema.getTextInlineElements();"string"!=typeof d&&(p=d.merge,d=d.content);/^ | $/.test(d)&&(d=h(d));b=f.parser;k=new l({},f.schema);a={content:d,format:"html",selection:!0};f.fire("BeforeSetContent",
a);d=a.content;-1==d.indexOf("{$caret}")&&(d+="{$caret}");d=d.replace(/\{\$caret\}/,'<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');g=z.getRng();g=g.startContainer||(g.parentElement?g.parentElement():null);m=f.getBody();g===m&&z.isCollapsed()&&x.isBlock(m.firstChild)&&x.isEmpty(m.firstChild)&&(g=x.createRng(),g.setStart(m.firstChild,0),g.setEnd(m.firstChild,0),z.setRng(g));z.isCollapsed()||f.getDoc().execCommand("Delete",!1,null);g=z.getNode();var r={context:g.nodeName.toLowerCase()};
u=b.parse(d,r);if(p)for(m=u.firstChild;m;m=m.walk(!0))n[m.name]&&m.attr("data-mce-new","true");m=u.lastChild;if("mce_marker"==m.attr("id"))for(d=m,m=m.prev;m;m=m.walk(!0))if(3==m.type||!x.isBlock(m.name)){f.schema.isValidChild(m.parent.name,"span")&&m.parent.insert(d,m,"br"===m.name);break}if(r.invalid){z.setContent('<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');g=z.getNode();n=f.getBody();for(9==g.nodeType?g=m=n:m=g;m!==n;)g=m,m=m.parentNode;d=g==n?n.innerHTML:x.getOuterHTML(g);
d=k.serialize(b.parse(d.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return k.serialize(u)})));g==n?x.setHTML(n,d):x.setOuterHTML(g,d)}else d=k.serialize(u),m=g.firstChild,b=g.lastChild,!m||m===b&&"BR"===m.nodeName?x.setHTML(g,d):z.setContent(d);(function(){if(p){var a=f.getBody(),b=new e(x);c(x.select("*[data-mce-new]"),function(c){c.removeAttribute("data-mce-new");for(var d=c.parentNode;d&&d!=a;d=d.parentNode)b.compare(d,c)&&x.remove(c,!0)})}})();d=x.get("mce_marker");
z.scrollIntoView(d);g=x.createRng();(m=d.previousSibling)&&3==m.nodeType?(g.setStart(m,m.nodeValue.length),t||(b=d.nextSibling)&&3==b.nodeType&&(m.appendData(b.data),b.parentNode.removeChild(b))):(g.setStartBefore(d),g.setEndBefore(d));x.remove(d);z.setRng(g);f.fire("SetContent",a);f.addVisual()},mceInsertRawHTML:function(a,b,c){z.setContent("tiny_mce_marker");f.setContent(f.getContent().replace(/tiny_mce_marker/g,function(){return c}))},mceToggleFormat:function(a,b,c){G(c)},mceSetContent:function(a,
b,c){f.setContent(c)},"Indent,Outdent":function(a){var b,d,e;b=D.indentation;d=/[a-z%]+$/i.exec(b);b=parseInt(b,10);v("InsertUnorderedList")||v("InsertOrderedList")?B(a):(D.forced_root_block||x.getParent(z.getNode(),x.isBlock)||I.apply("div"),c(z.getSelectedBlocks(),function(c){if("LI"!=c.nodeName){var h=f.getParam("indent_use_margin",!1)?"margin":"padding",h=h+("rtl"==x.getStyle(c,"direction",!0)?"Right":"Left");"outdent"==a?(e=Math.max(0,parseInt(c.style[h]||0,10)-b),x.setStyle(c,h,e?e+d:"")):(e=
parseInt(c.style[h]||0,10)+b+d,x.setStyle(c,h,e))}}))},mceRepaint:function(){if(m)try{L=z.getBookmark(q),z.getSel()&&z.getSel().selectAllChildren(f.getBody()),z.collapse(q),z.moveToBookmark(L)}catch(a){}},InsertHorizontalRule:function(){f.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){f.hasVisual=!f.hasVisual;f.addVisual()},mceReplaceContent:function(a,b,c){f.execCommand("mceInsertContent",!1,c.replace(/\{\$selection\}/g,z.getContent({format:"text"})))},mceInsertLink:function(a,
b,c){"string"==typeof c&&(c={href:c});a=x.getParent(z.getNode(),"a");c.href=c.href.replace(" ","%20");a&&c.href||I.remove("link");c.href&&I.apply("link",c,a)},selectAll:function(){var a=x.getRoot(),b;z.getRng().setStart?(b=x.createRng(),b.setStart(a,0),b.setEnd(a,a.childNodes.length),z.setRng(b)):(b=z.getRng(),b.item||(b.moveToElementText(a),b.select()))},"delete":function(){B("Delete");var a=f.getBody();x.isEmpty(a)&&(f.setContent(""),a.firstChild&&x.isBlock(a.firstChild)?f.selection.setCursorLocation(a.firstChild,
0):f.selection.setCursorLocation(a,0))},mceNewDocument:function(){f.setContent("")},InsertLineBreak:function(a,c,e){var h;a=z.getRng(!0);(new b(x)).normalize(a);var k=a.startOffset,g=a.startContainer;1==g.nodeType&&g.hasChildNodes()&&(c=k>g.childNodes.length-1,g=g.childNodes[Math.min(k,g.childNodes.length-1)]||g,k=c&&3==g.nodeType?g.nodeValue.length:0);var n=x.getParent(g,x.isBlock);c=n?n.nodeName.toUpperCase():"";var u=n?x.getParent(n.parentNode,x.isBlock):null,m=u?u.nodeName.toUpperCase():"";e=
e&&e.ctrlKey;"LI"!=m||e||(n=u,c=m);if(g&&3==g.nodeType&&k>=g.nodeValue.length){if(e=!p){a:{e=new d(g,n);for(k=f.schema.getNonEmptyElements();g=e.next();)if(k[g.nodeName.toLowerCase()]||0<g.length){e=!0;break a}e=void 0}e=!e}e&&(e=x.create("br"),a.insertNode(e),a.setStartAfter(e),a.setEndAfter(e),h=!0)}e=x.create("br");a.insertNode(e);g=x.doc.documentMode;p&&"PRE"==c&&(!g||8>g)&&e.parentNode.insertBefore(x.doc.createTextNode("\r"),e);c=x.create("span",{},"&nbsp;");e.parentNode.insertBefore(c,e);z.scrollIntoView(c);
x.remove(c);h?(a.setStartBefore(e),a.setEndBefore(e)):(a.setStartAfter(e),a.setEndAfter(e));z.setRng(a);f.undoManager.add();return q}});n({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(b){var c="align"+b.substring(7);b=z.isCollapsed()?[x.getParent(z.getNode(),x.isBlock)]:z.getSelectedBlocks();b=a(b,function(a){return!!I.matchNode(a,c)});return-1!==h(b,q)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return I.match(a)},mceBlockQuote:function(){return I.match("blockquote")},
Outdent:function(){var a;return D.inline_styles&&((a=x.getParent(z.getStart(),x.isBlock))&&0<parseInt(a.style.paddingLeft,10)||(a=x.getParent(z.getEnd(),x.isBlock))&&0<parseInt(a.style.paddingLeft,10))?q:v("InsertUnorderedList")||v("InsertOrderedList")||!D.inline_styles&&!!x.getParent(z.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var b=x.getParent(z.getNode(),"ul,ol");return b&&("insertunorderedlist"===a&&"UL"===b.tagName||"insertorderedlist"===a&&"OL"===b.tagName)}},
"state");n({"FontSize,FontName":function(a){var b=0,c;if(c=x.getParent(z.getNode(),"span"))b="fontsize"==a?c.style.fontSize:c.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase();return b}},"value");n({Undo:function(){f.undoManager.undo()},Redo:function(){f.undoManager.redo()}})}});w("tinymce/util/URI",["tinymce/util/Tools"],function(l){function g(c,d){var a=this,h,u;c=e(c);d=a.settings=d||{};h=d.base_uri;if(/^([\w\-]+):([^\/]{2})/i.test(c)||/^\s*#/.test(c))a.source=c;else{var m=
0===c.indexOf("//");0!==c.indexOf("/")||m||(c=(h?h.protocol||"http":"http")+"://mce_host"+c);/^[\w\-]*:?\/\//.test(c)||(u=d.base_uri?d.base_uri.path:(new g(location.href)).directory,""===d.base_uri.protocol?c="//mce_host"+a.toAbsPath(u,c):(c=/([^#?]*)([#?]?.*)/.exec(c),c=(h&&h.protocol||"http")+"://mce_host"+a.toAbsPath(u,c[1])+c[2]));c=c.replace(/@@/g,"(mce_at)");c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(c);
f(b,function(b,d){var e=c[d];e&&(e=e.replace(/\(mce_at\)/g,"@@"));a[b]=e});h&&(a.protocol||(a.protocol=h.protocol),a.userInfo||(a.userInfo=h.userInfo),a.port||"mce_host"!==a.host||(a.port=h.port),a.host&&"mce_host"!==a.host||(a.host=h.host),a.source="");m&&(a.protocol="")}}var f=l.each,e=l.trim,b="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),d={ftp:21,http:80,https:443,mailto:25};g.prototype={setPath:function(b){b=/^(.*?)\/?(\w+)?$/.exec(b);
this.path=b[0];this.directory=b[1];this.file=b[2];this.source="";this.getURI()},toRelative:function(b){var d;if("./"===b)return b;b=new g(b,{base_uri:this});if("mce_host"!=b.host&&this.host!=b.host&&b.host||this.port!=b.port||this.protocol!=b.protocol&&""!==b.protocol)return b.getURI();d=this.getURI();var a=b.getURI();if(d==a||"/"==d.charAt(d.length-1)&&d.substr(0,d.length-1)==a)return d;d=this.toRelPath(this.path,b.path);b.query&&(d+="?"+b.query);b.anchor&&(d+="#"+b.anchor);return d},toAbsolute:function(b,
d){b=new g(b,{base_uri:this});return b.getURI(d&&this.isSameOrigin(b))},isSameOrigin:function(b){if(this.host==b.host&&this.protocol==b.protocol){if(this.port==b.port)return!0;var e=d[this.protocol];if(e&&(this.port||e)==(b.port||e))return!0}return!1},toRelPath:function(b,d){var a,e=0,f="",g,t;b=b.substring(0,b.lastIndexOf("/"));b=b.split("/");a=d.split("/");if(b.length>=a.length)for(g=0,t=b.length;g<t;g++)if(g>=a.length||b[g]!=a[g]){e=g+1;break}if(b.length<a.length)for(g=0,t=a.length;g<t;g++)if(g>=
b.length||b[g]!=a[g]){e=g+1;break}if(1===e)return d;g=0;for(t=b.length-(e-1);g<t;g++)f+="../";g=e-1;for(t=a.length;g<t;g++)f=g!=e-1?f+("/"+a[g]):f+a[g];return f},toAbsPath:function(b,d){var a,e=0,g=[],m;m=/\/$/.test(d)?"/":"";b=b.split("/");d=d.split("/");f(b,function(a){a&&g.push(a)});b=g;a=d.length-1;for(g=[];0<=a;a--)0!==d[a].length&&"."!==d[a]&&(".."===d[a]?e++:0<e?e--:g.push(d[a]));a=b.length-e;a=0>=a?g.reverse().join("/"):b.slice(0,a).join("/")+"/"+g.reverse().join("/");0!==a.indexOf("/")&&
(a="/"+a);m&&a.lastIndexOf("/")!==a.length-1&&(a+=m);return a},getURI:function(b){var d;if(!this.source||b)d="",b||(d=this.protocol?d+(this.protocol+"://"):d+"//",this.userInfo&&(d+=this.userInfo+"@"),this.host&&(d+=this.host),this.port&&(d+=":"+this.port)),this.path&&(d+=this.path),this.query&&(d+="?"+this.query),this.anchor&&(d+="#"+this.anchor),this.source=d;return this.source}};return g});w("tinymce/util/Class",["tinymce/util/Tools"],function(l){function g(){}var f=l.each,e=l.extend,b,d;g.extend=
b=function(c){function k(){var a,b,c;if(!d&&(this.init&&this.init.apply(this,arguments),b=this.Mixins))for(a=b.length;a--;)c=b[a],c.init&&c.init.apply(this,arguments)}function a(){return this}function h(a,b){return function(){var c=this._super,d;this._super=g[a];d=b.apply(this,arguments);this._super=c;return d}}var g=this.prototype,m,t,p;d=!0;m=new this;d=!1;c.Mixins&&(f(c.Mixins,function(a){for(var b in a)"init"!==b&&(c[b]=a[b])}),g.Mixins&&(c.Mixins=g.Mixins.concat(c.Mixins)));c.Methods&&f(c.Methods.split(","),
function(b){c[b]=a});c.Properties&&f(c.Properties.split(","),function(a){var b="_"+a;c[a]=function(a){return void 0!==a?(this[b]=a,this):this[b]}});c.Statics&&f(c.Statics,function(a,b){k[b]=a});c.Defaults&&g.Defaults&&(c.Defaults=e({},g.Defaults,c.Defaults));for(t in c)p=c[t],m[t]="function"==typeof p&&g[t]?h(t,p):p;k.prototype=m;k.constructor=k;k.extend=b;return k};return g});w("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(l){function g(e){function b(){return!1}function d(){return!0}
function c(c,d,e){var f,h,k;!1===d&&(d=b);if(d)for(h=c.toLowerCase().split(" "),k=h.length;k--;)c=h[k],f=g[c],f||(f=g[c]=[],m(c,!0)),e?f.unshift(d):f.push(d);return a}function f(b,c){var d,e,h,k,l;if(b)for(k=b.toLowerCase().split(" "),d=k.length;d--;){b=k[d];e=g[b];if(!b){for(h in g)m(h,!1),delete g[h];break}if(e){if(c)for(l=e.length;l--;)e[l]===c&&(e=e.slice(0,l).concat(e.slice(l+1)),g[b]=e);else e.length=0;e.length||(m(b,!1),delete g[b])}}else{for(b in g)m(b,!1);g={}}return a}var a=this,h,g={},
m;e=e||{};h=e.scope||a;m=e.toggleEvent||b;a.fire=function(a,c){var m,l,s,r;a=a.toLowerCase();c=c||{};c.type=a;c.target||(c.target=h);c.preventDefault||(c.preventDefault=function(){c.isDefaultPrevented=d},c.stopPropagation=function(){c.isPropagationStopped=d},c.stopImmediatePropagation=function(){c.isImmediatePropagationStopped=d},c.isDefaultPrevented=b,c.isPropagationStopped=b,c.isImmediatePropagationStopped=b);e.beforeFire&&e.beforeFire(c);if(m=g[a])for(l=0,s=m.length;l<s;l++){m[l]=r=m[l];r.once&&
f(a,r);if(c.isImmediatePropagationStopped()){c.stopPropagation();break}if(!1===r.call(h,c)){c.preventDefault();break}}return c};a.on=c;a.off=f;a.once=function(a,b,d){b.once=!0;return c(a,b,d)};a.has=function(a){a=a.toLowerCase();return!(!g[a]||0===g[a].length)}}var f=l.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend",
" ");g.isNative=function(e){return!!f[e.toLowerCase()]};return g});w("tinymce/ui/Selector",["tinymce/util/Class"],function(l){function g(b){for(var a=[],c=b.length,d;c--;)d=b[c],d.__checked||(a.push(d),d.__checked=1);for(c=a.length;c--;)delete a[c].__checked;return a}var f=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
b=/^\s*|\s*$/g,d,c=l.extend({init:function(c){function a(a){if(a)return a=a.toLowerCase(),function(b){return"*"===a||b.type===a}}function d(a){if(a)return function(b){return b._name===a}}function g(a){if(a)return a=a.split("."),function(b){for(var c=a.length;c--;)if(!b.hasClass(a[c]))return!1;return!0}}function m(a,b,c){if(a)return function(d){d=d[a]?d[a]():"";return b?"="===b?d===c:"*="===b?0<=d.indexOf(c):"~="===b?0<=(" "+d+" ").indexOf(" "+c+" "):"!="===b?d!=c:"^="===b?0===d.indexOf(c):"$="===
b?d.substr(d.length-c.length)===c:!1:!!c}}function t(a){var b;if(a){a=/(?:not\((.+)\))|(.+)/i.exec(a);if(a[1])return b=q(a[1],[]),function(a){return!l(a,b)};a=a[2];return function(b,c,d){return"first"===a?0===c:"last"===a?c===d-1:"even"===a?0===c%2:"odd"===a?1===c%2:b[a]?b[a]():!1}}}function p(c,e,k){function n(a){a&&e.push(a)}c=f.exec(c.replace(b,""));n(a(c[1]));n(d(c[2]));n(g(c[3]));n(m(c[4],c[5],c[6]));n(t(c[7]));e.psuedo=!!c[7];e.direct=k;return e}function q(a,b){var c=[],d,f;do if(e.exec(""),
f=e.exec(a))if(a=f[3],c.push(f[1]),f[2]){d=f[3];break}while(f);d&&q(d,b);a=[];for(d=0;d<c.length;d++)">"!=c[d]&&a.push(p(c[d],[],">"===c[d-1]));b.push(a);return b}var l=this.match;this._selectors=q(c,[])},match:function(b,a){var c,d,e,f,g,q,l,s,r,v,n,B;a=a||this._selectors;c=0;for(d=a.length;c<d;c++){g=a[c];f=g.length;B=b;n=0;for(e=f-1;0<=e;e--)for(s=g[e];B;){if(s.psuedo)for(q=B.parent().items(),r=v=q.length;r--&&q[r]!==B;);q=0;for(l=s.length;q<l;q++)if(!s[q](B,r,v)){q=l+1;break}if(q===l){n++;break}else if(e===
f-1)break;B=B.parent()}if(n===f)return!0}return!1},find:function(b){function a(b,c,d){var f,k,g,n,m,u=c[d];f=0;for(k=b.length;f<k;f++){m=b[f];g=0;for(n=u.length;g<n;g++)if(!u[g](m,f,k)){g=n+1;break}if(g===n)d==c.length-1?e.push(m):m.items&&a(m.items(),c,d+1);else if(u.direct)break;m.items&&a(m.items(),c,d)}}var e=[],f,m,t=this._selectors;if(b.items){f=0;for(m=t.length;f<m;f++)a(b.items(),t[f],0);1<m&&(e=g(e))}d||(d=c.Collection);return new d(e)}});return c});w("tinymce/ui/Collection",["tinymce/util/Tools",
"tinymce/ui/Selector","tinymce/util/Class"],function(l,g,f){var e,b,d=Array.prototype.push,c=Array.prototype.slice;b={length:0,init:function(b){b&&this.add(b)},add:function(b){l.isArray(b)?d.apply(this,b):b instanceof e?this.add(b.toArray()):d.call(this,b);return this},set:function(b){var a=this.length;this.length=0;this.add(b);for(b=this.length;b<a;b++)delete this[b];return this},filter:function(b){var a,c,d=[],f,t;"string"===typeof b?(b=new g(b),t=function(a){return b.match(a)}):t=b;a=0;for(c=this.length;a<
c;a++)f=this[a],t(f)&&d.push(f);return new e(d)},slice:function(){return new e(c.apply(this,arguments))},eq:function(b){return-1===b?this.slice(b):this.slice(b,+b+1)},each:function(b){l.each(this,b);return this},toArray:function(){return l.toArray(this)},indexOf:function(b){for(var a=this.length;a--&&this[a]!==b;);return a},reverse:function(){return new e(l.toArray(this).reverse())},hasClass:function(b){return this[0]?this[0].hasClass(b):!1},prop:function(b,a){var c;if(void 0!==a)return this.each(function(c){if(c[b])c[b](a)}),
this;if((c=this[0])&&c[b])return c[b]()},exec:function(b){var a=l.toArray(arguments).slice(1);this.each(function(c){c[b]&&c[b].apply(c,a)});return this},remove:function(){for(var b=this.length;b--;)this[b].remove();return this}};l.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(c){b[c]=function(){var a=l.toArray(arguments);this.each(function(b){c in b&&b[c].apply(b,a)});return this}});l.each("text name disabled active selected checked visible parent value data".split(" "),
function(c){b[c]=function(a){return this.prop(c,a)}});e=f.extend(b);return g.Collection=e});w("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(l,g){var f=0;return{id:function(){return"mceu_"+f++},createFragment:function(e){return g.DOM.createFragment(e)},getWindowSize:function(){return g.DOM.getViewPort()},getSize:function(e){var b;if(e.getBoundingClientRect){var d=e.getBoundingClientRect();b=Math.max(d.width||d.right-d.left,e.offsetWidth);e=Math.max(d.height||d.bottom-
d.bottom,e.offsetHeight)}else b=e.offsetWidth,e=e.offsetHeight;return{width:b,height:e}},getPos:function(e,b){return g.DOM.getPos(e,b)},getViewPort:function(e){return g.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,b){return g.DOM.addClass(e,b)},removeClass:function(e,b){return g.DOM.removeClass(e,b)},hasClass:function(e,b){return g.DOM.hasClass(e,b)},toggleClass:function(e,b,d){return g.DOM.toggleClass(e,b,d)},css:function(e,b,d){return g.DOM.setStyle(e,
b,d)},getRuntimeStyle:function(e,b){return g.DOM.getStyle(e,b,!0)},on:function(e,b,d,c){return g.DOM.bind(e,b,d,c)},off:function(e,b,d){return g.DOM.unbind(e,b,d)},fire:function(e,b,d){return g.DOM.fire(e,b,d)},innerHtml:function(e,b){g.DOM.setHTML(e,b)}}});w("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/ui/Collection","tinymce/ui/DomUtils"],function(l,g,f,e,b){function d(a){a._eventDispatcher||(a._eventDispatcher=new f({scope:a,toggleEvent:function(b,
c){c&&f.isNative(b)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[b]=!0,a._rendered&&a.bindPendingEvents())}}));return a._eventDispatcher}var c="onmousewheel"in document,k=l.extend({Statics:{classPrefix:"mce-"},isRtl:function(){return k.rtl},classPrefix:"mce-",init:function(a){var c=this,d,e;c.settings=a=g.extend({},c.Defaults,a);c._id=a.id||b.id();c._text=c._name="";c._width=c._height=0;c._aria={role:a.role};this._elmCache={};if(d=a.classes)for(d=d.split(" "),d.map={},e=d.length;e--;)d.map[d[e]]=
!0;c._classes=d||[];c.visible(!0);g.each("title text width height name classes visible disabled active value".split(" "),function(b){var d=a[b];if(void 0!==d)c[b](d);else void 0===c["_"+b]&&(c["_"+b]=!1)});c.on("click",function(){if(c.disabled())return!1});a.classes&&g.each(a.classes.split(" "),function(a){c.addClass(a)});c.settings=a;c._borderBox=c.parseBox(a.border);c._paddingBox=c.parseBox(a.padding);c._marginBox=c.parseBox(a.margin);a.hidden&&c.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",
Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(a){for(var b,c=this.getRoot().controlIdLookup;a&&c&&!(b=c[a.id]);)a=a.parentNode;return b},parseBox:function(a){var b;if(a){if("number"===typeof a)return a=a||0,{top:a,left:a,bottom:a,right:a};a=a.split(" ");b=a.length;1===b?a[1]=a[2]=a[3]=a[0]:2===b?(a[2]=a[0],a[3]=a[1]):3===b&&(a[3]=a[1]);return{top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}}},
borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(a,b){function c(b){var d=document.defaultView;return d?(b=b.replace(/[A-Z]/g,function(a){return"-"+a}),d.getComputedStyle(a,null).getPropertyValue(b)):a.currentStyle[b]}function d(a){a=parseFloat(c(a),10);return isNaN(a)?0:a}return{top:d(b+"TopWidth"),right:d(b+"RightWidth"),bottom:d(b+"BottomWidth"),left:d(b+"LeftWidth")}},initLayoutRect:function(){var a=
this.settings,c,d=this.getEl(),e,f,k,g,l,s;c=this._borderBox=this._borderBox||this.measureBox(d,"border");this._paddingBox=this._paddingBox||this.measureBox(d,"padding");this._marginBox=this._marginBox||this.measureBox(d,"margin");e=b.getSize(d);l=a.minWidth;s=a.minHeight;d=l||e.width;k=s||e.height;e=a.width;f=a.height;g=a.autoResize;g="undefined"!=typeof g?g:!e&&!f;e=e||d;f=f||k;var r=c.left+c.right;c=c.top+c.bottom;var v=a.maxWidth||65535,n=a.maxHeight||65535;this._layoutRect=a={x:a.x||0,y:a.y||
0,w:e,h:f,deltaW:r,deltaH:c,contentW:e-r,contentH:f-c,innerW:e-r,innerH:f-c,startMinWidth:l||0,startMinHeight:s||0,minW:Math.min(d,v),minH:Math.min(k,n),maxW:v,maxH:n,autoResize:g,scrollW:0};this._lastLayoutRect={};return a},layoutRect:function(a){var b=this._layoutRect,c,d,e;b||(b=this.initLayoutRect());if(a){d=b.deltaW;e=b.deltaH;void 0!==a.x&&(b.x=a.x);void 0!==a.y&&(b.y=a.y);void 0!==a.minW&&(b.minW=a.minW);void 0!==a.minH&&(b.minH=a.minH);c=a.w;void 0!==c&&(c=c<b.minW?b.minW:c,c=c>b.maxW?b.maxW:
c,b.w=c,b.innerW=c-d);c=a.h;void 0!==c&&(c=c<b.minH?b.minH:c,c=c>b.maxH?b.maxH:c,b.h=c,b.innerH=c-e);c=a.innerW;void 0!==c&&(c=c<b.minW-d?b.minW-d:c,c=c>b.maxW-d?b.maxW-d:c,b.innerW=c,b.w=c+d);c=a.innerH;void 0!==c&&(c=c<b.minH-e?b.minH-e:c,c=c>b.maxH-e?b.maxH-e:c,b.innerH=c,b.h=c+e);void 0!==a.contentW&&(b.contentW=a.contentW);void 0!==a.contentH&&(b.contentH=a.contentH);a=this._lastLayoutRect;if(a.x!==b.x||a.y!==b.y||a.w!==b.w||a.h!==b.h)(c=k.repaintControls)&&c.map&&!c.map[this._id]&&(c.push(this),
c.map[this._id]=!0),a.x=b.x,a.y=b.y,a.w=b.w,a.h=b.h;return this}return b},repaint:function(){var a,b,c,d,e=0;d=0;var f,k;k=document.createRange?function(a){return a}:Math.round;a=this.getEl().style;c=this._layoutRect;f=this._lastRepaintRect||{};d=this._borderBox;e=d.left+d.right;d=d.top+d.bottom;c.x!==f.x&&(a.left=k(c.x)+"px",f.x=c.x);c.y!==f.y&&(a.top=k(c.y)+"px",f.y=c.y);c.w!==f.w&&(a.width=k(c.w-e)+"px",f.w=c.w);c.h!==f.h&&(a.height=k(c.h-d)+"px",f.h=c.h);this._hasBody&&c.innerW!==f.innerW&&(b=
this.getEl("body").style,b.width=k(c.innerW)+"px",f.innerW=c.innerW);this._hasBody&&c.innerH!==f.innerH&&(b=b||this.getEl("body").style,b.height=k(c.innerH)+"px",f.innerH=c.innerH);this._lastRepaintRect=f;this.fire("repaint",{},!1)},on:function(a,b){var c=this;d(c).on(a,function(a){var b,d;return"string"!=typeof a?a:function(e){b||c.parentsAndSelf().each(function(c){var e=c.settings.callbacks;if(e&&(b=e[a]))return d=c,!1});return b.call(d,e)}}(b));return c},off:function(a,b){d(this).off(a,b);return this},
fire:function(a,b,c){b=b||{};b.control||(b.control=this);b=d(this).fire(a,b);if(!1!==c&&this.parent)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),c=c.parent();return b},hasEventListeners:function(a){return d(this).has(a)},parents:function(a){var b,c=new e;for(b=this.parent();b;b=b.parent())c.add(b);a&&(c=c.filter(a));return c},parentsAndSelf:function(a){return(new e(this)).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=
this.parent().items();return a[a.indexOf(this)-1]},findCommonAncestor:function(a,b){for(var c;a;){for(c=b;c&&a!=c;)c=c.parent();if(a==c)break;a=a.parent()}return a},hasClass:function(a,b){var c=this._classes[b||"control"];a=this.classPrefix+a;return c&&!!c.map[a]},addClass:function(a,b){var c,d;a=this.classPrefix+a;c=this._classes[b||"control"];c||(c=[],c.map={},this._classes[b||"control"]=c);!c.map[a]&&(c.map[a]=a,c.push(a),this._rendered&&(d=this.getEl(b)))&&(d.className=c.join(" "));return this},
removeClass:function(a,b){var c,d;a=this.classPrefix+a;if((c=this._classes[b||"control"])&&c.map[a])for(delete c.map[a],d=c.length;d--;)c[d]===a&&c.splice(d,1);this._rendered&&(d=this.getEl(b))&&(d.className=c.join(" "));return this},toggleClass:function(a,b,c){b?this.addClass(a,c):this.removeClass(a,c);return this},classes:function(a){return(a=this._classes[a||"control"])?a.join(" "):""},innerHtml:function(a){b.innerHtml(this.getEl(),a);return this},getEl:function(a){a=a?this._id+"-"+a:this._id;
this._elmCache[a]||(this._elmCache[a]=b.get(a));return this._elmCache[a]},visible:function(a){var b;if("undefined"!==typeof a){if(this._visible!==a){this._rendered&&(this.getEl().style.display=a?"":"none");this._visible=a;if(b=this.parent())b._lastRect=null;this.fire(a?"show":"hide")}return this}return this._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){this.getEl().blur();
return this},aria:function(a,b){var c=this.getEl(this.ariaTarget);if("undefined"===typeof b)return this._aria[a];this._aria[a]=b;this._rendered&&c.setAttribute("role"==a?a:"aria-"+a,b);return this},encode:function(a,b){!1!==b&&(a=this.translate(a));return(a||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},translate:function(a){return k.translate?k.translate(a):a},before:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this),!0);return this},after:function(a){var b=
this.parent();b&&b.insert(a,b.items().indexOf(this));return this},remove:function(){var a=this,c=a.getEl(),d=a.parent(),e,f;if(a.items){var k=a.items().toArray();for(f=k.length;f--;)k[f].remove()}d&&d.items&&(e=[],d.items().each(function(b){b!==a&&e.push(b)}),d.items().set(e),d._lastRect=null);a._eventsRoot&&a._eventsRoot==a&&b.off(c);(d=a.getRoot().controlIdLookup)&&delete d[a._id];c&&c.parentNode&&c.parentNode.removeChild(c);a._rendered=!1;return a},renderBefore:function(a){a.parentNode.insertBefore(b.createFragment(this.renderHtml()),
a);this.postRender();return this},renderTo:function(a){a=a||this.getContainerElm();a.appendChild(b.createFragment(this.renderHtml()));this.postRender();return this},postRender:function(){var a=this.settings,c,d,e;for(d in a)if(0===d.indexOf("on"))this.on(d.substr(2),a[d]);if(this._eventsRoot){for(c=this.parent();!e&&c;c=c.parent())e=c._eventsRoot;if(e)for(d in e._nativeEvents)this._nativeEvents[d]=!0}this.bindPendingEvents();a.style&&(c=this.getEl())&&(c.setAttribute("style",a.style),c.style.cssText=
a.style);this._visible||b.css(this.getEl(),"display","none");this.settings.border&&(a=this.borderBox(),b.css(this.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));a=this.getRoot();a.controlIdLookup||(a.controlIdLookup={});a.controlIdLookup[this._id]=this;for(var f in this._aria)this.aria(f,this._aria[f]);this.fire("postrender",{},!1)},scrollIntoView:function(a){var b=this.getEl(),c=b.parentNode,d,e,f,k,g;f=b;for(d=e=0;f&&f!=
c&&f.nodeType;)d+=f.offsetLeft||0,e+=f.offsetTop||0,f=f.offsetParent;f=b.offsetWidth;b=b.offsetHeight;k=c.clientWidth;g=c.clientHeight;"end"==a?(d-=k-f,e-=g-b):"center"==a&&(d-=k/2-f/2,e-=g/2-b/2);c.scrollLeft=d;c.scrollTop=e;return this},bindPendingEvents:function(){function a(a){var b=k.getParentCtrl(a.target);b&&b.fire(a.type,a)}function d(){var a=s._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(a){a.fire("mouseleave",{target:a.getEl()})}),s._lastHoverCtrl=
null)}function e(a){var b=k.getParentCtrl(a.target);a=s._lastHoverCtrl;var c=0,d,f;if(b!==a){s._lastHoverCtrl=b;f=b.parents().toArray().reverse();f.push(b);if(a){b=a.parents().toArray().reverse();b.push(a);for(c=0;c<b.length&&f[c]===b[c];c++);for(d=b.length-1;d>=c;d--)a=b[d],a.fire("mouseleave",{target:a.getEl()})}for(d=c;d<f.length;d++)b=f[d],b.fire("mouseenter",{target:b.getEl()})}}function f(a){a.preventDefault();"mousewheel"==a.type?(a.deltaY=-0.025*a.wheelDelta,a.wheelDeltaX&&(a.deltaX=-0.025*
a.wheelDeltaX)):(a.deltaX=0,a.deltaY=a.detail);k.fire("wheel",a)}var k=this,g,q,l,s,r,v;k._rendered=!0;if(r=k._nativeEvents){l=k.parents().toArray();l.unshift(k);g=0;for(q=l.length;!s&&g<q;g++)s=l[g]._eventsRoot;s||(s=l[l.length-1]||k);k._eventsRoot=s;q=g;for(g=0;g<q;g++)l[g]._eventsRoot=s;g=s._delegates;g||(g=s._delegates={});for(v in r){if(!r)return!1;if("wheel"===v)if(c)b.on(k.getEl(),"mousewheel",f);else b.on(k.getEl(),"DOMMouseScroll",f);else"mouseenter"===v||"mouseleave"===v?s._hasMouseEnter||
(b.on(s.getEl(),"mouseleave",d),b.on(s.getEl(),"mouseover",e),s._hasMouseEnter=1):g[v]||(b.on(s.getEl(),v,a),g[v]=!0),r[v]=!1}}},getRoot:function(){for(var a=this,b,c=[];a;){if(a.rootControl){b=a.rootControl;break}c.push(a);b=a;a=a.parent()}b||(b=this);for(a=c.length;a--;)c[a].rootControl=b;return b},reflow:function(){this.repaint();return this}});return k});w("tinymce/ui/Factory",[],function(){var l={},g;return{add:function(f,e){l[f.toLowerCase()]=e},has:function(f){return!!l[f.toLowerCase()]},create:function(f,
e){var b,d;if(!g){d=tinymce.ui;for(b in d)l[b.toLowerCase()]=d[b];g=!0}"string"==typeof f?(e=e||{},e.type=f):(e=f,f=e.type);f=f.toLowerCase();b=l[f];if(!b)throw Error("Could not find control by type: "+f);b=new b(e);b.type=f;return b}}});w("tinymce/ui/KeyboardNavigation",[],function(){return function(l){function g(a){return(a=a||s)&&a.getAttribute("role")}function f(a){for(var b=a||s;b=b.parentNode;)if(a=g(b))return a}function e(a){var b=s;if(b)return b.getAttribute("aria-"+a)}function b(a){a=a.tagName.toUpperCase();
return"INPUT"==a||"TEXTAREA"==a}function d(a){function c(a){if(1==a.nodeType&&"none"!=a.style.display){var e;e=b(a)&&!a.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(g(a))?!0:!1;e&&d.push(a);for(e=0;e<a.childNodes.length;e++)c(a.childNodes[e])}}var d=[];c(a||y.getEl());return d}function c(a){var b,c;a=a||r;c=a.parents().toArray();c.unshift(a);for(a=0;a<c.length&&(b=c[a],!b.settings.ariaRoot);a++);return b}function k(a,b){0>a?a=b.length-1:a>=b.length&&(a=0);b[a]&&
b[a].focus();return a}function a(a,b){var e=-1,f=c();b=b||d(f.getEl());for(var h=0;h<b.length;h++)b[h]===s&&(e=h);f.lastAriaIndex=k(e+a,b)}function h(){"tablist"==f()?a(-1,d(s.parentNode)):r.parent().submenu?r.fire("cancel"):a(-1)}function u(){var b=g(),c=f();"tablist"==c?a(1,d(s.parentNode)):"menuitem"==b&&"menu"==c&&e("haspopup")?q():a(1)}function m(){a(-1)}function t(){var b=g(),c=f();"menuitem"==b&&"menubar"==c?q():"button"==b&&e("haspopup")?q({key:"down"}):a(1)}function p(b){"tablist"==f()?(b=
d(r.getEl("body"))[0])&&b.focus():a(b.shiftKey?-1:1)}function q(a){a=a||{};r.fire("click",{target:s,aria:a})}var y=l.root,s,r;try{s=document.activeElement}catch(v){s=document.body}r=y.getParentCtrl(s);y.on("keydown",function(a){function c(a,d){b(s)||!1!==d(a)&&a.preventDefault()}if(!a.isDefaultPrevented())switch(a.keyCode){case 37:c(a,h);break;case 39:c(a,u);break;case 38:c(a,m);break;case 40:c(a,t);break;case 27:r.fire("cancel");break;case 14:case 13:case 32:c(a,q);break;case 9:!1!==p(a)&&a.preventDefault()}});
y.on("focusin",function(a){s=a.target;r=a.control});return{focusFirst:function(a){a=c(a);var b=d(a.getEl());a.settings.ariaRemember&&"lastAriaIndex"in a?k(a.lastAriaIndex,b):k(0,b)}}}});w("tinymce/ui/Container","tinymce/ui/Control tinymce/ui/Collection tinymce/ui/Selector tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/util/Tools tinymce/ui/DomUtils".split(" "),function(l,g,f,e,b,d,c){var k={};return l.extend({layout:"",innerClass:"container-inner",init:function(a){this._super(a);a=this.settings;
this._fixed=a.fixed;this._items=new g;this.isRtl()&&this.addClass("rtl");this.addClass("container");this.addClass("container-body","body");a.containerCls&&this.addClass(a.containerCls);this._layout=e.create((a.layout||this.layout)+"layout");this.settings.items&&this.add(this.settings.items);this._hasBody=!0},items:function(){return this._items},find:function(a){a=k[a]=k[a]||new f(a);return a.find(this)},add:function(a){this.items().add(this.create(a)).parent(this);return this},focus:function(a){var b;
if(a&&(a=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)){a.focusFirst(this);return}a=this.find("*");this.statusbar&&a.add(this.statusbar.items());a.each(function(a){if(a.settings.autofocus)return b=null,!1;a.canFocus&&(b=b||a)});b&&b.focus();return this},replace:function(a,b){var c;c=this.items();for(var d=c.length;d--;)if(c[d]===a){c[d]=b;break}0<=d&&((c=b.getEl())&&c.parentNode.removeChild(c),(c=a.getEl())&&c.parentNode.removeChild(c));b.parent(this)},create:function(a){var b=this,c,f=
[];d.isArray(a)||(a=[a]);d.each(a,function(a){a&&(a instanceof l||("string"==typeof a&&(a={type:a}),c=d.extend({},b.settings.defaults,a),a.type=c.type=c.type||a.type||b.settings.defaultType||(c.defaults?c.defaults.type:null),a=e.create(c)),f.push(a))});return f},renderNew:function(){var a=this;a.items().each(function(b,d){var e,f;b.parent(a);b._rendered||(e=a.getEl("body"),f=c.createFragment(b.renderHtml()),e.hasChildNodes()&&d<=e.childNodes.length-1?e.insertBefore(f,e.childNodes[d]):e.appendChild(f),
b.postRender())});a._layout.applyClasses(a);a._lastRect=null;return a},append:function(a){return this.add(a).renderNew()},prepend:function(a){this.items().set(this.create(a).concat(this.items().toArray()));return this.renderNew()},insert:function(a,b,c){var d;a=this.create(a);d=this.items();!c&&b<d.length-1&&(b+=1);0<=b&&b<d.length&&(c=d.slice(0,b).toArray(),b=d.slice(b).toArray(),d.set(c.concat(a,b)));return this.renderNew()},fromJSON:function(a){for(var b in a)this.find("#"+b).value(a[b]);return this},
toJSON:function(){var a={};this.find("*").each(function(b){var c=b.name();b=b.value();c&&"undefined"!=typeof b&&(a[c]=b)});return a},preRender:function(){},renderHtml:function(){var a=this._layout,b=this.settings.role;this.preRender();a.preRender(this);return'<div id="'+this._id+'" class="'+this.classes()+'"'+(b?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+a.renderHtml(this)+"</div></div>"},postRender:function(){var a;
this.items().exec("postRender");this._super();this._layout.postRender(this);this._rendered=!0;this.settings.style&&c.css(this.getEl(),this.settings.style);this.settings.border&&(a=this.borderBox(),c.css(this.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));this.parent()||(this.keyboardNav=new b({root:this}));return this},initLayoutRect:function(){var a=this._super();this._layout.recalc(this);return a},recalc:function(){var a=
this._layoutRect,b=this._lastRect;if(!b||b.w!=a.w||b.h!=a.h)return this._layout.recalc(this),a=this.layoutRect(),this._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0},reflow:function(){var a;if(this.visible()){l.repaintControls=[];l.repaintControls.map={};this.recalc();for(a=l.repaintControls.length;a--;)l.repaintControls[a].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint();l.repaintControls=[]}return this}})});w("tinymce/ui/DragHelper",["tinymce/ui/DomUtils"],function(l){return function(g,
f){var e,b=document,d,c,k,a,h;f=f||{};k=function(b){if(b.button!==d)return c(b);b.deltaX=b.screenX-a;b.deltaY=b.screenY-h;b.preventDefault();f.drag(b)};c=function(a){l.off(b,"mousemove",k);l.off(b,"mouseup",c);e.parentNode.removeChild(e);f.stop&&f.stop(a)};this.destroy=function(){l.off(b.getElementById(f.handle||g))};l.on(b.getElementById(f.handle||g),"mousedown",function(u){var m,t;t=document;var p,q,y,s,r,v;v=Math.max;m=t.documentElement;p=t.body;q=v(m.scrollWidth,p.scrollWidth);y=v(m.clientWidth,
p.clientWidth);s=v(m.offsetWidth,p.offsetWidth);t=v(m.scrollHeight,p.scrollHeight);r=v(m.clientHeight,p.clientHeight);v=v(m.offsetHeight,p.offsetHeight);m=q<s?y:q;t=t<v?r:t;u.preventDefault();d=u.button;r=b.getElementById(f.handle||g);a=u.screenX;h=u.screenY;r=window.getComputedStyle?window.getComputedStyle(r,null).getPropertyValue("cursor"):r.runtimeStyle.cursor;e=b.createElement("div");l.css(e,{position:"absolute",top:0,left:0,width:m,height:t,zIndex:2147483647,opacity:1E-4,cursor:r});b.body.appendChild(e);
l.on(b,"mousemove",k);l.on(b,"mouseup",c);f.start(u)})}});w("tinymce/ui/Scrollable",["tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(l,g){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function f(){function c(c,f,h,g,q,y){var s,r,v;if(s=b.getEl("scroll"+c))r=f.toLowerCase(),v=h.toLowerCase(),b.getEl("absend")&&l.css(b.getEl("absend"),r,b.layoutRect()[g]-1),q?(l.css(s,"display","block"),g=b.getEl("body"),c=b.getEl("scroll"+c+"t"),q=g["client"+h]-2*d,q-=
e&&a?s["client"+y]:0,h=g["scroll"+h],h=q/h,y={},y[r]=g["offset"+f]+d,y[v]=q,l.css(s,y),y={},y[r]=g["scroll"+f]*h,y[v]=q*h,l.css(c,y)):l.css(s,"display","none")}var e,a,f;f=b.getEl("body");e=f.scrollWidth>f.clientWidth;a=f.scrollHeight>f.clientHeight;c("h","Left","Width","contentW",e,"Height");c("v","Top","Height","contentH",a,"Width")}function e(){function c(c,a,e,f,m){var t,p=b._id+"-scroll"+c,q=b.classPrefix;b.getEl().appendChild(l.createFragment('<div id="'+p+'" class="'+q+"scrollbar "+q+"scrollbar-"+
c+'"><div id="'+p+'t" class="'+q+'scrollbar-thumb"></div></div>'));b.draghelper=new g(p+"t",{start:function(){t=b.getEl("body")["scroll"+a];l.addClass(l.get(p),q+"active")},drag:function(g){var p,r,q;r=b.layoutRect();p=r.contentW>r.innerW;r=r.contentH>r.innerH;q=b.getEl("body")["client"+e]-2*d;q-=p&&r?b.getEl("scroll"+c)["client"+m]:0;p=q/b.getEl("body")["scroll"+e];b.getEl("body")["scroll"+a]=t+g["delta"+f]/p},stop:function(){l.removeClass(l.get(p),q+"active")}})}b.addClass("scroll");c("v","Top",
"Height","Y","Width");c("h","Left","Width","X","Height")}var b=this,d=2;b.settings.autoScroll&&(b._hasScroll||(b._hasScroll=!0,e(),b.on("wheel",function(c){var d=b.getEl("body");d.scrollLeft+=10*(c.deltaX||0);d.scrollTop+=10*c.deltaY;f()}),l.on(b.getEl("body"),"scroll",f)),f())}}});w("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(l,g){return l.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[g],renderHtml:function(){var f=this._layout,e=this.settings.html;
this.preRender();f.preRender(this);"undefined"==typeof e?e='<div id="'+this._id+'-body" class="'+this.classes("body")+'">'+f.renderHtml(this)+"</div>":("function"==typeof e&&(e=e.call(this)),this._hasBody=!1);return'<div id="'+this._id+'" class="'+this.classes()+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+e+"</div>"}})});w("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(l){function g(f,e,b){var d,c,k,a;k=l.getViewPort();d=l.getPos(e);c=d.x;d=d.y;f._fixed&&"static"==
l.getRuntimeStyle(document.body,"position")&&(c-=k.x,d-=k.y);f=f.getEl();a=l.getSize(f);f=a.width;k=a.height;a=l.getSize(e);e=a.width;a=a.height;b=(b||"").split("");"b"===b[0]&&(d+=a);"r"===b[1]&&(c+=e);"c"===b[0]&&(d+=Math.round(a/2));"c"===b[1]&&(c+=Math.round(e/2));"b"===b[3]&&(d-=k);"r"===b[4]&&(c-=f);"c"===b[3]&&(d-=Math.round(k/2));"c"===b[4]&&(c-=Math.round(f/2));return{x:c,y:d,w:f,h:k}}return{testMoveRel:function(f,e){for(var b=l.getViewPort(),d=0;d<e.length;d++){var c=g(this,f,e[d]);if(this._fixed){if(0<
c.x&&c.x+c.w<b.w&&0<c.y&&c.y+c.h<b.h)return e[d]}else if(c.x>b.x&&c.x+c.w<b.w+b.x&&c.y>b.y&&c.y+c.h<b.h+b.y)return e[d]}return e[0]},moveRel:function(f,e){"string"!=typeof e&&(e=this.testMoveRel(f,e));var b=g(this,f,e);return this.moveTo(b.x,b.y)},moveBy:function(f,e){var b=this.layoutRect();this.moveTo(b.x+f,b.y+e);return this},moveTo:function(f,e){function b(b,a,c){return 0>b?0:b+c>a?(b=a-c,0>b?0:b):b}if(this.settings.constrainToViewport){var d=l.getViewPort(window),c=this.layoutRect();f=b(f,d.w+
d.x,c.w);e=b(e,d.h+d.y,c.h)}this._rendered?this.layoutRect({x:f,y:e}).repaint():(this.settings.x=f,this.settings.y=e);this.fire("move",{x:f,y:e});return this}}});w("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(l){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(g,f){if(1>=g||1>=f){var e=l.getWindowSize();g=1>=g?g*e.w:g;f=1>=f?f*e.h:f}this._layoutRect.autoResize=!1;return this.layoutRect({minW:g,minH:f,w:g,h:f}).reflow()},
resizeBy:function(g,f){var e=this.layoutRect();return this.resizeTo(e.w+g,e.h+f)}}});w("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils"],function(l,g,f,e){function b(){u||(u=function(a){if(2!=a.button)for(var b=p.length;b--;){var c=p[b],d=c.getParentCtrl(a.target);if(c.settings.autohide){if(d){var e;a:{e=d;for(var f=c;e;){if(e==f){e=!0;break a}e=e.parent()}e=void 0}if(e||c.parent()===d)continue}a=c.fire("autohide",{target:a.target});a.isDefaultPrevented()||
c.hide()}}},e.on(document,"click",u))}function d(){m||(m=function(){var a;for(a=p.length;a--;)k(p[a])},e.on(window,"scroll",m))}function c(){if(!t){var a=document.documentElement,b=a.clientWidth,c=a.clientHeight;t=function(){document.all&&b==a.clientWidth&&c==a.clientHeight||(b=a.clientWidth,c=a.clientHeight,s.hideAll())};e.on(window,"resize",t)}}function k(a){function b(c,d){for(var e,f=0;f<p.length;f++)if(p[f]!=a)for(e=p[f].parent();e&&(e=e.parent());)e==a&&p[f].fixed(c).moveBy(0,d).repaint()}var c=
e.getViewPort().y;a.settings.autofix&&(a._fixed?a._autoFixY>c&&(a.fixed(!1).layoutRect({y:a._autoFixY}).repaint(),b(!1,a._autoFixY-c)):(a._autoFixY=a.layoutRect().y,a._autoFixY<c&&(a.fixed(!0).layoutRect({y:0}).repaint(),b(!0,c-a._autoFixY))))}function a(a,b){var c,d=(s.zIndex||65535)+(zenarioAB.isOpen?3E5:0),f;if(a)q.push(b);else for(c=q.length;c--;)q[c]===b&&q.splice(c,1);if(q.length)for(c=0;c<q.length;c++)q[c].modal&&(d++,f=q[c]),q[c].getEl().style.zIndex=d,q[c].zIndex=d,d++;c=document.getElementById(b.classPrefix+
"modal-block");f?e.css(c,"z-index",f.zIndex-1):c&&(c.parentNode.removeChild(c),y=!1);s.currentZIndex=d}function h(a){var b;for(b=p.length;b--;)p[b]===a&&p.splice(b,1);for(b=q.length;b--;)q[b]===a&&q.splice(b,1)}var u,m,t,p=[],q=[],y,s=l.extend({Mixins:[g,f],init:function(f){var g=this;g._super(f);g._eventsRoot=g;g.addClass("floatpanel");f.autohide&&(b(),c(),p.push(g));f.autofix&&(d(),g.on("move",function(){k(this)}));g.on("postrender show",function(b){if(b.control==g){var c,d=g.classPrefix;g.modal&&
!y&&(c=e.createFragment('<div id="'+d+'modal-block" class="'+d+"reset "+d+'fade"></div>'),c=c.firstChild,g.getContainerElm().appendChild(c),setTimeout(function(){e.addClass(c,d+"in");e.addClass(g.getEl(),d+"in")},0),y=!0);a(!0,g)}});g.on("show",function(){g.parents().each(function(a){if(a._fixed)return g.fixed(!0),!1})});f.popover&&(g._preBodyHtml='<div class="'+g.classPrefix+'arrow"></div>',g.addClass("popover").addClass("bottom").addClass(g.isRtl()?"end":"start"))},fixed:function(a){if(this._fixed!=
a){if(this._rendered){var b=e.getViewPort();a?this.layoutRect().y-=b.y:this.layoutRect().y+=b.y}this.toggleClass("fixed",a);this._fixed=a}return this},show:function(){var a,b=this._super();for(a=p.length;a--&&p[a]!==this;);-1===a&&p.push(this);return b},hide:function(){h(this);a(!1,this);return this._super()},hideAll:function(){s.hideAll()},close:function(){this.fire("close").isDefaultPrevented()||(this.remove(),a(!1,this));return this},remove:function(){h(this);this._super()},postRender:function(){this.settings.bodyRole&&
this.getEl("body").setAttribute("role",this.settings.bodyRole);return this._super()}});s.hideAll=function(){for(var a=p.length;a--;){var b=p[a];b&&b.settings.autohide&&(b.hide(),p.splice(a,1))}};return s});w("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(l,g,f,e){return l.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},
close:function(){this.close()}}},init:function(b){var d=this;d._super(b);d.isRtl()&&d.addClass("rtl");d.addClass("window");d._fixed=!0;b.buttons&&(d.statusbar=new g({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:d.isRtl()?"start":"end",defaults:{type:"button"},items:b.buttons}),d.statusbar.addClass("foot"),d.statusbar.parent(d));d.on("click",function(b){-1!=b.target.className.indexOf(d.classPrefix+"close")&&d.close()});d.on("cancel",function(){d.close()});d.aria("describedby",
d.describedBy||d._id+"-none");d.aria("label",b.title);d._fullscreen=!1},recalc:function(){var b=this.statusbar,d,c,e;this._fullscreen&&(this.layoutRect(f.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH);this._super();d=this.layoutRect();this.settings.title&&!this._fullscreen&&(c=d.headerW,c>d.w&&(e=d.x-Math.max(0,c/2),this.layoutRect({w:c,x:e}),e=!0));b&&(b.layoutRect({w:this.layoutRect().innerW}).recalc(),c=b.layoutRect().minW+d.deltaW,c>d.w&&(e=d.x-Math.max(0,c-d.w),this.layoutRect({w:c,
x:e}),e=!0));e&&this.recalc()},initLayoutRect:function(){var b=this._super(),d=0,c;this.settings.title&&!this._fullscreen&&(c=this.getEl("head"),c=f.getSize(c),b.headerW=c.width,b.headerH=c.height,d+=b.headerH);this.statusbar&&(d+=this.statusbar.layoutRect().h);b.deltaH+=d;b.minH+=d;b.h+=d;d=f.getWindowSize();b.x=Math.max(0,d.w/2-b.w/2);b.y=Math.max(0,d.h/2-b.h/2);return b},renderHtml:function(){var b=this._layout,d=this._id,c=this.classPrefix,e=this.settings,a="",f="",g=e.html;this.preRender();b.preRender(this);
e.title&&(a='<div id="'+d+'-head" class="'+c+'window-head"><div id="'+d+'-title" class="'+c+'title">'+this.encode(e.title)+'</div><button type="button" class="'+c+'close" aria-hidden="true">\u00d7</button><div id="'+d+'-dragh" class="'+c+'dragh"></div></div>');e.url&&(g='<iframe src="'+e.url+'" tabindex="-1"></iframe>');"undefined"==typeof g&&(g=b.renderHtml(this));this.statusbar&&(f=this.statusbar.renderHtml());return'<div id="'+d+'" class="'+this.classes()+'" hidefocus="1"><div class="'+this.classPrefix+
'reset" role="application">'+a+'<div id="'+d+'-body" class="'+this.classes("body")+'">'+g+"</div>"+f+"</div></div>"},fullscreen:function(b){var d=this,c=document.documentElement,e,a=d.classPrefix,g;b!=d._fullscreen&&(f.on(window,"resize",function(){var a;if(d._fullscreen)if(e)d._timer||(d._timer=setTimeout(function(){var a=f.getWindowSize();d.moveTo(0,0).resizeTo(a.w,a.h);d._timer=0},50));else{a=(new Date).getTime();var b=f.getWindowSize();d.moveTo(0,0).resizeTo(b.w,b.h);50<(new Date).getTime()-a&&
(e=!0)}}),g=d.layoutRect(),(d._fullscreen=b)?(d._initial={x:g.x,y:g.y,w:g.w,h:g.h},d._borderBox=d.parseBox("0"),d.getEl("head").style.display="none",g.deltaH-=g.headerH+2,f.addClass(c,a+"fullscreen"),f.addClass(document.body,a+"fullscreen"),d.addClass("fullscreen"),b=f.getWindowSize(),d.moveTo(0,0).resizeTo(b.w,b.h)):(d._borderBox=d.parseBox(d.settings.border),d.getEl("head").style.display="",g.deltaH+=g.headerH,f.removeClass(c,a+"fullscreen"),f.removeClass(document.body,a+"fullscreen"),d.removeClass("fullscreen"),
d.moveTo(d._initial.x,d._initial.y).resizeTo(d._initial.w,d._initial.h)));return d.reflow()},postRender:function(){var b,d,c=this;setTimeout(function(){c.addClass("in")},0);c._super();c.statusbar&&c.statusbar.postRender();c.focus();this.dragHelper=new e(c._id+"-dragh",{start:function(){b=c.layoutRect().x;d=c.layoutRect().y},drag:function(e){c.moveTo(b+e.deltaX,d+e.deltaY)}});c.on("submit",function(b){b.isDefaultPrevented()||c.close()})},submit:function(){return this.fire("submit",{data:this.toJSON()})},
remove:function(){var b=this.classPrefix;this.dragHelper.destroy();this._super();this.statusbar&&this.statusbar.remove();this._fullscreen&&(f.removeClass(document.documentElement,b+"fullscreen"),f.removeClass(document.body,b+"fullscreen"))},getContentWindow:function(){var b=this.getEl().getElementsByTagName("iframe")[0];return b?b.contentWindow:null}})});w("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(l){var g=l.extend({init:function(f){f={border:1,padding:20,layout:"flex",pack:"center",
align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(f)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(f){function e(b,e,a){return{type:"button",text:b,subtype:a?"primary":"",onClick:function(a){a.control.parents()[1].close();d(e)}}}var b,d=f.callback||function(){};switch(f.buttons){case g.OK_CANCEL:b=[e("Ok",!0,!0),e("Cancel",!1)];break;case g.YES_NO:case g.YES_NO_CANCEL:b=
[e("Yes",1,!0),e("No",0)];f.buttons==g.YES_NO_CANCEL&&b.push(e("Cancel",-1));break;default:b=[e("Ok",!0,!0)]}return(new l({padding:20,x:f.x,y:f.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:b,title:f.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:f.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:f.onClose,onCancel:function(){d(!1)}})).renderTo(document.body).reflow()},alert:function(f,
e){"string"==typeof f&&(f={text:f});f.callback=e;return g.msgBox(f)},confirm:function(f,e){"string"==typeof f&&(f={text:f});f.callback=e;f.buttons=g.OK_CANCEL;return g.msgBox(f)}}});return g});w("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(l,g){return function(f){function e(){if(b.length)return b[b.length-1]}var b=[];this.windows=b;f.on("remove",function(){for(var d=b.length;d--;)b[d].close()});this.open=function(d,c){var e;f.editorManager.setActive(f);d.title=d.title||
" ";d.url=d.url||d.file;d.url&&(d.width=parseInt(d.width||320,10),d.height=parseInt(d.height||240,10));d.body&&(d.items={defaults:d.defaults,type:d.bodyType||"form",items:d.body});d.url||d.buttons||(d.buttons=[{text:"Ok",subtype:"primary",onclick:function(){e.find("form")[0].submit()}},{text:"Cancel",onclick:function(){e.close()}}]);e=new l(d);b.push(e);e.on("close",function(){for(var a=b.length;a--;)b[a]===e&&b.splice(a,1);b.length||f.focus()});if(d.data)e.on("postRender",function(){this.find("*").each(function(a){var b=
a.name();b in d.data&&a.value(d.data[b])})});e.features=d||{};e.params=c||{};1===b.length&&f.nodeChanged();return e.renderTo().reflow()};this.alert=function(b,c,e){g.alert(b,function(){c?c.call(e||this):f.focus()})};this.confirm=function(b,c,e){g.confirm(b,function(a){c.call(e||this,a)})};this.close=function(){e()&&e().close()};this.getParams=function(){return e()?e().params:null};this.setParams=function(b){e()&&(e().params=b)};this.getWindows=function(){return b}}});w("tinymce/util/Quirks","tinymce/util/VK tinymce/dom/RangeUtils tinymce/html/Node tinymce/html/Entities tinymce/Env tinymce/util/Tools".split(" "),
function(l,g,f,e,b,d){return function(c){function k(a,b){try{c.getDoc().execCommand(a,!1,b)}catch(d){}}function a(){var a=c.getDoc().documentMode;return a?a:6}function h(){function a(b){var f=new e(function(){});d.each(c.getBody().getElementsByTagName("*"),function(a){"SPAN"==a.tagName&&a.setAttribute("mce-data-marked",1);!a.hasAttribute("data-mce-style")&&a.hasAttribute("style")&&c.dom.setAttrib(a,"style",c.dom.getAttrib(a,"style"))});f.observe(c.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]});
c.getDoc().execCommand(b?"ForwardDelete":"Delete",!1,null);var g=c.selection.getRng(),h=g.startContainer.parentNode;d.each(f.takeRecords(),function(a){if(E.isChildOf(a.target,c.getBody())){if("style"==a.attributeName){var b=a.target.getAttribute("data-mce-style");b?a.target.setAttribute("style",b):a.target.removeAttribute("style")}d.each(a.addedNodes,function(a){if("SPAN"==a.nodeName&&!a.getAttribute("mce-data-marked")){var b,d;a==h&&(b=g.startOffset,d=a.firstChild);E.remove(a,!0);d&&(g.setStart(d,
b),g.setEnd(d,b),c.selection.setRng(g))}})}});f.disconnect();d.each(c.dom.select("span[mce-data-marked]"),function(a){a.removeAttribute("mce-data-marked")})}var b=c.getDoc(),e=window.MutationObserver,f,g;e||(f=!0,e=function(){function a(b){b=b.relatedNode||b.target;c.push({target:b,addedNodes:[b]})}function b(a){c.push({target:a.relatedNode||a.target,attributeName:a.attrName})}var c=[],d;this.observe=function(c){d=c;d.addEventListener("DOMSubtreeModified",a,!1);d.addEventListener("DOMNodeInsertedIntoDocument",
a,!1);d.addEventListener("DOMNodeInserted",a,!1);d.addEventListener("DOMAttrModified",b,!1)};this.disconnect=function(){d.removeEventListener("DOMSubtreeModified",a,!1);d.removeEventListener("DOMNodeInsertedIntoDocument",a,!1);d.removeEventListener("DOMNodeInserted",a,!1);d.removeEventListener("DOMAttrModified",b,!1)};this.takeRecords=function(){return c}});c.on("keydown",function(b){var d=b.keyCode==S,e=l.metaKeyPressed(b);if(!b.isDefaultPrevented()&&(d||b.keyCode==O)){var f=c.selection.getRng(),
g=f.startContainer,h=f.startOffset;!e&&f.collapsed&&3==g.nodeType&&(d?h<g.data.length:0<h)||(b.preventDefault(),e&&c.selection.getSel().modify("extend",d?"forward":"backward","word"),a(d))}});c.on("keypress",function(b){b.isDefaultPrevented()||J.isCollapsed()||!b.charCode||l.metaKeyPressed(b)||(b.preventDefault(),a(!0),c.selection.setContent(String.fromCharCode(b.charCode)))});c.addCommand("Delete",function(){a()});c.addCommand("ForwardDelete",function(){a(!0)});f||(c.on("dragstart",function(a){var b;
c.selection.isCollapsed()&&"IMG"==a.target.tagName&&J.select(a.target);g=J.getRng();b=c.selection.getContent();0<b.length&&a.dataTransfer.setData("URL","data:text/mce-internal,"+escape(b))}),c.on("drop",function(d){if(!d.isDefaultPrevented()){var e=d.dataTransfer.getData("URL");e&&-1!=e.indexOf("data:text/mce-internal,")&&b.caretRangeFromPoint&&(e=unescape(e.substr(23)),b.caretRangeFromPoint&&(d.preventDefault(),window.setTimeout(function(){var f=b.caretRangeFromPoint(d.x,d.y);g&&(J.setRng(g),g=null);
a();J.setRng(f);c.insertContent(e)},0)))}}),c.on("cut",function(b){!b.isDefaultPrevented()&&b.clipboardData&&(b.preventDefault(),b.clipboardData.clearData(),b.clipboardData.setData("text/html",c.selection.getContent()),b.clipboardData.setData("text/plain",c.selection.getContent({format:"text"})),a(!0))}))}function u(){c.shortcuts.add("ctrl+a",null,"SelectAll")}function m(){c.settings.content_editable||(E.bind(c.getDoc(),"focusin",function(){J.setRng(J.getRng())}),E.bind(c.getDoc(),"mousedown mouseup",
function(a){a.target==c.getDoc().documentElement&&(c.getBody().focus(),"mousedown"==a.type?J.placeCaretAt(a.clientX,a.clientY):J.setRng(J.getRng()))}))}function t(){c.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===O&&c.getBody().getElementsByTagName("hr").length&&J.isCollapsed()&&0===J.getRng(!0).startOffset){var b=J.getNode(),d=b.previousSibling;"HR"==b.nodeName?(E.remove(b),a.preventDefault()):d&&d.nodeName&&"hr"===d.nodeName.toLowerCase()&&(E.remove(d),a.preventDefault())}})}
function p(){if(!window.Range.prototype.getClientRects)c.on("mousedown",function(a){if(!a.isDefaultPrevented()&&"HTML"===a.target.nodeName){var b=c.getBody();b.blur();setTimeout(function(){b.focus()},0)}})}function q(){c.on("click",function(a){var b=a.target;/^(IMG|HR)$/.test(b.nodeName)&&(a.preventDefault(),J.getSel().setBaseAndExtent(b,0,b,1),c.nodeChanged());"A"==b.nodeName&&E.hasClass(b,"mce-item-anchor")&&(a.preventDefault(),J.select(b))})}function y(){function a(){var b=E.getAttribs(J.getStart().cloneNode(!1));
return function(){var a=J.getStart();a!==c.getBody()&&(E.setAttrib(a,"style",null),R(b,function(b){a.setAttributeNode(b.cloneNode(!0))}))}}function b(){return!J.isCollapsed()&&E.getParent(J.getStart(),E.isBlock)!=E.getParent(J.getEnd(),E.isBlock)}c.on("keypress",function(d){var e;if(!d.isDefaultPrevented()&&(8==d.keyCode||46==d.keyCode)&&b())return e=a(),c.getDoc().execCommand("delete",!1,null),e(),d.preventDefault(),!1});E.bind(c.getDoc(),"cut",function(c){var d;!c.isDefaultPrevented()&&b()&&(d=
a(),setTimeout(function(){d()},0))})}function s(){c.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===O&&J.isCollapsed()&&0===J.getRng(!0).startOffset){var b=J.getNode().previousSibling;if(b&&b.nodeName&&"table"===b.nodeName.toLowerCase())return a.preventDefault(),!1}})}function r(){7<a()||(k("RespectVisibilityInDesign",!0),c.contentStyles.push(".mceHideBrInPre pre br {display: none}"),E.addClass(c.getBody(),"mceHideBrInPre"),Y.addNodeFilter("pre",function(a){for(var b=a.length,c,d,
e,g;b--;)for(c=a[b].getAll("br"),d=c.length;d--;)e=c[d],(g=e.prev)&&3===g.type&&"\n"!=g.value.charAt(g.value-1)?g.value+="\n":e.parent.insert(new f("#text",3),e,!0).value="\n"}),W.addNodeFilter("pre",function(a){for(var b=a.length,c,d,e;b--;)for(c=a[b].getAll("br"),d=c.length;d--;)e=c[d],(e=e.prev)&&3==e.type&&(e.value=e.value.replace(/\r?\n$/,""))}))}function v(){E.bind(c.getBody(),"mouseup",function(){var a,b=J.getNode();if("IMG"==b.nodeName){if(a=E.getStyle(b,"width"))E.setAttrib(b,"width",a.replace(/[^0-9%]+/g,
"")),E.setStyle(b,"width","");if(a=E.getStyle(b,"height"))E.setAttrib(b,"height",a.replace(/[^0-9%]+/g,"")),E.setStyle(b,"height","")}})}function n(){function a(){c._refreshContentEditable();k("StyleWithCSS",!1);k("enableInlineTableEditing",!1);Q.object_resizing||k("enableObjectResizing",!1)}if(!Q.readonly)c.on("BeforeExecCommand MouseDown",a)}function B(){function a(){R(E.select("a"),function(a){var b=a.parentNode,c=E.getRoot();if(b.lastChild===a){for(;b&&!E.isBlock(b);){if(b.parentNode.lastChild!==
b||b===c)return;b=b.parentNode}E.add(b,"br",{"data-mce-bogus":1})}})}c.on("SetContent ExecCommand",function(b){"setcontent"!=b.type&&"mceInsertLink"!==b.command||a()})}function w(){if(Q.forced_root_block)c.on("init",function(){k("DefaultParagraphSeparator",Q.forced_root_block)})}function x(){c.on("Undo Redo SetContent",function(a){a.initial||c.execCommand("mceRepaint")})}function z(){c.on("keydown",function(a){var b;a.isDefaultPrevented()||a.keyCode!=O||(b=c.getDoc().selection.createRange())&&b.item&&
(a.preventDefault(),c.undoManager.beforeChange(),E.remove(b.item(0)),c.undoManager.add())})}function K(){var b;10<=a()&&(b="",R("p div h1 h2 h3 h4 h5 h6".split(" "),function(a,c){b+=(0<c?",":"")+a+":empty"}),c.contentStyles.push(b+"{padding-right: 1px !important}"))}function D(){9>a()&&(Y.addNodeFilter("noscript",function(a){for(var b=a.length,c,d;b--;)c=a[b],(d=c.firstChild)&&c.attr("data-mce-innertext",d.value)}),W.addNodeFilter("noscript",function(a){for(var b=a.length,c,d,g;b--;)if(c=a[b],d=a[b].firstChild)d.value=
e.decode(d.value);else if(g=c.attributes.map["data-mce-innertext"])c.attr("data-mce-innertext",null),d=new f("#text",3),d.value=g,d.raw=!0,c.append(d)}))}function I(){function a(b,c){var d=e.createTextRange();try{d.moveToPoint(b,c)}catch(f){d=null}return d}function b(d){if(d.button){if(d=a(d.x,d.y))0<d.compareEndPoints("StartToStart",g)?d.setEndPoint("StartToStart",g):d.setEndPoint("EndToEnd",g),d.select()}else c()}function c(){var a=d.selection.createRange();g&&!a.item&&0===a.compareEndPoints("StartToEnd",
a)&&g.select();E.unbind(d,"mouseup",c);E.unbind(d,"mousemove",b);g=f=0}var d=E.doc,e=d.body,f,g,h;d.documentElement.unselectable=!0;E.bind(d,"mousedown contextmenu",function(e){"HTML"===e.target.nodeName&&(f&&c(),h=d.documentElement,!(h.scrollHeight>h.clientHeight)&&(f=1,g=a(e.x,e.y)))&&(E.bind(d,"mouseup",c),E.bind(d,"mousemove",b),E.getRoot().focus(),g.select())})}function L(){if(!c.inline)c.on("keydown",function(){document.activeElement==document.body&&c.getWin().focus()})}function H(){c.inline||
(c.contentStyles.push("body {min-height: 150px}"),c.on("click",function(a){"HTML"==a.target.nodeName&&(c.getBody().focus(),c.selection.normalize(),c.nodeChanged())}))}function F(){if(b.mac)c.on("keydown",function(a){!l.metaKeyPressed(a)||37!=a.keyCode&&39!=a.keyCode||(a.preventDefault(),c.selection.getSel().modify("move",37==a.keyCode?"backward":"forward","word"))})}function N(){if(!c.inline)c.on("focus blur beforegetcontent",function(){var a=c.dom.create("br");c.getBody().appendChild(a);a.parentNode.removeChild(a)},
!0)}function M(){c.on("click",function(a){var b=a.target;do if("A"===b.tagName){a.preventDefault();break}while(b=b.parentNode)});c.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function P(){c.on("touchstart",function(a){var b,d,e;b=a.target;d=(new Date).getTime();!(a=a.changedTouches)||1<a.length||(e=a[0],c.once("touchend",function(a){var f=a.changedTouches[0],g;500<(new Date).getTime()-d||5<Math.abs(e.clientX-f.clientX)||5<Math.abs(e.clientY-f.clientY)||(g={target:b},R("pageX pageY clientX clientY screenX screenY".split(" "),
function(a){g[a]=f[a]}),g=c.fire("click",g),g.isDefaultPrevented()||(c.selection.placeCaretAt(f.clientX,f.clientY),c.nodeChanged()))}))})}function A(){c.on("init",function(){c.dom.bind(c.getBody(),"submit",function(a){a.preventDefault()})})}function C(){Y.addNodeFilter("br",function(a){for(var b=a.length;b--;)"Apple-interchange-newline"==a[b].attr("class")&&a[b].remove()})}var R=d.each,O=l.BACKSPACE,S=l.DELETE,E=c.dom,J=c.selection,Q=c.settings,Y=c.parser,W=c.serializer,V=b.gecko,Z=b.ie,$=b.webkit;
(function(){c.on("keydown",function(a){var b,d,e,f;if(!a.isDefaultPrevented()&&a.keyCode==l.BACKSPACE&&(a=J.getRng(),b=a.startContainer,d=a.startOffset,e=E.getRoot(),f=b,a.collapsed&&0===d)){for(;f&&f.parentNode&&f.parentNode.firstChild==f&&f.parentNode!=e;)f=f.parentNode;"BLOCKQUOTE"===f.tagName&&(c.formatter.toggle("blockquote",null,f),a=E.createRng(),a.setStart(b,0),a.setEnd(b,0),J.setRng(a))}})})();(function(){function a(b){var c=E.create("body");b=b.cloneContents();c.appendChild(b);return J.serializer.serialize(c,
{format:"html"})}c.on("keydown",function(b){var d=b.keyCode,e;if(!b.isDefaultPrevented()&&(d==S||d==O)&&(e=c.selection.isCollapsed(),d=c.getBody(),!e||E.isEmpty(d))){if(e=!e){e=c.selection.getRng();if(e.setStart){e=a(e);var f=E.createRng();f.selectNode(c.getBody());f=a(f);e=e===f}else e.item?e=!1:(f=e.duplicate(),f.moveToElementText(c.getBody()),e=g.compareRanges(e,f));e=!e}e||(b.preventDefault(),c.setContent(""),d.firstChild&&E.isBlock(d.firstChild)?c.selection.setCursorLocation(d.firstChild,0):
c.selection.setCursorLocation(d,0),c.nodeChanged())}})})();(function(){c.on("keyup focusin mouseup",function(a){65==a.keyCode&&l.metaKeyPressed(a)||J.normalize()},!0)})();$&&(h(),m(),q(),w(),A(),s(),C(),P(),b.iOS?(L(),H(),M()):u());Z&&11>b.ie&&(t(),document.body.setAttribute("role","application"),r(),v(),z(),K(),D(),I());11<=b.ie&&(H(),N(),s());b.ie&&(u(),k("AutoUrlDetect",!1));V&&(t(),p(),y(),n(),B(),x(),c.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),
F(),s())}});w("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(l){function g(f){f._eventDispatcher||(f._eventDispatcher=new l({scope:f,toggleEvent:function(e,b){l.isNative(e)&&f.toggleNativeEvent&&f.toggleNativeEvent(e,b)}}));return f._eventDispatcher}return{fire:function(f,e,b){if(this.removed&&"remove"!==f)return e;e=g(this).fire(f,e,b);if(!1!==b&&this.parent)for(b=this.parent();b&&!e.isPropagationStopped();)b.fire(f,e,!1),b=b.parent();return e},on:function(f,e,b){return g(this).on(f,
e,b)},off:function(f,e){return g(this).off(f,e)},once:function(f,e){return g(this).once(f,e)},hasEventListeners:function(f){return g(this).has(f)}}});w("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(l,g,f){function e(b,a){return"selectionchange"==a?b.getDoc():!b.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(a)?b.getDoc().documentElement:b.settings.event_root?(b.eventRoot||(b.eventRoot=d.select(b.settings.event_root)[0]),
b.eventRoot):b.getBody()}function b(b,a){var f=e(b,a),g;b.delegates||(b.delegates={});b.delegates[a]||(b.settings.event_root?(c||(c={},b.editorManager.on("removeEditor",function(){var a;if(!b.editorManager.activeEditor&&c){for(a in c)b.dom.unbind(e(b,a));c=null}})),c[a]||(g=function(c){for(var e=c.target,f=b.editorManager.editors,g=f.length;g--;){var h=f[g].getBody();if(h===e||d.isChildOf(e,h))f[g].hidden||f[g].fire(a,c)}},c[a]=g,d.bind(f,a,g))):(g=function(c){b.hidden||b.fire(a,c)},d.bind(f,a,g),
b.delegates[a]=g))}var d=g.DOM,c;g={bindPendingEventDelegates:function(){var c=this;f.each(c._pendingNativeEvents,function(a){b(c,a)})},toggleNativeEvent:function(c,a){this.settings.readonly||"focus"==c||"blur"==c||(a?this.initialized?b(this,c):this._pendingNativeEvents?this._pendingNativeEvents.push(c):this._pendingNativeEvents=[c]:this.initialized&&(this.dom.unbind(e(this,c),c,this.delegates[c]),delete this.delegates[c]))},unbindAllNativeEvents:function(){var b;if(this.delegates){for(b in this.delegates)this.dom.unbind(e(this,
b),b,this.delegates[b]);delete this.delegates}this.inline||(this.getBody().onload=null,this.dom.unbind(this.getWin()),this.dom.unbind(this.getDoc()));this.dom.unbind(this.getBody());this.dom.unbind(this.getContainer())}};return g=f.extend({},l,g)});w("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(l,g){var f=l.each,e=l.explode,b={f9:120,f10:121,f11:122};return function(d){var c={};d.on("keyup keypress keydown",function(b){(b.altKey||b.ctrlKey||b.metaKey)&&!b.isDefaultPrevented()&&
f(c,function(a){if(a.ctrl==(g.mac?b.metaKey:b.ctrlKey)&&a.alt==b.altKey&&a.shift==b.shiftKey&&(b.keyCode==a.keyCode||b.charCode&&b.charCode==a.charCode))return b.preventDefault(),"keydown"==b.type&&a.func.call(a.scope),!0})});this.add=function(g,a,h,u){var m;m=h;"string"===typeof h?h=function(){d.execCommand(m,!1,null)}:l.isArray(m)&&(h=function(){d.execCommand(m[0],m[1],m[2])});f(e(g.toLowerCase()),function(g){var k={func:h,scope:u||d,desc:d.translate(a),alt:!1,ctrl:!1,shift:!1};f(e(g,"+"),function(a){switch(a){case "alt":case "ctrl":case "shift":k[a]=
!0;break;default:/^[0-9]{2,}$/.test(a)?k.keyCode=parseInt(a,10):(k.charCode=a.charCodeAt(0),k.keyCode=b[a]||a.toUpperCase().charCodeAt(0))}});c[(k.ctrl?"ctrl":"")+","+(k.alt?"alt":"")+","+(k.shift?"shift":"")+","+k.keyCode]=k});return!0}}});w("tinymce/Editor","tinymce/dom/DOMUtils tinymce/dom/DomQuery tinymce/AddOnManager tinymce/NodeChange tinymce/html/Node tinymce/dom/Serializer tinymce/html/Serializer tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/dom/ScriptLoader tinymce/dom/EventUtils tinymce/WindowManager tinymce/html/Schema tinymce/html/DomParser tinymce/util/Quirks tinymce/Env tinymce/util/Tools tinymce/EditorObservable tinymce/Shortcuts".split(" "),
function(l,g,f,e,b,d,c,k,a,h,u,m,t,p,q,y,s,r,v,n,B,w,x,z){function K(a,b,c){var d=this,e,h;e=d.documentBaseUrl=c.documentBaseURL;h=c.baseURI;d.settings=b=H({id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",
font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",
validate:!0,entity_encoding:"named",url_converter:d.convertURL,url_converter_scope:d,ie7_compat:!0},b);f.language=b.language||"en";f.languageLoad=b.language_load;f.baseURL=c.baseURL;d.id=b.id=a;d.isNotDirty=!0;d.plugins={};d.documentBaseURI=new p(b.document_base_url||e,{base_uri:h});d.baseURI=h;d.contentCSS=[];d.contentStyles=[];d.shortcuts=new z(d);d.execCommands={};d.queryStateCommands={};d.queryValueCommands={};d.loadedCSS={};b.target&&(d.targetElm=b.target);d.suffix=c.suffix;d.editorManager=c;
d.inline=b.inline;c.fire("SetupEditor",d);d.execCallback("setup",d);d.$=g.overrideDefaults(function(){return{context:d.inline?d.getBody():d.getDoc(),element:d.getBody()}})}var D=l.DOM,I=f.ThemeManager,L=f.PluginManager,H=w.extend,F=w.each,N=w.explode,M=w.inArray,P=w.trim,A=w.resolve,C=y.Event,R=B.gecko,O=B.ie;K.prototype={render:function(){function a(){D.unbind(window,"ready",a);c.render()}function b(){var a=q.ScriptLoader;d.language&&"en"!=d.language&&!d.language_url&&(d.language_url=c.editorManager.baseURL+
"/langs/"+d.language+".js");d.language_url&&a.add(d.language_url);if(d.theme&&"function"!=typeof d.theme&&"-"!=d.theme.charAt(0)&&!I.urls[d.theme]){var e=d.theme_url,e=e?c.documentBaseURI.toAbsolute(e):"themes/"+d.theme+"/theme"+f+".js";I.load(d.theme,e)}w.isArray(d.plugins)&&(d.plugins=d.plugins.join(" "));F(d.external_plugins,function(a,b){L.load(b,a);d.plugins+=" "+b});F(d.plugins.split(/[ ,]/),function(a){(a=P(a))&&!L.urls[a]&&("-"==a.charAt(0)?(a=a.substr(1,a.length),a=L.dependencies(a),F(a,
function(a){a=L.createUrl({prefix:"plugins/",resource:a,suffix:"/plugin"+f+".js"},a);L.load(a.resource,a)})):L.load(a,{prefix:"plugins/",resource:a,suffix:"/plugin"+f+".js"}))});a.loadQueue(function(){c.removed||c.init()})}var c=this,d=c.settings,e=c.id,f=c.suffix;if(!C.domLoaded)D.bind(window,"ready",a);else if(c.getElement()&&B.contentEditable){d.inline?c.inline=!0:(c.orgVisibility=c.getElement().style.visibility,c.getElement().style.visibility="hidden");var g=c.getElement().form||D.getParent(e,
"form");g&&(c.formElement=g,d.hidden_input&&!/TEXTAREA|INPUT/i.test(c.getElement().nodeName)&&(D.insertAfter(D.create("input",{type:"hidden",name:e}),e),c.hasHiddenInput=!0),c.formEventDelegate=function(a){c.fire(a.type,a)},D.bind(g,"submit reset",c.formEventDelegate),c.on("reset",function(){c.setContent(c.startContent,{format:"raw"})}),!d.submit_patch||g.submit.nodeType||g.submit.length||g._mceOldSubmit||(g._mceOldSubmit=g.submit,g.submit=function(){c.editorManager.triggerSave();c.isNotDirty=!0;
return g._mceOldSubmit(g)}));c.windowManager=new s(c);if("xml"==d.encoding)c.on("GetContent",function(a){a.save&&(a.content=D.encode(a.content))});if(d.add_form_submit_trigger)c.on("submit",function(){c.initialized&&c.save()});d.add_unload_trigger&&(c._beforeUnload=function(){!c.initialized||c.destroyed||c.isHidden()||c.save({format:"raw",no_events:!0,set_dirty:!1})},c.editorManager.on("BeforeUnload",c._beforeUnload));b()}},init:function(){function a(c){var d=L.get(c),e;e=L.urls[c]||b.documentBaseUrl.replace(/\/$/,
"");c=P(c);d&&-1===M(n,c)&&(F(L.dependencies(c),function(b){a(b)}),d=new d(b,e,b.$),b.plugins[c]=d,d.init&&(d.init(b,e),n.push(c)))}var b=this,c=b.settings,d=b.getElement(),e,f,g,h,k,n=[];b.rtl=this.editorManager.i18n.rtl;b.editorManager.add(b);c.aria_label=c.aria_label||D.getAttrib(d,"aria-label",b.getLang("aria.rich_text_area"));c.theme&&("function"!=typeof c.theme?(c.theme=c.theme.replace(/-/,""),g=I.get(c.theme),b.theme=new g(b,I.urls[c.theme]),b.theme.init&&b.theme.init(b,I.urls[c.theme]||b.documentBaseUrl.replace(/\/$/,
""),b.$)):b.theme=c.theme);F(c.plugins.replace(/\-/g,"").split(/[ ,]/),a);c.render_ui&&b.theme&&(b.orgDisplay=d.style.display,"function"!=typeof c.theme?(e=c.width||d.style.width||d.offsetWidth,f=c.height||d.style.height||d.offsetHeight,g=c.min_height||100,k=/^[0-9\.]+(|px)$/i,k.test(""+e)&&(e=Math.max(parseInt(e,10),100)),k.test(""+f)&&(f=Math.max(parseInt(f,10),g)),e=b.theme.renderUI({targetNode:d,width:e,height:f,deltaWidth:c.delta_width,deltaHeight:c.delta_height}),c.content_editable||(f=(e.iframeHeight||
f)+("number"==typeof f?e.deltaHeight||0:""),f<g&&(f=g))):(e=c.theme(b,d),e.editorContainer.nodeType&&(e.editorContainer=e.editorContainer.id=e.editorContainer.id||b.id+"_parent"),e.iframeContainer.nodeType&&(e.iframeContainer=e.iframeContainer.id=e.iframeContainer.id||b.id+"_iframecontainer"),f=e.iframeHeight||d.offsetHeight),b.editorContainer=e.editorContainer);c.content_css&&F(N(c.content_css),function(a){b.contentCSS.push(b.documentBaseURI.toAbsolute(a))});c.content_style&&b.contentStyles.push(c.content_style);
if(c.content_editable)return d=f=e=null,b.initContentBody();b.iframeHTML=c.doctype+"<html><head>";c.document_base_url!=b.documentBaseUrl&&(b.iframeHTML+='<base href="'+b.documentBaseURI.getURI()+'" />');!B.caretAfter&&c.ie7_compat&&(b.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />');b.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(d=0;d<b.contentCSS.length;d++)g=b.contentCSS[d],b.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+
g+'" />',b.loadedCSS[g]=!0;d=c.body_id||"tinymce";-1!=d.indexOf("=")&&(d=b.getParam("body_id","","hash"),d=d[b.id]||d);g=c.body_class||"";-1!=g.indexOf("=")&&(g=b.getParam("body_class","","hash"),g=g[b.id]||"");c.content_security_policy&&(b.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+c.content_security_policy+'" />');b.iframeHTML+='</head><body id="'+d+'" class="mce-content-body '+g+'" data-id="'+b.id+'"><br></body></html>';c='javascript:(function(){document.open();document.domain="'+
document.domain+'";var ed = window.parent.tinymce.get("'+b.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&(h=c);var m=D.create("iframe",{id:b.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:b.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:f,display:"block"}});m.onload=function(){m.onload=null;b.fire("load")};D.setAttrib(m,
"src",h||'javascript:""');b.contentAreaContainer=e.iframeContainer;b.iframeElement=m;f=D.add(e.iframeContainer,m);if(O)try{b.getDoc()}catch(r){f.src=h=c}e.editorContainer&&(D.get(e.editorContainer).style.display=b.orgDisplay,b.hidden=D.isHidden(e.editorContainer));b.getElement().style.display="none";D.setAttrib(b.id,"aria-hidden",!0);h||b.initContentBody();d=f=e=null},initContentBody:function(c){var f=this,g=f.settings,p=f.getElement(),q=f.getDoc(),s;g.inline||(f.getElement().style.visibility=f.orgVisibility);
c||g.content_editable||(q.open(),q.write(f.iframeHTML),q.close());g.content_editable&&(f.on("remove",function(){var a=this.getBody();D.removeClass(a,"mce-content-body");D.removeClass(a,"mce-edit-focus");D.setAttrib(a,"contentEditable",null)}),D.addClass(p,"mce-content-body"),f.contentDocument=q=g.content_document||document,f.contentWindow=g.content_window||window,f.bodyElement=p,g.content_document=g.content_window=null,g.root_name=p.nodeName.toLowerCase());c=f.getBody();c.disabled=!0;g.readonly||
(f.inline&&"static"==D.getStyle(c,"position",!0)&&(c.style.position="relative"),c.contentEditable=f.getParam("content_editable_state",!0));c.disabled=!1;f.schema=new r(g);f.dom=new l(q,{keep_values:!0,url_converter:f.convertURL,url_converter_scope:f,hex_colors:g.force_hex_style_colors,class_filter:g.class_filter,update_styles:!0,root_element:f.inline?f.getBody():null,collect:g.content_editable,schema:f.schema,onSetAttrib:function(a){f.fire("SetAttrib",a)}});f.parser=new v(g,f.schema);f.parser.addAttributeFilter("src,href,style,tabindex",
function(a,b){for(var c=a.length,d,e=f.dom,g,h;c--;)d=a[c],g=d.attr(b),h="data-mce-"+b,d.attributes.map[h]||("style"===b?(g=e.serializeStyle(e.parseStyle(g),d.name),g.length||(g=null),d.attr(h,g),d.attr(b,g)):"tabindex"===b?(d.attr(h,g),d.attr(b,null)):d.attr(h,f.convertURL(g,b,d.name)))});f.parser.addNodeFilter("script",function(a){for(var b=a.length,c;b--;)c=a[b],c.attr("type","mce-"+(c.attr("type")||"no/type"))});f.parser.addNodeFilter("#cdata",function(a){for(var b=a.length,c;b--;)c=a[b],c.type=
8,c.name="#comment",c.value="[CDATA["+c.value+"]]"});f.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var c=a.length,d,e=f.schema.getNonEmptyElements();c--;)d=a[c],d.isEmpty(e)&&(d.append(new b("br",1)).shortEnded=!0)});f.serializer=new d(g,f);f.selection=new k(f.dom,f.getWin(),f.serializer,f);f.formatter=new a(f);f.undoManager=new h(f);f.forceBlocks=new m(f);f.enterKey=new u(f);f.editorCommands=new t(f);f._nodeChangeDispatcher=new e(f);f.fire("PreInit");g.browser_spellcheck||g.gecko_spellcheck||
(q.body.spellcheck=!1,D.setAttrib(c,"spellcheck","false"));f.fire("PostRender");f.quirks=new n(f);g.directionality&&(c.dir=g.directionality);g.nowrap&&(c.style.whiteSpace="nowrap");if(g.protect)f.on("BeforeSetContent",function(a){F(g.protect,function(b){a.content=a.content.replace(b,function(a){return"\x3c!--mce:protected "+escape(a)+"--\x3e"})})});f.on("SetContent",function(){f.addVisual(f.getBody())});if(g.padd_empty_editor)f.on("PostProcess",function(a){a.content=a.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,
"")});f.load({initial:!0,format:"html"});f.startContent=f.getContent({format:"raw"});f.initialized=!0;f.bindPendingEventDelegates();f.fire("init");f.focus(!0);f.nodeChanged({initial:!0});f.execCallback("init_instance_callback",f);0<f.contentStyles.length&&(s="",F(f.contentStyles,function(a){s+=a+"\r\n"}),f.dom.addStyle(s));F(f.contentCSS,function(a){f.loadedCSS[a]||(f.dom.loadCSS(a),f.loadedCSS[a]=!0)});g.auto_focus&&setTimeout(function(){(!0===g.auto_focus?f:f.editorManager.get(g.auto_focus)).focus()},
100);p=q=c=null},focus:function(a){var b=this.selection,c=this.settings.content_editable,d,e=this.getDoc();if(!a){a=b.getRng();a.item&&(d=a.item(0));this._refreshContentEditable();c||(B.opera||this.getBody().focus(),this.getWin().focus());if(R||c){a=this.getBody();if(a.setActive)try{a.setActive()}catch(f){a.focus()}else a.focus();c&&b.normalize()}d&&d.ownerDocument==e&&(a=e.body.createControlRange(),a.addElement(d),a.select())}this.editorManager.setActive(this)},execCallback:function(a){var b=this.settings[a],
c;if(b)return this.callbackLookup&&(c=this.callbackLookup[a])&&(b=c.func,c=c.scope),"string"===typeof b&&(c=(c=b.replace(/\.\w+$/,""))?A(c):0,b=A(b),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]={func:b,scope:c}),b.apply(c||this,Array.prototype.slice.call(arguments,1))},translate:function(a){var b=this.settings.language||"en",c=this.editorManager.i18n;return a?c.data[b+"."+a]||a.replace(/\{\#([^\}]+)\}/g,function(a,d){return c.data[b+"."+d]||"{#"+d+"}"}):""},getLang:function(a,
b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(b!==U?b:"{#"+a+"}")},getParam:function(a,b,c){a=a in this.settings?this.settings[a]:b;var d;return"hash"===c?(d={},"string"===typeof a?F(0<a.indexOf("=")?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(a){a=a.split("=");1<a.length?d[P(a[0])]=P(a[1]):d[P(a[0])]=P(a)}):d=a,d):a},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});
b.text||b.icon||(b.icon=a);c.buttons=c.buttons||{};b.tooltip=b.tooltip||b.title;c.buttons[a]=b},addMenuItem:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});c.menuItems=c.menuItems||{};c.menuItems[a]=b},addCommand:function(a,b,c){this.execCommands[a]={func:b,scope:c||this}},addQueryStateHandler:function(a,b,c){this.queryStateCommands[a]={func:b,scope:c||this}},addQueryValueHandler:function(a,b,c){this.queryValueCommands[a]={func:b,scope:c||this}},addShortcut:function(a,
b,c,d){this.shortcuts.add(a,b,c,d)},execCommand:function(a,b,c,d){var e=this,f=0,g;/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(a)||d&&d.skip_focus||e.focus();d=H({},d);d=e.fire("BeforeExecCommand",{command:a,ui:b,value:c});if(d.isDefaultPrevented())return!1;if((g=e.execCommands[a])&&!0!==g.func.call(g.scope,b,c))return e.fire("ExecCommand",{command:a,ui:b,value:c}),!0;F(e.plugins,function(d){if(d.execCommand&&d.execCommand(a,b,c))return e.fire("ExecCommand",{command:a,
ui:b,value:c}),f=!0,!1});if(f)return f;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(a,b,c)||e.editorCommands.execCommand(a,b,c))return e.fire("ExecCommand",{command:a,ui:b,value:c}),!0;try{f=e.getDoc().execCommand(a,b,c)}catch(h){}return f?(e.fire("ExecCommand",{command:a,ui:b,value:c}),!0):!1},queryCommandState:function(a){var b;if(!this._isHidden()){if(b=this.queryStateCommands[a])if(b=b.func.call(b.scope),!0===b||!1===b)return b;b=this.editorCommands.queryCommandState(a);if(-1!==b)return b;
try{return this.getDoc().queryCommandState(a)}catch(c){}}},queryCommandValue:function(a){var b;if(!this._isHidden()){if(b=this.queryValueCommands[a])if(b=b.func.call(b.scope),!0!==b)return b;b=this.editorCommands.queryCommandValue(a);if(b!==U)return b;try{return this.getDoc().queryCommandValue(a)}catch(c){}}},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(D.show(this.getContainer()),D.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var a=
this.getDoc();this.hidden||(O&&a&&!this.inline&&a.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable=!1,this==this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(D.hide(this.getContainer()),D.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(a,b){this.fire("ProgressState",{state:a,time:b})},load:function(a){var b=this.getElement(),c;if(b)return a=a||
{},a.load=!0,c=this.setContent(b.value!==U?b.value:b.innerHTML,a),a.element=b,a.no_events||this.fire("LoadContent",a),a.element=null,c},save:function(a){var b=this,c=b.getElement(),d,e;if(c&&b.initialized)return a=a||{},a.save=!0,a.element=c,d=a.content=b.getContent(a),a.no_events||b.fire("SaveContent",a),d=a.content,/TEXTAREA|INPUT/i.test(c.nodeName)?c.value=d:(b.inline||(c.innerHTML=d),(e=D.getParent(b.id,"form"))&&F(e.elements,function(a){if(a.name==b.id)return a.value=d,!1})),a.element=c=null,
!1!==a.set_dirty&&(b.isNotDirty=!0),d},setContent:function(a,b){var d=this.getBody(),e;b=b||{};b.format=b.format||"html";b.set=!0;b.content=a;b.no_events||this.fire("BeforeSetContent",b);a=b.content;0===a.length||/^\s+$/.test(a)?((e=this.settings.forced_root_block)&&this.schema.isValidChild(d.nodeName.toLowerCase(),e.toLowerCase())?(a=O&&11>O?"":'<br data-mce-bogus="1">',a=this.dom.createHTML(e,this.settings.forced_root_block_attrs,a)):O||(a='<br data-mce-bogus="1">'),this.dom.setHTML(d,a),this.fire("SetContent",
b)):("raw"!==b.format&&(a=(new c({},this.schema)).serialize(this.parser.parse(a,{isRootContent:!0}))),b.content=P(a),this.dom.setHTML(d,b.content),b.no_events||this.fire("SetContent",b));return b.content},getContent:function(a){var b;b=this.getBody();a=a||{};a.format=a.format||"html";a.get=!0;a.getInner=!0;a.no_events||this.fire("BeforeGetContent",a);b="raw"==a.format?b.innerHTML:"text"==a.format?b.innerText||b.textContent:this.serializer.serialize(b,a);a.content="text"!=a.format?P(b):b;a.no_events||
this.fire("GetContent",a);return a.content},insertContent:function(a,b){b&&(a=H({content:a},b));this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return!this.isNotDirty},getContainer:function(){this.container||(this.container=D.get(this.editorContainer||this.id+"_parent"));return this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){this.targetElm||(this.targetElm=D.get(this.id));return this.targetElm},getWin:function(){var a;!this.contentWindow&&
(a=this.iframeElement)&&(this.contentWindow=a.contentWindow);return this.contentWindow},getDoc:function(){var a;!this.contentDocument&&(a=this.getWin())&&(this.contentDocument=a.document);return this.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(a,b,c){var d=this.settings;return d.urlconverter_callback?this.execCallback("urlconverter_callback",a,c,!0,b):!d.convert_urls||c&&"LINK"==c.nodeName||0===a.indexOf("file:")||0===a.length?a:d.relative_urls?
this.documentBaseURI.toRelative(a):a=this.documentBaseURI.toAbsolute(a,d.remove_script_host)},addVisual:function(a){var b=this,c=b.settings,d=b.dom,e;a=a||b.getBody();b.hasVisual===U&&(b.hasVisual=c.visual);F(d.select("table,a",a),function(a){var f;switch(a.nodeName){case "TABLE":e=c.visual_table_class||"mce-item-table";(f=d.getAttrib(a,"border"))&&"0"!=f||!b.hasVisual?d.removeClass(a,e):d.addClass(a,e);break;case "A":d.getAttrib(a,"href",!1)||(f=d.getAttrib(a,"name")||a.id,e=c.visual_anchor_class||
"mce-item-anchor",f&&b.hasVisual?d.addClass(a,e):d.removeClass(a,e))}});b.fire("VisualAid",{element:a,hasVisual:b.hasVisual})},remove:function(){this.removed||(this.save(),this.removed=1,this.unbindAllNativeEvents(),this.hasHiddenInput&&D.remove(this.getElement().nextSibling),this.inline||(O&&10>O&&this.getDoc().execCommand("SelectAll",!1,null),D.setStyle(this.id,"display",this.orgDisplay),this.getBody().onload=null),this.fire("remove"),this.editorManager.remove(this),D.remove(this.getContainer()),
this.destroy())},destroy:function(a){if(!this.destroyed)if(a||this.removed){a||(this.editorManager.off("beforeunload",this._beforeUnload),this.theme&&this.theme.destroy&&this.theme.destroy(),this.selection.destroy(),this.dom.destroy());if(a=this.formElement)a._mceOldSubmit&&(a.submit=a._mceOldSubmit,a._mceOldSubmit=null),D.unbind(a,"submit reset",this.formEventDelegate);this.iframeElement=this.targetElm=this.bodyElement=this.contentDocument=this.contentWindow=this.contentAreaContainer=this.formElement=
this.container=this.editorContainer=null;this.selection&&(this.selection=this.selection.win=this.selection.dom=this.selection.dom.doc=null);this.destroyed=1}else this.remove()},_refreshContentEditable:function(){var a,b;this._isHidden()&&(a=this.getBody(),b=a.parentNode,b.removeChild(a),b.appendChild(a),a.focus())},_isHidden:function(){var a;if(!R)return 0;a=this.selection.getSel();return!a||!a.rangeCount||0===a.rangeCount}};H(K.prototype,x);return K});w("tinymce/util/I18n",[],function(){var l={};
return{rtl:!1,add:function(g,f){for(var e in f)l[e]=f[e];this.rtl=this.rtl||"rtl"===l._dir},translate:function(g){if("undefined"==typeof g)return g;if("string"!=typeof g&&g.raw)return g.raw;if(g.push){var f=g.slice(1);g=(l[g[0]]||g[0]).replace(/\{([^\}]+)\}/g,function(e,b){return f[b]})}return l[g]||g},data:l}});w("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/Env"],function(l,g){function f(k){function a(){try{return document.activeElement}catch(a){return document.body}}function h(a,b){var c;
b.startContainer?(c=a.getDoc().createRange(),c.setStart(b.startContainer,b.startOffset),c.setEnd(b.endContainer,b.endOffset)):c=b;return c}k.on("AddEditor",function(l){var m=l.editor;m.on("init",function(){if(m.inline||g.ie){if("onbeforedeactivate"in document&&9>g.ie)m.dom.bind(m.getBody(),"beforedeactivate",function(a){if(a.target==m.getBody())try{m.lastRng=m.selection.getRng()}catch(b){}});else m.on("nodechange mouseup keyup",function(b){var c=a();"nodechange"==b.type&&b.selectionChange||(c&&c.id==
m.id+"_ifr"&&(c=m.getBody()),m.dom.isChildOf(c,m.getBody())&&(m.lastRng=m.selection.getRng()))});g.webkit&&!e&&(e=function(){var a=k.activeEditor;a&&a.selection&&(a=a.selection.getRng())&&!a.collapsed&&(m.lastRng=a)},c.bind(document,"selectionchange",e))}});m.on("setcontent",function(){m.lastRng=null});m.on("mousedown",function(){m.selection.lastFocusBookmark=null});m.on("focusin",function(){var a=k.focusedEditor;m.selection.lastFocusBookmark&&(m.selection.setRng(h(m,m.selection.lastFocusBookmark)),
m.selection.lastFocusBookmark=null);a!=m&&(a&&a.fire("blur",{focusedEditor:m}),k.setActive(m),k.focusedEditor=m,m.fire("focus",{blurredEditor:a}),m.focus(!0));m.lastRng=null});m.on("focusout",function(){window.setTimeout(function(){var b=k.focusedEditor,d=a();c.getParent(d,f.isEditorUIElement)||b!=m||(m.fire("blur",{focusedEditor:null}),k.focusedEditor=null,m.selection&&(m.selection.lastFocusBookmark=null))},0)});b||(b=function(a){var b=k.activeEditor;if(b&&a.target.ownerDocument==document){if(b.selection&&
a.target!=b.getBody()){var d=b.selection,e;e=b.dom;var g=b.lastRng;e=g&&g.startContainer?e.isChildOf(g.startContainer,e.getRoot())&&e.isChildOf(g.endContainer,e.getRoot())?{startContainer:g.startContainer,startOffset:g.startOffset,endContainer:g.endContainer,endOffset:g.endOffset}:void 0:g;d.lastFocusBookmark=e}a.target==document.body||c.getParent(a.target,f.isEditorUIElement)||k.focusedEditor!=b||(b.fire("blur",{focusedEditor:null}),k.focusedEditor=null)}},c.bind(document,"focusin",b));m.inline&&
!d&&(d=function(a){var b=k.activeEditor;b.inline&&!b.dom.isChildOf(a.target,b.getBody())&&(a=b.selection.getRng(),a.collapsed||(b.lastRng=a))},c.bind(document,"mouseup",d))});k.on("RemoveEditor",function(a){k.focusedEditor==a.editor&&(k.focusedEditor=null);k.activeEditor||(c.unbind(document,"selectionchange",e),c.unbind(document,"focusin",b),c.unbind(document,"mouseup",d),e=b=d=null)})}var e,b,d,c=l.DOM;f.isEditorUIElement=function(b){return-1!==b.className.toString().indexOf("mce-")};return f});
w("tinymce/EditorManager","tinymce/Editor tinymce/dom/DomQuery tinymce/dom/DOMUtils tinymce/util/URI tinymce/Env tinymce/util/Tools tinymce/util/Observable tinymce/util/I18n tinymce/FocusManager".split(" "),function(l,g,f,e,b,d,c,k,a){function h(a){var b=s.editors,c;delete b[a.id];for(var d=0;d<b.length;d++)if(b[d]==a){b.splice(d,1);c=!0;break}s.activeEditor==a&&(s.activeEditor=b[0]);s.focusedEditor==a&&(s.focusedEditor=null);return c}var u=f.DOM,m=d.explode,t=d.each,p=d.extend,q=0,y,s;s={$:g,majorVersion:"4",
minorVersion:"1.6",releaseDate:"2014-10-08",editors:[],i18n:k,activeEditor:null,setup:function(){var b,c,d="",f;c=document.location.href;/^[^:]+:\/\/\/?[^\/]+\//.test(c)&&(c=c.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(c)||(c+="/"));if(f=window.tinymce||window.tinyMCEPreInit)b=f.base||f.baseURL,d=f.suffix;else{for(var g=document.getElementsByTagName("script"),h=0;h<g.length;h++)if(f=g[h].src,/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){-1!=f.indexOf(".min")&&(d=".min");
b=f.substring(0,f.lastIndexOf("/"));break}!b&&document.currentScript&&(f=document.currentScript.src,-1!=f.indexOf(".min")&&(d=".min"),b=f.substring(0,f.lastIndexOf("/")))}this.baseURL=(new e(c)).toAbsolute(b);this.documentBaseURL=c;this.baseURI=new e(this.baseURL);this.suffix=d;this.focusManager=new a(this)},init:function(a){function b(a){var c=a.id;c||(c=(c=a.name)&&!u.get(c)?a.name:u.uniqueId(),a.setAttribute("id",c));return c}function c(a,b,d){var e=f.get(a);e&&!(e.getContainer()||e.getBody()).parentNode&&
(h(e),e.unbindAllNativeEvents(),e.destroy(!0),e=null);e||(a=new l(a,b,f),a.targetElm=a.targetElm||d,g.push(a),a.render())}function d(b){var c=a[b];if(c)return c.apply(f,Array.prototype.slice.call(arguments,2))}function e(){var f,h;u.unbind(window,"ready",e);d("onpageload");if(a.types)t(a.types,function(d){t(u.select(d.selector),function(e){c(b(e),p({},a,d),e)})});else if(a.selector)t(u.select(a.selector),function(d){c(b(d),a,d)});else{a.target&&c(b(a.target),a);switch(a.mode){case "exact":f=a.elements||
"";0<f.length&&t(m(f),function(b){var d;(d=u.get(b))?c(b,a,d):t(document.forms,function(d){t(d.elements,function(d){d.name===b&&(b="mce_editor_"+q++,u.setAttrib(d,"id",b),c(b,a,d))})})});break;case "textareas":case "specific_textareas":t(u.select("textarea"),function(d){a.editor_deselector&&(a.editor_deselector.constructor===RegExp?a.editor_deselector.test(d.className):u.hasClass(d,a.editor_deselector))||(!a.editor_selector||(a.editor_selector.constructor===RegExp?a.editor_selector.test(d.className):
u.hasClass(d,a.editor_selector)))&&c(b(d),a,d)})}a.oninit&&(f=h=0,t(g,function(a){h++;if(a.initialized)f++;else a.on("init",function(){f++;f==h&&d("oninit")});f==h&&d("oninit")}))}}var f=this,g=[];f.settings=a;u.bind(window,"ready",e)},get:function(a){return arguments.length?a in this.editors?this.editors[a]:null:this.editors},add:function(a){var b=this,c=b.editors;c[a.id]=a;c.push(a);b.activeEditor=a;b.fire("AddEditor",{editor:a});y||(y=function(){b.fire("BeforeUnload")},u.bind(window,"beforeunload",
y));return a},createEditor:function(a,b){return this.add(new l(a,b,this))},remove:function(a){var b=this,c=b.editors,d;if(a)if("string"==typeof a)a=a.selector||a,t(u.select(a),function(a){(d=c[a.id])&&b.remove(d)});else{d=a;if(!c[d.id])return null;h(d)&&b.fire("RemoveEditor",{editor:d});c.length||u.unbind(window,"beforeunload",y);d.remove();return d}else for(a=c.length-1;0<=a;a--)b.remove(c[a])},execCommand:function(a,b,c){var d=this.get(c);switch(a){case "mceAddEditor":return this.get(c)||(new l(c,
this.settings,this)).render(),!0;case "mceRemoveEditor":return d&&d.remove(),!0;case "mceToggleEditor":if(!d)return this.execCommand("mceAddEditor",0,c),!0;d.isHidden()?d.show():d.hide();return!0}return this.activeEditor?this.activeEditor.execCommand(a,b,c):!1},triggerSave:function(){t(this.editors,function(a){a.save()})},addI18n:function(a,b){k.add(a,b)},translate:function(a){return k.translate(a)},setActive:function(a){var b=this.activeEditor;this.activeEditor!=a&&(b&&b.fire("deactivate",{relatedTarget:a}),
a.fire("activate",{relatedTarget:b}));this.activeEditor=a}};p(s,c);s.setup();return window.tinymce=window.tinyMCE=s});w("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(l,g){var f=g.each,e=g.explode;l.on("AddEditor",function(b){var d=b.editor;d.on("preInit",function(){function b(a,c){f(c,function(b,c){b&&l.setStyle(a,c,b)});l.rename(a,"span")}function g(b){l=d.dom;m.convert_fonts_to_spans&&f(l.select("font,u,strike",b.node),function(b){a[b.nodeName.toLowerCase()](l,b)})}
var a,h,l,m=d.settings;m.inline_styles&&(h=e(m.font_size_legacy_values),a={font:function(a,d){b(d,{backgroundColor:d.style.backgroundColor,color:d.color,fontFamily:d.face,fontSize:h[parseInt(d.size,10)-1]})},u:function(a,d){b(d,{textDecoration:"underline"})},strike:function(a,d){b(d,{textDecoration:"line-through"})}},d.on("PreProcess SetContent",g))})})});w("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(l,g){var f={send:function(e){function b(){!e.async||4==d.readyState||
1E4<c++?(e.success&&1E4>c&&200==d.status?e.success.call(e.success_scope,""+d.responseText,d,e):e.error&&e.error.call(e.error_scope,1E4<c?"TIMED_OUT":"GENERAL",d,e),d=null):setTimeout(b,10)}var d,c=0;e.scope=e.scope||this;e.success_scope=e.success_scope||e.scope;e.error_scope=e.error_scope||e.scope;e.async=!1===e.async?!1:!0;e.data=e.data||"";if(d=new XMLHttpRequest){d.overrideMimeType&&d.overrideMimeType(e.content_type);d.open(e.type||(e.data?"POST":"GET"),e.url,e.async);e.crossDomain&&(d.withCredentials=
!0);e.content_type&&d.setRequestHeader("Content-Type",e.content_type);d.setRequestHeader("X-Requested-With","XMLHttpRequest");d=f.fire("beforeSend",{xhr:d,settings:e}).xhr;d.send(e.data);if(!e.async)return b();setTimeout(b,10)}}};g.extend(f,l);return f});w("tinymce/util/JSON",[],function(){function l(g,f){var e,b,d,c;f=f||'"';if(null===g)return"null";d=typeof g;if("string"==d)return b="\bb\tt\nn\ff\rr\"\"''\\\\",f+g.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(c,a){if('"'===f&&"'"===c)return c;
e=b.indexOf(a);if(e+1)return"\\"+b.charAt(e+1);c=a.charCodeAt().toString(16);return"\\u"+"0000".substring(c.length)+c})+f;if("object"==d){if(g.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(g)){e=0;for(b="[";e<g.length;e++)b+=(0<e?",":"")+l(g[e],f);return b+"]"}b="{";for(c in g)g.hasOwnProperty(c)&&(b+="function"!=typeof g[c]?(1<b.length?","+f:f)+c+f+":"+l(g[c],f):"");return b+"}"}return""+g}return{serialize:l,parse:function(g){try{return window[String.fromCharCode(101)+"val"]("("+
g+")")}catch(f){}}}});w("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(l,g,f){function e(d){this.settings=b({},d);this.count=0}var b=f.extend;e.sendRPC=function(b){return(new e).send(b)};e.prototype={send:function(d){var c=d.error,e=d.success;d=b(this.settings,d);d.success=function(a,b){a=l.parse(a);"undefined"==typeof a&&(a={error:"JSON Parse error."});a.error?c.call(d.error_scope||d.scope,a.error,b):e.call(d.success_scope||d.scope,a.result)};d.error=
function(a,b){c&&c.call(d.error_scope||d.scope,a,b)};d.data=l.serialize({id:d.id||"c"+this.count++,method:d.method,params:d.params});d.content_type="application/json";g.send(d)}};return e});w("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(l){return{callbacks:{},count:0,send:function(g){var f=this,e=l.DOM,b=g.count!==U?g.count:f.count,d="tinymce_jsonp_"+b;f.callbacks[b]=function(c){e.remove(d);delete f.callbacks[b];g.callback(c)};e.add(e.doc.body,"script",{id:d,src:g.url,type:"text/javascript"});
f.count++}}});w("tinymce/util/LocalStorage",[],function(){function l(){d=[];for(var a in b)d.push(a);f.length=d.length}function g(){var a,d="";if(k){for(var f in b)a=b[f],d+=(d?",":"")+f.length.toString(32)+","+f+","+a.length.toString(32)+","+a;e.setAttribute(c,d);try{e.save(c)}catch(g){}l()}}var f,e,b,d,c,k;try{if(window.localStorage)return localStorage}catch(a){}c="tinymce";e=document.documentElement;(k=!!e.addBehavior)&&e.addBehavior("#default#userData");f={key:function(a){return d[a]},getItem:function(a){return a in
b?b[a]:null},setItem:function(a,c){b[a]=""+c;g()},removeItem:function(a){delete b[a];g()},clear:function(){b={};g()}};(function(){function a(b){var c;c=b!==U?p+b:f.indexOf(",",p);if(-1===c||c>f.length)return null;b=f.substring(p,c);p=c+1;return b}var d,f,g,p=0;b={};if(k){e.load(c);f=e.getAttribute(c)||"";do{g=a();if(null===g)break;d=a(parseInt(g,32)||0);if(null!==d){g=a();if(null===g)break;g=a(parseInt(g,32)||0);d&&(b[d]=g)}}while(null!==d);l()}})();return f});w("tinymce/Compat","tinymce/dom/DOMUtils tinymce/dom/EventUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/util/Tools tinymce/Env".split(" "),
function(l,g,f,e,b,d){var c=window.tinymce;c.DOM=l.DOM;c.ScriptLoader=f.ScriptLoader;c.PluginManager=e.PluginManager;c.ThemeManager=e.ThemeManager;c.dom=c.dom||{};c.dom.Event=g.Event;b.each(b,function(b,a){c[a]=b});b.each(["isOpera","isWebKit","isIE","isGecko","isMac"],function(b){c[b]=d[b.substr(2).toLowerCase()]});return{}});w("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(l,g){return l.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(f){this.settings=
g.extend({},this.Defaults,f)},preRender:function(f){f.addClass(this.settings.containerClass,"body")},applyClasses:function(f){var e=this.settings,b,d;f=f.items().filter(":visible");b=e.firstControlClass;d=e.lastControlClass;f.each(function(c){c.removeClass(b).removeClass(d);e.controlClass&&c.addClass(e.controlClass)});f.eq(0).addClass(b);f.eq(-1).addClass(d)},renderHtml:function(f){var e=this.settings,b="";f=f.items();f.eq(0).addClass(e.firstControlClass);f.eq(-1).addClass(e.lastControlClass);f.each(function(d){e.controlClass&&
d.addClass(e.controlClass);b+=d.renderHtml()});return b},recalc:function(){},postRender:function(){}})});w("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(l){return l.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(g){g.items().filter(":visible").each(function(f){var e=f.settings;f.layoutRect({x:e.x,y:e.y,w:e.w,h:e.h});f.recalc&&f.recalc()})},renderHtml:function(g){return'<div id="'+g._id+'-absend" class="'+g.classPrefix+'abs-end"></div>'+this._super(g)}})});
w("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(l,g){return l.extend({Mixins:[g],Defaults:{classes:"widget tooltip tooltip-n"},text:function(f){return"undefined"!=typeof f?(this._value=f,this._rendered&&(this.getEl().lastChild.innerHTML=this.encode(f)),this):this._value},renderHtml:function(){var f=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes()+'" role="presentation"><div class="'+f+'tooltip-arrow"></div><div class="'+f+'tooltip-inner">'+this.encode(this._text)+
"</div></div>"},repaint:function(){var f,e;f=this.getEl().style;e=this._layoutRect;f.left=e.x+"px";f.top=e.y+"px";f.zIndex=131070+(zenarioAB.isOpen?3E5:0)}})});w("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(l,g){var f,e=l.extend({init:function(b){var d=this;d._super(b);b=d.settings;d.canFocus=!0;b.tooltip&&!1!==e.tooltips&&(d.on("mouseenter",function(c){var e=d.tooltip().moveTo(-65535);c.control==d?(c=e.text(b.tooltip).show().testMoveRel(d.getEl(),["bc-tc","bc-tl","bc-tr"]),
e.toggleClass("tooltip-n","bc-tc"==c),e.toggleClass("tooltip-nw","bc-tl"==c),e.toggleClass("tooltip-ne","bc-tr"==c),e.moveRel(d.getEl(),c)):e.hide()}),d.on("mouseleave mousedown click",function(){d.tooltip().hide()}));d.aria("label",b.ariaLabel||b.tooltip)},tooltip:function(){f||(f=new g({type:"tooltip"}),f.renderTo());return f},active:function(b){void 0!==b&&(this.aria("pressed",b),this.toggleClass("active",b));return this._super(b)},disabled:function(b){void 0!==b&&(this.aria("disabled",b),this.toggleClass("disabled",
b));return this._super(b)},postRender:function(){var b=this.settings;this._rendered=!0;this._super();this.parent()||!b.width&&!b.height||(this.initLayoutRect(),this.repaint());b.autofocus&&this.focus()},remove:function(){this._super();f&&(f.remove(),f=null)}});return e});w("tinymce/ui/Button",["tinymce/ui/Widget"],function(l){return l.extend({Defaults:{classes:"widget btn",role:"button"},init:function(g){var f;this.on("click mousedown",function(e){e.preventDefault()});this._super(g);f=g.size;g.subtype&&
this.addClass(g.subtype);f&&this.addClass("btn-"+f)},icon:function(g){var f=this.classPrefix;if("undefined"==typeof g)return this.settings.icon;g=(this.settings.icon=g)?f+"ico "+f+"i-"+this.settings.icon:"";if(this._rendered){var f=this.getEl().firstChild,e=f.getElementsByTagName("i")[0];g?(e&&e==f.firstChild||(e=document.createElement("i"),f.insertBefore(e,f.firstChild)),e.className=g):e&&f.removeChild(e);this.text(this._text)}return this},repaint:function(){var g=this.getEl().firstChild.style;g.width=
g.height="100%";this._super()},text:function(g){if(this._rendered){var f=this.getEl().lastChild.lastChild;f&&(f.data=this.translate(g))}return this._super(g)},renderHtml:function(){var g=this._id,f=this.classPrefix,e=this.settings.icon,b;(b=this.settings.image)?(e="none","string"!=typeof b&&(b=window.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="";e=this.settings.icon?f+"ico "+f+"i-"+e:"";return'<div id="'+g+'" class="'+this.classes()+'" tabindex="-1" aria-labelledby="'+
g+'"><button role="presentation" type="button" tabindex="-1">'+(e?'<i class="'+e+'"'+b+"></i>":"")+(this._text?(e?"\u00a0":"")+this.encode(this._text):"")+"</button></div>"}})});w("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(l){return l.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var g=this._layout;this.addClass("btn-group");this.preRender();g.preRender(this);return'<div id="'+this._id+'" class="'+this.classes()+'"><div id="'+this._id+'-body">'+(this.settings.html||
"")+g.renderHtml(this)+"</div></div>"}})});w("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(l){return l.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(g){var f=this;f._super(g);f.on("click mousedown",function(e){e.preventDefault()});f.on("click",function(e){e.preventDefault();f.disabled()||f.checked(!f.checked())});f.checked(f.settings.checked)},checked:function(g){return"undefined"!=typeof g?(g?this.addClass("checked"):this.removeClass("checked"),this._checked=
g,this.aria("checked",g),this):this._checked},value:function(g){return this.checked(g)},renderHtml:function(){var g=this._id,f=this.classPrefix;return'<div id="'+g+'" class="'+this.classes()+'" unselectable="on" aria-labelledby="'+g+'-al" tabindex="-1"><i class="'+f+"ico "+f+'i-checkbox"></i><span id="'+g+'-al" class="'+f+'label">'+this.encode(this._text)+"</span></div>"}})});w("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils"],function(l,g,f){return l.extend({init:function(e){var b=
this;b._super(e);b.addClass("combobox");b.subinput=!0;b.ariaTarget="inp";e=b.settings;e.menu=e.menu||e.values;e.menu&&(e.icon="caret");b.on("click",function(d){for(var c=d.target,f=b.getEl();c&&c!=f;)c.id&&-1!=c.id.indexOf("-open")&&(b.fire("action"),e.menu&&(b.showMenu(),d.aria&&b.menu.items()[0].focus())),c=c.parentNode});b.on("keydown",function(d){"INPUT"==d.target.nodeName&&13==d.keyCode&&b.parents().reverse().each(function(c){d.preventDefault();b.fire("change");if(c.hasEventListeners("submit")&&
c.toJSON)return c.fire("submit",{data:c.toJSON()}),!1})});e.placeholder&&(b.addClass("placeholder"),b.on("focusin",function(){b._hasOnChange||(f.on(b.getEl("inp"),"change",function(){b.fire("change")}),b._hasOnChange=!0);b.hasClass("placeholder")&&(b.getEl("inp").value="",b.removeClass("placeholder"))}),b.on("focusout",function(){0===b.value().length&&(b.getEl("inp").value=e.placeholder,b.addClass("placeholder"))}))},showMenu:function(){var e=this,b=e.settings;e.menu||(b=b.menu||[],b.length?b={type:"menu",
items:b}:b.type=b.type||"menu",e.menu=g.create(b).parent(e).renderTo(e.getContainerElm()),e.fire("createmenu"),e.menu.reflow(),e.menu.on("cancel",function(b){b.control===e.menu&&e.focus()}),e.menu.on("show hide",function(b){b.control.items().each(function(b){b.active(b.value()==e.value())})}).fire("show"),e.menu.on("select",function(b){e.value(b.control.value())}),e.on("focusin",function(b){"INPUT"==b.target.tagName.toUpperCase()&&e.menu.hide()}),e.aria("expanded",!0));e.menu.show();e.menu.layoutRect({w:e.layoutRect().w});
e.menu.moveRel(e.getEl(),e.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},value:function(e){return"undefined"!=typeof e?(this._value=e,this.removeClass("placeholder"),this._rendered&&(this.getEl("inp").value=e),this):this._rendered?(e=this.getEl("inp").value,e!=this.settings.placeholder?e:""):this._value},disabled:function(e){this._rendered&&"undefined"!=typeof e&&(this.getEl("inp").disabled=e);return this._super(e)},focus:function(){this.getEl("inp").focus()},repaint:function(){var e=this.getEl(),
b=this.getEl("open"),d=this.layoutRect(),c,b=b?d.w-f.getSize(b).width-10:d.w-10,d=document;d.all&&(!d.documentMode||8>=d.documentMode)&&(c=this.layoutRect().h-2+"px");f.css(e.firstChild,{width:b,lineHeight:c});this._super();return this},postRender:function(){var e=this;f.on(this.getEl("inp"),"change",function(){e.fire("change")});return e._super()},remove:function(){f.off(this.getEl("inp"));this._super()},renderHtml:function(){var e=this._id,b=this.settings,d=this.classPrefix,c=b.value||b.placeholder||
"",f,a="",g="";"spellcheck"in b&&(g+=' spellcheck="'+b.spellcheck+'"');b.maxLength&&(g+=' maxlength="'+b.maxLength+'"');b.size&&(g+=' size="'+b.size+'"');b.subtype&&(g+=' type="'+b.subtype+'"');this.disabled()&&(g+=' disabled="disabled"');(f=b.icon)&&"caret"!=f&&(f=d+"ico "+d+"i-"+b.icon);b=this._text;if(f||b)a='<div id="'+e+'-open" class="'+d+"btn "+d+'open" tabIndex="-1" role="button"><button id="'+e+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=f?'<i class="'+f+'"></i>':'<i class="'+
d+'caret"></i>')+(b?(f?" ":"")+b:"")+"</button></div>",this.addClass("has-open");return'<div id="'+e+'" class="'+this.classes()+'"><input id="'+e+'-inp" class="'+d+"textbox "+d+'placeholder" value="'+c+'" hidefocus="1"'+g+" />"+a+"</div>"}})});w("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(l){return l.extend({init:function(g){var f=this;g.spellcheck=!1;g.onaction&&(g.icon="none");f._super(g);f.addClass("colorbox");f.on("change keyup postrender",function(){f.repaintColor(f.value())})},repaintColor:function(g){var f=
this.getEl().getElementsByTagName("i")[0];if(f)try{f.style.background=g}catch(e){}},value:function(g){"undefined"!=typeof g&&this._rendered&&this.repaintColor(g);return this._super(g)}})});w("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(l,g){return l.extend({showPanel:function(){var f=this,e=f.settings;f.active(!0);if(f.panel)f.panel.show();else{var b=e.panel;b.type&&(b={layout:"grid",items:b});b.role=b.role||"dialog";b.popover=!0;b.autohide=!0;b.ariaRoot=!0;f.panel=
(new g(b)).on("hide",function(){f.active(!1)}).on("cancel",function(b){b.stopPropagation();f.focus();f.hidePanel()}).parent(f).renderTo(f.getContainerElm());f.panel.fire("show");f.panel.reflow()}f.panel.moveRel(f.getEl(),e.popoverAlign||(f.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var f=this;f.aria("haspopup",!0);f.on("click",function(e){e.control===f&&(f.panel&&f.panel.visible()?f.hidePanel():(f.showPanel(),f.panel.focus(!!e.aria)))});
return f._super()},remove:function(){this.panel&&(this.panel.remove(),this.panel=null);return this._super()}})});w("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(l,g){var f=g.DOM;return l.extend({init:function(e){this._super(e);this.addClass("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},renderHtml:function(){var e=this._id,b=this.classPrefix,d=this.settings.icon?b+"ico "+b+"i-"+this.settings.icon:
"",c=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"";return'<div id="'+e+'" class="'+this.classes()+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+c+"></i>":"")+'<span id="'+e+'-preview" class="'+b+'preview"></span>'+(this._text?(d?" ":"")+this._text:"")+'</button><button type="button" class="'+b+'open" hidefocus="1" tabindex="-1"> <i class="'+b+'caret"></i></button></div>'},
postRender:function(){var e=this,b=e.settings.onclick;e.on("click",function(d){d.aria&&"down"==d.aria.key||d.control!=e||f.getParent(d.target,"."+e.classPrefix+"open")||(d.stopImmediatePropagation(),b.call(e,d))});delete e.settings.onclick;return e._super()}})});w("tinymce/util/Color",[],function(){var l=Math.min,g=Math.max,f=Math.round;return function(e){function b(b){var e;if("object"==typeof b)if("r"in b)c=b.r,k=b.g,a=b.b;else{if("v"in b){e=b.h;var m=b.s;b=b.v;var t;e=(parseInt(e,10)||0)%360;m=
parseInt(m,10)/100;b=parseInt(b,10)/100;m=g(0,l(m,1));b=g(0,l(b,1));if(0===m)c=k=a=f(255*b);else{e/=60;m*=b;t=m*(1-Math.abs(e%2-1));b-=m;switch(Math.floor(e)){case 0:c=m;k=t;a=0;break;case 1:c=t;k=m;a=0;break;case 2:c=0;k=m;a=t;break;case 3:c=0;k=t;a=m;break;case 4:c=t;k=0;a=m;break;case 5:c=m;k=0;a=t;break;default:c=k=a=0}c=f(255*(c+b));k=f(255*(k+b));a=f(255*(a+b))}}}else if(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(b))c=parseInt(e[1],10),k=parseInt(e[2],10),a=parseInt(e[3],
10);else if(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(b))c=parseInt(e[1],16),k=parseInt(e[2],16),a=parseInt(e[3],16);else if(e=/#([0-F])([0-F])([0-F])/gi.exec(b))c=parseInt(e[1]+e[1],16),k=parseInt(e[2]+e[2],16),a=parseInt(e[3]+e[3],16);c=0>c?0:255<c?255:c;k=0>k?0:255<k?255:k;a=0>a?0:255<a?255:a;return d}var d=this,c=0,k=0,a=0;e&&b(e);d.toRgb=function(){return{r:c,g:k,b:a}};d.toHsv=function(){var b;var d=c,e=k,t=a,p,d=d/255,e=e/255,t=t/255;p=l(d,l(e,t));b=g(d,g(e,t));p==b?b={h:0,s:0,v:100*p}:(d=
60*((d==p?3:t==p?1:5)-(d==p?e-t:t==p?d-e:t-d)/(b-p)),p=(b-p)/b,b={h:f(d),s:f(100*p),v:f(100*b)});return b};d.toHex=function(){function b(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+b(c)+b(k)+b(a)};d.parse=b}});w("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(l,g,f,e){return l.extend({Defaults:{classes:"widget colorpicker"},init:function(b){this._super(b)},postRender:function(){function b(a,b){var c=
f.getPos(a),d;d=b.pageX-c.x;c=b.pageY-c.y;d=Math.max(0,Math.min(d/a.clientWidth,1));c=Math.max(0,Math.min(c/a.clientHeight,1));return{x:d,y:c}}function d(b,c){f.css(t,{top:100*((360-b.h)/360)+"%"});c||f.css(q,{left:b.s+"%",top:100-b.v+"%"});p.style.background=(new e({s:100,v:100,h:b.h})).toHex();a.color().parse({s:b.s,v:b.v,h:b.h})}function c(c){c=b(p,c);l.s=100*c.x;l.v=100*(1-c.y);d(l);a.fire("change")}function k(c){c=b(m,c);l=h.toHsv();l.h=360*(1-c.y);d(l,!0);a.fire("change")}var a=this,h=a.color(),
l,m,t,p,q;m=a.getEl("h");t=a.getEl("hp");p=a.getEl("sv");q=a.getEl("svp");a._repaint=function(){l=h.toHsv();d(l)};a._super();a._svdraghelper=new g(a._id+"-sv",{start:c,drag:c});a._hdraghelper=new g(a._id+"-h",{start:k,drag:k});a._repaint()},rgb:function(){return this.color().toRgb()},value:function(b){if(arguments.length)this.color().parse(b),this._rendered&&this._repaint();else return this.color().toHex()},color:function(){this._color||(this._color=new e);return this._color},renderHtml:function(){var b=
this._id,d=this.classPrefix,c,e,a="",f;f="#ff0000 #ff0080 #ff00ff #8000ff #0000ff #0080ff #00ffff #00ff80 #00ff00 #80ff00 #ffff00 #ff8000 #ff0000".split(" ");c=0;for(e=f.length-1;c<e;c++)a+='<div class="'+d+'colorpicker-h-chunk" style="height:'+100/e+"%;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+f[c]+",endColorstr="+f[c+1]+");-ms-filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+f[c]+",endColorstr="+f[c+1]+')"></div>';c='<div id="'+
b+'-h" class="'+d+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+a+'<div id="'+b+'-hp" class="'+d+'colorpicker-h-marker"></div></div>';return'<div id="'+b+'" class="'+this.classes()+'"><div id="'+b+'-sv" class="'+d+'colorpicker-sv"><div class="'+
d+'colorpicker-overlay1"><div class="'+d+'colorpicker-overlay2"><div id="'+b+'-svp" class="'+d+'colorpicker-selector1"><div class="'+d+'colorpicker-selector2"></div></div></div></div></div>'+c+"</div>"}})});w("tinymce/ui/Path",["tinymce/ui/Widget"],function(l){return l.extend({init:function(g){var f=this;g.delimiter||(g.delimiter="\u00bb");f._super(g);f.addClass("path");f.canFocus=!0;f.on("click",function(e){var b;(b=e.target.getAttribute("data-index"))&&f.fire("select",{value:f.data()[b],index:b})})},
focus:function(){this.getEl().firstChild.focus();return this},data:function(g){return"undefined"!==typeof g?(this._data=g,this.update(),this):this._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){this._super();this.data(this.settings.data)},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes()+'">'+this._getPathHtml()+"</div>"},_getPathHtml:function(){var g=this._data||[],f,e,b="",d=this.classPrefix;f=0;for(e=g.length;f<e;f++)b+=(0<f?'<div class="'+
d+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+d+"path-item"+(f==e-1?" "+d+"last":"")+'" data-index="'+f+'" tabindex="-1" id="'+this._id+"-"+f+'" aria-level="'+f+'">'+g[f].name+"</div>";b||(b='<div class="'+d+'path-item">\u00a0</div>');return b}})});w("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(l,g){return l.extend({postRender:function(){var f=this,e=g.activeEditor;f.on("select",function(b){e.focus();e.selection.select(this.data()[b.index].element);
e.nodeChanged()});e.on("nodeChange",function(b){var d=[];b=b.parents;for(var c=b.length;c--;){var g;if(g=1==b[c].nodeType){a:{g=b[c];if(1===g.nodeType){if("BR"==g.nodeName||g.getAttribute("data-mce-bogus")){g=!0;break a}if("bookmark"===g.getAttribute("data-mce-type")){g=!0;break a}}g=!1}g=!g}if(g&&(g=e.fire("ResolveName",{name:b[c].nodeName.toLowerCase(),target:b[c]}),g.isDefaultPrevented()||d.push({name:g.name,element:b[c]}),g.isPropagationStopped()))break}f.data(d)});return f._super()}})});w("tinymce/ui/FormItem",
["tinymce/ui/Container"],function(l){return l.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var g=this._layout,f=this.classPrefix;this.addClass("formitem");g.preRender(this);return'<div id="'+this._id+'" class="'+this.classes()+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+f+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+g.renderHtml(this)+
"</div></div>"}})});w("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(l,g,f){return l.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,b=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}});b.each(function(b){var c;if(c=b.settings.label)c=
new g(f.extend({items:{type:"label",id:b._id+"-l",text:c,flex:0,forId:b._id,disabled:b.disabled()}},e.settings.formItemDefaults)),c.type="formitem",b.aria("labelledby",b._id+"-l"),"undefined"==typeof b.settings.flex&&(b.settings.flex=1),e.replace(b,c),c.add(b)})},recalcLabels:function(){var e=0,b=[],d,c;if(!1!==this.settings.labelGapCalc)for(d="children"==this.settings.labelGapCalc?this.find("formitem"):this.items(),d.filter("formitem").each(function(c){c=c.items()[0];var a=c.getEl().clientWidth;
e=a>e?a:e;b.push(c)}),c=this.settings.labelGap||0,d=b.length;d--;)b[d].settings.minWidth=e+c},visible:function(e){var b=this._super(e);!0===e&&this._rendered&&this.recalcLabels();return b},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();this.recalcLabels();this.fromJSON(this.settings.data)}})});w("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(l){return l.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",
flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var g=this._layout,f=this.classPrefix;this.preRender();g.preRender(this);return'<fieldset id="'+this._id+'" class="'+this.classes()+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+f+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+g.renderHtml(this)+"</div></fieldset>"}})});
w("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools"],function(l,g){return l.extend({init:function(f){var e=this,b=tinymce.activeEditor,d=b.settings,c,k,a;f.spellcheck=!1;(a=d.file_picker_types||d.file_browser_callback_types)&&(a=g.makeMap(a,/[, ]/));if(!a||a[f.filetype])k=d.file_picker_callback,!k||a&&!a[f.filetype]?(k=d.file_browser_callback,!k||a&&!a[f.filetype]||(c=function(){k(e.getEl("inp").id,e.value(),f.filetype,window)})):c=function(){var a=e.fire("beforecall").meta,a=g.extend({filetype:f.filetype},
a);k.call(b,function(a,b){e.value(a).fire("change",{meta:b})},e.value(),a)};c&&(f.icon="browse",f.onaction=c);e._super(f)}})});w("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(l){return l.extend({recalc:function(g){var f=g.layoutRect(),e=g.paddingBox();g.items().filter(":visible").each(function(b){b.layoutRect({x:e.left,y:e.top,w:f.innerW-e.right-e.left,h:f.innerH-e.top-e.bottom});b.recalc&&b.recalc()})}})});w("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(l){return l.extend({recalc:function(g){var f,
e,b,d,c,k,a,h,l,m,t,p,q,y=[],s,r,v,n,w,G,x,z,K,D,I,L,H,F,N,M,P,A,C=Math.max,R=Math.min;b=g.items().filter(":visible");d=g.layoutRect();c=g._paddingBox;k=g.settings;f=g.isRtl()?k.direction||"row-reversed":k.direction;a=k.align;h=g.isRtl()?k.pack||"end":k.pack;k=k.spacing||0;if("row-reversed"==f||"column-reverse"==f)b=b.set(b.toArray().reverse()),f=f.split("-")[0];"column"==f?(w="y",v="h",n="minH",G="maxH",z="innerH",x="top",K="deltaH",D="contentH",N="left",H="w",I="x",L="innerW",F="minW",M="right",
P="deltaW",A="contentW"):(w="x",v="w",n="minW",G="maxW",z="innerW",x="left",K="deltaW",D="contentW",N="top",H="h",I="y",L="innerH",F="minH",M="bottom",P="deltaH",A="contentH");m=d[z]-c[x]-c[x];f=r=l=0;for(e=b.length;f<e;f++)t=b[f],p=t.layoutRect(),q=t.settings,q=q.flex,m-=f<e-1?k:0,0<q&&(l+=q,p[G]&&y.push(t),p.flex=q),m-=p[n],q=c[N]+p[F]+c[M],q>r&&(r=q);s={};s[n]=0>m?d[n]-m+d[K]:d[z]-m+d[K];s[F]=r+d[P];s[D]=d[z]-m;s[A]=r;s.minW=R(s.minW,d.maxW);s.minH=R(s.minH,d.maxH);s.minW=C(s.minW,d.startMinWidth);
s.minH=C(s.minH,d.startMinHeight);if(!d.autoResize||s.minW==d.minW&&s.minH==d.minH){g=m/l;f=0;for(e=y.length;f<e;f++)t=y[f],p=t.layoutRect(),t=p[G],q=p[n]+p.flex*g,q>t?(m-=p[G]-p[n],l-=p.flex,p.flex=0,p.maxFlexSize=t):p.maxFlexSize=0;g=m/l;y=c[x];s={};0===l&&("end"==h?y=m+c[x]:"center"==h?(y=Math.round(d[z]/2-(d[z]-m)/2)+c[x],0>y&&(y=c[x])):"justify"==h&&(y=c[x],k=Math.floor(m/(b.length-1))));s[I]=c[N];f=0;for(e=b.length;f<e;f++)t=b[f],p=t.layoutRect(),q=p.maxFlexSize||p[n],"center"===a?s[I]=Math.round(d[L]/
2-p[H]/2):"stretch"===a?(s[H]=C(p[F]||0,d[L]-c[N]-c[M]),s[I]=c[N]):"end"===a&&(s[I]=d[L]-p[H]-c.top),0<p.flex&&(q+=p.flex*g),s[v]=q,s[w]=y,t.layoutRect(s),t.recalc&&t.recalc(),y+=q+k}else if(s.w=s.minW,s.h=s.minH,g.layoutRect(s),this.recalc(g),null===g._lastRect&&(b=g.parent()))b._lastRect=null,b.recalc()}})});w("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(l){return l.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(g){g.items().filter(":visible").each(function(f){f.recalc&&
f.recalc()})}})});w("tinymce/ui/FormatControls","tinymce/ui/Control tinymce/ui/Widget tinymce/ui/FloatPanel tinymce/util/Tools tinymce/EditorManager tinymce/Env".split(" "),function(l,g,f,e,b,d){function c(a){function b(c,d){return function(){var b=this;a.on("nodeChange",function(e){var f=a.formatter,g=null;k(e.parents,function(a){k(c,function(b){d?f.matchNode(a,d,{value:b.value})&&(g=b.value):f.matchNode(a,b.value)&&(g=b.value);if(g)return!1});if(g)return!1});b.value(g)})}}function c(a){a=a.replace(/;$/,
"").split(";");for(var b=a.length;b--;)a[b]=a[b].split("=");return a}function d(b){return function(){var c=this;b="redo"==b?"hasRedo":"hasUndo";c.disabled(!(a.undoManager&&a.undoManager[b]()));a.on("Undo Redo AddUndo TypingUndo ClearUndos",function(){c.disabled(!(a.undoManager&&a.undoManager[b]()))})}}function e(b){b.control&&(b=b.control.value());b&&a.execCommand("mceToggleFormat",!1,b)}var g;g=function(){function b(a){var e=[];if(a)return k(a,function(a){var f={text:a.title,icon:a.icon};if(a.items)f.menu=
b(a.items);else{var g=a.format||"custom"+c++;a.format||(a.name=g,d.push(a));f.format=g;f.cmd=a.cmd}e.push(f)}),e}var c=0,d=[],f=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},
{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},
{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];a.on("init",function(){k(d,function(b){a.formatter.register(b.name,b)})});return{type:"menu",items:a.settings.style_formats_merge?a.settings.style_formats?b(f.concat(a.settings.style_formats)):b(f):b(a.settings.style_formats||f),onPostRender:function(b){a.fire("renderFormatsMenu",{control:b.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return a.formatter.getCssText(this.settings.format)},
onPostRender:function(){var b=this;b.parent().on("show",function(){var c;if(c=b.settings.format)b.disabled(!a.formatter.canApply(c)),b.active(a.formatter.match(c));(c=b.settings.cmd)&&b.active(a.queryCommandState(c))})},onclick:function(){this.settings.format&&e(this.settings.format);this.settings.cmd&&a.execCommand(this.settings.cmd)}}}}();k({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(b,c){a.addButton(c,
{tooltip:b,onPostRender:function(){var b=this;if(a.formatter)a.formatter.formatChanged(c,function(a){b.active(a)});else a.on("init",function(){a.formatter.formatChanged(c,function(a){b.active(a)})})},onclick:function(){e(c)}})});k({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids",
"mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1]})});k({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},
function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1],onPostRender:function(){var b=this;if(a.formatter)a.formatter.formatChanged(c,function(a){b.active(a)});else a.on("init",function(){a.formatter.formatChanged(c,function(a){b.active(a)})})}})});a.addButton("undo",{tooltip:"Undo",onPostRender:d("undo"),cmd:"undo"});a.addButton("redo",{tooltip:"Redo",onPostRender:d("redo"),cmd:"redo"});a.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"});a.addMenuItem("undo",
{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:d("undo"),cmd:"undo"});a.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:d("redo"),cmd:"redo"});a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var b=this;a.on("VisualAid",function(a){b.active(a.hasVisual)});b.active(a.hasVisual)},cmd:"mceToggleVisualAid"});k({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll",
"Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(b,c){a.addMenuItem(c,{text:b[0],icon:c,shortcut:b[2],cmd:b[1]})});a.on("mousedown",function(){f.hideAll()});a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:g});a.addButton("formatselect",
function(){var d=[],f=c(a.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6");k(f,function(b){d.push({text:b[0],value:b[1],textStyle:function(){return a.formatter.getCssText(b[1])}})});return{type:"listbox",text:f[0][0],values:d,fixedWidth:!0,onselect:e,onPostRender:b(d)}});a.addButton("fontselect",function(){var d=[],e=c(a.settings.font_formats||"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
k(e,function(a){d.push({text:{raw:a[0]},value:a[1],textStyle:-1==a[1].indexOf("dings")?"font-family:"+a[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:d,fixedWidth:!0,onPostRender:b(d,"fontname"),onselect:function(b){b.control.settings.value&&a.execCommand("FontName",!1,b.control.settings.value)}}});a.addButton("fontsizeselect",function(){var c=[];k((a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(a){var b=a,d=a;a=a.split("=");
1<a.length&&(b=a[0],d=a[1]);c.push({text:b,value:d})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:c,fixedWidth:!0,onPostRender:b(c,"fontsize"),onclick:function(b){b.control.settings.value&&a.execCommand("FontSize",!1,b.control.settings.value)}}});a.addMenuItem("formats",{text:"Formats",menu:g})}var k=e.each;b.on("AddEditor",function(a){a.editor.rtl&&(l.rtl=!0);c(a.editor)});l.translate=function(a){return b.translate(a)};g.tooltips=!d.iOS});w("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],
function(l){return l.extend({recalc:function(g){var f=g.settings,e,b,d,c,k,a,h,l,m,t,p,q,w,s,r,v,n,B=[],G=[],x,f=g.settings;d=g.items().filter(":visible");c=g.layoutRect();b=f.columns||Math.ceil(Math.sqrt(d.length));e=Math.ceil(d.length/b);s=f.spacingH||f.spacing||0;r=f.spacingV||f.spacing||0;v=f.alignH||f.align;n=f.alignV||f.align;q=g._paddingBox;x="reverseRows"in f?f.reverseRows:g.isRtl();v&&"string"==typeof v&&(v=[v]);n&&"string"==typeof n&&(n=[n]);for(m=0;m<b;m++)B.push(0);for(a=0;a<e;a++)G.push(0);
for(a=0;a<e;a++)for(m=0;m<b;m++){l=d[a*b+m];if(!l)break;h=l.layoutRect();l=h.minW;h=h.minH;B[m]=l>B[m]?l:B[m];G[a]=h>G[a]?h:G[a]}h=c.innerW-q.left-q.right;for(m=l=0;m<b;m++)l+=B[m]+(0<m?s:0),h-=(0<m?s:0)+B[m];t=c.innerH-q.top-q.bottom;for(a=m=0;a<e;a++)m+=G[a]+(0<a?r:0),t-=(0<a?r:0)+G[a];l+=q.left+q.right;m+=q.top+q.bottom;a={};a.minW=l+(c.w-c.innerW);a.minH=m+(c.h-c.innerH);a.contentW=a.minW-c.deltaW;a.contentH=a.minH-c.deltaH;a.minW=Math.min(a.minW,c.maxW);a.minH=Math.min(a.minH,c.maxH);a.minW=
Math.max(a.minW,c.startMinWidth);a.minH=Math.max(a.minH,c.startMinHeight);if(!c.autoResize||a.minW==c.minW&&a.minH==c.minH){c.autoResize&&(a=g.layoutRect(a),a.contentW=a.minW-c.deltaW,a.contentH=a.minH-c.deltaH);g="start"==f.packV?0:0<t?Math.floor(t/e):0;a=0;if(f=f.flexWidths)for(m=0;m<f.length;m++)a+=f[m];else a=b;a=h/a;for(m=0;m<b;m++)B[m]+=f?f[m]*a:a;t=q.top;for(a=0;a<e;a++){c=q.left;f=G[a]+g;for(m=0;m<b;m++){h=x?a*b+b-1-m:a*b+m;l=d[h];if(!l)break;p=l.settings;h=l.layoutRect();k=Math.max(B[m],
h.startMinWidth);h.x=c;h.y=t;w=p.alignH||(v?v[m]||v[0]:null);"center"==w?h.x=c+k/2-h.w/2:"right"==w?h.x=c+k-h.w:"stretch"==w&&(h.w=k);w=p.alignV||(n?n[m]||n[0]:null);"center"==w?h.y=t+f/2-h.h/2:"bottom"==w?h.y=t+f-h.h:"stretch"==w&&(h.h=f);l.layoutRect(h);c+=k+s;l.recalc&&l.recalc()}t+=f+r}}else if(a.w=a.minW,a.h=a.minH,g.layoutRect(a),this.recalc(g),null===g._lastRect&&(e=g.parent()))e._lastRect=null,e.recalc()}})});w("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(l){return l.extend({renderHtml:function(){this.addClass("iframe");
this.canFocus=!1;return'<iframe id="'+this._id+'" class="'+this.classes()+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(g){this.getEl().src=g},html:function(g,f){var e=this,b=this.getEl().contentWindow.document.body;b?(b.innerHTML=g,f&&f()):setTimeout(function(){e.html(g)},0);return this}})});w("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(l,g){return l.extend({init:function(f){this._super(f);this.addClass("widget");
this.addClass("label");this.canFocus=!1;f.multiline&&this.addClass("autoscroll");f.strong&&this.addClass("strong")},initLayoutRect:function(){var f=this._super();this.settings.multiline&&(g.getSize(this.getEl()).width>f.maxW&&(f.minW=f.maxW,this.addClass("multiline")),this.getEl().style.width=f.minW+"px",f.startMinH=f.h=f.minH=Math.min(f.maxH,g.getSize(this.getEl()).height));return f},repaint:function(){this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px");return this._super()},
text:function(f){this._rendered&&f&&this.innerHtml(this.encode(f));return this._super(f)},renderHtml:function(){var f=this.settings.forId;return'<label id="'+this._id+'" class="'+this.classes()+'"'+(f?' for="'+f+'"':"")+">"+this.encode(this._text)+"</label>"}})});w("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(l){return l.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(g){this._super(g);this.addClass("toolbar")},postRender:function(){this.items().addClass("toolbar-item");return this._super()}})});
w("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(l){return l.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})});w("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(l,g,f){var e=l.extend({init:function(b){this._renderOpen=!0;this._super(b);this.addClass("menubtn");b.fixedWidth&&this.addClass("fixed-width");this.aria("haspopup",!0);this.hasPopup=!0},showMenu:function(){var b=this,d=b.settings;if(b.menu&&
b.menu.visible())return b.hideMenu();b.menu||(d=d.menu||[],d.length?d={type:"menu",items:d}:d.type=d.type||"menu",b.menu=g.create(d).parent(b).renderTo(),b.fire("createmenu"),b.menu.reflow(),b.menu.on("cancel",function(c){c.control.parent()===b.menu&&(c.stopPropagation(),b.focus(),b.hideMenu())}),b.menu.on("select",function(){b.focus()}),b.menu.on("show hide",function(c){c.control==b.menu&&b.activeMenu("show"==c.type);b.aria("expanded","show"==c.type)}).fire("show"));b.menu.show();b.menu.layoutRect({w:b.layoutRect().w});
b.menu.moveRel(b.getEl(),b.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){this.menu&&(this.menu.items().each(function(b){b.hideMenu&&b.hideMenu()}),this.menu.hide())},activeMenu:function(b){this.toggleClass("active",b)},renderHtml:function(){var b=this._id,d=this.classPrefix,c=this.settings.icon,e;(e=this.settings.image)?(c="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="";c=this.settings.icon?d+"ico "+d+"i-"+c:"";this.aria("role",
this.parent()instanceof f?"menuitem":"button");return'<div id="'+b+'" class="'+this.classes()+'" tabindex="-1" aria-labelledby="'+b+'"><button id="'+b+'-open" role="presentation" type="button" tabindex="-1">'+(c?'<i class="'+c+'"'+e+"></i>":"")+"<span>"+(this._text?(c?"\u00a0":"")+this.encode(this._text):"")+'</span> <i class="'+d+'caret"></i></button></div>'},postRender:function(){var b=this;b.on("click",function(d){var c;if(c=d.control===b)a:{c=d.target;for(var e=b.getEl();c;){if(e===c){c=!0;break a}c=
c.parentNode}c=!1}c&&(b.showMenu(),d.aria&&b.menu.items()[0].focus())});b.on("mouseenter",function(d){var c=d.control;d=b.parent();var f;c&&d&&c instanceof e&&c.parent()==d&&(d.items().filter("MenuButton").each(function(a){a.hideMenu&&a!=c&&(a.menu&&a.menu.visible()&&(f=!0),a.hideMenu())}),f&&(c.focus(),c.showMenu()))});return b._super()},text:function(b){var d,c;if(this._rendered)for(c=this.getEl("open").getElementsByTagName("span"),d=0;d<c.length;d++)c[d].innerHTML=(this.settings.icon&&b?"\u00a0":
"")+this.encode(b);return this._super(b)},remove:function(){this._super();this.menu&&this.menu.remove()}});return e});w("tinymce/ui/ListBox",["tinymce/ui/MenuButton"],function(l){return l.extend({init:function(g){function f(a){for(var b=0;b<a.length;b++){if(d=a[b].selected||g.value===a[b].value){c=c||a[b].text;e._value=a[b].value;break}a[b].menu&&f(a[b].menu)}}var e=this,b,d,c,k;if(e._values=b=g.values)"undefined"!=typeof g.value&&f(b),!d&&0<b.length&&(c=b[0].text,e._value=b[0].value),g.menu=b;g.text=
g.text||c||b[0].text;e._super(g);e.addClass("listbox");e.on("select",function(a){var b=a.control;k&&(a.lastControl=k);g.multiple?b.active(!b.active()):e.value(a.control.settings.value);k=b})},value:function(g){function f(c,a){c.items().each(function(c){(b=c.value()===a)&&(d=d||c.text());c.active(b);c.menu&&f(c.menu,a)})}function e(c){for(var a=0;a<c.length;a++)(b=c[a].value==g)&&(d=d||c[a].text),c[a].active=b,c[a].menu&&e(c[a].menu)}var b,d,c;"undefined"!=typeof g&&(this.menu?f(this.menu,g):(c=this.settings.menu,
e(c)),this.text(d||this.settings.text));return this._super(g)}})});w("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env"],function(l,g,f){return l.extend({Defaults:{border:0,role:"menuitem"},init:function(e){this.hasPopup=!0;this._super(e);e=this.settings;this.addClass("menu-item");e.menu&&this.addClass("menu-item-expand");e.preview&&this.addClass("menu-item-preview");if("-"===this._text||"|"===this._text)this.addClass("menu-item-sep"),this.aria("role","separator"),this._text=
"-";e.selectable&&(this.aria("role","menuitemcheckbox"),this.addClass("menu-item-checkbox"),e.icon="selected");e.preview||e.selectable||this.addClass("menu-item-normal");this.on("mousedown",function(b){b.preventDefault()});e.menu&&!e.ariaHideMenu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e=this,b=e.settings,d,c=e.parent();c.items().each(function(b){b!==e&&b.hideMenu()});b.menu&&((d=e.menu)?d.show():(d=b.menu,d.length?d={type:"menu",items:d}:
d.type=d.type||"menu",c.settings.itemDefaults&&(d.itemDefaults=c.settings.itemDefaults),d=e.menu=g.create(d).parent(e).renderTo(),d.reflow(),d.on("cancel",function(b){b.stopPropagation();e.focus();d.hide()}),d.on("show hide",function(b){b.control.items().each(function(a){a.active(a.settings.selected)})}).fire("show"),d.on("hide",function(b){b.control===d&&e.removeClass("selected")}),d.submenu=!0),d._parentMenu=c,d.addClass("menu-sub"),b=d.testMoveRel(e.getEl(),e.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:
["tr-tl","br-bl","tl-tr","bl-br"]),d.moveRel(e.getEl(),b),d.rel=b,b="menu-sub-"+b,d.removeClass(d._lastRel),d.addClass(b),d._lastRel=b,e.addClass("selected"),e.aria("expanded",!0))},hideMenu:function(){this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide(),this.aria("expanded",!1));return this},renderHtml:function(){var e=this._id,b=this.settings,d=this.classPrefix,c=this.encode(this._text),g=this.settings.icon,a="",h=b.shortcut;g&&this.parent().addClass("menu-has-icons");
b.image&&(a=" style=\"background-image: url('"+b.image+"')\"");h&&f.mac&&(h=h.replace(/ctrl\+alt\+/i,"&#x2325;&#x2318;"),h=h.replace(/ctrl\+/i,"&#x2318;"),h=h.replace(/alt\+/i,"&#x2325;"),h=h.replace(/shift\+/i,"&#x21E7;"));g=d+"ico "+d+"i-"+(this.settings.icon||"none");return'<div id="'+e+'" class="'+this.classes()+'" tabindex="-1">'+("-"!==c?'<i class="'+g+'"'+a+"></i>\u00a0":"")+("-"!==c?'<span id="'+e+'-text" class="'+d+'text">'+c+"</span>":"")+(h?'<div id="'+e+'-shortcut" class="'+d+'menu-shortcut">'+
h+"</div>":"")+(b.menu?'<div class="'+d+'caret"></div>':"")+"</div>"},postRender:function(){var e=this,b=e.settings,d=b.textStyle;"function"==typeof d&&(d=d.call(this));if(d){var c=e.getEl("text");c&&c.setAttribute("style",d)}e.on("mouseenter click",function(c){c.control===e&&(b.menu||"click"!==c.type?(e.showMenu(),c.aria&&e.menu.focus(!0)):(e.fire("select"),e.parent().hideAll()))});e._super();return e},active:function(e){"undefined"!=typeof e&&this.aria("checked",e);return this._super(e)},remove:function(){this._super();
this.menu&&this.menu.remove()}})});w("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/util/Tools"],function(l,g,f){return l.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){e.autohide=!0;e.constrainToViewport=!0;if(e.itemDefaults)for(var b=e.items,d=b.length;d--;)b[d]=f.extend({},e.itemDefaults,b[d]);this._super(e);this.addClass("menu")},repaint:function(){this.toggleClass("menu-align",!0);this._super();
this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){this.hideAll();this.fire("select")},hideAll:function(){this.find("menuitem").exec("hideMenu");return this._super()},preRender:function(){var e=this;e.items().each(function(b){b=b.settings;if(b.icon||b.selectable)return e._hasIcons=!0,!1});return e._super()}})});w("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(l){return l.extend({Defaults:{classes:"radio",role:"radio"}})});w("tinymce/ui/ResizeHandle",
["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(l,g){return l.extend({renderHtml:function(){var f=this.classPrefix;this.addClass("resizehandle");"both"==this.settings.direction&&this.addClass("resizehandle-both");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes()+'"><i class="'+f+"ico "+f+'i-resize"></i></div>'},postRender:function(){var f=this;f._super();f.resizeDragHelper=new g(this._id,{start:function(){f.fire("ResizeStart")},drag:function(e){"both"!=f.settings.direction&&
(e.deltaX=0);f.fire("Resize",e)},stop:function(){f.fire("ResizeEnd")}})},remove:function(){this.resizeDragHelper&&this.resizeDragHelper.destroy();return this._super()}})});w("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(l){return l.extend({renderHtml:function(){this.addClass("spacer");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes()+'"></div>'}})});w("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils"],function(l,g){return l.extend({Defaults:{classes:"widget btn splitbtn",
role:"button"},repaint:function(){var f=this.getEl(),e=this.layoutRect(),b;this._super();b=f.firstChild;f=f.lastChild;g.css(b,{width:e.w-g.getSize(f).width,height:e.h-2});g.css(f,{height:e.h-2});return this},activeMenu:function(f){g.toggleClass(this.getEl().lastChild,this.classPrefix+"active",f)},renderHtml:function(){var f=this._id,e=this.classPrefix,b,d=this.settings.icon;(b=this.settings.image)?(d="none","string"!=typeof b&&(b=window.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+
b+"')\""):b="";d=this.settings.icon?e+"ico "+e+"i-"+d:"";return'<div id="'+f+'" class="'+this.classes()+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(d?'<i class="'+d+'"'+b+"></i>":"")+(this._text?(d?" ":"")+this._text:"")+'</button><button type="button" class="'+e+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?(d?"\u00a0":"")+this._menuBtnText:"")+' <i class="'+e+'caret"></i></button></div>'},postRender:function(){var f=this.settings.onclick;this.on("click",
function(e){var b=e.target;if(e.control==this)for(;b;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==b.nodeName&&-1==b.className.indexOf("open")){e.stopImmediatePropagation();f.call(this,e);break}b=b.parentNode}});delete this.settings.onclick;return this._super()}})});w("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(l){return l.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})});w("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],
function(l,g){return l.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(f){var e;this.activeTabId&&(e=this.getEl(this.activeTabId),g.removeClass(e,this.classPrefix+"active"),e.setAttribute("aria-selected","false"));this.activeTabId="t"+f;e=this.getEl("t"+f);e.setAttribute("aria-selected","true");g.addClass(e,this.classPrefix+"active");this.items()[f].show().fire("showtab");this.reflow();this.items().each(function(b,d){f!=d&&b.hide()})},renderHtml:function(){var f=
this,e=f._layout,b="",d=f.classPrefix;f.preRender();e.preRender(f);f.items().each(function(c,e){var a=f._id+"-t"+e;c.aria("role","tabpanel");c.aria("labelledby",a);b+='<div id="'+a+'" class="'+d+'tab" unselectable="on" role="tab" aria-controls="'+c._id+'" aria-selected="false" tabIndex="-1">'+f.encode(c.settings.title)+"</div>"});return'<div id="'+f._id+'" class="'+f.classes()+'" hidefocus="1" tabindex="-1"><div id="'+f._id+'-head" class="'+d+'tabs" role="tablist">'+b+'</div><div id="'+f._id+'-body" class="'+
f.classes("body")+'">'+e.renderHtml(f)+"</div></div>"},postRender:function(){var f=this;f._super();f.settings.activeTab=f.settings.activeTab||0;f.activateTab(f.settings.activeTab);this.on("click",function(e){var b=e.target.parentNode;if(e.target.parentNode.id==f._id+"-head")for(var d=b.childNodes.length;d--;)b.childNodes[d]==e.target&&f.activateTab(d)})},initLayoutRect:function(){var f,e,b;e=g.getSize(this.getEl("head")).width;e=0>e?0:e;b=0;this.items().each(function(c){e=Math.max(e,c.layoutRect().minW);
b=Math.max(b,c.layoutRect().minH)});this.items().each(function(c){c.settings.x=0;c.settings.y=0;c.settings.w=e;c.settings.h=b;c.layoutRect({x:0,y:0,w:e,h:b})});var d=g.getSize(this.getEl("head")).height;this.settings.minWidth=e;this.settings.minHeight=b+d;f=this._super();f.deltaH+=d;f.innerH=f.h-f.deltaH;return f}})});w("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(l,g){return l.extend({init:function(f){var e=this;e._super(f);e._value=f.value||"";e.addClass("textbox");
if(f.multiline)e.addClass("multiline");else e.on("keydown",function(b){13==b.keyCode&&e.parents().reverse().each(function(d){b.preventDefault();if(d.hasEventListeners("submit")&&d.toJSON)return d.fire("submit",{data:d.toJSON()}),!1})})},disabled:function(f){this._rendered&&"undefined"!=typeof f&&(this.getEl().disabled=f);return this._super(f)},value:function(f){return"undefined"!=typeof f?(this._value=f,this._rendered&&(this.getEl().value=f),this):this._rendered?this.getEl().value:this._value},repaint:function(){var f,
e,b,d=0;b=0;var c;f=this.getEl().style;e=this._layoutRect;c=this._lastRepaintRect||{};d=document;!this.settings.multiline&&d.all&&(!d.documentMode||8>=d.documentMode)&&(f.lineHeight=e.h-b+"px");b=this._borderBox;d=b.left+b.right+8;b=b.top+b.bottom+(this.settings.multiline?8:0);e.x!==c.x&&(f.left=e.x+"px",c.x=e.x);e.y!==c.y&&(f.top=e.y+"px",c.y=e.y);e.w!==c.w&&(f.width=e.w-d+"px",c.w=e.w);e.h!==c.h&&(f.height=e.h-b+"px",c.h=e.h);this._lastRepaintRect=c;this.fire("repaint",{},!1);return this},renderHtml:function(){var f=
this._id,e=this.settings,b=this.encode(this._value,!1),d="";"spellcheck"in e&&(d+=' spellcheck="'+e.spellcheck+'"');e.maxLength&&(d+=' maxlength="'+e.maxLength+'"');e.size&&(d+=' size="'+e.size+'"');e.subtype&&(d+=' type="'+e.subtype+'"');this.disabled()&&(d+=' disabled="disabled"');return e.multiline?'<textarea id="'+f+'" class="'+this.classes()+'" '+(e.rows?' rows="'+e.rows+'"':"")+' hidefocus="1"'+d+">"+b+"</textarea>":'<input id="'+f+'" class="'+this.classes()+'" value="'+b+'" hidefocus="1"'+
d+" />"},postRender:function(){var f=this;g.on(f.getEl(),"change",function(e){f.fire("change",e)});return f._super()},remove:function(){g.off(this.getEl());this._super()}})});w("tinymce/ui/Throbber",["tinymce/ui/DomUtils","tinymce/ui/Control"],function(l,g){return function(f,e){var b=this,d,c=g.classPrefix;b.show=function(g){b.hide();d=!0;window.setTimeout(function(){d&&f.appendChild(l.createFragment('<div class="'+c+"throbber"+(e?" "+c+"throbber-inline":"")+'"></div>'))},g||0);return b};b.hide=function(){var c=
f.lastChild;c&&-1!=c.className.indexOf("throbber")&&c.parentNode.removeChild(c);d=!1;return b}}});(function(l){for(var g=0;g<l.length;g++){for(var f=fa,e=l[g],b=e.split(/[.\/]/),d=0;d<b.length-1;++d)f[b[d]]===U&&(f[b[d]]={}),f=f[b[d]];f[b[b.length-1]]=ca[e]}})("tinymce/dom/EventUtils tinymce/dom/Sizzle tinymce/util/Tools tinymce/Env tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/TreeWalker tinymce/dom/Range tinymce/html/Entities tinymce/dom/DOMUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/html/Node tinymce/html/Schema tinymce/html/SaxParser tinymce/html/DomParser tinymce/html/Writer tinymce/html/Serializer tinymce/dom/Serializer tinymce/dom/TridentSelection tinymce/util/VK tinymce/dom/ControlSelection tinymce/dom/BookmarkManager tinymce/dom/Selection tinymce/dom/ElementUtils tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/util/Class tinymce/util/EventDispatcher tinymce/ui/Selector tinymce/ui/Collection tinymce/ui/DomUtils tinymce/ui/Control tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/ui/Container tinymce/ui/DragHelper tinymce/ui/Scrollable tinymce/ui/Panel tinymce/ui/Movable tinymce/ui/Resizable tinymce/ui/FloatPanel tinymce/ui/Window tinymce/ui/MessageBox tinymce/WindowManager tinymce/util/Quirks tinymce/util/Observable tinymce/EditorObservable tinymce/Shortcuts tinymce/Editor tinymce/util/I18n tinymce/FocusManager tinymce/EditorManager tinymce/LegacyInput tinymce/util/XHR tinymce/util/JSON tinymce/util/JSONRequest tinymce/util/JSONP tinymce/util/LocalStorage tinymce/Compat tinymce/ui/Layout tinymce/ui/AbsoluteLayout tinymce/ui/Tooltip tinymce/ui/Widget tinymce/ui/Button tinymce/ui/ButtonGroup tinymce/ui/Checkbox tinymce/ui/ComboBox tinymce/ui/ColorBox tinymce/ui/PanelButton tinymce/ui/ColorButton tinymce/util/Color tinymce/ui/ColorPicker tinymce/ui/Path tinymce/ui/ElementPath tinymce/ui/FormItem tinymce/ui/Form tinymce/ui/FieldSet tinymce/ui/FilePicker tinymce/ui/FitLayout tinymce/ui/FlexLayout tinymce/ui/FlowLayout tinymce/ui/FormatControls tinymce/ui/GridLayout tinymce/ui/Iframe tinymce/ui/Label tinymce/ui/Toolbar tinymce/ui/MenuBar tinymce/ui/MenuButton tinymce/ui/ListBox tinymce/ui/MenuItem tinymce/ui/Menu tinymce/ui/Radio tinymce/ui/ResizeHandle tinymce/ui/Spacer tinymce/ui/SplitButton tinymce/ui/StackLayout tinymce/ui/TabPanel tinymce/ui/TextBox tinymce/ui/Throbber".split(" "))})(this);
