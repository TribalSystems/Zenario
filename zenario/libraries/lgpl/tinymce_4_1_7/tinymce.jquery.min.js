(function(fa,U){function ha(n,h){for(var f,e=[],c=0;c<n.length;++c){if(!(f=ca[n[c]]))a:{f=fa;for(var d=n[c].split(/[.\/]/),b=0;b<d.length;++b){if(!f[d[b]]){f=void 0;break a}f=f[d[b]]}}if(!f)throw"module definition dependecy not found: "+n[c];e.push(f)}h.apply(null,e)}function x(n,h,f){if("string"!==typeof n)throw"invalid module definition, module id must be defined and be a string";if(h===U)throw"invalid module definition, dependencies must be specified";if(f===U)throw"invalid module definition, definition function must be specified";
ha(h,function(){ca[n]=f.apply(null,arguments)})}var ca={};x("tinymce/dom/EventUtils",[],function(){function n(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&&a.attachEvent("on"+b,c)}function h(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent&&a.detachEvent("on"+b,c)}function f(a,c){function d(){return!1}function m(){return!0}var e,p=c||{};for(e in a)g[e]||(p[e]=a[e]);p.target||(p.target=p.srcElement||document);if(a&&b.test(a.type)&&void 0===a.pageX&&
void 0!==a.clientX){var f=p.target.ownerDocument||document;e=f.documentElement;f=f.body;p.pageX=a.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0);p.pageY=a.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)}p.preventDefault=function(){p.isDefaultPrevented=m;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)};p.stopPropagation=function(){p.isPropagationStopped=m;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)};p.stopImmediatePropagation=
function(){p.isImmediatePropagationStopped=m;p.stopPropagation()};p.isDefaultPrevented||(p.isDefaultPrevented=d,p.isPropagationStopped=d,p.isImmediatePropagationStopped=d);return p}function e(a,b,c){function d(){c.domLoaded||(c.domLoaded=!0,b(v))}function e(){if("complete"===f.readyState||"interactive"===f.readyState&&f.body)h(f,"readystatechange",e),d()}function g(){try{f.documentElement.doScroll("left")}catch(a){setTimeout(g,0);return}d()}var f=a.document,v={type:"ready"};c.domLoaded?b(v):(f.addEventListener?
"complete"===f.readyState?d():n(a,"DOMContentLoaded",d):(n(f,"readystatechange",e),f.documentElement.doScroll&&a.self===a.top&&g()),n(a,"load",d))}function c(){function a(a,b){var d,k,l,m;if(d=(d=c[b])&&d[a.type])for(k=0,l=d.length;k<l&&((m=d[k])&&!1===m.func.call(m.scope,a)&&a.preventDefault(),!a.isImmediatePropagationStopped());k++);}var b=this,c={},m,g,p,q,v;g=d+(+new Date).toString(32);q="onmouseenter"in document.documentElement;p="onfocusin"in document.documentElement;v={mouseenter:"mouseover",
mouseleave:"mouseout"};m=1;b.domLoaded=!1;b.events=c;b.bind=function(d,r,w,k){function B(b){a(f(b||H.event),h)}var h,y,z,K,D,G,L,H=window;if(d&&3!==d.nodeType&&8!==d.nodeType){d[g]?h=d[g]:(h=m++,d[g]=h,c[h]={});k=k||d;r=r.split(" ");for(z=r.length;z--;)K=r[z],G=B,D=L=!1,"DOMContentLoaded"===K&&(K="ready"),b.domLoaded&&"ready"===K&&"complete"==d.readyState?w.call(k,f({type:K})):(q||(D=v[K])&&(G=function(b){var c,k;c=b.currentTarget;if((k=b.relatedTarget)&&c.contains)k=c.contains(k);else for(;k&&k!==
c;)k=k.parentNode;k||(b=f(b||H.event),b.type="mouseout"===b.type?"mouseleave":"mouseenter",b.target=c,a(b,h))}),p||"focusin"!==K&&"focusout"!==K||(L=!0,D="focusin"===K?"focus":"blur",G=function(b){b=f(b||H.event);b.type="focus"===b.type?"focusin":"focusout";a(b,h)}),(y=c[h][K])?"ready"===K&&b.domLoaded?w({type:K}):y.push({func:w,scope:k}):(c[h][K]=y=[{func:w,scope:k}],y.fakeName=D,y.capture=L,y.nativeHandler=G,"ready"===K?e(d,G,b):n(d,D||K,G,L)));d=y=0;return w}};b.unbind=function(a,d,m){var k,e,
p,f,q,v;if(!a||3===a.nodeType||8===a.nodeType)return b;if(k=a[g]){v=c[k];if(d)for(d=d.split(" "),p=d.length;p--;){if(q=d[p],e=v[q]){if(m)for(f=e.length;f--;)if(e[f].func===m){var n=e.nativeHandler,G=e.fakeName,L=e.capture;e=e.slice(0,f).concat(e.slice(f+1));e.nativeHandler=n;e.fakeName=G;e.capture=L;v[q]=e}m&&0!==e.length||(delete v[q],h(a,e.fakeName||q,e.nativeHandler,e.capture))}}else{for(q in v)e=v[q],h(a,e.fakeName||q,e.nativeHandler,e.capture);v={}}for(q in v)return b;delete c[k];try{delete a[g]}catch(H){a[g]=
null}}return b};b.fire=function(c,d,e){if(!c||3===c.nodeType||8===c.nodeType)return b;e=f(null,e);e.type=d;e.target=c;do(d=c[g])&&a(e,d),c=c.parentNode||c.ownerDocument||c.defaultView||c.parentWindow;while(c&&!e.isPropagationStopped());return b};b.clean=function(a){var c,d,k=b.unbind;if(!a||3===a.nodeType||8===a.nodeType)return b;a[g]&&k(a);a.getElementsByTagName||(a=a.document);if(a&&a.getElementsByTagName)for(k(a),d=a.getElementsByTagName("*"),c=d.length;c--;)a=d[c],a[g]&&k(a);return b};b.destroy=
function(){c={}};b.cancel=function(a){a&&(a.preventDefault(),a.stopImmediatePropagation());return!1}}var d="mce-data-",b=/^(?:mouse|contextmenu)|click/,g={keyLocation:1,layerX:1,layerY:1,returnValue:1};c.Event=new c;c.Event.bind(window,"ready",function(){});return c});x("tinymce/dom/Sizzle",[],function(){if(!window.jQuery)throw Error("Load jQuery first");return jQuery.find});x("tinymce/Env",[],function(){var n=navigator,h=n.userAgent,f,e,c,d,b;f=window.opera&&window.opera.buildNumber;e=/WebKit/.test(h);
c=(c=!e&&!f&&/MSIE/gi.test(h)&&/Explorer/gi.test(n.appName))&&/MSIE (\w+)\./.exec(h)[1];n=-1==h.indexOf("Trident/")||-1==h.indexOf("rv:")&&-1==n.appName.indexOf("Netscape")?!1:11;c=c||n;n=!e&&!n&&/Gecko/.test(h);d=-1!=h.indexOf("Mac");b=/(iPad|iPhone)/.test(h);h=!b||534<=h.match(/AppleWebKit\/(\d*)/)[1];return{opera:f,webkit:e,ie:c,gecko:n,mac:d,iOS:b,contentEditable:h,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=c,range:window.getSelection&&
"Range"in window,documentMode:c?document.documentMode||7:10}});x("tinymce/util/Tools",["tinymce/Env"],function(n){function h(a){return null===a||a===U?"":(""+a).replace(b,"")}function f(a,b){return b?"array"==b&&g(a)?!0:typeof a==b:a!==U}function e(a,b,c){var d,e;if(!a)return 0;c=c||a;if(a.length!==U)for(d=0,e=a.length;d<e;d++){if(!1===b.call(c,a[d],d,a))return 0}else for(d in a)if(a.hasOwnProperty(d)&&!1===b.call(c,a[d],d,a))return 0;return 1}function c(a,b){var c=[];e(a,function(a){c.push(b(a))});
return c}function d(a,b,c,m){m=m||this;a&&(c&&(a=a[c]),e(a,function(a,e){if(!1===b.call(m,a,e,c))return!1;d(a,b,c,m)}))}var b=/^\s*|\s*$/g,g=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{trim:h,isArray:g,is:f,toArray:function(a){var b=a,c,d;if(!g(a))for(b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b},makeMap:function(a,b,c){a=a||[];"string"==typeof a&&(a=a.split(b||","));c=c||{};for(b=a.length;b--;)c[a[b]]={};return c},each:e,map:c,grep:function(a,b){var c=
[];e(a,function(a){b&&!b(a)||c.push(a)});return c},inArray:function(a,b){var c,d;if(a)for(c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},extend:function(a,b){var c,d,e,g=arguments,f;c=1;for(d=g.length;c<d;c++)for(e in b=g[c],b)b.hasOwnProperty(e)&&(f=b[e],f!==U&&(a[e]=f));return a},create:function(a,b,c){var d,e,g,f,v,s=0;a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a);g=a[3].match(/(^|\.)(\w+)$/i)[2];e=this.createNS(a[3].replace(/\.\w+$/,""),c);if(!e[g])if("static"==a[2]){if(e[g]=b,this.onCreate)this.onCreate(a[2],
a[3],e[g])}else b[g]||(b[g]=function(){},s=1),e[g]=b[g],this.extend(e[g].prototype,b),a[5]&&(d=this.resolve(a[5]).prototype,f=a[5].match(/\.(\w+)$/i)[1],v=e[g],e[g]=s?function(){return d[f].apply(this,arguments)}:function(){this.parent=d[f];return v.apply(this,arguments)},e[g].prototype[g]=e[g],this.each(d,function(a,b){e[g].prototype[b]=d[b]}),this.each(b,function(a,b){d[b]?e[g].prototype[b]=function(){this.parent=d[b];return a.apply(this,arguments)}:b!=g&&(e[g].prototype[b]=a)})),this.each(b["static"],
function(a,b){e[g][b]=a})},walk:d,createNS:function(a,b){var c,d;b=b||window;a=a.split(".");for(c=0;c<a.length;c++)d=a[c],b[d]||(b[d]={}),b=b[d];return b},resolve:function(a,b){var c,d;b=b||window;a=a.split(".");c=0;for(d=a.length;c<d&&(b=b[a[c]],b);c++);return b},explode:function(a,b){return!a||f(a,"array")?a:c(a.split(b||","),h)},_addCacheSuffix:function(a){var b=n.cacheSuffix;b&&(a+=(-1===a.indexOf("?")?"?":"&")+b);return a}}});x("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle",
"tinymce/util/Tools","tinymce/Env"],function(n,h,f,e){function c(a){return"undefined"!==typeof a}function d(a,b){var c,k,d;b=b||r;d=b.createElement("div");c=b.createDocumentFragment();for(d.innerHTML=a;k=d.firstChild;)c.appendChild(k);return c}function b(c,k,e,g){var l;if("string"===typeof k)k=d(k,u(c[0]));else if(k.length&&!k.nodeType){k=a.makeArray(k);if(g)for(l=k.length-1;0<=l;l--)b(c,k[l],e,g);else for(l=0;l<k.length;l++)b(c,k[l],e,g);return c}if(k.nodeType)for(l=c.length;l--;)e.call(c[l],k);
return c}function g(b,c,k){var d,e;c=a(c)[0];b.each(function(){k&&d==this.parentNode||(d=this.parentNode,e=c.cloneNode(!1),this.parentNode.insertBefore(e,this));e.appendChild(this)});return b}function a(b,c){return new a.fn.init(b,c)}function l(a){return null===a||a===y?"":(""+a).replace(E,"")}function t(a,b){var c,k,d;if(a)if(c=a.length,void 0===c)for(k in a){if(a.hasOwnProperty(k)&&(d=a[k],!1===b.call(d,k,d)))break}else for(k=0;k<c&&(d=a[k],!1!==b.call(d,k,d));k++);return a}function m(a,b){var c=
[];t(a,function(a,k){b(k,a)&&c.push(k)});return c}function u(a){return a?9==a.nodeType?a:a.ownerDocument:r}function p(b,c,k){var d=[];b=b[c];for("string"!=typeof k&&k instanceof a&&(k=k[0]);b&&9!==b.nodeType;){if(k!==U){if(b===k)break;if("string"==typeof k&&a(b).is(k))break}1===b.nodeType&&d.push(b);b=b[c]}return d}function q(b,c,k,d){var e=[];for(d instanceof a&&(d=d[0]);b;b=b[c])if(!k||b.nodeType===k){if(d!==U){if(b===d)break;if("string"==typeof d&&a(b).is(d))break}e.push(b)}return e}function v(a,
b,c){for(a=a[b];a;a=a[b])if(a.nodeType==c)return a;return null}function s(a,b,c){t(c,function(c,k){a[c]=a[c]||{};a[c][b]=k})}var r=document,w=Array.prototype.push,k=Array.prototype.slice,B=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,F=n.Event,y,z=f.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),K=f.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),D={"for":"htmlFor","class":"className",readonly:"readOnly"},
G={"float":"cssFloat"},L={},H={},E=/^\s*|\s*$/g;a.fn=a.prototype={constructor:a,selector:"",context:null,length:0,init:function(b,c){var k,e;if(!b)return this;if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if(c&&c.nodeType)this.context=c;else{if(c)return a(b).attr(c);this.context=c=document}if("string"===typeof b)if(this.selector=b,k="<"===b.charAt(0)&&">"===b.charAt(b.length-1)&&3<=b.length?[null,b,null]:B.exec(b))if(k[1])for(e=d(b,u(c)).firstChild;e;)w.call(this,e),e=e.nextSibling;
else{e=u(c).getElementById(k[2]);if(!e)return this;if(e.id!==k[2])return this.find(b);this.length=1;this[0]=e}else return a(c).find(b);else this.add(b,!1);return this},toArray:function(){return f.toArray(this)},add:function(b,c){var k,d;if("string"===typeof b)return this.add(a(b));if(!1!==c)for(k=a.unique(this.toArray().concat(a.makeArray(b))),this.length=k.length,d=0;d<k.length;d++)this[d]=k[d];else w.apply(this,a.makeArray(b));return this},attr:function(a,b){var k=this,d;if("object"===typeof a)t(a,
function(a,b){k.attr(a,b)});else if(c(b))this.each(function(){var c;1===this.nodeType&&((c=L[a])&&c.set?c.set(this,b):null===b?this.removeAttribute(a,2):this.setAttribute(a,b,2))});else{if(k[0]&&1===k[0].nodeType){if((d=L[a])&&d.get)return d.get(k[0],a);if(K[a])return k.prop(a)?a:y;b=k[0].getAttribute(a,2);null===b&&(b=y)}return b}return k},removeAttr:function(a){return this.attr(a,null)},prop:function(a,b){var k=this;a=D[a]||a;if("object"===typeof a)t(a,function(a,b){k.prop(a,b)});else if(c(b))this.each(function(){1==
this.nodeType&&(this[a]=b)});else return k[0]&&k[0].nodeType&&a in k[0]?k[0][a]:b;return k},css:function(a,b){function k(a){return a.replace(/-(\D)/g,function(a,b){return b.toUpperCase()})}function d(a){return a.replace(/[A-Z]/g,function(a){return"-"+a})}var e=this,g,l;if("object"===typeof a)t(a,function(a,b){e.css(a,b)});else if(c(b))a=k(a),"number"!==typeof b||z[a]||(b+="px"),e.each(function(){var c=this.style;if((l=H[a])&&l.set)l.set(this,b);else{try{this.style[G[a]||a]=b}catch(k){}if(null===b||
""===b)c.removeProperty?c.removeProperty(d(a)):c.removeAttribute(a)}});else{g=e[0];if((l=H[a])&&l.get)return l.get(g);if(g.ownerDocument.defaultView)try{return g.ownerDocument.defaultView.getComputedStyle(g,null).getPropertyValue(d(a))}catch(m){return y}else if(g.currentStyle)return g.currentStyle[k(a)]}return e},remove:function(){for(var a,b=this.length;b--;)a=this[b],F.clean(a),a.parentNode&&a.parentNode.removeChild(a);return this},empty:function(){for(var a,b=this.length;b--;)for(a=this[b];a.firstChild;)a.removeChild(a.firstChild);
return this},html:function(b){var k;if(c(b)){k=this.length;try{for(;k--;)this[k].innerHTML=b}catch(d){a(this[k]).empty().append(b)}return this}return this[0]?this[0].innerHTML:""},text:function(a){var b;if(c(a)){for(b=this.length;b--;)"innerText"in this[b]?this[b].innerText=a:this[0].textContent=a;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return b(this,arguments,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return b(this,arguments,
function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?b(this,arguments,function(a){this.parentNode.insertBefore(a,this)}):this},after:function(){return this[0]&&this[0].parentNode?b(this,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)},!0):this},appendTo:function(b){a(b).append(this);return this},prependTo:function(b){a(b).prepend(this);return this},replaceWith:function(a){return this.before(a).remove()},
wrap:function(a){return g(this,a)},wrapAll:function(a){return g(this,a,!0)},wrapInner:function(b){this.each(function(){a(this).contents().wrapAll(b)});return this},unwrap:function(){return this.parent().each(function(){a(this).replaceWith(this.childNodes)})},clone:function(){var b=[];this.each(function(){b.push(this.cloneNode(!0))});return a(b)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(a,b){var c=this;if("string"!=
typeof a)return c;-1!==a.indexOf(" ")?t(a.split(" "),function(){c.toggleClass(this,b)}):c.each(function(c,k){var d,e;e=k&&a&&-1!==(" "+k.className+" ").indexOf(" "+a+" ");e!==b&&(d=k.className,k.className=e?l((" "+d+" ").replace(" "+a+" "," ")):k.className+(d?" "+a:a))});return c},hasClass:function(a){return this[0]&&a&&-1!==(" "+this[0].className+" ").indexOf(" "+a+" ")},each:function(a){return t(this,a)},on:function(a,b){return this.each(function(){F.bind(this,a,b)})},off:function(a,b){return this.each(function(){F.unbind(this,
a,b)})},trigger:function(a){return this.each(function(){"object"==typeof a?F.fire(this,a.type,a):F.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new a(k.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(b){var c,k,d=[];c=0;for(k=this.length;c<k;c++)a.find(b,this[c],d);return a(d)},filter:function(b){return"function"==
typeof b?a(m(this.toArray(),function(a,c){return b(c,a)})):a(a.filter(b,this.toArray()))},closest:function(b){var c=[];b instanceof a&&(b=b[0]);this.each(function(k,d){for(;d;){if("string"==typeof b&&a(d).is(b)){c.push(d);break}else if(d==b){c.push(d);break}d=d.parentNode}});return a(c)},offset:function(a){var b,c,k=0,d=0;if(!a){if(b=this[0])a=b.ownerDocument,c=a.documentElement,b.getBoundingClientRect&&(d=b.getBoundingClientRect(),k=d.left+(c.scrollLeft||a.body.scrollLeft)-c.clientLeft,d=d.top+(c.scrollTop||
a.body.scrollTop)-c.clientTop);return{left:k,top:d}}return this.css(a)},push:w,sort:[].sort,splice:[].splice};f.extend(a,{extend:f.extend,makeArray:function(a){return a&&a==a.window||a.nodeType?[a]:f.toArray(a)},inArray:function(a,b){var c;if(b.indexOf)return b.indexOf(a);for(c=b.length;c--;)if(b[c]===a)return c;return-1},isArray:f.isArray,each:t,trim:l,grep:m,find:h,expr:h.selectors,unique:h.uniqueSort,text:h.getText,contains:h.contains,filter:function(b,c,k){var d=c.length;for(k&&(b=":not("+b+")");d--;)1!=
c[d].nodeType&&c.splice(d,1);return c=1===c.length?a.find.matchesSelector(c[0],b)?[c[0]]:[]:a.find.matches(b,c)}});t({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return p(a,"parentNode")},next:function(a){return v(a,"nextSibling",1)},prev:function(a){return v(a,"previousSibling",1)},children:function(a){return q(a.firstChild,"nextSibling",1)},contents:function(a){return f.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},
function(b,c){a.fn[b]=function(k){var d=[];this.each(function(){var b=c.call(d,this,k,d);b&&(a.isArray(b)?d.push.apply(d,b):d.push(b))});1<this.length&&(d=a.unique(d),0===b.indexOf("parents")&&(d=d.reverse()));d=a(d);return k?d.filter(k):d}});t({parentsUntil:function(a,b){return p(a,"parentNode",b)},nextUntil:function(a,b){return q(a,"nextSibling",1,b).slice(1)},prevUntil:function(a,b){return q(a,"previousSibling",1,b).slice(1)}},function(b,c){a.fn[b]=function(k,d){var e=[];this.each(function(){var b=
c.call(e,this,k,e);b&&(a.isArray(b)?e.push.apply(e,b):e.push(b))});1<this.length&&(e=a.unique(e),0===b.indexOf("parents")||"prevUntil"===b)&&(e=e.reverse());e=a(e);return d?e.filter(d):e}});a.fn.is=function(a){return!!a&&0<this.filter(a).length};a.fn.init.prototype=a.fn;a.overrideDefaults=function(b){function c(a,d){k=k||b();0===arguments.length&&(a=k.element);d||(d=k.context);return new c.fn.init(a,d)}var k;a.extend(c,this);return c};e.ie&&8>e.ie&&(s(L,"get",{maxlength:function(a){a=a.maxLength;
return 2147483647===a?y:a},size:function(a){a=a.size;return 20===a?y:a},"class":function(a){return a.className},style:function(a){a=a.style.cssText;return 0===a.length?y:a}}),s(L,"set",{"class":function(a,b){a.className=b},style:function(a,b){a.style.cssText=b}}));e.ie&&9>e.ie&&(G["float"]="styleFloat",s(H,"set",{opacity:function(a,b){var c=a.style;null===b||""===b?c.removeAttribute("filter"):(c.zoom=1,c.filter="alpha(opacity="+100*b+")")}}));a.attrHooks=L;a.cssHooks=H;return a});x("tinymce/html/Styles",
[],function(){return function(n,h){function f(a,b,c,d){function e(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+e(b)+e(c)+e(d)}var e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,d=/\s*([^:]+):\s*([^;]+);?/g,b=/\s+$/,g,a={},l,t,m;n=n||{};h&&(t=h.getValidStyles(),m=h.getInvalidStyles());l="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(g=
0;g<l.length;g++)a[l[g]]="\ufeff"+g,a["\ufeff"+g]=l[g];return{toHex:function(a){return a.replace(e,f)},parse:function(l){function m(a,b,c){var d,e,l,f;if(d=k[a+"-top"+b])if(e=k[a+"-right"+b])if(l=k[a+"-bottom"+b])if(f=k[a+"-left"+b]){d=[d,e,l,f];for(g=d.length-1;g--&&d[g]===d[g+1];);-1<g&&c||(k[a+b]=-1==g?d[0]:d.join(" "),delete k[a+"-top"+b],delete k[a+"-right"+b],delete k[a+"-bottom"+b],delete k[a+"-left"+b])}}function t(a){var b=k[a],c;if(b){b=b.split(" ");for(c=b.length;c--;)if(b[c]!==b[0])return!1;
k[a]=b[0];return!0}}function v(a,b,c,d){t(b)&&t(c)&&t(d)&&(k[a]=k[b]+" "+k[c]+" "+k[d],delete k[b],delete k[c],delete k[d])}function s(b){z=!0;return a[b]}function r(b,c){z&&(b=b.replace(/\uFEFF[0-9]/g,function(b){return a[b]}));c||(b=b.replace(/\\([\'\";:])/g,"$1"));return b}function w(a,b,c,k,d,e){if(d=d||e)return d=r(d),"'"+d.replace(/\'/g,"\\'")+"'";b=r(b||c||k);if(!n.allow_script_urls&&(a=b.replace(/[\s\r\n]+/,""),/(java|vb)script:/i.test(a)||!n.allow_svg_data_urls&&/^data:image\/svg/i.test(a)))return"";
K&&(b=K.call(D,b,"style"));return"url('"+b.replace(/\'/g,"\\'")+"')"}var k={},B,h,y,z,K=n.url_converter,D=n.url_converter_scope||this;if(l){l=l.replace(/[\u0000-\u001F]/g,"");for(l=l.replace(/\\[\"\';:\uFEFF]/g,s).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,s)});B=d.exec(l);){h=B[1].replace(b,"").toLowerCase();y=B[2].replace(b,"");y=y.replace(/\\[0-9a-f]+/g,function(a){return String.fromCharCode(parseInt(a.substr(1),16))});if(h&&0<y.length){if(!n.allow_script_urls&&("behavior"==
h||/expression\s*\(|\/\*|\*\//.test(y)))continue;if("font-weight"===h&&"700"===y)y="bold";else if("color"===h||"background-color"===h)y=y.toLowerCase();y=y.replace(e,f);y=y.replace(c,w);k[h]=z?r(y,!0):y}d.lastIndex=B.index+B[0].length}m("border","",!0);m("border","-width");m("border","-color");m("border","-style");m("padding","");m("margin","");v("border","border-width","border-style","border-color");"medium none"===k.border&&delete k.border;"none"===k["border-image"]&&delete k["border-image"]}return k},
serialize:function(a,b){function c(b){var d,g,l,m;if(d=t[b])for(g=0,l=d.length;g<l;g++)b=d[g],m=a[b],void 0!==m&&0<m.length&&(e+=(0<e.length?" ":"")+b+": "+m+";")}function d(a,b){var c;return(c=m["*"])&&c[a]?!1:(c=m[b])&&c[a]?!1:!0}var e="",g,l;if(b&&t)c("*"),c(b);else for(g in a)l=a[g],void 0!==l&&0<l.length&&(!m||d(g,b))&&(e+=(0<e.length?" ":"")+g+": "+l+";");return e}}}});x("tinymce/dom/TreeWalker",[],function(){return function(n,h){function f(c,d,b,e){if(c){if(!e&&c[d])return c[d];if(c!=h){if(d=
c[b])return d;for(c=c.parentNode;c&&c!=h;c=c.parentNode)if(d=c[b])return d}}}var e=n;this.current=function(){return e};this.next=function(c){return e=f(e,"firstChild","nextSibling",c)};this.prev=function(c){return e=f(e,"lastChild","previousSibling",c)}}});x("tinymce/dom/Range",["tinymce/util/Tools"],function(n){function h(f){function e(a,b){t(F,a,b)}function c(a,b){t(y,a,b)}function d(a){e(a.parentNode,H(a))}function b(a){c(a.parentNode,H(a)+1)}function g(){return m(k)}function a(a,b){var c;if(3==
a.nodeType||0>b)return a;for(c=a.firstChild;c&&0<b;)--b,c=c.nextSibling;return c?c:a}function l(a,b,c,k){var d,e;if(a==c)return b==k?0:b<k?-1:1;for(d=c;d&&d.parentNode!=a;)d=d.parentNode;if(d){e=0;for(c=a.firstChild;c!=d&&e<b;)e++,c=c.nextSibling;return b<=e?-1:1}for(d=a;d&&d.parentNode!=c;)d=d.parentNode;if(d){e=0;for(c=c.firstChild;c!=d&&e<k;)e++,c=c.nextSibling;return e<k?-1:1}for(b=f.findCommonAncestor(a,c);a&&a.parentNode!=b;)a=a.parentNode;a||(a=b);for(k=c;k&&k.parentNode!=b;)k=k.parentNode;
k||(k=b);if(a==k)return 0;for(c=b.firstChild;c;){if(c==a)return-1;if(c==k)return 1;c=c.nextSibling}}function t(a,b,c){a?(r[K]=b,r[z]=c):(r[D]=b,r[G]=c);for(b=r[D];b.parentNode;)b=b.parentNode;for(c=r[K];c.parentNode;)c=c.parentNode;c==b?0<l(r[K],r[z],r[D],r[G])&&r.collapse(a):r.collapse(a);r.collapsed=r[K]==r[D]&&r[z]==r[G];r.commonAncestorContainer=f.findCommonAncestor(r[K],r[D])}function m(a){var b,c=0,d=0,e;if(r[K]==r[D])return u(a);b=r[D];for(e=b.parentNode;e;b=e,e=e.parentNode){if(e==r[K]){var g=
b;e=d=c=c=e=b=void 0;a!=B&&(b=w.createDocumentFragment());e=p(g,a);b&&b.appendChild(e);c=H(g);c-=r[z];if(!(0>=c))for(e=g.previousSibling;0<c;)d=e.previousSibling,e=s(e,a),b&&b.insertBefore(e,b.firstChild),--c,e=d;a!=k&&(r.setEndBefore(g),r.collapse(y));a=b;return a}++c}b=r[K];for(e=b.parentNode;e;b=e,e=e.parentNode){if(e==r[D]){g=b;e=d=c=e=c=b=void 0;a!=B&&(b=w.createDocumentFragment());e=q(g,a);b&&b.appendChild(e);c=H(g);++c;c=r[G]-c;for(e=g.nextSibling;e&&0<c;)d=e.nextSibling,e=s(e,a),b&&b.appendChild(e),
--c,e=d;a!=k&&(r.setStartAfter(g),r.collapse(F));return b}++d}d-=c;for(b=r[K];0<d;)b=b.parentNode,d--;for(c=r[D];0>d;)c=c.parentNode,d++;d=b.parentNode;for(e=c.parentNode;d!=e;d=d.parentNode,e=e.parentNode)b=d,c=e;var l;a!=B&&(g=w.createDocumentFragment());l=q(b,a);g&&g.appendChild(l);d=H(b);e=H(c);++d;d=e-d;for(l=b.nextSibling;0<d;)e=l.nextSibling,l=s(l,a),g&&g.appendChild(l),l=e,--d;l=p(c,a);g&&g.appendChild(l);a!=k&&(r.setStartAfter(b),r.collapse(F));return g}function u(b){var c,d,e,g,l;b!=B&&
(c=w.createDocumentFragment());if(r[z]==r[G])return c;if(3==r[K].nodeType){d=r[K].nodeValue;e=d.substring(r[z],r[G]);b!=k&&(d=r[K],g=r[z],l=r[G]-r[z],0===g&&l>=d.nodeValue.length-1?d.parentNode.removeChild(d):d.deleteData(g,l),r.collapse(F));if(b==B)return;0<e.length&&c.appendChild(w.createTextNode(e));return c}d=a(r[K],r[z]);for(e=r[G]-r[z];d&&0<e;)g=d.nextSibling,d=s(d,b),c&&c.appendChild(d),--e,d=g;b!=k&&r.collapse(F);return c}function p(b,c){var d=a(r[D],r[G]-1),k,e,g,l=d!=r[D];if(d==b)return v(d,
l,y,c);k=d.parentNode;for(e=v(k,y,y,c);k;){for(;d;)g=d.previousSibling,d=v(d,l,y,c),c!=B&&e.insertBefore(d,e.firstChild),l=F,d=g;if(k==b)return e;d=k.previousSibling;k=k.parentNode;g=v(k,y,y,c);c!=B&&g.appendChild(e);e=g}}function q(b,c){var d=a(r[K],r[z]),k=d!=r[K],e,g,l;if(d==b)return v(d,k,F,c);e=d.parentNode;for(g=v(e,y,F,c);e;){for(;d;)l=d.nextSibling,d=v(d,k,F,c),c!=B&&g.appendChild(d),k=F,d=l;if(e==b)return g;d=e.nextSibling;e=e.parentNode;l=v(e,y,F,c);c!=B&&l.appendChild(g);g=l}}function v(a,
b,c,d){var e;if(b)return s(a,d);if(3==a.nodeType){b=a.nodeValue;c?(e=r[z],c=b.substring(e),b=b.substring(0,e)):(e=r[G],c=b.substring(0,e),b=b.substring(e));d!=k&&(a.nodeValue=b);if(d==B)return;a=f.clone(a,y);a.nodeValue=c;return a}if(d!=B)return f.clone(a,y)}function s(a,b){if(b!=B)return b==k?f.clone(a,F):a;a.parentNode.removeChild(a)}var r=this,w=f.doc,k=1,B=2,F=!0,y=!1,z="startOffset",K="startContainer",D="endContainer",G="endOffset",L=n.extend,H=f.nodeIndex;L(r,{startContainer:w,startOffset:0,
endContainer:w,endOffset:0,collapsed:F,commonAncestorContainer:w,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:e,setEnd:c,setStartBefore:d,setStartAfter:function(a){e(a.parentNode,H(a)+1)},setEndBefore:function(a){c(a.parentNode,H(a))},setEndAfter:b,collapse:function(a){a?(r[D]=r[K],r[G]=r[z]):(r[K]=r[D],r[z]=r[G]);r.collapsed=F},selectNode:function(a){d(a);b(a)},selectNodeContents:function(a){e(a,0);c(a,1===a.nodeType?a.childNodes.length:a.nodeValue.length)},compareBoundaryPoints:function(a,
b){var c=r[K],d=r[z],k=r[D],e=r[G],g=b.startContainer,m=b.startOffset,f=b.endContainer,p=b.endOffset;if(0===a)return l(c,d,g,m);if(1===a)return l(k,e,g,m);if(2===a)return l(k,e,f,p);if(3===a)return l(c,d,f,p)},deleteContents:function(){m(B)},extractContents:function(){return m(0)},cloneContents:g,insertNode:function(a){var b=this[K],c=this[z],d;3!==b.nodeType&&4!==b.nodeType||!b.nodeValue?(0<b.childNodes.length&&(d=b.childNodes[c]),d?b.insertBefore(a,d):3==b.nodeType?f.insertAfter(a,b):b.appendChild(a)):
c?c>=b.nodeValue.length?f.insertAfter(a,b):(c=b.splitText(c),b.parentNode.insertBefore(a,c)):b.parentNode.insertBefore(a,b)},surroundContents:function(a){var b=r.extractContents();r.insertNode(a);a.appendChild(b);r.selectNode(a)},cloneRange:function(){return L(new h(f),{startContainer:r[K],startOffset:r[z],endContainer:r[D],endOffset:r[G],collapsed:r.collapsed,commonAncestorContainer:r.commonAncestorContainer})},toStringIE:function(){return f.create("body",null,g()).outerText}});return r}h.prototype.toString=
function(){return this.toStringIE()};return h});x("tinymce/html/Entities",["tinymce/util/Tools"],function(n){function h(a,b){var d,e,g,l={};if(a){a=a.split(",");b=b||10;for(d=0;d<a.length;d+=2)e=String.fromCharCode(parseInt(a[d],b)),c[e]||(g="&"+a[d+1]+";",l[e]=g,l[g]=e);return l}}var f=n.makeMap,e,c,d,b=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[<>&\"\']/g,l=/&(#x|#)?([\w]+);/g,t={128:"\u20ac",
130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};c={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"};d={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};e=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);var m={encodeRaw:function(a,d){return a.replace(d?b:g,function(a){return c[a]||a})},encodeAllRaw:function(b){return(""+b).replace(a,function(a){return c[a]||a})},encodeNumeric:function(a,d){return a.replace(d?b:g,function(a){return 1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":c[a]||"&#"+a.charCodeAt(0)+";"})},encodeNamed:function(a,d,l){l=l||e;return a.replace(d?b:g,function(a){return c[a]||l[a]||a})},getEncodeFunc:function(a,d){function l(a,e){return a.replace(e?
b:g,function(a){return c[a]||d[a]||"&#"+a.charCodeAt(0)+";"||a})}function t(a,b){return m.encodeNamed(a,b,d)}d=h(d)||e;a=f(a.replace(/\+/g,","));return a.named&&a.numeric?l:a.named?d?t:m.encodeNamed:a.numeric?m.encodeNumeric:m.encodeRaw},decode:function(a){return a.replace(l,function(a,b,c){if(b)return c=parseInt(c,2===b.length?16:10),65535<c?(c-=65536,String.fromCharCode(55296+(c>>10),56320+(c&1023))):t[c]||String.fromCharCode(c);(b=d[a])||(b=e[a])||(b=document.createElement("div"),b.innerHTML=a,
b=b.textContent||b.innerText||a);return b})}};return m});x("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools"],function(n){return function(h,f){function e(b){h.getElementsByTagName("head")[0].appendChild(b)}var c=0,d={},b;f=f||{};b=f.maxLoadTime||5E3;this.load=function(g,a,l){function f(){for(var a=k.passed,b=a.length;b--;)a[b]();k.status=2;k.passed=[];k.failed=[]}function m(){for(var a=k.failed,b=a.length;b--;)a[b]();k.status=3;k.passed=[];k.failed=[]}function u(){var a=navigator.userAgent.match(/WebKit\/(\d*)/);
return!!(a&&536>a[1])}function p(a,c){a()||((new Date).getTime()-w<b?window.setTimeout(c,0):m())}function q(){p(function(){for(var a=h.styleSheets,b,c=a.length;c--;)if(b=a[c],(b=b.ownerNode?b.ownerNode:b.owningElement)&&b.id===s.id)return f(),!0},q)}function v(){p(function(){try{var a=r.sheet.cssRules;f();return!!a}catch(b){}},v)}var s,r,w,k;g=n._addCacheSuffix(g);d[g]?k=d[g]:(k={passed:[],failed:[]},d[g]=k);a&&k.passed.push(a);l&&k.failed.push(l);if(1!=k.status)if(2==k.status)f();else if(3==k.status)m();
else{k.status=1;s=h.createElement("link");s.rel="stylesheet";s.type="text/css";s.id="u"+c++;s.async=!1;s.defer=!1;w=(new Date).getTime();if("onload"in s&&!u())s.onload=q,s.onerror=m;else{if(0<navigator.userAgent.indexOf("Firefox")){r=h.createElement("style");r.textContent='@import "'+g+'"';v();e(r);return}q()}e(s);s.href=g}}}});x("tinymce/dom/DOMUtils","tinymce/dom/Sizzle tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/EventUtils tinymce/dom/TreeWalker tinymce/dom/Range tinymce/html/Entities tinymce/Env tinymce/util/Tools tinymce/dom/StyleSheetLoader".split(" "),
function(n,h,f,e,c,d,b,g,a,l){function t(a,b){var c={},d=b.keep_values,e;e={set:function(c,d,e){b.url_converter&&(d=b.url_converter.call(b.url_converter_scope||a,d,e,c[0]));c.attr("data-mce-"+e,d).attr(e,d)},get:function(a,b){return a.attr("data-mce-"+b)||a.attr(b)}};c={style:{set:function(a,b){null!==b&&"object"===typeof b?a.css(b):(d&&a.attr("data-mce-style",b),a.attr("style",b))},get:function(b){var c=b.attr("data-mce-style")||b.attr("style");return c=a.serializeStyle(a.parseStyle(c),b[0].nodeName)}}};
d&&(c.href=c.src=e);return c}function m(a,b){var c=this,d;c.doc=a;c.win=window;c.files={};c.counter=0;c.stdMode=!s||8<=a.documentMode;c.boxModel=!s||"CSS1Compat"==a.compatMode||c.stdMode;c.styleSheetLoader=new l(a);c.boundEvents=[];c.settings=b=b||{};c.schema=b.schema;c.styles=new f({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema);c.fixDoc(a);c.events=b.ownEvents?new e(b.proxy):e.Event;c.attrHooks=t(c,b);d=b.schema?b.schema.getBlockElements():{};c.$=h.overrideDefaults(function(){return{context:a,
element:c.getRoot()}});c.isBlock=function(a){if(!a)return!1;var b=a.nodeType;return b?!(1!==b||!d[a.nodeName]):!!d[a]}}var u=a.each,p=a.is,q=a.grep,v=a.trim,s=g.ie,r=/^([a-z0-9],?)+$/i,w=/^[ \t\r\n]*$/;m.prototype={$$:function(a){"string"==typeof a&&(a=this.get(a));return this.$(a)},root:null,fixDoc:function(a){var b=this.settings,c;if(s&&b.schema)for(c in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,
function(b){a.createElement(b)}),b.schema.getCustomElements())a.createElement(c)},clone:function(a,b){var c=this,d,e;if(!s||1!==a.nodeType||b)return a.cloneNode(b);e=c.doc;return b?d.firstChild:(d=e.createElement(a.nodeName),u(c.getAttribs(a),function(b){c.setAttrib(d,b.nodeName,c.getAttrib(a,b.nodeName))}),d)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(a){var b;a=a?a:this.win;b=a.document;b=this.boxModel?b.documentElement:b.body;return{x:a.pageXOffset||
b.scrollLeft,y:a.pageYOffset||b.scrollTop,w:a.innerWidth||b.clientWidth,h:a.innerHeight||b.clientHeight}},getRect:function(a){var b;a=this.get(a);b=this.getPos(a);a=this.getSize(a);return{x:b.x,y:b.y,w:a.w,h:a.h}},getSize:function(a){var b,c;a=this.get(a);b=this.getStyle(a,"width");c=this.getStyle(a,"height");-1===b.indexOf("px")&&(b=0);-1===c.indexOf("px")&&(c=0);return{w:parseInt(b,10)||a.offsetWidth||a.clientWidth,h:parseInt(c,10)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,
b,c,!1)},getParents:function(a,b,c,d){var e=this,g,l=[];a=e.get(a);d=d===U;c=c||("BODY"!=e.getRoot().nodeName?e.getRoot().parentNode:null);p(b,"string")&&(g=b,b="*"===b?function(a){return 1==a.nodeType}:function(a){return e.is(a,g)});for(;a&&a!=c&&a.nodeType&&9!==a.nodeType;){if(!b||b(a))if(d)l.push(a);else return a;a=a.parentNode}return d?l:null},get:function(a){var b;return a&&this.doc&&"string"==typeof a&&(b=a,(a=this.doc.getElementById(a))&&a.id!==b)?this.doc.getElementsByName(b)[1]:a},getNext:function(a,
b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(a,b){return n(a,this.get(b)||this.settings.root_element||this.doc,[])},is:function(a,b){var c;if(a.length===U){if("*"===b)return 1==a.nodeType;if(r.test(b)){b=b.toLowerCase().split(/,/);a=a.nodeName.toLowerCase();for(c=b.length-1;0<=c;c--)if(b[c]==a)return!0;return!1}}if(a.nodeType&&1!=a.nodeType)return!1;c=a.nodeType?[a]:a;return 0<n(b,c[0].ownerDocument||c[0],null,c).length},
add:function(a,b,c,d,e){var g=this;return this.run(a,function(a){var k;k=p(b,"string")?g.doc.createElement(b):b;g.setAttribs(k,c);d&&(d.nodeType?k.appendChild(d):g.setHTML(k,d));return e?k:a.appendChild(k)})},create:function(a,b,c){return this.add(this.doc.createElement(a),a,b,c,1)},createHTML:function(a,b,c){var d,e;d="<"+a;for(e in b)b.hasOwnProperty(e)&&null!==b[e]&&"undefined"!=typeof b[e]&&(d+=" "+e+'="'+this.encode(b[e])+'"');return"undefined"!=typeof c?d+">"+c+"</"+a+">":d+" />"},createFragment:function(a){var b;
b=this.doc;var c;c=b.createElement("div");b=b.createDocumentFragment();a&&(c.innerHTML=a);for(;a=c.firstChild;)b.appendChild(a);return b},remove:function(a,b){a=this.$$(a);b?a.each(function(){for(var a;a=this.firstChild;)3==a.nodeType&&0===a.data.length?this.removeChild(a):this.parentNode.insertBefore(a,this)}).remove():a.remove();return 1<a.length?a.toArray():a[0]},setStyle:function(a,b,c){a=this.$$(a).css(b,c);this.settings.update_styles&&a.attr("data-mce-style",null)},getStyle:function(a,b,c){a=
this.$$(a);if(c)return a.css(b);b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()});"float"==b&&(b=s?"styleFloat":"cssFloat");return a[0]&&a[0].style?a[0].style[b]:U},setStyles:function(a,b){a=this.$$(a).css(b);this.settings.update_styles&&a.attr("data-mce-style",null)},removeAllAttribs:function(a){return this.run(a,function(a){var b,c=a.attributes;for(b=c.length-1;0<=b;b--)a.removeAttributeNode(c.item(b))})},setAttrib:function(a,b,c){var d,e,g=this.settings;""===c&&(c=null);a=this.$$(a);
d=a.attr(b);if(a.length&&((e=this.attrHooks[b])&&e.set?e.set(a,c,b):a.attr(b,c),d!=c&&g.onSetAttrib))g.onSetAttrib({attrElm:a,attrName:b,attrValue:c})},setAttribs:function(a,b){var c=this;c.$$(a).each(function(a,d){u(b,function(a,b){c.setAttrib(d,b,a)})})},getAttrib:function(a,b,c){var d;a=this.$$(a);a.length&&(d=(d=this.attrHooks[b])&&d.get?d.get(a,b):a.attr(b));"undefined"==typeof d&&(d=c||"");return d},getPos:function(a,b){var c=0,d=0,e;e=this.doc;var g=e.body;a=this.get(a);b=b||g;if(a){if(b===
g&&a.getBoundingClientRect&&"static"===h(g).css("position"))return d=a.getBoundingClientRect(),b=this.boxModel?e.documentElement:g,c=d.left+(e.documentElement.scrollLeft||g.scrollLeft)-b.clientLeft,d=d.top+(e.documentElement.scrollTop||g.scrollTop)-b.clientTop,{x:c,y:d};for(e=a;e&&e!=b&&e.nodeType;)c+=e.offsetLeft||0,d+=e.offsetTop||0,e=e.offsetParent;for(e=a.parentNode;e&&e!=b&&e.nodeType;)c-=e.scrollLeft||0,d-=e.scrollTop||0,e=e.parentNode}return{x:c,y:d}},parseStyle:function(a){return this.styles.parse(a)},
serializeStyle:function(a,b){return this.styles.serialize(a,b)},addStyle:function(a){var b=this.doc,c,d;if(this!==m.DOM&&b===document){c=(c=m.DOM.addedStyles)||[];if(c[a])return;c[a]=!0;m.DOM.addedStyles=c}d=b.getElementById("mceDefaultStyles");d||(d=b.createElement("style"),d.id="mceDefaultStyles",d.type="text/css",c=b.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d));d.styleSheet?d.styleSheet.cssText+=a:d.appendChild(b.createTextNode(a))},loadCSS:function(b){var c=
this,d=c.doc,e;c!==m.DOM&&d===document?m.DOM.loadCSS(b):(b||(b=""),e=d.getElementsByTagName("head")[0],u(b.split(","),function(b){var k;b=a._addCacheSuffix(b);c.files[b]||(c.files[b]=!0,k=c.create("link",{rel:"stylesheet",href:b}),s&&d.documentMode&&d.recalc&&(k.onload=function(){d.recalc&&d.recalc();k.onload=null}),e.appendChild(k))}))},addClass:function(a,b){this.$$(a).addClass(b)},removeClass:function(a,b){this.toggleClass(a,b,!1)},hasClass:function(a,b){return this.$$(a).hasClass(b)},toggleClass:function(a,
b,c){this.$$(a).toggleClass(b,c).each(function(){""===this.className&&h(this).attr("class",null)})},show:function(a){this.$$(a).show()},hide:function(a){this.$$(a).hide()},isHidden:function(a){return"none"==this.$$(a).css("display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(a,b){a=this.$$(a);s?a.each(function(a,c){if(!1!==c.canHaveHTML){for(;c.firstChild;)c.removeChild(c.firstChild);try{c.innerHTML="<br>"+b,c.removeChild(c.firstChild)}catch(d){h("<div>").html("<br>"+
b).contents().slice(1).appendTo(c)}return b}}):a.html(b)},getOuterHTML:function(a){a=this.get(a);return 1==a.nodeType?a.outerHTML:h("<div>").append(h(a).clone()).html()},setOuterHTML:function(a,b){var c=this;c.$$(a).each(function(){try{this.outerHTML=b}catch(a){c.remove(h(this).html(b),!0)}})},decode:b.decode,encode:b.encodeAllRaw,insertAfter:function(a,b){b=this.get(b);return this.run(a,function(a){var c,d;c=b.parentNode;(d=b.nextSibling)?c.insertBefore(a,d):c.appendChild(a);return a})},replace:function(a,
b,c){return this.run(b,function(b){p(b,"array")&&(a=a.cloneNode(!0));c&&u(q(b.childNodes),function(b){a.appendChild(b)});return b.parentNode.replaceChild(a,b)})},rename:function(a,b){var c=this,d;a.nodeName!=b.toUpperCase()&&(d=c.create(b),u(c.getAttribs(a),function(b){c.setAttrib(d,b.nodeName,c.getAttrib(a,b.nodeName))}),c.replace(d,a,1));return d||a},findCommonAncestor:function(a,b){for(var c=a,d;c;){for(d=b;d&&c!=d;)d=d.parentNode;if(c==d)break;c=c.parentNode}return!c&&a.ownerDocument?a.ownerDocument.documentElement:
c},toHex:function(b){return this.styles.toHex(a.trim(b))},run:function(a,b,c){var d=this,e;"string"===typeof a&&(a=d.get(a));if(!a)return!1;c=c||this;return a.nodeType||!a.length&&0!==a.length?b.call(c,a):(e=[],u(a,function(a,k){a&&("string"==typeof a&&(a=d.get(a)),e.push(b.call(c,a,k)))}),e)},getAttribs:function(a){var b;a=this.get(a);if(!a)return[];if(s){b=[];if("OBJECT"==a.nodeName)return a.attributes;"OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"});
a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(a){b.push({specified:1,nodeName:a})});return b}return a.attributes},isEmpty:function(a,b){var d,e,g,l,m,f=0;if(a=a.firstChild){l=new c(a,a.parentNode);b=b||(this.schema?this.schema.getNonEmptyElements():null);do{g=a.nodeType;if(1===g){if(a.getAttribute("data-mce-bogus"))continue;m=a.nodeName.toLowerCase();if(b&&b[m]){if("br"===m){f++;continue}return!1}e=this.getAttribs(a);for(d=
e.length;d--;)if(m=e[d].nodeName,"name"===m||"data-mce-bookmark"===m)return!1}if(8==g||3===g&&!w.test(a.nodeValue))return!1}while(a=l.next())}return 1>=f},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new d(this)},nodeIndex:function(a,b){var c=0,d,e;if(a)for(d=a.nodeType,a=a.previousSibling;a;a=a.previousSibling)if(e=a.nodeType,!b||3!=e||e!=d&&a.nodeValue.length)c++,d=e;return c},split:function(a,b,c){function d(a){var b,c=a.childNodes,g=a.nodeType;if(1!=g||"bookmark"!=
a.getAttribute("data-mce-type")){for(b=c.length-1;0<=b;b--)d(c[b]);if(9!=g){if(3==g&&0<a.nodeValue.length){b=v(a.nodeValue).length;if(!(c=!e.isBlock(a.parentNode))&&!(c=0<b)){if(b=0===b)b=a.nextSibling&&"SPAN"==a.nextSibling.nodeName,b=a.previousSibling&&"SPAN"==a.previousSibling.nodeName&&b;c=b}if(c)return}else if(1==g&&(c=a.childNodes,1==c.length&&c[0]&&1==c[0].nodeType&&"bookmark"==c[0].getAttribute("data-mce-type")&&a.parentNode.insertBefore(c[0],a),c.length||/^(br|hr|input|img)$/i.test(a.nodeName)))return;
e.remove(a)}return a}}var e=this,g=e.createRng(),l,m;if(a&&b)return g.setStart(a.parentNode,e.nodeIndex(a)),g.setEnd(b.parentNode,e.nodeIndex(b)),l=g.extractContents(),g=e.createRng(),g.setStart(b.parentNode,e.nodeIndex(b)+1),g.setEnd(a.parentNode,e.nodeIndex(a)+1),g=g.extractContents(),m=a.parentNode,m.insertBefore(d(l),a),c?m.replaceChild(c,b):m.insertBefore(b,a),m.insertBefore(d(g),a),e.remove(a),c||b},bind:function(b,c,d,e){if(a.isArray(b)){for(var g=b.length;g--;)b[g]=this.bind(b[g],c,d,e);return b}!this.settings.collect||
b!==this.doc&&b!==this.win||this.boundEvents.push([b,c,d,e]);return this.events.bind(b,c,d,e||this)},unbind:function(b,c,d){var e;if(a.isArray(b)){for(e=b.length;e--;)b[e]=this.unbind(b[e],c,d);return b}if(this.boundEvents&&(b===this.doc||b===this.win))for(e=this.boundEvents.length;e--;){var g=this.boundEvents[e];b!=g[0]||c&&c!=g[1]||d&&d!=g[2]||this.events.unbind(g[0],g[1],g[2])}return this.events.unbind(b,c,d)},fire:function(a,b,c){return this.events.fire(a,b,c)},getContentEditable:function(a){var b;
return a&&1==a.nodeType?(b=a.getAttribute("data-mce-contenteditable"))&&"inherit"!==b?b:"inherit"!==a.contentEditable?a.contentEditable:null:null},getContentEditableParent:function(a){for(var b=this.getRoot(),c=null;a&&a!==b&&(c=this.getContentEditable(a),null===c);a=a.parentNode);return c},destroy:function(){if(this.boundEvents){for(var a=this.boundEvents.length;a--;){var b=this.boundEvents[a];this.events.unbind(b[0],b[1],b[2])}this.boundEvents=null}n.setDocument&&n.setDocument();this.win=this.doc=
this.root=this.events=this.frag=null},isChildOf:function(a,b){for(;a;){if(b===a)return!0;a=a.parentNode}return!1},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(a,b,c){var d=this,e=b;if(a)for("string"==typeof e&&(e=function(a){return d.is(a,b)}),a=a[c];a;a=a[c])if(e(a))return a;return null}};m.DOM=new m(document);return m});x("tinymce/dom/ScriptLoader",
["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(n,h){function f(){function b(a,b){function c(){d.remove(l);g&&(g.onreadystatechange=g.onload=g=null);b()}var d=e,g,l;l=d.uniqueId();g=document.createElement("script");g.id=l;g.type="text/javascript";g.src=h._addCacheSuffix(a);"onreadystatechange"in g?g.onreadystatechange=function(){/loaded|complete/.test(g.readyState)&&c()}:g.onload=c;g.onerror=function(){"undefined"!==typeof console&&console.log&&console.log("Failed to load: "+a)};(document.getElementsByTagName("head")[0]||
document.body).appendChild(g)}var g={},a=[],l={},f=[],m=0;this.isDone=function(a){return 2==g[a]};this.markDone=function(a){g[a]=2};this.add=this.load=function(b,c,d){void 0==g[b]&&(a.push(b),g[b]=0);c&&(l[b]||(l[b]=[]),l[b].push({func:c,scope:d||this}))};this.loadQueue=function(b,c){this.loadScripts(a,b,c)};this.loadScripts=function(a,e,q){function h(a){c(l[a],function(a){a.func.call(a.scope)});l[a]=void 0}var s;f.push({func:e,scope:q||this});s=function(){var e=d(a);a.length=0;c(e,function(a){2==
g[a]?h(a):1!=g[a]&&(g[a]=1,m++,b(a,function(){g[a]=2;m--;h(a);s()}))});m||(c(f,function(a){a.func.call(a.scope)}),f.length=0)};s()}}var e=n.DOM,c=h.each,d=h.grep;f.ScriptLoader=new f;return f});x("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(n,h){function f(){this.items=[];this.urls={};this.lookup={}}var e=h.each;f.prototype={get:function(c){return this.lookup[c]?this.lookup[c].instance:U},dependencies:function(c){var d;this.lookup[c]&&(d=this.lookup[c].dependencies);
return d||[]},requireLangPack:function(c,d){var b=f.language;if(b&&!1!==f.languageLoad){if(d)if(d=","+d+",",-1!=d.indexOf(","+b.substr(0,2)+","))b=b.substr(0,2);else if(-1==d.indexOf(","+b+","))return;n.ScriptLoader.add(this.urls[c]+"/langs/"+b+".js")}},add:function(c,d,b){this.items.push(d);this.lookup[c]={instance:d,dependencies:b};return d},createUrl:function(c,d){return"object"===typeof d?d:{prefix:c.prefix,resource:d,suffix:c.suffix}},addComponents:function(c,d){var b=this.urls[c];e(d,function(c){n.ScriptLoader.add(b+
"/"+c)})},load:function(c,d,b,g){function a(){var a=l.dependencies(c);e(a,function(a){a=l.createUrl(d,a);l.load(a.resource,a,U,U)});b&&(g?b.call(g):b.call(n))}var l=this,t=d;l.urls[c]||("object"===typeof d&&(t=d.prefix+d.resource+d.suffix),0!==t.indexOf("/")&&-1==t.indexOf("://")&&(t=f.baseURL+"/"+t),l.urls[c]=t.substring(0,t.lastIndexOf("/")),l.lookup[c]?a():n.ScriptLoader.add(t,a,g))}};f.PluginManager=new f;f.ThemeManager=new f;return f});x("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker"],
function(n,h){function f(c,b){var e=c.childNodes;b--;b>e.length-1?b=e.length-1:0>b&&(b=0);return e[b]||c}function e(d){this.walk=function(b,e){function a(a){var b;b=a[0];3===b.nodeType&&b===u&&p>=b.nodeValue.length&&a.splice(0,1);b=a[a.length-1];0===h&&0<a.length&&b===q&&3===b.nodeType&&a.splice(a.length-1,1);return a}function l(a,b,c){for(var d=[];a&&a!=c;a=a[b])d.push(a);return d}function t(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function m(b,c,d){var m=d?"nextSibling":"previousSibling";
w=b;for(k=w.parentNode;w&&w!=c;w=k)k=w.parentNode,B=l(w==b?w:w[m],m),B.length&&(d||B.reverse(),e(a(B)))}var u=b.startContainer,p=b.startOffset,q=b.endContainer,h=b.endOffset,s,r,w,k,B;r=d.select("td.mce-item-selected,th.mce-item-selected");if(0<r.length)c(r,function(a){e([a])});else{1==u.nodeType&&u.hasChildNodes()&&(u=u.childNodes[p]);1==q.nodeType&&q.hasChildNodes()&&(q=f(q,h));if(u==q)return e(a([u]));s=d.findCommonAncestor(u,q);for(w=u;w;w=w.parentNode){if(w===q)return m(u,s,!0);if(w===s)break}for(w=
q;w;w=w.parentNode){if(w===u)return m(q,s);if(w===s)break}r=t(u,s)||u;s=t(q,s)||q;m(u,r,!0);B=l(r==u?r:r.nextSibling,"nextSibling",s==q?s.nextSibling:s);B.length&&e(a(B));m(q,s)}};this.split=function(b){var c=b.startContainer,a=b.startOffset,d=b.endContainer;b=b.endOffset;c==d&&3==c.nodeType?0<a&&a<c.nodeValue.length&&(d=c.splitText(a),c=d.previousSibling,b>a?(c=d=d.splitText(b-a).previousSibling,b=d.nodeValue.length,a=0):b=0):(3==c.nodeType&&0<a&&a<c.nodeValue.length&&(c=c.splitText(a),a=0),3==d.nodeType&&
0<b&&b<d.nodeValue.length&&(d=d.splitText(b).previousSibling,b=d.nodeValue.length));return{startContainer:c,startOffset:a,endContainer:d,endOffset:b}};this.normalize=function(b){function c(g){function m(a,b){for(var c=new h(a,d.getParent(a.parentNode,d.isBlock)||s);a=c[b?"prev":"next"]();)if("BR"===a.nodeName)return!0}function f(b,c){var g,k;c=c||p;g=d.getParent(c.parentNode,d.isBlock)||s;if(b&&"BR"==c.nodeName&&B&&d.isEmpty(g))p=c.parentNode,q=d.nodeIndex(c),a=!0;else{for(g=new h(c,g);r=g[b?"prev":
"next"]();){if("false"===d.getContentEditableParent(r))return;if(3===r.nodeType&&0<r.nodeValue.length){p=r;q=b?r.nodeValue.length:0;a=!0;return}if(d.isBlock(r)||w[r.nodeName.toLowerCase()])return;k=r}e&&k&&(p=k,a=!0,q=0)}}var p,q,v,s=d.getRoot(),r,w,k,B;p=b[(g?"start":"end")+"Container"];q=b[(g?"start":"end")+"Offset"];B=1==p.nodeType&&q===p.childNodes.length;w=d.schema.getNonEmptyElements();k=g;1==p.nodeType&&q>p.childNodes.length-1&&(k=!1);9===p.nodeType&&(p=d.getRoot(),q=0);if(p===s){if(k&&(r=
p.childNodes[0<q?q-1:0])&&(w[r.nodeName]||"TABLE"==r.nodeName))return;if(p.hasChildNodes()&&(q=Math.min(!k&&0<q?q-1:q,p.childNodes.length-1),p=p.childNodes[q],q=0,p.hasChildNodes()&&!/TABLE/.test(p.nodeName))){r=p;v=new h(p,s);do{if(3===r.nodeType&&0<r.nodeValue.length){q=k?0:r.nodeValue.length;p=r;a=!0;break}if(w[r.nodeName.toLowerCase()]){q=d.nodeIndex(r);p=r.parentNode;"IMG"!=r.nodeName||k||q++;a=!0;break}}while(r=k?v.next():v.prev())}}e&&(3===p.nodeType&&0===q&&f(!0),1===p.nodeType&&((r=p.childNodes[q])||
(r=p.childNodes[q-1]),!r||"BR"!==r.nodeName||r.previousSibling&&"A"==r.previousSibling.nodeName||m(r)||m(r,!0)||f(!0,r)));k&&!e&&3===p.nodeType&&q===p.nodeValue.length&&f(!1);if(a)b["set"+(g?"Start":"End")](p,q)}var a,e;e=b.collapsed;c(!0);e||c();a&&e&&b.collapse(!0);return a}}var c=n.each;e.compareRanges=function(c,b){if(c&&b)if(c.item||c.duplicate){if(c.item&&b.item&&c.item(0)===b.item(0)||c.isEqual&&b.isEqual&&b.isEqual(c))return!0}else return c.startContainer==b.startContainer&&c.startOffset==
b.startOffset;return!1};return e});x("tinymce/NodeChange",["tinymce/dom/RangeUtils"],function(n){return function(h){var f,e=[];if(!("onselectionchange"in h.getDoc()))h.on("NodeChange Click MouseUp KeyUp Focus",function(c){var d;d=h.selection.getRng();d={startContainer:d.startContainer,startOffset:d.startOffset,endContainer:d.endContainer,endOffset:d.endOffset};"nodechange"!=c.type&&n.compareRanges(d,f)||h.fire("SelectionChange");f=d});h.on("contextmenu",function(){h.fire("SelectionChange")});h.on("SelectionChange",
function(){var c=h.selection.getStart(!0),d;if(d=!h.selection.isCollapsed()){a:{var b;b=h.$(c).parentsUntil(h.getBody()).add(c);if(b.length===e.length){for(d=b.length;0<=d&&b[d]===e[d];d--);if(-1===d){e=b;d=!0;break a}}e=b;d=!1}d=!d&&h.dom.isChildOf(c,h.getBody())}d&&h.nodeChanged({selectionChange:!0})});h.on("MouseUp",function(c){c.isDefaultPrevented()||setTimeout(function(){h.nodeChanged()},0)});this.nodeChanged=function(c){var d=h.selection,b,e,a;h.initialized&&d&&!h.settings.disable_nodechange&&
!h.settings.readonly&&(a=h.getBody(),b=d.getStart()||a,b=b.ownerDocument!=h.getDoc()?h.getBody():b,"IMG"==b.nodeName&&d.isCollapsed()&&(b=b.parentNode),e=[],h.dom.getParent(b,function(b){if(b===a)return!0;e.push(b)}),c=c||{},c.element=b,c.parents=e,h.fire("NodeChange",c))}}});x("tinymce/html/Node",[],function(){function n(c,d,b){var e;e=b?"lastChild":"firstChild";b=b?"prev":"next";if(c[e])return c[e];if(c!==d){if(e=c[b])return e;for(c=c.parent;c&&c!==d;c=c.parent)if(e=c[b])return e}}function h(c,
d){this.name=c;this.type=d;1===d&&(this.attributes=[],this.attributes.map={})}var f=/^[ \t\r\n]*$/,e={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};h.prototype={replace:function(c){c.parent&&c.remove();this.insert(c,this);this.remove();return this},attr:function(c,d){var b,e;if("string"!==typeof c){for(e in c)this.attr(e,c[e]);return this}if(b=this.attributes){if(void 0!==d){if(null===d){if(c in b.map)for(delete b.map[c],e=b.length;e--;)if(b[e].name===c){b.splice(e,
1);break}return this}if(c in b.map)for(e=b.length;e--;){if(b[e].name===c){b[e].value=d;break}}else b.push({name:c,value:d});b.map[c]=d;return this}return b.map[c]}},clone:function(){var c=new h(this.name,this.type),d,b,e,a,l;if(e=this.attributes){l=[];l.map={};d=0;for(b=e.length;d<b;d++)a=e[d],"id"!==a.name&&(l[l.length]={name:a.name,value:a.value},l.map[a.name]=a.value);c.attributes=l}c.value=this.value;c.shortEnded=this.shortEnded;return c},wrap:function(c){this.parent.insert(c,this);c.append(this);
return this},unwrap:function(){var c,d;for(c=this.firstChild;c;)d=c.next,this.insert(c,this,!0),c=d;this.remove()},remove:function(){var c=this.parent,d=this.next,b=this.prev;if(c){if(c.firstChild===this){if(c.firstChild=d)d.prev=null}else b.next=d;if(c.lastChild===this){if(c.lastChild=b)b.next=null}else d.prev=b;this.parent=this.next=this.prev=null}return this},append:function(c){var d;c.parent&&c.remove();(d=this.lastChild)?(d.next=c,c.prev=d,this.lastChild=c):this.lastChild=this.firstChild=c;c.parent=
this;return c},insert:function(c,d,b){var e;c.parent&&c.remove();e=d.parent||this;b?(d===e.firstChild?e.firstChild=c:d.prev.next=c,c.prev=d.prev,c.next=d,d.prev=c):(d===e.lastChild?e.lastChild=c:d.next.prev=c,c.next=d.next,c.prev=d,d.next=c);c.parent=e;return c},getAll:function(c){var d,b=[];for(d=this.firstChild;d;d=n(d,this))d.name===c&&b.push(d);return b},empty:function(){var c,d,b;if(this.firstChild){c=[];for(b=this.firstChild;b;b=n(b,this))c.push(b);for(d=c.length;d--;)b=c[d],b.parent=b.firstChild=
b.lastChild=b.next=b.prev=null}this.firstChild=this.lastChild=null;return this},isEmpty:function(c){var d=this.firstChild,b,e;if(d){do{if(1===d.type){if(d.attributes.map["data-mce-bogus"])continue;if(c[d.name])return!1;for(b=d.attributes.length;b--;)if(e=d.attributes[b].name,"name"===e||0===e.indexOf("data-mce-bookmark"))return!1}if(8===d.type||3===d.type&&!f.test(d.value))return!1}while(d=n(d,this))}return!0},walk:function(c){return n(this,null,c)}};h.create=function(c,d){var b,g;b=new h(c,e[c]||
1);if(d)for(g in d)b.attr(g,d[g]);return b};return h});x("tinymce/html/Schema",["tinymce/util/Tools"],function(n){function h(a,b){return a?a.split(b||" "):[]}function f(a,b){function e(a,b,c){function l(a,b){var c={},d,e;d=0;for(e=a.length;d<e;d++)c[a[d]]=b||{};return c}var g,k;k=arguments;c=c||[];b=b||"";"string"===typeof c&&(c=h(c));for(g=3;g<k.length;g++)"string"===typeof k[g]&&(k[g]=h(k[g])),c.push.apply(c,k[g]);a=h(a);for(g=a.length;g--;)k=[].concat(t,h(b)),f[a[g]]={attributes:l(k),attributesOrder:k,
children:l(c,d)}}function l(a,b){var c,d,e,g;a=h(a);c=a.length;for(b=h(b);c--;)for(d=f[a[c]],e=0,g=b.length;e<g;e++)d.attributes[b[e]]={},d.attributesOrder.push(b[e])}var f={},t,r,w,k,B;if(c[a])return c[a];t=h("id accesskey class dir lang style tabindex title");eventAttributes=h("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting");
r=h("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul");w=h("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment");b.allow_events&&(t=t.concat(t,eventAttributes));"html4"!=a&&(t.push.apply(t,h("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),r.push.apply(r,h("article aside details dialog figure header footer hgroup section nav")),
w.push.apply(w,h("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen")));"html5-strict"!=a&&(t.push("xml:lang"),B=h("acronym applet basefont big font strike tt"),w.push.apply(w,B),g(B,function(a){e(a,"",w)}),B=h("center dir isindex noframes"),r.push.apply(r,B),k=[].concat(r,w),g(B,function(a){e(a,"",k)}));k=k||[].concat(r,w);e("html","manifest","head body");e("head","","base command link meta noscript script style title");e("title hr noscript br");e("base","href target");
e("link","href rel media hreflang type sizes hreflang");e("meta","name http-equiv content charset");e("style","media type scoped");e("script","src async defer type charset");e("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",k);e("address dt dd div caption","",k);e("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn",
"",w);e("blockquote","cite",k);e("ol","reversed start type","li");e("ul","","li");e("li","value",k);e("dl","","dt dd");e("a","href target rel media hreflang type",w);e("q","cite",w);e("ins del","cite datetime",k);e("img","src srcset alt usemap ismap width height");e("iframe","src name width height",k);e("embed","src type width height");e("object","data type typemustmatch name usemap form width height",k,"param");e("param","name value");e("map","name",k,"area");e("area","alt coords shape href target rel media hreflang type");
e("table","border","caption colgroup thead tfoot tbody tr"+("html4"==a?" col":""));e("colgroup","span","col");e("col","span");e("tbody thead tfoot","","tr");e("tr","","td th");e("td","colspan rowspan headers",k);e("th","colspan rowspan headers scope abbr",k);e("form","accept-charset action autocomplete enctype method name novalidate target",k);e("fieldset","disabled form name",k,"legend");e("label","form for",w);e("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");
e("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==a?k:w);e("select","disabled form multiple name required size","option optgroup");e("optgroup","disabled label","option");e("option","disabled label selected value");e("textarea","cols dirname disabled form maxlength name readonly required rows wrap");e("menu","type label",k,"li");e("noscript","",k);"html4"!=a&&(e("wbr"),e("ruby","",w,"rt rp"),e("figcaption","",k),e("mark rt rp summary bdi",
"",w),e("canvas","width height",k),e("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",k,"track source"),e("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",k,"track source"),e("picture","","img source"),e("source","src srcset type media sizes"),e("track","kind src srclang label default"),e("datalist","",w,"option"),e("article section nav aside header footer","",k),e("hgroup","","h1 h2 h3 h4 h5 h6"),e("figure",
"",k,"figcaption"),e("time","datetime",w),e("dialog","open",k),e("command","type label icon disabled checked radiogroup command"),e("output","for form name",w),e("progress","value max",w),e("meter","value min max low high optimum",w),e("details","open",k,"summary"),e("keygen","autofocus challenge disabled form keytype name"));"html5-strict"!=a&&(l("script","language xml:space"),l("style","xml:space"),l("object","declare classid code codebase codetype archive standby align border hspace vspace"),l("embed",
"align name hspace vspace"),l("param","valuetype type"),l("a","charset name rev shape coords"),l("br","clear"),l("applet","codebase archive code object alt name width height align hspace vspace"),l("img","name longdesc align border hspace vspace"),l("iframe","longdesc frameborder marginwidth marginheight scrolling align"),l("font basefont","size color face"),l("input","usemap align"),l("select","onchange"),l("textarea"),l("h1 h2 h3 h4 h5 h6 div p legend caption","align"),l("ul","type compact"),l("li",
"type"),l("ol dl menu dir","compact"),l("pre","width xml:space"),l("hr","align noshade size width"),l("isindex","prompt"),l("table","summary width frame rules cellspacing cellpadding align bgcolor"),l("col","width align char charoff valign"),l("colgroup","width align char charoff valign"),l("thead","align char charoff valign"),l("tr","align char charoff valign bgcolor"),l("th","axis align char charoff valign nowrap bgcolor width height"),l("form","accept"),l("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),
l("tfoot","align char charoff valign"),l("tbody","align char charoff valign"),l("area","nohref"),l("body","background bgcolor text link vlink alink"));"html4"!=a&&(l("input button select textarea","autofocus"),l("input textarea","placeholder"),l("a","download"),l("link script img","crossorigin"),l("iframe","sandbox seamless allowfullscreen"));g(h("a form meter progress dfn"),function(a){f[a]&&delete f[a].children[a]});delete f.caption.children.table;return c[a]=f}function e(a,c){var d;a&&(d={},"string"==
typeof a&&(a={"*":a}),g(a,function(a,e){d[e]="map"==c?b(a,/[, ]/):l(a,/[, ]/)}));return d}var c={},d={},b=n.makeMap,g=n.each,a=n.extend,l=n.explode,t=n.inArray;return function(d){function u(e,g,l){var k=d[e];k?k=b(k,/[, ]/,b(k.toUpperCase(),/[, ]/)):(k=c[e],k||(k=b(g," ",b(g.toUpperCase()," ")),k=a(k,l),c[e]=k));return k}function p(a){var c,d,e,g,l,k,f,m,r,p,s,u,q,v,n,y,F,z,ia=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,A=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,H=/[*?+]/;
if(a)for(a=h(a,","),w["@"]&&(y=w["@"].attributes,F=w["@"].attributesOrder),c=0,d=a.length;c<d;c++)if(l=ia.exec(a[c])){v=l[1];r=l[2];n=l[3];m=l[5];u={};q=[];k={attributes:u,attributesOrder:q};"#"===v&&(k.paddEmpty=!0);"-"===v&&(k.removeEmpty=!0);"!"===l[4]&&(k.removeEmptyAttrs=!0);if(y){for(z in y)u[z]=y[z];q.push.apply(q,F)}if(m)for(m=h(m,"|"),e=0,g=m.length;e<g;e++)if(l=A.exec(m[e]))f={},s=l[1],p=l[2].replace(/::/g,":"),v=l[3],l=l[4],"!"===s&&(k.attributesRequired=k.attributesRequired||[],k.attributesRequired.push(p),
f.required=!0),"-"===s?(delete u[p],q.splice(t(q,p),1)):(v&&("="===v&&(k.attributesDefault=k.attributesDefault||[],k.attributesDefault.push({name:p,value:l}),f.defaultValue=l),":"===v&&(k.attributesForced=k.attributesForced||[],k.attributesForced.push({name:p,value:l}),f.forcedValue=l),"<"===v&&(f.validValues=b(l,"?"))),H.test(p)?(k.attributePatterns=k.attributePatterns||[],f.pattern=RegExp("^"+p.replace(/([?+*])/g,".$1")+"$"),k.attributePatterns.push(f)):(u[p]||q.push(p),u[p]=f));y||"@"!=r||(y=u,
F=q);n&&(k.outputName=r,w[n]=k);H.test(r)?(k.pattern=RegExp("^"+r.replace(/([?+*])/g,".$1")+"$"),B.push(k)):w[r]=k}}function q(a){w={};B=[];p(a);g(z,function(a,b){k[b]=a.children})}function v(b){var d=/^(~)?(.+)$/;b&&(c.text_block_elements=c.block_elements=null,g(h(b,","),function(b){b=d.exec(b);var c="~"===b[1],e=c?"span":"div",l=b[2];k[l]=k[e];A[l]=e;c||(E[l.toUpperCase()]={},E[l]={});w[l]||(b=w[e],b=a({},b),delete b.removeEmptyAttrs,delete b.removeEmpty,w[l]=b);g(k,function(b,c){b[e]&&(k[c]=b=
a({},k[c]),b[l]=b[e])})}))}function s(b){var c=/^([+\-]?)(\w+)\[([^\]]+)\]$/;b&&g(h(b,","),function(b){var d=c.exec(b),e,l;d&&(e=(l=d[1])?k[d[2]]:k[d[2]]={"#comment":{}},e=k[d[2]],g(h(d[3],"|"),function(b){"-"===l?(k[d[2]]=e=a({},k[d[2]]),delete e[b]):e[b]={}}))})}function r(a){var b=w[a],c;if(b)return b;for(c=B.length;c--;)if(b=B[c],b.pattern.test(a))return b}var w={},k={},B=[],n,y,z,K,D,G,x,H,E,N,M,P,A={},C={};d=d||{};z=f(d.schema,d);!1===d.verify_html&&(d.valid_elements="*[*]");n=e(d.valid_styles);
y=e(d.invalid_styles,"map");H=e(d.valid_classes,"map");K=u("whitespace_elements","pre script noscript style textarea video audio iframe object");D=u("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");G=u("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");x=u("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");N=
u("non_empty_elements","td th iframe video audio object script",G);M=u("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");E=u("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup",M);P=u("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");g((d.special||"script noscript style textarea").split(" "),
function(a){C[a]=RegExp("</"+a+"[^>]*>","gi")});d.valid_elements?q(d.valid_elements):(g(z,function(a,b){w[b]={attributes:a.attributes,attributesOrder:a.attributesOrder};k[b]=a.children}),"html5"!=d.schema&&g(h("strong/b em/i"),function(a){a=h(a,"/");w[a[1]].outputName=a[0]}),w.img.attributesDefault=[{name:"alt",value:""}],g(h("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){w[a]&&(w[a].removeEmpty=!0)}),g(h("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(a){w[a].paddEmpty=
!0}),g(h("span"),function(a){w[a].removeEmptyAttrs=!0}));v(d.custom_elements);s(d.valid_children);p(d.extended_valid_elements);s("+ol[ul|ol],+ul[ul|ol]");d.invalid_elements&&g(l(d.invalid_elements),function(a){w[a]&&delete w[a]});r("span")||p("span[!data-mce-type|*]");this.children=k;this.getValidStyles=function(){return n};this.getInvalidStyles=function(){return y};this.getValidClasses=function(){return H};this.getBoolAttrs=function(){return x};this.getBlockElements=function(){return E};this.getTextBlockElements=
function(){return M};this.getTextInlineElements=function(){return P};this.getShortEndedElements=function(){return G};this.getSelfClosingElements=function(){return D};this.getNonEmptyElements=function(){return N};this.getWhiteSpaceElements=function(){return K};this.getSpecialElements=function(){return C};this.isValidChild=function(a,b){var c=k[a];return!(!c||!c[b])};this.isValid=function(a,b){var c,d;if(c=r(a))if(b){if(c.attributes[b])return!0;if(c=c.attributePatterns)for(d=c.length;d--;)if(c[d].pattern.test(a))return!0}else return!0;
return!1};this.getElementRule=r;this.getCustomElements=function(){return A};this.addValidElements=p;this.setValidElements=q;this.addCustomElements=v;this.addValidChildren=s;this.elements=w}});x("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(n,h,f){function e(b,c,a){var d=1,e,f;f=b.getShortEndedElements();b=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(b.lastIndex=a;e=b.exec(c);){a=b.lastIndex;
if("/"===e[1])d--;else if(!e[1]){if(e[2]in f)continue;d++}if(0===d)break}return a}function c(b,c){function a(){}var l=this;b=b||{};l.schema=c=c||new n;!1!==b.fix_self_closing&&(b.fix_self_closing=!0);d("comment cdata text start end pi doctype".split(" "),function(c){c&&(l[c]=b[c]||a)});l.parse=function(a){function d(a){var b,c;for(b=w.length;b--&&w[b].name!==a;);if(0<=b){for(c=w.length-1;c>=b;c--)a=w[c],a.valid&&p.end(a.name);w.length=b}}function l(a,c,d,e,g){a=/[\s\u0000-\u001F]+/g;c=c.toLowerCase();
d=c in G?c:Y(d||e||g||"");if(x&&!z&&0!==c.indexOf("data-")){e=P[c];if(!e&&A){for(g=A.length;g--&&(e=A[g],!e.pattern.test(c)););-1===g&&(e=null)}if(!e||e.validValues&&!(d in e.validValues))return}if(V[c]&&!b.allow_script_urls){a=d.replace(a,"");try{a=decodeURIComponent(a)}catch(f){a=unescape(a)}if(Z.test(a)||!b.allow_html_data_urls&&$.test(a)&&!/^data:image\//i.test(a))return}k.map[c]=d;k.push({name:c,value:d})}var p=this,q,v=0,s,r,w=[],k,B,n,y,z,K,D,G,x,H,E,N,M,P,A,C,R,O,S,I,J,Q=0,Y=h.decode,W,V=
f.makeMap("src,href,data,background,formaction,poster"),Z=/((java|vb)script|mhtml):/i,$=/^data:/i;S=RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g");I=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;D=c.getShortEndedElements();O=b.self_closing_elements||c.getSelfClosingElements();
G=c.getBoolAttrs();x=b.validate;K=b.remove_internals;W=b.fix_self_closing;for(J=c.getSpecialElements();q=S.exec(a);){v<q.index&&p.text(Y(a.substr(v,q.index-v)));if(s=q[6])s=s.toLowerCase(),":"===s.charAt(0)&&(s=s.substr(1)),d(s);else if(s=q[7]){s=s.toLowerCase();":"===s.charAt(0)&&(s=s.substr(1));v=s in D;W&&O[s]&&0<w.length&&w[w.length-1].name===s&&d(s);if(!x||(H=c.getElementRule(s))){E=!0;x&&(P=H.attributes,A=H.attributePatterns);(M=q[8])?((z=-1!==M.indexOf("data-mce-type"))&&K&&(E=!1),k=[],k.map=
{},M.replace(I,l)):(k=[],k.map={});if(x&&!z){r=H.attributesRequired;C=H.attributesDefault;R=H.attributesForced;(B=H.removeEmptyAttrs)&&!k.length&&(E=!1);if(R)for(B=R.length;B--;)N=R[B],y=N.name,N=N.value,"{$uid}"===N&&(N="mce_"+Q++),k.map[y]=N,k.push({name:y,value:N});if(C)for(B=C.length;B--;)N=C[B],y=N.name,y in k.map||(N=N.value,"{$uid}"===N&&(N="mce_"+Q++),k.map[y]=N,k.push({name:y,value:N}));if(r){for(B=r.length;B--&&!(r[B]in k.map););-1===B&&(E=!1)}if(N=k.map["data-mce-bogus"]){if("all"===N){v=
e(c,a,S.lastIndex);S.lastIndex=v;continue}E=!1}}E&&p.start(s,k,v)}else E=!1;if(r=J[s]){r.lastIndex=v=q.index+q[0].length;(q=r.exec(a))?(E&&(n=a.substr(v,q.index-v)),v=q.index+q[0].length):(n=a.substr(v),v=a.length);E&&(0<n.length&&p.text(n,!0),p.end(s));S.lastIndex=v;continue}v||(M&&M.indexOf("/")==M.length-1?E&&p.end(s):w.push({name:s,valid:E}))}else(s=q[1])?(">"===s.charAt(0)&&(s=" "+s),b.allow_conditional_comments||"[if"!==s.substr(0,3)||(s=" "+s),p.comment(s)):(s=q[2])?p.cdata(s):(s=q[3])?p.doctype(s):
(s=q[4])&&p.pi(s,q[5]);v=q.index+q[0].length}v<a.length&&p.text(Y(a.substr(v)));for(B=w.length-1;0<=B;B--)s=w[B],s.valid&&p.end(s.name)}}var d=f.each;c.findEndTag=e;return c});x("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(n,h,f,e){var c=e.makeMap,d=e.each,b=e.explode,g=e.extend;return function(a,e){function t(a){var b,d,g,f,t,p,u,q,h,v,x,H;v=c("tr,td,th,tbody,thead,tfoot,table");h=e.getNonEmptyElements();x=e.getTextBlockElements();
for(b=0;b<a.length;b++)if(d=a[b],d.parent&&!d.fixed)if(x[d.name]&&"li"==d.parent.name){for(g=d.next;g;){if(x[g.name])g.name="li",g.fixed=!0,d.parent.insert(g,d.parent);else break;g=g.next}d.unwrap(d)}else{f=[d];for(g=d.parent;g&&!e.isValidChild(g.name,d.name)&&!v[g.name];g=g.parent)f.push(g);if(g&&1<f.length){f.reverse();t=p=m.filterNode(f[0].clone());for(q=0;q<f.length-1;q++){e.isValidChild(p.name,f[q].name)?(u=m.filterNode(f[q].clone()),p.append(u)):u=p;for(p=f[q].firstChild;p&&p!=f[q+1];)H=p.next,
u.append(p),p=H;p=u}t.isEmpty(h)?g.insert(d,f[0],!0):(g.insert(t,f[0],!0),g.insert(d,t));g=f[0];(g.isEmpty(h)||g.firstChild===g.lastChild&&"br"===g.firstChild.name)&&g.empty().remove()}else d.parent&&("li"===d.name?(g=d.prev,!g||"ul"!==g.name&&"ul"!==g.name?(g=d.next,!g||"ul"!==g.name&&"ul"!==g.name?d.wrap(m.filterNode(new n("ul",1))):g.insert(d,g.firstChild,!0)):g.append(d)):e.isValidChild(d.parent.name,"div")&&e.isValidChild("div",d.name)?d.wrap(m.filterNode(new n("div",1))):"style"===d.name||"script"===
d.name?d.empty().remove():d.unwrap())}}var m=this,u={},p=[],q={},v={};a=a||{};a.validate="validate"in a?a.validate:!0;a.root_name=a.root_name||"body";m.schema=e=e||new h;m.filterNode=function(a){var b,c,d;c in u&&((d=q[c])?d.push(a):q[c]=[a]);for(b=p.length;b--;)c=p[b].name,c in a.attributes.map&&((d=v[c])?d.push(a):v[c]=[a]);return a};m.addNodeFilter=function(a,c){d(b(a),function(a){var b=u[a];b||(u[a]=b=[]);b.push(c)})};m.addAttributeFilter=function(a,c){d(b(a),function(a){var b;for(b=0;b<p.length;b++)if(p[b].name===
a){p[b].callbacks.push(c);return}p.push({name:a,callbacks:[c]})})};m.parse=function(b,d){function m(){function b(a){a&&((c=a.firstChild)&&3==c.type&&(c.value=c.value.replace(M,"")),(c=a.lastChild)&&3==c.type&&(c.value=c.value.replace(C,"")))}var c=y.firstChild,d,g;if(e.isValidChild(y.name,Q.toLowerCase())){for(;c;)d=c.next,3==c.type||1==c.type&&"p"!==c.name&&!N[c.name]&&!c.attr("data-mce-type")?(g||(g=k(Q,1),g.attr(a.forced_root_block_attrs),y.insert(g,c)),g.append(c)):(b(g),g=null),c=d;b(g)}}function k(a,
b){var c=new n(a,b),d;a in u&&((d=q[a])?d.push(c):q[a]=[c]);return c}function h(a){var b;for(a=a.prev;a&&3===a.type;)b=a.value.replace(C,""),0<b.length?(a.value=b,a=a.prev):(b=a.prev,a.remove(),a=b)}var F,y,z,K,D,x,L,H,E,N,M,P=[],A,C,R,O,S,I,J,Q;d=d||{};q={};v={};N=g(c("script,style,head,html,body,title,meta,param"),e.getBlockElements());J=e.getNonEmptyElements();I=e.children;E=a.validate;Q="forced_root_block"in d?d.forced_root_block:a.forced_root_block;S=e.getWhiteSpaceElements();M=/^[ \t\r\n]+/;
C=/[ \t\r\n]+$/;R=/[ \t\r\n]+/g;O=/^[ \t\r\n]+$/;F=new f({validate:E,allow_script_urls:a.allow_script_urls,allow_conditional_comments:a.allow_conditional_comments,self_closing_elements:function(a){var b,c={};for(b in a)"li"!==b&&"p"!=b&&(c[b]=a[b]);return c}(e.getSelfClosingElements()),cdata:function(a){z.append(k("#cdata",4)).value=a},text:function(a,b){var c;A||(a=a.replace(R," "),z.lastChild&&N[z.lastChild.name]&&(a=a.replace(M,"")));0!==a.length&&(c=k("#text",3),c.raw=!!b,z.append(c).value=a)},
comment:function(a){z.append(k("#comment",8)).value=a},pi:function(a,b){z.append(k(a,7)).value=b;h(z)},doctype:function(a){z.append(k("#doctype",10)).value=a;h(z)},start:function(a,b,c){var d,g,f;if(d=E?e.getElementRule(a):{}){d=k(d.outputName||a,1);d.attributes=b;d.shortEnded=c;z.append(d);(g=I[z.name])&&I[d.name]&&!g[d.name]&&P.push(d);for(g=p.length;g--;)f=p[g].name,f in b.map&&((H=v[f])?H.push(d):v[f]=[d]);N[a]&&h(d);c||(z=d);!A&&S[a]&&(A=!0)}},end:function(a){var b,c,d,g;if(c=E?e.getElementRule(a):
{}){if(N[a]&&!A){if((b=z.firstChild)&&3===b.type)if(d=b.value.replace(M,""),0<d.length)b.value=d;else for(g=b.next,b.remove(),b=g;b&&3===b.type;)d=b.value,g=b.next,(0===d.length||O.test(d))&&b.remove(),b=g;if((b=z.lastChild)&&3===b.type)if(d=b.value.replace(C,""),0<d.length)b.value=d;else for(g=b.prev,b.remove(),b=g;b&&3===b.type;)d=b.value,g=b.prev,(0===d.length||O.test(d))&&b.remove(),b=g}A&&S[a]&&(A=!1);if((c.removeEmpty||c.paddEmpty)&&z.isEmpty(J))if(c.paddEmpty)z.empty().append(new n("#text",
"3")).value="\u00a0";else if(!z.attributes.map.name&&!z.attributes.map.id){a=z.parent;N[z.name]?z.empty().remove():z.unwrap();z=a;return}z=z.parent}}},e);y=z=new n(d.context||a.root_name,11);F.parse(b);E&&P.length&&(d.context?d.invalid=!0:t(P));Q&&("body"==y.name||d.isRootContent)&&m();if(!d.invalid){for(L in q){H=u[L];F=q[L];for(x=F.length;x--;)F[x].parent||F.splice(x,1);K=0;for(D=H.length;K<D;K++)H[K](F,L,d)}K=0;for(D=p.length;K<D;K++)if(H=p[K],H.name in v){F=v[H.name];for(x=F.length;x--;)F[x].parent||
F.splice(x,1);x=0;for(L=H.callbacks.length;x<L;x++)H.callbacks[x](F,H.name,d)}}return y};a.remove_trailing_brs&&m.addNodeFilter("br",function(a){var b,c=a.length,d,f=g({},e.getBlockElements()),m=e.getNonEmptyElements(),t,p,u;f.body=1;for(b=0;b<c;b++)if(d=a[b],t=d.parent,f[d.parent.name]&&d===t.lastChild){for(p=d.prev;p;){u=p.name;if("span"!==u||"bookmark"!==p.attr("data-mce-type")){if("br"!==u)break;if("br"===u){d=null;break}}p=p.prev}d&&(d.remove(),t.isEmpty(m)&&(d=e.getElementRule(t.name)))&&(d.removeEmpty?
t.remove():d.paddEmpty&&(t.empty().append(new n("#text",3)).value="\u00a0"))}else{for(p=d;t&&t.firstChild===p&&t.lastChild===p;){p=t;if(f[t.name])break;t=t.parent}p===t&&(t=new n("#text",3),t.value="\u00a0",d.replace(t))}});a.allow_html_in_named_anchor||m.addAttributeFilter("id,name",function(a){for(var b=a.length,c,d,e,g;b--;)if(g=a[b],"a"===g.name&&g.firstChild&&!g.attr("href")){e=g.parent;c=g.lastChild;do d=c.prev,e.insert(c,g),c=d;while(c)}});a.validate&&e.getValidClasses()&&m.addAttributeFilter("class",
function(a){for(var b=a.length,c,d,g,f,m,t=e.getValidClasses(),p,u;b--;){c=a[b];d=c.attr("class").split(" ");m="";for(g=0;g<d.length;g++)f=d[g],u=!1,(p=t["*"])&&p[f]&&(u=!0),p=t[c.name],u||!p||p[f]||(u=!0),u&&(m&&(m+=" "),m+=f);m.length||(m=null);c.attr("class",m)}})}});x("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(n,h){var f=h.makeMap;return function(e){var c=[],d,b,g,a,l;e=e||{};d=e.indent;b=f(e.indent_before||"");g=f(e.indent_after||"");a=n.getEncodeFunc(e.entity_encoding||
"raw",e.entities);l="html"==e.element_format;return{start:function(e,f,u){var p,q,h;d&&b[e]&&0<c.length&&(p=c[c.length-1],0<p.length&&"\n"!==p&&c.push("\n"));c.push("<",e);if(f)for(p=0,q=f.length;p<q;p++)h=f[p],c.push(" ",h.name,'="',a(h.value,!0),'"');c[c.length]=!u||l?">":" />";u&&d&&g[e]&&0<c.length&&(p=c[c.length-1],0<p.length&&"\n"!==p&&c.push("\n"))},end:function(a){c.push("</",a,">");d&&g[a]&&0<c.length&&(a=c[c.length-1],0<a.length&&"\n"!==a&&c.push("\n"))},text:function(b,d){0<b.length&&(c[c.length]=
d?b:a(b))},cdata:function(a){c.push("<![CDATA[",a,"]]\x3e")},comment:function(a){c.push("\x3c!--",a,"--\x3e")},pi:function(a,b){b?c.push("<?",a," ",b,"?>"):c.push("<?",a,"?>");d&&c.push("\n")},doctype:function(a){c.push("<!DOCTYPE",a,">",d?"\n":"")},reset:function(){c.length=0},getContent:function(){return c.join("").replace(/\n$/,"")}}}});x("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(n,h){return function(f,e){var c=new n(f);f=f||{};f.validate="validate"in f?f.validate:
!0;this.schema=e=e||new h;this.writer=c;this.serialize=function(d){function b(d){var f=g[d.type],m,u,p,q,h,s,r,w;if(f)f(d);else{f=d.name;m=d.shortEnded;u=d.attributes;if(a&&u&&1<u.length){h=[];h.map={};w=e.getElementRule(d.name);s=0;for(r=w.attributesOrder.length;s<r;s++)p=w.attributesOrder[s],p in u.map&&(q=u.map[p],h.map[p]=q,h.push({name:p,value:q}));s=0;for(r=u.length;s<r;s++)p=u[s].name,p in h.map||(q=u.map[p],h.map[p]=q,h.push({name:p,value:q}));u=h}c.start(d.name,u,m);if(!m){if(d=d.firstChild){do b(d);
while(d=d.next)}c.end(f)}}}var g,a;a=f.validate;g={3:function(a){c.text(a.value,a.raw)},8:function(a){c.comment(a.value)},7:function(a){c.pi(a.name,a.value)},10:function(a){c.doctype(a.value)},4:function(a){c.cdata(a.value)},11:function(a){if(a=a.firstChild){do b(a);while(a=a.next)}}};c.reset();if(1!=d.type||f.inner)g[11](d);else b(d);return c.getContent()}}});x("tinymce/dom/Serializer","tinymce/dom/DOMUtils tinymce/html/DomParser tinymce/html/Entities tinymce/html/Serializer tinymce/html/Node tinymce/html/Schema tinymce/Env tinymce/util/Tools".split(" "),
function(n,h,f,e,c,d,b,g){var a=g.each,l=g.trim,t=n.DOM;return function(c,g){var p,q,v;g&&(p=g.dom,q=g.schema);p=p||t;q=q||new d(c);c.entity_encoding=c.entity_encoding||"named";c.remove_trailing_brs="remove_trailing_brs"in c?c.remove_trailing_brs:!0;v=new h(c,q);v.addAttributeFilter("data-mce-tabindex",function(a,b){for(var c=a.length,d;c--;)d=a[c],d.attr("tabindex",d.attributes.map["data-mce-tabindex"]),d.attr(b,null)});v.addAttributeFilter("src,href,style",function(a,b){for(var d=a.length,e,g,l=
"data-mce-"+b,f=c.url_converter,t=c.url_converter_scope;d--;)e=a[d],g=e.attributes.map[l],void 0!==g?(e.attr(b,0<g.length?g:null),e.attr(l,null)):(g=e.attributes.map[b],"style"===b?g=p.serializeStyle(p.parseStyle(g),e.name):f&&(g=f.call(t,g,b,e.name)),e.attr(b,0<g.length?g:null))});v.addAttributeFilter("class",function(a){for(var b=a.length,c,d;b--;)if(c=a[b],d=c.attr("class"))d=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",0<d.length?d:null)});v.addAttributeFilter("data-mce-type",
function(a,b,c){b=a.length;for(var d;b--;)d=a[b],"bookmark"!==d.attributes.map["data-mce-type"]||c.cleanup||d.remove()});v.addNodeFilter("noscript",function(a){for(var b=a.length,c;b--;)if(c=a[b].firstChild)c.value=f.decode(c.value)});v.addNodeFilter("script,style",function(a,b){function c(a){return a.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((\x3c!--)?(\s*\/\/)?\s*<!\[CDATA\[|(\x3c!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*\x3c!--|\/\*\s*\x3c!--\s*\*\/)\s*[\r\n]*/gi,
"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(--\x3e)?|\s*\/\/\s*\]\]>(--\x3e)?|\/\/\s*(--\x3e)?|\]\]>|\/\*\s*--\x3e\s*\*\/|\s*--\x3e\s*)\s*$/g,"")}for(var d=a.length,e,g,l;d--;)e=a[d],g=e.firstChild?e.firstChild.value:"","script"===b?((l=e.attr("type"))&&e.attr("type","mce-no/type"==l?null:l.replace(/^mce\-/,"")),0<g.length&&(e.firstChild.value="// <![CDATA[\n"+c(g)+"\n// ]]\x3e")):0<g.length&&(e.firstChild.value="\x3c!--\n"+c(g)+"\n--\x3e")});v.addNodeFilter("#comment",function(a){for(var b=a.length,c;b--;)c=
a[b],0===c.value.indexOf("[CDATA[")?(c.name="#cdata",c.type=4,c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===c.value.indexOf("mce:protected ")&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))});v.addNodeFilter("xml:namespace,input",function(a,b){for(var c=a.length,d;c--;)d=a[c],7===d.type?d.remove():1===d.type&&("input"!==b||"type"in d.attributes.map||d.attr("type","text"))});c.fix_list_elements&&v.addNodeFilter("ul,ol",function(a){for(var b=a.length,c,d;b--;)c=a[b],
d=c.parent,("ul"===d.name||"ol"===d.name)&&c.prev&&"li"===c.prev.name&&c.prev.append(c)});v.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)});return{schema:q,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:function(d,g){var f,k,t;b.ie&&0<p.select("script,style,select,map").length?(f=d.innerHTML,d=d.cloneNode(!1),p.setHTML(d,f)):d=d.cloneNode(!0);
f=d.ownerDocument.implementation;f.createHTMLDocument&&(k=f.createHTMLDocument(""),a("BODY"==d.nodeName?d.childNodes:[d],function(a){k.body.appendChild(k.importNode(a,!0))}),d="BODY"!=d.nodeName?k.body.firstChild:k.body,t=p.doc,p.doc=k);g=g||{};g.format=g.format||"html";g.selection&&(g.forced_root_block="");g.no_events||(g.node=d,this.onPreProcess(g));f=new e(c,q);g.content=f.serialize(v.parse(l(g.getInner?d.innerHTML:p.getOuterHTML(d)),g));g.cleanup||(g.content=g.content.replace(/\uFEFF/g,""));if(!g.no_events)this.onPostProcess(g);
t&&(p.doc=t);g.node=null;return g.content},addRules:function(a){q.addValidElements(a)},setRules:function(a){q.setValidElements(a)},onPreProcess:function(a){g&&g.fire("PreProcess",a)},onPostProcess:function(a){g&&g.fire("PostProcess",a)}}}});x("tinymce/dom/TridentSelection",[],function(){return function(n){function h(c,b){var e,a=0,l,f,m,u,p,q=-1,h;e=c.duplicate();e.collapse(b);h=e.parentElement();if(h.ownerDocument===n.dom.doc){for(;"false"===h.contentEditable;)h=h.parentNode;if(!h.hasChildNodes())return{node:h,
inside:1};m=h.children;for(l=m.length-1;a<=l;)if(p=Math.floor((a+l)/2),u=m[p],e.moveToElementText(u),q=e.compareEndPoints(b?"StartToStart":"EndToEnd",c),0<q)l=p-1;else if(0>q)a=p+1;else return{node:u};if(0>q)for(u?e.collapse(!1):(e.moveToElementText(h),e.collapse(!0),u=h,f=!0),a=0;0!==e.compareEndPoints(b?"StartToStart":"StartToEnd",c)&&0!==e.move("character",1)&&h==e.parentElement();)a++;else for(e.collapse(!0),a=0;0!==e.compareEndPoints(b?"StartToStart":"StartToEnd",c)&&0!==e.move("character",-1)&&
h==e.parentElement();)a++;return{node:u,position:q,offset:a,inside:f}}}var f=this,e=n.dom,c=!1;this.getBookmark=function(c){function b(a){var b,c,d,g,l=[];b=a.parentNode;for(c=e.getRoot().parentNode;b!=c&&9!==b.nodeType;){d=b.children;for(g=d.length;g--;)if(a===d[g]){l.push(g);break}a=b;b=b.parentNode}return l}function g(c){if(c=h(a,c))return{position:c.position,offset:c.offset,indexes:b(c.node),inside:c.inside}}var a=n.getRng(),l={};2===c&&(a.item?l.start={ctrl:!0,indexes:b(a.item(0))}:(l.start=
g(!0),n.isCollapsed()||(l.end=g())));return l};this.moveToBookmark=function(c){function b(a){var b,c,d,g;b=e.getRoot();for(c=a.length-1;0<=c;c--)g=b.children,d=a[c],d<=g.length-1&&(b=g[d]);return b}function g(e){var g=c[e?"start":"end"],f,p,h;g&&(f=0<g.position,p=l.createTextRange(),p.moveToElementText(b(g.indexes)),h=g.offset,void 0!==h?(p.collapse(g.inside||f),p.moveStart("character",f?-h:h)):p.collapse(e),a.setEndPoint(e?"StartToStart":"EndToStart",p),e&&a.collapse(!0))}var a,l=e.doc.body;c.start&&
(c.start.ctrl?(a=l.createControlRange(),a.addElement(b(c.start.indexes))):(a=l.createTextRange(),g(!0),g()),a.select())};this.addRange=function(d){function b(a){var b,d,r,s,v;r=e.create("a");b=a?l:m;d=a?f:u;s=g.duplicate();if(b==p||b==p.documentElement)b=h,d=0;3==b.nodeType?(b.parentNode.insertBefore(r,b),s.moveToElementText(r),s.moveStart("character",d),e.remove(r),g.setEndPoint(a?"StartToStart":"EndToEnd",s)):(v=b.childNodes,v.length?(d>=v.length?e.insertAfter(r,v[v.length-1]):b.insertBefore(r,
v[d]),s.moveToElementText(r)):b.canHaveHTML&&(b.innerHTML="<span>&#xFEFF;</span>",r=b.firstChild,s.moveToElementText(r),s.collapse(c)),g.setEndPoint(a?"StartToStart":"EndToEnd",s),e.remove(r))}var g,a,l,f,m,u,p=n.dom.doc,h=p.body,v,s;l=d.startContainer;f=d.startOffset;m=d.endContainer;u=d.endOffset;g=h.createTextRange();if(l==m&&1==l.nodeType){if(f==u&&!l.hasChildNodes()){if(l.canHaveHTML){(d=l.previousSibling)&&!d.hasChildNodes()&&e.isBlock(d)?d.innerHTML="&#xFEFF;":d=null;l.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>";
g.moveToElementText(l.lastChild);g.select();e.doc.selection.clear();l.innerHTML="";d&&(d.innerHTML="");return}f=e.nodeIndex(l);l=l.parentNode}if(f==u-1)try{if(s=l.childNodes[f],a=h.createControlRange(),a.addElement(s),a.select(),v=n.getRng(),v.item&&s===v.item(0))return}catch(r){}}b(!0);b();g.select()};this.getRangeAt=function(){function c(a){var d=h(b,a),e,l,f=0,m;e=d.node;l=d.offset;if(d.inside&&!e.hasChildNodes())g[a?"setStart":"setEnd"](e,0);else if(void 0===l)g[a?"setStartBefore":"setEndAfter"](e);
else{if(0>d.position){d=d.inside?e.firstChild:e.nextSibling;if(!d){g[a?"setStartAfter":"setEndAfter"](e);return}if(!l){if(3==d.nodeType)g[a?"setStart":"setEnd"](d,0);else g[a?"setStartBefore":"setEndBefore"](d);return}for(;d;){if(3==d.nodeType&&(m=d.nodeValue,f+=m.length,f>=l)){e=d;f-=l;f=m.length-f;break}d=d.nextSibling}}else{d=e.previousSibling;if(!d)return g[a?"setStartBefore":"setEndBefore"](e);if(!l){if(3==e.nodeType)g[a?"setStart":"setEnd"](d,e.nodeValue.length);else g[a?"setStartAfter":"setEndAfter"](d);
return}for(;d;){if(3==d.nodeType&&(f+=d.nodeValue.length,f>=l)){e=d;f-=l;break}d=d.previousSibling}}g[a?"setStart":"setEnd"](e,f)}}var b=n.getRng(),g=e.createRng(),a,l,t,m;a=b.item?b.item(0):b.parentElement();if(a.ownerDocument!=e.doc)return g;l=n.isCollapsed();if(b.item)return g.setStart(a.parentNode,e.nodeIndex(a)),g.setEnd(g.startContainer,g.startOffset+1),g;try{c(!0),l||c()}catch(u){if(-2147024809==u.number)m=f.getBookmark(2),t=b.duplicate(),t.collapse(!0),a=t.parentElement(),l||(t=b.duplicate(),
t.collapse(!1),t=t.parentElement(),t.innerHTML=t.innerHTML),a.innerHTML=a.innerHTML,f.moveToBookmark(m),b=n.getRng(),c(!0),l||c();else throw u;}return g}}});x("tinymce/util/VK",["tinymce/Env"],function(n){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(h){return h.shiftKey||h.ctrlKey||h.altKey||this.metaKeyPressed(h)},metaKeyPressed:function(h){return n.mac?h.metaKey:h.ctrlKey&&!h.altKey}}});x("tinymce/dom/ControlSelection",["tinymce/util/VK",
"tinymce/util/Tools","tinymce/Env"],function(n,h,f){return function(e,c){function d(a){var b=c.settings.object_resizing;if(!1===b||f.iOS)return!1;"string"!=typeof b&&(b="table,img,div");return"false"===a.getAttribute("data-mce-resize")?!1:c.dom.is(a,b)}function b(a){var b,d,e;b=a.screenX-D;d=a.screenY-G;A=b*z[2]+E;C=d*z[3]+N;A=5>A?5:A;C=5>C?5:C;if("IMG"==k.nodeName&&!1!==c.settings.resize_img_proportional?!n.modifierPressed(a):n.modifierPressed(a)||"IMG"==k.nodeName&&0!==z[2]*z[3])I(b)>I(d)?(C=J(A*
M),A=J(C/M)):(A=J(C/M),C=J(A*M));r.setStyles(B,{width:A,height:C});a=z.startPos.x+b;e=z.startPos.y+d;a=0<a?a:0;e=0<e?e:0;r.setStyles(F,{left:a,top:e,display:"block"});F.innerHTML=A+" &times; "+C;0>z[2]&&B.clientWidth<=A&&r.setStyle(B,"left",L+(E-A));0>z[3]&&B.clientHeight<=C&&r.setStyle(B,"top",H+(N-C));b=Q.scrollWidth-Y;d=Q.scrollHeight-W;0!==b+d&&r.setStyles(F,{left:a-b,top:e-d});P||(c.fire("ObjectResizeStart",{target:k,width:E,height:N}),P=!0)}function g(){function d(a,b){b&&(k.style[a]||!c.schema.isValid(k.nodeName.toLowerCase(),
a)?r.setStyle(k,a,b):r.setAttrib(k,a,b))}P=!1;d("width",A);d("height",C);r.unbind(R,"mousemove",b);r.unbind(R,"mouseup",g);O!=R&&(r.unbind(O,"mousemove",b),r.unbind(O,"mouseup",g));r.remove(B);r.remove(F);S&&"TABLE"!=k.nodeName||a(k);c.fire("ObjectResized",{target:k,width:A,height:C});r.setAttrib(k,"style",r.getAttrib(k,"style"));c.nodeChanged()}function a(a,e,m){var t,h,u;q();t=r.getPos(a,Q);L=t.x;H=t.y;t=a.getBoundingClientRect();h=t.width||t.right-t.left;u=t.height||t.bottom-t.top;k!=a&&(p(),k=
a,A=C=0);t=c.fire("ObjectSelected",{target:a});d(a)&&!t.isDefaultPrevented()?w(y,function(a,c){function d(c){D=c.screenX;G=c.screenY;E=k.clientWidth;N=k.clientHeight;M=N/E;z=a;a.startPos={x:h*a[0]+L,y:u*a[1]+H};Y=Q.scrollWidth;W=Q.scrollHeight;B=k.cloneNode(!0);r.addClass(B,"mce-clonedresizable");r.setAttrib(B,"data-mce-bogus","all");B.contentEditable=!1;B.unSelectabe=!0;r.setStyles(B,{left:L,top:H,margin:0});B.removeAttribute("data-mce-selected");Q.appendChild(B);r.bind(R,"mousemove",b);r.bind(R,
"mouseup",g);O!=R&&(r.bind(O,"mousemove",b),r.bind(O,"mouseup",g));F=r.add(Q,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},E+" &times; "+N)}var l;e?c==e&&d(m):((l=r.get("mceResizeHandle"+c))?r.show(l):(l=Q,l=r.add(l,"div",{id:"mceResizeHandle"+c,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+c+"-resize; margin:0; padding:0"}),f.ie&&(l.contentEditable=!1)),a.elm||(r.bind(l,"mousedown",function(a){a.stopImmediatePropagation();a.preventDefault();d(a)}),
a.elm=l),r.setStyles(l,{left:h*a[0]+L-l.offsetWidth/2,top:u*a[1]+H-l.offsetHeight/2}))}):l();k.setAttribute("data-mce-selected","1")}function l(){var a,b;q();k&&k.removeAttribute("data-mce-selected");for(a in y)if(b=r.get("mceResizeHandle"+a))r.unbind(b),r.remove(b)}function t(b){function c(a,b){if(a){do if(a===b)return!0;while(a=a.parentNode)}}var d;if(!P){w(r.select("img[data-mce-selected],hr[data-mce-selected]"),function(a){a.removeAttribute("data-mce-selected")});d="mousedown"==b.type?b.target:
e.getNode();d=r.$(d).closest(S?"table":"table,img,hr")[0];if(c(d,Q)&&(v(),b=e.getStart(!0),c(b,d)&&c(e.getEnd(!0),d)&&(!S||d!=b&&"IMG"!==b.nodeName))){a(d);return}l()}}function m(b){b=b.srcElement;var d,e,g,l,f,m;d=b.getBoundingClientRect();f=x.clientX-d.left;m=x.clientY-d.top;for(e in y)if(d=y[e],g=b.offsetWidth*d[0],l=b.offsetHeight*d[1],8>I(g-f)&&8>I(l-m)){z=d;break}P=!0;c.fire("ObjectResizeStart",{target:k,width:k.clientWidth,height:k.clientHeight});c.getDoc().selection.empty();a(b,e,x)}function u(a){var b=
a.srcElement;if(b!=k)if(c.fire("ObjectSelected",{target:b}),p(),0===b.id.indexOf("mceResizeHandle"))a.returnValue=!1;else if("IMG"==b.nodeName||"TABLE"==b.nodeName)l(),(k=b)&&b.attachEvent&&b.attachEvent("onresizestart",m)}function p(){k&&k.detachEvent&&k.detachEvent("onresizestart",m)}function q(){for(var a in y){var b=y[a];b.elm&&(r.unbind(b.elm),delete b.elm)}}function v(){try{c.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(a){}}function s(a){var b;if(S){b=R.body.createControlRange();
try{return b.addElement(a),b.select(),!0}catch(c){}}}var r=c.dom,w=h.each,k,B,F,y,z,x,D,G,L,H,E,N,M,P,A,C,R=c.getDoc(),O=document,S=f.ie&&11>f.ie,I=Math.abs,J=Math.round,Q=c.getBody(),Y,W;y={n:[0.5,0,0,-1],e:[1,0.5,1,0],s:[0.5,1,0,1],w:[0,0.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};c.contentStyles.push(".mce-content-body div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: "+(zenarioAB.isOpen?31E4:1E4)+"}.mce-content-body .mce-resizehandle:hover {background: #000}.mce-content-body img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}.mce-content-body .mce-clonedresizable {position: absolute;"+
(f.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: "+(zenarioAB.isOpen?31E4:1E4)+"}.mce-content-body .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");c.on("init",function(){S?(c.on("ObjectResized",function(a){"TABLE"!=a.target.nodeName&&(l(),
s(a.target))}),Q&&Q.attachEvent&&Q.attachEvent("oncontrolselect",u),c.on("mousedown",function(a){x=a})):(v(),11<=f.ie&&(c.on("mouseup",function(a){var b=a.target.nodeName;!P&&/^(TABLE|IMG|HR)$/.test(b)&&(c.selection.select(a.target,"TABLE"==b),c.nodeChanged())}),c.dom.bind(Q,"mscontrolselect",function(a){/^(TABLE|IMG|HR)$/.test(a.target.nodeName)&&(a.preventDefault(),"IMG"==a.target.tagName&&window.setTimeout(function(){c.selection.select(a.target)},0))})));c.on("nodechange ResizeEditor",t);c.on("keydown keyup",
function(a){k&&"TABLE"==k.nodeName&&t(a)});c.on("hide",l)});c.on("remove",q);return{isResizable:d,showResizeRect:a,hideResizeRect:l,updateResizeRect:t,controlSelect:s,destroy:function(){k=B=null;S&&(p(),Q&&Q.detachEvent&&Q.detachEvent("oncontrolselect",u))}}}});x("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools"],function(n,h){function f(e){var c=e.dom;this.getBookmark=function(d,b){function g(a,b){var d=0;h.each(c.select(a),function(a,c){a==b&&(d=c)});return d}function a(a){function b(c){var d,
e;e=c?"start":"end";d=a[e+"Container"];e=a[e+"Offset"];1==d.nodeType&&"TR"==d.nodeName&&(d=d.childNodes,d=d[Math.min(c?e:e-1,d.length-1)])&&(e=c?0:d.childNodes.length,a["set"+(c?"Start":"End")](d,e))}b(!0);b();return a}function l(){function a(d,e){var l=d[e?"startContainer":"endContainer"],f=d[e?"startOffset":"endOffset"],m=[],k,p=0;if(3==l.nodeType){if(b)for(k=l.previousSibling;k&&3==k.nodeType;k=k.previousSibling)f+=k.nodeValue.length;m.push(f)}else k=l.childNodes,f>=k.length&&k.length&&(p=1,f=
Math.max(0,k.length-1)),m.push(c.nodeIndex(k[f],b)+p);for(;l&&l!=g;l=l.parentNode)m.push(c.nodeIndex(l,b));return m}var d=e.getRng(!0),g=c.getRoot(),l={};l.start=a(d,!0);e.isCollapsed()||(l.end=a(d));return l}var f,m,u,p,q;if(2==d)return m=(q=e.getNode())?q.nodeName:null,"IMG"==m?{name:m,index:g(m,q)}:e.tridentSel?e.tridentSel.getBookmark(d):l();if(d)return{rng:e.getRng()};f=e.getRng();u=c.uniqueId();p=e.isCollapsed();if(f.duplicate||f.item){if(f.item)return q=f.item(0),m=q.nodeName,{name:m,index:g(m,
q)};m=f.duplicate();try{f.collapse(),f.pasteHTML('<span data-mce-type="bookmark" id="'+u+'_start" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'),p||(m.collapse(!1),f.moveToElementText(m.parentElement()),0===f.compareEndPoints("StartToEnd",m)&&m.move("character",-1),m.pasteHTML('<span data-mce-type="bookmark" id="'+u+'_end" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'))}catch(v){return null}}else{q=e.getNode();m=q.nodeName;if("IMG"==m)return{name:m,index:g(m,q)};m=a(f.cloneRange());
p||(m.collapse(!1),m.insertNode(c.create("span",{"data-mce-type":"bookmark",id:u+"_end",style:"overflow:hidden;line-height:0px"},"&#xFEFF;")));f=a(f);f.collapse(!0);f.insertNode(c.create("span",{"data-mce-type":"bookmark",id:u+"_start",style:"overflow:hidden;line-height:0px"},"&#xFEFF;"))}e.moveToBookmark({id:u,keep:1});return{id:u}};this.moveToBookmark=function(d){function b(a){var b=d[a?"start":"end"],c,e,g;if(b){g=b[0];e=f;for(c=b.length-1;1<=c;c--){e=e.childNodes;if(b[c]>e.length-1)return;e=e[b[c]]}3===
e.nodeType&&(g=Math.min(b[0],e.nodeValue.length));1===e.nodeType&&(g=Math.min(b[0],e.childNodes.length));a?l.setStart(e,g):l.setEnd(e,g)}return!0}function g(a){var b=c.get(d.id+"_"+a),e,g,l;l=d.keep;if(b&&(e=b.parentNode,"start"==a?(l?(e=b.firstChild,g=1):g=c.nodeIndex(b),m=u=e,p=q=g):(l?(e=b.firstChild,g=1):g=c.nodeIndex(b),u=e,q=g),!l)){l=b.previousSibling;e=b.nextSibling;for(h.each(h.grep(b.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});b=c.get(d.id+"_"+
a);)c.remove(b,1);l&&e&&l.nodeType==e.nodeType&&3==l.nodeType&&!n.opera&&(g=l.nodeValue.length,l.appendData(e.nodeValue),c.remove(e),"start"==a?(m=u=l,p=q=g):(u=l,q=g))}}function a(a){!c.isBlock(a)||a.innerHTML||n.ie||(a.innerHTML='<br data-mce-bogus="1" />');return a}var l,f,m,u,p,q;if(d)if(d.start){l=c.createRng();f=c.getRoot();if(e.tridentSel)return e.tridentSel.moveToBookmark(d);b(!0)&&b()&&e.setRng(l)}else d.id?(g("start"),g("end"),m&&(l=c.createRng(),l.setStart(a(m),p),l.setEnd(a(u),q),e.setRng(l))):
d.name?e.select(c.select(d.name)[d.index]):d.rng&&e.setRng(d.rng)}}f.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")};return f});x("tinymce/dom/Selection","tinymce/dom/TreeWalker tinymce/dom/TridentSelection tinymce/dom/ControlSelection tinymce/dom/RangeUtils tinymce/dom/BookmarkManager tinymce/Env tinymce/util/Tools".split(" "),function(n,h,f,e,c,d,b){function g(a,b,d,e){this.dom=a;this.win=b;this.serializer=d;this.editor=e;this.bookmarkManager=
new c(this);this.controlSelection=new f(this,e);this.win.getSelection||(this.tridentSel=new h(this))}var a=b.each,l=b.trim,t=d.ie;g.prototype={setCursorLocation:function(a,b){var c=this.dom.createRng();a?(c.setStart(a,b),c.setEnd(a,b),this.setRng(c),this.collapse(!1)):(this._moveEndPoint(c,this.editor.getBody(),!0),this.setRng(c))},getContent:function(a){var b=this.getRng(),c=this.dom.create("body"),d=this.getSel(),e,g;a=a||{};e=g="";a.get=!0;a.format=a.format||"html";a.selection=!0;this.editor.fire("BeforeGetContent",
a);if("text"==a.format)return this.isCollapsed()?"":b.text||(d.toString?d.toString():"");b.cloneContents?(b=b.cloneContents())&&c.appendChild(b):b.item!==U||b.htmlText!==U?(c.innerHTML="<br>"+(b.item?b.item(0).outerHTML:b.htmlText),c.removeChild(c.firstChild)):c.innerHTML=b.toString();/^\s/.test(c.innerHTML)&&(e=" ");/\s+$/.test(c.innerHTML)&&(g=" ");a.getInner=!0;a.content=this.isCollapsed()?"":e+this.serializer.serialize(c,a)+g;this.editor.fire("GetContent",a);return a.content},setContent:function(a,
b){var c=this.getRng(),d,e=this.win.document,g;b=b||{format:"html"};b.set=!0;b.selection=!0;b.content=a;b.no_events||this.editor.fire("BeforeSetContent",b);a=b.content;if(c.insertNode){a+='<span id="__caret">_</span>';c.startContainer==e&&c.endContainer==e?e.body.innerHTML=a:(c.deleteContents(),0===e.body.childNodes.length?e.body.innerHTML=a:c.createContextualFragment?c.insertNode(c.createContextualFragment(a)):(d=e.createDocumentFragment(),g=e.createElement("div"),d.appendChild(g),g.outerHTML=a,
c.insertNode(d)));d=this.dom.get("__caret");c=e.createRange();c.setStartBefore(d);c.setEndBefore(d);this.setRng(c);this.dom.remove("__caret");try{this.setRng(c)}catch(l){}}else c.item&&(e.execCommand("Delete",!1,null),c=this.getRng()),/^\s+/.test(a)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+a),this.dom.remove("__mce_tmp")):c.pasteHTML(a);b.no_events||this.editor.fire("SetContent",b)},getStart:function(a){var b=this.getRng(),c;if(b.duplicate||b.item){if(b.item)return b.item(0);c=b.duplicate();c.collapse(1);
c=c.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());for(b=a=b.parentElement();a=a.parentNode;)if(a==c){c=b;break}return c}c=b.startContainer;1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||(c=c.childNodes[Math.min(c.childNodes.length-1,b.startOffset)]));return c&&3==c.nodeType?c.parentNode:c},getEnd:function(a){var b=this.getRng(),c,d;if(b.duplicate||b.item){if(b.item)return b.item(0);b=b.duplicate();b.collapse(0);c=b.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());
return c&&"BODY"==c.nodeName?c.lastChild||c:c}c=b.endContainer;d=b.endOffset;1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||(c=c.childNodes[0<d?d-1:d]));return c&&3==c.nodeType?c.parentNode:c},getBookmark:function(a,b){return this.bookmarkManager.getBookmark(a,b)},moveToBookmark:function(a){return this.bookmarkManager.moveToBookmark(a)},select:function(a,b){var c=this.dom,d=c.createRng();this.lastFocusBookmark=null;if(a){if(!b&&this.controlSelection.controlSelect(a))return;c=c.nodeIndex(a);d.setStart(a.parentNode,
c);d.setEnd(a.parentNode,c+1);b&&(this._moveEndPoint(d,a,!0),this._moveEndPoint(d,a));this.setRng(d)}return a},isCollapsed:function(){var a=this.getRng(),b=this.getSel();return!a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!b||a.collapsed},collapse:function(a){var b=this.getRng(),c;b.item&&(c=b.item(0),b=this.win.document.body.createTextRange(),b.moveToElementText(c));b.collapse(!!a);this.setRng(b)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},
getRng:function(a){function b(a,c,d){try{return c.compareBoundaryPoints(a,d)}catch(e){return-1}}var c,d,e=this.win.document,g;if(!a&&this.lastFocusBookmark)return a=this.lastFocusBookmark,a.startContainer?(d=e.createRange(),d.setStart(a.startContainer,a.startOffset),d.setEnd(a.endContainer,a.endOffset)):d=a,d;if(a&&this.tridentSel)return this.tridentSel.getRangeAt(0);try{if(c=this.getSel())d=0<c.rangeCount?c.getRangeAt(0):c.createRange?c.createRange():e.createRange()}catch(l){}if(t&&d&&d.setStart&&
e.selection){try{g=e.selection.createRange()}catch(f){}g&&g.item&&(a=g.item(0),d=e.createRange(),d.setStartBefore(a),d.setEndAfter(a))}d||(d=e.createRange?e.createRange():e.body.createTextRange());d.setStart&&9===d.startContainer.nodeType&&d.collapsed&&(a=this.dom.getRoot(),d.setStart(a,0),d.setEnd(a,0));this.selectedRange&&this.explicitRange&&(0===b(d.START_TO_START,d,this.selectedRange)&&0===b(d.END_TO_END,d,this.selectedRange)?d=this.explicitRange:this.explicitRange=this.selectedRange=null);return d},
setRng:function(a,b){var c;if(a)if(a.select)try{a.select()}catch(d){}else if(!this.tridentSel){if(c=this.getSel()){this.explicitRange=a;try{c.removeAllRanges(),c.addRange(a)}catch(e){}!1===b&&c.extend&&(c.collapse(a.endContainer,a.endOffset),c.extend(a.startContainer,a.startOffset));this.selectedRange=0<c.rangeCount?c.getRangeAt(0):null}}else if(a.cloneRange)try{this.tridentSel.addRange(a)}catch(g){}},setNode:function(a){this.setContent(this.dom.getOuterHTML(a));return a},getNode:function(){function a(b,
c){for(var d=b;b&&3===b.nodeType&&0===b.length;)b=c?b.nextSibling:b.previousSibling;return b||d}var b=this.getRng(),c,d=b.startContainer,e=b.endContainer,g=b.startOffset,l=b.endOffset,f=this.dom.getRoot();if(!b)return f;if(b.setStart)return c=b.commonAncestorContainer,!b.collapsed&&(d==e&&2>l-g&&d.hasChildNodes()&&(c=d.childNodes[g]),3===d.nodeType&&3===e.nodeType&&(d=d.length===g?a(d.nextSibling,!0):d.parentNode,e=0===l?a(e.previousSibling,!1):e.parentNode,d&&d===e))?d:c&&3==c.nodeType?c.parentNode:
c;c=b.item?b.item(0):b.parentElement();c.ownerDocument!==this.win.document&&(c=f);return c},getSelectedBlocks:function(a,b){var c=this.dom,d,e,g=[];e=c.getRoot();a=c.getParent(a||this.getStart(),c.isBlock);b=c.getParent(b||this.getEnd(),c.isBlock);a&&a!=e&&g.push(a);if(a&&b&&a!=b){d=a;for(var l=new n(a,e);(d=l.next())&&d!=b;)c.isBlock(d)&&g.push(d)}b&&a!=b&&b!=e&&g.push(b);return g},isForward:function(){var a=this.dom,b=this.getSel(),c;if(!b||!b.anchorNode||!b.focusNode)return!0;c=a.createRng();c.setStart(b.anchorNode,
b.anchorOffset);c.collapse(!0);a=a.createRng();a.setStart(b.focusNode,b.focusOffset);a.collapse(!0);return 0>=c.compareBoundaryPoints(c.START_TO_START,a)},normalize:function(){var a=this.getRng();!t&&(new e(this.dom)).normalize(a)&&this.setRng(a,this.isForward());return a},selectorChanged:function(b,c){var d=this,e;d.selectorChangedData||(d.selectorChangedData={},e={},d.editor.on("NodeChange",function(b){var c=b.element,g=d.dom,l=g.getParents(c,null,g.getRoot()),f={};a(d.selectorChangedData,function(b,
c){a(l,function(d){if(g.is(d,c))return e[c]||(a(b,function(a){a(!0,{node:d,selector:c,parents:l})}),e[c]=b),f[c]=b,!1})});a(e,function(b,d){f[d]||(delete e[d],a(b,function(a){a(!1,{node:c,selector:d,parents:l})}))})}));d.selectorChangedData[b]||(d.selectorChangedData[b]=[]);d.selectorChangedData[b].push(c);return d},getScrollContainer:function(){for(var a,b=this.dom.getRoot();b&&"BODY"!=b.nodeName;){if(b.scrollHeight>b.clientHeight){a=b;break}b=b.parentNode}return a},scrollIntoView:function(a){function b(a){for(var c=
0,d=0;a&&a.nodeType;)c+=a.offsetLeft||0,d+=a.offsetTop||0,a=a.offsetParent;return{x:c,y:d}}var c,d=this.dom,e;if("BODY"!=d.getRoot().nodeName&&(c=this.getScrollContainer())){a=b(a).y-b(c).y;e=c.clientHeight;d=c.scrollTop;if(a<d||a+25>d+e)c.scrollTop=a<d?a:a-e+25;return}c=d.getViewPort(this.editor.getWin());a=d.getPos(a).y;d=c.y;e=c.h;(a<c.y||a+25>d+e)&&this.editor.getWin().scrollTo(0,a<d?a:a-e+25)},placeCaretAt:function(a,b){var c=this.editor.getDoc(),d,e;if(c.caretPositionFromPoint)e=c.caretPositionFromPoint(a,
b),d=c.createRange(),d.setStart(e.offsetNode,e.offset),d.collapse(!0);else if(c.caretRangeFromPoint)d=c.caretRangeFromPoint(a,b);else if(c.body.createTextRange){d=c.body.createTextRange();try{d.moveToPoint(a,b),d.collapse(!0)}catch(g){d.collapse(b<c.body.clientHeight)}}this.setRng(d)},_moveEndPoint:function(a,b,c){var e=b,g=new n(b,e),f=this.dom.schema.getNonEmptyElements();do{if(3==b.nodeType&&0!==l(b.nodeValue).length){c?a.setStart(b,0):a.setEnd(b,b.nodeValue.length);return}if(f[b.nodeName]&&!/^(TD|TH)$/.test(b.nodeName)){c?
a.setStartBefore(b):"BR"==b.nodeName?a.setEndBefore(b):a.setEndAfter(b);return}if(d.ie&&11>d.ie&&this.dom.isBlock(b)&&this.dom.isEmpty(b)){c?a.setStart(b,0):a.setEnd(b,0);return}}while(b=c?g.next():g.prev());"BODY"==e.nodeName&&(c?a.setStart(e,0):a.setEnd(e,e.childNodes.length))},destroy:function(){this.win=null;this.controlSelection.destroy()}};return g});x("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(n,h){var f=h.each;return function(e){this.compare=function(c,
d){function b(a){var b={};f(e.getAttribs(a),function(c){c=c.nodeName.toLowerCase();0!==c.indexOf("_")&&"style"!==c&&"data-mce-style"!==c&&(b[c]=e.getAttrib(a,c))});return b}function g(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d)){c=b[d];if("undefined"==typeof c||a[d]!=c)return!1;delete b[d]}for(d in b)if(b.hasOwnProperty(d))return!1;return!0}return c.nodeName==d.nodeName&&g(b(c),b(d))&&g(e.parseStyle(e.getAttrib(c,"style")),e.parseStyle(e.getAttrib(d,"style")))?!n.isBookmarkNode(c)&&!n.isBookmarkNode(d):
!1}}});x("tinymce/fmt/Preview",["tinymce/util/Tools"],function(n){var h=n.each;return{getCssText:function(f,e){var c,d=f.dom,b="",g,a;a=f.settings.preview_styles;if(!1===a)return"";a||(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");if("string"==typeof e){e=f.formatter.get(e);if(!e)return;e=e[0]}c=d.create(e.block||e.inline||"span");h(e.styles,function(a,b){(a=a.replace(/%(\w+)/g,""))&&d.setStyle(c,b,
a)});h(e.attributes,function(a,b){(a=a.replace(/%(\w+)/g,""))&&d.setAttrib(c,b,a)});h(e.classes,function(a){a=a.replace(/%(\w+)/g,"");d.hasClass(c,a)||d.addClass(c,a)});f.fire("PreviewFormats");d.setStyles(c,{position:"absolute",left:-65535});f.getBody().appendChild(c);g=d.getStyle(f.getBody(),"fontSize",!0);g=/px$/.test(g)?parseInt(g,10):0;h(a.split(" "),function(a){var e=d.getStyle(c,a,!0);if("background-color"==a&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(e)&&(e=d.getStyle(f.getBody(),a,!0),"#ffffff"==
d.toHex(e).toLowerCase()))return;if("color"!=a||"#000000"!=d.toHex(e).toLowerCase()){if("font-size"==a&&/em|%$/.test(e)){if(0===g)return;e=parseFloat(e,10)/(/%$/.test(e)?100:1);e=e*g+"px"}"border"==a&&e&&(b+="padding:0 2px;");b+=a+":"+e+";"}});f.fire("AfterPreviewFormats");d.remove(c);return b}}});x("tinymce/Formatter","tinymce/dom/TreeWalker tinymce/dom/RangeUtils tinymce/dom/BookmarkManager tinymce/dom/ElementUtils tinymce/util/Tools tinymce/fmt/Preview".split(" "),function(n,h,f,e,c,d){return function(b){function g(a){a.nodeType&&
(a=a.nodeName);return!!b.schema.getTextBlockElements()[a.toLowerCase()]}function a(a,b){return A.getParents(a,b,A.getRoot())}function l(a){return 1===a.nodeType&&"_mce_caret"===a.id}function t(a){return a?P[a]:P}function m(a,b){a&&("string"!==typeof a?T(a,function(a,b){m(b,a)}):(b=b.length?b:[b],T(b,function(a){a.deep===$&&(a.deep=!a.selector);a.split===$&&(a.split=!a.selector||a.inline);a.remove===$&&a.selector&&!a.inline&&(a.remove="none");a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0);"string"===
typeof a.classes&&(a.classes=a.classes.split(/\s+/))}),P[a]=b))}function u(a){var c;b.dom.getParent(a,function(a){return(c=b.dom.getStyle(a,"text-decoration"))&&"none"!==c});return c}function p(a){var c;1===a.nodeType&&a.parentNode&&1===a.parentNode.nodeType&&(c=u(a.parentNode),b.dom.getStyle(a,"color")&&c?b.dom.setStyle(a,"text-decoration",c):b.dom.getStyle(a,"textdecoration")===c&&b.dom.setStyle(a,"text-decoration",null))}function q(a,c,d){function e(a,b){b=b||r;if(a){if(b.onformat)b.onformat(a,
b,c,d);T(b.styles,function(b,d){A.setStyle(a,d,F(b,c))});if(b.styles){var g=A.getAttrib(a,"style");g&&a.setAttribute("data-mce-style",g)}T(b.attributes,function(b,d){A.setAttrib(a,d,F(b,c))});T(b.classes,function(b){b=F(b,c);A.hasClass(a,b)||A.addClass(a,b)})}}function f(){var a=b.selection.getRng(),c=a.startContainer,e=a.endContainer;if(c!=e&&0===a.endOffset){a:{e=new n(e);for(d=e.current();d;d=e.prev())if(1<d.childNodes.length||d==c||"BR"==d.tagName){c=d;break a}c=void 0}a.setEnd(c,3==c.nodeType?
c.length:c.childNodes.length)}return a}function h(b,d,f){var t=[],p,u,q=!0;p=r.inline||r.block;u=A.create(p);e(u);R.walk(b,function(b){function d(b){var n,I,w,B,J;J=q;n=b.nodeName.toLowerCase();I=b.parentNode.nodeName.toLowerCase();1===b.nodeType&&aa(b)&&(J=q,q="true"===aa(b),B=!0);if(k(n,"br"))h=0,r.block&&A.remove(b);else if(r.wrapper&&s(b,a,c))h=0;else if(q&&!B&&r.block&&!r.wrapper&&g(n)&&O(I,p))b=A.rename(b,p),e(b),t.push(b),h=0;else{if(r.selector&&(T(m,function(a){"collapsed"in a&&a.collapsed!==
v||!A.is(b,a.selector)||l(b)||(e(b,a),w=!0)}),!r.inline||w)){h=0;return}!q||B||!O(p,n)||!O(I,p)||!f&&3===b.nodeType&&1===b.nodeValue.length&&65279===b.nodeValue.charCodeAt(0)||l(b)||r.inline&&S(b)?(h=0,T(ba(b.childNodes),d),B&&(q=J),h=0):(h||(h=A.clone(u,W),b.parentNode.insertBefore(h,b),t.push(h)),h.appendChild(b))}}var h;T(b,d)});!0===r.links&&T(t,function(a){function b(a){"A"===a.nodeName&&e(a,r);T(ba(a.childNodes),b)}b(a)});T(t,function(b){function d(a){var b,c;T(a.childNodes,function(a){if(1==
a.nodeType&&!X(a)&&!l(a))return b=a,W});b&&!X(b)&&w(b,r)&&(c=A.clone(b,W),e(c),A.replace(c,a,V),A.remove(b,1));return c||a}var g;g=function(a){var b=0;T(a.childNodes,function(a){y(a)||X(a)||b++});return b}(b);if((1<t.length||!S(b))&&0===g)A.remove(b,1);else if(r.inline||r.wrapper){r.exact||1!==g||(b=d(b));T(m,function(a){T(A.select(a.inline,b),function(b){X(b)||D(a,c,b,a.exact?b:null)})});if(s(b.parentNode,a,c))return A.remove(b,1),b=0,V;r.merge_with_parents&&A.getParent(b.parentNode,function(d){if(s(d,
a,c))return A.remove(b,1),b=0,V});b&&!1!==r.merge_siblings&&(b=H(L(b),b),b=H(b,L(b,V)))}})}var m=t(a),r=m[0],u,v=!d&&C.isCollapsed();if(r)if(d)d.nodeType?(u=A.createRng(),u.setStartBefore(d),u.setEndAfter(d),h(x(u,m),null,!0)):h(d,null,!0);else if(v&&r.inline&&!A.select("td.mce-item-selected,th.mce-item-selected").length)N("apply",a,c);else{var B=b.selection.getNode();I||!m[0].defaultBlock||A.getParent(B,A.isBlock)||q(m[0].defaultBlock);b.selection.setRng(f());u=C.getBookmark();h(x(C.getRng(V),m),
u);r.styles&&(r.styles.color||r.styles.textDecoration)&&(ga(B,p,"childNodes"),p(B));C.moveToBookmark(u);M(C.getRng(V));b.nodeChanged()}}function v(c,d,e,g){function l(a){var b,c,e,g,f;1===a.nodeType&&aa(a)&&(g=n,n="true"===aa(a),f=!0);b=ba(a.childNodes);if(n&&!f)for(c=0,e=p.length;c<e&&!D(p[c],d,a,a);c++);if(q.deep&&b.length){c=0;for(e=b.length;c<e;c++)l(b[c]);f&&(n=g)}}function f(b){var e;T(a(b.parentNode).reverse(),function(a){var b;e||"_start"==a.id||"_end"==a.id||(b=s(a,c,d,g))&&!1!==b.split&&
(e=a)});return e}function k(a,b,c,e){var g,f,l,h,t,m;if(a){m=a.parentNode;for(g=b.parentNode;g&&g!=m;g=g.parentNode){f=A.clone(g,W);for(t=0;t<p.length;t++)if(D(p[t],d,f,f)){f=0;break}f&&(l&&f.appendChild(l),h||(h=f),l=f)}!e||q.mixed&&S(a)||(b=A.split(a,b));l&&(c.parentNode.insertBefore(l,c),h.appendChild(c))}return b}function h(a){var b=A.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];X(c)&&(c=c[a?"firstChild":"lastChild"]);A.remove(b,!0);return c}function m(a){var c,d,e=a.commonAncestorContainer;
a=x(a,p,V);q.split&&(c=E(a,V),d=E(a),c!=d?(/^(TR|TH|TD)$/.test(c.nodeName)&&c.firstChild&&(c="TR"==c.nodeName?c.firstChild.firstChild||c:c.firstChild||c),e&&/^T(HEAD|BODY|FOOT|R)$/.test(e.nodeName)&&/^(TH|TD)$/.test(d.nodeName)&&d.firstChild&&(d=d.firstChild||d),c=z(c,"span",{id:"_start","data-mce-type":"bookmark"}),d=z(d,"span",{id:"_end","data-mce-type":"bookmark"}),k(f(c),c,c,!0),k(f(d),d,d,!0),c=h(V),d=h()):c=d=k(f(c),c,c,!0),a.startContainer=c.parentNode,a.startOffset=J(c),a.endContainer=d.parentNode,
a.endOffset=J(d)+1);R.walk(a,function(a){T(a,function(a){l(a);1===a.nodeType&&"underline"===b.dom.getStyle(a,"text-decoration")&&a.parentNode&&"underline"===u(a.parentNode)&&D({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,a)})})}var p=t(c),q=p[0],v,n=!0;e?e.nodeType?(v=A.createRng(),v.setStartBefore(e),v.setEndAfter(e),m(v)):m(e):C.isCollapsed()&&q.inline&&!A.select("td.mce-item-selected,th.mce-item-selected").length?N("remove",c,d,g):(e=C.getBookmark(),m(C.getRng(V)),
C.moveToBookmark(e),q.inline&&r(c,d,C.getStart())&&M(C.getRng(!0)),b.nodeChanged())}function s(a,b,c,d){function e(a,b,g){var f,l,h=b[g];if(b.onmatch)return b.onmatch(a,b,g);if(h)if(h.length===$)for(f in h){if(h.hasOwnProperty(f)&&(l="attributes"===g?A.getAttrib(a,f):B(A.getStyle(a,f),f),d&&!l&&!b.exact||(!d||b.exact)&&!k(l,B(F(h[f],c),f))))return}else for(f=0;f<h.length&&("attributes"===g?!A.getAttrib(a,h[f]):!B(A.getStyle(a,h[f]),h[f]));f++);return b}var g=t(b),f;if(g&&a)for(f=0;f<g.length;f++)if(b=
g[f],w(a,b)&&e(a,b,"attributes")&&e(a,b,"styles")){if(g=b.classes)for(f=0;f<g.length;f++)if(!A.hasClass(a,g[f]))return;return b}}function r(a,b,c){function d(c){var e=A.getRoot();if(c===e)return!1;c=A.getParent(c,function(c){return c.parentNode===e||!!s(c,a,b,!0)});return s(c,a,b)}var e;if(c)return d(c);c=C.getNode();if(d(c))return V;e=C.getStart();return e!=c&&d(e)?V:W}function w(a,b){if(k(a,b.inline)||k(a,b.block))return V;if(b.selector)return 1==a.nodeType&&A.is(a,b.selector)}function k(a,b){a=
a||"";b=b||"";a=""+(a.nodeName||a);b=""+(b.nodeName||b);return a.toLowerCase()==b.toLowerCase()}function B(a,b){if("color"==b||"backgroundColor"==b)a=A.toHex(a);"fontWeight"==b&&700==a&&(a="bold");"fontFamily"==b&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,","));return""+a}function F(a,b){"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a}));return a}function y(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)}function z(a,b,c){b=A.create(b,c);a.parentNode.insertBefore(b,
a);b.appendChild(a);return b}function x(c,d,e){function f(a){var b,c,e,g;b=c=a?s:q;e=a?"previousSibling":"nextSibling";g=A.getRoot();if(3==b.nodeType&&!y(b)&&(a?0<u:v<b.nodeValue.length))return b;for(;;){if(!d[0].block_expand&&S(c))return c;for(a=c[e];a;a=a[e])if(!(X(a)||y(a)||"BR"==a.nodeName&&a.getAttribute("data-mce-bogus")&&!a.nextSibling))return c;if(c.parentNode==g){b=c;break}c=c.parentNode}return b}function l(a,b){for(b===$&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)(a=
a.childNodes[b])&&(b=3===a.nodeType?a.length:a.childNodes.length);return{node:a,offset:b}}function h(a){for(var b=a;b;){if(1===b.nodeType&&aa(b))return"false"===aa(b)?b:a;b=b.parentNode}return a}function t(a,c,d){function g(a,b){var c,f;f=a.nodeValue;"undefined"==typeof b&&(b=d?f.length:0);d?(c=f.lastIndexOf(" ",b),f=f.lastIndexOf("\u00a0",b),c=c>f?c:f,-1===c||e||c++):(c=f.indexOf(" ",b),f=f.indexOf("\u00a0",b),c=-1!==c&&(-1===f||c<f)?c:f);return c}var f,l;if(3===a.nodeType){c=g(a,c);if(-1!==c)return{container:a,
offset:c};l=a}for(a=new n(a,A.getParent(a,S)||b.getBody());f=a[d?"prev":"next"]();)if(3===f.nodeType){if(l=f,c=g(f),-1!==c)return{container:f,offset:c}}else if(S(f))break;if(l)return c=d?0:l.length,{container:l,offset:c}}function m(b,e){var g,f,l,k;3==b.nodeType&&0===b.nodeValue.length&&b[e]&&(b=b[e]);g=a(b);for(f=0;f<g.length;f++)for(l=0;l<d.length;l++)if(k=d[l],!("collapsed"in k&&k.collapsed!==c.collapsed)&&A.is(g[f],k.selector))return g[f];return b}function r(b,c){var e,f=A.getRoot();d[0].wrapper||
(e=A.getParent(b,d[0].block,f));e||(e=A.getParent(3==b.nodeType?b.parentNode:b,function(a){return a!=f&&g(a)}));e&&d[0].wrapper&&(e=a(e,"ul,ol").reverse()[0]||e);if(!e)for(e=b;e[c]&&!S(e[c])&&(e=e[c],!k(e,"br")););return e||b}var p,s=c.startContainer,u=c.startOffset,q=c.endContainer,v=c.endOffset;1==s.nodeType&&s.hasChildNodes()&&(p=s.childNodes.length-1,s=s.childNodes[u>p?p:u],3==s.nodeType&&(u=0));1==q.nodeType&&q.hasChildNodes()&&(p=q.childNodes.length-1,q=q.childNodes[v>p?p:v-1],3==q.nodeType&&
(v=q.nodeValue.length));s=h(s);q=h(q);if(X(s.parentNode)||X(s))s=X(s)?s:s.parentNode,s=s.nextSibling||s,3==s.nodeType&&(u=0);if(X(q.parentNode)||X(q))q=X(q)?q:q.parentNode,q=q.previousSibling||q,3==q.nodeType&&(v=q.length);if(d[0].inline){if(c.collapsed){if(p=t(s,u,!0))s=p.container,u=p.offset;if(p=t(q,v))q=p.container,v=p.offset}p=l(q,v);if(p.node){for(;p.node&&0===p.offset&&p.node.previousSibling;)p=l(p.node.previousSibling);p.node&&0<p.offset&&3===p.node.nodeType&&" "===p.node.nodeValue.charAt(p.offset-
1)&&1<p.offset&&(q=p.node,q.splitText(p.offset-1))}}if(d[0].inline||d[0].block_expand)d[0].inline&&3==s.nodeType&&0!==u||(s=f(!0)),d[0].inline&&3==q.nodeType&&v!==q.nodeValue.length||(q=f());d[0].selector&&d[0].expand!==W&&!d[0].inline&&(s=m(s,"previousSibling"),q=m(q,"nextSibling"));if(d[0].block||d[0].selector)s=r(s,"previousSibling"),q=r(q,"nextSibling"),d[0].block&&(S(s)||(s=f(!0)),S(q)||(q=f()));1==s.nodeType&&(u=J(s),s=s.parentNode);1==q.nodeType&&(v=J(q)+1,q=q.parentNode);return{startContainer:s,
startOffset:u,endContainer:q,endOffset:v}}function D(a,b,c,d){var e,g,f;if(!(w(c,a)||a.links&&"A"==c.tagName))return W;if("all"!=a.remove)for(T(a.styles,function(e,g){e=B(F(e,b),g);"number"===typeof g&&(g=e,d=0);(a.remove_similar||!d||k(B(A.getStyle(d,g),g),e))&&A.setStyle(c,g,"");f=1}),f&&""===A.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style")),T(a.attributes,function(a,e){var g;a=F(a,b);"number"===typeof e&&(e=a,d=0);if(!d||k(A.getAttrib(d,e),a)){if("class"==
e&&(a=A.getAttrib(c,e))&&(g="",T(a.split(/\s+/),function(a){/mce\w+/.test(a)&&(g+=(g?" ":"")+a)}),g)){A.setAttrib(c,e,g);return}"class"==e&&c.removeAttribute("className");Y.test(e)&&c.removeAttribute("data-mce-"+e);c.removeAttribute(e)}}),T(a.classes,function(a){a=F(a,b);d&&!A.hasClass(d,a)||A.removeClass(c,a)}),g=A.getAttribs(c),e=0;e<g.length;e++)if(0!==g[e].nodeName.indexOf("_"))return W;if("none"!=a.remove)return G(c,a),V}function G(a,c){function d(a,b,c){a=L(a,b,c);return!a||"BR"==a.nodeName||
S(a)}var e=a.parentNode,g;c.block&&(I?e==A.getRoot()&&(c.list_block&&k(a,c.list_block)||T(ba(a.childNodes),function(a){O(I,a.nodeName.toLowerCase())?g?g.appendChild(a):(g=z(a,I),A.setAttribs(g,b.settings.forced_root_block_attrs)):g=0})):S(a)&&!S(e)&&(d(a,W)||d(a.firstChild,V,1)||a.insertBefore(A.create("br"),a.firstChild),d(a,V)||d(a.lastChild,W,1)||a.appendChild(A.create("br"))));c.selector&&c.inline&&!k(c.inline,a)||A.remove(a,1)}function L(a,b,c){if(a)for(b=b?"nextSibling":"previousSibling",a=
c?a:a[b];a;a=a[b])if(1==a.nodeType||!y(a))return a}function H(a,b){function c(a,b){for(d=a;d&&(3!=d.nodeType||0===d.nodeValue.length);d=d[b])if(1==d.nodeType&&!X(d))return d;return a}var d,g;g=new e(A);if(a&&b&&(a=c(a,"previousSibling"),b=c(b,"nextSibling"),g.compare(a,b))){for(d=a.nextSibling;d&&d!=b;)g=d,d=d.nextSibling,a.appendChild(g);A.remove(b);T(ba(b.childNodes),function(b){a.appendChild(b)});return a}return b}function E(a,c){var d,e,g;d=a[c?"startContainer":"endContainer"];e=a[c?"startOffset":
"endOffset"];1==d.nodeType&&(g=d.childNodes.length-1,!c&&e&&e--,d=d.childNodes[e>g?g:e]);3===d.nodeType&&c&&e>=d.nodeValue.length&&(d=(new n(d,b.getBody())).next()||d);3!==d.nodeType||c||0!==e||(d=(new n(d,b.getBody())).prev()||d);return d}function N(a,c,d,e){function f(a){var c=A.create("span",{id:I,"data-mce-bogus":!0,style:w?"color:red":""});a&&c.appendChild(b.getDoc().createTextNode(Q));return c}function l(a,b){for(;a;){if(3===a.nodeType&&a.nodeValue!==Q||1<a.childNodes.length)return!1;b&&1===
a.nodeType&&b.push(a);a=a.firstChild}return!0}function k(a){for(;a;){if(a.id===I)return a;a=a.parentNode}}function h(a){var b;if(a)for(b=new n(a,a),a=b.current();a;a=b.next())if(3===a.nodeType)return a}function m(a,b){var c,d;if(a)d=C.getRng(!0),l(a)?(!1!==b&&(d.setStartBefore(a),d.setEndBefore(a)),A.remove(a)):(c=h(a),c.nodeValue.charAt(0)===Q&&(c.deleteData(0,1),d.startContainer==c&&0<d.startOffset&&d.setStart(c,d.startOffset-1),d.endContainer==c&&0<d.endOffset&&d.setEnd(c,d.endOffset-1)),A.remove(a,
1)),C.setRng(d);else if(a=k(C.getStart()),!a)for(;a=A.get(I);)m(a,!1)}function r(){var a,b,e,g,l;a=C.getRng(!0);g=a.startOffset;l=a.startContainer.nodeValue;(b=k(C.getStart()))&&(e=h(b));l&&0<g&&g<l.length&&/\w/.test(l.charAt(g))&&/\w/.test(l.charAt(g-1))?(b=C.getBookmark(),a.collapse(!0),a=x(a,t(c)),a=R.split(a),q(c,d,a),C.moveToBookmark(b)):(b&&e.nodeValue===Q||(b=f(!0),e=b.firstChild,a.insertNode(b),g=1),q(c,d,b),C.setCursorLocation(e,g))}function p(){var a=C.getRng(!0),b,l,k,h,m,r=[];b=a.startContainer;
l=a.startOffset;k=b;3==b.nodeType&&(l!=b.nodeValue.length&&(h=!0),k=k.parentNode);for(;k;){if(s(k,c,d,e)){m=k;break}k.nextSibling&&(h=!0);r.push(k);k=k.parentNode}if(m)if(h)k=C.getBookmark(),a.collapse(!0),a=x(a,t(c),!0),a=R.split(a),v(c,d,a),C.moveToBookmark(k);else{k=a=f();for(b=r.length-1;0<=b;b--)k.appendChild(A.clone(r[b],!1)),k=k.firstChild;k.appendChild(A.doc.createTextNode(Q));k=k.firstChild;(r=A.getParent(m,g))&&A.isEmpty(r)?m.parentNode.replaceChild(a,m):A.insertAfter(a,m);C.setCursorLocation(k,
1);A.isEmpty(m)&&A.remove(m)}}function u(){var a;(a=k(C.getStart()))&&!A.isEmpty(a)&&ga(a,function(a){1!=a.nodeType||a.id===I||A.isEmpty(a)||A.setAttrib(a,"data-mce-bogus",null)},"childNodes")}var I="_mce_caret",w=b.settings.caret_debug;b._hasCaretEvents||(ea=function(){var a=[],b;if(l(k(C.getStart()),a))for(b=a.length;b--;)A.setAttrib(a[b],"data-mce-bogus","1")},da=function(a){a=a.keyCode;m();8!=a&&37!=a&&39!=a||m(k(C.getStart()));u()},b.on("SetContent",function(a){a.selection&&u()}),b._hasCaretEvents=
!0);"apply"==a?r():p()}function M(a){var b=a.startContainer,c=a.startOffset,d,e;3==b.nodeType&&c>=b.nodeValue.length&&(c=J(b),b=b.parentNode,d=!0);if(1==b.nodeType)for(e=b.childNodes,b=e[Math.min(c,e.length-1)],b=new n(b,A.getParent(b,A.isBlock)),(c>e.length-1||d)&&b.next(),c=b.current();c;c=b.next())if(3==c.nodeType&&!y(c)){d=A.create("a",{"data-mce-bogus":"all"},Q);c.parentNode.insertBefore(d,c);a.setStart(c,0);C.setRng(a);A.remove(d);break}}var P={},A=b.dom,C=b.selection,R=new h(A),O=b.schema.isValidChild,
S=A.isBlock,I=b.settings.forced_root_block,J=A.nodeIndex,Q="\ufeff",Y=/^(src|href|style)$/,W=!1,V=!0,Z,$,aa=A.getContentEditable,da,ea,X=f.isBookmarkNode,T=c.each,ba=c.grep,ga=c.walk,U=c.extend;U(this,{get:t,register:m,unregister:function(a){a&&P[a]&&delete P[a];return P},apply:q,remove:v,toggle:function(a,b,c){var d=t(a);!r(a,b,c)||"toggle"in d[0]&&!d[0].toggle?q(a,b,c):v(a,b,c)},match:r,matchAll:function(a,b){var c,d=[],e={};c=C.getStart();A.getParent(c,function(c){var g,f;for(g=0;g<a.length;g++)f=
a[g],!e[f]&&s(c,f,b)&&(e[f]=!0,d.push(f))},A.getRoot());return d},matchNode:s,canApply:function(b){b=t(b);var c,d,e,g;if(b)for(c=C.getStart(),c=a(c),e=b.length-1;0<=e;e--){g=b[e].selector;if(!g||b[e].defaultBlock)return V;for(d=c.length-1;0<=d;d--)if(A.is(c[d],g))return V}return W},formatChanged:function(d,e,g){var f;Z||(Z={},f={},b.on("NodeChange",function(b){var d=a(b.element),e={},d=c.grep(d,function(a){return 1==a.nodeType&&!a.getAttribute("data-mce-bogus")});T(Z,function(a,b){T(d,function(c){if(s(c,
b,{},a.similar))return f[b]||(T(a,function(a){a(!0,{node:c,format:b,parents:d})}),f[b]=a),e[b]=a,!1})});T(f,function(a,c){e[c]||(delete f[c],T(a,function(a){a(!1,{node:b.element,format:c,parents:d})}))})}));T(d.split(","),function(a){Z[a]||(Z[a]=[],Z[a].similar=g);Z[a].push(e)});return this},getCssText:function(a){return d.getCssText(b,a)}});(function(){m({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",
styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],
alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",
remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",
attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(a,b,c){T(c,function(b,c){A.setAttrib(a,c,b)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style",
"class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]});T("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(a){m(a,{block:a,remove:"all"})});m(b.settings.formats)})();(function(){b.addShortcut("ctrl+b","bold_desc","Bold");b.addShortcut("ctrl+i","italic_desc","Italic");b.addShortcut("ctrl+u","underline_desc","Underline");for(var a=1;6>=a;a++)b.addShortcut("ctrl+"+a,"",["FormatBlock",!1,"h"+a]);b.addShortcut("ctrl+7",
"",["FormatBlock",!1,"p"]);b.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]);b.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])})();b.on("BeforeGetContent",function(a){ea&&"raw"!=a.format&&ea()});b.on("mouseup keydown",function(a){da&&da(a)})}});x("tinymce/UndoManager",["tinymce/util/VK","tinymce/Env","tinymce/util/Tools","tinymce/html/SaxParser"],function(n,h,f,e){var c=f.trim,d;d=RegExp('<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>|\\s?data-mce-selected="[^"]+"',"gi");return function(b){function g(){var a=
b.getContent({format:"raw",no_events:1}),g=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,f,l,k,h,m=b.schema,a=a.replace(d,"");for(h=m.getShortEndedElements();f=g.exec(a);)l=g.lastIndex,k=f[0].length,f=h[f[1]]?l:e.findEndTag(m,a,l),a=a.substring(0,l-k)+a.substring(f),g.lastIndex=l-k;return c(a)}function a(a){f.typing=!1;f.add({},a)}var f=this,t=0,m=[],u,p,q=0;b.on("init",function(){f.add()});b.on("BeforeExecCommand",function(a){a=a.command;"Undo"!=a&&"Redo"!=a&&"mceRepaint"!=a&&f.beforeChange()});b.on("ExecCommand",
function(b){var c=b.command;"Undo"!=c&&"Redo"!=c&&"mceRepaint"!=c&&a(b)});b.on("ObjectResizeStart",function(){f.beforeChange()});b.on("SaveContent ObjectResized blur",a);b.on("DragEnd",a);b.on("KeyUp",function(c){var d=c.keyCode;if(33<=d&&36>=d||37<=d&&40>=d||45==d||13==d||c.ctrlKey)a(),b.nodeChanged();(46==d||8==d||h.mac&&(91==d||93==d))&&b.nodeChanged();p&&f.typing&&(b.isDirty()||(b.isNotDirty=!m[0]||g()==m[0].content,b.isNotDirty||b.fire("change",{level:m[0],lastLevel:null})),b.fire("TypingUndo"),
p=!1,b.nodeChanged())});b.on("KeyDown",function(b){var c=b.keyCode;if(33<=c&&36>=c||37<=c&&40>=c||45==c)f.typing&&a(b);else{var d=n.modifierPressed(b);!(16>c||20<c)||224==c||91==c||f.typing||d||(f.beforeChange(),f.typing=!0,f.add({},b),p=!0)}});b.on("MouseDown",function(b){f.typing&&a(b)});b.addShortcut("ctrl+z","","Undo");b.addShortcut("ctrl+y,ctrl+shift+z","","Redo");b.on("AddUndo Undo Redo ClearUndos",function(a){a.isDefaultPrevented()||b.nodeChanged()});return f={data:m,typing:!1,beforeChange:function(){q||
(u=b.selection.getBookmark(2,!0))},add:function(a,c){var d;d=b.settings;var e;a=a||{};a.content=g();if(q||b.removed)return null;e=m[t];if(b.fire("BeforeAddUndo",{level:a,lastLevel:e,originalEvent:c}).isDefaultPrevented()||e&&e.content==a.content)return null;m[t]&&(m[t].beforeBookmark=u);if(d.custom_undo_redo_levels&&m.length>d.custom_undo_redo_levels){for(d=0;d<m.length-1;d++)m[d]=m[d+1];m.length--;t=m.length}a.bookmark=b.selection.getBookmark(2,!0);t<m.length-1&&(m.length=t+1);m.push(a);t=m.length-
1;e={level:a,lastLevel:e,originalEvent:c};b.fire("AddUndo",e);0<t&&(b.isNotDirty=!1,b.fire("change",e));return a},undo:function(){var a;f.typing&&(f.add(),f.typing=!1);0<t&&(a=m[--t],0===t&&(b.isNotDirty=!0),b.setContent(a.content,{format:"raw"}),b.selection.moveToBookmark(a.beforeBookmark),b.fire("undo",{level:a}));return a},redo:function(){var a;t<m.length-1&&(a=m[++t],b.setContent(a.content,{format:"raw"}),b.selection.moveToBookmark(a.bookmark),b.fire("redo",{level:a}));return a},clear:function(){m=
[];t=0;f.typing=!1;b.fire("ClearUndos")},hasUndo:function(){return 0<t||f.typing&&m[0]&&g()!=m[0].content},hasRedo:function(){return t<m.length-1&&!this.typing},transact:function(a){f.beforeChange();try{q++,a()}finally{q--}f.add()}}}});x("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(n,h,f){var e=f.ie&&11>f.ie;return function(c){function d(d){function p(a){return a&&b.isBlock(a)&&!/^(TD|TH|CAPTION|FORM)$/.test(a.nodeName)&&!/^(fixed|absolute)/i.test(a.style.position)&&
"true"!==b.getContentEditable(a)}function q(a){var c;b.isBlock(a)&&(c=g.getRng(),a.appendChild(b.create("span",null,"\u00a0")),g.select(a),a.lastChild.outerHTML="",g.setRng(c))}function v(a){var c=[],d;if(a){for(;a=a.firstChild;){if(b.isBlock(a))return;1!=a.nodeType||m[a.nodeName.toLowerCase()]||c.push(a)}for(d=c.length;d--;)a=c[d],!a.hasChildNodes()||a.firstChild==a.lastChild&&""===a.firstChild.nodeValue?b.remove(a):"A"==a.nodeName&&" "===(a.innerText||a.textContent)&&b.remove(a)}}function s(a){var c,
d,e,l=a,k;if(a){f.ie&&9>f.ie&&M&&M.firstChild&&M.firstChild==M.lastChild&&"BR"==M.firstChild.tagName&&b.remove(M.firstChild);if(/^(LI|DT|DD)$/.test(a.nodeName)){a:{for(c=a.firstChild;c;){if(1==c.nodeType||3==c.nodeType&&c.data&&/[\r\n\s]/.test(c.data))break a;c=c.nextSibling}c=void 0}c&&/^(UL|OL|DL)$/.test(c.nodeName)&&a.insertBefore(b.doc.createTextNode("\u00a0"),a.firstChild)}e=b.createRng();f.ie||a.normalize();if(a.hasChildNodes()){for(c=new n(a,a);d=c.current();){if(3==d.nodeType){e.setStart(d,
0);e.setEnd(d,0);break}if(m[d.nodeName.toLowerCase()]){e.setStartBefore(d);e.setEndBefore(d);break}l=d;c.next()}d||(e.setStart(l,0),e.setEnd(l,0))}else if("BR"==a.nodeName)if(a.nextSibling&&b.isBlock(a.nextSibling)){if(!P||9>P)k=b.create("br"),a.parentNode.insertBefore(k,a);e.setStartBefore(a);e.setEndBefore(a)}else e.setStartAfter(a),e.setEndAfter(a);else e.setStart(a,0),e.setEnd(a,0);g.setRng(e);b.remove(k);g.scrollIntoView(a)}}function r(c){var d=a.forced_root_block;d&&d.toLowerCase()===c.tagName.toLowerCase()&&
b.setAttribs(c,a.forced_root_block_attrs)}function w(c){var d=E,g,f,l=t.getTextInlineElements();c||"TABLE"==S?(c=b.create(c||J),r(c)):c=M.cloneNode(!1);f=c;if(!1!==a.keep_styles){do l[d.nodeName]&&"_mce_caret"!=d.id&&(g=d.cloneNode(!1),b.setAttrib(g,"id",""),c.hasChildNodes()?g.appendChild(c.firstChild):f=g,c.appendChild(g));while(d=d.parentNode)}e||(f.innerHTML='<br data-mce-bogus="1">');return c}function k(a){var b,c;if(3==E.nodeType&&(a?0<N:N<E.nodeValue.length))return!1;if(E.parentNode==M&&Q&&
!a||a&&1==E.nodeType&&E==M.firstChild)return!0;if("TABLE"===E.nodeName||E.previousSibling&&"TABLE"==E.previousSibling.nodeName)return Q&&!a||!Q&&a;b=new n(E,M);for(3==E.nodeType&&(a&&0===N?b.prev():a||N!=E.nodeValue.length||b.next());c=b.current();){if(1===c.nodeType){if(!c.getAttribute("data-mce-bogus")&&(c=c.nodeName.toLowerCase(),m[c]&&"br"!==c))return!1}else if(3===c.nodeType&&!/^[ \t\r\n]*$/.test(c.nodeValue))return!1;a?b.prev():b.next()}return!0}function B(a,d){var e,g,f,l,k=J||"P";g=b.getParent(a,
b.isBlock);e=c.getBody().nodeName.toLowerCase();if(!g||!p(g)){g=g||H;if(!g.hasChildNodes())return e=b.create(k),r(e),g.appendChild(e),G.setStart(e,0),G.setEnd(e,0),e;for(l=a;l.parentNode!=g;)l=l.parentNode;for(;l&&!b.isBlock(l);)f=l,l=l.previousSibling;if(f&&t.isValidChild(e,k.toLowerCase())){e=b.create(k);r(e);f.parentNode.insertBefore(e,f);for(l=f;l&&!b.isBlock(l);)g=l.nextSibling,e.appendChild(l),l=g;G.setStart(a,d);G.setEnd(a,d)}}return a}function F(){function a(b){for(var c=O[b?"firstChild":
"lastChild"];c&&1!=c.nodeType;)c=c[b?"nextSibling":"previousSibling"];return c===M}function c(){var a=O.parentNode;return/^(LI|DT|DD)$/.test(a.nodeName)?a:O}var d=O.parentNode.nodeName;/^(OL|UL|LI)$/.test(d)&&(J="LI");C=J?w(J):b.create("BR");a(!0)&&a()?"LI"==d?b.insertAfter(C,c()):b.replace(C,O):a(!0)?"LI"==d?(b.insertAfter(C,c()),C.appendChild(b.doc.createTextNode(" ")),C.appendChild(O)):O.parentNode.insertBefore(C,O):a()?(b.insertAfter(C,c()),q(C)):(O=c(),L=G.cloneRange(),L.setStartAfter(M),L.setEndAfter(O),
R=L.extractContents(),"LI"==J&&"LI"==R.firstChild.nodeName?(C=R.firstChild,b.insertAfter(R,O)):(b.insertAfter(R,O),b.insertAfter(C,O)));b.remove(M);s(C);l.add()}function y(){c.execCommand("InsertLineBreak",!1,d)}function z(a){do 3===a.nodeType&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;while(a)}function x(a){for(var c=b.getRoot(),d;a!==c&&"false"!==b.getContentEditable(a);)"true"===b.getContentEditable(a)&&(d=a),a=a.parentNode;return a!==c?d:c}function D(a){var c;e||(a.normalize(),
(c=a.lastChild)&&!/^(left|right)$/gi.test(b.getStyle(c,"float",!0))||b.add(a,"br"))}var G,L,H,E,N,M,P,A,C,R,O,S,I,J,Q;G=g.getRng(!0);if(!d.isDefaultPrevented())if(G.collapsed){if((new h(b)).normalize(G),E=G.startContainer,N=G.startOffset,J=(J=(a.force_p_newlines?"p":"")||a.forced_root_block)?J.toUpperCase():"",P=b.doc.documentMode,A=d.shiftKey,1==E.nodeType&&E.hasChildNodes()&&(Q=N>E.childNodes.length-1,E=E.childNodes[Math.min(N,E.childNodes.length-1)]||E,N=Q&&3==E.nodeType?E.nodeValue.length:0),
H=x(E))if(l.beforeChange(),b.isBlock(H)||H==b.getRoot()){if(J&&!A||!J&&A)E=B(E,N);O=(M=b.getParent(E,b.isBlock))?b.getParent(M.parentNode,b.isBlock):null;S=M?M.nodeName.toUpperCase():"";I=O?O.nodeName.toUpperCase():"";"LI"!=I||d.ctrlKey||(M=O,S=I);if(/^(LI|DT|DD)$/.test(S)){if(!J&&A){y();return}if(b.isEmpty(M)){F();return}}if("PRE"==S&&!1!==a.br_in_pre){if(!A){y();return}}else if(!J&&!A&&"LI"!=S||J&&A){y();return}J&&M===c.getBody()||(J=J||"P",k()?(C=/^(H[1-6]|PRE|FIGURE)$/.test(S)&&"HGROUP"!=I?w(J):
w(),a.end_container_on_empty_block&&p(O)&&b.isEmpty(M)?C=b.split(O,M):b.insertAfter(C,M),s(C)):k(!0)?(C=M.parentNode.insertBefore(w(),M),q(C),s(M)):(L=G.cloneRange(),L.setEndAfter(M),R=L.extractContents(),z(R),C=R.firstChild,b.insertAfter(R,M),v(C),D(M),s(C)),b.setAttrib(C,"id",""),c.fire("NewBlock",{newBlock:C}),l.add())}else J&&!A||y()}else c.execCommand("Delete")}var b=c.dom,g=c.selection,a=c.settings,l=c.undoManager,t=c.schema,m=t.getNonEmptyElements();c.on("keydown",function(a){13==a.keyCode&&
!1!==d(a)&&a.preventDefault()})}});x("tinymce/ForceBlocks",[],function(){return function(n){function h(){var g=c.getStart(),a=n.getBody(),l,h,m,u,p,q,v,s,r,w,k;k=f.forced_root_block;if(g&&1===g.nodeType&&k){for(;g&&g!=a;){if(b[g.nodeName])return;g=g.parentNode}l=c.getRng();if(l.setStart){h=l.startContainer;m=l.startOffset;u=l.endContainer;p=l.endOffset;try{r=n.getDoc().activeElement===a}catch(B){}}else l.item&&(g=l.item(0),l=n.getDoc().body.createTextRange(),l.moveToElementText(g)),r=l.parentElement().ownerDocument===
n.getDoc(),g=l.duplicate(),g.collapse(!0),m=-1*g.move("character",-16777215),g.collapsed||(g=l.duplicate(),g.collapse(!1),p=-1*g.move("character",-16777215)-m);g=a.firstChild;for(w=a.nodeName.toLowerCase();g;)(3===g.nodeType||1==g.nodeType&&!b[g.nodeName])&&d.isValidChild(w,k.toLowerCase())?3===g.nodeType&&0===g.nodeValue.length?(v=g,g=g.nextSibling,e.remove(v)):(q||(q=e.create(k,n.settings.forced_root_block_attrs),g.parentNode.insertBefore(q,g),s=!0),v=g,g=g.nextSibling,q.appendChild(v)):(q=null,
g=g.nextSibling);if(s&&r){if(l.setStart)l.setStart(h,m),l.setEnd(u,p),c.setRng(l);else try{l=n.getDoc().body.createTextRange(),l.moveToElementText(a),l.collapse(!0),l.moveStart("character",m),0<p&&l.moveEnd("character",p),l.select()}catch(F){}n.nodeChanged()}}}var f=n.settings,e=n.dom,c=n.selection,d=n.schema,b=d.getBlockElements();if(f.forced_root_block)n.on("NodeChange",h)}});x("tinymce/EditorCommands","tinymce/html/Serializer tinymce/Env tinymce/util/Tools tinymce/dom/ElementUtils tinymce/dom/RangeUtils tinymce/dom/TreeWalker".split(" "),
function(n,h,f,e,c,d){var b=f.each,g=f.extend,a=f.map,l=f.inArray,t=f.explode,m=h.gecko,u=h.ie,p=h.ie&&11>h.ie,q=!0,v=!1;return function(f){function r(a,b,c){var d;a=a.toLowerCase();return(d=x.exec[a])?(d(a,b,c),q):v}function w(a){var b;a=a.toLowerCase();return(b=x.state[a])?b(a):-1}function k(a,c){c=c||"exec";b(a,function(a,d){b(d.toLowerCase().split(","),function(b){x[c][b]=a})})}function B(a,b,c){b===U&&(b=v);c===U&&(c=null);return f.getDoc().execCommand(a,b,c)}function F(a,b){G.toggle(a,b?{value:b}:
U);f.nodeChanged()}var y=f.dom,z=f.selection,x={state:{},exec:{},value:{}},D=f.settings,G=f.formatter,L;g(this,{execCommand:r,queryCommandState:w,queryCommandValue:function(a){var b;a=a.toLowerCase();return(b=x.value[a])?b(a):v},addCommands:k});k({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){f.undoManager.add()},"Cut,Copy,Paste":function(a){var b=f.getDoc(),c;try{B(a)}catch(d){c=q}if(c||!b.queryCommandSupported(a))a=f.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),
h.mac&&(a=a.replace(/Ctrl\+/g,"\u2318+")),f.windowManager.alert(a)},unlink:function(){if(z.isCollapsed()){var a=z.getNode();"A"==a.tagName&&f.dom.remove(a,!0)}else G.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var c=a.substring(7);"full"==c&&(c="justify");b(["left","center","right","justify"],function(a){c!=a&&G.remove("align"+a)});F("align"+c);r("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(a){var b;B(a);if(a=y.getParent(z.getNode(),"ol,ul"))b=
a.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(b.nodeName)&&(L=z.getBookmark(void 0),y.split(b,a),z.moveToBookmark(L))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){F(a)},"ForeColor,HiliteColor,FontName":function(a,b,c){F(a,c)},FontSize:function(a,b,c){var d;1<=c&&7>=c&&(d=t(D.font_size_style_values),c=(b=t(D.font_size_classes))?b[c-1]||c:d[c-1]||c);F(a,c)},RemoveFormat:function(a){G.remove(a)},mceBlockQuote:function(){F("blockquote")},FormatBlock:function(a,b,c){return F(c||
"p")},mceCleanup:function(){var a=z.getBookmark();f.setContent(f.getContent({cleanup:q}),{cleanup:q});z.moveToBookmark(a)},mceRemoveNode:function(a,b,c){a=c||z.getNode();a!=f.getBody()&&(L=z.getBookmark(void 0),f.dom.remove(a,q),z.moveToBookmark(L))},mceSelectNodeDepth:function(a,b,c){var d=0;y.getParent(z.getNode(),function(a){if(1==a.nodeType&&d++==c)return z.select(a),v},f.getBody())},mceSelectNode:function(a,b,c){z.select(c)},mceInsertContent:function(a,c,d){function g(a){var b,c;b=z.getRng(!0);
c=b.startContainer;b=b.startOffset;3==c.nodeType&&(0<b?a=a.replace(/^&nbsp;/," "):c.previousSibling&&3==c.previousSibling.nodeType||(a=a.replace(/^ /,"&nbsp;")),b<c.length?a=a.replace(/&nbsp;(<br>|)$/," "):c.nextSibling&&3==c.nextSibling.nodeType||(a=a.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;")));return a}var l,k,h,m,t,p;h=f.schema.getTextInlineElements();"string"!=typeof d&&(p=d.merge,d=d.content);/^ | $/.test(d)&&(d=g(d));c=f.parser;l=new n({},f.schema);a={content:d,format:"html",selection:!0};f.fire("BeforeSetContent",
a);d=a.content;-1==d.indexOf("{$caret}")&&(d+="{$caret}");d=d.replace(/\{\$caret\}/,'<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');k=z.getRng();k=k.startContainer||(k.parentElement?k.parentElement():null);t=f.getBody();k===t&&z.isCollapsed()&&y.isBlock(t.firstChild)&&y.isEmpty(t.firstChild)&&(k=y.createRng(),k.setStart(t.firstChild,0),k.setEnd(t.firstChild,0),z.setRng(k));z.isCollapsed()||f.getDoc().execCommand("Delete",!1,null);k=z.getNode();var r={context:k.nodeName.toLowerCase()};
m=c.parse(d,r);if(p)for(t=m.firstChild;t;t=t.walk(!0))h[t.name]&&t.attr("data-mce-new","true");t=m.lastChild;if("mce_marker"==t.attr("id"))for(d=t,t=t.prev;t;t=t.walk(!0))if(3==t.type||!y.isBlock(t.name)){f.schema.isValidChild(t.parent.name,"span")&&t.parent.insert(d,t,"br"===t.name);break}if(r.invalid){z.setContent('<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');k=z.getNode();h=f.getBody();for(9==k.nodeType?k=t=h:t=k;t!==h;)k=t,t=t.parentNode;d=k==h?h.innerHTML:y.getOuterHTML(k);
d=l.serialize(c.parse(d.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return l.serialize(m)})));k==h?y.setHTML(h,d):y.setOuterHTML(k,d)}else d=l.serialize(m),t=k.firstChild,c=k.lastChild,!t||t===c&&"BR"===t.nodeName?y.setHTML(k,d):z.setContent(d);(function(){if(p){var a=f.getBody(),c=new e(y);b(y.select("*[data-mce-new]"),function(b){b.removeAttribute("data-mce-new");for(var d=b.parentNode;d&&d!=a;d=d.parentNode)c.compare(d,b)&&y.remove(b,!0)})}})();d=y.get("mce_marker");
z.scrollIntoView(d);k=y.createRng();(t=d.previousSibling)&&3==t.nodeType?(k.setStart(t,t.nodeValue.length),u||(c=d.nextSibling)&&3==c.nodeType&&(t.appendData(c.data),c.parentNode.removeChild(c))):(k.setStartBefore(d),k.setEndBefore(d));y.remove(d);z.setRng(k);f.fire("SetContent",a);f.addVisual()},mceInsertRawHTML:function(a,b,c){z.setContent("tiny_mce_marker");f.setContent(f.getContent().replace(/tiny_mce_marker/g,function(){return c}))},mceToggleFormat:function(a,b,c){F(c)},mceSetContent:function(a,
b,c){f.setContent(c)},"Indent,Outdent":function(a){var c,d,e;c=D.indentation;d=/[a-z%]+$/i.exec(c);c=parseInt(c,10);w("InsertUnorderedList")||w("InsertOrderedList")?B(a):(D.forced_root_block||y.getParent(z.getNode(),y.isBlock)||G.apply("div"),b(z.getSelectedBlocks(),function(b){if("LI"!=b.nodeName){var g=f.getParam("indent_use_margin",!1)?"margin":"padding",g=g+("rtl"==y.getStyle(b,"direction",!0)?"Right":"Left");"outdent"==a?(e=Math.max(0,parseInt(b.style[g]||0,10)-c),y.setStyle(b,g,e?e+d:"")):(e=
parseInt(b.style[g]||0,10)+c+d,y.setStyle(b,g,e))}}))},mceRepaint:function(){if(m)try{L=z.getBookmark(q),z.getSel()&&z.getSel().selectAllChildren(f.getBody()),z.collapse(q),z.moveToBookmark(L)}catch(a){}},InsertHorizontalRule:function(){f.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){f.hasVisual=!f.hasVisual;f.addVisual()},mceReplaceContent:function(a,b,c){f.execCommand("mceInsertContent",!1,c.replace(/\{\$selection\}/g,z.getContent({format:"text"})))},mceInsertLink:function(a,
b,c){"string"==typeof c&&(c={href:c});a=y.getParent(z.getNode(),"a");c.href=c.href.replace(" ","%20");a&&c.href||G.remove("link");c.href&&G.apply("link",c,a)},selectAll:function(){var a=y.getRoot(),b;z.getRng().setStart?(b=y.createRng(),b.setStart(a,0),b.setEnd(a,a.childNodes.length),z.setRng(b)):(b=z.getRng(),b.item||(b.moveToElementText(a),b.select()))},"delete":function(){B("Delete");var a=f.getBody();y.isEmpty(a)&&(f.setContent(""),a.firstChild&&y.isBlock(a.firstChild)?f.selection.setCursorLocation(a.firstChild,
0):f.selection.setCursorLocation(a,0))},mceNewDocument:function(){f.setContent("")},InsertLineBreak:function(a,b,e){var g;a=z.getRng(!0);(new c(y)).normalize(a);var l=a.startOffset,k=a.startContainer;1==k.nodeType&&k.hasChildNodes()&&(b=l>k.childNodes.length-1,k=k.childNodes[Math.min(l,k.childNodes.length-1)]||k,l=b&&3==k.nodeType?k.nodeValue.length:0);var h=y.getParent(k,y.isBlock);b=h?h.nodeName.toUpperCase():"";var t=h?y.getParent(h.parentNode,y.isBlock):null,m=t?t.nodeName.toUpperCase():"";e=
e&&e.ctrlKey;"LI"!=m||e||(h=t,b=m);if(k&&3==k.nodeType&&l>=k.nodeValue.length){if(e=!p){a:{e=new d(k,h);for(l=f.schema.getNonEmptyElements();k=e.next();)if(l[k.nodeName.toLowerCase()]||0<k.length){e=!0;break a}e=void 0}e=!e}e&&(e=y.create("br"),a.insertNode(e),a.setStartAfter(e),a.setEndAfter(e),g=!0)}e=y.create("br");a.insertNode(e);k=y.doc.documentMode;p&&"PRE"==b&&(!k||8>k)&&e.parentNode.insertBefore(y.doc.createTextNode("\r"),e);b=y.create("span",{},"&nbsp;");e.parentNode.insertBefore(b,e);z.scrollIntoView(b);
y.remove(b);g?(a.setStartBefore(e),a.setEndBefore(e)):(a.setStartAfter(e),a.setEndAfter(e));z.setRng(a);f.undoManager.add();return q}});k({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(b){var c="align"+b.substring(7);b=z.isCollapsed()?[y.getParent(z.getNode(),y.isBlock)]:z.getSelectedBlocks();b=a(b,function(a){return!!G.matchNode(a,c)});return-1!==l(b,q)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return G.match(a)},mceBlockQuote:function(){return G.match("blockquote")},
Outdent:function(){var a;return D.inline_styles&&((a=y.getParent(z.getStart(),y.isBlock))&&0<parseInt(a.style.paddingLeft,10)||(a=y.getParent(z.getEnd(),y.isBlock))&&0<parseInt(a.style.paddingLeft,10))?q:w("InsertUnorderedList")||w("InsertOrderedList")||!D.inline_styles&&!!y.getParent(z.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var b=y.getParent(z.getNode(),"ul,ol");return b&&("insertunorderedlist"===a&&"UL"===b.tagName||"insertorderedlist"===a&&"OL"===b.tagName)}},
"state");k({"FontSize,FontName":function(a){var b=0,c;if(c=y.getParent(z.getNode(),"span"))b="fontsize"==a?c.style.fontSize:c.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase();return b}},"value");k({Undo:function(){f.undoManager.undo()},Redo:function(){f.undoManager.redo()}})}});x("tinymce/util/URI",["tinymce/util/Tools"],function(n){function h(b,d){var a=this,l,t;b=e(b);d=a.settings=d||{};l=d.base_uri;if(/^([\w\-]+):([^\/]{2})/i.test(b)||/^\s*#/.test(b))a.source=b;else{var m=
0===b.indexOf("//");0!==b.indexOf("/")||m||(b=(l?l.protocol||"http":"http")+"://mce_host"+b);/^[\w\-]*:?\/\//.test(b)||(t=d.base_uri?d.base_uri.path:(new h(location.href)).directory,""===d.base_uri.protocol?b="//mce_host"+a.toAbsPath(t,b):(b=/([^#?]*)([#?]?.*)/.exec(b),b=(l&&l.protocol||"http")+"://mce_host"+a.toAbsPath(t,b[1])+b[2]));b=b.replace(/@@/g,"(mce_at)");b=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(b);
f(c,function(c,d){var e=b[d];e&&(e=e.replace(/\(mce_at\)/g,"@@"));a[c]=e});l&&(a.protocol||(a.protocol=l.protocol),a.userInfo||(a.userInfo=l.userInfo),a.port||"mce_host"!==a.host||(a.port=l.port),a.host&&"mce_host"!==a.host||(a.host=l.host),a.source="");m&&(a.protocol="")}}var f=n.each,e=n.trim,c="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),d={ftp:21,http:80,https:443,mailto:25};h.prototype={setPath:function(b){b=/^(.*?)\/?(\w+)?$/.exec(b);
this.path=b[0];this.directory=b[1];this.file=b[2];this.source="";this.getURI()},toRelative:function(b){var c;if("./"===b)return b;b=new h(b,{base_uri:this});if("mce_host"!=b.host&&this.host!=b.host&&b.host||this.port!=b.port||this.protocol!=b.protocol&&""!==b.protocol)return b.getURI();c=this.getURI();var a=b.getURI();if(c==a||"/"==c.charAt(c.length-1)&&c.substr(0,c.length-1)==a)return c;c=this.toRelPath(this.path,b.path);b.query&&(c+="?"+b.query);b.anchor&&(c+="#"+b.anchor);return c},toAbsolute:function(b,
c){b=new h(b,{base_uri:this});return b.getURI(c&&this.isSameOrigin(b))},isSameOrigin:function(b){if(this.host==b.host&&this.protocol==b.protocol){if(this.port==b.port)return!0;var c=d[this.protocol];if(c&&(this.port||c)==(b.port||c))return!0}return!1},toRelPath:function(b,c){var a,d=0,e="",f,h;b=b.substring(0,b.lastIndexOf("/"));b=b.split("/");a=c.split("/");if(b.length>=a.length)for(f=0,h=b.length;f<h;f++)if(f>=a.length||b[f]!=a[f]){d=f+1;break}if(b.length<a.length)for(f=0,h=a.length;f<h;f++)if(f>=
b.length||b[f]!=a[f]){d=f+1;break}if(1===d)return c;f=0;for(h=b.length-(d-1);f<h;f++)e+="../";f=d-1;for(h=a.length;f<h;f++)e=f!=d-1?e+("/"+a[f]):e+a[f];return e},toAbsPath:function(b,c){var a,d=0,e=[],h;h=/\/$/.test(c)?"/":"";b=b.split("/");c=c.split("/");f(b,function(a){a&&e.push(a)});b=e;a=c.length-1;for(e=[];0<=a;a--)0!==c[a].length&&"."!==c[a]&&(".."===c[a]?d++:0<d?d--:e.push(c[a]));a=b.length-d;a=0>=a?e.reverse().join("/"):b.slice(0,a).join("/")+"/"+e.reverse().join("/");0!==a.indexOf("/")&&
(a="/"+a);h&&a.lastIndexOf("/")!==a.length-1&&(a+=h);return a},getURI:function(b){var c;if(!this.source||b)c="",b||(c=this.protocol?c+(this.protocol+"://"):c+"//",this.userInfo&&(c+=this.userInfo+"@"),this.host&&(c+=this.host),this.port&&(c+=":"+this.port)),this.path&&(c+=this.path),this.query&&(c+="?"+this.query),this.anchor&&(c+="#"+this.anchor),this.source=c;return this.source}};return h});x("tinymce/util/Class",["tinymce/util/Tools"],function(n){function h(){}var f=n.each,e=n.extend,c,d;h.extend=
c=function(b){function g(){var a,b,c;if(!d&&(this.init&&this.init.apply(this,arguments),b=this.Mixins))for(a=b.length;a--;)c=b[a],c.init&&c.init.apply(this,arguments)}function a(){return this}function l(a,b){return function(){var c=this._super,d;this._super=h[a];d=b.apply(this,arguments);this._super=c;return d}}var h=this.prototype,m,u,p;d=!0;m=new this;d=!1;b.Mixins&&(f(b.Mixins,function(a){for(var c in a)"init"!==c&&(b[c]=a[c])}),h.Mixins&&(b.Mixins=h.Mixins.concat(b.Mixins)));b.Methods&&f(b.Methods.split(","),
function(c){b[c]=a});b.Properties&&f(b.Properties.split(","),function(a){var c="_"+a;b[a]=function(a){return void 0!==a?(this[c]=a,this):this[c]}});b.Statics&&f(b.Statics,function(a,b){g[b]=a});b.Defaults&&h.Defaults&&(b.Defaults=e({},h.Defaults,b.Defaults));for(u in b)p=b[u],m[u]="function"==typeof p&&h[u]?l(u,p):p;g.prototype=m;g.constructor=g;g.extend=c;return g};return h});x("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(n){function h(e){function c(){return!1}function d(){return!0}
function b(b,d,e,g){var f,l;!1===d&&(d=c);if(d)for(d={func:d},g&&n.extend(d,g),f=b.toLowerCase().split(" "),l=f.length;l--;)b=f[l],g=h[b],g||(g=h[b]=[],m(b,!0)),e?g.unshift(d):g.push(d);return a}function g(b,c){var d,e,g,f,l;if(b)for(f=b.toLowerCase().split(" "),d=f.length;d--;){b=f[d];e=h[b];if(!b){for(g in h)m(g,!1),delete h[g];break}if(e){if(c)for(l=e.length;l--;)e[l].func===c&&(e=e.slice(0,l).concat(e.slice(l+1)),h[b]=e);else e.length=0;e.length||(m(b,!1),delete h[b])}}else{for(b in h)m(b,!1);
h={}}return a}var a=this,f,h={},m;e=e||{};f=e.scope||a;m=e.toggleEvent||c;a.fire=function(a,b){var m,n,s,r;a=a.toLowerCase();b=b||{};b.type=a;b.target||(b.target=f);b.preventDefault||(b.preventDefault=function(){b.isDefaultPrevented=d},b.stopPropagation=function(){b.isPropagationStopped=d},b.stopImmediatePropagation=function(){b.isImmediatePropagationStopped=d},b.isDefaultPrevented=c,b.isPropagationStopped=c,b.isImmediatePropagationStopped=c);e.beforeFire&&e.beforeFire(b);if(m=h[a])for(n=0,s=m.length;n<
s;n++){r=m[n];r.once&&g(a,r.func);if(b.isImmediatePropagationStopped()){b.stopPropagation();break}if(!1===r.func.call(f,b)){b.preventDefault();break}}return b};a.on=b;a.off=g;a.once=function(a,c,d){return b(a,c,d,{once:!0})};a.has=function(a){a=a.toLowerCase();return!(!h[a]||0===h[a].length)}}var f=n.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend",
" ");h.isNative=function(e){return!!f[e.toLowerCase()]};return h});x("tinymce/ui/Selector",["tinymce/util/Class"],function(n){function h(b){for(var a=[],c=b.length,d;c--;)d=b[c],d.__checked||(a.push(d),d.__checked=1);for(c=a.length;c--;)delete a[c].__checked;return a}var f=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
c=/^\s*|\s*$/g,d,b=n.extend({init:function(b){function a(a){if(a)return a=a.toLowerCase(),function(b){return"*"===a||b.type===a}}function d(a){if(a)return function(b){return b._name===a}}function h(a){if(a)return a=a.split("."),function(b){for(var c=a.length;c--;)if(!b.hasClass(a[c]))return!1;return!0}}function m(a,b,c){if(a)return function(d){d=d[a]?d[a]():"";return b?"="===b?d===c:"*="===b?0<=d.indexOf(c):"~="===b?0<=(" "+d+" ").indexOf(" "+c+" "):"!="===b?d!=c:"^="===b?0===d.indexOf(c):"$="===
b?d.substr(d.length-c.length)===c:!1:!!c}}function u(a){var b;if(a){a=/(?:not\((.+)\))|(.+)/i.exec(a);if(a[1])return b=q(a[1],[]),function(a){return!n(a,b)};a=a[2];return function(b,c,d){return"first"===a?0===c:"last"===a?c===d-1:"even"===a?0===c%2:"odd"===a?1===c%2:b[a]?b[a]():!1}}}function p(b,e,g){function k(a){a&&e.push(a)}b=f.exec(b.replace(c,""));k(a(b[1]));k(d(b[2]));k(h(b[3]));k(m(b[4],b[5],b[6]));k(u(b[7]));e.psuedo=!!b[7];e.direct=g;return e}function q(a,b){var c=[],d,g;do if(e.exec(""),
g=e.exec(a))if(a=g[3],c.push(g[1]),g[2]){d=g[3];break}while(g);d&&q(d,b);a=[];for(d=0;d<c.length;d++)">"!=c[d]&&a.push(p(c[d],[],">"===c[d-1]));b.push(a);return b}var n=this.match;this._selectors=q(b,[])},match:function(b,a){var c,d,e,f,h,q,n,s,r,w,k,B;a=a||this._selectors;c=0;for(d=a.length;c<d;c++){h=a[c];f=h.length;B=b;k=0;for(e=f-1;0<=e;e--)for(s=h[e];B;){if(s.psuedo)for(q=B.parent().items(),r=w=q.length;r--&&q[r]!==B;);q=0;for(n=s.length;q<n;q++)if(!s[q](B,r,w)){q=n+1;break}if(q===n){k++;break}else if(e===
f-1)break;B=B.parent()}if(k===f)return!0}return!1},find:function(c){function a(b,c,d){var g,f,h,k,t,m=c[d];g=0;for(f=b.length;g<f;g++){t=b[g];h=0;for(k=m.length;h<k;h++)if(!m[h](t,g,f)){h=k+1;break}if(h===k)d==c.length-1?e.push(t):t.items&&a(t.items(),c,d+1);else if(m.direct)break;t.items&&a(t.items(),c,d)}}var e=[],f,m,u=this._selectors;if(c.items){f=0;for(m=u.length;f<m;f++)a(c.items(),u[f],0);1<m&&(e=h(e))}d||(d=b.Collection);return new d(e)}});return b});x("tinymce/ui/Collection",["tinymce/util/Tools",
"tinymce/ui/Selector","tinymce/util/Class"],function(n,h,f){var e,c,d=Array.prototype.push,b=Array.prototype.slice;c={length:0,init:function(b){b&&this.add(b)},add:function(b){n.isArray(b)?d.apply(this,b):b instanceof e?this.add(b.toArray()):d.call(this,b);return this},set:function(b){var a=this.length;this.length=0;this.add(b);for(b=this.length;b<a;b++)delete this[b];return this},filter:function(b){var a,c,d=[],f,u;"string"===typeof b?(b=new h(b),u=function(a){return b.match(a)}):u=b;a=0;for(c=this.length;a<
c;a++)f=this[a],u(f)&&d.push(f);return new e(d)},slice:function(){return new e(b.apply(this,arguments))},eq:function(b){return-1===b?this.slice(b):this.slice(b,+b+1)},each:function(b){n.each(this,b);return this},toArray:function(){return n.toArray(this)},indexOf:function(b){for(var a=this.length;a--&&this[a]!==b;);return a},reverse:function(){return new e(n.toArray(this).reverse())},hasClass:function(b){return this[0]?this[0].hasClass(b):!1},prop:function(b,a){var c;if(void 0!==a)return this.each(function(c){if(c[b])c[b](a)}),
this;if((c=this[0])&&c[b])return c[b]()},exec:function(b){var a=n.toArray(arguments).slice(1);this.each(function(c){c[b]&&c[b].apply(c,a)});return this},remove:function(){for(var b=this.length;b--;)this[b].remove();return this}};n.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(b){c[b]=function(){var a=n.toArray(arguments);this.each(function(c){b in c&&c[b].apply(c,a)});return this}});n.each("text name disabled active selected checked visible parent value data".split(" "),
function(b){c[b]=function(a){return this.prop(b,a)}});e=f.extend(c);return h.Collection=e});x("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(n,h){var f=0;return{id:function(){return"mceu_"+f++},createFragment:function(e){return h.DOM.createFragment(e)},getWindowSize:function(){return h.DOM.getViewPort()},getSize:function(e){var c;if(e.getBoundingClientRect){var d=e.getBoundingClientRect();c=Math.max(d.width||d.right-d.left,e.offsetWidth);e=Math.max(d.height||d.bottom-
d.bottom,e.offsetHeight)}else c=e.offsetWidth,e=e.offsetHeight;return{width:c,height:e}},getPos:function(e,c){return h.DOM.getPos(e,c)},getViewPort:function(e){return h.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,c){return h.DOM.addClass(e,c)},removeClass:function(e,c){return h.DOM.removeClass(e,c)},hasClass:function(e,c){return h.DOM.hasClass(e,c)},toggleClass:function(e,c,d){return h.DOM.toggleClass(e,c,d)},css:function(e,c,d){return h.DOM.setStyle(e,
c,d)},getRuntimeStyle:function(e,c){return h.DOM.getStyle(e,c,!0)},on:function(e,c,d,b){return h.DOM.bind(e,c,d,b)},off:function(e,c,d){return h.DOM.unbind(e,c,d)},fire:function(e,c,d){return h.DOM.fire(e,c,d)},innerHtml:function(e,c){h.DOM.setHTML(e,c)}}});x("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/ui/Collection","tinymce/ui/DomUtils"],function(n,h,f,e,c){function d(a){a._eventDispatcher||(a._eventDispatcher=new f({scope:a,toggleEvent:function(b,
c){c&&f.isNative(b)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[b]=!0,a._rendered&&a.bindPendingEvents())}}));return a._eventDispatcher}var b="onmousewheel"in document,g=n.extend({Statics:{classPrefix:"mce-"},isRtl:function(){return g.rtl},classPrefix:"mce-",init:function(a){var b=this,d,e;b.settings=a=h.extend({},b.Defaults,a);b._id=a.id||c.id();b._text=b._name="";b._width=b._height=0;b._aria={role:a.role};this._elmCache={};if(d=a.classes)for(d=d.split(" "),d.map={},e=d.length;e--;)d.map[d[e]]=
!0;b._classes=d||[];b.visible(!0);h.each("title text width height name classes visible disabled active value".split(" "),function(c){var d=a[c];if(void 0!==d)b[c](d);else void 0===b["_"+c]&&(b["_"+c]=!1)});b.on("click",function(){if(b.disabled())return!1});a.classes&&h.each(a.classes.split(" "),function(a){b.addClass(a)});b.settings=a;b._borderBox=b.parseBox(a.border);b._paddingBox=b.parseBox(a.padding);b._marginBox=b.parseBox(a.margin);a.hidden&&b.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",
Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(a){for(var b,c=this.getRoot().controlIdLookup;a&&c&&!(b=c[a.id]);)a=a.parentNode;return b},parseBox:function(a){var b;if(a){if("number"===typeof a)return a=a||0,{top:a,left:a,bottom:a,right:a};a=a.split(" ");b=a.length;1===b?a[1]=a[2]=a[3]=a[0]:2===b?(a[2]=a[0],a[3]=a[1]):3===b&&(a[3]=a[1]);return{top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}}},
borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(a,b){function c(b){var d=document.defaultView;return d?(b=b.replace(/[A-Z]/g,function(a){return"-"+a}),d.getComputedStyle(a,null).getPropertyValue(b)):a.currentStyle[b]}function d(a){a=parseFloat(c(a),10);return isNaN(a)?0:a}return{top:d(b+"TopWidth"),right:d(b+"RightWidth"),bottom:d(b+"BottomWidth"),left:d(b+"LeftWidth")}},initLayoutRect:function(){var a=
this.settings,b,d=this.getEl(),e,f,g,h,n,s;b=this._borderBox=this._borderBox||this.measureBox(d,"border");this._paddingBox=this._paddingBox||this.measureBox(d,"padding");this._marginBox=this._marginBox||this.measureBox(d,"margin");e=c.getSize(d);n=a.minWidth;s=a.minHeight;d=n||e.width;g=s||e.height;e=a.width;f=a.height;h=a.autoResize;h="undefined"!=typeof h?h:!e&&!f;e=e||d;f=f||g;var r=b.left+b.right;b=b.top+b.bottom;var w=a.maxWidth||65535,k=a.maxHeight||65535;this._layoutRect=a={x:a.x||0,y:a.y||
0,w:e,h:f,deltaW:r,deltaH:b,contentW:e-r,contentH:f-b,innerW:e-r,innerH:f-b,startMinWidth:n||0,startMinHeight:s||0,minW:Math.min(d,w),minH:Math.min(g,k),maxW:w,maxH:k,autoResize:h,scrollW:0};this._lastLayoutRect={};return a},layoutRect:function(a){var b=this._layoutRect,c,d,e;b||(b=this.initLayoutRect());if(a){d=b.deltaW;e=b.deltaH;void 0!==a.x&&(b.x=a.x);void 0!==a.y&&(b.y=a.y);void 0!==a.minW&&(b.minW=a.minW);void 0!==a.minH&&(b.minH=a.minH);c=a.w;void 0!==c&&(c=c<b.minW?b.minW:c,c=c>b.maxW?b.maxW:
c,b.w=c,b.innerW=c-d);c=a.h;void 0!==c&&(c=c<b.minH?b.minH:c,c=c>b.maxH?b.maxH:c,b.h=c,b.innerH=c-e);c=a.innerW;void 0!==c&&(c=c<b.minW-d?b.minW-d:c,c=c>b.maxW-d?b.maxW-d:c,b.innerW=c,b.w=c+d);c=a.innerH;void 0!==c&&(c=c<b.minH-e?b.minH-e:c,c=c>b.maxH-e?b.maxH-e:c,b.innerH=c,b.h=c+e);void 0!==a.contentW&&(b.contentW=a.contentW);void 0!==a.contentH&&(b.contentH=a.contentH);a=this._lastLayoutRect;if(a.x!==b.x||a.y!==b.y||a.w!==b.w||a.h!==b.h)(c=g.repaintControls)&&c.map&&!c.map[this._id]&&(c.push(this),
c.map[this._id]=!0),a.x=b.x,a.y=b.y,a.w=b.w,a.h=b.h;return this}return b},repaint:function(){var a,b,c,d,e=0;d=0;var f,g;g=document.createRange?function(a){return a}:Math.round;a=this.getEl().style;c=this._layoutRect;f=this._lastRepaintRect||{};d=this._borderBox;e=d.left+d.right;d=d.top+d.bottom;c.x!==f.x&&(a.left=g(c.x)+"px",f.x=c.x);c.y!==f.y&&(a.top=g(c.y)+"px",f.y=c.y);c.w!==f.w&&(a.width=g(c.w-e)+"px",f.w=c.w);c.h!==f.h&&(a.height=g(c.h-d)+"px",f.h=c.h);this._hasBody&&c.innerW!==f.innerW&&(b=
this.getEl("body").style,b.width=g(c.innerW)+"px",f.innerW=c.innerW);this._hasBody&&c.innerH!==f.innerH&&(b=b||this.getEl("body").style,b.height=g(c.innerH)+"px",f.innerH=c.innerH);this._lastRepaintRect=f;this.fire("repaint",{},!1)},on:function(a,b){var c=this;d(c).on(a,function(a){var b,d;return"string"!=typeof a?a:function(e){b||c.parentsAndSelf().each(function(c){var e=c.settings.callbacks;if(e&&(b=e[a]))return d=c,!1});return b.call(d,e)}}(b));return c},off:function(a,b){d(this).off(a,b);return this},
fire:function(a,b,c){b=b||{};b.control||(b.control=this);b=d(this).fire(a,b);if(!1!==c&&this.parent)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),c=c.parent();return b},hasEventListeners:function(a){return d(this).has(a)},parents:function(a){var b,c=new e;for(b=this.parent();b;b=b.parent())c.add(b);a&&(c=c.filter(a));return c},parentsAndSelf:function(a){return(new e(this)).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=
this.parent().items();return a[a.indexOf(this)-1]},findCommonAncestor:function(a,b){for(var c;a;){for(c=b;c&&a!=c;)c=c.parent();if(a==c)break;a=a.parent()}return a},hasClass:function(a,b){var c=this._classes[b||"control"];a=this.classPrefix+a;return c&&!!c.map[a]},addClass:function(a,b){var c,d;a=this.classPrefix+a;c=this._classes[b||"control"];c||(c=[],c.map={},this._classes[b||"control"]=c);!c.map[a]&&(c.map[a]=a,c.push(a),this._rendered&&(d=this.getEl(b)))&&(d.className=c.join(" "));return this},
removeClass:function(a,b){var c,d;a=this.classPrefix+a;if((c=this._classes[b||"control"])&&c.map[a])for(delete c.map[a],d=c.length;d--;)c[d]===a&&c.splice(d,1);this._rendered&&(d=this.getEl(b))&&(d.className=c.join(" "));return this},toggleClass:function(a,b,c){b?this.addClass(a,c):this.removeClass(a,c);return this},classes:function(a){return(a=this._classes[a||"control"])?a.join(" "):""},innerHtml:function(a){c.innerHtml(this.getEl(),a);return this},getEl:function(a){a=a?this._id+"-"+a:this._id;
this._elmCache[a]||(this._elmCache[a]=c.get(a));return this._elmCache[a]},visible:function(a){var b;if("undefined"!==typeof a){if(this._visible!==a){this._rendered&&(this.getEl().style.display=a?"":"none");this._visible=a;if(b=this.parent())b._lastRect=null;this.fire(a?"show":"hide")}return this}return this._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){this.getEl().blur();
return this},aria:function(a,b){var c=this.getEl(this.ariaTarget);if("undefined"===typeof b)return this._aria[a];this._aria[a]=b;this._rendered&&c.setAttribute("role"==a?a:"aria-"+a,b);return this},encode:function(a,b){!1!==b&&(a=this.translate(a));return(a||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},translate:function(a){return g.translate?g.translate(a):a},before:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this),!0);return this},after:function(a){var b=
this.parent();b&&b.insert(a,b.items().indexOf(this));return this},remove:function(){var a=this,b=a.getEl(),d=a.parent(),e,f;if(a.items){var g=a.items().toArray();for(f=g.length;f--;)g[f].remove()}d&&d.items&&(e=[],d.items().each(function(b){b!==a&&e.push(b)}),d.items().set(e),d._lastRect=null);a._eventsRoot&&a._eventsRoot==a&&c.off(b);(d=a.getRoot().controlIdLookup)&&delete d[a._id];b&&b.parentNode&&b.parentNode.removeChild(b);a._rendered=!1;return a},renderBefore:function(a){a.parentNode.insertBefore(c.createFragment(this.renderHtml()),
a);this.postRender();return this},renderTo:function(a){a=a||this.getContainerElm();a.appendChild(c.createFragment(this.renderHtml()));this.postRender();return this},postRender:function(){var a=this.settings,b,d,e;for(d in a)if(0===d.indexOf("on"))this.on(d.substr(2),a[d]);if(this._eventsRoot){for(b=this.parent();!e&&b;b=b.parent())e=b._eventsRoot;if(e)for(d in e._nativeEvents)this._nativeEvents[d]=!0}this.bindPendingEvents();a.style&&(b=this.getEl())&&(b.setAttribute("style",a.style),b.style.cssText=
a.style);this._visible||c.css(this.getEl(),"display","none");this.settings.border&&(a=this.borderBox(),c.css(this.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));a=this.getRoot();a.controlIdLookup||(a.controlIdLookup={});a.controlIdLookup[this._id]=this;for(var f in this._aria)this.aria(f,this._aria[f]);this.fire("postrender",{},!1)},scrollIntoView:function(a){var b=this.getEl(),c=b.parentNode,d,e,f,g,h;f=b;for(d=e=0;f&&f!=
c&&f.nodeType;)d+=f.offsetLeft||0,e+=f.offsetTop||0,f=f.offsetParent;f=b.offsetWidth;b=b.offsetHeight;g=c.clientWidth;h=c.clientHeight;"end"==a?(d-=g-f,e-=h-b):"center"==a&&(d-=g/2-f/2,e-=h/2-b/2);c.scrollLeft=d;c.scrollTop=e;return this},bindPendingEvents:function(){function a(a){var b=g.getParentCtrl(a.target);b&&b.fire(a.type,a)}function d(){var a=s._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(a){a.fire("mouseleave",{target:a.getEl()})}),s._lastHoverCtrl=
null)}function e(a){var b=g.getParentCtrl(a.target);a=s._lastHoverCtrl;var c=0,d,f;if(b!==a){s._lastHoverCtrl=b;f=b.parents().toArray().reverse();f.push(b);if(a){b=a.parents().toArray().reverse();b.push(a);for(c=0;c<b.length&&f[c]===b[c];c++);for(d=b.length-1;d>=c;d--)a=b[d],a.fire("mouseleave",{target:a.getEl()})}for(d=c;d<f.length;d++)b=f[d],b.fire("mouseenter",{target:b.getEl()})}}function f(a){a.preventDefault();"mousewheel"==a.type?(a.deltaY=-0.025*a.wheelDelta,a.wheelDeltaX&&(a.deltaX=-0.025*
a.wheelDeltaX)):(a.deltaX=0,a.deltaY=a.detail);g.fire("wheel",a)}var g=this,h,q,n,s,r,w;g._rendered=!0;if(r=g._nativeEvents){n=g.parents().toArray();n.unshift(g);h=0;for(q=n.length;!s&&h<q;h++)s=n[h]._eventsRoot;s||(s=n[n.length-1]||g);g._eventsRoot=s;q=h;for(h=0;h<q;h++)n[h]._eventsRoot=s;h=s._delegates;h||(h=s._delegates={});for(w in r){if(!r)return!1;if("wheel"===w)if(b)c.on(g.getEl(),"mousewheel",f);else c.on(g.getEl(),"DOMMouseScroll",f);else"mouseenter"===w||"mouseleave"===w?s._hasMouseEnter||
(c.on(s.getEl(),"mouseleave",d),c.on(s.getEl(),"mouseover",e),s._hasMouseEnter=1):h[w]||(c.on(s.getEl(),w,a),h[w]=!0),r[w]=!1}}},getRoot:function(){for(var a=this,b,c=[];a;){if(a.rootControl){b=a.rootControl;break}c.push(a);b=a;a=a.parent()}b||(b=this);for(a=c.length;a--;)c[a].rootControl=b;return b},reflow:function(){this.repaint();return this}});return g});x("tinymce/ui/Factory",[],function(){var n={},h;return{add:function(f,e){n[f.toLowerCase()]=e},has:function(f){return!!n[f.toLowerCase()]},create:function(f,
e){var c,d;if(!h){d=tinymce.ui;for(c in d)n[c.toLowerCase()]=d[c];h=!0}"string"==typeof f?(e=e||{},e.type=f):(e=f,f=e.type);f=f.toLowerCase();c=n[f];if(!c)throw Error("Could not find control by type: "+f);c=new c(e);c.type=f;return c}}});x("tinymce/ui/KeyboardNavigation",[],function(){return function(n){function h(a){return(a=a||s)&&a.getAttribute("role")}function f(a){for(var b=a||s;b=b.parentNode;)if(a=h(b))return a}function e(a){var b=s;if(b)return b.getAttribute("aria-"+a)}function c(a){a=a.tagName.toUpperCase();
return"INPUT"==a||"TEXTAREA"==a}function d(a){function b(a){if(1==a.nodeType&&"none"!=a.style.display){var e;e=c(a)&&!a.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(h(a))?!0:!1;e&&d.push(a);for(e=0;e<a.childNodes.length;e++)b(a.childNodes[e])}}var d=[];b(a||v.getEl());return d}function b(a){var b,c;a=a||r;c=a.parents().toArray();c.unshift(a);for(a=0;a<c.length&&(b=c[a],!b.settings.ariaRoot);a++);return b}function g(a,b){0>a?a=b.length-1:a>=b.length&&(a=0);b[a]&&
b[a].focus();return a}function a(a,c){var e=-1,f=b();c=c||d(f.getEl());for(var l=0;l<c.length;l++)c[l]===s&&(e=l);f.lastAriaIndex=g(e+a,c)}function l(){"tablist"==f()?a(-1,d(s.parentNode)):r.parent().submenu?r.fire("cancel"):a(-1)}function t(){var b=h(),c=f();"tablist"==c?a(1,d(s.parentNode)):"menuitem"==b&&"menu"==c&&e("haspopup")?q():a(1)}function m(){a(-1)}function u(){var b=h(),c=f();"menuitem"==b&&"menubar"==c?q():"button"==b&&e("haspopup")?q({key:"down"}):a(1)}function p(b){"tablist"==f()?(b=
d(r.getEl("body"))[0])&&b.focus():a(b.shiftKey?-1:1)}function q(a){a=a||{};r.fire("click",{target:s,aria:a})}var v=n.root,s,r;try{s=document.activeElement}catch(w){s=document.body}r=v.getParentCtrl(s);v.on("keydown",function(a){function b(a,d){c(s)||!1!==d(a)&&a.preventDefault()}if(!a.isDefaultPrevented())switch(a.keyCode){case 37:b(a,l);break;case 39:b(a,t);break;case 38:b(a,m);break;case 40:b(a,u);break;case 27:r.fire("cancel");break;case 14:case 13:case 32:b(a,q);break;case 9:!1!==p(a)&&a.preventDefault()}});
v.on("focusin",function(a){s=a.target;r=a.control});return{focusFirst:function(a){a=b(a);var c=d(a.getEl());a.settings.ariaRemember&&"lastAriaIndex"in a?g(a.lastAriaIndex,c):g(0,c)}}}});x("tinymce/ui/Container","tinymce/ui/Control tinymce/ui/Collection tinymce/ui/Selector tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/util/Tools tinymce/ui/DomUtils".split(" "),function(n,h,f,e,c,d,b){var g={};return n.extend({layout:"",innerClass:"container-inner",init:function(a){this._super(a);a=this.settings;
this._fixed=a.fixed;this._items=new h;this.isRtl()&&this.addClass("rtl");this.addClass("container");this.addClass("container-body","body");a.containerCls&&this.addClass(a.containerCls);this._layout=e.create((a.layout||this.layout)+"layout");this.settings.items&&this.add(this.settings.items);this._hasBody=!0},items:function(){return this._items},find:function(a){a=g[a]=g[a]||new f(a);return a.find(this)},add:function(a){this.items().add(this.create(a)).parent(this);return this},focus:function(a){var b;
if(a&&(a=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)){a.focusFirst(this);return}a=this.find("*");this.statusbar&&a.add(this.statusbar.items());a.each(function(a){if(a.settings.autofocus)return b=null,!1;a.canFocus&&(b=b||a)});b&&b.focus();return this},replace:function(a,b){var c;c=this.items();for(var d=c.length;d--;)if(c[d]===a){c[d]=b;break}0<=d&&((c=b.getEl())&&c.parentNode.removeChild(c),(c=a.getEl())&&c.parentNode.removeChild(c));b.parent(this)},create:function(a){var b=this,c,f=
[];d.isArray(a)||(a=[a]);d.each(a,function(a){a&&(a instanceof n||("string"==typeof a&&(a={type:a}),c=d.extend({},b.settings.defaults,a),a.type=c.type=c.type||a.type||b.settings.defaultType||(c.defaults?c.defaults.type:null),a=e.create(c)),f.push(a))});return f},renderNew:function(){var a=this;a.items().each(function(c,d){var e,f;c.parent(a);c._rendered||(e=a.getEl("body"),f=b.createFragment(c.renderHtml()),e.hasChildNodes()&&d<=e.childNodes.length-1?e.insertBefore(f,e.childNodes[d]):e.appendChild(f),
c.postRender())});a._layout.applyClasses(a);a._lastRect=null;return a},append:function(a){return this.add(a).renderNew()},prepend:function(a){this.items().set(this.create(a).concat(this.items().toArray()));return this.renderNew()},insert:function(a,b,c){var d;a=this.create(a);d=this.items();!c&&b<d.length-1&&(b+=1);0<=b&&b<d.length&&(c=d.slice(0,b).toArray(),b=d.slice(b).toArray(),d.set(c.concat(a,b)));return this.renderNew()},fromJSON:function(a){for(var b in a)this.find("#"+b).value(a[b]);return this},
toJSON:function(){var a={};this.find("*").each(function(b){var c=b.name();b=b.value();c&&"undefined"!=typeof b&&(a[c]=b)});return a},preRender:function(){},renderHtml:function(){var a=this._layout,b=this.settings.role;this.preRender();a.preRender(this);return'<div id="'+this._id+'" class="'+this.classes()+'"'+(b?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+a.renderHtml(this)+"</div></div>"},postRender:function(){var a;
this.items().exec("postRender");this._super();this._layout.postRender(this);this._rendered=!0;this.settings.style&&b.css(this.getEl(),this.settings.style);this.settings.border&&(a=this.borderBox(),b.css(this.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));this.parent()||(this.keyboardNav=new c({root:this}));return this},initLayoutRect:function(){var a=this._super();this._layout.recalc(this);return a},recalc:function(){var a=
this._layoutRect,b=this._lastRect;if(!b||b.w!=a.w||b.h!=a.h)return this._layout.recalc(this),a=this.layoutRect(),this._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0},reflow:function(){var a;if(this.visible()){n.repaintControls=[];n.repaintControls.map={};this.recalc();for(a=n.repaintControls.length;a--;)n.repaintControls[a].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint();n.repaintControls=[]}return this}})});x("tinymce/ui/DragHelper",["tinymce/ui/DomUtils"],function(n){return function(h,
f){var e,c=document,d,b,g,a,l;f=f||{};g=function(c){if(c.button!==d)return b(c);c.deltaX=c.screenX-a;c.deltaY=c.screenY-l;c.preventDefault();f.drag(c)};b=function(a){n.off(c,"mousemove",g);n.off(c,"mouseup",b);e.parentNode.removeChild(e);f.stop&&f.stop(a)};this.destroy=function(){n.off(c.getElementById(f.handle||h))};n.on(c.getElementById(f.handle||h),"mousedown",function(t){var m,u;u=document;var p,q,v,s,r,w;w=Math.max;m=u.documentElement;p=u.body;q=w(m.scrollWidth,p.scrollWidth);v=w(m.clientWidth,
p.clientWidth);s=w(m.offsetWidth,p.offsetWidth);u=w(m.scrollHeight,p.scrollHeight);r=w(m.clientHeight,p.clientHeight);w=w(m.offsetHeight,p.offsetHeight);m=q<s?v:q;u=u<w?r:u;t.preventDefault();d=t.button;r=c.getElementById(f.handle||h);a=t.screenX;l=t.screenY;r=window.getComputedStyle?window.getComputedStyle(r,null).getPropertyValue("cursor"):r.runtimeStyle.cursor;e=c.createElement("div");n.css(e,{position:"absolute",top:0,left:0,width:m,height:u,zIndex:2147483647,opacity:1E-4,cursor:r});c.body.appendChild(e);
n.on(c,"mousemove",g);n.on(c,"mouseup",b);f.start(t)})}});x("tinymce/ui/Scrollable",["tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(n,h){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function f(){function b(b,f,h,l,q,v){var s,r,w;if(s=c.getEl("scroll"+b))r=f.toLowerCase(),w=h.toLowerCase(),c.getEl("absend")&&n.css(c.getEl("absend"),r,c.layoutRect()[l]-1),q?(n.css(s,"display","block"),l=c.getEl("body"),b=c.getEl("scroll"+b+"t"),q=l["client"+h]-2*d,q-=
e&&a?s["client"+v]:0,h=l["scroll"+h],h=q/h,v={},v[r]=l["offset"+f]+d,v[w]=q,n.css(s,v),v={},v[r]=l["scroll"+f]*h,v[w]=q*h,n.css(b,v)):n.css(s,"display","none")}var e,a,f;f=c.getEl("body");e=f.scrollWidth>f.clientWidth;a=f.scrollHeight>f.clientHeight;b("h","Left","Width","contentW",e,"Height");b("v","Top","Height","contentH",a,"Width")}function e(){function b(b,a,e,f,m){var u,p=c._id+"-scroll"+b,q=c.classPrefix;c.getEl().appendChild(n.createFragment('<div id="'+p+'" class="'+q+"scrollbar "+q+"scrollbar-"+
b+'"><div id="'+p+'t" class="'+q+'scrollbar-thumb"></div></div>'));c.draghelper=new h(p+"t",{start:function(){u=c.getEl("body")["scroll"+a];n.addClass(n.get(p),q+"active")},drag:function(h){var p,r,q;r=c.layoutRect();p=r.contentW>r.innerW;r=r.contentH>r.innerH;q=c.getEl("body")["client"+e]-2*d;q-=p&&r?c.getEl("scroll"+b)["client"+m]:0;p=q/c.getEl("body")["scroll"+e];c.getEl("body")["scroll"+a]=u+h["delta"+f]/p},stop:function(){n.removeClass(n.get(p),q+"active")}})}c.addClass("scroll");b("v","Top",
"Height","Y","Width");b("h","Left","Width","X","Height")}var c=this,d=2;c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,e(),c.on("wheel",function(b){var d=c.getEl("body");d.scrollLeft+=10*(b.deltaX||0);d.scrollTop+=10*b.deltaY;f()}),n.on(c.getEl("body"),"scroll",f)),f())}}});x("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(n,h){return n.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[h],renderHtml:function(){var f=this._layout,e=this.settings.html;
this.preRender();f.preRender(this);"undefined"==typeof e?e='<div id="'+this._id+'-body" class="'+this.classes("body")+'">'+f.renderHtml(this)+"</div>":("function"==typeof e&&(e=e.call(this)),this._hasBody=!1);return'<div id="'+this._id+'" class="'+this.classes()+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+e+"</div>"}})});x("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(n){function h(f,e,c){var d,b,g,a;g=n.getViewPort();d=n.getPos(e);b=d.x;d=d.y;f._fixed&&"static"==
n.getRuntimeStyle(document.body,"position")&&(b-=g.x,d-=g.y);f=f.getEl();a=n.getSize(f);f=a.width;g=a.height;a=n.getSize(e);e=a.width;a=a.height;c=(c||"").split("");"b"===c[0]&&(d+=a);"r"===c[1]&&(b+=e);"c"===c[0]&&(d+=Math.round(a/2));"c"===c[1]&&(b+=Math.round(e/2));"b"===c[3]&&(d-=g);"r"===c[4]&&(b-=f);"c"===c[3]&&(d-=Math.round(g/2));"c"===c[4]&&(b-=Math.round(f/2));return{x:b,y:d,w:f,h:g}}return{testMoveRel:function(f,e){for(var c=n.getViewPort(),d=0;d<e.length;d++){var b=h(this,f,e[d]);if(this._fixed){if(0<
b.x&&b.x+b.w<c.w&&0<b.y&&b.y+b.h<c.h)return e[d]}else if(b.x>c.x&&b.x+b.w<c.w+c.x&&b.y>c.y&&b.y+b.h<c.h+c.y)return e[d]}return e[0]},moveRel:function(f,e){"string"!=typeof e&&(e=this.testMoveRel(f,e));var c=h(this,f,e);return this.moveTo(c.x,c.y)},moveBy:function(f,e){var c=this.layoutRect();this.moveTo(c.x+f,c.y+e);return this},moveTo:function(f,e){function c(b,a,c){return 0>b?0:b+c>a?(b=a-c,0>b?0:b):b}if(this.settings.constrainToViewport){var d=n.getViewPort(window),b=this.layoutRect();f=c(f,d.w+
d.x,b.w);e=c(e,d.h+d.y,b.h)}this._rendered?this.layoutRect({x:f,y:e}).repaint():(this.settings.x=f,this.settings.y=e);this.fire("move",{x:f,y:e});return this}}});x("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(n){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(h,f){if(1>=h||1>=f){var e=n.getWindowSize();h=1>=h?h*e.w:h;f=1>=f?f*e.h:f}this._layoutRect.autoResize=!1;return this.layoutRect({minW:h,minH:f,w:h,h:f}).reflow()},
resizeBy:function(h,f){var e=this.layoutRect();return this.resizeTo(e.w+h,e.h+f)}}});x("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils"],function(n,h,f,e){function c(){t||(t=function(a){if(2!=a.button)for(var b=p.length;b--;){var c=p[b],d=c.getParentCtrl(a.target);if(c.settings.autohide){if(d){var e;a:{e=d;for(var f=c;e;){if(e==f){e=!0;break a}e=e.parent()}e=void 0}if(e||c.parent()===d)continue}a=c.fire("autohide",{target:a.target});a.isDefaultPrevented()||
c.hide()}}},e.on(document,"click",t))}function d(){m||(m=function(){var a;for(a=p.length;a--;)g(p[a])},e.on(window,"scroll",m))}function b(){if(!u){var a=document.documentElement,b=a.clientWidth,c=a.clientHeight;u=function(){document.all&&b==a.clientWidth&&c==a.clientHeight||(b=a.clientWidth,c=a.clientHeight,s.hideAll())};e.on(window,"resize",u)}}function g(a){function b(c,d){for(var e,f=0;f<p.length;f++)if(p[f]!=a)for(e=p[f].parent();e&&(e=e.parent());)e==a&&p[f].fixed(c).moveBy(0,d).repaint()}var c=
e.getViewPort().y;a.settings.autofix&&(a._fixed?a._autoFixY>c&&(a.fixed(!1).layoutRect({y:a._autoFixY}).repaint(),b(!1,a._autoFixY-c)):(a._autoFixY=a.layoutRect().y,a._autoFixY<c&&(a.fixed(!0).layoutRect({y:0}).repaint(),b(!0,c-a._autoFixY))))}function a(a,b){var c,d=(s.zIndex||65535)+(zenarioAB.isOpen?3E5:0),f;if(a)q.push(b);else for(c=q.length;c--;)q[c]===b&&q.splice(c,1);if(q.length)for(c=0;c<q.length;c++)q[c].modal&&(d++,f=q[c]),q[c].getEl().style.zIndex=d,q[c].zIndex=d,d++;c=document.getElementById(b.classPrefix+
"modal-block");f?e.css(c,"z-index",f.zIndex-1):c&&(c.parentNode.removeChild(c),v=!1);s.currentZIndex=d}function l(a){var b;for(b=p.length;b--;)p[b]===a&&p.splice(b,1);for(b=q.length;b--;)q[b]===a&&q.splice(b,1)}var t,m,u,p=[],q=[],v,s=n.extend({Mixins:[h,f],init:function(f){var h=this;h._super(f);h._eventsRoot=h;h.addClass("floatpanel");f.autohide&&(c(),b(),p.push(h));f.autofix&&(d(),h.on("move",function(){g(this)}));h.on("postrender show",function(b){if(b.control==h){var c,d=h.classPrefix;h.modal&&
!v&&(c=e.createFragment('<div id="'+d+'modal-block" class="'+d+"reset "+d+'fade"></div>'),c=c.firstChild,h.getContainerElm().appendChild(c),setTimeout(function(){e.addClass(c,d+"in");e.addClass(h.getEl(),d+"in")},0),v=!0);a(!0,h)}});h.on("show",function(){h.parents().each(function(a){if(a._fixed)return h.fixed(!0),!1})});f.popover&&(h._preBodyHtml='<div class="'+h.classPrefix+'arrow"></div>',h.addClass("popover").addClass("bottom").addClass(h.isRtl()?"end":"start"))},fixed:function(a){if(this._fixed!=
a){if(this._rendered){var b=e.getViewPort();a?this.layoutRect().y-=b.y:this.layoutRect().y+=b.y}this.toggleClass("fixed",a);this._fixed=a}return this},show:function(){var a,b=this._super();for(a=p.length;a--&&p[a]!==this;);-1===a&&p.push(this);return b},hide:function(){l(this);a(!1,this);return this._super()},hideAll:function(){s.hideAll()},close:function(){this.fire("close").isDefaultPrevented()||(this.remove(),a(!1,this));return this},remove:function(){l(this);this._super()},postRender:function(){this.settings.bodyRole&&
this.getEl("body").setAttribute("role",this.settings.bodyRole);return this._super()}});s.hideAll=function(){for(var a=p.length;a--;){var b=p[a];b&&b.settings.autohide&&(b.hide(),p.splice(a,1))}};return s});x("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(n,h,f,e){return n.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},
close:function(){this.close()}}},init:function(c){var d=this;d._super(c);d.isRtl()&&d.addClass("rtl");d.addClass("window");d._fixed=!0;c.buttons&&(d.statusbar=new h({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:d.isRtl()?"start":"end",defaults:{type:"button"},items:c.buttons}),d.statusbar.addClass("foot"),d.statusbar.parent(d));d.on("click",function(b){-1!=b.target.className.indexOf(d.classPrefix+"close")&&d.close()});d.on("cancel",function(){d.close()});d.aria("describedby",
d.describedBy||d._id+"-none");d.aria("label",c.title);d._fullscreen=!1},recalc:function(){var c=this.statusbar,d,b,e;this._fullscreen&&(this.layoutRect(f.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH);this._super();d=this.layoutRect();this.settings.title&&!this._fullscreen&&(b=d.headerW,b>d.w&&(e=d.x-Math.max(0,b/2),this.layoutRect({w:b,x:e}),e=!0));c&&(c.layoutRect({w:this.layoutRect().innerW}).recalc(),b=c.layoutRect().minW+d.deltaW,b>d.w&&(e=d.x-Math.max(0,b-d.w),this.layoutRect({w:b,
x:e}),e=!0));e&&this.recalc()},initLayoutRect:function(){var c=this._super(),d=0,b;this.settings.title&&!this._fullscreen&&(b=this.getEl("head"),b=f.getSize(b),c.headerW=b.width,c.headerH=b.height,d+=c.headerH);this.statusbar&&(d+=this.statusbar.layoutRect().h);c.deltaH+=d;c.minH+=d;c.h+=d;d=f.getWindowSize();c.x=Math.max(0,d.w/2-c.w/2);c.y=Math.max(0,d.h/2-c.h/2);return c},renderHtml:function(){var c=this._layout,d=this._id,b=this.classPrefix,e=this.settings,a="",f="",h=e.html;this.preRender();c.preRender(this);
e.title&&(a='<div id="'+d+'-head" class="'+b+'window-head"><div id="'+d+'-title" class="'+b+'title">'+this.encode(e.title)+'</div><button type="button" class="'+b+'close" aria-hidden="true">\u00d7</button><div id="'+d+'-dragh" class="'+b+'dragh"></div></div>');e.url&&(h='<iframe src="'+e.url+'" tabindex="-1"></iframe>');"undefined"==typeof h&&(h=c.renderHtml(this));this.statusbar&&(f=this.statusbar.renderHtml());return'<div id="'+d+'" class="'+this.classes()+'" hidefocus="1"><div class="'+this.classPrefix+
'reset" role="application">'+a+'<div id="'+d+'-body" class="'+this.classes("body")+'">'+h+"</div>"+f+"</div></div>"},fullscreen:function(c){var d=this,b=document.documentElement,e,a=d.classPrefix,h;c!=d._fullscreen&&(f.on(window,"resize",function(){var a;if(d._fullscreen)if(e)d._timer||(d._timer=setTimeout(function(){var a=f.getWindowSize();d.moveTo(0,0).resizeTo(a.w,a.h);d._timer=0},50));else{a=(new Date).getTime();var b=f.getWindowSize();d.moveTo(0,0).resizeTo(b.w,b.h);50<(new Date).getTime()-a&&
(e=!0)}}),h=d.layoutRect(),(d._fullscreen=c)?(d._initial={x:h.x,y:h.y,w:h.w,h:h.h},d._borderBox=d.parseBox("0"),d.getEl("head").style.display="none",h.deltaH-=h.headerH+2,f.addClass(b,a+"fullscreen"),f.addClass(document.body,a+"fullscreen"),d.addClass("fullscreen"),c=f.getWindowSize(),d.moveTo(0,0).resizeTo(c.w,c.h)):(d._borderBox=d.parseBox(d.settings.border),d.getEl("head").style.display="",h.deltaH+=h.headerH,f.removeClass(b,a+"fullscreen"),f.removeClass(document.body,a+"fullscreen"),d.removeClass("fullscreen"),
d.moveTo(d._initial.x,d._initial.y).resizeTo(d._initial.w,d._initial.h)));return d.reflow()},postRender:function(){var c,d,b=this;setTimeout(function(){b.addClass("in")},0);b._super();b.statusbar&&b.statusbar.postRender();b.focus();this.dragHelper=new e(b._id+"-dragh",{start:function(){c=b.layoutRect().x;d=b.layoutRect().y},drag:function(e){b.moveTo(c+e.deltaX,d+e.deltaY)}});b.on("submit",function(c){c.isDefaultPrevented()||b.close()})},submit:function(){return this.fire("submit",{data:this.toJSON()})},
remove:function(){var c=this.classPrefix;this.dragHelper.destroy();this._super();this.statusbar&&this.statusbar.remove();this._fullscreen&&(f.removeClass(document.documentElement,c+"fullscreen"),f.removeClass(document.body,c+"fullscreen"))},getContentWindow:function(){var c=this.getEl().getElementsByTagName("iframe")[0];return c?c.contentWindow:null}})});x("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(n){var h=n.extend({init:function(f){f={border:1,padding:20,layout:"flex",pack:"center",
align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(f)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(f){function e(b,c,a){return{type:"button",text:b,subtype:a?"primary":"",onClick:function(a){a.control.parents()[1].close();d(c)}}}var c,d=f.callback||function(){};switch(f.buttons){case h.OK_CANCEL:c=[e("Ok",!0,!0),e("Cancel",!1)];break;case h.YES_NO:case h.YES_NO_CANCEL:c=
[e("Yes",1,!0),e("No",0)];f.buttons==h.YES_NO_CANCEL&&c.push(e("Cancel",-1));break;default:c=[e("Ok",!0,!0)]}return(new n({padding:20,x:f.x,y:f.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:c,title:f.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:f.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:f.onClose,onCancel:function(){d(!1)}})).renderTo(document.body).reflow()},alert:function(f,
e){"string"==typeof f&&(f={text:f});f.callback=e;return h.msgBox(f)},confirm:function(f,e){"string"==typeof f&&(f={text:f});f.callback=e;f.buttons=h.OK_CANCEL;return h.msgBox(f)}}});return h});x("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(n,h){return function(f){function e(){if(c.length)return c[c.length-1]}var c=[];this.windows=c;f.on("remove",function(){for(var d=c.length;d--;)c[d].close()});this.open=function(d,b){var e;f.editorManager.setActive(f);d.title=d.title||
" ";d.url=d.url||d.file;d.url&&(d.width=parseInt(d.width||320,10),d.height=parseInt(d.height||240,10));d.body&&(d.items={defaults:d.defaults,type:d.bodyType||"form",items:d.body});d.url||d.buttons||(d.buttons=[{text:"Ok",subtype:"primary",onclick:function(){e.find("form")[0].submit()}},{text:"Cancel",onclick:function(){e.close()}}]);e=new n(d);c.push(e);e.on("close",function(){for(var a=c.length;a--;)c[a]===e&&c.splice(a,1);c.length||f.focus()});if(d.data)e.on("postRender",function(){this.find("*").each(function(a){var b=
a.name();b in d.data&&a.value(d.data[b])})});e.features=d||{};e.params=b||{};1===c.length&&f.nodeChanged();return e.renderTo().reflow()};this.alert=function(c,b,e){h.alert(c,function(){b?b.call(e||this):f.focus()})};this.confirm=function(c,b,e){h.confirm(c,function(a){b.call(e||this,a)})};this.close=function(){e()&&e().close()};this.getParams=function(){return e()?e().params:null};this.setParams=function(c){e()&&(e().params=c)};this.getWindows=function(){return c}}});x("tinymce/util/Quirks","tinymce/util/VK tinymce/dom/RangeUtils tinymce/html/Node tinymce/html/Entities tinymce/Env tinymce/util/Tools".split(" "),
function(n,h,f,e,c,d){return function(b){function g(a,c){try{b.getDoc().execCommand(a,!1,c)}catch(d){}}function a(){var a=b.getDoc().documentMode;return a?a:6}function l(){function a(c){var f=new e(function(){});d.each(b.getBody().getElementsByTagName("*"),function(a){"SPAN"==a.tagName&&a.setAttribute("mce-data-marked",1);!a.hasAttribute("data-mce-style")&&a.hasAttribute("style")&&b.dom.setAttrib(a,"style",b.dom.getAttrib(a,"style"))});f.observe(b.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]});
b.getDoc().execCommand(c?"ForwardDelete":"Delete",!1,null);var g=b.selection.getRng(),h=g.startContainer.parentNode;d.each(f.takeRecords(),function(a){if(I.isChildOf(a.target,b.getBody())){if("style"==a.attributeName){var c=a.target.getAttribute("data-mce-style");c?a.target.setAttribute("style",c):a.target.removeAttribute("style")}d.each(a.addedNodes,function(a){if("SPAN"==a.nodeName&&!a.getAttribute("mce-data-marked")){var c,d;a==h&&(c=g.startOffset,d=a.firstChild);I.remove(a,!0);d&&(g.setStart(d,
c),g.setEnd(d,c),b.selection.setRng(g))}})}});f.disconnect();d.each(b.dom.select("span[mce-data-marked]"),function(a){a.removeAttribute("mce-data-marked")})}var c=b.getDoc(),e=window.MutationObserver,f,g;e||(f=!0,e=function(){function a(b){b=b.relatedNode||b.target;c.push({target:b,addedNodes:[b]})}function b(a){c.push({target:a.relatedNode||a.target,attributeName:a.attrName})}var c=[],d;this.observe=function(c){d=c;d.addEventListener("DOMSubtreeModified",a,!1);d.addEventListener("DOMNodeInsertedIntoDocument",
a,!1);d.addEventListener("DOMNodeInserted",a,!1);d.addEventListener("DOMAttrModified",b,!1)};this.disconnect=function(){d.removeEventListener("DOMSubtreeModified",a,!1);d.removeEventListener("DOMNodeInsertedIntoDocument",a,!1);d.removeEventListener("DOMNodeInserted",a,!1);d.removeEventListener("DOMAttrModified",b,!1)};this.takeRecords=function(){return c}});b.on("keydown",function(c){var d=c.keyCode==S,e=n.metaKeyPressed(c);if(!c.isDefaultPrevented()&&(d||c.keyCode==O)){var f=b.selection.getRng(),
g=f.startContainer,h=f.startOffset;!e&&f.collapsed&&3==g.nodeType&&(d?h<g.data.length:0<h)||(c.preventDefault(),e&&b.selection.getSel().modify("extend",d?"forward":"backward","word"),a(d))}});b.on("keypress",function(c){c.isDefaultPrevented()||J.isCollapsed()||!c.charCode||n.metaKeyPressed(c)||(c.preventDefault(),a(!0),b.selection.setContent(String.fromCharCode(c.charCode)))});b.addCommand("Delete",function(){a()});b.addCommand("ForwardDelete",function(){a(!0)});f||(b.on("dragstart",function(a){var c;
b.selection.isCollapsed()&&"IMG"==a.target.tagName&&J.select(a.target);g=J.getRng();c=b.selection.getContent();0<c.length&&a.dataTransfer.setData("URL","data:text/mce-internal,"+escape(c))}),b.on("drop",function(d){if(!d.isDefaultPrevented()){var e=d.dataTransfer.getData("URL");e&&-1!=e.indexOf("data:text/mce-internal,")&&c.caretRangeFromPoint&&(e=unescape(e.substr(23)),c.caretRangeFromPoint&&(d.preventDefault(),window.setTimeout(function(){var f=c.caretRangeFromPoint(d.x,d.y);g&&(J.setRng(g),g=null);
a();J.setRng(f);b.insertContent(e)},0)))}}),b.on("cut",function(c){!c.isDefaultPrevented()&&c.clipboardData&&(c.preventDefault(),c.clipboardData.clearData(),c.clipboardData.setData("text/html",b.selection.getContent()),c.clipboardData.setData("text/plain",b.selection.getContent({format:"text"})),a(!0))}))}function t(){b.shortcuts.add("ctrl+a",null,"SelectAll")}function m(){b.settings.content_editable||(I.bind(b.getDoc(),"focusin",function(){J.setRng(J.getRng())}),I.bind(b.getDoc(),"mousedown mouseup",
function(a){a.target==b.getDoc().documentElement&&(b.getBody().focus(),"mousedown"==a.type?J.placeCaretAt(a.clientX,a.clientY):J.setRng(J.getRng()))}))}function u(){b.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===O&&b.getBody().getElementsByTagName("hr").length&&J.isCollapsed()&&0===J.getRng(!0).startOffset){var c=J.getNode(),d=c.previousSibling;"HR"==c.nodeName?(I.remove(c),a.preventDefault()):d&&d.nodeName&&"hr"===d.nodeName.toLowerCase()&&(I.remove(d),a.preventDefault())}})}
function p(){if(!window.Range.prototype.getClientRects)b.on("mousedown",function(a){if(!a.isDefaultPrevented()&&"HTML"===a.target.nodeName){var c=b.getBody();c.blur();setTimeout(function(){c.focus()},0)}})}function q(){b.on("click",function(a){var c=a.target;/^(IMG|HR)$/.test(c.nodeName)&&(a.preventDefault(),J.getSel().setBaseAndExtent(c,0,c,1),b.nodeChanged());"A"==c.nodeName&&I.hasClass(c,"mce-item-anchor")&&(a.preventDefault(),J.select(c))})}function v(){function a(){var c=I.getAttribs(J.getStart().cloneNode(!1));
return function(){var a=J.getStart();a!==b.getBody()&&(I.setAttrib(a,"style",null),R(c,function(b){a.setAttributeNode(b.cloneNode(!0))}))}}function c(){return!J.isCollapsed()&&I.getParent(J.getStart(),I.isBlock)!=I.getParent(J.getEnd(),I.isBlock)}b.on("keypress",function(d){var e;if(!d.isDefaultPrevented()&&(8==d.keyCode||46==d.keyCode)&&c())return e=a(),b.getDoc().execCommand("delete",!1,null),e(),d.preventDefault(),!1});I.bind(b.getDoc(),"cut",function(b){var d;!b.isDefaultPrevented()&&c()&&(d=
a(),setTimeout(function(){d()},0))})}function s(){b.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===O&&J.isCollapsed()&&0===J.getRng(!0).startOffset){var b=J.getNode().previousSibling;if(b&&b.nodeName&&"table"===b.nodeName.toLowerCase())return a.preventDefault(),!1}})}function r(){7<a()||(g("RespectVisibilityInDesign",!0),b.contentStyles.push(".mceHideBrInPre pre br {display: none}"),I.addClass(b.getBody(),"mceHideBrInPre"),Y.addNodeFilter("pre",function(a){for(var b=a.length,c,d,
e,g;b--;)for(c=a[b].getAll("br"),d=c.length;d--;)e=c[d],(g=e.prev)&&3===g.type&&"\n"!=g.value.charAt(g.value-1)?g.value+="\n":e.parent.insert(new f("#text",3),e,!0).value="\n"}),W.addNodeFilter("pre",function(a){for(var b=a.length,c,d,e;b--;)for(c=a[b].getAll("br"),d=c.length;d--;)e=c[d],(e=e.prev)&&3==e.type&&(e.value=e.value.replace(/\r?\n$/,""))}))}function w(){I.bind(b.getBody(),"mouseup",function(){var a,b=J.getNode();if("IMG"==b.nodeName){if(a=I.getStyle(b,"width"))I.setAttrib(b,"width",a.replace(/[^0-9%]+/g,
"")),I.setStyle(b,"width","");if(a=I.getStyle(b,"height"))I.setAttrib(b,"height",a.replace(/[^0-9%]+/g,"")),I.setStyle(b,"height","")}})}function k(){function a(){b._refreshContentEditable();g("StyleWithCSS",!1);g("enableInlineTableEditing",!1);Q.object_resizing||g("enableObjectResizing",!1)}if(!Q.readonly)b.on("BeforeExecCommand MouseDown",a)}function B(){function a(){R(I.select("a"),function(a){var b=a.parentNode,c=I.getRoot();if(b.lastChild===a){for(;b&&!I.isBlock(b);){if(b.parentNode.lastChild!==
b||b===c)return;b=b.parentNode}I.add(b,"br",{"data-mce-bogus":1})}})}b.on("SetContent ExecCommand",function(b){"setcontent"!=b.type&&"mceInsertLink"!==b.command||a()})}function x(){if(Q.forced_root_block)b.on("init",function(){g("DefaultParagraphSeparator",Q.forced_root_block)})}function y(){b.on("Undo Redo SetContent",function(a){a.initial||b.execCommand("mceRepaint")})}function z(){b.on("keydown",function(a){var c;a.isDefaultPrevented()||a.keyCode!=O||(c=b.getDoc().selection.createRange())&&c.item&&
(a.preventDefault(),b.undoManager.beforeChange(),I.remove(c.item(0)),b.undoManager.add())})}function K(){var c;10<=a()&&(c="",R("p div h1 h2 h3 h4 h5 h6".split(" "),function(a,b){c+=(0<b?",":"")+a+":empty"}),b.contentStyles.push(c+"{padding-right: 1px !important}"))}function D(){9>a()&&(Y.addNodeFilter("noscript",function(a){for(var b=a.length,c,d;b--;)c=a[b],(d=c.firstChild)&&c.attr("data-mce-innertext",d.value)}),W.addNodeFilter("noscript",function(a){for(var b=a.length,c,d,g;b--;)if(c=a[b],d=a[b].firstChild)d.value=
e.decode(d.value);else if(g=c.attributes.map["data-mce-innertext"])c.attr("data-mce-innertext",null),d=new f("#text",3),d.value=g,d.raw=!0,c.append(d)}))}function G(){function a(b,c){var d=e.createTextRange();try{d.moveToPoint(b,c)}catch(f){d=null}return d}function b(d){if(d.button){if(d=a(d.x,d.y))0<d.compareEndPoints("StartToStart",g)?d.setEndPoint("StartToStart",g):d.setEndPoint("EndToEnd",g),d.select()}else c()}function c(){var a=d.selection.createRange();g&&!a.item&&0===a.compareEndPoints("StartToEnd",
a)&&g.select();I.unbind(d,"mouseup",c);I.unbind(d,"mousemove",b);g=f=0}var d=I.doc,e=d.body,f,g,h;d.documentElement.unselectable=!0;I.bind(d,"mousedown contextmenu",function(e){"HTML"===e.target.nodeName&&(f&&c(),h=d.documentElement,!(h.scrollHeight>h.clientHeight)&&(f=1,g=a(e.x,e.y)))&&(I.bind(d,"mouseup",c),I.bind(d,"mousemove",b),I.getRoot().focus(),g.select())})}function L(){if(!b.inline)b.on("keydown",function(){document.activeElement==document.body&&b.getWin().focus()})}function H(){b.inline||
(b.contentStyles.push("body {min-height: 150px}"),b.on("click",function(a){"HTML"==a.target.nodeName&&(b.getBody().focus(),b.selection.normalize(),b.nodeChanged())}))}function E(){if(c.mac)b.on("keydown",function(a){!n.metaKeyPressed(a)||37!=a.keyCode&&39!=a.keyCode||(a.preventDefault(),b.selection.getSel().modify("move",37==a.keyCode?"backward":"forward","word"))})}function N(){if(!b.inline)b.on("focus blur beforegetcontent",function(){var a=b.dom.create("br");b.getBody().appendChild(a);a.parentNode.removeChild(a)},
!0)}function M(){b.on("click",function(a){var b=a.target;do if("A"===b.tagName){a.preventDefault();break}while(b=b.parentNode)});b.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function P(){b.on("touchstart",function(a){var c,d,e;c=a.target;d=(new Date).getTime();!(a=a.changedTouches)||1<a.length||(e=a[0],b.once("touchend",function(a){var f=a.changedTouches[0],g;500<(new Date).getTime()-d||5<Math.abs(e.clientX-f.clientX)||5<Math.abs(e.clientY-f.clientY)||(g={target:c},R("pageX pageY clientX clientY screenX screenY".split(" "),
function(a){g[a]=f[a]}),g=b.fire("click",g),g.isDefaultPrevented()||(b.selection.placeCaretAt(f.clientX,f.clientY),b.nodeChanged()))}))})}function A(){b.on("init",function(){b.dom.bind(b.getBody(),"submit",function(a){a.preventDefault()})})}function C(){Y.addNodeFilter("br",function(a){for(var b=a.length;b--;)"Apple-interchange-newline"==a[b].attr("class")&&a[b].remove()})}var R=d.each,O=n.BACKSPACE,S=n.DELETE,I=b.dom,J=b.selection,Q=b.settings,Y=b.parser,W=b.serializer,V=c.gecko,Z=c.ie,$=c.webkit;
(function(){b.on("keydown",function(a){var c,d,e,f;if(!a.isDefaultPrevented()&&a.keyCode==n.BACKSPACE&&(a=J.getRng(),c=a.startContainer,d=a.startOffset,e=I.getRoot(),f=c,a.collapsed&&0===d)){for(;f&&f.parentNode&&f.parentNode.firstChild==f&&f.parentNode!=e;)f=f.parentNode;"BLOCKQUOTE"===f.tagName&&(b.formatter.toggle("blockquote",null,f),a=I.createRng(),a.setStart(c,0),a.setEnd(c,0),J.setRng(a))}})})();(function(){function a(b){var c=I.create("body");b=b.cloneContents();c.appendChild(b);return J.serializer.serialize(c,
{format:"html"})}b.on("keydown",function(c){var d=c.keyCode,e;if(!c.isDefaultPrevented()&&(d==S||d==O)&&(e=b.selection.isCollapsed(),d=b.getBody(),!e||I.isEmpty(d))){if(e=!e){e=b.selection.getRng();if(e.setStart){e=a(e);var f=I.createRng();f.selectNode(b.getBody());f=a(f);e=e===f}else e.item?e=!1:(f=e.duplicate(),f.moveToElementText(b.getBody()),e=h.compareRanges(e,f));e=!e}e||(c.preventDefault(),b.setContent(""),d.firstChild&&I.isBlock(d.firstChild)?b.selection.setCursorLocation(d.firstChild,0):
b.selection.setCursorLocation(d,0),b.nodeChanged())}})})();(function(){b.on("keyup focusin mouseup",function(a){65==a.keyCode&&n.metaKeyPressed(a)||J.normalize()},!0)})();$&&(l(),m(),q(),x(),A(),s(),C(),P(),c.iOS?(L(),H(),M()):t());Z&&11>c.ie&&(u(),document.body.setAttribute("role","application"),r(),w(),z(),K(),D(),G());11<=c.ie&&(H(),N(),s());c.ie&&(t(),g("AutoUrlDetect",!1));V&&(u(),p(),v(),k(),B(),y(),b.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),
E(),s())}});x("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(n){function h(f){f._eventDispatcher||(f._eventDispatcher=new n({scope:f,toggleEvent:function(e,c){n.isNative(e)&&f.toggleNativeEvent&&f.toggleNativeEvent(e,c)}}));return f._eventDispatcher}return{fire:function(f,e,c){if(this.removed&&"remove"!==f)return e;e=h(this).fire(f,e,c);if(!1!==c&&this.parent)for(c=this.parent();c&&!e.isPropagationStopped();)c.fire(f,e,!1),c=c.parent();return e},on:function(f,e,c){return h(this).on(f,
e,c)},off:function(f,e){return h(this).off(f,e)},once:function(f,e){return h(this).once(f,e)},hasEventListeners:function(f){return h(this).has(f)}}});x("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(n,h,f){function e(b,a){return"selectionchange"==a?b.getDoc():!b.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(a)?b.getDoc().documentElement:b.settings.event_root?(b.eventRoot||(b.eventRoot=d.select(b.settings.event_root)[0]),
b.eventRoot):b.getBody()}function c(c,a){var f=e(c,a),h;c.delegates||(c.delegates={});c.delegates[a]||(c.settings.event_root?(b||(b={},c.editorManager.on("removeEditor",function(){var a;if(!c.editorManager.activeEditor&&b){for(a in b)c.dom.unbind(e(c,a));b=null}})),b[a]||(h=function(b){for(var e=b.target,f=c.editorManager.editors,h=f.length;h--;){var l=f[h].getBody();if(l===e||d.isChildOf(e,l))f[h].hidden||f[h].fire(a,b)}},b[a]=h,d.bind(f,a,h))):(h=function(b){c.hidden||c.fire(a,b)},d.bind(f,a,h),
c.delegates[a]=h))}var d=h.DOM,b;h={bindPendingEventDelegates:function(){var b=this;f.each(b._pendingNativeEvents,function(a){c(b,a)})},toggleNativeEvent:function(b,a){this.settings.readonly||"focus"==b||"blur"==b||(a?this.initialized?c(this,b):this._pendingNativeEvents?this._pendingNativeEvents.push(b):this._pendingNativeEvents=[b]:this.initialized&&(this.dom.unbind(e(this,b),b,this.delegates[b]),delete this.delegates[b]))},unbindAllNativeEvents:function(){var b;if(this.delegates){for(b in this.delegates)this.dom.unbind(e(this,
b),b,this.delegates[b]);delete this.delegates}this.inline||(this.getBody().onload=null,this.dom.unbind(this.getWin()),this.dom.unbind(this.getDoc()));this.dom.unbind(this.getBody());this.dom.unbind(this.getContainer())}};return h=f.extend({},n,h)});x("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(n,h){var f=n.each,e=n.explode,c={f9:120,f10:121,f11:122};return function(d){var b={};d.on("keyup keypress keydown",function(c){(c.altKey||c.ctrlKey||c.metaKey)&&!c.isDefaultPrevented()&&
f(b,function(a){if(a.ctrl==(h.mac?c.metaKey:c.ctrlKey)&&a.alt==c.altKey&&a.shift==c.shiftKey&&(c.keyCode==a.keyCode||c.charCode&&c.charCode==a.charCode))return c.preventDefault(),"keydown"==c.type&&a.func.call(a.scope),!0})});this.add=function(g,a,h,t){var m;m=h;"string"===typeof h?h=function(){d.execCommand(m,!1,null)}:n.isArray(m)&&(h=function(){d.execCommand(m[0],m[1],m[2])});f(e(g.toLowerCase()),function(g){var m={func:h,scope:t||d,desc:d.translate(a),alt:!1,ctrl:!1,shift:!1};f(e(g,"+"),function(a){switch(a){case "alt":case "ctrl":case "shift":m[a]=
!0;break;default:/^[0-9]{2,}$/.test(a)?m.keyCode=parseInt(a,10):(m.charCode=a.charCodeAt(0),m.keyCode=c[a]||a.toUpperCase().charCodeAt(0))}});b[(m.ctrl?"ctrl":"")+","+(m.alt?"alt":"")+","+(m.shift?"shift":"")+","+m.keyCode]=m});return!0}}});x("tinymce/Editor","tinymce/dom/DOMUtils tinymce/dom/DomQuery tinymce/AddOnManager tinymce/NodeChange tinymce/html/Node tinymce/dom/Serializer tinymce/html/Serializer tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/dom/ScriptLoader tinymce/dom/EventUtils tinymce/WindowManager tinymce/html/Schema tinymce/html/DomParser tinymce/util/Quirks tinymce/Env tinymce/util/Tools tinymce/EditorObservable tinymce/Shortcuts".split(" "),
function(n,h,f,e,c,d,b,g,a,l,t,m,u,p,q,v,s,r,w,k,B,x,y,z){function K(a,b,c){var d=this,e,g;e=d.documentBaseUrl=c.documentBaseURL;g=c.baseURI;d.settings=b=H({id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",
font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",
validate:!0,entity_encoding:"named",url_converter:d.convertURL,url_converter_scope:d,ie7_compat:!0},b);f.language=b.language||"en";f.languageLoad=b.language_load;f.baseURL=c.baseURL;d.id=b.id=a;d.isNotDirty=!0;d.plugins={};d.documentBaseURI=new p(b.document_base_url||e,{base_uri:g});d.baseURI=g;d.contentCSS=[];d.contentStyles=[];d.shortcuts=new z(d);d.execCommands={};d.queryStateCommands={};d.queryValueCommands={};d.loadedCSS={};b.target&&(d.targetElm=b.target);d.suffix=c.suffix;d.editorManager=c;
d.inline=b.inline;b.cache_suffix&&(B.cacheSuffix=b.cache_suffix.replace(/^[\?\&]+/,""));c.fire("SetupEditor",d);d.execCallback("setup",d);d.$=h.overrideDefaults(function(){return{context:d.inline?d.getBody():d.getDoc(),element:d.getBody()}})}var D=n.DOM,G=f.ThemeManager,L=f.PluginManager,H=x.extend,E=x.each,N=x.explode,M=x.inArray,P=x.trim,A=x.resolve,C=v.Event,R=B.gecko,O=B.ie;K.prototype={render:function(){function a(){D.unbind(window,"ready",a);c.render()}function b(){var a=q.ScriptLoader;d.language&&
"en"!=d.language&&!d.language_url&&(d.language_url=c.editorManager.baseURL+"/langs/"+d.language+".js");d.language_url&&a.add(d.language_url);if(d.theme&&"function"!=typeof d.theme&&"-"!=d.theme.charAt(0)&&!G.urls[d.theme]){var e=d.theme_url,e=e?c.documentBaseURI.toAbsolute(e):"themes/"+d.theme+"/theme"+f+".js";G.load(d.theme,e)}x.isArray(d.plugins)&&(d.plugins=d.plugins.join(" "));E(d.external_plugins,function(a,b){L.load(b,a);d.plugins+=" "+b});E(d.plugins.split(/[ ,]/),function(a){(a=P(a))&&!L.urls[a]&&
("-"==a.charAt(0)?(a=a.substr(1,a.length),a=L.dependencies(a),E(a,function(a){a=L.createUrl({prefix:"plugins/",resource:a,suffix:"/plugin"+f+".js"},a);L.load(a.resource,a)})):L.load(a,{prefix:"plugins/",resource:a,suffix:"/plugin"+f+".js"}))});a.loadQueue(function(){c.removed||c.init()})}var c=this,d=c.settings,e=c.id,f=c.suffix;if(!C.domLoaded)D.bind(window,"ready",a);else if(c.getElement()&&B.contentEditable){d.inline?c.inline=!0:(c.orgVisibility=c.getElement().style.visibility,c.getElement().style.visibility=
"hidden");var g=c.getElement().form||D.getParent(e,"form");g&&(c.formElement=g,d.hidden_input&&!/TEXTAREA|INPUT/i.test(c.getElement().nodeName)&&(D.insertAfter(D.create("input",{type:"hidden",name:e}),e),c.hasHiddenInput=!0),c.formEventDelegate=function(a){c.fire(a.type,a)},D.bind(g,"submit reset",c.formEventDelegate),c.on("reset",function(){c.setContent(c.startContent,{format:"raw"})}),!d.submit_patch||g.submit.nodeType||g.submit.length||g._mceOldSubmit||(g._mceOldSubmit=g.submit,g.submit=function(){c.editorManager.triggerSave();
c.isNotDirty=!0;return g._mceOldSubmit(g)}));c.windowManager=new s(c);if("xml"==d.encoding)c.on("GetContent",function(a){a.save&&(a.content=D.encode(a.content))});if(d.add_form_submit_trigger)c.on("submit",function(){c.initialized&&c.save()});d.add_unload_trigger&&(c._beforeUnload=function(){!c.initialized||c.destroyed||c.isHidden()||c.save({format:"raw",no_events:!0,set_dirty:!1})},c.editorManager.on("BeforeUnload",c._beforeUnload));b()}},init:function(){function a(c){var d=L.get(c),e;e=L.urls[c]||
b.documentBaseUrl.replace(/\/$/,"");c=P(c);d&&-1===M(k,c)&&(E(L.dependencies(c),function(b){a(b)}),d=new d(b,e,b.$),b.plugins[c]=d,d.init&&(d.init(b,e),k.push(c)))}var b=this,c=b.settings,d=b.getElement(),e,f,g,h,l,k=[];b.rtl=this.editorManager.i18n.rtl;b.editorManager.add(b);c.aria_label=c.aria_label||D.getAttrib(d,"aria-label",b.getLang("aria.rich_text_area"));c.theme&&("function"!=typeof c.theme?(c.theme=c.theme.replace(/-/,""),g=G.get(c.theme),b.theme=new g(b,G.urls[c.theme]),b.theme.init&&b.theme.init(b,
G.urls[c.theme]||b.documentBaseUrl.replace(/\/$/,""),b.$)):b.theme=c.theme);E(c.plugins.replace(/\-/g,"").split(/[ ,]/),a);c.render_ui&&b.theme&&(b.orgDisplay=d.style.display,"function"!=typeof c.theme?(e=c.width||d.style.width||d.offsetWidth,f=c.height||d.style.height||d.offsetHeight,g=c.min_height||100,l=/^[0-9\.]+(|px)$/i,l.test(""+e)&&(e=Math.max(parseInt(e,10),100)),l.test(""+f)&&(f=Math.max(parseInt(f,10),g)),e=b.theme.renderUI({targetNode:d,width:e,height:f,deltaWidth:c.delta_width,deltaHeight:c.delta_height}),
c.content_editable||(f=(e.iframeHeight||f)+("number"==typeof f?e.deltaHeight||0:""),f<g&&(f=g))):(e=c.theme(b,d),e.editorContainer.nodeType&&(e.editorContainer=e.editorContainer.id=e.editorContainer.id||b.id+"_parent"),e.iframeContainer.nodeType&&(e.iframeContainer=e.iframeContainer.id=e.iframeContainer.id||b.id+"_iframecontainer"),f=e.iframeHeight||d.offsetHeight),b.editorContainer=e.editorContainer);c.content_css&&E(N(c.content_css),function(a){b.contentCSS.push(b.documentBaseURI.toAbsolute(a))});
c.content_style&&b.contentStyles.push(c.content_style);if(c.content_editable)return d=f=e=null,b.initContentBody();b.iframeHTML=c.doctype+"<html><head>";c.document_base_url!=b.documentBaseUrl&&(b.iframeHTML+='<base href="'+b.documentBaseURI.getURI()+'" />');!B.caretAfter&&c.ie7_compat&&(b.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />');b.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(d=0;d<b.contentCSS.length;d++)g=b.contentCSS[d],b.iframeHTML+=
'<link type="text/css" rel="stylesheet" href="'+x._addCacheSuffix(g)+'" />',b.loadedCSS[g]=!0;d=c.body_id||"tinymce";-1!=d.indexOf("=")&&(d=b.getParam("body_id","","hash"),d=d[b.id]||d);g=c.body_class||"";-1!=g.indexOf("=")&&(g=b.getParam("body_class","","hash"),g=g[b.id]||"");c.content_security_policy&&(b.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+c.content_security_policy+'" />');b.iframeHTML+='</head><body id="'+d+'" class="mce-content-body '+g+'" data-id="'+b.id+'"><br></body></html>';
c='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+b.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&(h=c);var m=D.create("iframe",{id:b.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:b.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:f,display:"block"}});m.onload=
function(){m.onload=null;b.fire("load")};D.setAttrib(m,"src",h||'javascript:""');b.contentAreaContainer=e.iframeContainer;b.iframeElement=m;f=D.add(e.iframeContainer,m);if(O)try{b.getDoc()}catch(r){f.src=h=c}e.editorContainer&&(D.get(e.editorContainer).style.display=b.orgDisplay,b.hidden=D.isHidden(e.editorContainer));b.getElement().style.display="none";D.setAttrib(b.id,"aria-hidden",!0);h||b.initContentBody();d=f=e=null},initContentBody:function(b){var f=this,h=f.settings,p=f.getElement(),q=f.getDoc(),
s;h.inline||(f.getElement().style.visibility=f.orgVisibility);b||h.content_editable||(q.open(),q.write(f.iframeHTML),q.close());h.content_editable&&(f.on("remove",function(){var a=this.getBody();D.removeClass(a,"mce-content-body");D.removeClass(a,"mce-edit-focus");D.setAttrib(a,"contentEditable",null)}),D.addClass(p,"mce-content-body"),f.contentDocument=q=h.content_document||document,f.contentWindow=h.content_window||window,f.bodyElement=p,h.content_document=h.content_window=null,h.root_name=p.nodeName.toLowerCase());
b=f.getBody();b.disabled=!0;h.readonly||(f.inline&&"static"==D.getStyle(b,"position",!0)&&(b.style.position="relative"),b.contentEditable=f.getParam("content_editable_state",!0));b.disabled=!1;f.schema=new r(h);f.dom=new n(q,{keep_values:!0,url_converter:f.convertURL,url_converter_scope:f,hex_colors:h.force_hex_style_colors,class_filter:h.class_filter,update_styles:!0,root_element:f.inline?f.getBody():null,collect:h.content_editable,schema:f.schema,onSetAttrib:function(a){f.fire("SetAttrib",a)}});
f.parser=new w(h,f.schema);f.parser.addAttributeFilter("src,href,style,tabindex",function(a,b){for(var c=a.length,d,e=f.dom,g,h;c--;)d=a[c],g=d.attr(b),h="data-mce-"+b,d.attributes.map[h]||("style"===b?(g=e.serializeStyle(e.parseStyle(g),d.name),g.length||(g=null),d.attr(h,g),d.attr(b,g)):"tabindex"===b?(d.attr(h,g),d.attr(b,null)):d.attr(h,f.convertURL(g,b,d.name)))});f.parser.addNodeFilter("script",function(a){for(var b=a.length,c;b--;)c=a[b],c.attr("type","mce-"+(c.attr("type")||"no/type"))});
f.parser.addNodeFilter("#cdata",function(a){for(var b=a.length,c;b--;)c=a[b],c.type=8,c.name="#comment",c.value="[CDATA["+c.value+"]]"});f.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var b=a.length,d,e=f.schema.getNonEmptyElements();b--;)d=a[b],d.isEmpty(e)&&(d.append(new c("br",1)).shortEnded=!0)});f.serializer=new d(h,f);f.selection=new g(f.dom,f.getWin(),f.serializer,f);f.formatter=new a(f);f.undoManager=new l(f);f.forceBlocks=new m(f);f.enterKey=new t(f);f.editorCommands=new u(f);
f._nodeChangeDispatcher=new e(f);f.fire("PreInit");h.browser_spellcheck||h.gecko_spellcheck||(q.body.spellcheck=!1,D.setAttrib(b,"spellcheck","false"));f.fire("PostRender");f.quirks=new k(f);h.directionality&&(b.dir=h.directionality);h.nowrap&&(b.style.whiteSpace="nowrap");if(h.protect)f.on("BeforeSetContent",function(a){E(h.protect,function(b){a.content=a.content.replace(b,function(a){return"\x3c!--mce:protected "+escape(a)+"--\x3e"})})});f.on("SetContent",function(){f.addVisual(f.getBody())});if(h.padd_empty_editor)f.on("PostProcess",
function(a){a.content=a.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")});f.load({initial:!0,format:"html"});f.startContent=f.getContent({format:"raw"});f.initialized=!0;f.bindPendingEventDelegates();f.fire("init");f.focus(!0);f.nodeChanged({initial:!0});f.execCallback("init_instance_callback",f);0<f.contentStyles.length&&(s="",E(f.contentStyles,function(a){s+=a+"\r\n"}),f.dom.addStyle(s));E(f.contentCSS,function(a){f.loadedCSS[a]||(f.dom.loadCSS(a),f.loadedCSS[a]=
!0)});h.auto_focus&&setTimeout(function(){(!0===h.auto_focus?f:f.editorManager.get(h.auto_focus)).focus()},100);p=q=b=null},focus:function(a){var b=this.selection,c=this.settings.content_editable,d,e=this.getDoc();if(!a){a=b.getRng();a.item&&(d=a.item(0));this._refreshContentEditable();c||(B.opera||this.getBody().focus(),this.getWin().focus());if(R||c){a=this.getBody();if(a.setActive)try{a.setActive()}catch(f){a.focus()}else a.focus();c&&b.normalize()}d&&d.ownerDocument==e&&(a=e.body.createControlRange(),
a.addElement(d),a.select())}this.editorManager.setActive(this)},execCallback:function(a){var b=this.settings[a],c;if(b)return this.callbackLookup&&(c=this.callbackLookup[a])&&(b=c.func,c=c.scope),"string"===typeof b&&(c=(c=b.replace(/\.\w+$/,""))?A(c):0,b=A(b),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]={func:b,scope:c}),b.apply(c||this,Array.prototype.slice.call(arguments,1))},translate:function(a){var b=this.settings.language||"en",c=this.editorManager.i18n;return a?c.data[b+
"."+a]||a.replace(/\{\#([^\}]+)\}/g,function(a,d){return c.data[b+"."+d]||"{#"+d+"}"}):""},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(b!==U?b:"{#"+a+"}")},getParam:function(a,b,c){a=a in this.settings?this.settings[a]:b;var d;return"hash"===c?(d={},"string"===typeof a?E(0<a.indexOf("=")?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(a){a=a.split("=");1<a.length?d[P(a[0])]=P(a[1]):d[P(a[0])]=P(a)}):d=a,d):a},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},
addButton:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});b.text||b.icon||(b.icon=a);c.buttons=c.buttons||{};b.tooltip=b.tooltip||b.title;c.buttons[a]=b},addMenuItem:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});c.menuItems=c.menuItems||{};c.menuItems[a]=b},addCommand:function(a,b,c){this.execCommands[a]={func:b,scope:c||this}},addQueryStateHandler:function(a,b,c){this.queryStateCommands[a]={func:b,scope:c||this}},addQueryValueHandler:function(a,
b,c){this.queryValueCommands[a]={func:b,scope:c||this}},addShortcut:function(a,b,c,d){this.shortcuts.add(a,b,c,d)},execCommand:function(a,b,c,d){var e=this,f=0,g;/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(a)||d&&d.skip_focus||e.focus();d=H({},d);d=e.fire("BeforeExecCommand",{command:a,ui:b,value:c});if(d.isDefaultPrevented())return!1;if((g=e.execCommands[a])&&!0!==g.func.call(g.scope,b,c))return e.fire("ExecCommand",{command:a,ui:b,value:c}),!0;E(e.plugins,function(d){if(d.execCommand&&
d.execCommand(a,b,c))return e.fire("ExecCommand",{command:a,ui:b,value:c}),f=!0,!1});if(f)return f;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(a,b,c)||e.editorCommands.execCommand(a,b,c))return e.fire("ExecCommand",{command:a,ui:b,value:c}),!0;try{f=e.getDoc().execCommand(a,b,c)}catch(h){}return f?(e.fire("ExecCommand",{command:a,ui:b,value:c}),!0):!1},queryCommandState:function(a){var b;if(!this._isHidden()){if(b=this.queryStateCommands[a])if(b=b.func.call(b.scope),!0===b||!1===b)return b;
b=this.editorCommands.queryCommandState(a);if(-1!==b)return b;try{return this.getDoc().queryCommandState(a)}catch(c){}}},queryCommandValue:function(a){var b;if(!this._isHidden()){if(b=this.queryValueCommands[a])if(b=b.func.call(b.scope),!0!==b)return b;b=this.editorCommands.queryCommandValue(a);if(b!==U)return b;try{return this.getDoc().queryCommandValue(a)}catch(c){}}},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(D.show(this.getContainer()),D.hide(this.id)),
this.load(),this.fire("show"))},hide:function(){var a=this.getDoc();this.hidden||(O&&a&&!this.inline&&a.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable=!1,this==this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(D.hide(this.getContainer()),D.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(a,b){this.fire("ProgressState",{state:a,time:b})},load:function(a){var b=
this.getElement(),c;if(b)return a=a||{},a.load=!0,c=this.setContent(b.value!==U?b.value:b.innerHTML,a),a.element=b,a.no_events||this.fire("LoadContent",a),a.element=null,c},save:function(a){var b=this,c=b.getElement(),d,e;if(c&&b.initialized)return a=a||{},a.save=!0,a.element=c,d=a.content=b.getContent(a),a.no_events||b.fire("SaveContent",a),d=a.content,/TEXTAREA|INPUT/i.test(c.nodeName)?c.value=d:(b.inline||(c.innerHTML=d),(e=D.getParent(b.id,"form"))&&E(e.elements,function(a){if(a.name==b.id)return a.value=
d,!1})),a.element=c=null,!1!==a.set_dirty&&(b.isNotDirty=!0),d},setContent:function(a,c){var d=this.getBody(),e;c=c||{};c.format=c.format||"html";c.set=!0;c.content=a;c.no_events||this.fire("BeforeSetContent",c);a=c.content;0===a.length||/^\s+$/.test(a)?((e=this.settings.forced_root_block)&&this.schema.isValidChild(d.nodeName.toLowerCase(),e.toLowerCase())?(a=O&&11>O?"":'<br data-mce-bogus="1">',a=this.dom.createHTML(e,this.settings.forced_root_block_attrs,a)):O||(a='<br data-mce-bogus="1">'),this.dom.setHTML(d,
a),this.fire("SetContent",c)):("raw"!==c.format&&(a=(new b({},this.schema)).serialize(this.parser.parse(a,{isRootContent:!0}))),c.content=P(a),this.dom.setHTML(d,c.content),c.no_events||this.fire("SetContent",c));return c.content},getContent:function(a){var b;b=this.getBody();a=a||{};a.format=a.format||"html";a.get=!0;a.getInner=!0;a.no_events||this.fire("BeforeGetContent",a);b="raw"==a.format?b.innerHTML:"text"==a.format?b.innerText||b.textContent:this.serializer.serialize(b,a);a.content="text"!=
a.format?P(b):b;a.no_events||this.fire("GetContent",a);return a.content},insertContent:function(a,b){b&&(a=H({content:a},b));this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return!this.isNotDirty},getContainer:function(){this.container||(this.container=D.get(this.editorContainer||this.id+"_parent"));return this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){this.targetElm||(this.targetElm=D.get(this.id));return this.targetElm},getWin:function(){var a;
!this.contentWindow&&(a=this.iframeElement)&&(this.contentWindow=a.contentWindow);return this.contentWindow},getDoc:function(){var a;!this.contentDocument&&(a=this.getWin())&&(this.contentDocument=a.document);return this.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(a,b,c){var d=this.settings;return d.urlconverter_callback?this.execCallback("urlconverter_callback",a,c,!0,b):!d.convert_urls||c&&"LINK"==c.nodeName||0===a.indexOf("file:")||0===a.length?
a:d.relative_urls?this.documentBaseURI.toRelative(a):a=this.documentBaseURI.toAbsolute(a,d.remove_script_host)},addVisual:function(a){var b=this,c=b.settings,d=b.dom,e;a=a||b.getBody();b.hasVisual===U&&(b.hasVisual=c.visual);E(d.select("table,a",a),function(a){var f;switch(a.nodeName){case "TABLE":e=c.visual_table_class||"mce-item-table";(f=d.getAttrib(a,"border"))&&"0"!=f||!b.hasVisual?d.removeClass(a,e):d.addClass(a,e);break;case "A":d.getAttrib(a,"href",!1)||(f=d.getAttrib(a,"name")||a.id,e=c.visual_anchor_class||
"mce-item-anchor",f&&b.hasVisual?d.addClass(a,e):d.removeClass(a,e))}});b.fire("VisualAid",{element:a,hasVisual:b.hasVisual})},remove:function(){this.removed||(this.save(),this.removed=1,this.unbindAllNativeEvents(),this.hasHiddenInput&&D.remove(this.getElement().nextSibling),this.inline||(O&&10>O&&this.getDoc().execCommand("SelectAll",!1,null),D.setStyle(this.id,"display",this.orgDisplay),this.getBody().onload=null),this.fire("remove"),this.editorManager.remove(this),D.remove(this.getContainer()),
this.destroy())},destroy:function(a){if(!this.destroyed)if(a||this.removed){a||(this.editorManager.off("beforeunload",this._beforeUnload),this.theme&&this.theme.destroy&&this.theme.destroy(),this.selection.destroy(),this.dom.destroy());if(a=this.formElement)a._mceOldSubmit&&(a.submit=a._mceOldSubmit,a._mceOldSubmit=null),D.unbind(a,"submit reset",this.formEventDelegate);this.iframeElement=this.targetElm=this.bodyElement=this.contentDocument=this.contentWindow=this.contentAreaContainer=this.formElement=
this.container=this.editorContainer=null;this.selection&&(this.selection=this.selection.win=this.selection.dom=this.selection.dom.doc=null);this.destroyed=1}else this.remove()},_refreshContentEditable:function(){var a,b;this._isHidden()&&(a=this.getBody(),b=a.parentNode,b.removeChild(a),b.appendChild(a),a.focus())},_isHidden:function(){var a;if(!R)return 0;a=this.selection.getSel();return!a||!a.rangeCount||0===a.rangeCount}};H(K.prototype,y);return K});x("tinymce/util/I18n",[],function(){var n={};
return{rtl:!1,add:function(h,f){for(var e in f)n[e]=f[e];this.rtl=this.rtl||"rtl"===n._dir},translate:function(h){if("undefined"==typeof h)return h;if("string"!=typeof h&&h.raw)return h.raw;if(h.push){var f=h.slice(1);h=(n[h[0]]||h[0]).replace(/\{([^\}]+)\}/g,function(e,c){return f[c]})}return n[h]||h},data:n}});x("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/Env"],function(n,h){function f(g){function a(){try{return document.activeElement}catch(a){return document.body}}function l(a,b){var c;
b.startContainer?(c=a.getDoc().createRange(),c.setStart(b.startContainer,b.startOffset),c.setEnd(b.endContainer,b.endOffset)):c=b;return c}g.on("AddEditor",function(n){var m=n.editor;m.on("init",function(){if(m.inline||h.ie){if("onbeforedeactivate"in document&&9>h.ie)m.dom.bind(m.getBody(),"beforedeactivate",function(a){if(a.target==m.getBody())try{m.lastRng=m.selection.getRng()}catch(b){}});else m.on("nodechange mouseup keyup",function(b){var c=a();"nodechange"==b.type&&b.selectionChange||(c&&c.id==
m.id+"_ifr"&&(c=m.getBody()),m.dom.isChildOf(c,m.getBody())&&(m.lastRng=m.selection.getRng()))});h.webkit&&!e&&(e=function(){var a=g.activeEditor;a&&a.selection&&(a=a.selection.getRng())&&!a.collapsed&&(m.lastRng=a)},b.bind(document,"selectionchange",e))}});m.on("setcontent",function(){m.lastRng=null});m.on("mousedown",function(){m.selection.lastFocusBookmark=null});m.on("focusin",function(){var a=g.focusedEditor;m.selection.lastFocusBookmark&&(m.selection.setRng(l(m,m.selection.lastFocusBookmark)),
m.selection.lastFocusBookmark=null);a!=m&&(a&&a.fire("blur",{focusedEditor:m}),g.setActive(m),g.focusedEditor=m,m.fire("focus",{blurredEditor:a}),m.focus(!0));m.lastRng=null});m.on("focusout",function(){window.setTimeout(function(){var c=g.focusedEditor,d=a();b.getParent(d,f.isEditorUIElement)||c!=m||(m.fire("blur",{focusedEditor:null}),g.focusedEditor=null,m.selection&&(m.selection.lastFocusBookmark=null))},0)});c||(c=function(a){var c=g.activeEditor;if(c&&a.target.ownerDocument==document){if(c.selection&&
a.target!=c.getBody()){var d=c.selection,e;e=c.dom;var h=c.lastRng;e=h&&h.startContainer?e.isChildOf(h.startContainer,e.getRoot())&&e.isChildOf(h.endContainer,e.getRoot())?{startContainer:h.startContainer,startOffset:h.startOffset,endContainer:h.endContainer,endOffset:h.endOffset}:void 0:h;d.lastFocusBookmark=e}a.target==document.body||b.getParent(a.target,f.isEditorUIElement)||g.focusedEditor!=c||(c.fire("blur",{focusedEditor:null}),g.focusedEditor=null)}},b.bind(document,"focusin",c));m.inline&&
!d&&(d=function(a){var b=g.activeEditor;b.inline&&!b.dom.isChildOf(a.target,b.getBody())&&(a=b.selection.getRng(),a.collapsed||(b.lastRng=a))},b.bind(document,"mouseup",d))});g.on("RemoveEditor",function(a){g.focusedEditor==a.editor&&(g.focusedEditor=null);g.activeEditor||(b.unbind(document,"selectionchange",e),b.unbind(document,"focusin",c),b.unbind(document,"mouseup",d),e=c=d=null)})}var e,c,d,b=n.DOM;f.isEditorUIElement=function(b){return-1!==b.className.toString().indexOf("mce-")};return f});
x("tinymce/EditorManager","tinymce/Editor tinymce/dom/DomQuery tinymce/dom/DOMUtils tinymce/util/URI tinymce/Env tinymce/util/Tools tinymce/util/Observable tinymce/util/I18n tinymce/FocusManager".split(" "),function(n,h,f,e,c,d,b,g,a){function l(a){var b=s.editors,c;delete b[a.id];for(var d=0;d<b.length;d++)if(b[d]==a){b.splice(d,1);c=!0;break}s.activeEditor==a&&(s.activeEditor=b[0]);s.focusedEditor==a&&(s.focusedEditor=null);return c}var t=f.DOM,m=d.explode,u=d.each,p=d.extend,q=0,v,s;s={$:h,majorVersion:"4",
minorVersion:"1.7",releaseDate:"2014-11-27",editors:[],i18n:g,activeEditor:null,setup:function(){var b,c,d="",f;c=document.location.href;/^[^:]+:\/\/\/?[^\/]+\//.test(c)&&(c=c.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(c)||(c+="/"));if(f=window.tinymce||window.tinyMCEPreInit)b=f.base||f.baseURL,d=f.suffix;else{for(var g=document.getElementsByTagName("script"),h=0;h<g.length;h++)if(f=g[h].src,/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){-1!=f.indexOf(".min")&&(d=".min");
b=f.substring(0,f.lastIndexOf("/"));break}!b&&document.currentScript&&(f=document.currentScript.src,-1!=f.indexOf(".min")&&(d=".min"),b=f.substring(0,f.lastIndexOf("/")))}this.baseURL=(new e(c)).toAbsolute(b);this.documentBaseURL=c;this.baseURI=new e(this.baseURL);this.suffix=d;this.focusManager=new a(this)},init:function(a){function b(a){var c=a.id;c||(c=(c=a.name)&&!t.get(c)?a.name:t.uniqueId(),a.setAttribute("id",c));return c}function c(a,b,d){var e=f.get(a);e&&!(e.getContainer()||e.getBody()).parentNode&&
(l(e),e.unbindAllNativeEvents(),e.destroy(!0),e=null);e||(a=new n(a,b,f),a.targetElm=a.targetElm||d,g.push(a),a.render())}function d(b){var c=a[b];if(c)return c.apply(f,Array.prototype.slice.call(arguments,2))}function e(){var f,h;t.unbind(window,"ready",e);d("onpageload");if(a.types)u(a.types,function(d){u(t.select(d.selector),function(e){c(b(e),p({},a,d),e)})});else if(a.selector)u(t.select(a.selector),function(d){c(b(d),a,d)});else{a.target&&c(b(a.target),a);switch(a.mode){case "exact":f=a.elements||
"";0<f.length&&u(m(f),function(b){var d;(d=t.get(b))?c(b,a,d):u(document.forms,function(d){u(d.elements,function(d){d.name===b&&(b="mce_editor_"+q++,t.setAttrib(d,"id",b),c(b,a,d))})})});break;case "textareas":case "specific_textareas":u(t.select("textarea"),function(d){a.editor_deselector&&(a.editor_deselector.constructor===RegExp?a.editor_deselector.test(d.className):t.hasClass(d,a.editor_deselector))||(!a.editor_selector||(a.editor_selector.constructor===RegExp?a.editor_selector.test(d.className):
t.hasClass(d,a.editor_selector)))&&c(b(d),a,d)})}a.oninit&&(f=h=0,u(g,function(a){h++;if(a.initialized)f++;else a.on("init",function(){f++;f==h&&d("oninit")});f==h&&d("oninit")}))}}var f=this,g=[];f.settings=a;t.bind(window,"ready",e)},get:function(a){return arguments.length?a in this.editors?this.editors[a]:null:this.editors},add:function(a){var b=this,c=b.editors;c[a.id]=a;c.push(a);b.activeEditor=a;b.fire("AddEditor",{editor:a});v||(v=function(){b.fire("BeforeUnload")},t.bind(window,"beforeunload",
v));return a},createEditor:function(a,b){return this.add(new n(a,b,this))},remove:function(a){var b=this,c=b.editors,d;if(a)if("string"==typeof a)a=a.selector||a,u(t.select(a),function(a){(d=c[a.id])&&b.remove(d)});else{d=a;if(!c[d.id])return null;l(d)&&b.fire("RemoveEditor",{editor:d});c.length||t.unbind(window,"beforeunload",v);d.remove();return d}else for(a=c.length-1;0<=a;a--)b.remove(c[a])},execCommand:function(a,b,c){var d=this.get(c);switch(a){case "mceAddEditor":return this.get(c)||(new n(c,
this.settings,this)).render(),!0;case "mceRemoveEditor":return d&&d.remove(),!0;case "mceToggleEditor":if(!d)return this.execCommand("mceAddEditor",0,c),!0;d.isHidden()?d.show():d.hide();return!0}return this.activeEditor?this.activeEditor.execCommand(a,b,c):!1},triggerSave:function(){u(this.editors,function(a){a.save()})},addI18n:function(a,b){g.add(a,b)},translate:function(a){return g.translate(a)},setActive:function(a){var b=this.activeEditor;this.activeEditor!=a&&(b&&b.fire("deactivate",{relatedTarget:a}),
a.fire("activate",{relatedTarget:b}));this.activeEditor=a}};p(s,b);s.setup();return window.tinymce=window.tinyMCE=s});x("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(n,h){var f=h.each,e=h.explode;n.on("AddEditor",function(c){var d=c.editor;d.on("preInit",function(){function b(a,b){f(b,function(b,c){b&&n.setStyle(a,c,b)});n.rename(a,"span")}function c(b){n=d.dom;m.convert_fonts_to_spans&&f(n.select("font,u,strike",b.node),function(b){a[b.nodeName.toLowerCase()](n,b)})}
var a,h,n,m=d.settings;m.inline_styles&&(h=e(m.font_size_legacy_values),a={font:function(a,c){b(c,{backgroundColor:c.style.backgroundColor,color:c.color,fontFamily:c.face,fontSize:h[parseInt(c.size,10)-1]})},u:function(a,c){b(c,{textDecoration:"underline"})},strike:function(a,c){b(c,{textDecoration:"line-through"})}},d.on("PreProcess SetContent",c))})})});x("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(n,h){var f={send:function(e){function c(){!e.async||4==d.readyState||
1E4<b++?(e.success&&1E4>b&&200==d.status?e.success.call(e.success_scope,""+d.responseText,d,e):e.error&&e.error.call(e.error_scope,1E4<b?"TIMED_OUT":"GENERAL",d,e),d=null):setTimeout(c,10)}var d,b=0;e.scope=e.scope||this;e.success_scope=e.success_scope||e.scope;e.error_scope=e.error_scope||e.scope;e.async=!1===e.async?!1:!0;e.data=e.data||"";if(d=new XMLHttpRequest){d.overrideMimeType&&d.overrideMimeType(e.content_type);d.open(e.type||(e.data?"POST":"GET"),e.url,e.async);e.crossDomain&&(d.withCredentials=
!0);e.content_type&&d.setRequestHeader("Content-Type",e.content_type);d.setRequestHeader("X-Requested-With","XMLHttpRequest");d=f.fire("beforeSend",{xhr:d,settings:e}).xhr;d.send(e.data);if(!e.async)return c();setTimeout(c,10)}}};h.extend(f,n);return f});x("tinymce/util/JSON",[],function(){function n(h,f){var e,c,d,b;f=f||'"';if(null===h)return"null";d=typeof h;if("string"==d)return c="\bb\tt\nn\ff\rr\"\"''\\\\",f+h.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(b,a){if('"'===f&&"'"===b)return b;
e=c.indexOf(a);if(e+1)return"\\"+c.charAt(e+1);b=a.charCodeAt().toString(16);return"\\u"+"0000".substring(b.length)+b})+f;if("object"==d){if(h.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(h)){e=0;for(c="[";e<h.length;e++)c+=(0<e?",":"")+n(h[e],f);return c+"]"}c="{";for(b in h)h.hasOwnProperty(b)&&(c+="function"!=typeof h[b]?(1<c.length?","+f:f)+b+f+":"+n(h[b],f):"");return c+"}"}return""+h}return{serialize:n,parse:function(h){try{return window[String.fromCharCode(101)+"val"]("("+
h+")")}catch(f){}}}});x("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(n,h,f){function e(d){this.settings=c({},d);this.count=0}var c=f.extend;e.sendRPC=function(c){return(new e).send(c)};e.prototype={send:function(d){var b=d.error,e=d.success;d=c(this.settings,d);d.success=function(a,c){a=n.parse(a);"undefined"==typeof a&&(a={error:"JSON Parse error."});a.error?b.call(d.error_scope||d.scope,a.error,c):e.call(d.success_scope||d.scope,a.result)};d.error=
function(a,c){b&&b.call(d.error_scope||d.scope,a,c)};d.data=n.serialize({id:d.id||"c"+this.count++,method:d.method,params:d.params});d.content_type="application/json";h.send(d)}};return e});x("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(n){return{callbacks:{},count:0,send:function(h){var f=this,e=n.DOM,c=h.count!==U?h.count:f.count,d="tinymce_jsonp_"+c;f.callbacks[c]=function(b){e.remove(d);delete f.callbacks[c];h.callback(b)};e.add(e.doc.body,"script",{id:d,src:h.url,type:"text/javascript"});
f.count++}}});x("tinymce/util/LocalStorage",[],function(){function n(){d=[];for(var a in c)d.push(a);f.length=d.length}function h(){var a,d="";if(g){for(var f in c)a=c[f],d+=(d?",":"")+f.length.toString(32)+","+f+","+a.length.toString(32)+","+a;e.setAttribute(b,d);try{e.save(b)}catch(h){}n()}}var f,e,c,d,b,g;try{if(window.localStorage)return localStorage}catch(a){}b="tinymce";e=document.documentElement;(g=!!e.addBehavior)&&e.addBehavior("#default#userData");f={key:function(a){return d[a]},getItem:function(a){return a in
c?c[a]:null},setItem:function(a,b){c[a]=""+b;h()},removeItem:function(a){delete c[a];h()},clear:function(){c={};h()}};(function(){function a(b){var c;c=b!==U?p+b:f.indexOf(",",p);if(-1===c||c>f.length)return null;b=f.substring(p,c);p=c+1;return b}var d,f,h,p=0;c={};if(g){e.load(b);f=e.getAttribute(b)||"";do{h=a();if(null===h)break;d=a(parseInt(h,32)||0);if(null!==d){h=a();if(null===h)break;h=a(parseInt(h,32)||0);d&&(c[d]=h)}}while(null!==d);n()}})();return f});x("tinymce/Compat","tinymce/dom/DOMUtils tinymce/dom/EventUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/util/Tools tinymce/Env".split(" "),
function(n,h,f,e,c,d){var b=window.tinymce;b.DOM=n.DOM;b.ScriptLoader=f.ScriptLoader;b.PluginManager=e.PluginManager;b.ThemeManager=e.ThemeManager;b.dom=b.dom||{};b.dom.Event=h.Event;c.each(c,function(c,a){b[a]=c});c.each(["isOpera","isWebKit","isIE","isGecko","isMac"],function(c){b[c]=d[c.substr(2).toLowerCase()]});return{}});x("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(n,h){return n.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(f){this.settings=
h.extend({},this.Defaults,f)},preRender:function(f){f.addClass(this.settings.containerClass,"body")},applyClasses:function(f){var e=this.settings,c,d;f=f.items().filter(":visible");c=e.firstControlClass;d=e.lastControlClass;f.each(function(b){b.removeClass(c).removeClass(d);e.controlClass&&b.addClass(e.controlClass)});f.eq(0).addClass(c);f.eq(-1).addClass(d)},renderHtml:function(f){var e=this.settings,c="";f=f.items();f.eq(0).addClass(e.firstControlClass);f.eq(-1).addClass(e.lastControlClass);f.each(function(d){e.controlClass&&
d.addClass(e.controlClass);c+=d.renderHtml()});return c},recalc:function(){},postRender:function(){}})});x("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(n){return n.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(h){h.items().filter(":visible").each(function(f){var e=f.settings;f.layoutRect({x:e.x,y:e.y,w:e.w,h:e.h});f.recalc&&f.recalc()})},renderHtml:function(h){return'<div id="'+h._id+'-absend" class="'+h.classPrefix+'abs-end"></div>'+this._super(h)}})});
x("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(n,h){return n.extend({Mixins:[h],Defaults:{classes:"widget tooltip tooltip-n"},text:function(f){return"undefined"!=typeof f?(this._value=f,this._rendered&&(this.getEl().lastChild.innerHTML=this.encode(f)),this):this._value},renderHtml:function(){var f=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes()+'" role="presentation"><div class="'+f+'tooltip-arrow"></div><div class="'+f+'tooltip-inner">'+this.encode(this._text)+
"</div></div>"},repaint:function(){var f,e;f=this.getEl().style;e=this._layoutRect;f.left=e.x+"px";f.top=e.y+"px";f.zIndex=131070+(zenarioAB.isOpen?3E5:0)}})});x("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(n,h){var f,e=n.extend({init:function(c){var d=this;d._super(c);c=d.settings;d.canFocus=!0;c.tooltip&&!1!==e.tooltips&&(d.on("mouseenter",function(b){var e=d.tooltip().moveTo(-65535);b.control==d?(b=e.text(c.tooltip).show().testMoveRel(d.getEl(),["bc-tc","bc-tl","bc-tr"]),
e.toggleClass("tooltip-n","bc-tc"==b),e.toggleClass("tooltip-nw","bc-tl"==b),e.toggleClass("tooltip-ne","bc-tr"==b),e.moveRel(d.getEl(),b)):e.hide()}),d.on("mouseleave mousedown click",function(){d.tooltip().hide()}));d.aria("label",c.ariaLabel||c.tooltip)},tooltip:function(){f||(f=new h({type:"tooltip"}),f.renderTo());return f},active:function(c){void 0!==c&&(this.aria("pressed",c),this.toggleClass("active",c));return this._super(c)},disabled:function(c){void 0!==c&&(this.aria("disabled",c),this.toggleClass("disabled",
c));return this._super(c)},postRender:function(){var c=this.settings;this._rendered=!0;this._super();this.parent()||!c.width&&!c.height||(this.initLayoutRect(),this.repaint());c.autofocus&&this.focus()},remove:function(){this._super();f&&(f.remove(),f=null)}});return e});x("tinymce/ui/Button",["tinymce/ui/Widget"],function(n){return n.extend({Defaults:{classes:"widget btn",role:"button"},init:function(h){var f;this.on("click mousedown",function(e){e.preventDefault()});this._super(h);f=h.size;h.subtype&&
this.addClass(h.subtype);f&&this.addClass("btn-"+f)},icon:function(h){var f=this.classPrefix;if("undefined"==typeof h)return this.settings.icon;h=(this.settings.icon=h)?f+"ico "+f+"i-"+this.settings.icon:"";if(this._rendered){var f=this.getEl().firstChild,e=f.getElementsByTagName("i")[0];h?(e&&e==f.firstChild||(e=document.createElement("i"),f.insertBefore(e,f.firstChild)),e.className=h):e&&f.removeChild(e);this.text(this._text)}return this},repaint:function(){var h=this.getEl().firstChild.style;h.width=
h.height="100%";this._super()},text:function(h){if(this._rendered){var f=this.getEl().lastChild.lastChild;f&&(f.data=this.translate(h))}return this._super(h)},renderHtml:function(){var h=this._id,f=this.classPrefix,e=this.settings.icon,c;(c=this.settings.image)?(e="none","string"!=typeof c&&(c=window.getSelection?c[0]:c[1]),c=" style=\"background-image: url('"+c+"')\""):c="";e=this.settings.icon?f+"ico "+f+"i-"+e:"";return'<div id="'+h+'" class="'+this.classes()+'" tabindex="-1" aria-labelledby="'+
h+'"><button role="presentation" type="button" tabindex="-1">'+(e?'<i class="'+e+'"'+c+"></i>":"")+(this._text?(e?"\u00a0":"")+this.encode(this._text):"")+"</button></div>"}})});x("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(n){return n.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var h=this._layout;this.addClass("btn-group");this.preRender();h.preRender(this);return'<div id="'+this._id+'" class="'+this.classes()+'"><div id="'+this._id+'-body">'+(this.settings.html||
"")+h.renderHtml(this)+"</div></div>"}})});x("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(n){return n.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(h){var f=this;f._super(h);f.on("click mousedown",function(e){e.preventDefault()});f.on("click",function(e){e.preventDefault();f.disabled()||f.checked(!f.checked())});f.checked(f.settings.checked)},checked:function(h){return"undefined"!=typeof h?(h?this.addClass("checked"):this.removeClass("checked"),this._checked=
h,this.aria("checked",h),this):this._checked},value:function(h){return this.checked(h)},renderHtml:function(){var h=this._id,f=this.classPrefix;return'<div id="'+h+'" class="'+this.classes()+'" unselectable="on" aria-labelledby="'+h+'-al" tabindex="-1"><i class="'+f+"ico "+f+'i-checkbox"></i><span id="'+h+'-al" class="'+f+'label">'+this.encode(this._text)+"</span></div>"}})});x("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils"],function(n,h,f){return n.extend({init:function(e){var c=
this;c._super(e);c.addClass("combobox");c.subinput=!0;c.ariaTarget="inp";e=c.settings;e.menu=e.menu||e.values;e.menu&&(e.icon="caret");c.on("click",function(d){for(var b=d.target,f=c.getEl();b&&b!=f;)b.id&&-1!=b.id.indexOf("-open")&&(c.fire("action"),e.menu&&(c.showMenu(),d.aria&&c.menu.items()[0].focus())),b=b.parentNode});c.on("keydown",function(d){"INPUT"==d.target.nodeName&&13==d.keyCode&&c.parents().reverse().each(function(b){d.preventDefault();c.fire("change");if(b.hasEventListeners("submit")&&
b.toJSON)return b.fire("submit",{data:b.toJSON()}),!1})});e.placeholder&&(c.addClass("placeholder"),c.on("focusin",function(){c._hasOnChange||(f.on(c.getEl("inp"),"change",function(){c.fire("change")}),c._hasOnChange=!0);c.hasClass("placeholder")&&(c.getEl("inp").value="",c.removeClass("placeholder"))}),c.on("focusout",function(){0===c.value().length&&(c.getEl("inp").value=e.placeholder,c.addClass("placeholder"))}))},showMenu:function(){var e=this,c=e.settings;e.menu||(c=c.menu||[],c.length?c={type:"menu",
items:c}:c.type=c.type||"menu",e.menu=h.create(c).parent(e).renderTo(e.getContainerElm()),e.fire("createmenu"),e.menu.reflow(),e.menu.on("cancel",function(c){c.control===e.menu&&e.focus()}),e.menu.on("show hide",function(c){c.control.items().each(function(b){b.active(b.value()==e.value())})}).fire("show"),e.menu.on("select",function(c){e.value(c.control.value())}),e.on("focusin",function(c){"INPUT"==c.target.tagName.toUpperCase()&&e.menu.hide()}),e.aria("expanded",!0));e.menu.show();e.menu.layoutRect({w:e.layoutRect().w});
e.menu.moveRel(e.getEl(),e.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},value:function(e){return"undefined"!=typeof e?(this._value=e,this.removeClass("placeholder"),this._rendered&&(this.getEl("inp").value=e),this):this._rendered?(e=this.getEl("inp").value,e!=this.settings.placeholder?e:""):this._value},disabled:function(e){this._rendered&&"undefined"!=typeof e&&(this.getEl("inp").disabled=e);return this._super(e)},focus:function(){this.getEl("inp").focus()},repaint:function(){var e=this.getEl(),
c=this.getEl("open"),d=this.layoutRect(),b,c=c?d.w-f.getSize(c).width-10:d.w-10,d=document;d.all&&(!d.documentMode||8>=d.documentMode)&&(b=this.layoutRect().h-2+"px");f.css(e.firstChild,{width:c,lineHeight:b});this._super();return this},postRender:function(){var e=this;f.on(this.getEl("inp"),"change",function(){e.fire("change")});return e._super()},remove:function(){f.off(this.getEl("inp"));this._super()},renderHtml:function(){var e=this._id,c=this.settings,d=this.classPrefix,b=c.value||c.placeholder||
"",f,a="",h="";"spellcheck"in c&&(h+=' spellcheck="'+c.spellcheck+'"');c.maxLength&&(h+=' maxlength="'+c.maxLength+'"');c.size&&(h+=' size="'+c.size+'"');c.subtype&&(h+=' type="'+c.subtype+'"');this.disabled()&&(h+=' disabled="disabled"');(f=c.icon)&&"caret"!=f&&(f=d+"ico "+d+"i-"+c.icon);c=this._text;if(f||c)a='<div id="'+e+'-open" class="'+d+"btn "+d+'open" tabIndex="-1" role="button"><button id="'+e+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=f?'<i class="'+f+'"></i>':'<i class="'+
d+'caret"></i>')+(c?(f?" ":"")+c:"")+"</button></div>",this.addClass("has-open");return'<div id="'+e+'" class="'+this.classes()+'"><input id="'+e+'-inp" class="'+d+"textbox "+d+'placeholder" value="'+b+'" hidefocus="1"'+h+" />"+a+"</div>"}})});x("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(n){return n.extend({init:function(h){var f=this;h.spellcheck=!1;h.onaction&&(h.icon="none");f._super(h);f.addClass("colorbox");f.on("change keyup postrender",function(){f.repaintColor(f.value())})},repaintColor:function(h){var f=
this.getEl().getElementsByTagName("i")[0];if(f)try{f.style.background=h}catch(e){}},value:function(h){"undefined"!=typeof h&&this._rendered&&this.repaintColor(h);return this._super(h)}})});x("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(n,h){return n.extend({showPanel:function(){var f=this,e=f.settings;f.active(!0);if(f.panel)f.panel.show();else{var c=e.panel;c.type&&(c={layout:"grid",items:c});c.role=c.role||"dialog";c.popover=!0;c.autohide=!0;c.ariaRoot=!0;f.panel=
(new h(c)).on("hide",function(){f.active(!1)}).on("cancel",function(c){c.stopPropagation();f.focus();f.hidePanel()}).parent(f).renderTo(f.getContainerElm());f.panel.fire("show");f.panel.reflow()}f.panel.moveRel(f.getEl(),e.popoverAlign||(f.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var f=this;f.aria("haspopup",!0);f.on("click",function(e){e.control===f&&(f.panel&&f.panel.visible()?f.hidePanel():(f.showPanel(),f.panel.focus(!!e.aria)))});
return f._super()},remove:function(){this.panel&&(this.panel.remove(),this.panel=null);return this._super()}})});x("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(n,h){var f=h.DOM;return n.extend({init:function(e){this._super(e);this.addClass("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},renderHtml:function(){var e=this._id,c=this.classPrefix,d=this.settings.icon?c+"ico "+c+"i-"+this.settings.icon:
"",b=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"";return'<div id="'+e+'" class="'+this.classes()+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+b+"></i>":"")+'<span id="'+e+'-preview" class="'+c+'preview"></span>'+(this._text?(d?" ":"")+this._text:"")+'</button><button type="button" class="'+c+'open" hidefocus="1" tabindex="-1"> <i class="'+c+'caret"></i></button></div>'},
postRender:function(){var e=this,c=e.settings.onclick;e.on("click",function(d){d.aria&&"down"==d.aria.key||d.control!=e||f.getParent(d.target,"."+e.classPrefix+"open")||(d.stopImmediatePropagation(),c.call(e,d))});delete e.settings.onclick;return e._super()}})});x("tinymce/util/Color",[],function(){var n=Math.min,h=Math.max,f=Math.round;return function(e){function c(c){var e;if("object"==typeof c)if("r"in c)b=c.r,g=c.g,a=c.b;else{if("v"in c){e=c.h;var m=c.s;c=c.v;var u;e=(parseInt(e,10)||0)%360;m=
parseInt(m,10)/100;c=parseInt(c,10)/100;m=h(0,n(m,1));c=h(0,n(c,1));if(0===m)b=g=a=f(255*c);else{e/=60;m*=c;u=m*(1-Math.abs(e%2-1));c-=m;switch(Math.floor(e)){case 0:b=m;g=u;a=0;break;case 1:b=u;g=m;a=0;break;case 2:b=0;g=m;a=u;break;case 3:b=0;g=u;a=m;break;case 4:b=u;g=0;a=m;break;case 5:b=m;g=0;a=u;break;default:b=g=a=0}b=f(255*(b+c));g=f(255*(g+c));a=f(255*(a+c))}}}else if(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(c))b=parseInt(e[1],10),g=parseInt(e[2],10),a=parseInt(e[3],
10);else if(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(c))b=parseInt(e[1],16),g=parseInt(e[2],16),a=parseInt(e[3],16);else if(e=/#([0-F])([0-F])([0-F])/gi.exec(c))b=parseInt(e[1]+e[1],16),g=parseInt(e[2]+e[2],16),a=parseInt(e[3]+e[3],16);b=0>b?0:255<b?255:b;g=0>g?0:255<g?255:g;a=0>a?0:255<a?255:a;return d}var d=this,b=0,g=0,a=0;e&&c(e);d.toRgb=function(){return{r:b,g:g,b:a}};d.toHsv=function(){var c;var d=b,e=g,u=a,p,d=d/255,e=e/255,u=u/255;p=n(d,n(e,u));c=h(d,h(e,u));p==c?c={h:0,s:0,v:100*p}:(d=
60*((d==p?3:u==p?1:5)-(d==p?e-u:u==p?d-e:u-d)/(c-p)),p=(c-p)/c,c={h:f(d),s:f(100*p),v:f(100*c)});return c};d.toHex=function(){function c(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+c(b)+c(g)+c(a)};d.parse=c}});x("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(n,h,f,e){return n.extend({Defaults:{classes:"widget colorpicker"},init:function(c){this._super(c)},postRender:function(){function c(a,b){var c=
f.getPos(a),d;d=b.pageX-c.x;c=b.pageY-c.y;d=Math.max(0,Math.min(d/a.clientWidth,1));c=Math.max(0,Math.min(c/a.clientHeight,1));return{x:d,y:c}}function d(b,c){f.css(u,{top:100*((360-b.h)/360)+"%"});c||f.css(q,{left:b.s+"%",top:100-b.v+"%"});p.style.background=(new e({s:100,v:100,h:b.h})).toHex();a.color().parse({s:b.s,v:b.v,h:b.h})}function b(b){b=c(p,b);n.s=100*b.x;n.v=100*(1-b.y);d(n);a.fire("change")}function g(b){b=c(m,b);n=l.toHsv();n.h=360*(1-b.y);d(n,!0);a.fire("change")}var a=this,l=a.color(),
n,m,u,p,q;m=a.getEl("h");u=a.getEl("hp");p=a.getEl("sv");q=a.getEl("svp");a._repaint=function(){n=l.toHsv();d(n)};a._super();a._svdraghelper=new h(a._id+"-sv",{start:b,drag:b});a._hdraghelper=new h(a._id+"-h",{start:g,drag:g});a._repaint()},rgb:function(){return this.color().toRgb()},value:function(c){if(arguments.length)this.color().parse(c),this._rendered&&this._repaint();else return this.color().toHex()},color:function(){this._color||(this._color=new e);return this._color},renderHtml:function(){var c=
this._id,d=this.classPrefix,b,e,a="",f;f="#ff0000 #ff0080 #ff00ff #8000ff #0000ff #0080ff #00ffff #00ff80 #00ff00 #80ff00 #ffff00 #ff8000 #ff0000".split(" ");b=0;for(e=f.length-1;b<e;b++)a+='<div class="'+d+'colorpicker-h-chunk" style="height:'+100/e+"%;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+f[b]+",endColorstr="+f[b+1]+");-ms-filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+f[b]+",endColorstr="+f[b+1]+')"></div>';b='<div id="'+
c+'-h" class="'+d+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+a+'<div id="'+c+'-hp" class="'+d+'colorpicker-h-marker"></div></div>';return'<div id="'+c+'" class="'+this.classes()+'"><div id="'+c+'-sv" class="'+d+'colorpicker-sv"><div class="'+
d+'colorpicker-overlay1"><div class="'+d+'colorpicker-overlay2"><div id="'+c+'-svp" class="'+d+'colorpicker-selector1"><div class="'+d+'colorpicker-selector2"></div></div></div></div></div>'+b+"</div>"}})});x("tinymce/ui/Path",["tinymce/ui/Widget"],function(n){return n.extend({init:function(h){var f=this;h.delimiter||(h.delimiter="\u00bb");f._super(h);f.addClass("path");f.canFocus=!0;f.on("click",function(e){var c;(c=e.target.getAttribute("data-index"))&&f.fire("select",{value:f.data()[c],index:c})})},
focus:function(){this.getEl().firstChild.focus();return this},data:function(h){return"undefined"!==typeof h?(this._data=h,this.update(),this):this._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){this._super();this.data(this.settings.data)},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes()+'">'+this._getPathHtml()+"</div>"},_getPathHtml:function(){var h=this._data||[],f,e,c="",d=this.classPrefix;f=0;for(e=h.length;f<e;f++)c+=(0<f?'<div class="'+
d+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+d+"path-item"+(f==e-1?" "+d+"last":"")+'" data-index="'+f+'" tabindex="-1" id="'+this._id+"-"+f+'" aria-level="'+f+'">'+h[f].name+"</div>";c||(c='<div class="'+d+'path-item">\u00a0</div>');return c}})});x("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(n,h){return n.extend({postRender:function(){var f=this,e=h.activeEditor;f.on("select",function(c){e.focus();e.selection.select(this.data()[c.index].element);
e.nodeChanged()});e.on("nodeChange",function(c){var d=[];c=c.parents;for(var b=c.length;b--;){var g;if(g=1==c[b].nodeType){a:{g=c[b];if(1===g.nodeType){if("BR"==g.nodeName||g.getAttribute("data-mce-bogus")){g=!0;break a}if("bookmark"===g.getAttribute("data-mce-type")){g=!0;break a}}g=!1}g=!g}if(g&&(g=e.fire("ResolveName",{name:c[b].nodeName.toLowerCase(),target:c[b]}),g.isDefaultPrevented()||d.push({name:g.name,element:c[b]}),g.isPropagationStopped()))break}f.data(d)});return f._super()}})});x("tinymce/ui/FormItem",
["tinymce/ui/Container"],function(n){return n.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var h=this._layout,f=this.classPrefix;this.addClass("formitem");h.preRender(this);return'<div id="'+this._id+'" class="'+this.classes()+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+f+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+h.renderHtml(this)+
"</div></div>"}})});x("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(n,h,f){return n.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,c=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}});c.each(function(c){var b;if(b=c.settings.label)b=
new h(f.extend({items:{type:"label",id:c._id+"-l",text:b,flex:0,forId:c._id,disabled:c.disabled()}},e.settings.formItemDefaults)),b.type="formitem",c.aria("labelledby",c._id+"-l"),"undefined"==typeof c.settings.flex&&(c.settings.flex=1),e.replace(c,b),b.add(c)})},recalcLabels:function(){var e=0,c=[],d,b;if(!1!==this.settings.labelGapCalc)for(d="children"==this.settings.labelGapCalc?this.find("formitem"):this.items(),d.filter("formitem").each(function(b){b=b.items()[0];var a=b.getEl().clientWidth;
e=a>e?a:e;c.push(b)}),b=this.settings.labelGap||0,d=c.length;d--;)c[d].settings.minWidth=e+b},visible:function(e){var c=this._super(e);!0===e&&this._rendered&&this.recalcLabels();return c},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();this.recalcLabels();this.fromJSON(this.settings.data)}})});x("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(n){return n.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",
flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var h=this._layout,f=this.classPrefix;this.preRender();h.preRender(this);return'<fieldset id="'+this._id+'" class="'+this.classes()+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+f+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+h.renderHtml(this)+"</div></fieldset>"}})});
x("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools"],function(n,h){return n.extend({init:function(f){var e=this,c=tinymce.activeEditor,d=c.settings,b,g,a;f.spellcheck=!1;(a=d.file_picker_types||d.file_browser_callback_types)&&(a=h.makeMap(a,/[, ]/));if(!a||a[f.filetype])g=d.file_picker_callback,!g||a&&!a[f.filetype]?(g=d.file_browser_callback,!g||a&&!a[f.filetype]||(b=function(){g(e.getEl("inp").id,e.value(),f.filetype,window)})):b=function(){var a=e.fire("beforecall").meta,a=h.extend({filetype:f.filetype},
a);g.call(c,function(a,b){e.value(a).fire("change",{meta:b})},e.value(),a)};b&&(f.icon="browse",f.onaction=b);e._super(f)}})});x("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(n){return n.extend({recalc:function(h){var f=h.layoutRect(),e=h.paddingBox();h.items().filter(":visible").each(function(c){c.layoutRect({x:e.left,y:e.top,w:f.innerW-e.right-e.left,h:f.innerH-e.top-e.bottom});c.recalc&&c.recalc()})}})});x("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(n){return n.extend({recalc:function(h){var f,
e,c,d,b,g,a,l,n,m,u,p,q,v=[],s,r,w,k,x,F,y,z,K,D,G,L,H,E,N,M,P,A,C=Math.max,R=Math.min;c=h.items().filter(":visible");d=h.layoutRect();b=h._paddingBox;g=h.settings;f=h.isRtl()?g.direction||"row-reversed":g.direction;a=g.align;l=h.isRtl()?g.pack||"end":g.pack;g=g.spacing||0;if("row-reversed"==f||"column-reverse"==f)c=c.set(c.toArray().reverse()),f=f.split("-")[0];"column"==f?(x="y",w="h",k="minH",F="maxH",z="innerH",y="top",K="deltaH",D="contentH",N="left",H="w",G="x",L="innerW",E="minW",M="right",
P="deltaW",A="contentW"):(x="x",w="w",k="minW",F="maxW",z="innerW",y="left",K="deltaW",D="contentW",N="top",H="h",G="y",L="innerH",E="minH",M="bottom",P="deltaH",A="contentH");m=d[z]-b[y]-b[y];f=r=n=0;for(e=c.length;f<e;f++)u=c[f],p=u.layoutRect(),q=u.settings,q=q.flex,m-=f<e-1?g:0,0<q&&(n+=q,p[F]&&v.push(u),p.flex=q),m-=p[k],q=b[N]+p[E]+b[M],q>r&&(r=q);s={};s[k]=0>m?d[k]-m+d[K]:d[z]-m+d[K];s[E]=r+d[P];s[D]=d[z]-m;s[A]=r;s.minW=R(s.minW,d.maxW);s.minH=R(s.minH,d.maxH);s.minW=C(s.minW,d.startMinWidth);
s.minH=C(s.minH,d.startMinHeight);if(!d.autoResize||s.minW==d.minW&&s.minH==d.minH){h=m/n;f=0;for(e=v.length;f<e;f++)u=v[f],p=u.layoutRect(),u=p[F],q=p[k]+p.flex*h,q>u?(m-=p[F]-p[k],n-=p.flex,p.flex=0,p.maxFlexSize=u):p.maxFlexSize=0;h=m/n;v=b[y];s={};0===n&&("end"==l?v=m+b[y]:"center"==l?(v=Math.round(d[z]/2-(d[z]-m)/2)+b[y],0>v&&(v=b[y])):"justify"==l&&(v=b[y],g=Math.floor(m/(c.length-1))));s[G]=b[N];f=0;for(e=c.length;f<e;f++)u=c[f],p=u.layoutRect(),q=p.maxFlexSize||p[k],"center"===a?s[G]=Math.round(d[L]/
2-p[H]/2):"stretch"===a?(s[H]=C(p[E]||0,d[L]-b[N]-b[M]),s[G]=b[N]):"end"===a&&(s[G]=d[L]-p[H]-b.top),0<p.flex&&(q+=p.flex*h),s[w]=q,s[x]=v,u.layoutRect(s),u.recalc&&u.recalc(),v+=q+g}else if(s.w=s.minW,s.h=s.minH,h.layoutRect(s),this.recalc(h),null===h._lastRect&&(c=h.parent()))c._lastRect=null,c.recalc()}})});x("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(n){return n.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(h){h.items().filter(":visible").each(function(f){f.recalc&&
f.recalc()})}})});x("tinymce/ui/FormatControls","tinymce/ui/Control tinymce/ui/Widget tinymce/ui/FloatPanel tinymce/util/Tools tinymce/EditorManager tinymce/Env".split(" "),function(n,h,f,e,c,d){function b(a){function b(c,d){return function(){var b=this;a.on("nodeChange",function(e){var f=a.formatter,h=null;g(e.parents,function(a){g(c,function(b){d?f.matchNode(a,d,{value:b.value})&&(h=b.value):f.matchNode(a,b.value)&&(h=b.value);if(h)return!1});if(h)return!1});b.value(h)})}}function c(a){a=a.replace(/;$/,
"").split(";");for(var b=a.length;b--;)a[b]=a[b].split("=");return a}function d(b){return function(){var c=this;b="redo"==b?"hasRedo":"hasUndo";c.disabled(!(a.undoManager&&a.undoManager[b]()));a.on("Undo Redo AddUndo TypingUndo ClearUndos",function(){c.disabled(!(a.undoManager&&a.undoManager[b]()))})}}function e(b){b.control&&(b=b.control.value());b&&a.execCommand("mceToggleFormat",!1,b)}var h;h=function(){function b(a){var e=[];if(a)return g(a,function(a){var f={text:a.title,icon:a.icon};if(a.items)f.menu=
b(a.items);else{var g=a.format||"custom"+c++;a.format||(a.name=g,d.push(a));f.format=g;f.cmd=a.cmd}e.push(f)}),e}var c=0,d=[],f=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},
{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},
{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];a.on("init",function(){g(d,function(b){a.formatter.register(b.name,b)})});return{type:"menu",items:a.settings.style_formats_merge?a.settings.style_formats?b(f.concat(a.settings.style_formats)):b(f):b(a.settings.style_formats||f),onPostRender:function(b){a.fire("renderFormatsMenu",{control:b.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return a.formatter.getCssText(this.settings.format)},
onPostRender:function(){var b=this;b.parent().on("show",function(){var c;if(c=b.settings.format)b.disabled(!a.formatter.canApply(c)),b.active(a.formatter.match(c));(c=b.settings.cmd)&&b.active(a.queryCommandState(c))})},onclick:function(){this.settings.format&&e(this.settings.format);this.settings.cmd&&a.execCommand(this.settings.cmd)}}}}();g({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(b,c){a.addButton(c,
{tooltip:b,onPostRender:function(){var b=this;if(a.formatter)a.formatter.formatChanged(c,function(a){b.active(a)});else a.on("init",function(){a.formatter.formatChanged(c,function(a){b.active(a)})})},onclick:function(){e(c)}})});g({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids",
"mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1]})});g({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},
function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1],onPostRender:function(){var b=this;if(a.formatter)a.formatter.formatChanged(c,function(a){b.active(a)});else a.on("init",function(){a.formatter.formatChanged(c,function(a){b.active(a)})})}})});a.addButton("undo",{tooltip:"Undo",onPostRender:d("undo"),cmd:"undo"});a.addButton("redo",{tooltip:"Redo",onPostRender:d("redo"),cmd:"redo"});a.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"});a.addMenuItem("undo",
{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:d("undo"),cmd:"undo"});a.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:d("redo"),cmd:"redo"});a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var b=this;a.on("VisualAid",function(a){b.active(a.hasVisual)});b.active(a.hasVisual)},cmd:"mceToggleVisualAid"});g({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll",
"Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(b,c){a.addMenuItem(c,{text:b[0],icon:c,shortcut:b[2],cmd:b[1]})});a.on("mousedown",function(){f.hideAll()});a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:h});a.addButton("formatselect",
function(){var d=[],f=c(a.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6");g(f,function(b){d.push({text:b[0],value:b[1],textStyle:function(){return a.formatter.getCssText(b[1])}})});return{type:"listbox",text:f[0][0],values:d,fixedWidth:!0,onselect:e,onPostRender:b(d)}});a.addButton("fontselect",function(){var d=[],e=c(a.settings.font_formats||"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
g(e,function(a){d.push({text:{raw:a[0]},value:a[1],textStyle:-1==a[1].indexOf("dings")?"font-family:"+a[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:d,fixedWidth:!0,onPostRender:b(d,"fontname"),onselect:function(b){b.control.settings.value&&a.execCommand("FontName",!1,b.control.settings.value)}}});a.addButton("fontsizeselect",function(){var c=[];g((a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(a){var b=a,d=a;a=a.split("=");
1<a.length&&(b=a[0],d=a[1]);c.push({text:b,value:d})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:c,fixedWidth:!0,onPostRender:b(c,"fontsize"),onclick:function(b){b.control.settings.value&&a.execCommand("FontSize",!1,b.control.settings.value)}}});a.addMenuItem("formats",{text:"Formats",menu:h})}var g=e.each;c.on("AddEditor",function(a){a.editor.rtl&&(n.rtl=!0);b(a.editor)});n.translate=function(a){return c.translate(a)};h.tooltips=!d.iOS});x("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],
function(n){return n.extend({recalc:function(h){var f=h.settings,e,c,d,b,g,a,l,n,m,u,p,q,v,s,r,w,k,x=[],F=[],y,f=h.settings;d=h.items().filter(":visible");b=h.layoutRect();c=f.columns||Math.ceil(Math.sqrt(d.length));e=Math.ceil(d.length/c);s=f.spacingH||f.spacing||0;r=f.spacingV||f.spacing||0;w=f.alignH||f.align;k=f.alignV||f.align;q=h._paddingBox;y="reverseRows"in f?f.reverseRows:h.isRtl();w&&"string"==typeof w&&(w=[w]);k&&"string"==typeof k&&(k=[k]);for(m=0;m<c;m++)x.push(0);for(a=0;a<e;a++)F.push(0);
for(a=0;a<e;a++)for(m=0;m<c;m++){n=d[a*c+m];if(!n)break;l=n.layoutRect();n=l.minW;l=l.minH;x[m]=n>x[m]?n:x[m];F[a]=l>F[a]?l:F[a]}l=b.innerW-q.left-q.right;for(m=n=0;m<c;m++)n+=x[m]+(0<m?s:0),l-=(0<m?s:0)+x[m];u=b.innerH-q.top-q.bottom;for(a=m=0;a<e;a++)m+=F[a]+(0<a?r:0),u-=(0<a?r:0)+F[a];n+=q.left+q.right;m+=q.top+q.bottom;a={};a.minW=n+(b.w-b.innerW);a.minH=m+(b.h-b.innerH);a.contentW=a.minW-b.deltaW;a.contentH=a.minH-b.deltaH;a.minW=Math.min(a.minW,b.maxW);a.minH=Math.min(a.minH,b.maxH);a.minW=
Math.max(a.minW,b.startMinWidth);a.minH=Math.max(a.minH,b.startMinHeight);if(!b.autoResize||a.minW==b.minW&&a.minH==b.minH){b.autoResize&&(a=h.layoutRect(a),a.contentW=a.minW-b.deltaW,a.contentH=a.minH-b.deltaH);h="start"==f.packV?0:0<u?Math.floor(u/e):0;a=0;if(f=f.flexWidths)for(m=0;m<f.length;m++)a+=f[m];else a=c;a=l/a;for(m=0;m<c;m++)x[m]+=f?f[m]*a:a;u=q.top;for(a=0;a<e;a++){b=q.left;f=F[a]+h;for(m=0;m<c;m++){l=y?a*c+c-1-m:a*c+m;n=d[l];if(!n)break;p=n.settings;l=n.layoutRect();g=Math.max(x[m],
l.startMinWidth);l.x=b;l.y=u;v=p.alignH||(w?w[m]||w[0]:null);"center"==v?l.x=b+g/2-l.w/2:"right"==v?l.x=b+g-l.w:"stretch"==v&&(l.w=g);v=p.alignV||(k?k[m]||k[0]:null);"center"==v?l.y=u+f/2-l.h/2:"bottom"==v?l.y=u+f-l.h:"stretch"==v&&(l.h=f);n.layoutRect(l);b+=g+s;n.recalc&&n.recalc()}u+=f+r}}else if(a.w=a.minW,a.h=a.minH,h.layoutRect(a),this.recalc(h),null===h._lastRect&&(e=h.parent()))e._lastRect=null,e.recalc()}})});x("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(n){return n.extend({renderHtml:function(){this.addClass("iframe");
this.canFocus=!1;return'<iframe id="'+this._id+'" class="'+this.classes()+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(h){this.getEl().src=h},html:function(h,f){var e=this,c=this.getEl().contentWindow.document.body;c?(c.innerHTML=h,f&&f()):setTimeout(function(){e.html(h)},0);return this}})});x("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(n,h){return n.extend({init:function(f){this._super(f);this.addClass("widget");
this.addClass("label");this.canFocus=!1;f.multiline&&this.addClass("autoscroll");f.strong&&this.addClass("strong")},initLayoutRect:function(){var f=this._super();this.settings.multiline&&(h.getSize(this.getEl()).width>f.maxW&&(f.minW=f.maxW,this.addClass("multiline")),this.getEl().style.width=f.minW+"px",f.startMinH=f.h=f.minH=Math.min(f.maxH,h.getSize(this.getEl()).height));return f},repaint:function(){this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px");return this._super()},
text:function(f){this._rendered&&f&&this.innerHtml(this.encode(f));return this._super(f)},renderHtml:function(){var f=this.settings.forId;return'<label id="'+this._id+'" class="'+this.classes()+'"'+(f?' for="'+f+'"':"")+">"+this.encode(this._text)+"</label>"}})});x("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(n){return n.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(h){this._super(h);this.addClass("toolbar")},postRender:function(){this.items().addClass("toolbar-item");return this._super()}})});
x("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(n){return n.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})});x("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(n,h,f){var e=n.extend({init:function(c){this._renderOpen=!0;this._super(c);this.addClass("menubtn");c.fixedWidth&&this.addClass("fixed-width");this.aria("haspopup",!0);this.hasPopup=!0},showMenu:function(){var c=this,d=c.settings;if(c.menu&&
c.menu.visible())return c.hideMenu();c.menu||(d=d.menu||[],d.length?d={type:"menu",items:d}:d.type=d.type||"menu",c.menu=h.create(d).parent(c).renderTo(),c.fire("createmenu"),c.menu.reflow(),c.menu.on("cancel",function(b){b.control.parent()===c.menu&&(b.stopPropagation(),c.focus(),c.hideMenu())}),c.menu.on("select",function(){c.focus()}),c.menu.on("show hide",function(b){b.control==c.menu&&c.activeMenu("show"==b.type);c.aria("expanded","show"==b.type)}).fire("show"));c.menu.show();c.menu.layoutRect({w:c.layoutRect().w});
c.menu.moveRel(c.getEl(),c.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){this.menu&&(this.menu.items().each(function(c){c.hideMenu&&c.hideMenu()}),this.menu.hide())},activeMenu:function(c){this.toggleClass("active",c)},renderHtml:function(){var c=this._id,d=this.classPrefix,b=this.settings.icon,e;(e=this.settings.image)?(b="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="";b=this.settings.icon?d+"ico "+d+"i-"+b:"";this.aria("role",
this.parent()instanceof f?"menuitem":"button");return'<div id="'+c+'" class="'+this.classes()+'" tabindex="-1" aria-labelledby="'+c+'"><button id="'+c+'-open" role="presentation" type="button" tabindex="-1">'+(b?'<i class="'+b+'"'+e+"></i>":"")+"<span>"+(this._text?(b?"\u00a0":"")+this.encode(this._text):"")+'</span> <i class="'+d+'caret"></i></button></div>'},postRender:function(){var c=this;c.on("click",function(d){var b;if(b=d.control===c)a:{b=d.target;for(var e=c.getEl();b;){if(e===b){b=!0;break a}b=
b.parentNode}b=!1}b&&(c.showMenu(),d.aria&&c.menu.items()[0].focus())});c.on("mouseenter",function(d){var b=d.control;d=c.parent();var f;b&&d&&b instanceof e&&b.parent()==d&&(d.items().filter("MenuButton").each(function(a){a.hideMenu&&a!=b&&(a.menu&&a.menu.visible()&&(f=!0),a.hideMenu())}),f&&(b.focus(),b.showMenu()))});return c._super()},text:function(c){var d,b;if(this._rendered)for(b=this.getEl("open").getElementsByTagName("span"),d=0;d<b.length;d++)b[d].innerHTML=(this.settings.icon&&c?"\u00a0":
"")+this.encode(c);return this._super(c)},remove:function(){this._super();this.menu&&this.menu.remove()}});return e});x("tinymce/ui/ListBox",["tinymce/ui/MenuButton"],function(n){return n.extend({init:function(h){function f(a){for(var c=0;c<a.length;c++){if(d=a[c].selected||h.value===a[c].value){b=b||a[c].text;e._value=a[c].value;break}a[c].menu&&f(a[c].menu)}}var e=this,c,d,b,g;if(e._values=c=h.values)"undefined"!=typeof h.value&&f(c),!d&&0<c.length&&(b=c[0].text,e._value=c[0].value),h.menu=c;h.text=
h.text||b||c[0].text;e._super(h);e.addClass("listbox");e.on("select",function(a){var b=a.control;g&&(a.lastControl=g);h.multiple?b.active(!b.active()):e.value(a.control.settings.value);g=b})},value:function(h){function f(b,a){b.items().each(function(b){(c=b.value()===a)&&(d=d||b.text());b.active(c);b.menu&&f(b.menu,a)})}function e(b){for(var a=0;a<b.length;a++)(c=b[a].value==h)&&(d=d||b[a].text),b[a].active=c,b[a].menu&&e(b[a].menu)}var c,d,b;"undefined"!=typeof h&&(this.menu?f(this.menu,h):(b=this.settings.menu,
e(b)),this.text(d||this.settings.text));return this._super(h)}})});x("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env"],function(n,h,f){return n.extend({Defaults:{border:0,role:"menuitem"},init:function(e){this.hasPopup=!0;this._super(e);e=this.settings;this.addClass("menu-item");e.menu&&this.addClass("menu-item-expand");e.preview&&this.addClass("menu-item-preview");if("-"===this._text||"|"===this._text)this.addClass("menu-item-sep"),this.aria("role","separator"),this._text=
"-";e.selectable&&(this.aria("role","menuitemcheckbox"),this.addClass("menu-item-checkbox"),e.icon="selected");e.preview||e.selectable||this.addClass("menu-item-normal");this.on("mousedown",function(c){c.preventDefault()});e.menu&&!e.ariaHideMenu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e=this,c=e.settings,d,b=e.parent();b.items().each(function(b){b!==e&&b.hideMenu()});c.menu&&((d=e.menu)?d.show():(d=c.menu,d.length?d={type:"menu",items:d}:
d.type=d.type||"menu",b.settings.itemDefaults&&(d.itemDefaults=b.settings.itemDefaults),d=e.menu=h.create(d).parent(e).renderTo(),d.reflow(),d.on("cancel",function(b){b.stopPropagation();e.focus();d.hide()}),d.on("show hide",function(b){b.control.items().each(function(a){a.active(a.settings.selected)})}).fire("show"),d.on("hide",function(b){b.control===d&&e.removeClass("selected")}),d.submenu=!0),d._parentMenu=b,d.addClass("menu-sub"),c=d.testMoveRel(e.getEl(),e.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:
["tr-tl","br-bl","tl-tr","bl-br"]),d.moveRel(e.getEl(),c),d.rel=c,c="menu-sub-"+c,d.removeClass(d._lastRel),d.addClass(c),d._lastRel=c,e.addClass("selected"),e.aria("expanded",!0))},hideMenu:function(){this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide(),this.aria("expanded",!1));return this},renderHtml:function(){var e=this._id,c=this.settings,d=this.classPrefix,b=this.encode(this._text),g=this.settings.icon,a="",h=c.shortcut;g&&this.parent().addClass("menu-has-icons");
c.image&&(a=" style=\"background-image: url('"+c.image+"')\"");h&&f.mac&&(h=h.replace(/ctrl\+alt\+/i,"&#x2325;&#x2318;"),h=h.replace(/ctrl\+/i,"&#x2318;"),h=h.replace(/alt\+/i,"&#x2325;"),h=h.replace(/shift\+/i,"&#x21E7;"));g=d+"ico "+d+"i-"+(this.settings.icon||"none");return'<div id="'+e+'" class="'+this.classes()+'" tabindex="-1">'+("-"!==b?'<i class="'+g+'"'+a+"></i>\u00a0":"")+("-"!==b?'<span id="'+e+'-text" class="'+d+'text">'+b+"</span>":"")+(h?'<div id="'+e+'-shortcut" class="'+d+'menu-shortcut">'+
h+"</div>":"")+(c.menu?'<div class="'+d+'caret"></div>':"")+"</div>"},postRender:function(){var e=this,c=e.settings,d=c.textStyle;"function"==typeof d&&(d=d.call(this));if(d){var b=e.getEl("text");b&&b.setAttribute("style",d)}e.on("mouseenter click",function(b){b.control===e&&(c.menu||"click"!==b.type?(e.showMenu(),b.aria&&e.menu.focus(!0)):(e.fire("select"),e.parent().hideAll()))});e._super();return e},active:function(e){"undefined"!=typeof e&&this.aria("checked",e);return this._super(e)},remove:function(){this._super();
this.menu&&this.menu.remove()}})});x("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/util/Tools"],function(n,h,f){return n.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){e.autohide=!0;e.constrainToViewport=!0;if(e.itemDefaults)for(var c=e.items,d=c.length;d--;)c[d]=f.extend({},e.itemDefaults,c[d]);this._super(e);this.addClass("menu")},repaint:function(){this.toggleClass("menu-align",!0);this._super();
this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){this.hideAll();this.fire("select")},hideAll:function(){this.find("menuitem").exec("hideMenu");return this._super()},preRender:function(){var e=this;e.items().each(function(c){c=c.settings;if(c.icon||c.selectable)return e._hasIcons=!0,!1});return e._super()}})});x("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(n){return n.extend({Defaults:{classes:"radio",role:"radio"}})});x("tinymce/ui/ResizeHandle",
["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(n,h){return n.extend({renderHtml:function(){var f=this.classPrefix;this.addClass("resizehandle");"both"==this.settings.direction&&this.addClass("resizehandle-both");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes()+'"><i class="'+f+"ico "+f+'i-resize"></i></div>'},postRender:function(){var f=this;f._super();f.resizeDragHelper=new h(this._id,{start:function(){f.fire("ResizeStart")},drag:function(e){"both"!=f.settings.direction&&
(e.deltaX=0);f.fire("Resize",e)},stop:function(){f.fire("ResizeEnd")}})},remove:function(){this.resizeDragHelper&&this.resizeDragHelper.destroy();return this._super()}})});x("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(n){return n.extend({renderHtml:function(){this.addClass("spacer");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes()+'"></div>'}})});x("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils"],function(n,h){return n.extend({Defaults:{classes:"widget btn splitbtn",
role:"button"},repaint:function(){var f=this.getEl(),e=this.layoutRect(),c;this._super();c=f.firstChild;f=f.lastChild;h.css(c,{width:e.w-h.getSize(f).width,height:e.h-2});h.css(f,{height:e.h-2});return this},activeMenu:function(f){h.toggleClass(this.getEl().lastChild,this.classPrefix+"active",f)},renderHtml:function(){var f=this._id,e=this.classPrefix,c,d=this.settings.icon;(c=this.settings.image)?(d="none","string"!=typeof c&&(c=window.getSelection?c[0]:c[1]),c=" style=\"background-image: url('"+
c+"')\""):c="";d=this.settings.icon?e+"ico "+e+"i-"+d:"";return'<div id="'+f+'" class="'+this.classes()+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(d?'<i class="'+d+'"'+c+"></i>":"")+(this._text?(d?" ":"")+this._text:"")+'</button><button type="button" class="'+e+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?(d?"\u00a0":"")+this._menuBtnText:"")+' <i class="'+e+'caret"></i></button></div>'},postRender:function(){var f=this.settings.onclick;this.on("click",
function(e){var c=e.target;if(e.control==this)for(;c;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==c.nodeName&&-1==c.className.indexOf("open")){e.stopImmediatePropagation();f.call(this,e);break}c=c.parentNode}});delete this.settings.onclick;return this._super()}})});x("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(n){return n.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})});x("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],
function(n,h){return n.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(f){var e;this.activeTabId&&(e=this.getEl(this.activeTabId),h.removeClass(e,this.classPrefix+"active"),e.setAttribute("aria-selected","false"));this.activeTabId="t"+f;e=this.getEl("t"+f);e.setAttribute("aria-selected","true");h.addClass(e,this.classPrefix+"active");this.items()[f].show().fire("showtab");this.reflow();this.items().each(function(c,d){f!=d&&c.hide()})},renderHtml:function(){var f=
this,e=f._layout,c="",d=f.classPrefix;f.preRender();e.preRender(f);f.items().each(function(b,e){var a=f._id+"-t"+e;b.aria("role","tabpanel");b.aria("labelledby",a);c+='<div id="'+a+'" class="'+d+'tab" unselectable="on" role="tab" aria-controls="'+b._id+'" aria-selected="false" tabIndex="-1">'+f.encode(b.settings.title)+"</div>"});return'<div id="'+f._id+'" class="'+f.classes()+'" hidefocus="1" tabindex="-1"><div id="'+f._id+'-head" class="'+d+'tabs" role="tablist">'+c+'</div><div id="'+f._id+'-body" class="'+
f.classes("body")+'">'+e.renderHtml(f)+"</div></div>"},postRender:function(){var f=this;f._super();f.settings.activeTab=f.settings.activeTab||0;f.activateTab(f.settings.activeTab);this.on("click",function(e){var c=e.target.parentNode;if(e.target.parentNode.id==f._id+"-head")for(var d=c.childNodes.length;d--;)c.childNodes[d]==e.target&&f.activateTab(d)})},initLayoutRect:function(){var f,e,c;e=h.getSize(this.getEl("head")).width;e=0>e?0:e;c=0;this.items().each(function(b){e=Math.max(e,b.layoutRect().minW);
c=Math.max(c,b.layoutRect().minH)});this.items().each(function(b){b.settings.x=0;b.settings.y=0;b.settings.w=e;b.settings.h=c;b.layoutRect({x:0,y:0,w:e,h:c})});var d=h.getSize(this.getEl("head")).height;this.settings.minWidth=e;this.settings.minHeight=c+d;f=this._super();f.deltaH+=d;f.innerH=f.h-f.deltaH;return f}})});x("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(n,h){return n.extend({init:function(f){var e=this;e._super(f);e._value=f.value||"";e.addClass("textbox");
if(f.multiline)e.addClass("multiline");else e.on("keydown",function(c){13==c.keyCode&&e.parents().reverse().each(function(d){c.preventDefault();if(d.hasEventListeners("submit")&&d.toJSON)return d.fire("submit",{data:d.toJSON()}),!1})})},disabled:function(f){this._rendered&&"undefined"!=typeof f&&(this.getEl().disabled=f);return this._super(f)},value:function(f){return"undefined"!=typeof f?(this._value=f,this._rendered&&(this.getEl().value=f),this):this._rendered?this.getEl().value:this._value},repaint:function(){var f,
e,c,d=0;c=0;var b;f=this.getEl().style;e=this._layoutRect;b=this._lastRepaintRect||{};d=document;!this.settings.multiline&&d.all&&(!d.documentMode||8>=d.documentMode)&&(f.lineHeight=e.h-c+"px");c=this._borderBox;d=c.left+c.right+8;c=c.top+c.bottom+(this.settings.multiline?8:0);e.x!==b.x&&(f.left=e.x+"px",b.x=e.x);e.y!==b.y&&(f.top=e.y+"px",b.y=e.y);e.w!==b.w&&(f.width=e.w-d+"px",b.w=e.w);e.h!==b.h&&(f.height=e.h-c+"px",b.h=e.h);this._lastRepaintRect=b;this.fire("repaint",{},!1);return this},renderHtml:function(){var f=
this._id,e=this.settings,c=this.encode(this._value,!1),d="";"spellcheck"in e&&(d+=' spellcheck="'+e.spellcheck+'"');e.maxLength&&(d+=' maxlength="'+e.maxLength+'"');e.size&&(d+=' size="'+e.size+'"');e.subtype&&(d+=' type="'+e.subtype+'"');this.disabled()&&(d+=' disabled="disabled"');return e.multiline?'<textarea id="'+f+'" class="'+this.classes()+'" '+(e.rows?' rows="'+e.rows+'"':"")+' hidefocus="1"'+d+">"+c+"</textarea>":'<input id="'+f+'" class="'+this.classes()+'" value="'+c+'" hidefocus="1"'+
d+" />"},postRender:function(){var f=this;h.on(f.getEl(),"change",function(e){f.fire("change",e)});return f._super()},remove:function(){h.off(this.getEl());this._super()}})});x("tinymce/ui/Throbber",["tinymce/ui/DomUtils","tinymce/ui/Control"],function(n,h){return function(f,e){var c=this,d,b=h.classPrefix;c.show=function(g){c.hide();d=!0;window.setTimeout(function(){d&&f.appendChild(n.createFragment('<div class="'+b+"throbber"+(e?" "+b+"throbber-inline":"")+'"></div>'))},g||0);return c};c.hide=function(){var b=
f.lastChild;b&&-1!=b.className.indexOf("throbber")&&b.parentNode.removeChild(b);d=!1;return c}}});(function(n){for(var h=0;h<n.length;h++){for(var f=fa,e=n[h],c=e.split(/[.\/]/),d=0;d<c.length-1;++d)f[c[d]]===U&&(f[c[d]]={}),f=f[c[d]];f[c[c.length-1]]=ca[e]}})("tinymce/dom/EventUtils tinymce/dom/Sizzle tinymce/Env tinymce/util/Tools tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/TreeWalker tinymce/dom/Range tinymce/html/Entities tinymce/dom/DOMUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/html/Node tinymce/html/Schema tinymce/html/SaxParser tinymce/html/DomParser tinymce/html/Writer tinymce/html/Serializer tinymce/dom/Serializer tinymce/dom/TridentSelection tinymce/util/VK tinymce/dom/ControlSelection tinymce/dom/BookmarkManager tinymce/dom/Selection tinymce/dom/ElementUtils tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/util/Class tinymce/util/EventDispatcher tinymce/ui/Selector tinymce/ui/Collection tinymce/ui/DomUtils tinymce/ui/Control tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/ui/Container tinymce/ui/DragHelper tinymce/ui/Scrollable tinymce/ui/Panel tinymce/ui/Movable tinymce/ui/Resizable tinymce/ui/FloatPanel tinymce/ui/Window tinymce/ui/MessageBox tinymce/WindowManager tinymce/util/Quirks tinymce/util/Observable tinymce/EditorObservable tinymce/Shortcuts tinymce/Editor tinymce/util/I18n tinymce/FocusManager tinymce/EditorManager tinymce/LegacyInput tinymce/util/XHR tinymce/util/JSON tinymce/util/JSONRequest tinymce/util/JSONP tinymce/util/LocalStorage tinymce/Compat tinymce/ui/Layout tinymce/ui/AbsoluteLayout tinymce/ui/Tooltip tinymce/ui/Widget tinymce/ui/Button tinymce/ui/ButtonGroup tinymce/ui/Checkbox tinymce/ui/ComboBox tinymce/ui/ColorBox tinymce/ui/PanelButton tinymce/ui/ColorButton tinymce/util/Color tinymce/ui/ColorPicker tinymce/ui/Path tinymce/ui/ElementPath tinymce/ui/FormItem tinymce/ui/Form tinymce/ui/FieldSet tinymce/ui/FilePicker tinymce/ui/FitLayout tinymce/ui/FlexLayout tinymce/ui/FlowLayout tinymce/ui/FormatControls tinymce/ui/GridLayout tinymce/ui/Iframe tinymce/ui/Label tinymce/ui/Toolbar tinymce/ui/MenuBar tinymce/ui/MenuButton tinymce/ui/ListBox tinymce/ui/MenuItem tinymce/ui/Menu tinymce/ui/Radio tinymce/ui/ResizeHandle tinymce/ui/Spacer tinymce/ui/SplitButton tinymce/ui/StackLayout tinymce/ui/TabPanel tinymce/ui/TextBox tinymce/ui/Throbber".split(" "))})(this);
