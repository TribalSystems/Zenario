tinymce.PluginManager.add("autoresize",function(a){function h(k){var b,c,f,g=tinymce.DOM,e,m,n,p,q,r;if(c=a.getDoc())if(b=c.body,f=c.documentElement,c=d.autoresize_min_height,!b||k&&"setcontent"===k.type&&k.initial||a.plugins.fullscreen&&a.plugins.fullscreen.isFullscreen())b&&f&&(b.style.overflowY="auto",f.style.overflowY="auto");else{e=a.dom.getStyle(b,"margin-top",!0);m=a.dom.getStyle(b,"margin-bottom",!0);n=a.dom.getStyle(b,"padding-top",!0);p=a.dom.getStyle(b,"padding-bottom",!0);q=a.dom.getStyle(b,
"border-top-width",!0);r=a.dom.getStyle(b,"border-bottom-width",!0);e=b.offsetHeight+parseInt(e,10)+parseInt(m,10)+parseInt(n,10)+parseInt(p,10)+parseInt(q,10)+parseInt(r,10);if(isNaN(e)||0>=e)e=tinymce.Env.ie?b.scrollHeight:tinymce.Env.webkit&&0===b.clientHeight?0:b.offsetHeight;e>d.autoresize_min_height&&(c=e);d.autoresize_max_height&&e>d.autoresize_max_height?(c=d.autoresize_max_height,b.style.overflowY="auto",f.style.overflowY="auto"):(b.style.overflowY="hidden",f.style.overflowY="hidden",b.scrollTop=
0);c!==l&&(b=c-l,g.setStyle(a.iframeElement,"height",c+"px"),l=c,tinymce.isWebKit&&0>b&&h(k))}}function g(a,b,c){setTimeout(function(){h({});a--?g(a,b,c):c&&c()},b)}var d=a.settings,l=0;if(!a.settings.inline){d.autoresize_min_height=parseInt(a.getParam("autoresize_min_height",a.getElement().offsetHeight),10);d.autoresize_max_height=parseInt(a.getParam("autoresize_max_height",0),10);a.on("init",function(){var d=a.getParam("autoresize_overflow_padding",1);a.dom.setStyles(a.getBody(),{paddingBottom:a.getParam("autoresize_bottom_margin",
50),paddingLeft:d,paddingRight:d})});a.on("nodechange setcontent keyup FullscreenStateChanged",h);if(a.getParam("autoresize_on_init",!0))a.on("init",function(){g(20,100,function(){g(5,1E3)})});a.addCommand("mceAutoResize",h)}});
