tinymce.PluginManager.add("fullscreen",function(a){function s(){var a,b,e=window,c=document.body;c.offsetWidth&&(a=c.offsetWidth,b=c.offsetHeight);e.innerWidth&&e.innerHeight&&(a=e.innerWidth,b=e.innerHeight);return{w:a,h:b}}function d(){function l(){b.setStyle(d,"height",s().h-(g.clientHeight-d.clientHeight))}var p=document.body,e=document.documentElement,c,g,d,f;h=!h;g=a.getContainer();c=g.style;d=a.getContentAreaContainer().firstChild;f=d.style;h?(q=f.width,r=f.height,f.width=f.height="100%",m=
c.width,n=c.height,c.width=c.height="",b.addClass(p,"mce-fullscreen"),b.addClass(e,"mce-fullscreen"),b.addClass(g,"mce-fullscreen"),b.bind(window,"resize",l),l(),k=l):(f.width=q,f.height=r,m&&(c.width=m),n&&(c.height=n),b.removeClass(p,"mce-fullscreen"),b.removeClass(e,"mce-fullscreen"),b.removeClass(g,"mce-fullscreen"),b.unbind(window,"resize",k));a.fire("FullscreenStateChanged",{state:h})}var h=!1,b=tinymce.DOM,q,r,k,m,n;if(!a.settings.inline)return a.on("init",function(){a.addShortcut("Meta+Alt+F",
"",d)}),a.on("remove",function(){k&&b.unbind(window,"resize",k)}),a.addCommand("mceFullScreen",d),a.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Meta+Alt+F",selectable:!0,onClick:d,onPostRender:function(){var b=this;a.on("FullscreenStateChanged",function(a){b.active(a.state)})},context:"view"}),a.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Meta+Alt+F",onClick:d,onPostRender:function(){var b=this;a.on("FullscreenStateChanged",function(a){b.active(a.state)})}}),{isFullscreen:function(){return h}}});
