zenario.lib(function(h,r,x,s,y,z,e,g,a,n,t,k,p,q,v,A,w,B,C,D){a.init("zenarioAB");a.open=function(d,b,c,h,m){if(g.checkIfBoxIsOpen("AdminOrganizer"))return!1;!1===a.documentScrollTop&&(a.documentScrollTop=$(e.browserIsSafari()?"body":"html").scrollTop());b||(b={});d=(""+d).split("//",2);d[1]&&!b.id&&(b.id=d[1]);d=d[0];a.isOpen=!0;a.callBack=m;a.getRequestKey=b;a.changed={};m=g.microTemplate(a.mtPrefix,{});a.baseCSSClass="zenario_fbAdmin zenario_admin_box zab_"+d;g.openBox(m,a.baseCSSClass,"AdminFloatingBox",
!1,800,50,2,!0,!0,".zenario_jqmHead",!1);k("zenario_fbAdminFloatingBox").style.display="none";s.onbeforeunload=g.onbeforeunload;a.start(d,b,c,h)};a.refreshParentAndClose=function(d,b){g.nowDoingSomething(!1);var c={};b||(a.isOpen=!1);if(a.callBack&&!b){var u;(u=a.getValueArrayofArrays())&&a.callBack(a.tuix.key,u)}else if(t.init&&(g.isFullOrganizerWindow||g.checkIfBoxIsOpen("og"))){c=!1;if(a.tuix.key.id!==h)c=a.tuix.key.id;else for(var m in a.tuix.key)if(e.has(a.tuix.key,m)){c=a.tuix.key[m];break}t.refreshToShowItem(c)}else a.tuix.key.slotName?
(e.refreshPluginSlot(a.tuix.key.slotName,"",g.importantGetRequests),n.init&&n.init()):d||b||(a.tuix.key.cID?(a.tuix.key.cID==e.cID&&a.tuix.key.cType==e.cType&&(c=g.importantGetRequests),e.goToURL(e.linkToItem(a.tuix.key.cID,a.tuix.key.cType,c))):n.init&&(c=_.clone(g.importantGetRequests),c.cVersion=e.cVersion,e.goToURL(e.linkToItem(e.cID,e.cType,c))));c=a.tuix.popout_message;b||a.close();c&&g.showMessage(c,!0,!1);if(b){a.changed={};if(a.tuix.tabs)for(m in a.tuix.tabs)e.has(a.tuix.tabs,m)&&a.tuix.tabs[m]&&
a.editModeOn(m)&&(a.tuix.tabs[m]._saved_and_continued=!0);a.sortTabs();a.draw()}};a.close=function(d){a.callFunctionOnEditors("remove");g.nowDoingSomething(!1);a.sizing&&clearTimeout(a.sizing);a.stopPoking();d||g.closeFloatingBox();g.closeBox("AdminFloatingBox");a.isOpen=!1;!1!==a.documentScrollTop&&($(e.browserIsSafari()?"body":"html").scrollTop(a.documentScrollTop),a.documentScrollTop=!1);delete a.tuix;return!1};a.closeButton=function(d){var b=g.onbeforeunload();(b===h||!d&&confirm(b))&&a.isOpen&&
a.close();return!1};a.setData=function(d){a.syncAdminBoxFromServerToClient(d,a.tuix)};a.syncAdminBoxFromServerToClient=function(d,b){for(var c in d)d[c]["[[__unset__]]"]?delete b[c]:b[c]===h||null===b[c]?b[c]=d[c]:d[c]["[[__replace__]]"]?(delete d[c]["[[__replace__]]"],b[c]=d[c]):"object"!=typeof b[c]?b[c]=d[c]:"object"==typeof b[c]&&"object"!=typeof d[c]?b[c]=d[c]:a.syncAdminBoxFromServerToClient(d[c],b[c])};a.sendStateToServer=function(){var d={};a.syncAdminBoxFromClientToServerR(d,a.tuix);return JSON.stringify(d)};
a.syncAdminBoxFromClientToServerR=function(d,b,c,e,m,g,k,n){if("object"==typeof b){var l,f;for(f in b)if((l="array")&&c===h&&"_sync"==f||(l="value")&&e===h&&"_sync"==c&&"session"==f||(l="value")&&e===h&&"_sync"==c&&"cache_dir"==f||(l="value")&&e===h&&"_sync"==c&&"password"==f||(l="array")&&c===h&&"key"==f||(l="value")&&e===h&&"key"==c||(l="value")&&c===h&&"shake"==f||(l="value")&&c===h&&"download"==f||(l="array")&&c===h&&"tabs"==f||(l="array")&&e===h&&"tabs"==c||(l="array")&&m===h&&"tabs"==e&&"edit_mode"==
f||(l="value")&&g===h&&"tabs"==m&&"edit_mode"==c&&"on"==f||(l="array")&&m===h&&"tabs"==e&&"fields"==f||(l="array")&&g===h&&"tabs"==m&&"fields"==c||(l="value")&&k===h&&"tabs"==g&&"fields"==e&&"current_value"==f||(l="value")&&k===h&&"tabs"==g&&"fields"==e&&"_display_value"==f||(l="value")&&k===h&&"tabs"==g&&"fields"==e&&"_was_hidden_before"==f||(l="value")&&k===h&&"tabs"==g&&"fields"==e&&"pressed"==f||(l="array")&&k===h&&"tabs"==g&&"fields"==e&&"multiple_edit"==f||(l="value")&&n===h&&"tabs"==k&&"fields"==
m&&"multiple_edit"==c&&"_changed"==f)"value"==l?"function"!=typeof b[f]&&"object"!=typeof b[f]&&(d[f]=b[f]):"array"==l&&"object"==typeof b[f]&&(d[f]={},a.syncAdminBoxFromClientToServerR(d[f],b[f],f,c,e,m,g,k))}};a.draw=function(){a.isOpen&&a.loaded&&a.tabHidden&&a.draw2()};a.draw2=function(){k("zenario_fbAdminFloatingBox").className=a.baseCSSClass+" "+(a.tuix.css_class||"")+" "+(p(a.tuix.hide_tab_bar)?"zenario_admin_box_with_tabs_hidden":"zenario_admin_box_with_tabs_shown");!a.tuix.tab||a.tuix.tabs[a.tuix.tab]&&
!g.hidden(a.tuix.tabs[a.tuix.tab])||(a.tuix.tab=!1);k("zenario_jqmTabs").innerHTML=a.drawTabs();a.setTitle(a.tuix.title);a.showCloseButton();b="";a.tuix.save_and_continue_button_message&&(b+='<input id="zenarioAFB_save_and_continue"  type="button" value="'+q(a.tuix.save_and_continue_button_message)+'"',b=a.editModeOnBox()?b+(' class="submit_selected" onclick="'+a.globalName+'.save(undefined, true);"/>'):b+' class="submit_disabled"/>');b+='<input id="zenarioAFB_save"  type="button" value="'+v(q(a.tuix.save_button_message),
w.save)+'"';b=a.editModeOnBox()?b+(' class="submit_selected" onclick="'+a.globalName+'.save();"/>'):b+' class="submit_disabled"/>';a.tuix.cancel_button_message&&(b+='<input type="button" value="'+q(a.tuix.cancel_button_message)+'" onclick="'+a.globalName+'.close();">');k("zenario_fbButtons").innerHTML=b;a.size();k("zenario_fbAdminFloatingBox").style.display="block";g.nowDoingSomething(!1);var d=new e.callback,b=a.drawFields(d);a.animateInTab(b,d,$("#zenario_abtab"));a.shownTab=a.tuix.tab;delete a.lastScrollTop;
a.startPoking()};a.size=function(){a.sizing&&clearTimeout(a.sizing);k("zenario_fbMain")&&(a.tuix&&p(a.tuix.hide_tab_bar)?(k("zenario_fbMain").style.top="0px",k("zenario_fbButtons").style.paddingBottom="7px",k("zenario_jqmTabs").style.display="none"):(k("zenario_fbMain").style.top="24px",k("zenario_fbButtons").style.paddingBottom="31px",k("zenario_jqmTabs").style.display=e.browserIsIE()?"":"inherit"));if(k("zenario_fbAdminInner")){var d=Math.floor(0.96*$(s).height()-(e.browserIsIE()?210:e.browserIsSafari()?
202:205));a.tuix&&a.tuix.max_height&&d>a.tuix.max_height&&(d=a.tuix.max_height);a.tuix&&p(a.tuix.hide_tab_bar)&&(d=1*d+24);0<(d*=1)&&(k("zenario_fbAdminInner").style.height=d+"px")}a.isOpen&&!1!==a.documentScrollTop&&$(e.browserIsSafari()?"body":"html").scrollTop(a.documentScrollTop);a.sizing=setTimeout(a.size,250)};a.returnAJAXURL=function(){return r+"zenario/admin/ajax.php?_json=1&_ab=1&path="+encodeURIComponent(a.path)+e.urlRequest(a.getRequestKey)};a.stopPoking=function(){a.poking&&clearInterval(a.poking);
a.poking=!1};a.startPoking=function(){a.poking||(a.poking=setInterval(a.poke,12E4))};a.poke=function(){e.ajax(r+"zenario/admin/quick_ajax.php?keep_session_alive=1")}},zenarioAF);
