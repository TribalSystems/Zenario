zenario.lib(function(h,C,R,K,e,U,l,m,u,O,M,g,n,r,w,L,D,V,S,T,P){e=S(T);e.init=function(a,b){this.globalName=a;this.mtPrefix=b||"zenario_admin_box";this.isFAB=this.isWelcomePage=!1;this.baseCSSClass="";this.onKeyUpNum=0;this.documentScrollTop=u.sizing=!1;this.cachedAJAXSnippets={};this.changed={};this.toggleLevelsPressed={}};u.init("zenarioAB");u.isFAB=!0;e.getKey=function(a){return this.tuix.key};e.getKeyId=function(a){return this.tuix&&this.tuix.key?this.tuix.key.id:!1};e.getLastKeyId=function(a){return this.getKeyId(a)};
e.openSiteSettings=function(a,b){this.open("site_settings",{id:a},b,h,function(){M.reloadPage()})};e.enableOrDisableSite=function(){this.open("zenario_enable_site",h,h,h,function(){M.reloadPage()})};e.open=function(a,b,d,c,k){if(m.checkIfBoxIsOpen("AdminOrganizer"))return!1;!1===this.documentScrollTop&&(this.documentScrollTop=$(l.browserIsSafari()?"body":"html").scrollTop());b||(b={});a=(""+a).split("//",2);a[1]&&!b.id&&(b.id=a[1]);a=a[0];this.isOpen=!0;this.callBack=k;this.getRequestKey=b;this.changed=
{};k=m.microTemplate(this.mtPrefix,{});this.baseCSSClass="zenario_fbAdmin zenario_admin_box zab_"+a;m.openBox(k,this.baseCSSClass,"AdminFloatingBox"+P,!1,800,50,2,!0,!0,".zenario_jqmHead",!1);g("zenario_fbAdminFloatingBox").style.display="none";K.onbeforeunload=m.onbeforeunload;this.start(a,b,d,c)};e.start=function(a,b,d,c){var k=this;this.tabHidden=!0;this.differentTab=!1;this.path=w(a,"");this.focus=this.tuix={};this.key=w(b,{});this.tab=d;this.shownTab=!1;this.url=this.getURL();this.retryAJAX(this.url,
{_fill:!0,_values:c?JSON.stringify(c):""},function(a){k.load(a)?(k.tab&&(k.tuix.tab=k.tab),delete k.key,delete k.tab,k.sortTabs(),k.initFields(),k.draw()):k.close(!0)},"loading")};e.load=function(a){this.loaded=!0;if(!(a=m.readData(a)))return!1;this.callFunctionOnEditors("isDirty")&&this.markAsChanged();this.callFunctionOnEditors("remove");this.isWelcomePage?this.focus=this.tuix=a:this.syncAdminBoxFromServerToClient(a,this.tuix);return!this.tuix||!this.tuix.tabs&&this.tuix._location===h?(m.showMessage(D.couldNotOpenBox,
!0,"error"),!1):!0};e.initFields=function(){var a,b,d;if(this.tuix.tabs)for(a in this.tuix.tabs)if(l.has(this.tuix.tabs,a)&&this.tuix.tabs[a]&&this.tuix.tabs[a].fields)for(b in this.tuix.tabs[a].fields)l.has(this.tuix.tabs[a].fields,b)&&(d=this.tuix.tabs[a].fields[b])&&(d.pick_items&&d.plugin_setting&&d.plugin_setting.use_value_for_plugin_name?this.pickedItemsArray(b,this.value(b,a,!1)):d.load_values_from_organizer_path&&!d.values&&this.loadValuesFromOrganizerPath(d))};e.loadValuesFromOrganizerPath=
function(a){var b,d;if(a.load_values_from_organizer_path&&!a.values&&(a.values={},(d=m.getSKItem(a.load_values_from_organizer_path))&&d.items))for(b in d.items)l.has(d.items,b)&&(a.values[l.decodeItemIdForStorekeeper(b)]=m.formatSKItemName(d,b))};e.changeMode=function(){this.editCancelEnabled(this.tuix.tab)&&(this.editModeOn()?this.editCancelOrRevert("cancel",this.tuix.tab):this.editCancelOrRevert("edit",this.tuix.tab))};e.revertTab=function(){this.changes(this.tuix.tab)&&this.revertEnabled(this.tuix.tab)&&
this.editCancelOrRevert("revert",this.tuix.tab)};e.editCancelOrRevert=function(a,b){if(this.tuix.tabs[b].edit_mode){var d,c,k;"edit"==a?(c=n(this.tuix.tabs[b].edit_mode.format_on_edit),k=n(this.tuix.tabs[b].edit_mode.validate_on_edit)):"cancel"==a?(c=n(this.tuix.tabs[b].edit_mode.format_on_cancel_edit),k=n(this.tuix.tabs[b].edit_mode.validate_on_cancel_edit)):"revert"==a&&(c=n(this.tuix.tabs[b].edit_mode.format_on_revert),k=this.errorOnTab(b)||n(this.tuix.tabs[b].edit_mode.validate_on_revert));if(this.tuix.tabs[b].fields&&
!k)for(var f in this.tuix.tabs[b].fields)if(l.has(this.tuix.tabs[b].fields,f))if(n(this.tuix.tabs[b].fields[f].validate_onchange)&&(d=this.readField(f))!==h&&d!=this.tuix.tabs[b].fields[f].value){k=!0;break}else!c&&n(this.tuix.tabs[b].fields[f].format_onchange)&&(d=this.readField(f))!==h&&d!=this.tuix.tabs[b].fields[f].value&&(c=!0);this.tuix.tabs[b].edit_mode.on="cancel"!=a;this.changed[b]=!1;k?this.validate(h,h,!0):c?this.format(!0):(this.wipeTab(),this.redrawTab(!0));this.tuix.tab==b&&$("#zenario_abtab").removeClass("zenario_abtab_changed")}};
e.clickTab=function(a){this.loaded&&this.validate(a!=this.tuix.tab,a)};e.clickButton=function(a,b){"submit"==this.tuix.tabs[this.tuix.tab].fields[b].type?(this.tuix.tabs[this.tuix.tab].fields[b].pressed=!0,this.validate(!0)):"toggle"==this.tuix.tabs[this.tuix.tab].fields[b].type&&((this.tuix.tabs[this.tuix.tab].fields[b].pressed=!n(this.tuix.tabs[this.tuix.tab].fields[b].pressed))?$("#"+b).removeClass("not_pressed").addClass("pressed"):$("#"+b).removeClass("pressed").addClass("not_pressed"),this.validateFormatOrRedrawForField(this.tuix.tabs[this.tuix.tab].fields[b]))};
e.togglePressed=function(a,b){var d;d=a?1<a?this.toggleLevelsPressed[a-1]:!0:this.toggleLevelsPressed.last;d===h&&(d=!0);b&&"toggle"==b.type&&(this.toggleLevelsPressed.last=d&&n(b.pressed),a&&(this.toggleLevelsPressed[a]=this.toggleLevelsPressed.last));return d};e.toggleLevel=function(a){return this.toggleLevelsPressed.last};e.format=function(a){if(this.isFAB&&this.loaded){var b=this;this.loaded=!1;this.hideTab();this.checkValues(a);this.retryAJAX(this.getURL(),{_format:!0,_box:this.syncAdminBoxFromClientToServer()},
function(a){b.load(a);b.sortTabs();b.draw()},"loading")}};e.validate=function(a,b,d,c){if(this.isFAB&&this.loaded){this.differentTab=a;this.loaded=!1;this.hideTab(a);this.checkValues(d);var k=this;this.retryAJAX(this.getURL(),{_validate:!0,_box:this.syncAdminBoxFromClientToServer()},function(a){k.load(a)&&!k.errorOnTab(k.tuix.tab)&&b!==h&&(k.tuix.tab=b);k.sortTabs();k.switchToATabWithErrors();k.draw();c&&c()},"loading")}};e.retryAJAX=function(a,b,d,c){var k=function(){$.ajax({type:"POST",url:a,data:b,
dataType:"text"}).done(d).zenario_retry=k;c&&m.nowDoingSomething(c)};k()};e.switchToATabWithErrors=function(){if(this.tuix&&this.tuix.tabs&&!this.errorOnTab(this.tuix.tab))for(var a in this.sortedTabs)if(l.has(this.sortedTabs,a)){var b=this.sortedTabs[a];if(this.tuix.tabs[b]&&!m.hidden(this.tuix.tabs[b])&&this.errorOnTab(b))return this.tuix.tab=b,!0}return!1};e.save=function(a,b){if(this.isFAB&&this.loaded){var d=this;if(!this.saving){this.differentTab=this.saving=!0;this.loaded=!1;this.hideTab(!0);
this.checkValues();var c={_save:!0,_confirm:a?1:"",_save_and_continue:b,_box:this.syncAdminBoxFromClientToServer()};n(this.tuix.download)||this.tuix.confirm&&n(this.tuix.confirm.download)?this.save2(l.nonAsyncAJAX(this.getURL(),l.urlRequest(c)),b):this.retryAJAX(this.getURL(),c,function(a){d.save2(a,b)},"saving")}}};e.save2=function(a,b){delete this.saving;"\x3c!--Valid--\x3e"==(""+a).substr(0,12)?(a=a.substr(12),"\x3c!--Confirm--\x3e"==(""+a).substr(0,14)?(a=a.substr(14),this.load(a),this.sortTabs(),
this.draw(),this.showConfirm(b)):"\x3c!--Download--\x3e"==(""+a).substr(0,15)?(g("zenario_iframe_form").action=this.getURL(),g("zenario_iframe_form").innerHTML='<input type="hidden" name="_download" value="1"/><input type="hidden" name="_box" value="'+r(this.syncAdminBoxFromClientToServer())+'"/>',g("zenario_iframe_form").submit(),b&&(a=a.substr(15),this.load(a)),this.refreshParentAndClose(!0,b)):"\x3c!--Saved--\x3e"==(""+a).substr(0,12)?(a=a.substr(12),this.load(a),this.refreshParentAndClose(!1,
b)):(this.close(),m.showMessage(a,!0,"error"))):(this.load(a),this.sortTabs(),this.switchToATabWithErrors(),this.draw())};e.showConfirm=function(a){if(this.tuix&&this.tuix.confirm&&n(this.tuix.confirm.show)){var b=this.tuix.confirm.message;n(this.tuix.confirm.html)||(b=r(b,!0));a='<input type="button" class="submit_selected" value="'+this.tuix.confirm.button_message+'" onclick="'+this.globalName+".save(true, "+n(a)+');"/><input type="button" class="submit" value="'+this.tuix.confirm.cancel_button_message+
'" onclick="zenarioA.closeFloatingBox();"/>';m.floatingBox(b,a,w(this.tuix.confirm.message_type,"none"))}};e.hideTab=function(a){var b=this;a?($("#zenario_abtab input").add("#zenario_abtab select").add("#zenario_abtab textarea").attr("disabled","disabled"),$("#zenario_abtab").clearQueue().show().animate({opacity:0.8},200,function(){b.tabHidden=!0;b.draw()})):($("#zenario_abtab input").add("#zenario_abtab select").add("#zenario_abtab textarea").attr("disabled","disabled").animate({opacity:0.9},100),
this.tabHidden=!0,this.draw())};e.draw=function(){if(this.isWelcomePage&&this.tuix){this.tuix._clear_local_storage&&(delete this.tuix._clear_local_storage,l.sClear(!0));if(this.tuix._location!==h){R.location.href=l.addBasePath(this.tuix._location);return}this.tuix._task!==h&&(this.task=this.tuix._task,delete this.tuix._task)}(this.isOpen||!this.isFAB||this.isWelcomePage)&&this.loaded&&this.tabHidden&&this.draw2()};e.drawTabs=function(a){a||(a=this.mtPrefix+"_tab");var b=[],d;for(d in this.sortedTabs)if(l.has(this.sortedTabs,
d)){var c=this.sortedTabs[d];this.tuix.tabs[c]&&!m.hidden(this.tuix.tabs[c])&&(this.tuix.tab||(this.tuix.tab=c),b.push({tabId:c,current:this.tuix.tab==c,label:this.tuix.tabs[c].label}))}return m.microTemplate(a,b)};e.draw2=function(){var a=this;this.isFAB&&!this.isWelcomePage&&(g("zenario_fbAdminFloatingBox").className=this.baseCSSClass+" "+(this.tuix.css_class||"")+" "+(n(this.tuix.hide_tab_bar)?"zenario_admin_box_with_tabs_hidden":"zenario_admin_box_with_tabs_shown"),!this.tuix.tab||this.tuix.tabs[this.tuix.tab]&&
!m.hidden(this.tuix.tabs[this.tuix.tab])||(this.tuix.tab=!1),g("zenario_jqmTabs").innerHTML=this.drawTabs(),this.setTitle(this.tuix.title),this.showCloseButton(),d="",this.tuix.save_and_continue_button_message&&(d+='<input id="zenarioAFB_save_and_continue"  type="button" value="'+r(this.tuix.save_and_continue_button_message)+'"',d=this.editModeOnBox()?d+(' class="submit_selected" onclick="'+this.globalName+'.save(undefined, true);"/>'):d+' class="submit_disabled"/>'),d+='<input id="zenarioAFB_save"  type="button" value="'+
w(r(this.tuix.save_button_message),D.save)+'"',d=this.editModeOnBox()?d+(' class="submit_selected" onclick="'+this.globalName+'.save();"/>'):d+' class="submit_disabled"/>',this.tuix.cancel_button_message&&(d+='<input type="button" value="'+r(this.tuix.cancel_button_message)+'" onclick="'+this.globalName+'.close();">'),g("zenario_fbButtons").innerHTML=d,u.size(),g("zenario_fbAdminFloatingBox").style.display="block");(this.isFAB||this.isWelcomePage)&&m.nowDoingSomething(!1);this.isWelcomePage&&$("#zenario_abtab input").add("#zenario_abtab select").add("#zenario_abtab textarea").clearQueue();
var b=new l.callback,d=this.drawFields(b);if(this.isFAB)if(this.isWelcomePage&&!1===this.shownTab)this.insertHTML(d,b),$("#welcome").show({effect:"drop",direction:"up",duration:300,complete:function(){a.addJQueryElementsToTabAndFocusFirstField()}}),l.addJQueryElements("#zenario_abtab ",!0);else if(this.shownTab==this.tuix.tab){if(this.tuix.shake===h?this.differentTab&&this.errorOnTab(this.tuix.tab):n(this.tuix.shake))$(this.isWelcomePage?"#welcome":"#zenario_abtab").effect({effect:"bounce",duration:125,
direction:"right",times:2,distance:5,mode:"effect",complete:function(){a.insertHTML(d,b);$("#zenario_abtab").clearQueue().show().animate({opacity:1},75,function(){l.browserIsIE()&&a.style.removeAttribute("filter");a.addJQueryElementsToTabAndFocusFirstField()});a.hideShowFields()}});else{this.insertHTML(d,b);var c=this.lastScrollTop;$("#zenario_abtab").clearQueue().show().animate({opacity:1},150,function(){l.browserIsIE()&&a.style.removeAttribute("filter");c!==h?a.addJQueryElementsToTab():a.addJQueryElementsToTabAndFocusFirstField()});
$("#zenario_fbAdminInner").scrollTop(c);this.hideShowFields()}delete this.tuix.shake}else this.insertHTML(d,b),$("#zenario_abtab").clearQueue().show().animate({opacity:1},150,function(){l.browserIsIE()&&a.style.removeAttribute("filter");a.addJQueryElementsToTabAndFocusFirstField()});else return d;this.shownTab=this.tuix.tab;delete this.lastScrollTop};e.drawFields=function(a){m.clearHTML5UploadFromDragDrop();var b=this.tuix.tab,d="",c="";!this.savedAndContinued(b)&&this.editCancelEnabled(b)&&(c='<div class="zenario_editCancelButton"><input class="submit" type="button" onclick="'+
this.globalName+'.changeMode(); return false;" value="'+(this.editModeOn()?D.cancel:D.edit)+'"></div>');var k=w(this.tuix.tabs[b].template,this.mtPrefix+"_current_tab"),f=!1,p,q,c={fields:{},rows:[],tabId:b,path:this.path,revert:c,errors:[],notices:{}};if(this.editModeOn()){if(this.tuix.tabs[b].errors)for(p in this.tuix.tabs[b].errors)l.has(this.tuix.tabs[b].errors,p)&&(q=this.tuix.tabs[b].errors[p],c.errors.push({message:q}));if(this.tuix.tabs[b].fields)for(p in this.tuix.tabs[b].fields)l.has(this.tuix.tabs[b].fields,
p)&&(q=this.tuix.tabs[b].fields[p],q.error&&c.errors.push({message:q.error}))}if(this.tuix.tabs[b].notices)for(p in this.tuix.tabs[b].notices)l.has(this.tuix.tabs[b].notices,p)&&(q=this.tuix.tabs[b].notices[p],n(q.show)&&{error:1,warning:1,question:1,success:1}[q.type]&&(c.notices[p]=q));for(var h in this.sortedFields[b])l.has(this.sortedFields[b],h)&&(p=this.sortedFields[b][h],q=this.tuix.tabs[b].fields[p],q._id=p,q._html=this.drawField(a,b,p,!0),!1!==q._html&&(!q._startNewRow&&c.rows.length||c.rows.push({fields:[]}),
f||this.tuix.tabs[b].show_errors_after_field!=p||(c.rows[c.rows.length-1].errors=c.errors,c.rows[c.rows.length-1].notices=c.notices,f=!0),c.rows[c.rows.length-1].fields.push(q),c.fields[p]=q));f||c.rows.splice(0,0,{errors:c.errors,notices:c.notices});d+=m.microTemplate(k,c);for(h in this.sortedFields[b])l.has(this.sortedFields[b],h)&&(p=this.sortedFields[b][h],delete this.tuix.tabs[b].fields[p]._startNewRow,delete this.tuix.tabs[b].fields[p]._hideOnOpen,delete this.tuix.tabs[b].fields[p]._showOnOpen,
delete this.tuix.tabs[b].fields[p]._html,delete this.tuix.tabs[b].fields[p]._id);return d};e.insertHTML=function(a,b){var d=g("zenario_abtab");d.innerHTML=a;this.tabHidden=!1;this.changes(this.tuix.tab)?$(d).addClass("zenario_abtab_changed"):$(d).removeClass("zenario_abtab_changed");b.call()};e.hideShowFields=function(a){var b=$(".zenario_hide_on_open"),d=$(".zenario_hide_row_on_open"),c=$(".zenario_show_on_open"),k=function(a,b){b.style.display="none"};c.length&&!b.length?c.show("blind",200,a):!c.length&&
b.length?b.hide("blind",200,function(){d.each(k)}):c.length&&b.length&&(b.each(k),d.each(k),c.show())};e.addJQueryElementsToTab=function(){l.addJQueryElements("#zenario_abtab ",!0)};e.addJQueryElementsToTabAndFocusFirstField=function(){l.addJQueryElements("#zenario_abtab ",!0);this.focusFirstField()};e.focusFirstField=function(){if(this.tuix&&!n(this.tuix.tabs[this.tuix.tab].disable_autofocus)){var a=-1,b=[],d=h,c;for(c in this.sortedFields[this.tuix.tab])if(l.has(this.sortedFields[this.tuix.tab],
c)){var k=this.sortedFields[this.tuix.tab][c],f=this.tuix.tabs[this.tuix.tab].fields[k];if(g(k)&&$(g(k)).is(":visible")&&(b[++a]={id:k,type:f.type,empty:""==g(k).value,focusable:f.type&&{password:1,checkbox:1,select:1,text:1,textarea:1}[f.type]&&!n(g(k).disabled)&&!n(g(k).readonly)},1<a))break}if(b[0]&&!b[0].empty&&b[1]&&b[1].focusable&&b[1].empty&&"password"==b[1].type)d=1;else if(b[0]&&b[0].focusable)d=0;else if(b[1]&&b[1].focusable)d=1;else return;setTimeout(function(){g(b[d].id).focus()},50)}};
e.focusField=function(){this.fieldToFocus&&g(this.fieldToFocus)&&$(g(this.fieldToFocus)).is(":visible")&&g(this.fieldToFocus).focus();delete this.fieldToFocus};e.setTitle=function(a,b){a?($("#zenario_fbAdminFloatingBox .zenario_jqmTitle").css("display","block"),$("#zenario_fbAdminFloatingBox .zenario_jqmTitle").addClass(" zenario_no_drag"),b||(a=r(a)),g("zenario_jqmTitle").innerHTML=a,m.setTooltipIfTooLarge("#zenario_jqmTitle",a,m.tooltipLengthThresholds.adminBoxTitle)):$("#zenario_fbAdminFloatingBox .zenario_jqmTitle").css("display",
"none")};e.showCloseButton=function(){this.tuix.cancel_button_message?$("#zenario_fbAdminFloatingBox .zenario_jqmClose").css("display","none"):$("#zenario_fbAdminFloatingBox .zenario_jqmClose").css("display","block")};e.errorOnBox=function(){if(this.tuix&&this.tuix.tabs)for(tab in this.tuix.tabs)if(l.has(this.tuix.tabs,tab)&&this.errorOnTab(tab))return!0;return!1};e.errorOnTab=function(a){var b;if(this.tuix.tabs[a]&&this.editModeOn(a)){if(this.tuix.tabs[a].errors)for(b in this.tuix.tabs[a].errors)if(l.has(this.tuix.tabs[a].errors,
b))return!0;if(this.tuix.tabs[a].fields)for(b in this.tuix.tabs[a].fields)if(l.has(this.tuix.tabs[a].fields,b)&&this.tuix.tabs[a].fields[b].error)return!0}};e.checkValues=function(a){a?this.wipeTab():this.readTab();for(var b in this.tuix.tabs)if(l.has(this.tuix.tabs,b)){a=this.tuix.tabs[b];var d=this.editModeOn(b);if(a.fields)for(var c in a.fields)if(l.has(a.fields,c)){var k=a.fields[c];k.snippet||"submit"==k.type||"toggle"==k.type||(k.current_value===h&&(k.current_value=this.value(c,b,!0)),d&&(k.value===
h&&(k.value=this.value(c,b,!1)),k.multiple_edit&&k.multiple_edit._changed===h&&k.multiple_edit.changed!==h&&(k.multiple_edit._changed=k.multiple_edit.changed)))}}};e.drawField=function(a,b,d,c,k,f,p,q,e,z,N,E){var u=this,I={id:!0,name:!0,size:!0,maxlength:!0,accesskey:!0,"class":!0,cols:!0,dir:!0,readonly:!0,rows:!0,style:!0,tabindex:!0,title:!0,disabled:!0,onblur:!0,onchange:!0,onclick:!0,ondblclick:!0,onfocus:!0,onmousedown:!0,onmousemove:!0,onmouseout:!0,onmouseover:!0,onmouseup:!0,onkeydown:!0,
onkeypress:!0,onkeyup:!0,onselect:!0,autocomplete:!0,autofocus:!0,max:!0,min:!0,pattern:!0,placeholder:!0,required:!0,step:!0};c="";var A,t,v,x=!1,s={"class":""},G={},Q=!0,F=!1;f===h&&(f=this.tuix.tabs[b].fields[d]);q===h&&(q=!this.editModeOn()||n(f.read_only));f.type&&"datetime"==f.type&&(q=!0);if(!(z&&N||"object"!=typeof f.values)){z=[];N={};for(t in f.values)l.has(f.values,t)&&(v=f.values[t],"object"==typeof v?(v.parent!==h&&(F=!0,N[v.parent]=!0),m.hidden(v)||(v.ord!==h?z.push([t,v.ord]):v.label!==
h?z.push([t,v.label]):z.push([t,t]))):z.push([t,v]));z.sort(m.sortArray);for(A in z)l.has(z,A)&&(z[A]=z[A][0])}if(k===h){f.load_values_from_organizer_path&&!f.values&&this.loadValuesFromOrganizerPath(f);f._startNewRow=!n(f.same_row);if(f._startNewRow&&!1!==this.shownTab&&this.shownTab==this.tuix.tab&&"editor"!=f.type&&"code_editor"!=f.type&&this.tuix.tabs[b].fields[d]._was_hidden_before&&!m.hidden(f))f._showOnOpen=!0,delete this.tuix.tabs[b].fields[d]._was_hidden_before;else if(f._startNewRow&&!1!==
this.shownTab&&this.shownTab==this.tuix.tab&&"editor"!=f.type&&"code_editor"!=f.type&&!this.tuix.tabs[b].fields[d]._was_hidden_before&&m.hidden(f))f._hideOnOpen=!0,this.tuix.tabs[b].fields[d]._was_hidden_before=!0;else{if(m.hidden(f))return this.tuix.tabs[b].fields[d]._was_hidden_before=!0,!1;delete this.tuix.tabs[b].fields[d]._was_hidden_before}t="";v=!1;f.multiple_edit&&(v=q||f.multiple_edit._changed===h?f.multiple_edit.changed:n(f.multiple_edit._changed),n(f.multiple_edit.disable_when_unchanged)&&
!v&&(e=!0),n(f.multiple_edit.hide_ui)||!f.multiple_edit.select_list?(t+='<input type="checkbox" class="multiple_edit" id="multiple_edit__'+r(d)+'"'+(v?' checked="checked"':""),t=n(f.multiple_edit.hide_ui)?t+' style="display: none;"':q?t+' disabled="disabled"':t+(' onchange="'+this.globalName+".meChange(this.checked, '"+r(d)+"');\""),t+="/> "):(t+='<select class="multiple_edit" id="multiple_edit__'+r(d)+'"',t=q?t+' disabled="disabled"':t+(' onchange="'+this.globalName+".meChange(this.value == 1, '"+
r(d)+"');\""),t+='><option value=""'+(v?"":' selected="selected"')+">"+w(f.multiple_edit.select_list.not_changed_label,D.notChanged)+'</option><option value="1"'+(v?' selected="selected"':"")+">"+w(f.multiple_edit.select_list.changed_label,D.changed)+"</option></select> "));c+=t;t=h;f.pre_field_html!==h&&(c+=f.pre_field_html)}f.snippet||p!==h||(p=this.value(d,b,h,!0));p===h&&(p="");if(q||e)s.disabled="disabled";if(f.snippet)f.snippet.html?c+='<span id="snippet__'+r(d)+'">'+f.snippet.html+"</span>":
f.snippet.url?c=n(f.snippet.cache)?this.cachedAJAXSnippets[f.snippet.url]?c+this.cachedAJAXSnippets[f.snippet.url]:c+(this.cachedAJAXSnippets[f.snippet.url]=l.nonAsyncAJAX(l.addBasePath(f.snippet.url))):c+l.nonAsyncAJAX(l.addBasePath(f.snippet.url)):f.snippet.separator&&(c+='<hr class="input_separator"',f.snippet.separator.style&&(c+=' style="'+r(f.snippet.separator.style)+'"'),c+="/>");else if(("checkboxes"==f.type||"radios"==f.type)&&k===h)f.values&&(E=this.pickedItemsArray(f,p),A=_.extend({},f),
A.name=w(f.name,d),A.type="checkboxes"==f.type?"checkbox":"radio",q&&(A.disabled=!0),c+=this.hierarchicalBoxes(a,b,d,p,f,A,E,e,z,N));else if(f.upload||f.pick_items)p={id:d,wrappedId:"name_for_"+d,readOnly:q,tempReadOnly:e},q?p.pickedItems=this.drawPickedItems(d,!0):(p.pickedItems=this.drawPickedItems(d,!1,e),f.pick_items&&f.pick_items.path&&f.pick_items.min_path&&f.pick_items.target_path&&!n(f.pick_items.hide_select_button)&&(p.select={onclick:this.globalName+".pickItems('"+r(d)+"');",phrase:f.pick_items.select_phrase||
D.selectDotDotDot}),f.upload&&(p.upload={onclick:this.globalName+".upload('"+r(d)+"');",phrase:f.upload.upload_phrase||D.uploadDotDotDot},n(f.upload.drag_and_drop)&&this.upload(d,!0),K.Dropbox&&Dropbox.isBrowserSupported()&&(p.dropbox={onclick:this.globalName+".chooseFromDropbox('"+r(d)+"');",phrase:f.upload.dropbox_phrase||D.dropboxDotDotDot}))),c+=m.microTemplate(this.mtPrefix+"_picked_items",p);else if(f.type){s.onchange=k?this.globalName+".fieldChange('"+r(d)+"', '"+r(k)+"');":this.globalName+
".fieldChange('"+r(d)+"');";f.disabled&&(s["class"]+="disabled ");f.return_key_presses_button&&!q&&(s.onkeyup=w(s.onkeyup,"","")+"if (event.keyCode == 13) {$('#"+r(f.return_key_presses_button)+"').click();}");n(f.multiple_edit)&&!q&&(s.onkeyup=w(s.onkeyup,"","")+"if (event && event.keyCode == 9) return true; "+this.globalName+".meMarkChanged('"+r(d)+"', this.value, '"+r(f.value)+"');");s["class"]+="input_"+f.type;if("select"==f.type)f.slider&&(x=!0,c+=this.drawSlider(a,d,f,q,!0)),c+="<select";else if("textarea"==
f.type)c+="<textarea";else if("code_editor"==f.type)c+="<div",s["class"]=" zenario_embedded_ace_editor",a.after(function(){var a=ace.edit(d);a.session.setUseSoftTabs(!1);a.setShowPrintMargin(!1);q&&(a.setReadOnly(!0),a.setBehavioursEnabled(!1));a.session.setOption("useWorker",!1);if(language=f.language)try{language=language.match(/\.twig\.html$/i)?"ace/mode/twig":language.match(/\./)?ace.require("ace/ext/modelist").getModeForPath(language).mode:"ace/mode/"+language,a.session.setMode(language)}catch(b){console.log("Ace editor could not load that language",
language)}});else if("color_picker"==f.type||"colour_picker"==f.type)c+="<input",s["class"]=" zenario_color_picker",a.after(function(){var a=f.color_picker_options||f.colour_picker_options||{};a.disabled=q;a.preferredFormat=a.preferredFormat||"hex";$(g(d)).spectrum(a)});else if("editor"==f.type){c+="<textarea";m.getSkinDesc();var J;e={script_url:C+m.tinyMCEPath,inline:!1,menubar:!1,statusbar:!1,plugins:"autoresize",document_base_url:h,convert_urls:!1,readonly:!0,inline_styles:!1,allow_events:!0,allow_script_urls:!0,
autoresize_max_height:Math.max(Math.floor(0.5*$(K).height()),300),onchange_callback:function(a){u.fieldChange(a.id)},init_instance_callback:function(a){m.enableDragDropUploadInTinyMCE(!1,h,g("row__"+w(a.editorId,a.id)));var b;(b=a.editorContainer)&&(b=$("#"+a.editorContainer.id+" iframe"))&&(b=b[0])&&(b=b.contentWindow)&&m.enableDragDropUploadInTinyMCE(!1,h,b)}};b=_.extend({},e,{plugins:["advlist autolink lists link image charmap hr anchor","searchreplace code fullscreen","nonbreaking table contextmenu directionality",
"paste autoresize"],image_advtab:!0,visual_table_class:" ",browser_spellcheck:!0,paste_preprocess:m.tinyMCEPasteRreprocess,readonly:!1,convert_urls:!0,relative_urls:!1,content_css:h,toolbar:"undo redo | bold italic | removeformat | fontsizeselect | formatselect | numlist bullist | outdent indent | code",style_formats:m.skinDesc.style_formats,oninit:h});t=_.extend({},b,{toolbar:"undo redo | image link unlink | bold italic | removeformat | fontsizeselect | formatselect | numlist bullist | outdent indent | code",
file_browser_callback:m.fileBrowser,init_instance_callback:function(a){m.enableDragDropUploadInTinyMCE(!0,C,g("row__"+w(a.editorId,a.id)));var b;(b=a.editorContainer)&&(b=$("#"+a.editorContainer.id+" iframe"))&&(b=b[0])&&(b=b.contentWindow)&&m.enableDragDropUploadInTinyMCE(!0,C,b)}});v=_.extend({},t,{toolbar:"undo redo | image | bold italic | removeformat | fontsizeselect | formatselect | numlist bullist | outdent indent | code"});var M=_.extend({},v,{toolbar:"undo redo | link unlink | bold italic | removeformat | fontsizeselect | formatselect | numlist bullist | outdent indent | code"});
q?(J=e,s["class"]=" tinymce_readonly"):f.insert_image_button?f.insert_link_button?(J=t,s["class"]=" tinymce_with_images_and_links"):(J=v,s["class"]=" tinymce_with_images"):f.insert_link_button?(J=M,s["class"]=" tinymce_with_links"):(J=b,s["class"]=" tinymce");s.style="visibility: hidden;";_.isObject(f.editor_options)&&(J=_.extend(J,f.editor_options));a.after(function(){$(g(d)).tinymce(J)})}else if("submit"==f.type||"toggle"==f.type){c+="<input";s.type="button";if(!q||n(f.can_be_pressed_in_view_mode))G.onclick=
this.globalName+".clickButton(this, '"+d+"');",delete s.disabled;"submit"==f.type&&(this.tuix.tabs[b].fields[d].pressed=!1);"toggle"==f.type&&(s["class"]+=this.tuix.tabs[b].fields[d].pressed?" pressed":" not_pressed")}else"date"==f.type||"datetime"==f.type?(c+="<input",s.type="text",s["class"]+=" zenario_datepicker",n(f.change_month_and_year)&&(s["class"]+=" zenario_datepicker_change_month_and_year"),s.readonly="readonly",q||(s.onkeyup=w(s.onkeyup,"","")+"zenario.dateFieldKeyUp(this, event, '"+r(d)+
"');")):"url"==f.type?(c+="<input",s.type="url",s.onfocus=w(s.onfocus,"","")+"if(!this.value) this.value = 'http://';",s.onblur=w(s.onblur,"","")+"if(this.value == 'http://') this.value = '';"):(f.slider&&(x=!0,c+=this.drawSlider(a,d,f,q,!0)),c+="<input",s.type=f.type,Q=!0);if("checkbox"==f.type||"radio"==f.type)n(p)&&(s.checked="checked"),p=h,n(f.indeterminate)&&a.after(function(){var a;if(a=g(d))a.indeterminate=!0});x&&(s.onchange=w(s.onchange,"","")+"$('#zenario_slider_for__"+d+"').slider('value', $(this).val());",
s.onkeyup=w(s.onkeyup,"","")+"$('#zenario_slider_for__"+d+"').slider('value', $(this).val());");e=f;k===h?e.id=d:(e=$.extend({},e,E),e.id=d+"___"+k,s["class"]+=" control_for__"+d);"radio"==e.type&&e.name||(e.name=d);for(var y in e)if(l.has(e,y)&&I[y])if("disabled"==y||"readonly"==y){if(n(s[y])||n(e[y]))c+=" "+y+'="'+y+'"'}else c+=" "+y+'="',s[y]&&(c+=s[y]+" ",delete s[y]),c+=r(e[y]),G[y]&&(c+=" "+G[y],delete G[y]),c+='"';for(y in s)l.has(s,y)&&(c+=" "+y+'="'+r(s[y]),G[y]&&(c+=" "+G[y],delete G[y]),
c+='"');for(y in G)l.has(G,y)&&(c+=" "+y+'="'+r(G[y])+'"');"select"==f.type?c+=">":"textarea"==f.type||"editor"==f.type?c+=">"+r(p,!1,"asis")+"</textarea>":"code_editor"==f.type?c+=">"+r(p,!1,"asis")+"</div>":"date"==f.type||"datetime"==f.type?(c+=' value="'+r(l.formatDate(p,"datetime"==f.type))+'"/>',c+='<input type="hidden" id="_value_for__'+r(d)+'" value="'+r(p)+'"/>',!q&&this.isFAB&&(c+='<input type="button" class="zenario_remove_date" value="x" onclick="'+this.globalName+".blankField('"+r(d)+
"'); "+this.globalName+".fieldChange('"+r(d)+"');\"/>")):c=p!==h?c+(' value="'+r(p,!1,"asis")+'"/>'):c+"/>";if("select"==f.type)f.empty_value&&(c+='<option value="">'+r(f.empty_value)+"</option>"),f.values&&(c+=this.hierarchicalSelect(p,f,z,F,N)),c+="</select>";else if(Q&&f.values&&!q){var L=[];for(A in z)l.has(z,A)&&(t=z[A],L.push({label:f.values[t],value:t}));a.after(function(){var a=$(g(d)),b={source:L,minLength:0,appendTo:a.parent()};f.return_key_presses_button&&(b.select=function(){setTimeout(function(){$("#"+
f.return_key_presses_button).click()},0)});a.autocomplete(b);a.focus(function(){a.autocomplete("widget").is(":visible")||a.autocomplete("search","")})})}}k===h&&("url"!=f.type||q||(c+='&nbsp; <input type="button" class="submit" value="Test" onclick="if (get(\''+r(d)+"').value) window.open(zenario.addBasePath(get('"+r(d)+"').value));\"/>"),f.post_field_label!==h&&(c+='<label for="'+r(d)+'" id="label_for__'+r(d)+'"> '+r(f.post_field_label)+"</label>"),f.post_field_html!==h&&(c+=f.post_field_html),x&&
(c+=this.drawSlider(a,d,f,q,!1)));return c};e.hierarchicalSelect=function(a,b,d,c,k,f){var p="",q,e,g,m,E;for(m in d)l.has(d,m)&&(E=d[m],g=b.values[E],e=q="",_.isString(g)?g={label:g}:n(g.disabled)&&(q=' disabled="disabled"'),E==a&&(e=' selected="selected"'),f===h&&c&&k[E]?p+='<optgroup label="'+r(g,!1,!0)+'"'+q+">"+this.hierarchicalSelect(a,b,d,c,k,E)+"</optgroup>":f===g.parent&&(p+='<option value="'+r(E)+'"'+e+q+">"+r(g,!1,!0)+"</option>"));return p};e.chooseFromDropbox=function(a){var b=this,d;
if(!this.tuix.tabs[this.tuix.tab]||!(d=this.tuix.tabs[this.tuix.tab].fields[a])||!d.upload)return!1;d={cancel:function(){m.hideAJAXLoader()},linkType:"direct",multiselect:!!n(d.upload.multi),extensions:d.upload.extensions?_.toArray(d.upload.extensions):h,success:function(c){m.showAJAXLoader();var d,f,p=new l.callback;for(d in c)l.has(c,d)&&(f=c[d],p.add(l.ajax("zenario/ajax.php?method_call=handleAdminBoxAJAX&fetchFromDropbox=1",f,!0)));p.after(function(){var d,c,f,k,p;if(!b.tuix.tabs[b.tuix.tab]||
!(f=b.tuix.tabs[b.tuix.tab].fields[a])||!f.upload)return!1;k=f.current_value===h?f.value:f.current_value;p=n(f.upload.multi);for(d in arguments)l.has(arguments,d)&&(c=arguments[d])&&c.id&&(k=p&&k?k+(","+c.id):c.id);m.hideAJAXLoader();b.redrawPickedItems(a,f,k)})}};m.showAJAXLoader();Dropbox.choose(d)};e.upload=function(a,b){var d=this,c;if(!this.tuix.tabs[this.tuix.tab]||!(c=this.tuix.tabs[this.tuix.tab].fields[a])||!c.upload)return!1;c={class_name:c.class_name,upload:c.upload};this.uploadCallback=
function(b){if(b){var c,p,q,e,g;if(!d.tuix.tabs[d.tuix.tab]||!(q=d.tuix.tabs[d.tuix.tab].fields[a])||!q.upload)return!1;e=q.current_value===h?q.value:q.current_value;g=n(q.upload.multi);for(c in b)l.has(b,c)&&(p=b[c])&&p.id&&(e=g&&e?e+(","+p.id):p.id);d.redrawPickedItems(a,q,e)}};b?m.setHTML5UploadFromDragDrop(C+"zenario/ajax.php?method_call=handleAdminBoxAJAX",{fileUpload:1},!1,this.uploadCallback,g("zenario_fbAdminInner")):m.action(this,c,h,h,h,{fileUpload:1})};e.uploadComplete=function(a){this.uploadCallback!==
h&&this.uploadCallback(a);delete this.uploadCallback};e.drawSlider=function(a,b,d,c,k){var f=this,p=_.clone(d.slider);d="";if(n(p.before_field)?k:!k)c&&(d+='<div class="ui-disabled">'),d+='<div id="zenario_slider_for__'+r(b)+'" class="'+r(p["class"])+'" style="'+r(p.style)+'"></div>',c&&(d+="</div>"),a.after(function(){var a;if(a=g("zenario_slider_for__"+b))p.min!==h&&(p.min*=1),p.max!==h&&(p.max*=1),p.step!==h&&(p.step*=1),p.disabled=!f.editModeOn(),p.value=$(g(b)).val(),p.slide=function(a,c){$(g(b)).val(c.value)},
p.change=function(a,b){f&&f.id&&f.fieldChange(f.id.replace("zenario_slider_for__",""))},$(a).slider(p)});return d};e.pickedItemsArray=function(a,b){if(!1===b||null===b||b===h||!(0!==b&&"0"!==b||a.values&&(a.values[0]||a.values["0"])))return{};var d=(b+"").split(","),c={},k,f,p,e;a._display_value=!1;for(p in d)l.has(d,p)&&(e=d[p])&&(a.upload&&(f=l.decodeItemIdForStorekeeper(e))&&(f=f.split("/"))&&f[1]?(c[e]=f[1],n(f[2])&&n(f[3])&&(c[e]+=" ["+f[2]+" \u00d7 "+f[3]+"px]")):a.values&&a.values[e]&&"string"==
typeof a.values[e]?c[e]=a.values[e]:a.values&&a.values[e]&&a.values[e].label?c[e]=a.values[e].label:a.pick_items&&(a.pick_items.target_path&&(k=m.getSKItem(a.pick_items.target_path,e))||a.pick_items.path&&a.pick_items.path!=a.pick_items.target_path&&-1==a.pick_items.path.indexOf("//")&&(k=m.getSKItem(a.pick_items.path,e)))?(a.values||(a.values={}),a.values[e]=c[e]=m.formatSKItemName(k,e)):a.upload&&e==1*e&&(f=m.lookupFileDetails(e))?(a.values||(a.values={}),c[e]=f.filename,n(f.width)&&n(f.height)&&
(c[e]+=" ["+f.width+" \u00d7 "+f.height+"px]"),a.values[e]=c[e]):c[e]=e,!1===a._display_value&&(a._display_value=c[e]));return c};e.pickedItemsValue=function(a){var b,d="";if(a)for(b in a)l.has(a,b)&&(d+=(""===d?"":",")+b);return d};e.hierarchicalBoxes=function(a,b,d,c,k,f,e,q,B,z,u,E,w){var D=1;if(!w)w=0,D=1*k.cols||1;else if(10<w)return"";E||(E={});u&&(E[u]=!0);var A=0,t="",v,x,s;w&&(t+='<div class="zenario_hierarchical_box_children" id="'+r("children_for___"+d+"___"+u)+'">');for(var G in B)if(l.has(B,
G)){v={};x=B[G];x==1*x&&(x*=1);var C=h;s="object"==typeof k.values[x]?k.values[x]:{label:k.values[x]};k.tag_colors&&(v.tag_color=k.tag_colors[x]||"blue");C=s.parent;"0"===C&&(C=!1);if(!u&&!C||u==C){if(v.newRow=++A>D)A=1;v.col=A;v.cols=D;C=c?!0===c||1===c||"1"===c?!0===x||1===x||"1"===x:e?e[x]!==h?!0:!1:x==c:!x;if("checkboxes"==k.type&&n(k.checking_child_checks_parents)){var F="";u&&(F+="if (this.checked) { for (var cb in "+JSON.stringify(E)+") { get('"+r(d)+"___' + cb).checked = true; } } ");z[x]&&
(F+="if (!this.checked) { $('#children_for___' + this.id + ' input').attr('checked', false); } ");F?f.onchange=k.onchange?F+" "+k.onchange:F:k.onchange?f.onchange=k.onchange:delete f.onchange}else"checkboxes"==k.type&&n(k.checking_parent_checks_children)&&(F="",z[x]&&(F+="if (this.checked) { $('#children_for___' + this.id + ' input').each(function(i, el) {el.checked = true;}) }; "),F?f.onchange=k.onchange?F+" "+k.onchange:F:k.onchange?f.onchange=k.onchange:delete f.onchange);v.lovId=d+"___"+x;v.lovField=
s;k.indeterminates&&n(k.indeterminates[x])&&function(b){a.after(function(){var a;if(a=g(b))a.indeterminate=!0})}(v.lovId);v.lovHTML=this.drawField(a,b,d,!0,x,f,C,!1,q,B,z,s);v.childrenHTML="";z[x]&&(v.childrenHTML=this.hierarchicalBoxes(a,b,d,c,k,f,e,q,B,z,x,_.extend({},E),w+1),A=0);t+=m.microTemplate("zenario_admin_box_radio_or_checkbox",v)}}w&&(t+="</div>");return t};e.drawPickedItems=function(a,b,d,c){c===h&&(c=this.tuix.tab);var k=this.tuix.tabs[c].fields[a],f=!1,e,g=this.value(a,c,b),B=this.pickedItemsArray(k,
g);c=k.upload&&n(k.upload.reorder_items);var z=1*k.cols||1,r=0;for(e in B)if(l.has(B,e)){f=!0;break}if(f){var f=[],u=[];if(c)for(e in g=g.split(","),g)l.has(g,e)&&u.push([g[e],B[g[e]]]);else{for(e in B)l.has(B,e)&&u.push([e,B[e]]);u.sort(m.sortArray)}for(e=0;e<u.length;++e){var B=u[e][0],H=u[e][1],I=B==1*B,A,t,g={id:a,item:B,label:H,first:0==e,last:e==u.length-1,readOnly:b,tempReadOnly:d};if(g.newRow=++r>z)r=1;g.col=r;g.cols=z;k.tag_colors&&(g.tag_color=k.tag_colors[B]||"blue");!k.pick_items||k.upload&&
!I||!(t=k.pick_items.path)||t!=k.pick_items.target_path&&k.pick_items.min_path!=k.pick_items.target_path||(t="//"==l.rightHandedSubStr(t,2)?t+B:"/"==l.rightHandedSubStr(t,1)?t+("/"+B):t+("//"+B),g.organizerPath=t);k.upload&&(g.isUpload=!0,A=(A=(""+H).match(/(.*?)\.(\w+)$/)||(""+H).match(/(.*?)\.(\w+) \[.*\]$/))&&A[2]?A[2].toLowerCase():"unknown",g.extension=A,I=I?C+"zenario/file.php?id="+B:C+"zenario/file.php?getUploadedFileInCacheDir="+encodeURIComponent(B),A.match(/gif|jpg|jpeg|png/)?(g.thumbnail=
{onclick:this.globalName+".showPickedItemInPopout('"+I+"&popout=1&dummy_filename="+encodeURIComponent("image."+A)+"');",src:I+"&og=1"},(H=(""+H).match(/.*\[\s*(\d+)p?x?\s*[\u00d7x]\s*(\d+)p?x?\s*\]$/))&&H[1]&&H[2]&&m.resizeImage(H[1],H[2],180,120,g.thumbnail)):g.adminDownload=I+"&adminDownload=1",c&&(g.first||(g.nudgeUp={onclick:this.globalName+".nudge('"+L(a)+"', "+(e-1)+", "+e+");"}),g.last||(g.nudgeDown={onclick:this.globalName+".nudge('"+L(a)+"', "+e+", "+(e+1)+");"})));b||k.pick_items&&n(k.pick_items.hide_remove_button)||
(g.removeButton={onclick:this.globalName+".removePickedItem('"+L(a)+"', '"+L(B)+"');"});f.push(g)}}else f={readOnly:b,tempReadOnly:d,noItemSelected:!0,nothing_selected_phrase:w(k.pick_items&&k.pick_items.nothing_selected_phrase,D.nothing_selected)};return m.microTemplate(this.mtPrefix+"_picked_item",f)};e.showPickedItemInPopout=function(a){m.action(this,{popout:{href:a,css_class:"zenario_show_colobox_above_fab"}})};e.pickItems=function(a){if(!this.tuix.tabs[this.tuix.tab]||!this.tuix.tabs[this.tuix.tab].fields[a])return!1;
var b=this.tuix.tabs[this.tuix.tab].fields[a],d,c;if(!(b.pick_items&&b.pick_items.path&&b.pick_items.min_path&&b.pick_items.target_path))return!1;c=b.pick_items.path;n(b.pick_items.multiple_select)||c!=b.pick_items.target_path&&b.pick_items.min_path!=b.pick_items.target_path||!(d=this.readField(a))||-1!=d.indexOf(",")||(c="//"==l.rightHandedSubStr(c,2)?c+d:"/"==l.rightHandedSubStr(c,1)?c+("/"+d):c+("//"+d));this.SKTarget=a;m.organizerSelect(this.globalName,"setPickedItems",b.pick_items.multiple_select,
c,b.pick_items.target_path,b.pick_items.min_path,b.pick_items.max_path,b.pick_items.disallow_refiners_looping_on_min_path,h,b.pick_items.one_to_one_choose_phrase,b.pick_items.one_to_many_choose_phrase,h,!0,h,h,h,h,h,h,h,h,b.pick_items)};e.setPickedItems=function(a,b,d,c){a=this.SKTarget;var e;values={};for(e in b._items)l.has(b._items,e)&&(d=l.decodeItemIdForStorekeeper(e),values[d]=m.formatSKItemName(c,e));this.addToPickedItems(values,a)};e.addToPickedItems=function(a,b,d){d||(d=this.tuix.tab);d=
this.tuix.tabs[d].fields[b];var c=d.current_value===h?d.value:d.current_value,e,f,g;if(_.isString(a))for(e in g=a.split(","),a={},g)l.has(g,e)&&(f=g[e],a[f]=f);c=n(d.pick_items.multiple_select)&&c?this.pickedItemsArray(d,c):{};for(f in a)if(l.has(a,f)&&(e=a[f],d.values||(d.values={}),d.values[f]||(d.values[f]=e),c[f]=!0,!n(d.pick_items.multiple_select)))break;this.redrawPickedItems(b,d,c)};e.removePickedItem=function(a,b){var d=this.tuix.tabs[this.tuix.tab].fields[a],c=d.current_value===h?d.value:
d.current_value,c=c.split(","),e;for(e in c)if(l.has(c,e)&&c[e]==b){c.splice(e,1);break}c=c.join(",");this.redrawPickedItems(a,d,c)};e.nudge=function(a,b,d){b*=1;d*=1;var c=this.tuix.tabs[this.tuix.tab].fields[a],e=c.current_value===h?c.value:c.current_value,e=e.split(",");if(e[b]!==h&&e[d]!==h){var f=e[b];e[b]=e[d];e[d]=f}e=e.join(",");this.redrawPickedItems(a,c,e)};e.redrawPickedItems=function(a,b,d){"object"==typeof d&&(d=this.pickedItemsValue(d));b.current_value=d;g("name_for_"+a).innerHTML=this.drawPickedItems(a);
this.fieldChange(a)};e.changes=function(a){if(this.tuix&&this.tuix.tab){if(a==h){for(a in this.tuix.tabs)if(l.has(this.tuix.tabs,a)&&this.changed[a])return!0;return!1}return this.changed[a]}return!1};e.markAsChanged=function(a,b){this.tuix&&(a===h&&(a=this.tuix.tab),a&&(this.changed[a]||(this.changed[a]=!0),this.tuix.tab==a&&$("#zenario_abtab").addClass("zenario_abtab_changed")))};e.fieldChange=function(a,b){if(this.tuix&&this.tuix.tab&&this.tuix.tabs[this.tuix.tab]&&this.tuix.tabs[this.tuix.tab].fields[a]){var d=
this.tuix.tab,c=this.tuix.tabs[d].fields[a];c.indeterminate&&(c.indeterminate=!1);b!==h&&c.indeterminates&&c.indeterminates[b]&&(c.indeterminates[b]=!1);this.markAsChanged(d);n(c.multiple_edit)&&this.meMarkChanged(a);this.validateFormatOrRedrawForField(c)}};e.validateFormatOrRedrawForField=function(a){"object"!=typeof a&&(a=this.tuix.tabs[this.tuix.tab].fields[a]);var b=n(a.validate_onchange),d=n(a.format_onchange);a=n(a.redraw_onchange);if(b=b||this.errorOnTab(this.tuix.tab)&&(d||a))return this.validate(),
!0;if(d)return this.format(),!0;a&&(this.readTab(),this.redrawTab());return a};e.meMarkChanged=function(a,b,d){if(b===h||b!=d)this.tuix.tabs[this.tuix.tab].fields[a].multiple_edit._changed=!0,this.meSetCheckbox(a,!0)};e.meSetCheckbox=function(a,b){"checkbox"==g("multiple_edit__"+a).type?g("multiple_edit__"+a).checked=b:g("multiple_edit__"+a).value=b?1:""};e.meChange=function(a,b,d){if(a)this.tuix.tabs[this.tuix.tab].fields[b].multiple_edit._changed=!0;else{if(!d&&n(this.tuix.tabs[this.tuix.tab].fields[b].multiple_edit.warn_when_abandoning_changes)&&
this.tuix.tabs[this.tuix.tab].fields[b].multiple_edit.original_value!==h&&this.readField(b)!=this.tuix.tabs[this.tuix.tab].fields[b].multiple_edit.original_value){d='<input type="button" class="submit_selected" value="'+D.abandonChanges+'" onclick="'+this.globalName+".meChange(false, '"+r(b)+'\', true);"/><input type="button" class="submit" value="'+D.cancel+'"/>';m.floatingBox(D.abandonChangesConfirm,d,"warning");this.meSetCheckbox(b,!0);return}this.tuix.tabs[this.tuix.tab].fields[b].multiple_edit._changed=
!1;delete this.tuix.tabs[this.tuix.tab].fields[b].current_value;d=this.tuix.tabs[this.tuix.tab].fields[b];var c=d.value;d.multiple_edit.original_value!==h&&(c=this.tuix.tabs[this.tuix.tab].fields[b].current_value=d.multiple_edit.original_value);g(b)&&!d.pick_items?"checkbox"==g(b).type?g(b).checked=c?!0:!1:$(g(b)).val(w(c,"","")):(d=new l.callback,c=this.drawFields(d),this.insertHTML(c,d))}n(this.tuix.tabs[this.tuix.tab].fields[b].multiple_edit.disable_when_unchanged)&&(g(b)&&(g(b).disabled=!a),$(".control_for__"+
b).each(function(b,c){c.disabled=!a;"button"==c.type&&(a?$(c).removeClass("submit_disabled"):$(c).addClass("submit_disabled"))}));this.meSetCheckbox(b,a);this.validateFormatOrRedrawForField(b)};e.value=function(a,b,d,c){b||(b=this.tuix.tab);a=this.tuix.tabs[b].fields[a];d===h&&(d=!this.editModeOn(b));return a?c||"submit"!=a.type&&"toggle"!=a.type?d||a.current_value===h?a.value!==h?a.value:a.multiple_edit&&a.multiple_edit.original_value!==h?a.multiple_edit.original_value:h:a.current_value:a.pressed:
h};e.readField=function(a){var b=h,d=this.tuix.tab,c=this.tuix.tabs[d].fields[a],e;if(!c||c.snippet||"submit"==c.type||"toggle"==c.type)return h;var f=!this.editModeOn()||n(c.read_only),p=this.tuix.tabs[d].fields[a]._was_hidden_before;c.multiple_edit&&f&&delete this.tuix.tabs[d].fields[a].multiple_edit._changed;if("checkboxes"==c.type||"radios"==c.type){if(!f&&!p&&c.values){var q,p="",r=!0;for(q in c.values)l.has(c.values,q)&&g(a+"___"+q)&&g(a+"___"+q).checked&&(p+=(r?"":",")+q,r=!1);c.current_value=
p}p=!0}else if(c.pick_items||c.upload)p=!0;if(p)return f||c.current_value===h?c.value:c.current_value;if(g("_value_for__"+a))this.tuix.tabs[d].fields[a].current_value=b=g("_value_for__"+a).value;else if("editor"!=c.type&&"code_editor"!=c.type||f)if(!f&&(e=g(a))){if("checkbox"==c.type||"radio"==c.type)b=e.checked?!0:!1;else if("color_picker"==c.type||"colour_picker"==c.type)try{b=$(e).spectrum("get").toHexString()}catch(z){b=$(e).val()}else b=$(e).val();this.tuix.tabs[d].fields[a].current_value=b}else delete this.tuix.tabs[d].fields[a].current_value,
b=c.value;else if(b=h,"editor"==c.type?K.tinyMCE&&tinyMCE.get(a)&&(b=m.tinyMCEGetContent(tinyMCE.get(a))):"code_editor"==c.type&&(e=ace.edit(a))&&(b=e.getValue()),b!==h&&!1!==b)b=this.tuix.tabs[d].fields[a].current_value=b;else return c.current_value===h?c.value:c.current_value;return b};e.blankField=function(a){var b=this.tuix.tab;g(a)&&$(g(a)).val("");g("_value_for__"+a)&&(g("_value_for__"+a).value="");this.tuix.tabs[b].fields[a].current_value=""};e.readTab=function(){var a=this.tuix.tab,b,d={};
this.lastScrollTop=$("#zenario_fbAdminInner").scrollTop();for(var c in this.tuix.tabs[a].fields)l.has(this.tuix.tabs[a].fields,c)&&(b=this.readField(c))!==h&&(d[c]=b);return d};e.wipeTab=function(){var a=this.tuix.tab,b;for(b in this.tuix.tabs[a].fields)l.has(this.tuix.tabs[a].fields,b)&&(delete this.tuix.tabs[a].fields[b].current_value,this.tuix.tabs[a].fields[b].multiple_edit&&delete this.tuix.tabs[a].fields[b].multiple_edit._changed)};e.redrawTab=function(){this.tuix.shake=!1;this.draw2()};u.size=
function(){if(u.isFAB){u.sizing&&clearTimeout(u.sizing);g("zenario_fbMain")&&(u.tuix&&n(u.tuix.hide_tab_bar)?(g("zenario_fbMain").style.top="0px",g("zenario_fbButtons").style.paddingBottom="7px",g("zenario_jqmTabs").style.display="none"):(g("zenario_fbMain").style.top="24px",g("zenario_fbButtons").style.paddingBottom="31px",g("zenario_jqmTabs").style.display=l.browserIsIE()?"":"inherit"));if(g("zenario_fbAdminInner")){var a=Math.floor(0.96*$(K).height()-(l.browserIsIE()?210:l.browserIsSafari()?202:
205));u.tuix&&u.tuix.max_height&&a>u.tuix.max_height&&(a=u.tuix.max_height);u.tuix&&n(u.tuix.hide_tab_bar)&&(a=1*a+24);0<(a*=1)&&(g("zenario_fbAdminInner").style.height=a+"px")}u.isOpen&&!1!==u.documentScrollTop&&$(l.browserIsSafari()?"body":"html").scrollTop(0);u.sizing=setTimeout(u.size,250)}};e.getURL=function(){++this.onKeyUpNum;return this.isWelcomePage?C+"zenario/admin/welcome_ajax.php?_json=1&_ab=1&task="+encodeURIComponent(this.task)+"&get="+encodeURIComponent(JSON.stringify(this.getRequest))+
l.urlRequest(w(this.key,this.tuix.key)):C+"zenario/admin/ajax.php?_json=1&_ab=1&path="+encodeURIComponent(this.path)+l.urlRequest(this.getRequestKey)};e.editModeOn=function(a){if(!this.tuix||!this.tuix.tabs)return!1;a||(a=this.tuix.tab);return this.tuix.tabs[a].edit_mode?this.tuix.tabs[a].edit_mode.on=n(this.tuix.tabs[a].edit_mode.enabled)&&(n(this.tuix.tabs[a].edit_mode.on)||this.editModeAlwaysOn(a)):!1};e.editModeAlwaysOn=function(a){return this.tuix.tabs[a].edit_mode.always_on===h||n(this.tuix.tabs[a].edit_mode.always_on)||
this.savedAndContinued(a)};e.editCancelEnabled=function(a){return this.tuix.tabs[a].edit_mode&&n(this.tuix.tabs[a].edit_mode.enabled)&&!this.editModeAlwaysOn(a)};e.revertEnabled=function(a){return this.tuix.tabs[a].edit_mode&&n(this.tuix.tabs[a].edit_mode.enabled)&&this.editModeAlwaysOn(a)&&!this.savedAndContinued(a)&&(this.tuix.tabs[a].edit_mode.enable_revert===h&&this.tuix.key&&this.tuix.key.id||n(this.tuix.tabs[a].edit_mode.enable_revert))};e.savedAndContinued=function(a){return this.tuix.tabs[a]._saved_and_continued};
e.editModeOnBox=function(){if(this.tuix&&this.tuix.tabs&&this.sortedTabs)for(var a in this.sortedTabs)if(l.has(this.sortedTabs,a)&&this.editModeOn(this.sortedTabs[a]))return!0;return!1};e.sortTabs=function(){this.sortedTabs=[];if(this.tuix.tabs)for(var a in this.tuix.tabs)if(l.has(this.tuix.tabs,a)){var b=this.tuix.tabs[a];b&&this.sortedTabs.push([a,b.ord])}this.sortedTabs.sort(m.sortArray);this.sortedFields={};for(a in this.sortedTabs)l.has(this.sortedTabs,a)&&(b=this.sortedTabs[a]=this.sortedTabs[a][0],
this.sortFields(b))};e.sortFields=function(a){this.sortedFields[a]=[];if(this.tuix.tabs[a].fields)for(var b in this.tuix.tabs[a].fields)if(l.has(this.tuix.tabs[a].fields,b)){var d=this.tuix.tabs[a].fields[b];d&&this.sortedFields[a].push([b,d.ord])}this.sortedFields[a].sort(m.sortArray);for(b in this.sortedFields[a])l.has(this.sortedFields[a],b)&&(this.sortedFields[a][b]=this.sortedFields[a][b][0])};e.syncAdminBoxFromClientToServer=function(){if(this.isWelcomePage)return JSON.stringify(this.tuix);
var a={};this.syncAdminBoxFromClientToServerR(a,this.tuix);return JSON.stringify(a)};e.syncAdminBoxFromClientToServerR=function(a,b,d,c,e,f,g,l){if("object"==typeof b){var m,n;for(n in b)if((m="array")&&d===h&&"_sync"==n||(m="value")&&c===h&&"_sync"==d&&"session"==n||(m="value")&&c===h&&"_sync"==d&&"cache_dir"==n||(m="array")&&d===h&&"key"==n||(m="value")&&c===h&&"key"==d||(m="value")&&d===h&&"shake"==n||(m="value")&&d===h&&"download"==n||(m="array")&&d===h&&"tabs"==n||(m="array")&&c===h&&"tabs"==
d||(m="array")&&e===h&&"tabs"==c&&"edit_mode"==n||(m="value")&&f===h&&"tabs"==e&&"edit_mode"==d&&"on"==n||(m="array")&&e===h&&"tabs"==c&&"fields"==n||(m="array")&&f===h&&"tabs"==e&&"fields"==d||(m="value")&&g===h&&"tabs"==f&&"fields"==c&&"current_value"==n||(m="value")&&g===h&&"tabs"==f&&"fields"==c&&"_display_value"==n||(m="value")&&g===h&&"tabs"==f&&"fields"==c&&"_was_hidden_before"==n||(m="value")&&g===h&&"tabs"==f&&"fields"==c&&"pressed"==n||(m="array")&&g===h&&"tabs"==f&&"fields"==c&&"multiple_edit"==
n||(m="value")&&l===h&&"tabs"==g&&"fields"==e&&"multiple_edit"==d&&"_changed"==n)"value"==m?"function"!=typeof b[n]&&"object"!=typeof b[n]&&(a[n]=b[n]):"array"==m&&"object"==typeof b[n]&&(a[n]={},this.syncAdminBoxFromClientToServerR(a[n],b[n],n,d,c,e,f,g))}};e.syncAdminBoxFromServerToClient=function(a,b){for(var d in a)a[d]["[[__unset__]]"]?delete b[d]:b[d]===h||null===b[d]?b[d]=a[d]:a[d]["[[__replace__]]"]?(delete a[d]["[[__replace__]]"],b[d]=a[d]):"object"!=typeof b[d]?b[d]=a[d]:"object"==typeof b[d]&&
"object"!=typeof a[d]?b[d]=a[d]:this.syncAdminBoxFromServerToClient(a[d],b[d])};e.getValueArrayofArrays=function(a){return l.nonAsyncAJAX(this.getURL(),l.urlRequest({_read_values:!0,_box:this.syncAdminBoxFromClientToServer()}),!a)};e.refreshParentAndClose=function(a,b){m.nowDoingSomething(!1);var d={};b||(this.isOpen=!1);if(this.callBack&&!b){var c;(c=this.getValueArrayofArrays())&&this.callBack(this.tuix.key,c)}else if(M.init&&(m.isFullOrganizerWindow||m.checkIfBoxIsOpen("og"))){d=!1;if(this.tuix.key.id!==
h)d=this.tuix.key.id;else for(var e in this.tuix.key)if(l.has(this.tuix.key,e)){d=this.tuix.key[e];break}M.refreshToShowItem(d)}else this.tuix.key.slotName?(l.refreshPluginSlot(this.tuix.key.slotName,"",m.importantGetRequests),O.init&&O.init()):a||b||(this.tuix.key.cID?(this.tuix.key.cID==l.cID&&this.tuix.key.cType==l.cType&&(d=m.importantGetRequests),l.goToURL(l.linkToItem(this.tuix.key.cID,this.tuix.key.cType,d))):O.init&&(d=_.clone(m.importantGetRequests),d.cVersion=l.cVersion,l.goToURL(l.linkToItem(l.cID,
l.cType,d))));d=this.tuix.popout_message;b||this.close();d&&m.showMessage(d,!0,!1);if(b){this.changed={};if(this.tuix.tabs)for(e in this.tuix.tabs)l.has(this.tuix.tabs,e)&&this.tuix.tabs[e]&&this.editModeOn(e)&&(this.tuix.tabs[e]._saved_and_continued=!0);this.sortTabs();this.draw()}};e.close=function(a){this.callFunctionOnEditors("remove");m.nowDoingSomething(!1);u.sizing&&clearTimeout(u.sizing);a||m.closeFloatingBox();m.closeBox("AdminFloatingBox"+P);this.isOpen=!1;!1!==this.documentScrollTop&&($(l.browserIsSafari()?
"body":"html").scrollTop(this.documentScrollTop),this.documentScrollTop=!1);delete this.tuix;return!1};e.closeButton=function(a){var b=m.onbeforeunload();(b===h||!a&&confirm(b))&&this.isOpen&&this.close();return!1};e.callFunctionOnEditors=function(a){if(this.tuix&&this.tuix.tab&&this.tuix.tabs[this.tuix.tab]&&this.tuix.tabs[this.tuix.tab].fields&&K.tinyMCE)for(var b in this.tuix.tabs[this.tuix.tab].fields)if(l.has(this.tuix.tabs[this.tuix.tab].fields,b)&&"editor"==this.tuix.tabs[this.tuix.tab].fields[b].type&&
tinyMCE.get(b))if("remove"==a)tinyMCE.get(b).remove();else if("isDirty"==a&&tinyMCE.get(b).isDirty())return!0;return!1};e.validateAlias=function(){var a=this;l.actAfterDelayIfNotSuperseded("validateAlias",function(){a.validateAliasGo()})};e.validateAliasGo=function(){var a={_validate_alias:1,alias:g("alias").value};this.tuix.key.cID&&(a.cID=this.tuix.key.cID);this.tuix.key.cType&&(a.cType=this.tuix.key.cType);this.tuix.key.equivId&&(a.equivId=this.tuix.key.equivId);g("language_id")&&(a.langId=g("language_id").value);
g("update_translations")&&(a.lang_code_in_url="show","update_this"==g("update_translations").value&&g("lang_code_in_url")&&(a.lang_code_in_url=g("lang_code_in_url").value));$.post(C+"zenario/admin/quick_ajax.php",a,function(a){if(!(a=m.readData(a)))return!1;var d="";if(a)for(var c in a)l.has(a,c)&&(d+=(d?"<br />":"")+a[c]);g("alias_warning_display").innerHTML=d},"text")};e.generateAlias=function(a){return a.toLowerCase().replace(/[\u00e1\u00c1\u00e0\u00c0\u00e2\u00c2\u00e5\u00c5\u00e4\u00c4\u00e3\u00c3\u00c6\u00e6\u00e7\u00c7\u00f0\u00d0\u00e9\u00c9\u00e8\u00c8\u00ea\u00ca\u00eb\u00cb\u00ed\u00cd\u00ec\u00cc\u00ee\u00ce\u00ef\u00cf\u00f1\u00d1\u00f3\u00d3\u00f2\u00d2\u00f4\u00d4\u00f6\u00d6\u00f5\u00d5\u00f8\u00d8\u0161\u0160\u00fa\u00da\u00f9\u00d9\u00fb\u00db\u00fc\u00dc\u00fd\u00dd\u017e\u017d]/g,
function(a){return{"\u00e1":"a","\u00c1":"a","\u00e0":"a","\u00c0":"a","\u00e2":"a","\u00c2":"a","\u00e5":"a","\u00c5":"a","\u00e4":"a","\u00c4":"a","\u00e3":"a","\u00c3":"a","\u00c6":"ae","\u00e6":"ae","\u00e7":"c","\u00c7":"c","\u00f0":"d","\u00d0":"d","\u00e9":"e","\u00c9":"e","\u00e8":"e","\u00c8":"e","\u00ea":"e","\u00ca":"e","\u00eb":"e","\u00cb":"e","\u00ed":"i","\u00cd":"i","\u00ec":"i","\u00cc":"i","\u00ee":"i","\u00ce":"i","\u00ef":"i","\u00cf":"i","\u00f1":"n","\u00d1":"n","\u00f3":"o",
"\u00d3":"o","\u00f2":"o","\u00d2":"o","\u00f4":"o","\u00d4":"o","\u00f6":"o","\u00d6":"o","\u00f5":"o","\u00d5":"o","\u00f8":"o","\u00d8":"o","\u0161":"s","\u0160":"s","\u00fa":"u","\u00da":"u","\u00f9":"u","\u00d9":"u","\u00fb":"u","\u00db":"u","\u00fc":"u","\u00dc":"u","\u00fd":"y","\u00dd":"y","\u017e":"z","\u017d":"z"}[a]}).replace(/&/g,"and").replace(/[^a-z0-9\s_-]/g,"").replace(/\s+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/-+/g,"-").substr(0,50)};e.contentTitleChange=function(){g("menu_title")&&
!this.tuix.___menu_title_changed&&(g("menu_title").value=g("title").value.replace(/\s+/g," "),g("menu_title").onkeyup());g("alias")&&!this.tuix.___alias_changed&&(g("alias").value=this.generateAlias(g("title").value),this.validateAlias())};e.viewFrameworkSource=function(){var a=C+"zenario/admin/organizer.php#zenario__modules/show_frameworks//"+this.tuix.key.moduleId+"//"+l.encodeItemIdForStorekeeper(this.readField("framework"));K.open(a);return!1};e.adminPermChange=function(a,b,d,c,e){var f=!0;c===
h&&(e=0,c=$("input[name="+b+"]").each(function(a,b){b.checked&&++e}).size());0==e?(f=!1,b="zenario_permgroup_empty"):b=e<c?"zenario_permgroup_half_full":"zenario_permgroup_full";g(a).checked=this.tuix.tabs[this.tuix.tab].fields[a].current_value=f;$(g("row__"+a)).removeClass("zenario_permgroup_empty").removeClass("zenario_permgroup_half_full").removeClass("zenario_permgroup_full").addClass(b);g(d).value=this.tuix.tabs[this.tuix.tab].fields[d].value=this.tuix.tabs[this.tuix.tab].fields[d].current_value=
e+"/"+c};e.adminParentPermChange=function(a,b,d){var c=0,e=0,f="",h=g(a).checked,n=$("input[name="+b+"]"),m;for(m in this.tuix.tabs[this.tuix.tab].fields[b].values)l.has(this.tuix.tabs[this.tuix.tab].fields[b].values,m)&&(++c,h&&(f+=(f?",":"")+m,++e));n.size()&&n.each(function(a,b){b.checked=h});this.tuix.tabs[this.tuix.tab].fields[b].current_value=f;this.adminPermChange(a,b,d,c,e)};e.previewDateFormat=function(a,b){var d=this;l.actAfterDelayIfNotSuperseded(a,function(){d.previewDateFormatGo(a,b)})};
e.previewDateFormatGo=function(a,b){(a=g(a))&&(b=g(b))&&(b.value=l.moduleNonAsyncAJAX("zenario_common_features",{previewDateFormat:a.value}))};e.quickValidateWelcomePage=function(a){var b=this;l.actAfterDelayIfNotSuperseded("quickValidateWelcomePage",function(){b.quickValidateWelcomePageGo()},a)};e.quickValidateWelcomePageGo=function(){var a=this,b,d,c={},e=C+"zenario/admin/welcome_ajax.php?quickValidate=1";for(b in this.tuix.tabs[this.tuix.tab].fields)l.has(this.tuix.tabs[this.tuix.tab].fields,b)&&
(d=this.tuix.tabs[this.tuix.tab].fields[b],c[b]=w(d.row_class,"",""));$.post(e,{tab:this.tuix.tab,path:this.isWelcomePage?"":this.path,values:JSON.stringify(this.readTab()),row_classes:JSON.stringify(c)},function(c){if(!(c=m.readData(c)))return!1;if(c&&c.row_classes)for(b in c.row_classes)l.has(c.row_classes,b)&&a.tuix.tabs[a.tuix.tab].fields[b]&&g("row__"+b)&&(a.tuix.tabs[a.tuix.tab].fields[b].row_class=c.row_classes[b],g("row__"+b).className="zenario_ab_row zenario_ab_row__"+b+" "+c.row_classes[b]);
if(c&&c.snippets)for(b in c.snippets)l.has(c.snippets,b)&&a.tuix.tabs[a.tuix.tab].fields[b]&&a.tuix.tabs[a.tuix.tab].fields[b].snippet&&a.tuix.tabs[a.tuix.tab].fields[b].snippet.html&&g("snippet__"+b)&&(a.tuix.tabs[a.tuix.tab].fields[b].snippet.html=c.snippets[b],g("snippet__"+b).innerHTML=c.snippets[b])},"text");return!0}},zenarioAF,"");
