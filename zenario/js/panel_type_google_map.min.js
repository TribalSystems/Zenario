'use strict';zenario.lib(function(c,q,v,w,B,C,D,E,F,G,H,d,I,J,K,L,M,N,O,x,k,y,g){c=k(g.google_map=x(g.base));c.init=function(){this.onIconURL=q+"zenario/admin/images/google_map/yellow-map-pin-with-tick.png";this.offIconURL=q+"zenario/admin/images/google_map/red-map-pin.png"};c.returnAJAXRequests=function(){return{panel_type:"google_map"}};c.returnPageSize=function(){return!1};c.returnPanelTitle=function(){return k(g.grid).returnPanelTitle.call(this)+" (Map)"};c.showPanel=function(a,b,e){a.html(this.microTemplate("zenario_organizer_panel_header",
{})).show();a=this.microTemplate("zenario_organizer_google_map",{});b.html(a).show();b=new google.maps.LatLngBounds;var l=this.tuix.lat_column,r=this.tuix.lng_column,z=this.tuix.double_click_item_button,m=this.tuix.items,t=0,n=0;var h=new google.maps.Map(v.getElementById("organizer_google_map"),{center:{lat:0,lng:0},zoom:2});for(var p in m)if(y(m,p)){var f=m[p];t++;if(f[l]&&f[r]){n++;var u=new google.maps.LatLng(f[l],f[r]);a=new google.maps.Marker({position:u,map:h,icon:this.offIconURL});this.selectedItems[p]&&
(a.icon=this.onIconURL);b.extend(u);google.maps.event.addListener(a,"click",this.makeSelectItemCallback(f,a));google.maps.event.addListener(a,"dblclick",this.makeOpenAdminBoxCallback(f,a,z))}}n&&h.fitBounds(b);google.maps.event.addDomListener(w,"resize",function(){var A=h.getCenter();google.maps.event.trigger(h,"resize");h.setCenter(A)});a=this.microTemplate("zenario_organizer_google_map_footer",{items:n,total:t});e.html(a).show()};c.showButtons=function(a){var b={};0<d.itemsSelected&&d._geItBu(b);
d._gCB(b);b=this.microTemplate("zenario_organizer_panel_buttons",b);a.html(b).show()};c.makeOpenAdminBoxCallback=function(a,b,e){var l=this;return function(){l.itemClick(a.id,b,!0);d._itBuCl(e)}};c.makeSelectItemCallback=function(a,b){var e=this;return function(){e.itemClick(a.id,b)}};c.itemClick=function(a,b,e){d.multipleSelectEnabled?!e&&this.selectedItems[a]?this.deselectItem(a,b):this.selectItem(a,b):d.multipleSelectEnabled||!this.selectedItems[a]||e?(d._dAI(),this.selectItem(a,b)):d._dAI();this.lastItemClicked=
a;d._sH();d._sB()};c.selectItem=function(a,b){b.setIcon(this.onIconURL);k(g.base).selectItem.call(this,a)};c.deselectItem=function(a,b){b.setIcon(this.offIconURL);k(g.base).deselectItem.call(this,a)};c.updateItemCheckbox=function(a,b){}},zenarioO.panelTypes);
