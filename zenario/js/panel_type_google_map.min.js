zenario.lib(function(c,h,q,r,t,u,v,w,x,y,z,d,A,B,C,D,E,F,G,k,f,s,e){c=f(e.google_map=k(e.base));c.init=function(){this.onIconURL=h+"zenario/admin/images/google_map/yellow-map-pin-with-tick.png";this.offIconURL=h+"zenario/admin/images/google_map/red-map-pin.png"};c.returnAJAXRequests=function(){return{panel_type:"google_map"}};c.returnPageSize=function(){return!1};c.returnPanelTitle=function(){return f(e.grid).returnPanelTitle.call(this)+" (Map)"};c.showPanel=function(a,b,c){a.html(this.microTemplate("zenario_organizer_panel_header",
{})).show();a=this.microTemplate("zenario_organizer_google_map",{});b.html(a).show();var d;b=new google.maps.LatLngBounds;var e,f=this.tuix.lat_column,h=this.tuix.lng_column,k=this.tuix.double_click_item_button,l=this.tuix.items,p=0,m=0;d=new google.maps.Map(q.getElementById("organizer_google_map"),{center:{lat:0,lng:0},zoom:2});for(var n in l)if(s(l,n)){var g=l[n];p++;g[f]&&g[h]&&(m++,e=new google.maps.LatLng(g[f],g[h]),a=new google.maps.Marker({position:e,map:d,icon:this.offIconURL}),this.selectedItems[n]&&
(a.icon=this.onIconURL),b.extend(e),google.maps.event.addListener(a,"click",this.makeSelectItemCallback(g,a)),google.maps.event.addListener(a,"dblclick",this.makeOpenAdminBoxCallback(g,a,k)))}m&&d.fitBounds(b);google.maps.event.addDomListener(r,"resize",function(){var a=d.getCenter();google.maps.event.trigger(d,"resize");d.setCenter(a)});a=this.microTemplate("zenario_organizer_google_map_footer",{items:m,total:p});c.html(a).show()};c.showButtons=function(a){var b;b={};0<d.itemsSelected&&d._geItBu(b);
d._gCB(b);b=this.microTemplate("zenario_organizer_panel_buttons",b);a.html(b).show()};c.makeOpenAdminBoxCallback=function(a,b,c){var e=this;return function(){e.itemClick(a.id,b,!0);d._itBuCl(c)}};c.makeSelectItemCallback=function(a,b){var c=this;return function(){c.itemClick(a.id,b)}};c.itemClick=function(a,b,c){d.multipleSelectEnabled?!c&&this.selectedItems[a]?this.deselectItem(a,b):this.selectItem(a,b):d.multipleSelectEnabled||!this.selectedItems[a]||c?(d._dAI(),this.selectItem(a,b)):d._dAI();this.lastItemClicked=
a;d._sH();d._sB()};c.selectItem=function(a,b){b.setIcon(this.onIconURL);f(e.base).selectItem.call(this,a)};c.deselectItem=function(a,b){b.setIcon(this.offIconURL);f(e.base).deselectItem.call(this,a)};c.updateItemCheckbox=function(a,b){}},zenarioO.panelTypes);
