zenario.lib(function(v,q,w,x,c,D,E,y,F,G,H,d,I,J,K,L,M,N,O,z,k,A,g){c=k(g.google_map=z(g.base));c.init=function(){this.onIconURL=q+"zenario/admin/images/google_map/yellow-map-pin-with-tick.png";this.offIconURL=q+"zenario/admin/images/google_map/red-map-pin.png"};c.returnAJAXRequests=function(){return{panel_type:"google_map"}};c.returnPageSize=function(){return!1};c.returnPanelTitle=function(){return k(g.grid).returnPanelTitle.call(this)+" (Map)"};c.showPanel=function(a,b,e){if(y.siteSettings.google_maps_api_key!==
v){a.html(this.microTemplate("zenario_organizer_panel_header",{})).show();a=this.microTemplate("zenario_organizer_google_map",{});b.html(a).show();b=new google.maps.LatLngBounds;var l=this.tuix.lat_column,r=this.tuix.lng_column,B=this.tuix.double_click_item_button,m=this.tuix.items,t=0,n=0;var h=new google.maps.Map(w.getElementById("organizer_google_map"),{center:{lat:0,lng:0},zoom:2});for(var p in m)if(A(m,p)){var f=m[p];t++;if(f[l]&&f[r]){n++;var u=new google.maps.LatLng(f[l],f[r]);a=new google.maps.Marker({position:u,
map:h,icon:this.offIconURL});this.selectedItems[p]&&(a.icon=this.onIconURL);b.extend(u);google.maps.event.addListener(a,"click",this.makeSelectItemCallback(f,a));google.maps.event.addListener(a,"dblclick",this.makeOpenAdminBoxCallback(f,a,B))}}n&&h.fitBounds(b);google.maps.event.addDomListener(x,"resize",function(){var C=h.getCenter();google.maps.event.trigger(h,"resize");h.setCenter(C)});a=this.microTemplate("zenario_organizer_google_map_footer",{items:n,total:t});e.html(a).show()}else a.html(this.microTemplate("zenario_organizer_panel_header",
{})).show(),b.html(this.microTemplate("zenario_organizer_google_map_key_unavailable",{})).show(),e.html("").show()};c.showButtons=function(a){var b={};0<d.itemsSelected&&d._khv(b);d._5qa(b);b=this.microTemplate("zenario_organizer_panel_buttons",b);a.html(b).show()};c.makeOpenAdminBoxCallback=function(a,b,e){var l=this;return function(){l.itemClick(a.id,b,!0);d._qy9(e)}};c.makeSelectItemCallback=function(a,b){var e=this;return function(){e.itemClick(a.id,b)}};c.itemClick=function(a,b,e){d.multipleSelectEnabled?
!e&&this.selectedItems[a]?this.deselectItem(a,b):this.selectItem(a,b):d.multipleSelectEnabled||!this.selectedItems[a]||e?(d._z8s(),this.selectItem(a,b)):d._z8s();this.lastItemClicked=a;d._1a4();d._96o()};c.selectItem=function(a,b){b.setIcon(this.onIconURL);k(g.base).selectItem.call(this,a)};c.deselectItem=function(a,b){b.setIcon(this.offIconURL);k(g.base).deselectItem.call(this,a)};c.updateItemCheckbox=function(a,b){}},zenarioO.panelTypes);
