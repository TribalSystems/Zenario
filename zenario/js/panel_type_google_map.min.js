zenario.lib(function(c,g,r,s,w,x,l,y,z,A,d,k,t,B,C,D,E,F,u,f,v,e){c=f(e.google_map=u(e.base));c.init=function(){this.onIconURL=g+"zenario/admin/images/google_map/yellow-map-pin-with-tick.png";this.offIconURL=g+"zenario/admin/images/google_map/red-map-pin.png"};c.returnAJAXURL=function(){return g+k.s+"admin/organizer.ajax.php?path="+t(this.path)+l._uR(this.returnAJAXRequests())+l._uR("panel_type=google_map")};c.returnPageSize=function(){return!1};c.returnPanelTitle=function(){return f(e.grid).returnPanelTitle.call(this)+
" (Map)"};c.showPanel=function(a,b,c){a.html(this.microTemplate(k.z+"organizer_panel_header",{})).show();a=this.microTemplate(k.z+"organizer_google_map",{});b.html(a).show();var d;b=new google.maps.LatLngBounds;var e,f=this.tuix.lat_column,g=this.tuix.lng_column,l=this.tuix.double_click_item_button,m=this.tuix.items,q=0,n=0;d=new google.maps.Map(r.getElementById("organizer_google_map"),{center:{lat:0,lng:0},zoom:2});for(var p in m)if(v(m,p)){var h=m[p];q++;h[f]&&h[g]&&(n++,e=new google.maps.LatLng(h[f],
h[g]),a=new google.maps.Marker({position:e,map:d,icon:this.offIconURL}),this.selectedItems[p]&&(a.icon=this.onIconURL),b.extend(e),google.maps.event.addListener(a,"click",this.makeSelectItemCallback(h,a)),google.maps.event.addListener(a,"dblclick",this.makeOpenAdminBoxCallback(h,a,l)))}n&&d.fitBounds(b);google.maps.event.addDomListener(s,"resize",function(){var a=d.getCenter();google.maps.event.trigger(d,"resize");d.setCenter(a)});a=this.microTemplate(k.z+"organizer_google_map_footer",{items:n,total:q});
c.html(a).show()};c.showButtons=function(a){var b;b={itemButtons:!1,collectionButtons:!1};0<d.itemsSelected?b.itemButtons=d._geItBu():b.collectionButtons=d._gCB();b=this.microTemplate(k.z+"organizer_panel_buttons",b);a.html(b).show()};c.makeOpenAdminBoxCallback=function(a,b,c){var e=this;return function(){e.itemClick(a.id,b,!0);d._itBuCl(c)}};c.makeSelectItemCallback=function(a,b){var c=this;return function(){c.itemClick(a.id,b)}};c.itemClick=function(a,b,c){d.multipleSelectEnabled?!c&&this.selectedItems[a]?
this.deselectItem(a,b):this.selectItem(a,b):d.multipleSelectEnabled||!this.selectedItems[a]||c?(d._dAI(),this.selectItem(a,b)):d._dAI();this.lastItemClicked=a;d._sH();d._sB()};c.selectItem=function(a,b){b.setIcon(this.onIconURL);f(e.base).selectItem.call(this,a)};c.deselectItem=function(a,b){b.setIcon(this.offIconURL);f(e.base).deselectItem.call(this,a)};c.updateItemCheckbox=function(a,b){}},zenarioO.panelTypes);
