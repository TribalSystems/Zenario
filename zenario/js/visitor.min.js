zenario.lib(function(m,r,p,l,s,H,a,k,t,u,w,q,D,E,F,I,J,K,G){a.slots={};a.modules={};a.instances={};a.mainSlot=!1;a.signalsInProgress={};a.adinsActions={};a.getEl=!1;a.userId=0;a.adminId=0;a.callback=function(){this.isWrapper=this.isOwnCallback=!1;this.results=[m];this.completes=[!1];this.funs=[]};s=G(a.callback);s.after=function(b,a){this.funs.push([b,a||this]);return this};s.call=function(b){this.isOwnCallback=!0;this.completes[0]=!0;this.results[0]=b;this.checkComplete();return this};s.add=function(b){this.isWrapper=
!0;this.completes[0]=!0;var a=this.results.length;this.results.push(m);this.completes.push(!1);b.after(function(b){this.results[a]=b;this.completes[a]=!0;this.checkComplete()},this);return this};s.checkComplete=function(){var b,c;if(this.isOwnCallback||this.isWrapper){for(b=0;b<this.completes.length;++b)if(!this.completes[b])return;if(this.funs.length)for(b in!this.isOwnCallback&&this.isWrapper&&this.results.splice(0,1),this.funs)a.has(this.funs,b)&&(c=this.funs[b],c[0].apply(c[1],this.results))}};
a.loadedLibraries={};a.loadLibrary=function(b,c){var d;(d=a.loadedLibraries[b])?d.loaded?c():d.cb.after(c):(d=a.loadedLibraries[b]={cb:new a.callback,loaded:!1},d.cb.after(c),$.getScript(b,function(){d.loaded=!0;d.cb.call()}))};a.goToURL=function(b,a){p.location.href=b;a&&setTimeout(function(){p.location.href=b},500);return!1};a.moduleNonAsyncAJAX=a.handlePluginAJAX=a.pluginClassAJAX=function(b,c,d,e,f){return a.nonAsyncAJAX(r+"zenario/ajax.php?moduleClassName="+b+"&method_call=handleAJAX"+a.urlRequest(c),
d,e,f)};a.currentHash="";a.currentHashSlot=!1;a.watchingForHashChanges=!1;a.checkForHashChanges=function(b){a.watchingForHashChanges&&clearTimeout(a.watchingForHashChanges);if(!(t.isOpen||b&&a.currentHash===p.location.hash)){var c=p.location.hash.substr(1);if(k.isFullOrganizerWindow&&w.init){"/"==c.substr(0,1)&&(c=c.substr(1));var d=k.onbeforeunload();d===m||confirm(d)?(t.close(),w.go(c,-1)):w.saveSelection()}else if(l.devTools&&l.devTools.init)devTools.editorSelectFullPath(c,!0);else if(k.init&&
k.checkSlotsBeingEdited()&&!confirm(k.phrase.leavePageWarning))p.location.hash=a.currentHash;else{u.init&&c.split("__zenario_reload_at__=")[1]&&u.init();var e;if(-1!==(e=c.lastIndexOf("!")))if(b=c.substr(0,e),c=c.substr(e+1),b=F(b,a.mainSlot),b==b.replace(/[^0-9,]/g,""))for(d in e=b.split(","),e)a.has(e,d)&&(b=1*e[d],a.instances[b]&&(a.currentHashSlot=a.instances[b].slotName,a.refreshPluginSlot(a.currentHashSlot,b,c)));else a.slots[b]&&(a.currentHashSlot=b,a.refreshPluginSlot(b,"",c));else a.refreshPluginSlot(a.currentHashSlot,
"","",m,!1,!1)}}a.currentHash=p.location.hash;a.watchingForHashChanges=setTimeout(function(){a.checkForHashChanges(!0)},500)};$(a.checkForHashChanges);l.history&&history.pushState&&l.addEventListener("popstate",function(b){if(b.state&&b.state.slotName){var c=k.onbeforeunload();if(c===m||confirm(c))a.refreshPluginSlot(b.state.slotName,"lookup",b.state.request),c!==m&&u.init&&u.init();else return!1}});a.pluginAJAXURL=function(b,c,d){"string"!=typeof b&&(b=a.getSlotnameFromEl(b));"lookup"==d&&(d=a.slots[b].instanceId);
d||(d="");return r+"zenario/ajax.php?method_call=refreshPlugin&cID="+a.cID+"&cType="+a.cType+(a.cVersion?"&cVersion="+a.cVersion:"")+"&instanceId="+d+"&slotName="+b+a.urlRequest(c)};a.submitFormReturningHtml=function(b,c){$.ajax({type:"POST",dataType:"text",url:a.pluginAJAXURL(b,m,"lookup"),data:$(b).serialize(),success:c})};a.formSubmit=function(b,c,d,e){e===m&&(e=a.getSlotnameFromEl(b));d===m&&(d=!0);k.init&&(k.closeSlotControls(),k.cancelMovePlugin());if(!a.slotFormSubmissions[e]){a.slotFormSubmissions[e]=
!0;b=$(b);if(0<b.find(":file").length)return!0;var f=r+"zenario/ajax.php?method_call=refreshPlugin&inIframe=true",h=b.serialize(),g=a.slots[e].instanceId;a.lastButtonClickedName&&(h+="&"+encodeURIComponent(a.lastButtonClickedName)+"="+encodeURIComponent(a.lastButtonClickedValue),delete a.lastButtonClickedName);c&&!t.isOpen&&(a.scrollToSlotTop(e,!0),c=!1);d&&!a.colorboxOpen&&$("#plgslt_"+e).stop(!0,!0).animate({opacity:0.5},200);"post"==b.attr("method")?$.ajax({type:"POST",dataType:"text",url:f,data:h,
complete:function(b,c){delete a.slotFormSubmissions[e]},success:function(b){a.replacePluginSlotContents(e,g,b,m,m,c,!0)}}):a.refreshPluginSlot(e,g,h,!0,c,d)}return!1};a.uneschyp=function(b){return b.replace(/`r/g,"\r").replace(/`n/g,"\n").replace(/`h/g,"-").replace(/`t/g,"`")};a.enc=function(b,c,d){"object"!=typeof l[c]&&(l[c]=new a.moduleBaseClass(b,c,d,a),l[c].slots={},a.modules[b]=function(){},a.modules[b].moduleClassName=c,a.modules[b].moduleClassNameForPhrases=d)};a.slot=function(b){for(var c in b)if(a.has(b,
c)){var d={};d.slotName=b[c][0];d.instanceId=b[c][1];d.moduleId=b[c][2];d.level=b[c][3];d.tabId=b[c][4]?b[c][4]:0;b[c][5]&&(a.mainSlot=d.slotName);b[c][6]&&(d.beingEdited=!0);b[c][7]&&(d.isVersionControlled=!0);var e;(e=a.slots[d.slotName])&&e.instanceId&&(delete a.instances[e.instanceId],delete l[e.moduleClassName].slots[e.slotName]);d.instanceId&&(d.moduleId&&a.modules[d.moduleId]?(d.moduleClassName=a.modules[d.moduleId].moduleClassName,d.moduleClassNameForPhrases=a.modules[d.moduleId].moduleClassNameForPhrases,
a.instances[d.instanceId]=d,l[d.moduleClassName].slots[d.slotName]=d):(d.instanceId=0,d.moduleId=0));a.slots[d.slotName]=d}k.checkSlotsBeingEdited&&k.checkSlotsBeingEdited()};a.slotFormSubmissions={};a.replacePluginSlotContents=function(b,c,d,e,f,h,g){delete a.slotFormSubmissions[b];a.currentHashSlot=b;var n=!1,r=!1,s=0,u=d.indexOf("\x3c!--/INFO--\x3e"),x=!1,w=!1,A=!1,v=[],y=[],B=!1;d=""+d;!g&&d.match(/<(link|script|style)/i)&&(n=a.linkToItem(a.cID,a.cType,e));if(-1!=u){x=d.substr(0,u+4).split("--\x3e\x3c!--");
d=d.substr(u+12);for(var C in x)a.has(x,C)&&(g=x[C].split("--"),"FORCE_PAGE_RELOAD"==g[0]?n=a.uneschyp(g[1]):"IN_EDIT_MODE"==g[0]?w=!0:"WIREFRAME"==g[0]?A=!0:"INSTANCE_ID"==g[0]?c=a.uneschyp(g[1]):"LEVEL"==g[0]?r=1*g[1]:"TAB_ID"==g[0]?s=a.uneschyp(g[1]):"SCRIPT"==g[0]?v[v.length]=a.uneschyp(g[1]):"SCRIPT_BEFORE"==g[0]?y[y.length]=a.uneschyp(g[1]):"SCROLL_TO_TOP"==g[0]&&h===m?h=!0:"SHOW_IN_FLOATING_BOX"==g[0]&&(B=!0))}if(n)if(a.slots[b]&&(a.slots[b].beingEdited=w),k.init&&(k.floatingBoxOpen||k.checkSlotsBeingEdited()))d=
"<div><em>("+k.phrase.pluginNeedsReload.replace("[[href]]",E(n))+")</em></div>"+d;else{p.location.href=n;return}$("#plgslt_"+b).stop(!0,!0).animate({opacity:1},200,function(){a.browserIsIE()&&this.style.removeAttribute("filter");this.style.opacity=""});if(B)a.colorboxOpen=b,$.colorbox({transition:"none",html:d,onOpen:function(){var a=q("colorbox");a.className=q("plgslt_"+b).className;$(a).hide().fadeIn()},onComplete:function(){a.addJQueryElements("#colorbox ");for(var c in v)a.has(v,c)&&a.slots[b]&&
a.callScript(v[c],a.slots[b].moduleClassName)},onClosed:function(){q("colorbox").className="";a.colorboxOpen=!1}}),a.resizeFancyBox();else{a.colorboxOpen&&($.colorbox.close(),a.colorboxOpen=!1);if(!l.zenario_inIframe&&k.init&&!1!==x)k.replacePluginSlot(b,c,r,s,d,x,y);else{for(var z in y)a.has(y,z)&&a.slots[b]&&a.callScript(y[z],a.slots[b].moduleClassName);a.slot([[b,c,a.slots[b].moduleId,r,s,m,w,A]]);q("plgslt_"+b).innerHTML=d}for(z in v)a.has(v,z)&&a.slots[b]&&a.callScript(v[z],a.slots[b].moduleClassName);
a.addJQueryElements("#plgslt_"+b+" ");h&&!t.isOpen&&a.scrollToSlotTop(b,!0);f&&(l.history&&history.pushState?(a.previouslyPushedState||(a.previouslyPushedState=!0,c=p.location.href,d=c.indexOf("?"),f="",-1!=d&&(f=c.substr(d+1)),history.replaceState({slotName:b,request:f},p.title,p.location.href)),history.pushState({slotName:b,request:e},p.title,a.linkToItem(a.cID,a.cType,e))):p.location.hash=b==a.mainSlot?"!"+e.substr(1):b+"!"+e.substr(1),a.currentHash=p.location.hash)}k.checkSlotsBeingEdited&&k.checkSlotsBeingEdited()};
a.callScript=function(b,a){var d;"string"==typeof b&&(b=JSON.parse(b));if(b&&b[0]){if(l[b[0]]&&"function"==typeof l[b[0]][b[1]])a=b.shift(),d=b.shift();else if(l[a]&&"function"==typeof l[a][b[0]])d=b.shift();else return;l[a][d].apply(null,b)}};a.resizeFancyBox=function(){setTimeout($.colorbox.resize,5)};a.addClassesToColorbox=function(b){"string"==typeof b&&(b=b.split(/\s+/g));for(var c in b)a.has(b,c)&&$("#colorbox").addClass(b[c])};a.removeClassesToColorbox=function(b){"string"==typeof b&&(b=b.split(/\s+/g));
for(var c in b)a.has(b,c)&&$("#colorbox").removeClass(b[c])};a.addJQueryElements=function(b,c){b&&b!==m||(b="");$(b+"a[rel^='colorbox'], a[rel^='fancybox'], a[rel^='lightbox']").colorbox({title:function(){return $(this).attr("data-box-title")},maxWidth:"100%",maxHeight:"100%"});a.browserIsIE(9)&&($(b+"input[placeholder]").placeholder(),$(b+"textarea[placeholder]").placeholder());$(b+"input.jquery_datepicker").each(function(b,c){a.loadDatePicker();c.id&&q(c.id+"__0")&&q(c.id+"__1")&&q(c.id+"__2")&&
q(c.id+"__3")?(c.value=$.datepicker.formatDate(a.dpf,$.datepicker.parseDate("yy-mm-dd",q(c.id+"__0").value)),$("#"+c.id).datepicker({dateFormat:a.dpf,altField:"#"+c.id+"__0",altFormat:"yy-mm-dd",showOn:"focus"}),$("#"+c.id+"__1").remove(),$("#"+c.id+"__2").remove(),$("#"+c.id+"__3").remove()):$(c).datepicker({dateFormat:a.dpf,showOn:"focus"})});var d;d=c&&k.init?k.tooltips:a.tooltips;d(b+"div[title]");d(b+"input[title]");/android|iphone|ipod|series60|symbian|windows ce|blackberry/i.test(navigator.userAgent)||
(d(b+"a[title]"),d(b+"img[title]"),d(b+"area[title]"),k.init&&k.addJQueryElements(b));$(".clickablebox").click(function(){var b=$(this).find("a");b&&b.length&&("_blank"==b.attr("target")?l.open(b.attr("href")):l.location=b.attr("href"));return!1});$(b+":submit").click(function(){a.buttonClick(this)});$(b+" submit").click(function(){a.buttonClick(this)})};$(p).ready(function(){a.addJQueryElements()});a.loadDatePicker=function(){$.datepicker||$.ajax({async:!1,url:r+"zenario/libraries/mit/jquery/jquery-ui.datepicker.min.js?v="+
zenarioCSSJSVersionNumber,dataType:"script"})};a.dateFieldKeyUp=function(b,c,d){if(8==c.keyCode||32==c.keyCode||46==c.keyCode)d&&(t.blankField(d),t.fieldChange(d)),a.clearDateField(b)};a.clearDateField=function(b){"string"===typeof b&&(b=q(b));b&&(a.loadDatePicker(),$(b).datepicker("hide"),b.value="",b.id&&q(b.id+"__0")&&(q(b.id+"__0").value=""),b.blur())};a.lastButtonClickedName=!1;a.lastButtonClickedValue=!1;a.buttonClick=function(b){b.name?(a.lastButtonClickedName=b.name,a.lastButtonClickedValue=
b.value):(a.lastButtonClickedName=!1,a.lastButtonClickedValue=!1)};a.formatDate=function(b,c,d){if(!b)return"";var e,f=!1;try{if(b&&("number"==typeof b||"string"==typeof b)){var h=(""+b).length;if("number"==typeof b||1*b==1*b)b=new Date(1E3*b),f=!0;else{if("string"!=typeof b||10!=h&&19!=h)return"";var g=b.replace(/[:-]/g," ").split(" ");b=c&&19==h?new Date(1*g[0],1*g[1]-1,1*g[2],1*g[3],1*g[4],1*g[5]):new Date(1*g[0],1*g[1]-1,1*g[2])}}a.loadDatePicker();e=d?$.datepicker.formatDate(d,b):k.siteSettings&&
k.siteSettings.organizer_date_format?$.datepicker.formatDate(k.siteSettings.organizer_date_format,b):$.datepicker.formatDate("d M yy",b);if(c){var n=b.getHours();b.getMinutes();d=11<n;h="";switch(k.siteSettings&&k.siteSettings.vis_time_format||"%H:%i"){case "%H:%i":n=a.rightHandedSubStr("0"+n,2);break;case "%l:%i %p":n=n%12||12;h=d?k.phrase.pm:k.phrase.am;break;case "%h:%i %p":n=n%12||12,h=d?k.phrase.pm:k.phrase.am,n=a.rightHandedSubStr("0"+n,2)}e+=" "+n+":"+a.rightHandedSubStr("0"+b.getMinutes(),
2);"datetime_with_seconds"==c&&(e+=":"+a.rightHandedSubStr("0"+b.getSeconds(),2));h&&(e+=" "+h);f&&b.getTimezoneOffset()!=(new Date).getTimezoneOffset()&&(e=0<b.getTimezoneOffset()?e+(" (UCT -"+b.getTimezoneOffset()/60+")"):e+(" (UCT +"+b.getTimezoneOffset()/-60+")"))}return e}catch(l){return""}};a.tooltips=function(b,c){a.closeTooltip();b===m?(a.tooltips("a[title]",c),a.tooltips("div[title]",c),a.tooltips("img[title]",c),a.tooltips("area[title]",c),a.tooltips("input[title]",c)):(c||(c={}),c.tooltipClass===
m&&(c.tooltipClass="zenario_visitor_tooltip"),c.show===m&&(c.show={duration:750,easing:"zenarioLinearWithBigDelay"}),c.hide===m&&(c.hide=100),c.position===m&&(c.position={my:"center top+2",at:"center bottom",collision:"flipfit"}),c.content===m&&(c.content=function(){var b=this.title,a=this.title.indexOf("|");return-1!=a?"<h3>"+this.title.substr(0,a)+"</h3><p>"+this.title.substr(a+1)+"</p>":b}),$(".ui-tooltip").remove(),$(b).each(function(b,e){var f,h=$(e),g=h.attr("data-tooltip-options");if(g)try{f=
$.extend(!0,{},c,JSON.parse(g))}catch(k){try{f=$.extend(!0,{},c,JSON.parse(a.fixJSON(g)))}catch(l){f=c}}else f=c;f.position&&f.position.using===m&&(f.position.using=a.tooltipsUsing);h.jQueryTooltip(f)}))};a.tooltipsUsing=function(b,a){$(this).css(b).addClass("tooltip_"+a.vertical+"_"+a.horizontal);$("<span>").addClass("tooltip_arrow").appendTo(this)};a.closeTooltip=function(){q("tiptip_holder")&&(q("tiptip_holder").style.display="none");$("body > .mce-tooltip").remove()};a.fixJSON=function(b){var c,
d,e;e=b.split("{");for(var f in e)if(a.has(e,f)){e[f]=e[f].split(",");for(var h in e[f])if(a.has(e[f],h)){e[f][h]=e[f][h].split("}");for(var g in e[f][h])if(a.has(e[f][h],g)){e[f][h][g]=e[f][h][g].split(":");for(var k in e[f][h][g])a.has(e[f][h][g],k)&&(e[f][h][g][k]=e[f][h][g][k].replace(/^\s+/,"").replace(/\s+$/,""),0<(d=e[f][h][g][k].length)&&(b=e[f][h][g][k].substr(0,1),c=e[f][h][g][k].substr(d-1,1),'"'==b&&'"'==c||1*e[f][h][g][k]==e[f][h][g][k]||(e[f][h][g][k]="'"==b&&"'"==c?'"'+e[f][h][g][k].substr(1,
d-2).replace(/\"/g,'\\"')+'"':'"'+e[f][h][g][k]+'"')));e[f][h][g]=e[f][h][g].join(":")}e[f][h]=e[f][h].join("}")}e[f]=e[f].join(",")}return e=e.join("{")};a.javaScriptOnPage={};a.addPluginJavaScript=function(b,c){filePath="zenario/js/plugin.wrapper.js.php?ids="+b+"&v="+zenarioCSSJSVersionNumber;k.init&&(filePath+="&admin=1");if(c||!a.javaScriptOnPage[filePath])eval(a.nonAsyncAJAX(r+filePath)),a.javaScriptOnPage[filePath]=!0};a.captcha=function(b,c,d){d&&(RecaptchaOptions.callback=function(){a.captchaHideAudio()});
l.Recaptcha?Recaptcha.create(b,c,RecaptchaOptions):$.getScript(a.httpOrhttps()+"www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Recaptcha.create(b,c,RecaptchaOptions)})};a.captchaHideAudio=function(){$(".recaptcha_only_if_image").attr("href","#").attr("title","").css("cursor","default");$(".recaptcha_only_if_image img").attr("alt","").attr("tooltip","").attr("src",$(".recaptcha_only_if_audio img").attr("src"))};a.rightHandedSubStr=function(b,c){return a.browserIsIE()?b.substr(b.length-
c,c):b.substr(-c)};a.fireChangeEvent=function(b){if(b.fireEvent)b.fireEvent("onchange");else{var a=p.createEvent("HTMLEvents");a.initEvent("change",!1,!0);b.dispatchEvent(a)}};a.stop=function(a){if(a=a||l.event)a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return!1};a.rev="";a.lastLoadNum=!1;a.checkSessionStorage=function(b,c,d,e){a.checkLastUrl=b;if(a.browserIsIE(7))return!1;b+=a.urlRequest(c);if(-1!=b.indexOf("no_cache")){c=b.split(/&|\?/g);for(var f in c)if(a.has(c,f)&&("no_cache"==c[f]||
"no_cache="==c[f].substr(0,9)&&D(c[f].substr(9))))return!1}a.checkDataRevisionNumber(!1);return(b=a.sGetItem(!0,a.userId+"_"+a.adminId+"_"+b,d))?b:!1};a.setSessionStorage=function(b,c,d,e){if(a.browserIsIE(7))return!1;a.dataRev()||a.checkDataRevisionNumber(!1);a.dataRev()&&b&&(c+=a.urlRequest(d),a.sSetItem(!0,a.userId+"_"+a.adminId+"_"+c,b,e))};a.checkDataRevisionNumber=function(b,c){if(t.tuix&&"install"==t.tuix.path)c&&c();else{var d=r+"zenario/has_database_changed_and_is_cache_out_of_date.php";
b?a.ajax(d,!0,m,m,!0,2500).after(function(b){a.outdateCachedData(b);c&&c()}):a.outdateCachedData(a.nonAsyncAJAX(d,!0))}};a.dataRev=function(){return a.rev=a.rev||a.sGetItem(!0,"rev")};a.outdateCachedData=function(b){b=b||"";a.dataRev()!=b&&(a.rev=b,a.sClear(!0),a.sSetItem(!0,"rev",b))};a.ls={l:{},s:{}};a.sClear=function(b){var c;b?(c="s",b=l.sessionStorage):(c="l",b=l.localStorage);a.canSetCookie&&b?b.clear():(delete a.ls[c],a.ls[c]={})};a.sSetItem=function(b,c,d,e,f){var h,g;b?(g="s",h=l.sessionStorage):
(g="l",h=l.localStorage);if(a.canSetCookie&&h)try{e?h.setItem(c,JSON.stringify(d)):h.setItem(c,d)}catch(k){f||(h.clear(),a.sSetItem(b,c,d,e,!0))}else a.ls[g][c]=d};a.sGetItem=function(b,c,d){var e;b?(e="s",b=l.sessionStorage):(e="l",b=l.localStorage);if(a.canSetCookie&&b){if(c=b.getItem(c))if(!d||(c=JSON.parse(c)))return c;return!1}return a.ls[e][c]};l.JSON||$.ajax({url:r+"zenario/libraries/public_domain/json/json2.min.js",dataType:"script",async:!1});Math.log10||(Math.log10=function(a){return Math.log(a)/
Math.log(10)})});
