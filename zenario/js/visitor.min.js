zenario.lib(function(n,t,k,m,x,M,b,l,v,A,y,p,H,I,J,N,O,P,K,q){b.slots={};b.modules={};b.instances={};b.mainSlot=!1;b.signalsInProgress={};b.adinsActions={};b.getEl=!1;b.userId=0;b.adminId=0;b.callback=function(){this.isWrapper=this.isOwnCallback=!1;this.results=[n];this.completes=[!1];this.funs=[]};x=K(b.callback);x.after=function(a,b){this.funs.push([a,b||this]);return this};x.call=function(a){this.isOwnCallback=!0;this.completes[0]=!0;this.results[0]=a;this.checkComplete();return this};x.add=function(a){this.isWrapper=
!0;this.completes[0]=!0;var b=this.results.length;this.results.push(n);this.completes.push(!1);a.after(function(a){this.results[b]=a;this.completes[b]=!0;this.checkComplete()},this);return this};x.checkComplete=function(){var a,b;if(this.isOwnCallback||this.isWrapper){for(a=0;a<this.completes.length;++a)if(!this.completes[a])return;if(this.funs.length)for(a in!this.isOwnCallback&&this.isWrapper&&this.results.splice(0,1),this.funs)q(this.funs,a)&&(b=this.funs[a],b[0].apply(b[1],this.results))}};b.moduleNonAsyncAJAX=
b.handlePluginAJAX=b.pluginClassAJAX=function(a,c,d,e,f){return b.nonAsyncAJAX(t+"zenario/ajax.php?moduleClassName="+a+"&method_call=handleAJAX"+b.urlRequest(c),d,e,f)};b.nonAsyncAJAX=function(a,c,d,e){a=b.addBasePath(a);var f={};!c&&e&&(f.responseText=b.checkSessionStorage(a))||(f={},m.ActiveXObject?f=new ActiveXObject("Microsoft.XMLHTTP"):m.XMLHttpRequest&&(f=new XMLHttpRequest),c?(!0===c?(e=a.indexOf("?"),-1==e?c="":(c=a.substr(e+1),a=a.substr(0,e))):"string"!=typeof c&&(c=b.urlRequest(c)),f.open("POST",
a,!1),f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(c)):(f.open("GET",a,!1),f.send(null),e&&b.setSessionStorage(f.responseText,a)));if(d)try{return JSON.parse(f.responseText)}catch(h){f.responseText&&(l.init?l.floatingBox(f.responseText,!0,"error"):alert(f.responseText))}else return f.responseText};b.ajax=function(a,c,d,e,f,h,g,w,m){a=b.addBasePath(a);var k,s,p,v,B=c?"POST":"GET",r=!1,D=!1,t,E=!1,z=new b.callback,C=b.dataRev(),L=function(a){D||(r=a)},x=function(a,b,
c){!D&&(w=w||l.AJAXErrorHandler)&&(w(a,b,c),E=!0)},A=function(c,g,h){if(!D&&!E){var k=!1;if(d){if(l.phrase&&l.readData){if(!(k=l.readData(r,n,n,f)))return}else try{k=JSON.parse(r)}catch(m){r&&((w=w||l.AJAXErrorHandler)?w(c,g,h):alert(r));return}z.call(k)}else z.call(r);e&&b.setSessionStorage(r,a)}},u=function(){E=D=r=!1;!0===c&&(k=a.indexOf("?"),-1==k?c="":(c=a.substr(k+1),a=a.substr(0,k)));v={data:c,type:B,dataType:"text",success:L,error:x,complete:A};if(g!==n)for(s in g)q(g,s)&&(p=g[s],v[s]=p);
var b=$.ajax(a,v);b.zenario_retry=f;h&&setTimeout(function(){4>b.readyState&&(f?(D=!0,b.abort(),h*=2,f()):b.abort())},h)};!0===f&&(f=u);m&&(t=f,f=function(){m();t()});if(e&&C&&!c){if(-1!=a.indexOf("no_cache")){var F=a.split(/&|\?/g),G;for(G in F)q(F,G)&&("no_cache"==F[G]?e=!1:"no_cache="==F[G].substr(0,9)&&H(F[G].substr(9))&&(e=!1))}if(e){s=b.userId+"_"+b.adminId+"_"+a;var y=b.sGetItem(!0,s);if(y||!C)return b.checkDataRevisionNumber(!0,function(){var a=b.dataRev();C!==a?u():y?(r=y,e=!1,A()):u()}),
z}}u();return z};b.currentHash="";b.currentHashSlot=!1;b.watchingForHashChanges=!1;b.checkForHashChanges=function(a){b.watchingForHashChanges&&clearTimeout(b.watchingForHashChanges);if(!(v.isOpen||a&&b.currentHash===k.location.hash)){var c=k.location.hash.substr(1);if(l.isFullOrganizerWindow&&y.init){"/"==c.substr(0,1)&&(c=c.substr(1));var d=l.onbeforeunload();d===n||confirm(d)?(v.close(),y.go(c,-1)):y.saveSelection()}else if(m.devTools&&m.devTools.init)devTools.editorSelectFullPath(c,!0);else if(l.init&&
l.checkSlotsBeingEdited()&&!confirm(l.phrase.leavePageWarning))k.location.hash=b.currentHash;else{var e=!1;A.init&&(c.match(/\b__zenario_reload_at__\b/)?(A.init(),e=!0):c.match(/\b_refresh\b/)&&(e=!0));var f;if(-1!==(f=c.lastIndexOf("!")))if(a=c.substr(0,f),c=c.substr(f+1),a=J(a,b.mainSlot),e&&(a+=b.urlRequest(l.importantGetRequests)),a==a.replace(/[^0-9,]/g,""))for(d in e=a.split(","),e)q(e,d)&&(a=1*e[d],b.instances[a]&&(b.currentHashSlot=b.instances[a].slotName,b.refreshPluginSlot(b.currentHashSlot,
a,c)));else b.slots[a]&&(b.currentHashSlot=a,b.refreshPluginSlot(a,"",c));else b.refreshPluginSlot(b.currentHashSlot,"",e&&l.importantGetRequests||"",n,!1,!1)}}b.currentHash=k.location.hash;b.watchingForHashChanges=setTimeout(function(){b.checkForHashChanges(!0)},500)};$(b.checkForHashChanges);m.history&&history.pushState&&m.addEventListener("popstate",function(a){if(a.state&&a.state.slotName){var c=l.onbeforeunload();if(c===n||confirm(c))b.refreshPluginSlot(a.state.slotName,"lookup",a.state.request),
c!==n&&A.init&&A.init();else return!1}});b.pluginAJAXURL=function(a,c,d){"string"!=typeof a&&(a=b.getSlotnameFromEl(a));"lookup"==d&&(d=b.slots[a].instanceId);d||(d="");return t+"zenario/ajax.php?method_call=refreshPlugin&cID="+b.cID+"&cType="+b.cType+(b.cVersion?"&cVersion="+b.cVersion:"")+"&instanceId="+d+"&slotName="+a+b.urlRequest(c)};b.submitFormReturningHtml=function(a,c){$.ajax({type:"POST",dataType:"text",url:b.pluginAJAXURL(a,n,"lookup"),data:$(a).serialize(),success:c})};b.formSubmit=function(a,
c,d,e){e===n&&(e=b.getSlotnameFromEl(a));d===n&&(d=!0);l.init&&(l.closeSlotControls(),l.cancelMovePlugin());if(!b.slotFormSubmissions[e]){b.slotFormSubmissions[e]=!0;a=$(a);if(0<a.find(":file").length)return!0;var f=t+"zenario/ajax.php?method_call=refreshPlugin&inIframe=true",h=a.serialize(),g=b.slots[e].instanceId;b.lastButtonClickedName&&(h+="&"+encodeURIComponent(b.lastButtonClickedName)+"="+encodeURIComponent(b.lastButtonClickedValue),delete b.lastButtonClickedName);c&&!v.isOpen&&(b.scrollToSlotTop(e,
!0),c=!1);d&&!b.colorboxOpen&&$(1===d||!0===d?"#plgslt_"+e:d).stop(!0,!0).animate({opacity:0.5},200);"post"==a.attr("method")?$.ajax({type:"POST",dataType:"text",url:f,data:h,complete:function(a,c){delete b.slotFormSubmissions[e]},success:function(a){b.replacePluginSlotContents(e,g,a,n,n,c,!0)}}):b.refreshPluginSlot(e,g,h,!0,c,d)}return!1};b.uneschyp=function(a){return a.replace(/`r/g,"\r").replace(/`n/g,"\n").replace(/`h/g,"-").replace(/`t/g,"`")};b.enc=function(a,c,d){1===d&&(d=c);"object"!=typeof m[c]&&
(m[c]=new b.moduleBaseClass(a,c,d,b),m[c].slots={},b.modules[a]=function(){},b.modules[a].moduleClassName=c,b.modules[a].moduleClassNameForPhrases=d)};b.slot=function(a){for(var c in a)if(q(a,c)){var d={};d.slotName=a[c][0];d.instanceId=a[c][1];d.moduleId=a[c][2];d.level=a[c][3];d.tabId=a[c][4]?a[c][4]:0;a[c][5]&&(b.mainSlot=d.slotName);a[c][6]&&(d.beingEdited=!0);a[c][7]&&(d.isVersionControlled=!0);var e;(e=b.slots[d.slotName])&&e.instanceId&&(delete b.instances[e.instanceId],delete m[e.moduleClassName].slots[e.slotName]);
d.instanceId&&(d.moduleId&&b.modules[d.moduleId]?(d.moduleClassName=b.modules[d.moduleId].moduleClassName,d.moduleClassNameForPhrases=b.modules[d.moduleId].moduleClassNameForPhrases,b.instances[d.instanceId]=d,m[d.moduleClassName].slots[d.slotName]=d):(d.instanceId=0,d.moduleId=0));b.slots[d.slotName]=d}l.checkSlotsBeingEdited&&l.checkSlotsBeingEdited()};b.slotFormSubmissions={};b.replacePluginSlotContents=function(a,c,d,e,f,h,g){delete b.slotFormSubmissions[a];b.currentHashSlot=a;var w=!1,t=!1,u=
0,s=[],x=!1,A=!1,B=[],r=[],D=!1,y={},E=p("plgslt_"+a);d=""+d;!g&&d.match(/<(link|script|style)/i)&&(w=b.linkToItem(b.cID,b.cType,e));g=d.indexOf("\x3c!--/INFO--\x3e");-1!=g&&(s=d.substr(0,g+4).split("--\x3e\x3c!--"),d=d.substr(g+12));g=d.lastIndexOf("\x3c!--INFO--\x3e");-1!=g&&(s=s.concat(d.substr(g+8).split("--\x3e\x3c!--")),d=d.substr(0,g));for(var z in s)q(s,z)&&(g=s[z].split("--"),"FORCE_PAGE_RELOAD"==g[0]?w=b.uneschyp(g[1]):"IN_EDIT_MODE"==g[0]?x=!0:"WIREFRAME"==g[0]?A=!0:"INSTANCE_ID"==g[0]?
c=b.uneschyp(g[1]):"LEVEL"==g[0]?t=1*g[1]:"CSS_CLASS"==g[0]?E.className="zenario_slot "+b.uneschyp(g[1]):"TAB_ID"==g[0]?u=b.uneschyp(g[1]):"SCRIPT"==g[0]?B[B.length]=b.uneschyp(g[1]):"SCRIPT_BEFORE"==g[0]?r[r.length]=b.uneschyp(g[1]):"SCROLL_TO_TOP"==g[0]&&h===n?h=!0:"SHOW_IN_FLOATING_BOX"==g[0]?D=!0:"FLOATING_BOX_PARAMS"==g[0]&&g[1]&&(y=JSON.parse(g[1])));if(w)if(b.slots[a]&&(b.slots[a].beingEdited=x),l.init&&(l.floatingBoxOpen||l.checkSlotsBeingEdited()))d="<div><em>("+l.phrase.pluginNeedsReload.replace("[[href]]",
I(w))+")</em></div>"+d;else{k.location.href=w;return}$(E).stop(!0,!0).animate({opacity:1},200,function(){b.browserIsIE()&&this.style.removeAttribute("filter");this.style.opacity=""});if(D){b.colorboxOpen=a;c={transition:"none",html:d,onOpen:function(){var a=p("colorbox");a.className=E.className;$(a).hide().fadeIn()},onComplete:function(){b.addJQueryElements("#colorbox ");for(var c in B)q(B,c)&&b.slots[a]&&b.callScript(B[c],b.slots[a].moduleClassName)},onClosed:function(){p("colorbox").className="";
b.colorboxOpen=!1}};for(z in y)c[z]===n&&(c[z]=y[z]);$.colorbox(c);b.resizeColorbox()}else{b.colorboxOpen&&($.colorbox.close(),b.colorboxOpen=!1);if(!m.zenario_inIframe&&l.init&&!1!==s)l.replacePluginSlot(a,c,t,u,d,s,r);else{for(var C in r)q(r,C)&&b.slots[a]&&b.callScript(r[C],b.slots[a].moduleClassName);b.slot([[a,c,b.slots[a].moduleId,t,u,n,x,A]]);E.innerHTML=d}for(C in B)q(B,C)&&b.slots[a]&&b.callScript(B[C],b.slots[a].moduleClassName);b.addJQueryElements("#plgslt_"+a+" ");h&&!v.isOpen&&b.scrollToSlotTop(a,
!0);f&&b.recordRequestsInURL(a,e)}l.checkSlotsBeingEdited&&l.checkSlotsBeingEdited()};b.recordRequestsInURL=function(a,c){c=b.urlRequest(c);if(m.history&&history.pushState){if(!b.previouslyPushedState){b.previouslyPushedState=!0;var d=k.location.href,e=d.indexOf("?"),f="";-1!=e&&(f=d.substr(e+1));history.replaceState({slotName:a,request:f},k.title,k.location.href)}history.pushState({slotName:a,request:c},k.title,b.linkToItem(b.cID,b.cType,c))}else k.location.hash=a==b.mainSlot?"!"+c.substr(1):a+"!"+
c.substr(1);b.currentHash=k.location.hash};b.callScript=function(a,b){var d,e;"string"==typeof a&&(a=JSON.parse(a));if(a&&a[0]){if(m[a[0]]&&"function"==typeof m[a[0]][a[1]])b=a.shift(),d=a.shift();else if(m[b]&&"function"==typeof m[b][a[0]])d=a.shift();else return;e=m[b];e[d].apply(e,a)}};b.applyCompilationMacros=function(a){return a.replace(/\bforeach\b\s*\(\s*(.+?)\s*\bas\b\s*(\bvar\b |)\s*(.+?)\s*\=\>\s*(\bvar\b |)\s*(.+?)\s*\)\s*\{/gi,"for ($2$3 in $1) { if (!zenario.has($1, $3)) continue; $4 $5 = $1[$3];").replace(/\bforeach\b\s*\(\s*(.+?)\s*\bas\b\s*(\bvar\b |)\s*(.+?)\s*\)\s*\{/gi,
"for ($2$3 in $1) { if (!zenario.has($1, $3)) continue;").replace(/\(([\w\s,]*)\)\s*\=\>\s*\{/g,"function ($1) {").replace(/(\b\w+\b)\s*\=\>\s*\{/g,"function ($1) {")};b.microTemplates={};m.microTemplate=b.microTemplate=function(a,c,d,e,f){var h,g;e=e||b.microTemplates;if(a===n||!c)return"";if(_.isArray(c)){h=c.length;g="";for(f=0;f<h;++f)if(d===n||d(c[f]))g+=b.microTemplate(a,c[f],n,e,f);return g}c.i===n&&f!==n&&(c.i=1*f);if(255>a.length&&e[a])return"string"==typeof e[a]&&(e[a]=b.generateMicroTemplate(e[a],
a)),e[a](c);h="microtemplate_"+hex_md5(a);e[h]===n&&(e[h]=a);return b.microTemplate(h,c,d,e,f)};b.drawMicroTemplate=function(a,c,d,e,f){var h;if(h=p(a))h.innerHTML=b.microTemplate(c,d,e,f),b.addJQueryElements("#"+a+" ")};b.generateMicroTemplate=function(a,c){var d,e=$.extend({},_.templateSettings,!0);_.templateSettings=b.mtSettings;try{return d=_.template(b.applyCompilationMacros(a)),_.templateSettings=e,d}catch(f){throw _.templateSettings=e,console.log("Error in microtemplate"+(c?" "+c:"")+": \n\n"+
d),f;}};b.unfun=function(a){return"function"==typeof a?a():a};b.num=function(a){return"function"==typeof a?1*a():1*a};(function(a){a={};b.disableScrolling=function(b){$("body").css({overflow:"hidden"});a[b||"default"]=!0};b.enableScrolling=function(b){delete a[b||"default"];_.isEmpty(a)&&$("body").css({overflow:"auto"})}})();b.resizeColorbox=function(){setTimeout($.colorbox.resize,5)};b.addClassesToColorbox=function(a){"string"==typeof a&&(a=a.split(/\s+/g));for(var b in a)q(a,b)&&$("#colorbox").addClass(a[b])};
b.removeClassesToColorbox=function(a){"string"==typeof a&&(a=a.split(/\s+/g));for(var b in a)q(a,b)&&$("#colorbox").removeClass(a[b])};b.addJQueryElements=function(a,c){a&&a!==n||(a="");$(a+"a[rel^='colorbox'], a[rel^='lightbox']").colorbox({title:function(){return $(this).attr("data-box-title")},maxWidth:"100%",maxHeight:"100%"});$(a+"a[rel^='colorbox_no_arrows']").colorbox({title:function(){return $(this).attr("data-box-title")},maxWidth:"100%",maxHeight:"100%",rel:!1});b.browserIsIE(9)&&($(a+"input[placeholder]").placeholder(),
$(a+"textarea[placeholder]").placeholder());$(a+"input.jquery_datepicker").each(function(a,c){b.loadDatePicker();c.id&&p(c.id+"__0")&&p(c.id+"__1")&&p(c.id+"__2")&&p(c.id+"__3")?(c.value=$.datepicker.formatDate(b.dpf,$.datepicker.parseDate("yy-mm-dd",p(c.id+"__0").value)),$("#"+c.id).datepicker({dateFormat:b.dpf,altField:"#"+c.id+"__0",altFormat:"yy-mm-dd",showOn:"focus"}),$("#"+c.id+"__1").remove(),$("#"+c.id+"__2").remove(),$("#"+c.id+"__3").remove()):$(c).datepicker({dateFormat:b.dpf,showOn:"focus"})});
var d;d=c&&l.init?l.tooltips:b.tooltips;d(a+"div[title]");d(a+"input[title]");/android|iphone|ipod|series60|symbian|windows ce|blackberry/i.test(navigator.userAgent)||(d(a+"a[title]"),d(a+"img[title]"),d(a+"area[title]"),l.init&&l.addJQueryElements(a));$(".clickablebox").click(function(){var a=$(this).find("a");a&&a.length&&("_blank"==a.attr("target")?m.open(a.attr("href")):m.location=a.attr("href"));return!1});$(a+":submit").click(function(){b.buttonClick(this)});$(a+" submit").click(function(){b.buttonClick(this)})};
$(k).bind("cbox_open",function(){b.disableScrolling("colorbox")}).bind("cbox_closed",function(){b.enableScrolling("colorbox")}).ready(function(){b.addJQueryElements()});b.loadDatePicker=function(){$.datepicker||$.ajax({async:!1,url:t+"zenario/libraries/mit/jquery/jquery-ui.datepicker.min.js?v="+zenarioCSSJSVersionNumber,dataType:"script"})};b.dateFieldKeyUp=function(a,c,d){if(8==c.keyCode||32==c.keyCode||46==c.keyCode)d&&(v.blankField(d),v.fieldChange(d)),b.clearDateField(a)};b.clearDateField=function(a){"string"===
typeof a&&(a=p(a));a&&(b.loadDatePicker(),$(a).datepicker("hide"),a.value="",a.id&&p(a.id+"__0")&&(p(a.id+"__0").value=""),a.blur())};b.lastButtonClickedName=!1;b.lastButtonClickedValue=!1;b.buttonClick=function(a){a.name?(b.lastButtonClickedName=a.name,b.lastButtonClickedValue=a.value):(b.lastButtonClickedName=!1,b.lastButtonClickedValue=!1)};b.formatDate=function(a,c,d){if(!a)return"";var e,f=!1;try{if(a&&("number"==typeof a||"string"==typeof a)){var h=(""+a).length;if("number"==typeof a||1*a==
1*a)a=new Date(1E3*a),f=!0;else{if("string"!=typeof a||10!=h&&19!=h)return"";var g=a.replace(/[:-]/g," ").split(" ");a=c&&19==h?new Date(1*g[0],1*g[1]-1,1*g[2],1*g[3],1*g[4],1*g[5]):new Date(1*g[0],1*g[1]-1,1*g[2])}}b.loadDatePicker();e=d?$.datepicker.formatDate(d,a):l.siteSettings&&l.siteSettings.organizer_date_format?$.datepicker.formatDate(l.siteSettings.organizer_date_format,a):$.datepicker.formatDate("d M yy",a);if(c){var k=a.getHours();a.getMinutes();d=11<k;h="";switch(l.siteSettings&&l.siteSettings.vis_time_format||
"%H:%i"){case "%H:%i":k=b.rightHandedSubStr("0"+k,2);break;case "%l:%i %p":k=k%12||12;h=d?l.phrase.pm:l.phrase.am;break;case "%h:%i %p":k=k%12||12,h=d?l.phrase.pm:l.phrase.am,k=b.rightHandedSubStr("0"+k,2)}e+=" "+k+":"+b.rightHandedSubStr("0"+a.getMinutes(),2);"datetime_with_seconds"==c&&(e+=":"+b.rightHandedSubStr("0"+a.getSeconds(),2));h&&(e+=" "+h);f&&a.getTimezoneOffset()!=(new Date).getTimezoneOffset()&&(e=0<a.getTimezoneOffset()?e+(" (UCT -"+a.getTimezoneOffset()/60+")"):e+(" (UCT +"+a.getTimezoneOffset()/
-60+")"))}return e}catch(m){return""}};b.tooltips=function(a,c){b.closeTooltip();a===n?(b.tooltips("a[title]",c),b.tooltips("div[title]",c),b.tooltips("img[title]",c),b.tooltips("area[title]",c),b.tooltips("input[title]",c)):(c||(c={}),c.tooltipClass===n&&(c.tooltipClass="zenario_visitor_tooltip"),c.show===n&&(c.show={duration:750,easing:"zenarioLinearWithBigDelay"}),c.hide===n&&(c.hide=100),c.position===n&&(c.position={my:"center top+2",at:"center bottom",collision:"flipfit"}),c.content===n&&(c.content=
function(){var a=this.title,b=this.title.indexOf("|");return-1!=b?"<h3>"+this.title.substr(0,b)+"</h3><p>"+this.title.substr(b+1)+"</p>":a}),$(".ui-tooltip").remove(),$(a).each(function(a,e){var f,h=$(e),g=h.attr("data-tooltip-options");if(g)try{f=$.extend(!0,{},c,JSON.parse(g))}catch(k){try{f=$.extend(!0,{},c,JSON.parse(b.fixJSON(g)))}catch(l){f=c}}else f=c;f.position&&f.position.using===n&&(f.position.using=b.tooltipsUsing);h.jQueryTooltip(f)}))};b.tooltipsUsing=function(a,b){$(this).css(a).addClass("tooltip_"+
b.vertical+"_"+b.horizontal);$("<span>").addClass("tooltip_arrow").appendTo(this)};b.closeTooltip=function(){p("tiptip_holder")&&(p("tiptip_holder").style.display="none");$("body > .mce-tooltip").remove()};b.fixJSON=function(a){var b,d,e;e=a.split("{");for(var f in e)if(q(e,f)){e[f]=e[f].split(",");for(var h in e[f])if(q(e[f],h)){e[f][h]=e[f][h].split("}");for(var g in e[f][h])if(q(e[f][h],g)){e[f][h][g]=e[f][h][g].split(":");for(var k in e[f][h][g])q(e[f][h][g],k)&&(e[f][h][g][k]=e[f][h][g][k].replace(/^\s+/,
"").replace(/\s+$/,""),0<(d=e[f][h][g][k].length)&&(a=e[f][h][g][k].substr(0,1),b=e[f][h][g][k].substr(d-1,1),'"'==a&&'"'==b||1*e[f][h][g][k]==e[f][h][g][k]||(e[f][h][g][k]="'"==a&&"'"==b?'"'+e[f][h][g][k].substr(1,d-2).replace(/\"/g,'\\"')+'"':'"'+e[f][h][g][k]+'"')));e[f][h][g]=e[f][h][g].join(":")}e[f][h]=e[f][h].join("}")}e[f]=e[f].join(",")}return e=e.join("{")};b.javaScriptOnPage={};b.addPluginJavaScript=function(a,c){filePath="zenario/js/plugin.wrapper.js.php?ids="+a+"&v="+zenarioCSSJSVersionNumber;
l.init&&(filePath+="&admin=1");if(c||!b.javaScriptOnPage[filePath])$.ajax({url:t+filePath,dataType:"script",async:!1}),b.javaScriptOnPage[filePath]=!0};b.captcha=function(a,c,d){d&&(RecaptchaOptions.callback=function(){b.captchaHideAudio()});m.Recaptcha?Recaptcha.create(a,c,RecaptchaOptions):$.getScript(b.httpOrhttps()+"www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Recaptcha.create(a,c,RecaptchaOptions)})};b.captchaHideAudio=function(){$(".recaptcha_only_if_image").attr("href","#").attr("title",
"").css("cursor","default");$(".recaptcha_only_if_image img").attr("alt","").attr("tooltip","").attr("src",$(".recaptcha_only_if_audio img").attr("src"))};b.rightHandedSubStr=function(a,c){return b.browserIsIE()?a.substr(a.length-c,c):a.substr(-c)};b.fireChangeEvent=function(a){if(a.fireEvent)a.fireEvent("onchange");else{var b=k.createEvent("HTMLEvents");b.initEvent("change",!1,!0);a.dispatchEvent(b)}};b.stop=function(a){if(a=a||m.event)a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return!1};
var u=!1;b.canCopy=function(a){if(!k.execCommand||!k.queryCommandSupported("copy"))return!1;u||$("body").append(u=$('<textarea style="position:absolute;left:-999px;top:-999px;">'));return!!u[0].select};b.copy=function(a){var c=b.canCopy()&&u[0];c&&(c.value=a,c.select(),k.execCommand("copy"))};b.rev="";b.lastLoadNum=!1;b.checkSessionStorage=function(a,c,d,e){b.checkLastUrl=a;if(b.browserIsIE(7))return!1;a+=b.urlRequest(c);if(-1!=a.indexOf("no_cache")){c=a.split(/&|\?/g);for(var f in c)if(q(c,f)&&("no_cache"==
c[f]||"no_cache="==c[f].substr(0,9)&&H(c[f].substr(9))))return!1}b.checkDataRevisionNumber(!1);return(a=b.sGetItem(!0,b.userId+"_"+b.adminId+"_"+a,d))?a:!1};b.setSessionStorage=function(a,c,d,e){if(b.browserIsIE(7))return!1;b.dataRev()||b.checkDataRevisionNumber(!1);b.dataRev()&&a&&(c+=b.urlRequest(d),b.sSetItem(!0,b.userId+"_"+b.adminId+"_"+c,a,e))};b.checkDataRevisionNumber=function(a,c){if(v.tuix&&"install"==v.tuix.path)c&&c();else{var d=t+"zenario/has_database_changed_and_is_cache_out_of_date.php";
a?b.ajax(d,!0,n,n,!0,2500).after(function(a){b.outdateCachedData(a);c&&c()}):b.outdateCachedData(b.nonAsyncAJAX(d,!0))}};b.dataRev=function(){return b.rev=b.rev||b.sGetItem(!0,"rev")};b.outdateCachedData=function(a){a=a||"";b.dataRev()!=a&&(b.rev=a,b.sClear(!0),b.sSetItem(!0,"rev",a))};b.ls={l:{},s:{}};b.sClear=function(a){var c;a?(c="s",a=m.sessionStorage):(c="l",a=m.localStorage);b.canSetCookie&&a?a.clear():(delete b.ls[c],b.ls[c]={})};b.sSetItem=function(a,c,d,e,f){var h,g;a?(g="s",h=m.sessionStorage):
(g="l",h=m.localStorage);if(b.canSetCookie&&h)try{e?h.setItem(c,JSON.stringify(d)):h.setItem(c,d)}catch(k){f||(h.clear(),b.sSetItem(a,c,d,e,!0))}else b.ls[g][c]=d};b.sGetItem=function(a,c,d){var e;a?(e="s",a=m.sessionStorage):(e="l",a=m.localStorage);if(b.canSetCookie&&a){if(c=a.getItem(c))if(!d||(c=JSON.parse(c)))return c;return!1}return b.ls[e][c]};m.JSON||$.ajax({url:t+"zenario/libraries/public_domain/json/json2.min.js",dataType:"script",async:!1});Math.log10||(Math.log10=function(a){return Math.log(a)/
Math.log(10)});b.tinyMCEGetContent=function(a){a=$("<div/>").html(a.getContent());a.find('[id^="plgslt_"]').each(function(a,b){$(b).removeAttr("id class style")});a=a.html();"<h1>&nbsp;</h1>"==a&&(a="");return a};b.fullScreenChangeEvent="fullscreenchange msfullscreenchange mozfullscreenchange webkitfullscreenchange";b.isFullScreenAvailable=function(a){return!!(a.requestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullScreen||a.msRequestFullscreen)};b.isFullScreen=function(){return!!(k.fullscreenElement||
k.mozFullScreenElement||k.webkitFullscreenElement||k.msFullscreenElement)};b.enableFullScreen=function(a){a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)};b.exitFullScreen=function(){k.exitFullscreen?k.exitFullscreen():k.msExitFullscreen?k.msExitFullscreen():k.mozCancelFullScreen?k.mozCancelFullScreen():k.webkitExitFullscreen&&k.webkitExitFullscreen()}});
