zenario.lib(function(l,r,s,k,t,u,f,p,v,w,x,d,y,m,z,A,B,C,D,q,E,n){var a=k.zenarioSE=new n;a.init("zenarioSE",d.z+"skin_editor","zenarioSE_Controls");a.open=function(b,e,c){a.canUpdatePreview=!1;q(n).open.call(a,d.z+"skin_editor",{cID:f.cID,cType:f.cType,cVersion:f.cVersion,skinId:e||f.skinId},l,l,c)};a.openBox=function(b){p._oB(b,a.baseCSSClass,"AdminFloatingBox",!1,!1,!1,!1,!0,!0);var e=$("#zenarioSE");b=$("#zenarioSE_Preview");$("#zenarioSE_Controls");e.height();e={containment:"document",minHeight:100,
maxHeight:Math.floor($(k).height())-150,handles:"s",start:function(){$("#zenarioSE_PreviewFrame").css("pointer-events","none");a.size(!0,!0)},resize:function(){a.size(!0,!0)},stop:function(){$("#zenarioSE_PreviewFrame").css("pointer-events","auto");a.size(!0)}};b.resizable(e);m(d.z+"fbAdminFloatingBox").style.display="none"};a.closeBox=function(){p._cB("AdminFloatingBox")};a.setTitle=function(a){};a.insertHTML=function(b,e,c){this.get(d.z+"abtab").innerHTML=b;this.tabHidden=!1;e.call();a.size(!0)};
a.addJQueryElementsToTab=a.addJQueryElementsToTabAndFocusFirstField=function(){f._aJQE("#zenarioSE ",!0);this.focusFirstField()};a.markAsChanged=function(b){a.tuix&&(b===l&&(b=a.tuix.tab),b&&(a.changed[b]=!0,a.canUpdatePreview=!0,$(d.h+"fabUpdatePreview").removeClass("submit_disabled").addClass(d.z+"preview_enabled"),$(d.h+"fabSaveAndContinue").removeClass("submit_disabled").addClass("submit_selected"),$(d.h+"fabSave").removeClass("submit_disabled").addClass("submit_selected")))};a.lastSize=!1;a.previewHidden=
!0;a.size=function(b,e){a.sizing&&clearTimeout(a.sizing);var c=Math.floor($(k).width()),g=Math.floor($(k).height()),h;if(c&&g&&!a.isSlidUp&&((h=a.lastSize!=c+"x"+g)||b)){a.lastSize=c+"x"+g;h=$("#zenarioSE");c=$("#zenarioSE_Preview");g=$("#zenarioSE_Controls");h=h.height();var f=c.height();g.height();150<h-f?g.height(h-f):(g.height(150),c.height(h-150));$(d.h+"abtab").css("height","auto");$("#css_source").height(g.outerHeight()-$(d.h+"fabTabs").outerHeight()-$(d.h+"fbButtons").outerHeight());this.get("css_source")&&
ace.edit("css_source").resize()}a.sizing=setTimeout(a.size,250);a.previewHidden&&(a.previewHidden=!1,a.updatePreview())};a.getPreviewDocument=function(){return m("zenarioSE_PreviewFrame")&&m("zenarioSE_PreviewFrame").contentDocument};a.submitPreview=function(b,e){var c=a.getPreviewDocument(),c=c&&$(c).scrollTop();1*c&&(b.url+="&_scroll_to="+1*c);q(n).submitPreview.call(a,b,e);a.canUpdatePreview=!1;$(d.h+"fabUpdatePreview").removeClass(d.z+"preview_enabled").addClass("submit_disabled")}},zenarioABToolkit);
