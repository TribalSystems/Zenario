zenario.lib(function(g,E,L,n,K,M,h,q,c,F,O,u,H,m,v,D,J,P,B,Q,R,y){B=B||{};_._e(" div input select option span label p h1".split(" "),function(g){c[g||"html"]=function(c){var h;a:{h=g||c;for(var b=arguments,a="<"+h,f=b.length,e=g?1:2,k,d,C={br:1,hr:1,img:1,link:1,input:1}[h],x={checked:1,disabled:1,multiple:1,selected:1};e<f;e+=2)k=b[e-1],d=b[e],x[k]?d&&(a+=" "+k+'="'+k+'"'):!1!==d&&m(d)&&(a+=" "+k+'="'+J(d)+'"');if(C)a+="/>";else if(a+=">",f%2?g:!g){b=b[f-1];if(">"===b){h=a;break a}a+=b}C||(a+="</"+
h+">");h=a}return h}});c.lib=function(g){g(c.html,c.div,c.input,c.select,c.option,c.span,c.label,c.p,c.h1)};c.lib(function(N,M,I){c.prop=function(b,a,c){var e=0,k,d,h;if(m(c))e=1,h=arguments;else if("string"==typeof a){if(-1===a.indexOf("."))return b[a];h=a.split(".")}else h=a;for(k=h.length;e<k;++e)if(d=h[e],"object"==typeof b&&m(b[d]))b=b[d];else return g;return b};c.microTemplate=function(b,a,f){return h._mT(b,a,f,c.microTemplates)};c.onbeforeunload=function(){var b;return n.zenarioAB&&F.isOpen&&
F.editModeOnBox()&&(F.changes()||F.callFunctionOnEditors("isDirty"))?B.leaveAdminBoxWarning:n.zenarioSE&&zenarioSE.isOpen&&zenarioSE.editModeOnBox()&&(zenarioSE.changes()||zenarioSE.callFunctionOnEditors("isDirty"))?B.leaveAdminBoxWarning:g!==(b=zenario_conductor._cOCM())?b:q.checkSlotsBeingEdited&&q._cSBE()?B.leavePageWarning:g};c.uploading=!1;c.canDoHTML5Upload=function(){return n.FileReader};c.setHTML5UploadFromDragDrop=function(b,a,f,e,k){return c._cDHTML5U()?($(k||L.body).on("drop",function(d){$(d.target).removeClass("dragover");
d=d.originalEvent;f&&f();c._sFDD(d);c._dHTML5U(d.target.files||d.dataTransfer.files,b,a,e)}),!0):!1};c.doHTML5Upload=function(b,a,f,e){a&&f&&!c.uploading&&(c.uploadPath=a,c.uploadRequest=f,c.uploadCallBack=e,c.uploadResponses=[],c.uploadFile=-1,c.uploadFiles=b,c._dNU())};c.doNextUpload=function(){var b=$("#zenario_progress_wrap"),a=$("#zenario_progress_name"),f=$("#zenario_progress_stop");a.text("");f.unbind("click");c.uploading=!!c.uploadFiles[++c.uploadFile];u.init&&u._sWC("uploading",c.uploading);
if(c.uploading)if(b.show().removeClass("zenario_progress_cancelled"),D("zenario_progressbar").style.width="0%",c.uploadFiles[c.uploadFile].size&&c.uploadFiles[c.uploadFile].name)if(q.maxUpload&&q.maxUpload<c.uploadFiles[c.uploadFile].size)q._sM(B.uploadTooLarge.replace("[[maxUploadF]]",q.maxUploadF),!0,"error"),c._dNU();else{a.text(c.uploadFiles[c.uploadFile].name);c.uploader=new XMLHttpRequest;c.uploader.open("POST",c.uploadPath,!0);try{c.uploader.setRequestHeader("X_FILENAME",c.uploadFiles[c.uploadFile].name)}catch(e){}var a=
new FormData,k;for(k in c.uploadRequest)y(c.uploadRequest,k)&&a.append(k,""+c.uploadRequest[k]);a.append("Filedata",c.uploadFiles[c.uploadFile]);c.uploader.upload.addEventListener("progress",c.uploadProgress,!1);c.uploader.addEventListener("load",c.uploadDone,!1);c.uploader.addEventListener("error",c.uploadDone,!1);c.uploader.addEventListener("abort",c.uploadDone,!1);f.click(function(){b.show().removeClass("zenario_progress_cancelled");c.uploader.abort()});c.uploader.send(a)}else c._dNU();else b.hide(),
c.uploadCallBack&&c.uploadCallBack(c.uploadResponses)};c.uploadProgress=function(b){var a=0;b.lengthComputable&&(a=100*b.loaded/b.total);D("zenario_progress_wrap").style.display="block";D("zenario_progressbar").style.width=a+"%"};c.uploadDone=function(b){if(c.uploader.responseText&&1!=c.uploader.responseText)try{data=JSON.parse(c.uploader.responseText);if("object"!=typeof data)throw 0;c.uploadResponses.push(data)}catch(a){q.showMessage?q._sM(c.uploader.responseText,!0,"error",!1,!0):alert(c.uploader.responseText)}c._dNU()};
c.stopDefault=function(b){(b=b||event)&&b.stopPropagation&&b.stopPropagation();b&&b.preventDefault&&b.preventDefault();return!1};c.stopFileDragDrop=function(b){var a=!1;b.dataTransfer&&b.dataTransfer.types&&(a="function"==typeof b.dataTransfer.types.contains?b.dataTransfer.types.contains("Files"):"Files"==""+b.dataTransfer.types||b.dataTransfer.types[0]&&"Files"==""+b.dataTransfer.types[0]);a&&(b.stopPropagation(),b.preventDefault())};c.disableFileDragDrop=function(b){c._cDHTML5U()&&(b.addEventListener("drop",
c.stopDefault,!1),b.addEventListener("dragenter",c.stopDefault,!1),b.addEventListener("dragover",c.stopDefault,!1),b.addEventListener("dragexit",c.stopDefault,!1))};c.resizeImage=function(b,a,c,e,k,d){k.width=b;k.height=a;b*=1;a*=1;if(b!=c||a!=e)!d&&b<=c&&a<=e||(c/b<e/a?(k.width=c,k.height=Math.floor(a*c/b)):(k.height=e,k.width=Math.floor(b*e/a)))};c.checkActionUnique=function(b){var a=[],c,e="admin_box ajax combine_items navigation_path frontend_link help link onclick panel pick_items popout organizer_quick upload".split(" ");
for(c in e)y(e,c)&&b[e[c]]&&a.push(e[c]);switch(a.length){case 1:return!0;case 0:return!1;default:return console.log(b),alert("This navigation or button has multiple actions associated with it:\n\n"+a+"\n\n(See the console log for the faulty definition.)"),!1}};c.action=function(b,a,f,e,k,d,C,x){if(b.uploading||!k&&!c._cAU(a))return!1;var w;switch(b.globalName){case "zenarioO":w="handleOrganizerPanelAJAX";break;case "zenarioAT":w="handleAdminToolbarAJAX";break;case "zenarioW":w="handleWizardAJAX";
break;case "zenarioAB":case "zenarioSE":w="handleAdminBoxAJAX";break;default:w="handlePluginAJAX"}!k&&a.link?k=a.link:!k&&a.panel&&a.panel._path_here&&(k={path:a.panel._path_here});if(!k||!u._pNA(k)){u.yourWorkInProgressLastUpdated=0;b.pickItemsItemLevel=f;b.postPickItemsObject=!1;var G,A,r;if((r=a.upload)||(r=a.ajax))x?(G=x,A=b.getKey(f)):!f&&a.ajax&&a.ajax.pass_matched_ids&&"zenarioO"==b.globalName?(G=E+"zenario/admin/organizer.ajax.php?__pluginClassName__="+r.class_name+"&path="+u.path+"&_get_matched_ids=1&method_call="+
w+h._uR(u.lastRequests),A={}):(G=E+"zenario/ajax.php?__pluginClassName__="+r.class_name+"&__path__="+b.path+"&method_call="+w,A=b.getKey(f)),r.request&&$.extend(A,r.request),d&&$.extend(A,d);if(a.upload){x=!c._cDHTML5U();d='<input type="file" name="Filedata"';var s,t;if(t=a.upload.accept||a.upload.extensions){t=c._tTA(t);for(s in t)if(y(t,s))switch(r=t[s],r){case "text":t[s]="text/*";break;case "images":t[s]="image/*";break;case "video":t[s]="video/*";break;case "audio":t[s]="audio/*";break;default:-1==
r.indexOf("/")&&"."!=r.substr(0,1)&&(t[s]="."+r)}d+=' accept="'+J(t.join(","))+'"'}else"Images"==a.upload.fileDesc&&(d+=' accept="image/*"');x&&(d+=' id="zenario_fallback_fileupload"');!x&&v(a.upload.multi)&&(d+=" multiple");d+="/>";if(x)a=h._cl(a),A._html5_backwards_compatibility_hack=1,a.ajax={class_name:a.upload.class_name,confirm:{message:d,html:!0,button_message:B.upload,cancel_button_message:B.cancel,form:!0},request:A};else{a=$(d);n._zenario_open_file_picker=a[0];a.change(function(){b.uploadStart&&
b.uploadStart();c._dHTML5U(this.files,G,A,function(a){b.uploadComplete(a)})});a.click();return}}if(k)v(k.unselect_items)&&(u.selectedItems={},u.saveSelection()),u.go(k.path,e,k.refiner?{id:f?u._gKI():"",name:k.refiner}:g,g,g,g,g,C);else if(a.frontend_link){var p,l;a=a.frontend_link;var z=!1;f&&(p=b.getKeyId(!0))&&(l=b.tuix.items[p])&&l.frontend_link&&(a=l.frontend_link);"zenarioO"==b.globalName&&(a=u._pRL(a),-1!=a.indexOf("&zenario_sk_return=")&&(z=!0));z||"zenario/admin/welcome.php"==a.substr(0,
25)?h._gTU(h._aBP(a)):-1!==a.indexOf("://")&&0!==a.indexOf(E)?n.open(a):"zenarioAT"==b.globalName?h._gTU(h._aBP(a)):K&&!K.zenarioO?n.opener.location=h._aBP(a):n.storekeeperChildWindow&&!n.storekeeperChildWindow.closed?n.storekeeperChildWindow.location=h._aBP(a):n.storekeeperChildWindow=n.open(h._aBP(a))}else if(a.navigation_path)a=a.navigation_path,f&&(p=b.getKeyId(!0))&&(l=b.tuix.items[p])&&l.navigation_path&&(a=l.navigation_path),"zenarioO"==b.globalName?u.go(a,-1):h._gTU(h._aBP((n.zenarioATLinks&&
n.zenarioATLinks.organizer||"zenario/admin/organizer.php")+"#"+a));else if(a.admin_box){q._nDS("loading");f=b.getKey(f)||{};if(a.admin_box.key)for(z in a.admin_box.key)y(a.admin_box.key,z)&&(f[z]=a.admin_box.key[z]);F.open(a.admin_box.path,f,a.admin_box.tab,a.admin_box.values,g,v(a.admin_box.create_another)?a.admin_box:!1,g,v(a.admin_box.pass_matched_ids))}else if(a.popout){a=h._cl(a.popout);f&&(p=b.getKeyId(!0))&&(l=b.tuix.items[p])&&(l.popout&&(a=$.extend(a,l.popout)),!a.title&&b.popoutLabelFormat&&
(a.title=b.applyMergeFields(b.popoutLabelFormat,!1,p)));l&&l.href&&!m(a.href)?a.href=l.href:l&&l.frontend_link&&!m(a.href)?a.href=u._pRL(l.frontend_link,"_show_page_preview=1"):l&&a.href&&(a.href+=-1===a.href.indexOf("?")?"?":"&",l.checksum?(a.href+="c="+H(l.checksum),p==1*p&&(a.href+="&id="+p)):a.href=p==1*p?a.href+("id="+p):a.href+("c="+H(p)),f=b.getKey().usage||l.usage)&&(a.href+="&usage="+H(f));if(a.href){if(f=l&&l.filename||a.options&&a.options.filename||a.filename){if(p=f.match(/(.*) \[.*\]/))f=
p[1];a.href+="&filename="+H(f)}a.href=h._aBP(a.href)}if(a.css_class){var D=(""+a.css_class).split(" ");a.onOpen=function(){h._aCTC(D)};a.onClosed=function(){h._rCTC(D)}}a.iframe&&!m(a.width)&&(a.width="93%");a.iframe&&!m(a.height)&&(a.height="90%");l&&l.width&&(a.initialWidth=l.width);l&&l.height&&(a.initialHeight=l.height);m(a.preloading)||(a.preloading=!1);$.colorbox(a)}else if(a.organizer_quick)l=a.organizer_quick.path,f&&(p=b.getKeyId(!0))&&(l=l.replace(/\[\[id\]\]/g,p)),q._oQ(l,a.organizer_quick.min_path||
a.organizer_quick.max_path||a.organizer_quick.path,a.organizer_quick.min_path,a.organizer_quick.max_path,v(a.organizer_quick.disallow_refiners_looping_on_min_path),g,g,b.globalName);else if(a.pick_items&&!f)a.pick_items.ajax&&(b.postPickItemsObject=a.pick_items),b.actionTarget=E+"zenario/ajax.php?__pluginClassName__="+a.pick_items.class_name+"&__path__="+b.path+"&method_call="+w,b.actionRequests=b.getKey(f),a.pick_items.request&&$.extend(b.actionRequests,a.pick_items.request),q._oS(b.globalName,"pickItems",
a.pick_items.multiple_select,a.pick_items.path,a.pick_items.target_path,a.pick_items.min_path,a.pick_items.max_path,a.pick_items.disallow_refiners_looping_on_min_path,!0,a.pick_items.one_to_one_choose_phrase,a.pick_items.one_to_many_choose_phrase,g,g,g,g,g,b.getLastKeyId(!0),a.pick_items.allow_no_selection,a.pick_items.one_to_no_selection_choose_phrase,g,g,a.pick_items);else if(a.combine_items&&f)a.combine_items.ajax&&(b.postPickItemsObject=a.combine_items),b.actionTarget=E+"zenario/ajax.php?__pluginClassName__="+
a.combine_items.class_name+"&__path__="+b.path+"&method_call="+w,b.actionRequests=b.getKey(f),a.combine_items.request&&$.extend(b.actionRequests,a.combine_items.request),q._oS(b.globalName,"pickItems",a.combine_items.multiple_select,a.combine_items.path,a.combine_items.target_path,a.combine_items.min_path,a.combine_items.max_path,a.combine_items.disallow_refiners_looping_on_min_path,!0,1<b.itemsSelected&&a.combine_items.many_to_one_choose_phrase?a.combine_items.many_to_one_choose_phrase:a.combine_items.one_to_one_choose_phrase,
1<b.itemsSelected&&a.combine_items.many_to_many_choose_phrase?a.combine_items.many_to_many_choose_phrase:a.combine_items.one_to_many_choose_phrase,g,g,g,g,g,b.getKeyId(!1),a.combine_items.allow_no_selection,1<b.itemsSelected&&a.combine_items.many_to_no_selection_choose_phrase?a.combine_items.many_to_no_selection_choose_phrase:a.combine_items.one_to_no_selection_choose_phrase,g,g,a.combine_items);else if(a.ajax)if(b.actionTarget=G,b.actionRequests=A,a.ajax.confirm){l=v(a.ajax.confirm.html);p=v(a.ajax.confirm.download);
f=a.ajax.confirm.message?a.upload?a.ajax.confirm.message:b.applyMergeFieldsToLabel(a.ajax.confirm.message,l,f,a.ajax.confirm.multiple_select_message):h._nAA(b.actionTarget+h._uR(b.actionRequests),!1);p&&(b.actionRequests._download=1,m(b.searchTerm)&&(b.actionRequests._search=b.searchTerm),b.prefs[b.path]&&b.prefs[b.path].sortBy?(b.actionRequests._sort_col=b.prefs[b.path].sortBy,b.actionRequests._sort_desc=b.prefs[b.path].sortDesc?1:0):b.actionRequests._sort_col=b.labelTag);e=d="";if(p||a.upload){d+=
N("form","id","zenario_bc_form","action",b.actionTarget+"&_sk_form_submission=1","onsubmit","get('preloader_circle').style.visibility = 'visible';","target","zenario_iframe","method","post","enctype",a.upload&&"multipart/form-data",">");for(z in b.actionRequests)y(b.actionRequests,z)&&(d+=I("type","hidden","value",b.actionRequests[z],"name",z));l||(f=J(f,!0),l=!0)}d+=f;p||a.upload?(d+="</form>",e=I("type","button","class","submit_selected","value",a.ajax.confirm.button_message,"onclick","get('zenario_bc_form').submit();")):
e=I("type","button","class","submit_selected","value",a.ajax.confirm.button_message,"onclick",b.globalName+".action2()");e+=I("type","button","class","submit","value",a.ajax.confirm.cancel_button_message);q._sM(d,e,a.ajax.confirm.message_type,g,!l);a.upload&&(h._bII()||$("#zenario_fallback_fileupload").click())}else b.action2();else a.help&&(f=a.help.message_type||"question",l=!v(a.help.html),a.help.message&&q._sM(a.help.message,!0,f,!1,l))}};c.eval=function(b,a,f,e,k,d,C,x,w,q,m){var r,s;m=m||a&&
a.tuix||g;f=f||d||C||x||e||w||q;if("object"==typeof b){for(r in b)if(y(b,r)){s=b[r];r=r.split(".",2);f=r[0];e=r[1];if(!e)e=f,a=n;else if("lib"!=f&&!(a=n[f]))return!1;if(!a[e]||!a[e].apply(a,c._tTA(s)))return!1}return!0}try{s=c._dE(b+"",a,f,e,k,d,C,x,w,q,m)}catch(t){throw n.console&&console.error&&console.error("JavaScript error in evaluated expression:",b),t;}"function"==typeof s&&(s=s(f,e,k,m,d,C,x,w,q));return h._eTB(s)};c.hidden=function(b,a,f,e,k,d,h,g,m,n){b=b||k||d||h||f||g||m;return!b||v(b.hidden)||
b.visible_if&&!c._e(b.visible_if,a,b,f,e,k,d,h,g,m,n)||b.js_condition&&!c._e(b.js_condition,a,b,f,e,k,d,h,g,m,n)};c.checkFunctionExists=function(b,a){return a?n[a]&&"function"==typeof n[a][b]:"function"==typeof n[b]};c.sortArray=function(b,a){return c._sL(b,a,1)};c.sortArrayByOrd=function(b,a){return c._sL(b,a,"ord")};c.sortArrayByOrdinal=function(b,a){return c._sL(b,a,"ordinal")};c.sortArrayWithGrouping=function(b,a){return b[2]===a[2]?c._sL(b,a,1):m(b[2])?m(a[2])?c._sL(b,a,2):c._sL(b,a,2,1):c._sL(b,
a,1,2)};c.sortLogic=function(b,a,c,e){b=b[c];a=m(e)?a[e]:a[c];if(b===a)return 0;c=b==1*b;e=a==1*a;return c&&e?1*b<1*a?-1:1:c||e?c?-1:1:(""+b).toUpperCase()<(""+a).toUpperCase()?-1:1};c.getSortedIdsOfTUIXElements=function(b,a,f,e){var k,d,h=!1,g=[];f||(f="ord");"items"==a&&b.columns&&b.columns[f]&&(h=b.columns[f].format);_._isOb(a)||(a=b[a]);if(a)for(d in a)y(a,d)&&(b=a[d])&&(b=b[f],"true_or_false"==h||"yes_or_no"==h?g.push([d,v(b),!0]):"remove_zero_padding"!=h&&b==(k=1*b)?g.push([d,k,!0]):b?g.push([d,
b.toLowerCase(),!1]):g.push([d,0,!0]));e?g.sort(c.sortArrayDesc):g.sort(c.sortArrayForOrganizer);for(d in g)y(g,d)&&(g[d]=g[d][0]);return g};c.sortArrayForOrganizer=function(b,a){return b[1]===a[1]?0:(b[2]?a[2]:!a[2])?b[1]<a[1]?-1:1:b[2]?-1:1};c.sortArrayDesc=function(b,a){return c._sAFO(a,b)};c.csvToObject=function(b){if(_._iS(b)){var a,c={};b=b.split(",");for(a in b)""!==b[a]&&(c[b[a]]=!0);return c}return b};c.tuixToArray=function(b){if(_._isAr(b))return b;var a,c,e=[];switch(typeof b){case "string":return b.split(/\s*,\s*/);
case "object":for(a in b)y(b,a)&&(c=b[a],a==1*a?e.push(c):v(c)&&e.push(a))}return e};c.setButtonKin=function(b,a){c._sK(b,a||"organiser_button_with_children")};c.setKin=function(b,a){var c,e,g,d,h={};for(c in b)y(b,c)&&(e=b[c],delete e.children,h[e.id]=c);for(c in b)y(b,c)&&(e=b[c],g=e.tuix||e,d=g.parent)&&(d=h[d],d=b[d])&&(d.children||(d.children=[],m(a)&&(d.css_class=d.css_class?d.css_class+" "+a:a)),e.enabled&&!v(g.remove_filter)&&(d.childEnabled=!0),e.current&&(d.childCurrent=!0),e.selected&&
(d.childSelected=!0),d.children.push(e));for(c=b.length-1;0<=c;--c)e=b[c],g=e.tuix||e,(g.parent||v(g.hide_when_children_are_not_visible)&&!e.children)&&b.splice(c,1)};c.attempts={};c.attemptNum=0;c.keepTrying=function(b,a){if(!m(a))a=++c.attemptNum,c.attempts[a]=!0;else if(!c.attempts[a])return;b(a);setTimeout(function(){c._kT(b,a)},3E4)};c.stopTrying=function(b){return c.attempts[b]?(delete c.attempts[b],!0):!1};c.splitDataFromErrorMessage=function(b){_._iS(b)&&(b={responseText:b});if(!m(b.data)&&
b.responseText&&-1!=(end=b.responseText.indexOf('{"')))try{var a=JSON.parse(b.responseText.substr(end));"object"==typeof a&&(b.data=a,b.responseText=b.responseText.substr(0,end))}catch(c){}return b};c.onChangeOrSearch=function(){return h._bII()||h._bIE()?"onchange":"onsearch"};c.showDevTools=function(){return(q.adminSettings||{}).show_dev_tools};c.filter=function(b){return!1===b?function(a){return!a.location}:"string"==typeof b?function(a){return a.location==b}:b};c.find=function(b,a){return _._fi(b,
c._f(a))};c.init=!0;h._sN(c)})});
