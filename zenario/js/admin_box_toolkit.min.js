var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(g){var m=0;return function(){return m<g.length?{done:!1,value:g[m++]}:{done:!0}}};$jscomp.arrayIterator=function(g){return{next:$jscomp.arrayIteratorImpl(g)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(g,m,d){if(g==Array.prototype||g==Object.prototype)return g;g[m]=d.value;return g};$jscomp.getGlobal=function(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var m=0;m<g.length;++m){var d=g[m];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(g,m){var d=$jscomp.propertyToPolyfillSymbol[m];if(null==d)return g[m];d=g[d];return void 0!==d?d:g[m]};
$jscomp.polyfill=function(g,m,d,p){m&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(g,m,d,p):$jscomp.polyfillUnisolated(g,m,d,p))};$jscomp.polyfillUnisolated=function(g,m,d,p){d=$jscomp.global;g=g.split(".");for(p=0;p<g.length-1;p++){var r=g[p];if(!(r in d))return;d=d[r]}g=g[g.length-1];p=d[g];m=m(p);m!=p&&null!=m&&$jscomp.defineProperty(d,g,{configurable:!0,writable:!0,value:m})};
$jscomp.polyfillIsolated=function(g,m,d,p){var r=g.split(".");g=1===r.length;p=r[0];p=!g&&p in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var z=0;z<r.length-1;z++){var k=r[z];if(!(k in p))return;p=p[k]}r=r[r.length-1];d=$jscomp.IS_SYMBOL_NATIVE&&"es6"===d?p[r]:null;m=m(d);null!=m&&(g?$jscomp.defineProperty($jscomp.polyfills,r,{configurable:!0,writable:!0,value:m}):m!==d&&(void 0===$jscomp.propertyToPolyfillSymbol[r]&&(d=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[r]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(r):$jscomp.POLYFILL_PREFIX+d+"$"+r),$jscomp.defineProperty(p,$jscomp.propertyToPolyfillSymbol[r],{configurable:!0,writable:!0,value:m})))};$jscomp.initSymbol=function(){};$jscomp.iteratorPrototype=function(g){g={next:g};g[Symbol.iterator]=function(){return this};return g};
$jscomp.iteratorFromArray=function(g,m){g instanceof String&&(g+="");var d=0,p=!1,r={next:function(){if(!p&&d<g.length){var z=d++;return{value:m(z,g[z]),done:!1}}p=!0;return{done:!0,value:void 0}}};r[Symbol.iterator]=function(){return r};return r};$jscomp.polyfill("Array.prototype.values",function(g){return g?g:function(){return $jscomp.iteratorFromArray(this,function(m,d){return d})}},"es8","es3");
zenario.lib(function(g,m,d,p,r,z,k,t,u,H,E,v,y,A,w,L,I,M,G,N,C,B,D,J){var x=p.zenarioABG=new D;x.init("zenarioABG","zenario_admin_box");d=C(J);d.open=function(a,b,c,e,f,h,l,n){if(t._cIBIO("AdminOrganizer"))return!1;k._dS(this.globalName);k._bIF()&&(this.ffScrollTop=k._sT(),k._sT(0));b||(b={});a=(""+a).s("//",2);a[1]&&!b.id&&(b.id=a[1]);a=a[0];this.isOpen=!0;this.callBack=f;this.passMatchedIds=n;this.createAnotherObject=h;this.getRequestKey=b;this.changed={};this.isSlidUp=this.heightBeforeSlideUp=
this.hasPreviewWindow=this.previewChecksum=this.previewPost=this.previewSlotWidth=!1;this.previewSlotWidthInfo="";this.previewHidden=!0;this.baseCSSClass="zenario_fbAdmin zenario_admin_box zenario_fab_"+a;l||(f=this.microTemplate(this.mtPrefix,{}),this.openBox(f));p.onbeforeunload=u.onbeforeunload;this.start(a,b,c,e);return this.cb=new k.callback};d.openBox=function(a){};d.closeBox=function(){};d.updateHash=function(){};d.initFields=function(){this.hasPreviewWindow=!!this.pluginPreviewDetails();C(D).initFields.call(this)};
d.openNext=function(a){if(a||this.confirmClose(!0)){a=this.tuix.key;var b=a.nextIds;a.openNextMode&&A(b)?($("#zenario_abtab").clearQueue(),delete this.tuix,a.id=b,delete a.nextIds,this.open(this.path,a,g,g,g,g,!0,g)):this.refreshParentAndClose()}};d.refreshParentAndClose=function(a,b,c,e){t._nDS(!1);if(e&&A(this.tuix.key.nextIds))this.openNext(e);else{var f;e={};b||(this.isOpen=!1,this.updateHash());if(this.callBack&&!b){var h;(h=this.getValueArrayofArrays())&&this.callBack(this.tuix.key,h)}else if(v.init&&
(t.isFullOrganizerWindow||t._cIBIO("og"))){a=!1;if(A(this.tuix.key.id))a=this.tuix.key.id;else for(var l in this.tuix.key)if(B(this.tuix.key,l)){a=this.tuix.key[l];break}v._rTSI(a,c&&G.createdAnother,!b&&G.savedButNotShown)}else k.cID&&(f=this.tuix.key.slotName)?(k._rS(f,t.importantGetRequests),E.init&&E.init()):!k.cID||"zenario_menu"!=this.path&&"zenario_menu_text"!=this.path?a||b||(this.tuix.key.cID?(this.tuix.key.cID==k.cID&&this.tuix.key.cType==k.cType&&(e=t.importantGetRequests),k._gTU(k._lTI(this.tuix.key.cID,
this.tuix.key.cType,e))):E.init&&(e=_._cl(t.importantGetRequests),e.cVersion=k.cVersion,k._gTU(k._lTI(k.cID,k.cType,e)))):(t._rMP(),E.init&&E.init());a=this.tuix.popout_message;c=c&&this.createAnotherObject;b||c||(this.cb&&this.cb.done(),this.close());a&&t._sM(a,!0,!1);if(b){this.changed={};if(this.tuix.tabs)for(l in this.tuix.tabs)B(this.tuix.tabs,l)&&this.tuix.tabs[l]&&this.editModeOn(l)&&(this.tuix.tabs[l]._saved_and_continued=!0);this.sortTabs();this.draw()}else c&&($("#zenario_abtab").clearQueue(),
delete this.tuix,this.open(this.createAnotherObject.path,this.getRequestKey,this.createAnotherObject.tab,this.createAnotherObject.values,g,this.createAnotherObject,!0,this.passMatchedIds))}};d.close=function(a){this.callFunctionOnEditors("remove");t._nDS(!1);this.sizing&&clearTimeout(this.sizing);k._stPo(this);k._cAD();a||t._cFB();this.isOpen=!1;this.closeBox();k._eS(this.globalName);k._bIF()&&A(this.ffScrollTop)&&(k._sT(this.ffScrollTop),delete this.ffScrollTop);delete this.cb;delete this.tuix;delete this.previewChecksum;
delete this.previewPost;delete this.previewSlotWidth;delete this.previewSlotWidthInfo;return!1};d.closeButton=function(){this.confirmClose()&&(this.tuix&&this.tuix.key&&this.tuix.key.openNextMode?this.refreshParentAndClose():this.close());return!1};d.confirmClose=function(){var a=u._o();return(!A(a)||confirm(a))&&this.isOpen};d.draw=function(){this.isOpen&&this.loaded&&this.tabHidden&&this.draw2()};d.draw2=function(){var a=this;if(a.tuix.tabs){a.get("zenario_fbAdminFloatingBox").className=a.baseCSSClass+
" "+(a.tuix.css_class||"zenario_fab_default_style")+" "+(w(a.tuix.hide_tab_bar)?"zenario_admin_box_with_tabs_hidden":"zenario_admin_box_with_tabs_shown");var b=a.tuix;!b.tab||b.tabs[b.tab]&&!u._h(g,a,g,b.tab,g,g,g,g,b.tabs[b.tab])||(b.tab=!1);a.get("zenario_fabTabs").innerHTML=a.drawTabs();var c=!a.editModeOnBox(),e="";e={isReadOnly:c};a.setTitle(c);a.showCloseButton();a.get("zenario_fbButtons").innerHTML=a.microTemplate(a.mtPrefix+"_buttons",e);k._aJQE("#zenario_fbButtons ",!0);a.get("zenario_fbAdminFloatingBox").style.display=
"block";a.tallAsPossibleField=g;a.size(!0);t._nDS(!1);c=new k.callback;e=a.drawFields(c);var f;c.after(a.makeFieldAsTallAsPossible);a.animateInTab(e,c,$("#zenario_abtab"));a.shownTab=b.tab;delete a.lastScrollTop;k._sP(a);(f=b.tabs.global_area)&&!_._isEm(f.fields)?(x.tuix={tab:"global_area",tabs:{global_area:JSON.parse(JSON.stringify(f))}},x.sortTabs(),x.validate=function(){a.validate()},x.format=function(){a.format()},x.redrawTab=function(){a.redrawTab()},x.readTab=function(){C(D).readTab.call(x);
var h,l=a.tuix.tabs.global_area;for(h in l.fields)if(B(l.fields,h)){var n=l.fields[h];var q=x.tuix.tabs.global_area.fields[h];n.value=q.value;n.current_value=q.current_value;n.pressed=q.pressed;n.selected_option=q.selected_option;n._display_value=q._display_value;n.hidden=q.hidden;n._was_hidden_before=q._was_hidden_before}},c=new k.callback,e=x.drawFields(c),$("#zenario_fabGlobalArea").show().html(e),a.addJQueryElements("#zenario_fabGlobalArea"),c.done()):$("#zenario_fabGlobalArea").hide()}};d.readTab=
function(){C(D).readTab.call(this);this.tuix.tabs.global_area&&x.readTab()};d.sortTabs=function(){C(D).sortTabs.call(this);this.sortedTabs=_._f(this.sortedTabs,function(a){return"global_area"!=a})};d.setTitle=function(a){};d.showCloseButton=function(){this.tuix.cancel_button_message?$("#zenario_fbAdminFloatingBox .zenario_fabClose").css("display","none"):$("#zenario_fbAdminFloatingBox .zenario_fabClose").css("display","block")};d.returnAJAXURL=function(a){return"start"==a&&this.passMatchedIds&&v.lastRequests?
m+"zenario/admin/organizer.ajax.php?_get_matched_ids=1&_fab_path="+y(this.path)+"&path="+y(v.path)+k._uR(v.lastRequests)+k._uR(this.getRequestKey):m+"zenario/admin/admin_boxes.ajax.php?path="+y(this.path)+k._uR(this.getRequestKey)};d.typeaheadSearchEnabled=function(a,b,c){return(a=a.pick_items)&&(a.path||a.target_path)&&!1!==a.enable_type_ahead_search};d.typeaheadSearchAJAXURL=function(a,b,c){var e,f;a=a.pick_items;b=a.path&&v._cNPTTPAR(a.path);c=a.target_path&&v._cNPTTPAR(a.target_path);if(b=b&&
c&&b.path==c.path?b:c||b){if(a.add_conductor_vars_to_type_ahead_search&&(e=this.getConductorVars()))for(f in e)B(e,f)&&(a=e[f],b.request[f]=a);return m+"zenario/admin/organizer.ajax.php?_typeahead_search=1&path="+y(b.path)+k._uR(b.request)}};d.parseTypeaheadSearch=function(a,b,c,e,f){var h,l=[];if(f.items)for(h in f.items)if(B(f.items,h)){c=f.items[h];var n=t._fOIN(f,h);a.values=a.values||{};a.values[h]={image:c.image,css_class:c.css_class||f.item&&f.item.css_class,label:n};l.push({value:h,text:n,
html:this.drawPickedItem(h,b,a,e,!0)})}return l};d.drawPickedItem=function(a,b,c,e,f){A(c)||(c=this.field(b));var h=c.values&&c.values[a],l=c.pick_items||{},n=a==1*a,q,F;e={id:b,item:a,label:h,readOnly:e};_._isOb(h)?(e.missing=h.missing,e.css_class=h.css_class,e.image=h.image,h=e.label=h.label,e.fileSize=c.values[a].size):h?e.label=h:(h=e.label=a,e.missing=!0);c.tag_colors&&(e.tag_color=c.tag_colors[a]||"blue");w(l.hide_info_button)||c.upload&&!n||!(q=l.info_button_path)&&(!(q=l.path)||q!=l.target_path&&
l.min_path!=l.target_path)||(q="//"==k._rHSS(q,2)?q+a:"/"==k._rHSS(q,1)?q+("/"+a):q+("//"+a),e.organizerPath=q,e.organizerId=a);c.upload&&(e.isUpload=!0,q=(q=(""+h).m(/(.*?)\.(\w+)$/)||(""+h).m(/(.*?)\.(\w+) \[.*\]$/))&&q[2]?q[2].toLowerCase():"unknown",e.extension=q,n?(F=c.values&&c.values[a])&&F.checksum?(n=m+"zenario/file.php?c="+y(F.checksum),F.usage&&(n+="&usage="+y(F.usage))):n=m+"zenario/file.php?id="+a:n=m+"zenario/file.php?getUploadedFileInCacheDir="+y(a),q.m(/gif|jpg|jpeg|png|svg/)?(e.thumbnail=
{onclick:this.globalName+".showPickedItemInPopout('"+n+"&popout=1&dummy_filename="+y("image."+q)+"', '"+h+"');",src:n+"&og=1"},(a=(""+h).m(/.*\[\s*(\d+)p?x?\s*[\u00d7x]\s*(\d+)p?x?\s*\]$/))&&a[1]&&a[2]&&u._rI(a[1],a[2],180,120,e.thumbnail)):c.values[a].location&&"s3"==c.values[a].location?c.values[a].s3Link&&(e.adminDownload=c.values[a].s3Link):e.adminDownload=n+"&adminDownload=1");return this.drawPickedItem2(b,l,f,e)};d.pluginPreviewDetails=function(a,b,c,e,f){if(this.tuix&&this.tuix.key&&(this.tuix.key.nest||
this.tuix.key.eggId))return!1;var h={post:{}},l=_._cl(t.importantGetRequests);b=!b;switch(this.path){case "zenario_skin_editor":b=!1;a&&(h.checksum=crc32(h.post.overrideFrameworkAndCSS=JSON.stringify(this.getValues1D(!1,!0,!1,!0,!0))));break;case "plugin_settings":a&&(h.checksum=crc32((h.post.overrideSettings=JSON.stringify(this.getValues1D(!0,!1)))+(h.post.overrideFrameworkAndCSS=JSON.stringify(this.getValues1D(!1,!0,!1,!0,!0,["this_css_tab","all_css_tab","framework_tab"])))));break;default:return!1}e=
e||this.tuix&&this.tuix.key&&this.tuix.key.slotName;f=f||this.tuix&&this.tuix.key&&this.tuix.key.instanceId||k.slots&&k.slots[e]&&k.slots[e].instanceId;e&&zenario_conductor._e(e)&&(l=zenario_conductor._re(e,"refresh",l));l.cVersion=k.cVersion;if(b){if(!e||!f)return!1;b=t._gGSD(e);var n;a=b&&b.cssClass&&b.cssClass.s(" ")||[];l.method_call="showSingleSlot";l.fakeLayout=1;l.grid_columns=b.columns;l.grid_container=b.container;this.previewSlotWidth=b.pxWidth;this.previewSlotWidthInfo=b.widthInfo;l.grid_pxWidth=
this.previewWidth&&!c?this.previewWidth:this.previewSlotWidth;l.grid_cssClass="";for(n in a)B(a,n)&&(c=a[n],"alpha"==c||"omega"==c||c.m(/^span[\d_]*$/)||(l.grid_cssClass+=c+" "))}else l._show_page_preview=1;e&&(l.slotName=e);f&&(l.instanceId=f);h.url=k._lTI(k.cID,k.cType,l);return h};d.addExtraAttsForTextFields=function(a,b){this.hasPreviewWindow&&(b.onkeyup=(b.onkeyup||"")+" "+this.globalName+".updatePreview();")};d.fieldChange=function(a,b){this.updatePreview(750);C(D).fieldChange.call(this,a,b)};
d.updatePreview=function(a){var b=this;b.hasPreviewWindow&&!b.previewHidden&&k._aADINS("fabUpdatePreview",function(){var c=b.pluginPreviewDetails(!0);c&&b.previewChecksum!=c.checksum&&(b.previewChecksum=c.checksum,b.previewPost=c.post,b.submitPreview(c))},a||1E3)};var K=0;d.submitPreview=function(a,b,c){b=b||$("#zenario_fabPreview");c=c||"zenario_fabPreviewFrame";var e="zenario_previewFrame"+ ++K,f=b.find("."+c).not(".beingRemoved");c=$(u._ht("iframe","id",e,"name",e,"class",c));var h=f[0]&&f[0].contentDocument;
if(h=1*(h&&$(h).scrollTop()))a.url+="&_scroll_to="+h;f[0]&&(f.width(f.width()).height(f.height()).attr("id","").attr("name","").addClass("beingRemoved"),setTimeout(function(){f.fadeOut(600,function(){f.remove()})},400));b.append(c);this.showPreviewViaPost(a,e)};d.showPreviewViaPost=function(a,b){$(u._fo("action",a.url,"method","post","target",b,u._i("name","overrideSettings","value",a.post.overrideSettings)+u._i("name","overrideFrameworkAndCSS","value",a.post.overrideFrameworkAndCSS))).appendTo("body").hide().submit().remove()};
d.showPreviewInPopoutBox=function(a,b){var c=this,e=c.pluginPreviewDetails(!0,a,b);if(e){c.previewChecksum=e.checksum;c.previewPost=e.post;a=e.url+k._uR(e.post);if(a.length>=(k._bII()?2E3:4E3)){a="";var f=function(){c.showPreviewViaPost(e,$("#cboxLoadedContent iframe")[0].name)}}$.colorbox({width:"95%",height:"90%",iframe:!0,preloading:!1,open:!0,title:c.previewSlotWidthInfo||G.preview,className:"zenario_admin_cb zenario_plugin_preview_popout_box",href:a,onComplete:f});$("#colorbox,#cboxOverlay,#cboxWrapper").css("z-index",
"333000")}};d.editModeAlwaysOn=function(a){return!this.tuix.tabs[a].edit_mode.use_view_and_edit_mode||this.savedAndContinued(a)};d.editCancelEnabled=function(a){return this.tuix.tabs[a].edit_mode&&w(this.tuix.tabs[a].edit_mode.enabled)&&!this.editModeAlwaysOn(a)};d.revertEnabled=function(a){return this.tuix.tabs[a].edit_mode&&w(this.tuix.tabs[a].edit_mode.enabled)&&this.editModeAlwaysOn(a)&&!this.savedAndContinued(a)&&(!A(this.tuix.tabs[a].edit_mode.enable_revert)&&this.tuix.key&&this.tuix.key.id||
w(this.tuix.tabs[a].edit_mode.enable_revert))};d.savedAndContinued=function(a){return!1};d.editModeOnBox=function(){if(this.tuix&&this.tuix.tabs&&this.sortedTabs)for(var a in this.sortedTabs)if(B(this.sortedTabs,a)&&this.editModeOn(this.sortedTabs[a]))return!0;return!1};d.setData=function(a){this.setDataDiff(a)};d.sendStateToServer=function(){return this.sendStateToServerDiff()};d.save=function(a,b,c,e){var f=this,h;f.loaded&&(h=f.getURL("save"))&&(f.saving||setTimeout(function(){f.saving=!0;f.differentTab=
!0;f.loaded=!1;f.hideTab(!0);f.checkValues();var l={_save:!0,_confirm:a?1:"",_save_and_continue:b,_box:f.sendStateToServer()};w(f.tuix.download)||f.tuix.confirm&&w(f.tuix.confirm.download)?f.save2(k._nAA(f.getURL("save"),k._uR(l),!0),b,c,e):f.retryAJAX(h,l,!0,function(n){f.save2(n,b,c,e)},"saving")},100))};d.save2=function(a,b,c,e){delete this.saving;var f=a&&a._sync&&a._sync.flags||{},h=v.init&&!p.zenarioOQuickMode&&!p.zenarioOSelectMode;f.close_with_message?(this.close(),h&&v._r(),t._sM(f.close_with_message)):
f.reload_organizer&&h?(this.close(),t._tONT(f),u.uploading=!1,v._sWC("uploading",u.uploading),v._rePa(f.organizer_path)):f.open_admin_box&&H.init?(this.close(),H.open(f.open_admin_box)):f.go_to_url?(this.close(),t._tONT(f),k._gTU(k._aBP(f.go_to_url),!0)):f.valid?f.confirm?(this.load(a),this.sortTabs(),this.draw(),this.showConfirm(b,c,e)):f.download?(t._dD(this.getURL("download"),{_download:1,_box:this.sendStateToServer()}),b&&(a=a.substr(15),this.load(a)),this.refreshParentAndClose(!0,b,c,e)):f.saved?
(this.load(a),this.refreshParentAndClose(!1,b,c,e)):(this.close(),t._sM(a,!0,"error")):(this.load(a),this.sortTabs(),this.switchToATabWithErrors(),this.draw())};d.showConfirm=function(a,b,c){this.tuix&&this.tuix.confirm&&w(this.tuix.confirm.show)&&(c=this.tuix.confirm.message,w(this.tuix.confirm.html)||(c=I(c,!0)),a='<input type="button" class="submit_selected" value="'+this.tuix.confirm.button_message+'" onclick="'+this.globalName+".save(true, "+w(a)+", "+w(b)+');"/><input type="button" class="submit" value="'+
(this.tuix.confirm.cancel_button_message||t.phrase.cancel)+'"/>',t._flBo(c,a,this.tuix.confirm.message_type||"none"))};d.dragDropTarget=function(){return this.get("zenario_fbAdminInner")};d.enableDragDropUpload=function(){var a=this.dragDropTarget();u._sHTML5UFDD(this.ajaxURL(),{fileUpload:1},!1,this.uploadCallback,a);$(a).addClass("upload_enabled").removeClass("dragover")};d.disableDragDropUpload=function(){$(this.dragDropTarget()).removeClass("upload_enabled").removeClass("dragover").off("drop")};
d.dragListeners=function(){return u._cDHTML5U()?"ondragover=\"$(this).addClass('dragover');\" ondragleave=\"$(this).removeClass('dragover');\"":""}},zenarioAF,zenarioABToolkit);
