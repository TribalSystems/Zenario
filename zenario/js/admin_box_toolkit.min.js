'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(f){var m=0;return function(){return m<f.length?{done:!1,value:f[m++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,m,e){if(f==Array.prototype||f==Object.prototype)return f;f[m]=e.value;return f};$jscomp.getGlobal=function(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var m=0;m<f.length;++m){var e=f[m];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(f,m){var e=$jscomp.propertyToPolyfillSymbol[m];if(null==e)return f[m];e=f[e];return void 0!==e?e:f[m]};
$jscomp.polyfill=function(f,m,e,n){m&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(f,m,e,n):$jscomp.polyfillUnisolated(f,m,e,n))};$jscomp.polyfillUnisolated=function(f,m,e,n){e=$jscomp.global;f=f.split(".");for(n=0;n<f.length-1;n++){var r=f[n];if(!(r in e))return;e=e[r]}f=f[f.length-1];n=e[f];m=m(n);m!=n&&null!=m&&$jscomp.defineProperty(e,f,{configurable:!0,writable:!0,value:m})};
$jscomp.polyfillIsolated=function(f,m,e,n){var r=f.split(".");f=1===r.length;n=r[0];n=!f&&n in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var F=0;F<r.length-1;F++){var k=r[F];if(!(k in n))return;n=n[k]}r=r[r.length-1];e=$jscomp.IS_SYMBOL_NATIVE&&"es6"===e?n[r]:null;m=m(e);null!=m&&(f?$jscomp.defineProperty($jscomp.polyfills,r,{configurable:!0,writable:!0,value:m}):m!==e&&($jscomp.propertyToPolyfillSymbol[r]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(r):$jscomp.POLYFILL_PREFIX+r,r=
$jscomp.propertyToPolyfillSymbol[r],$jscomp.defineProperty(n,r,{configurable:!0,writable:!0,value:m})))};$jscomp.initSymbol=function(){};$jscomp.initSymbolIterator=function(){};$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(f){f={next:f};f[Symbol.iterator]=function(){return this};return f};
$jscomp.iteratorFromArray=function(f,m){f instanceof String&&(f+="");var e=0,n={next:function(){if(e<f.length){var r=e++;return{value:m(r,f[r]),done:!1}}n.next=function(){return{done:!0,value:void 0}};return n.next()}};n[Symbol.iterator]=function(){return n};return n};$jscomp.polyfill("Array.prototype.values",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(m,e){return e})}},"es8","es3");
zenario.lib(function(f,m,e,n,r,F,k,t,u,H,C,w,y,D,v,L,I,M,G,N,A,z,B,J){var x=n.zenarioABG=new B;x.init("zenarioABG","zenario_admin_box");e=A(J);e.open=function(a,c,d,b,g,h,l,p){if(t._cIBIO("AdminOrganizer"))return!1;k._dS(this.globalName);c||(c={});a=(""+a).s("//",2);a[1]&&!c.id&&(c.id=a[1]);a=a[0];this.isOpen=!0;this.callBack=g;this.passMatchedIds=p;this.createAnotherObject=h;this.getRequestKey=c;this.changed={};this.isSlidUp=this.heightBeforeSlideUp=this.hasPreviewWindow=this.previewMD5=this.previewPost=
this.previewSlotWidth=!1;this.previewSlotWidthInfo="";this.previewHidden=!0;this.baseCSSClass="zenario_fbAdmin zenario_admin_box zenario_fab_"+a;l||(g=this.microTemplate(this.mtPrefix,{}),this.openBox(g));n.onbeforeunload=u.onbeforeunload;this.start(a,c,d,b);return this.cb=new k.callback};e.openBox=function(a){};e.closeBox=function(){};e.updateHash=function(){};e.initFields=function(){this.hasPreviewWindow=!!this.pluginPreviewDetails();A(B).initFields.call(this)};e.refreshParentAndClose=function(a,
c,d){t._nDS(!1);var b,g={};c||(this.isOpen=!1,this.updateHash());if(this.callBack&&!c){var h;(h=this.getValueArrayofArrays())&&this.callBack(this.tuix.key,h)}else if(w.init&&(t.isFullOrganizerWindow||t._cIBIO("og"))){a=!1;if(D(this.tuix.key.id))a=this.tuix.key.id;else for(var l in this.tuix.key)if(z(this.tuix.key,l)){a=this.tuix.key[l];break}w._rTSI(a,d&&G.createdAnother,!c&&G.savedButNotShown)}else k.cID&&(b=this.tuix.key.slotName)?(k._rS(b,t.importantGetRequests),C.init&&C.init()):!k.cID||"zenario_menu"!=
this.path&&"zenario_menu_text"!=this.path?a||c||(this.tuix.key.cID?(this.tuix.key.cID==k.cID&&this.tuix.key.cType==k.cType&&(g=t.importantGetRequests),k._gTU(k._lTI(this.tuix.key.cID,this.tuix.key.cType,g))):C.init&&(g=_._cl(t.importantGetRequests),g.cVersion=k.cVersion,k._gTU(k._lTI(k.cID,k.cType,g)))):(t._rMP(),C.init&&C.init());a=this.tuix.popout_message;d=d&&this.createAnotherObject;c||d||(this.cb&&this.cb.done(),this.close());a&&t._sM(a,!0,!1);if(c){this.changed={};if(this.tuix.tabs)for(l in this.tuix.tabs)z(this.tuix.tabs,
l)&&this.tuix.tabs[l]&&this.editModeOn(l)&&(this.tuix.tabs[l]._saved_and_continued=!0);this.sortTabs();this.draw()}else d&&($("#zenario_abtab").clearQueue(),delete this.tuix,this.open(this.createAnotherObject.path,this.getRequestKey,this.createAnotherObject.tab,this.createAnotherObject.values,f,this.createAnotherObject,!0,this.passMatchedIds))};e.close=function(a){this.callFunctionOnEditors("remove");t._nDS(!1);this.sizing&&clearTimeout(this.sizing);k.stopPoking(this);k._cAD();a||t._cFB();this.isOpen=
!1;this.closeBox();k._eS(this.globalName);delete this.cb;delete this.tuix;delete this.previewMD5;delete this.previewPost;delete this.previewSlotWidth;delete this.previewSlotWidthInfo;return!1};e.closeButton=function(a){var c=u._o();(!D(c)||!a&&confirm(c))&&this.isOpen&&this.close();return!1};e.draw=function(){this.isOpen&&this.loaded&&this.tabHidden&&this.draw2()};e.draw2=function(){var a=this;if(a.tuix.tabs){a.get("zenario_fbAdminFloatingBox").className=a.baseCSSClass+" "+(a.tuix.css_class||"zenario_fab_default_style")+
" "+(v(a.tuix.hide_tab_bar)?"zenario_admin_box_with_tabs_hidden":"zenario_admin_box_with_tabs_shown");var c=a.tuix;!c.tab||c.tabs[c.tab]&&!u._h(f,a,f,c.tab,f,f,f,f,c.tabs[c.tab])||(c.tab=!1);a.get("zenario_fabTabs").innerHTML=a.drawTabs();var d=!a.editModeOnBox(),b="";b={isReadOnly:d};a.setTitle(d);a.showCloseButton();a.get("zenario_fbButtons").innerHTML=a.microTemplate(a.mtPrefix+"_buttons",b);k._aJQE("#zenario_fbButtons ",!0);a.get("zenario_fbAdminFloatingBox").style.display="block";a.tallAsPossibleField=
f;a.size(!0);t._nDS(!1);d=new k.callback;b=a.drawFields(d);var g;d.after(a.makeFieldAsTallAsPossible);a.animateInTab(b,d,$("#zenario_abtab"));a.shownTab=c.tab;delete a.lastScrollTop;k.startPoking(a);(g=c.tabs.global_area)&&!_._isEm(g.fields)?(x.tuix={tab:"global_area",tabs:{global_area:JSON.parse(JSON.stringify(g))}},x.sortTabs(),x.validate=function(){a.validate()},x.format=function(){a.format()},x.redrawTab=function(){a.redrawTab()},x.readTab=function(){A(B).readTab.call(x);var h,l=a.tuix.tabs.global_area;
for(h in l.fields)if(z(l.fields,h)){var p=l.fields[h];var q=x.tuix.tabs.global_area.fields[h];p.value=q.value;p.current_value=q.current_value;p.pressed=q.pressed;p.selected_option=q.selected_option;p._display_value=q._display_value;p.hidden=q.hidden;p._was_hidden_before=q._was_hidden_before}},d=new k.callback,b=x.drawFields(d),$("#zenario_fabGlobalArea").show().html(b),a.addJQueryElements("#zenario_fabGlobalArea"),d.done()):$("#zenario_fabGlobalArea").hide()}};e.readTab=function(){A(B).readTab.call(this);
this.tuix.tabs.global_area&&x.readTab()};e.sortTabs=function(){A(B).sortTabs.call(this);this.sortedTabs=_._f(this.sortedTabs,function(a){return"global_area"!=a})};e.setTitle=function(a){};e.showCloseButton=function(){this.tuix.cancel_button_message?$("#zenario_fbAdminFloatingBox .zenario_fabClose").css("display","none"):$("#zenario_fbAdminFloatingBox .zenario_fabClose").css("display","block")};e.returnAJAXURL=function(a){return"start"==a&&this.passMatchedIds&&w.lastRequests?m+"zenario/admin/organizer.ajax.php?_get_matched_ids=1&_fab_path="+
y(this.path)+"&path="+y(w.path)+k._uR(w.lastRequests)+k._uR(this.getRequestKey):m+"zenario/admin/admin_boxes.ajax.php?path="+y(this.path)+k._uR(this.getRequestKey)};e.typeaheadSearchEnabled=function(a,c,d){return(a=a.pick_items)&&(a.path||a.target_path)&&!1!==a.enable_type_ahead_search};e.typeaheadSearchAJAXURL=function(a,c,d){var b,g;a=a.pick_items;c=a.path&&w._cNPTTPAR(a.path);d=a.target_path&&w._cNPTTPAR(a.target_path);if(c=c&&d&&c.path==d.path?c:d||c){if(a.add_conductor_vars_to_type_ahead_search&&
(b=this.getConductorVars()))for(g in b)z(b,g)&&(a=b[g],c.request[g]=a);return m+"zenario/admin/organizer.ajax.php?_typeahead_search=1&path="+y(c.path)+k._uR(c.request)}};e.parseTypeaheadSearch=function(a,c,d,b,g){var h,l=[];if(g.items)for(h in g.items)if(z(g.items,h)){d=g.items[h];var p=t._fOIN(g,h);a.values=a.values||{};a.values[h]={image:d.image,css_class:d.css_class||g.item&&g.item.css_class,label:p};l.push({value:h,text:p,html:this.drawPickedItem(h,c,a,b,!0)})}return l};e.drawPickedItem=function(a,
c,d,b,g){D(d)||(d=this.field(c));var h=d.values&&d.values[a],l=d.pick_items||{},p=a==1*a,q,E;b={id:c,item:a,label:h,readOnly:b};_._isOb(h)?(b.missing=h.missing,b.css_class=h.css_class,b.image=h.image,h=b.label=h.label,b.fileSize=d.values[a].size):h?b.label=h:(h=b.label=a,b.missing=!0);d.tag_colors&&(b.tag_color=d.tag_colors[a]||"blue");v(l.hide_info_button)||d.upload&&!p||!(q=l.info_button_path)&&(!(q=l.path)||q!=l.target_path&&l.min_path!=l.target_path)||(q="//"==k._rHSS(q,2)?q+a:"/"==k._rHSS(q,
1)?q+("/"+a):q+("//"+a),b.organizerPath=q,b.organizerId=a);d.upload&&(b.isUpload=!0,q=(q=(""+h).m(/(.*?)\.(\w+)$/)||(""+h).m(/(.*?)\.(\w+) \[.*\]$/))&&q[2]?q[2].toLowerCase():"unknown",b.extension=q,p?(E=d.values&&d.values[a])&&E.checksum?(p=m+"zenario/file.php?c="+y(E.checksum),E.usage&&(p+="&usage="+y(E.usage))):p=m+"zenario/file.php?id="+a:p=m+"zenario/file.php?getUploadedFileInCacheDir="+y(a),q.m(/gif|jpg|jpeg|png|svg/)?(b.thumbnail={onclick:this.globalName+".showPickedItemInPopout('"+p+"&popout=1&dummy_filename="+
y("image."+q)+"', '"+h+"');",src:p+"&og=1"},(a=(""+h).m(/.*\[\s*(\d+)p?x?\s*[\u00d7x]\s*(\d+)p?x?\s*\]$/))&&a[1]&&a[2]&&u._rI(a[1],a[2],180,120,b.thumbnail)):d.values[a].location&&"s3"==d.values[a].location?d.values[a].s3Link&&(b.adminDownload=d.values[a].s3Link):b.adminDownload=p+"&adminDownload=1");return this.drawPickedItem2(c,l,g,b)};e.pluginPreviewDetails=function(a,c,d,b,g){if(this.tuix&&this.tuix.key&&(this.tuix.key.nest||this.tuix.key.eggId))return!1;var h={post:{}},l=_._cl(t.importantGetRequests);
c=!c;switch(this.path){case "zenario_skin_editor":c=!1;case "plugin_settings":a&&(h.md5=hex_md5((h.post.overrideSettings=JSON.stringify(this.getValues1D(!0,!1)))+(h.post.overrideFrameworkAndCSS=JSON.stringify(this.getValues1D(!1,!0,!1,!0,!0,["this_css_tab","all_css_tab","framework_tab"])))));break;default:return!1}b=b||this.tuix&&this.tuix.key&&this.tuix.key.slotName;g=g||this.tuix&&this.tuix.key&&this.tuix.key.instanceId||k.slots&&k.slots[b]&&k.slots[b].instanceId;b&&zenario_conductor._e(b)&&(l=
zenario_conductor._re(b,"refresh",l));l.cVersion=k.cVersion;if(c){if(!b||!g)return!1;c=t._gGSD(b);var p;a=c&&c.cssClass&&c.cssClass.s(" ")||[];l.method_call="showSingleSlot";l.fakeLayout=1;l.grid_columns=c.columns;l.grid_container=c.container;this.previewSlotWidth=c.pxWidth;this.previewSlotWidthInfo=c.widthInfo;l.grid_pxWidth=this.previewWidth&&!d?this.previewWidth:this.previewSlotWidth;l.grid_cssClass="";for(p in a)z(a,p)&&(d=a[p],"alpha"==d||"omega"==d||d.m(/^span[\d_]*$/)||(l.grid_cssClass+=d+
" "))}else l._show_page_preview=1;b&&(l.slotName=b);g&&(l.instanceId=g);h.url=k._lTI(k.cID,k.cType,l);return h};e.addExtraAttsForTextFields=function(a,c){this.hasPreviewWindow&&(c.onkeyup=(c.onkeyup||"")+" "+this.globalName+".updatePreview();")};e.fieldChange=function(a,c){this.updatePreview(750);A(B).fieldChange.call(this,a,c)};e.updatePreview=function(a){var c=this;c.hasPreviewWindow&&!c.previewHidden&&k._aADINS("fabUpdatePreview",function(){var d=c.pluginPreviewDetails(!0);d&&c.previewMD5!=d.md5&&
(c.previewMD5=d.md5,c.previewPost=d.post,c.submitPreview(d))},a||1E3)};var K=0;e.submitPreview=function(a,c,d){c=c||$("#zenario_fabPreview");d=d||"zenario_fabPreviewFrame";var b="zenario_previewFrame"+ ++K,g=c.find("."+d).not(".beingRemoved");d=$(u._ht("iframe","id",b,"name",b,"class",d));var h=g[0]&&g[0].contentDocument;if(h=1*(h&&$(h).scrollTop()))a.url+="&_scroll_to="+h;g[0]&&(g.width(g.width()).height(g.height()).attr("id","").attr("name","").addClass("beingRemoved"),setTimeout(function(){g.fadeOut(600,
function(){g.remove()})},400));c.append(d);this.showPreviewViaPost(a,b)};e.showPreviewViaPost=function(a,c){$(u._fo("action",a.url,"method","post","target",c,u._i("name","overrideSettings","value",a.post.overrideSettings)+u._i("name","overrideFrameworkAndCSS","value",a.post.overrideFrameworkAndCSS))).appendTo("body").hide().submit().remove()};e.showPreviewInPopoutBox=function(a,c){var d=this,b=d.pluginPreviewDetails(!0,a,c);if(b){d.previewMD5=b.md5;d.previewPost=b.post;a=b.url+k._uR(b.post);if(a.length>=
(k._bII()?2E3:4E3)){a="";var g=function(){d.showPreviewViaPost(b,$("#cboxLoadedContent iframe")[0].name)}}$.colorbox({width:"95%",height:"90%",iframe:!0,preloading:!1,open:!0,title:d.previewSlotWidthInfo||G.preview,className:"zenario_plugin_preview_popout_box",href:a,onComplete:g});$("#colorbox,#cboxOverlay,#cboxWrapper").css("z-index","333000")}};e.editModeAlwaysOn=function(a){return!D(this.tuix.tabs[a].edit_mode.always_on)||v(this.tuix.tabs[a].edit_mode.always_on)||this.savedAndContinued(a)};e.editCancelEnabled=
function(a){return this.tuix.tabs[a].edit_mode&&v(this.tuix.tabs[a].edit_mode.enabled)&&!this.editModeAlwaysOn(a)};e.revertEnabled=function(a){return this.tuix.tabs[a].edit_mode&&v(this.tuix.tabs[a].edit_mode.enabled)&&this.editModeAlwaysOn(a)&&!this.savedAndContinued(a)&&(!D(this.tuix.tabs[a].edit_mode.enable_revert)&&this.tuix.key&&this.tuix.key.id||v(this.tuix.tabs[a].edit_mode.enable_revert))};e.savedAndContinued=function(a){return!1};e.editModeOnBox=function(){if(this.tuix&&this.tuix.tabs&&this.sortedTabs)for(var a in this.sortedTabs)if(z(this.sortedTabs,
a)&&this.editModeOn(this.sortedTabs[a]))return!0;return!1};e.setData=function(a){this.setDataDiff(a)};e.sendStateToServer=function(){return this.sendStateToServerDiff()};e.save=function(a,c,d){var b=this,g;b.loaded&&(g=b.getURL("save"))&&(b.saving||setTimeout(function(){b.saving=!0;b.differentTab=!0;b.loaded=!1;b.hideTab(!0);b.checkValues();var h={_save:!0,_confirm:a?1:"",_save_and_continue:c,_box:b.sendStateToServer()};v(b.tuix.download)||b.tuix.confirm&&v(b.tuix.confirm.download)?b.save2(k._nAA(b.getURL("save"),
k._uR(h),!0),c,d):b.retryAJAX(g,h,!0,function(l){b.save2(l,c,d)},"saving")},100))};e.save2=function(a,c,d){delete this.saving;var b=a&&a._sync&&a._sync.flags||{},g=w.init&&!n.zenarioOQuickMode&&!n.zenarioOSelectMode;b.close_with_message?(this.close(),g&&w._r(),t._sM(b.close_with_message)):b.reload_organizer&&g?(this.close(),t._tONT(b),u.uploading=!1,w._sWC("uploading",u.uploading),w._rePa(b.organizer_path)):b.open_admin_box&&H.init?(this.close(),H.open(b.open_admin_box)):b.go_to_url?(this.close(),
t._tONT(b),k._gTU(k._aBP(b.go_to_url),!0)):b.valid?b.confirm?(this.load(a),this.sortTabs(),this.draw(),this.showConfirm(c,d)):b.download?(t._dD(this.getURL("download"),{_download:1,_box:this.sendStateToServer()}),c&&(a=a.substr(15),this.load(a)),this.refreshParentAndClose(!0,c,d)):b.saved?(this.load(a),this.refreshParentAndClose(!1,c,d)):(this.close(),t._sM(a,!0,"error")):(this.load(a),this.sortTabs(),this.switchToATabWithErrors(),this.draw())};e.showConfirm=function(a,c){if(this.tuix&&this.tuix.confirm&&
v(this.tuix.confirm.show)){var d=this.tuix.confirm.message;v(this.tuix.confirm.html)||(d=I(d,!0));a='<input type="button" class="submit_selected" value="'+this.tuix.confirm.button_message+'" onclick="'+this.globalName+".save(true, "+v(a)+", "+v(c)+');"/><input type="button" class="submit" value="'+this.tuix.confirm.cancel_button_message+'"/>';t._flBo(d,a,this.tuix.confirm.message_type||"none")}};e.dragDropTarget=function(){return this.get("zenario_fbAdminInner")};e.enableDragDropUpload=function(){var a=
this.dragDropTarget();u._sHTML5UFDD(this.ajaxURL(),{fileUpload:1},!1,this.uploadCallback,a);$(a).addClass("upload_enabled").removeClass("dragover")};e.disableDragDropUpload=function(){$(this.dragDropTarget()).removeClass("upload_enabled").removeClass("dragover").off("drop")};e.dragListeners=function(){return u._cDHTML5U()?"ondragover=\"$(this).addClass('dragover');\" ondragleave=\"$(this).removeClass('dragover');\"":""}},zenarioAF,zenarioABToolkit);
