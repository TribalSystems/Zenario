zenario.lib(function(R,T,K,U,V,W,A,X,G,Y,Z,ca,da,t,B,aa,C,ea,m,fa,L,q,M){var g=L(M);G.lib(function(L,l,M,U,V,S,W,X,Y,Z,ba){g.initVars=function(){this.editing=!1;this.data={};this.openedSkinId=this.layoutName="";this.history=[];this.savedAtPos=this.pos=0;this.lastIframeHeight=360;this.bodyPadding=0;this.desktopSmallestSize=800;this.previewPaddingLeftRight=75;this.gridAreaSmallestHeight=150;this.tabletWidth=768;this.mobileWidth=320;this.lastToast=!1;this.gridId="..."};g.init=function(b,a){this.initVars();
this.gridId=a;this.data="object"==typeof b?b:JSON.parse(b);this.checkDataR(this.data.cells);this.rememberNames(this.data.cells)};g.checkDataNonZero=function(b,a,d,e,g){1*a[d]||(a[d]=e,b=!0);a[d]=Math.round(a[d]);a[d]<=g&&(a[d]=e,b=!0);return b};g.checkDataNumeric=function(b,a,d,e,g){g||(g=1);t(a[d])&&1*a[d]==a[d]||(a[d]=e,b=!0);0>g?(g*=-1,a[d]=Math.round(a[d]*g)/g):a[d]=Math.round(a[d]/g)*g;0>a[d]&&(a[d]=e,b=!0);return b};g.checkDataNonZeroAndNumeric=function(b,a){var d=!1,e=!1;a=this.checkDataNonZero(a,
b,"cols",10,0);d=this.checkDataNonZero(d,b,"colWidth",60,1);this.checkDataNonZero(e,b,"minWidth",600,100);a=this.checkDataNonZero(a,b,"maxWidth",960,100);this.checkDataNumeric(a,b,"bp1",0,1);this.checkDataNumeric(a,b,"bp2",0,1);d=this.checkDataNumeric(d,b,"gutter",40);d=this.checkDataNumeric(d,b,"gutterLeftEdge",0);d=this.checkDataNumeric(d,b,"gutterRightEdge",0);this.checkDataNumeric(a,b,"gutterFlu",1,-10);this.checkDataNumeric(a,b,"gutterLeftEdgeFlu",0,-10);e=this.checkDataNumeric(a,b,"gutterRightEdgeFlu",
0,-10);100<b.gutterFlu*(b.cols-1)+b.gutterLeftEdgeFlu+b.gutterRightEdgeFlu&&(b.gutterFlu=0,b.gutterLeftEdgeFlu=0,b.gutterRightEdgeFlu=0,e=!0);b.minWidth>b.maxWidth&&(b.minWidth=b.maxWidth,e=!0);return a||(b.fluid?e:d)};g.checkDataR=function(b){var a,d,e;for(a=0;a<b.length;++a)if(b[d=a].grid_break_group&&b[d].cells){for(e in b[d].cells)q(b[d].cells,e)&&b.splice(++a,0,b[d].cells[e]);delete b[d].cells;b[a+1]&&(b[a+1].grid_break||b[a+1].grid_break_group)||(b.splice(++a,0,{grid_break:!0,grid_css_class:this.randomName(2,
"Grid_"),html:b[d].after}),delete b[d].after);b[d].grid_break=!0;b[d].grid_css_class=b[d].name||this.randomName(2,"Grid_");delete b[d].name;delete b[d].grid_break_group}for(a=0;a<b.length;++a)!b[a].name||b[a].cells||b[a].grid_break||b[a].grid_break_group||b[a].space||(b[a].slot=!0);for(a=0;a<b.length;++a)d=[],b[a].responsive?b[a].small="hide":b[a].first&&(b[a].small="first"),delete b[a].responsive,delete b[a].first,b[a].custom_class&&(d.push(b[a].custom_class),delete b[a].custom_class),b[a].name&&
(b[a].space||b[a].cells)&&(d.push(b[a].name),delete b[a].name),d.length&&b[a].css_class&&d.push(b[a].css_class),d.length&&(b[a].css_class=d.join(" ")),b[a].cells?(delete b[a].html,delete b[a].after,delete b[a].before,this.checkDataR(b[a].cells)):b[a].name?(delete b[a].after,delete b[a].before):(d=[],b[a].after&&(d.push(b[a].after),delete b[a].after),b[a].before&&(d.push(b[a].before),delete b[a].before),d.length&&(b[a].html=d.join(" ")))};g.ajaxData=function(){return JSON.stringify(this.data)};g.rememberNames=
function(b){for(var a=0;a<b.length;++a)b[a].cells?this.rememberNames(b[a].cells):b[a].name&&(b[a].oName=b[a].name)};g.checkData=function(b,a){var d;this.data?_._isAr(this.data)?(this.data={cells:this.data},a&&(d=1*a.r(/\D/g,""))&&(this.data.cols=d)):this.data.cells||(this.data.cells=[]):this.data={cells:[]};this.data.fluid&&!t(this.data.gutterFlu)&&t(this.data.gutter)?(this.checkDataNonZeroAndNumeric(this.data),d=this.data.gutterLeftEdge+this.data.cols*this.data.colWidth+(this.data.cols-1)*this.data.gutter+
this.data.gutterRightEdge,this.data.minWidth=960<d?960:760<d?760:d,this.data.maxWidth=d,this.data.gutterFlu=Math.round(1E3*(this.data.gutter/d))/10,this.data.gutterLeftEdgeFlu=Math.round(1E3*(this.data.gutterLeftEdge/d))/10,this.data.gutterRightEdgeFlu=Math.round(1E3*(this.data.gutterRightEdge/d))/10):this.data.fluid||t(this.data.gutter)||!t(this.data.gutterFlu)||(this.checkDataNonZeroAndNumeric(this.data),d=this.data.maxWidth,this.data.gutter=Math.round(this.data.gutterFlu*d/100),this.data.gutterLeftEdge=
Math.round(this.data.gutterLeftEdgeFlu*d/100),this.data.gutterRightEdge=Math.round(this.data.gutterRightEdgeFlu*d/100),this.data.colWidth=(d-(this.data.gutterLeftEdge+(this.data.cols-1)*this.data.gutter+this.data.gutterRightEdge))/this.data.cols,(d=this.recalcColumnAndGutterOptions(this.data,!0,d))?(this.data.colWidth=d.colWidth,this.data.gutter=d.gutter):(delete this.data.colWidth,delete this.data.gutter));this.checkDataNonZeroAndNumeric(this.data);this.data.fluid?(delete this.data.gutter,delete this.data.gutterLeftEdge,
delete this.data.gutterRightEdge,delete this.data.colWidth):(delete this.data.gutterFlu,delete this.data.gutterLeftEdgeFlu,delete this.data.gutterRightEdgeFlu);this.history.length||(this.pos=0,this.history=[this.ajaxData()])};g.draw=function(b){this.drawEditor()};g.cellLabel=function(b){return b.name};g.drawEditor=function(b,a,d,e,g,k,x,u,D,s,A){var h=this,v=0,G=0;if(d&&t(d[0])){data=h.data;for(var r in d)q(d,r)&&(r*=1,v=r+1,data=data.cells[d[r]])}else G=$("#"+h.gridId).scrollTop(),h.checkData(),
data=h.data,v=0,d=[],h.names={},h.randomNameCount=0;t(b)||(b=h.gridId);t(e)||(e=h.data.cols);t(g)||(h.data.fluid?(A=h.data.gutterFlu,s=(100-h.data.gutterLeftEdgeFlu-(h.data.cols-1)*h.data.gutterFlu-h.data.gutterRightEdgeFlu)/h.data.cols,k=Math.round(h.data.gutterFlu*h.data.maxWidth/100),x=Math.round(h.data.gutterLeftEdgeFlu*h.data.maxWidth/100),u=Math.round(h.data.gutterRightEdgeFlu*h.data.maxWidth/100),D=k,g=Math.round(s*h.data.maxWidth/100)):(A=s=0,k=h.data.gutter,x=h.data.gutterLeftEdge,u=h.data.gutterRightEdge,
D=k,g=h.data.colWidth));var f="";r={};var p,O=1,c=data.cells,n=h.gridId+"__cell"+d.join("-"),w=g+k,y=e*w,H=0,I=0,P=0,Q=0,J=Math.ceil(k/2),E=Math.floor(k/2),L=Math.ceil(D/2),M=Math.floor(D/2);x>=J?H=x-J:y-=P=J-x;u>=E?I=u-E:y-=Q=E-u;f=0==v?f+('<div class="zenario_overflow_wrap" style="width: '+y+'px; overflow-x: hidden;">')+('<ul id="'+n+'s" class="zenario_grids" style="width: '+(y+Math.abs(E-u)+1)+"px;"):f+('<ul id="'+n+'s" class="zenario_grids" style="width: '+y+"px;");H&&(f+="padding-left: "+H+"px;");
I&&(f+="padding-right: "+I+"px;");0==v&&(f+="background: white top left repeat-y url("+C(T)+"zenario/admin/grid_maker/grid_bg.php?gColWidth="+g+"&gCols="+e+"&gGutter="+k+"&gGutterLeftEdge="+x+"&gGutterRightEdge="+u+");",h.gGutterLeftEdge=x,h.gGutterLeft=J,h.gGutterRight=E,h.gGutterRightEdge=u,h.gColAndGutterWidth=w,h.typAddSlot=2*w-k,h.typAddBreak=e*w-k);f+='">';0<v&&"zenarioSD"!=h.globalName&&(f+=l("class","zenario_grid_object_properties",l(S("data-type","grouping","data-for",a,"data-small",data.small,
"data-is_full",B(data.isAlpha&&data.atRightEdge),"data-is_last",B(!data.isAlpha&&data.isOmega),"data-css_class",data.css_class,"title",m.gridEditProperties,data.css_class?C(data.css_class):m.gridEditPlaceholder)))+"<br/>");c||(c=[]);for(a=c.length-1;0<=a;--a)c[a].cells&&h.checkCellsEmpty(c[a])&&c.splice(a,1);p=e;var z=!1;for(a in c)if(q(c,a)){c[a].width=c[a].grid_break?e:Math.min(e,c[a].width||1);p+=c[a].width;if(c[a].width==e||0==p%e)c[a].atRightEdge=!0;p>e&&(p=c[a].width,!1!==z&&(c[z].isOmega=!0),
c[a].isAlpha=!0);z=a}!1!==z&&(c[z].isOmega=!0);0==v&&Math.max(1,Math.round(e/5));for(a in c)if(q(c,a)){h.data.responsive&&("first"!=c[a].small||!c[a].isAlpha&&c[a].isOmega||delete c[a].small,"only"!=c[a].small||c[a].isAlpha&&c[a].isOmega||delete c[a].small);c[a].widthPx=c[a].width*w-(c[a].isAlpha?P:0)-(c[a].atRightEdge?Q:0);c[a].widthPercent=c[a].width*s+(c[a].width-1)*A;c[a].marginLeft=c[a].isAlpha&&P?x:J;c[a].marginRight=c[a].atRightEdge&&Q?u:E;f+=ba("id",n+"-"+a,"data-i",a,"data-level",v,"data-levels",
d.join("-"),"data-gutter",k,"data-minwidth",1*w-k,"data-maxwidth",w*e-k,"data-is_alpha",B(c[a].isAlpha),"data-is_omega",B(c[a].isOmega),"data-at_right_edge",B(c[a].atRightEdge),"data-col_and_gutter_width",w,"data-displayed_width",c[a].width*w-k,"data-displayed_margin_left",c[a].marginLeft," ");p="";c[a].grid_break||"only"==c[a].small||(p="zenario_grid_cell_resizable");f+=' class="zenario_grid_cell '+p+" zenario_grid_cell__"+n;c[a].flash&&!h.undoing&&(delete c[a].flash,f+=" zenario_grid_newly_added");
f=c[a].cells?f+' zenario_grid_nest"':c[a].space?f+' zenario_grid_space_cell"':f+' zenario_grid_slot"';f+=' style="width: '+c[a].widthPx+'px;">';c[a].grid_break&&(f+=l("class","zenario_grid_break_outer_wrap",">"));p="margin-left: "+c[a].marginLeft+"px; margin-right: "+c[a].marginRight+"px;";if(c[a].cells)f+=l("id",n+"-"+a+"-span","class","zenario_grid_wrap");else{if(c[a].slot)c[a].name?h.checkIfNameUsed(c[a].name)||(h.registerNewName(c[a].name),++h.randomNameCount):c[a].name=h.uniqueRandomName(),z=
h.cellLabel(c[a]),"zenarioSD"==h.globalName&&_._isEm(h.cellLabel(c[a]))&&(z=m.gridNoPluginMessage),f+=l("class","zenario_grid_border zenario_cell_in_grid zenario_grid_gutter "+(c[a].grid_break?"zenario_grid_break zenario_grid_break_with_slot":""),"style",p,">"),f+=l("class","zenario_grid_name_area",l("class","zenario_grid_delete","title",m.gridDelete,"data-for",n+"-"+a,"style","right: "+c[a].marginRight+"px;")+l("class","zenario_grid_faux_block_t")+l("class","zenario_grid_object_properties",l(S("data-type",
c[a].grid_break?"grid_break_with_slot":"slot","data-for",n+"-"+a,"data-name",c[a].name,"data-small",c[a].small,"data-height",c[a].height,"data-is_full",B(c[a].isAlpha&&c[a].atRightEdge),"data-is_last",B(!c[a].isAlpha&&c[a].isOmega),"data-css_class",c[a].css_class,"title",m.gridEditProperties,"data-grid_css_class",c[a].grid_break&&c[a].grid_css_class,C(z)+(c[a].height&&"small"!=c[a].height?" ("+c[a].height+")":""))))),f+=l("class","zenario_grid_faux_block_r"),f+=l("class","zenario_grid_cell_size",
">"),c[a].grid_break||(p=c[a].width*w-k,f=h.data.fluid?v?f+(Math.round(c[a].widthPercent)+"%"):f+(Math.round(10*c[a].widthPercent)/10+"%"):f+(p+"px")),f+="</div>",f+=l("class","zenario_grid_faux_block_t");else var f=f+l("class","zenario_cell_in_grid zenario_grid_gutter "+(c[a].grid_break?"zenario_grid_break zenario_grid_break_no_slot":"zenario_grid_space"),"style",p,"title",c[a].grid_break?m.gridGridBreak:m.gridEmptySpace,">"),f=f+l("class","zenario_grid_delete","title",m.gridDelete,"data-for",n+
"-"+a,"style","right: "+c[a].marginRight+"px;"),f=f+l("&nbsp;"),f=f+l("&nbsp;"),f=f+('<div class="zenario_grid_object_properties"><div><span data-type="'+(c[a].grid_break?"grid_break":"space")+'" data-for="'+n+"-"+a+'" data-html="'+C(c[a].html)+'"'),N,f=c[a].grid_break?f+(' data-grid_css_class="'+C(N=c[a].grid_css_class)+'"'):f+(' data-css_class="'+C(N=c[a].css_class)+'"'),f=f+(' title="'+m.gridEditProperties+'">'+(N?C(N):m.gridEditPlaceholder)+"</span></div></div>");f+="</div>"}c[a].grid_break&&
(f+="</div>");f+="</li>"}f+="</ul>";0==v&&(f+="</div>");$(".ui-tooltip").remove();aa(b).innerHTML=f;p=0;for(a in c)if(q(c,a)){a*=1;c[a].cells&&(k=g,s=c[a].width,d.push(a),k=h.drawEditor(n+"-"+a+"-span",n+"-"+a,d,s,k,D,c[a].isAlpha?x-H:L,c[a].atRightEdge?u-I:M,D,c[a].widthPercent/s,0),d.pop(),1<k&&(c[a].width=Math.max(c[a].width,k)));O=Math.max(O,c[a].width);delete c[a].isAlpha;delete c[a].isOmega;delete c[a].atRightEdge;delete c[a].widthPx;delete c[a].widthPercent;delete c[a].marginLeft;delete c[a].marginRight;
p+=c[a].width;if(p>e){s=k=0;for(k in r)q(r,k)&&(s=Math.max(s,$("#"+n+"-"+k).height()));for(k in r)q(r,k)&&$("#"+n+"-"+k).height(s);p=c[a].width;r={}}r[a]=!0}s=k=0;for(k in r)q(r,k)&&(s=Math.max(s,$("#"+n+"-"+k).height()));for(k in r)q(r,k)&&$("#"+n+"-"+k).height(s);$("#"+n+"s").disableSelection();$("#"+n+"s").sortable({cancel:"a,button,input,select",placeholder:"zenario_grid_cell zenario_grid_sortable_target",sort:function(a,b){var d=$(".zenario_grid_sortable_target"),c=b.item.data("add"),f,e,g;$(".zenario_overflow_wrap").scrollLeft(0);
if(t(c)){e=70;switch(c){case "grid_break":case "grid_break_with_slot":f=h.typAddBreak;break;default:f=h.typAddSlot}c=d.next();c.length||(c=d.prev());c.length&&(e=c.height()-10);d.height(e).width(f).css("margin-left",0).css("margin-right",0).html(l());c=d.next();c.hasClass("ui-draggable")&&(c=!1);g=d.offset().left<h.gColAndGutterWidth;f=!c||!c.offset()||c.offset().left<d.offset().left;e=!!(c&&1*c.data("is_alpha"));c&&c.data("at_right_edge");c=g?h.gGutterLeftEdge:h.gGutterLeft;g=f?h.gGutterRightEdge:
h.gGutterRight;e&&(g+=h.gGutterLeft-h.gGutterLeftEdge);d.css("margin-left",c).css("margin-right",g)}else f=b.item.width(),e=b.item.height(),c=1*b.item.data("displayed_margin_left"),g=f-c-1*b.item.data("displayed_width"),d.height(e),e-=24,d.width(f).html(l("style","margin: 10px "+g+"px 14px "+c+"px; height: "+e+"px;"))},items:"li.zenario_grid_cell__"+n,connectWith:".zenario_grids",start:function(a,b){h.stopRenames=!0},stop:function(a,b){var c,f,e=h.data,g=b.item.data(),k=b.item.prev().data();b.item.prev().data();
var l=b.item.parent().parent().parent().data(),p,n,F;l&&t(l.level)||(l=R);if(!g.add&&(p=g.i,n=e,1*g.level))for(c in d=(""+g.levels).s("-"),d)q(d,c)&&(f=d[c],n=n.cells[1*f]);k=k?k.i+1:0;F=e;if(l)for(c in d=""!=l.levels?(l.levels+"-"+l.i).s("-"):[l.i],d)q(d,c)&&(f=d[c],F=F.cells[1*f]);c=p==k;if(f=n===F){if(c)return;k>p&&--k}if(f||!n||!n.cells[p].grid_break){switch(g.add){case "slot":e={width:2,slot:!0,name:h.uniqueRandomName(),flash:!0};msg=m.growlSlotAdded;l&&"zenarioSD"==h.globalName&&(e.width=F.width);
break;case "space":e={width:2,space:!0,css_class:h.randomName(2,"Space_"),flash:!0};msg=m.growlSpaceAdded;break;case "grouping":if(l&&"zenarioSD"==h.globalName){h.change();return}e={width:2,css_class:h.randomName(2,"Grouping_"),flash:!0,cells:[{width:2,slot:!0,name:h.uniqueRandomName()},{width:2,slot:!0,name:h.uniqueRandomName()}]};msg=m.growlChildrenAdded;break;case "grid_break":if(l){h.change();return}e={width:e.cols,grid_break:!0,grid_css_class:h.randomName(2,"Grid_"),flash:!0};msg=m.growlGridBreakAdded;
break;case "grid_break_with_slot":if(l){h.change();return}e={width:e.cols,grid_break:!0,slot:!0,grid_css_class:h.randomName(2,"Grid_"),name:h.uniqueRandomName(),flash:!0};msg=m.growlSlotAdded;break;default:e=n.cells.splice(p,1)[0],msg=m.growlSlotMoved}F.cells.splice(k,0,e);toastr.success(msg)}h.change()}});if(0==v)$("#"+b+" .zenario_grid_cell_resizable").each(function(a,b){var c=$(b).width()-1*$(b).data("displayed_width"),d=1*$(b).data("col_and_gutter_width"),f=1*$(b).data("displayed_margin_left"),
e=1*$(b).data("minwidth"),g=1*$(b).data("maxwidth");$(b).data("level");$(b).resizable({cancel:"a,button,input,select",handles:"se",grid:d,minHeight:$(b).height(),maxHeight:$(b).height(),minWidth:Math.floor(e-0.5*d+1),maxWidth:Math.floor(g+0.5*d-1),helper:"ui-resizable-helper",start:function(a,c){$(b).hasClass("zenario_grid_nest")?$(K.body).addClass("zenario_grid_resizing_nest").removeClass("zenario_grid_resizing_cell").removeClass("zenario_grid_resizing_space_cell"):$(b).hasClass("zenario_grid_space_cell")?
$(K.body).removeClass("zenario_grid_resizing_nest").removeClass("zenario_grid_resizing_cell").addClass("zenario_grid_resizing_space_cell"):$(K.body).removeClass("zenario_grid_resizing_nest").addClass("zenario_grid_resizing_cell").removeClass("zenario_grid_resizing_space_cell")},resize:function(a,b){var d=b.helper.width(),e=b.element.width(),g=d-c,k="";d!=e&&(k=h.data.fluid?k+("~"+Math.round(100*g/h.data.maxWidth)+"%"):k+(g+"px"));b.helper.html(l("class","zenario_resizing_border","style","height: "+
(b.helper.height()-4)+"px; width: "+(g-4)+"px; margin-left: "+f+"px;",l("class","zenario_size_when_resizing",k)))},stop:function(a,c){$(K.body).removeClass("zenario_grid_resizing_nest").removeClass("zenario_grid_resizing_cell").removeClass("zenario_grid_resizing_space_cell");var f=1*c.element.data("i"),e=c.element.data("levels"),g=h.data;if(e){var e=(""+e).s("-"),k;for(k in e)q(e,k)&&(k*=1,g=g.cells[1*e[k]])}var e=g.cells[1*f],l=e.width,m=e.width=Math.round((c.element.width()+$(b).data("gutter")/
2)/d),n=function(a){if(a){var b,c;for(b in a)if(q(a,b)){c=a[b];if(c.width==l||c.width>m)c.width=m;n(c.cells)}}};n(g.cells[f].cells);h.change()}})}),$("#"+b+" .ui-resizable-handle").each(function(a,b){var c=$(b),d=c.prev(),e=d.children().first();e&&e.length&&e.hasClass("zenario_grids")?(c.css("right","-2px"),c.css("top",d.height()-12+"px"),c.attr("title",m.gridResizeNestedCells)):(c.css("right",1*d.css("marginRight").r(/\D/g,"")),c.css("top",d.height()+10+2+10+10+2-19+"px"),c.attr("title",m.gridResizeSlot),
"zenarioSD"==h.globalName&&1==c.parent().data("level")&&c.remove())}),$("#"+b).width(y+H+I).addClass("zenario_grid_wrapper"),h.tooltips("#"+b),$("#"+b+" .zenario_grid_delete").click(function(){h.deleteCell(this)}),$("#"+b+" .zenario_grid_object_properties span").click(function(){h.stopRenames||h.editProperties(this)}),setTimeout(function(){delete h.stopRenames},100),h.drawLinks(),$("#"+b+" .zenario_grid_newly_added .zenario_cell_in_grid").effect({effect:"highlight",duration:1E3,easing:"zenarioOmmitEnd"}),
$("#"+h.gridId).scrollTop(G),h.drawAddToolbar();else return O};g.tooltips=function(b){return A._t(b)};g.clearAddToolbar=function(){};g.drawAddToolbar=function(){};g.drawLinks=function(){};g.checkCellsEmpty=function(b){if(!b||!b.cells)return!0;var a=R;for(a in b.cells)if(q(b.cells,a))break;return!t(a)};g.deleteCell=function(b){var a;if((a=$(b).data("for"))&&(a=$("#"+a))){b=a.data("i");a=a.data("levels");var d=this.data;if(a){a=(""+a).s("-");for(var e in a)q(a,e)&&(e*=1,d=d.cells[1*a[e]])}d.cells.splice(b,
1);this.change();toastr.success(m.growlSlotDeleted)}};g.add=function(b,a,d){d=$(b).data("levels");b=$(b).attr("data-new-width")||1;var e=this.data;$.colorbox.close();if(t(d)&&!1!==d){if(d){d=(""+d).s("-");for(var g in d)q(d,g)&&(g*=1,e=e.cells[1*d[g]])}"slot"==a?(e.cells.push({width:b,slot:!0,name:this.uniqueRandomName(),flash:!0}),toastr.success(m.growlSlotAdded)):"space"==a?(e.cells.push({width:b,space:!0,css_class:this.randomName(2,"Space_"),flash:!0}),toastr.success(m.growlSpaceAdded)):"grouping"==
a?(e.cells.push({width:b,css_class:this.randomName(2,"Grouping_"),flash:!0,cells:[{width:b,slot:!0,name:this.uniqueRandomName()},{width:b,slot:!0,name:this.uniqueRandomName()}]}),toastr.success(m.growlChildrenAdded)):"grid_break"==a?(e.cells.push({width:e.cols,grid_break:!0,grid_css_class:this.randomName(2,"Grid_"),flash:!0}),toastr.success(m.growlGridBreakAdded)):"grid_break_with_slot"==a&&(e.cells.push({width:e.cols,grid_break:!0,slot:!0,grid_css_class:this.randomName(2,"Grid_"),name:this.uniqueRandomName(),
flash:!0}),toastr.success(m.growlSlotAdded));this.change()}};g.saveProperties=function(b,a){var d;if((d=$(b).data("for"))&&(d=$("#"+d))){var e=d.data("i");d=d.data("levels");var g=this.data;if(d){d=(""+d).s("-");for(var k in d)q(d,k)&&(k*=1,g=g.cells[1*d[k]])}if(g.cells[e].slot){if(a.name){if(a.name!=a.name.r(/[^a-zA-Z0-9_]/g,"")){$("#zenario_grid_error").html(m.gridErrorNameFormat).slideDown();return}if(a.name!=g.cells[e].name&&this.checkIfNameUsed(a.name)){$("#zenario_grid_error").html(m.gridErrorNameInUse).slideDown();
return}}else{$("#zenario_grid_error").html(m.gridErrorNameIncomplete).slideDown();return}delete this.names[g.cells[e].name];this.registerNewName(a.name)}for(var l in a)q(a,l)&&(""!=a[l]?g.cells[e][l]=a[l]:delete g.cells[e][l]);this.change()}$.colorbox.close()};g.randomName=function(b,a){for(var d=a||"Slot_",e=0;e<b;++e)d+="ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(26*Math.random()));return d};g.uniqueRandomName=function(){var b,a=Math.ceil(Math.log(Math.max(this.randomNameCount,2))/Math.log(10));
do b=this.randomName(a);while(this.checkIfNameUsed(b));this.names[b]=!0;++this.randomNameCount;return b};g.checkIfNameUsed=function(b){return t(this.names[b.toLowerCase()])};g.registerNewName=function(b){return this.names[b.toLowerCase()]=b};g.change=function(b,a){b||(this.pos<this.history.length-1&&this.history.splice(this.pos+1,this.history.length-1-this.pos),this.history.push(this.ajaxData()),this.pos=this.history.length-1,this.savedAtPos>=this.pos&&(this.savedAtPos=-1));this.draw(a)};g.undoOrRedo=
function(b){var a=this.pos-b;0>a||a>=this.history.length||(this.pos=a,this.data=JSON.parse(this.history[a]),this.change(!0,1<b))};g.undo=function(){this.undoing=!0;this.undoOrRedo(1);delete this.undoing};g.redo=function(){this.undoOrRedo(-1)};g.revert=function(){this.undoOrRedo(0)};g.canUndo=function(){return 0<this.pos};g.canRedo=function(){return this.pos<this.history.length-1};g.microTemplate=function(b,a,d){var e;e=A._aLP(a,this);b=G._mT(b,a,d);e&&A._tLP(a);return b}})},window.zenarioG=zenario._cZL("G",
void 0,function(){this.initVars()}));
