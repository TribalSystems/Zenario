zenario.lib(function(Q,S,J,T,U,V,A,W,F,X,Y,ba,ca,s,B,Z,C,da,m,ea,K,r,L){var g=K(L);F.lib(function(K,l,L,T,U,R,V,W,X,Y,aa){g.initVars=function(){this.editing=!1;this.data={};this.openedSkinId=this.layoutName="";this.history=[];this.savedAtPos=this.pos=0;this.lastIframeHeight=360;this.bodyPadding=0;this.desktopSmallestSize=800;this.previewPaddingLeftRight=75;this.gridAreaSmallestHeight=150;this.tabletWidth=768;this.mobileWidth=320;this.lastToast=!1;this.gridId="..."};g.init=function(b,a){this.initVars();
this.gridId=a;this.data="object"==typeof b?b:JSON.parse(b);this.checkDataR(this.data.cells);this.rememberNames(this.data.cells)};g.checkDataNonZero=function(b,a,d,f,g){1*a[d]||(a[d]=f,b=!0);a[d]=Math.round(a[d]);a[d]<=g&&(a[d]=f,b=!0);return b};g.checkDataNumeric=function(b,a,d,f,g){g||(g=1);s(a[d])&&1*a[d]==a[d]||(a[d]=f,b=!0);0>g?(g*=-1,a[d]=Math.round(a[d]*g)/g):a[d]=Math.round(a[d]/g)*g;0>a[d]&&(a[d]=f,b=!0);return b};g.checkDataNonZeroAndNumeric=function(b,a){var d=!1,f=!1;a=this.checkDataNonZero(a,
b,"cols",10,0);d=this.checkDataNonZero(d,b,"colWidth",60,1);this.checkDataNonZero(f,b,"minWidth",600,100);a=this.checkDataNonZero(a,b,"maxWidth",960,100);this.checkDataNumeric(a,b,"bp1",0,1);this.checkDataNumeric(a,b,"bp2",0,1);d=this.checkDataNumeric(d,b,"gutter",40);d=this.checkDataNumeric(d,b,"gutterLeftEdge",0);d=this.checkDataNumeric(d,b,"gutterRightEdge",0);this.checkDataNumeric(a,b,"gutterFlu",1,-10);this.checkDataNumeric(a,b,"gutterLeftEdgeFlu",0,-10);f=this.checkDataNumeric(a,b,"gutterRightEdgeFlu",
0,-10);100<b.gutterFlu*(b.cols-1)+b.gutterLeftEdgeFlu+b.gutterRightEdgeFlu&&(b.gutterFlu=0,b.gutterLeftEdgeFlu=0,b.gutterRightEdgeFlu=0,f=!0);b.minWidth>b.maxWidth&&(b.minWidth=b.maxWidth,f=!0);return a||(b.fluid?f:d)};g.checkDataR=function(b){var a,d,f;for(a=0;a<b.length;++a)if(b[d=a].grid_break_group&&b[d].cells){for(f in b[d].cells)r(b[d].cells,f)&&b.splice(++a,0,b[d].cells[f]);delete b[d].cells;b[a+1]&&(b[a+1].grid_break||b[a+1].grid_break_group)||(b.splice(++a,0,{grid_break:!0,grid_css_class:this.randomName(2,
"Grid_"),html:b[d].after}),delete b[d].after);b[d].grid_break=!0;b[d].grid_css_class=b[d].name||this.randomName(2,"Grid_");delete b[d].name;delete b[d].grid_break_group}for(a=0;a<b.length;++a)!b[a].name||b[a].cells||b[a].grid_break||b[a].grid_break_group||b[a].space||(b[a].slot=!0);for(a=0;a<b.length;++a)d=[],b[a].responsive?b[a].small="hide":b[a].first&&(b[a].small="first"),delete b[a].responsive,delete b[a].first,b[a].custom_class&&(d.push(b[a].custom_class),delete b[a].custom_class),b[a].name&&
(b[a].space||b[a].cells)&&(d.push(b[a].name),delete b[a].name),d.length&&b[a].css_class&&d.push(b[a].css_class),d.length&&(b[a].css_class=d.join(" ")),b[a].cells?(delete b[a].html,delete b[a].after,delete b[a].before,this.checkDataR(b[a].cells)):b[a].name?(delete b[a].after,delete b[a].before):(d=[],b[a].after&&(d.push(b[a].after),delete b[a].after),b[a].before&&(d.push(b[a].before),delete b[a].before),d.length&&(b[a].html=d.join(" ")))};g.ajaxData=function(){return JSON.stringify(this.data)};g.rememberNames=
function(b){for(var a=0;a<b.length;++a)b[a].cells?this.rememberNames(b[a].cells):b[a].name&&(b[a].oName=b[a].name)};g.checkData=function(b,a){var d;this.data?_._isAr(this.data)?(this.data={cells:this.data},a&&(d=1*a.r(/\D/g,""))&&(this.data.cols=d)):this.data.cells||(this.data.cells=[]):this.data={cells:[]};this.data.fluid&&!s(this.data.gutterFlu)&&s(this.data.gutter)?(this.checkDataNonZeroAndNumeric(this.data),d=this.data.gutterLeftEdge+this.data.cols*this.data.colWidth+(this.data.cols-1)*this.data.gutter+
this.data.gutterRightEdge,this.data.minWidth=960<d?960:760<d?760:d,this.data.maxWidth=d,this.data.gutterFlu=Math.round(1E3*(this.data.gutter/d))/10,this.data.gutterLeftEdgeFlu=Math.round(1E3*(this.data.gutterLeftEdge/d))/10,this.data.gutterRightEdgeFlu=Math.round(1E3*(this.data.gutterRightEdge/d))/10):this.data.fluid||s(this.data.gutter)||!s(this.data.gutterFlu)||(this.checkDataNonZeroAndNumeric(this.data),d=this.data.maxWidth,this.data.gutter=Math.round(this.data.gutterFlu*d/100),this.data.gutterLeftEdge=
Math.round(this.data.gutterLeftEdgeFlu*d/100),this.data.gutterRightEdge=Math.round(this.data.gutterRightEdgeFlu*d/100),this.data.colWidth=(d-(this.data.gutterLeftEdge+(this.data.cols-1)*this.data.gutter+this.data.gutterRightEdge))/this.data.cols,(d=this.recalcColumnAndGutterOptions(this.data,!0,d))?(this.data.colWidth=d.colWidth,this.data.gutter=d.gutter):(delete this.data.colWidth,delete this.data.gutter));this.checkDataNonZeroAndNumeric(this.data);this.data.fluid?(delete this.data.gutter,delete this.data.gutterLeftEdge,
delete this.data.gutterRightEdge,delete this.data.colWidth):(delete this.data.gutterFlu,delete this.data.gutterLeftEdgeFlu,delete this.data.gutterRightEdgeFlu);this.history.length||(this.pos=0,this.history=[this.ajaxData()])};g.draw=function(b){this.drawEditor()};g.cellLabel=function(b){return b.name};g.drawEditor=function(b,a,d,f,g,k,x,u,D,t,A){var h=this,v=0,F=0;if(d&&s(d[0])){data=h.data;for(var q in d)r(d,q)&&(q*=1,v=q+1,data=data.cells[d[q]])}else F=$("#"+h.gridId).scrollTop(),h.checkData(),
data=h.data,v=0,d=[],h.names={},h.randomNameCount=0;s(b)||(b=h.gridId);s(f)||(f=h.data.cols);s(g)||(h.data.fluid?(A=h.data.gutterFlu,t=(100-h.data.gutterLeftEdgeFlu-(h.data.cols-1)*h.data.gutterFlu-h.data.gutterRightEdgeFlu)/h.data.cols,k=Math.round(h.data.gutterFlu*h.data.maxWidth/100),x=Math.round(h.data.gutterLeftEdgeFlu*h.data.maxWidth/100),u=Math.round(h.data.gutterRightEdgeFlu*h.data.maxWidth/100),D=k,g=Math.round(t*h.data.maxWidth/100)):(A=t=0,k=h.data.gutter,x=h.data.gutterLeftEdge,u=h.data.gutterRightEdge,
D=k,g=h.data.colWidth));var e="";q={};var p,N=1,c=data.cells,n=h.gridId+"__cell"+d.join("-"),w=g+k,y=f*w,G=0,H=0,O=0,P=0,I=Math.ceil(k/2),E=Math.floor(k/2),K=Math.ceil(D/2),L=Math.floor(D/2);x>=I?G=x-I:y-=O=I-x;u>=E?H=u-E:y-=P=E-u;e=0==v?e+('<div class="zenario_overflow_wrap" style="width: '+y+'px; overflow-x: hidden;">')+('<ul id="'+n+'s" class="zenario_grids" style="width: '+(y+Math.abs(E-u)+1)+"px;"):e+('<ul id="'+n+'s" class="zenario_grids" style="width: '+y+"px;");G&&(e+="padding-left: "+G+"px;");
H&&(e+="padding-right: "+H+"px;");0==v&&(e+="background: white top left repeat-y url("+C(S)+"zenario/admin/grid_maker/grid_bg.php?gColWidth="+g+"&gCols="+f+"&gGutter="+k+"&gGutterLeftEdge="+x+"&gGutterRightEdge="+u+");",h.gGutterLeftEdge=x,h.gGutterLeft=I,h.gGutterRight=E,h.gGutterRightEdge=u,h.gColAndGutterWidth=w,h.typAddSlot=2*w-k,h.typAddBreak=f*w-k);e+='">';0<v&&"zenarioSD"!=h.globalName&&(e+=l("class","zenario_grid_object_properties",l(R("data-type","grouping","data-for",a,"data-small",data.small,
"data-is_full",B(data.isAlpha&&data.atRightEdge),"data-is_last",B(!data.isAlpha&&data.isOmega),"data-css_class",data.css_class,"title",m.gridEditProperties,data.css_class?C(data.css_class):m.gridEditPlaceholder)))+"<br/>");c||(c=[]);for(a=c.length-1;0<=a;--a)c[a].cells&&h.checkCellsEmpty(c[a])&&c.splice(a,1);p=f;var z=!1;for(a in c)if(r(c,a)){c[a].width=c[a].grid_break?f:Math.min(f,c[a].width||1);p+=c[a].width;if(c[a].width==f||0==p%f)c[a].atRightEdge=!0;p>f&&(p=c[a].width,!1!==z&&(c[z].isOmega=!0),
c[a].isAlpha=!0);z=a}!1!==z&&(c[z].isOmega=!0);0==v&&Math.max(1,Math.round(f/5));for(a in c)if(r(c,a)){h.data.responsive&&("first"!=c[a].small||!c[a].isAlpha&&c[a].isOmega||delete c[a].small,"only"!=c[a].small||c[a].isAlpha&&c[a].isOmega||delete c[a].small);c[a].widthPx=c[a].width*w-(c[a].isAlpha?O:0)-(c[a].atRightEdge?P:0);c[a].widthPercent=c[a].width*t+(c[a].width-1)*A;c[a].marginLeft=c[a].isAlpha&&O?x:I;c[a].marginRight=c[a].atRightEdge&&P?u:E;e+=aa("id",n+"-"+a,"data-i",a,"data-level",v,"data-levels",
d.join("-"),"data-gutter",k,"data-minwidth",1*w-k,"data-maxwidth",w*f-k,"data-is_alpha",B(c[a].isAlpha),"data-is_omega",B(c[a].isOmega),"data-at_right_edge",B(c[a].atRightEdge),"data-col_and_gutter_width",w,"data-displayed_width",c[a].width*w-k,"data-displayed_margin_left",c[a].marginLeft," ");p="";c[a].grid_break||"only"==c[a].small||(p="zenario_grid_cell_resizable");e+=' class="zenario_grid_cell '+p+" zenario_grid_cell__"+n;c[a].flash&&!h.undoing&&(delete c[a].flash,e+=" zenario_grid_newly_added");
e=c[a].cells?e+' zenario_grid_nest"':c[a].space?e+' zenario_grid_space_cell"':e+' zenario_grid_slot"';e+=' style="width: '+c[a].widthPx+'px;">';c[a].grid_break&&(e+=l("class","zenario_grid_break_outer_wrap",">"));p="margin-left: "+c[a].marginLeft+"px; margin-right: "+c[a].marginRight+"px;";if(c[a].cells)e+=l("id",n+"-"+a+"-span","class","zenario_grid_wrap");else{if(c[a].slot)c[a].name?h.checkIfNameUsed(c[a].name)||(h.registerNewName(c[a].name),++h.randomNameCount):c[a].name=h.uniqueRandomName(),z=
h.cellLabel(c[a]),"zenarioSD"==h.globalName&&_._isEm(h.cellLabel(c[a]))&&(z=m.gridNoPluginMessage),e+=l("class","zenario_grid_border zenario_cell_in_grid zenario_grid_gutter "+(c[a].grid_break?"zenario_grid_break zenario_grid_break_with_slot":""),"style",p,">"),e+=l("class","zenario_grid_name_area",l("class","zenario_grid_delete","title",m.gridDelete,"data-for",n+"-"+a,"style","right: "+c[a].marginRight+"px;")+l("class","zenario_grid_faux_block_t")+l("class","zenario_grid_object_properties",l(R("data-type",
c[a].grid_break?"grid_break_with_slot":"slot","data-for",n+"-"+a,"data-name",c[a].name,"data-small",c[a].small,"data-height",c[a].height,"data-is_full",B(c[a].isAlpha&&c[a].atRightEdge),"data-is_last",B(!c[a].isAlpha&&c[a].isOmega),"data-css_class",c[a].css_class,"title",m.gridEditProperties,"data-grid_css_class",c[a].grid_break&&c[a].grid_css_class,C(z)+(c[a].height&&"small"!=c[a].height?" ("+c[a].height+")":""))))),e+=l("class","zenario_grid_faux_block_r"),e+=l("class","zenario_grid_cell_size",
">"),c[a].grid_break||(p=c[a].width*w-k,e=h.data.fluid?v?e+(Math.round(c[a].widthPercent)+"%"):e+(Math.round(10*c[a].widthPercent)/10+"%"):e+(p+"px")),e+="</div>",e+=l("class","zenario_grid_faux_block_t");else var e=e+l("class","zenario_cell_in_grid zenario_grid_gutter "+(c[a].grid_break?"zenario_grid_break zenario_grid_break_no_slot":"zenario_grid_space"),"style",p,"title",c[a].grid_break?m.gridGridBreak:m.gridEmptySpace,">"),e=e+l("class","zenario_grid_delete","title",m.gridDelete,"data-for",n+
"-"+a,"style","right: "+c[a].marginRight+"px;"),e=e+l("&nbsp;"),e=e+l("&nbsp;"),e=e+('<div class="zenario_grid_object_properties"><div><span data-type="'+(c[a].grid_break?"grid_break":"space")+'" data-for="'+n+"-"+a+'" data-html="'+C(c[a].html)+'"'),M,e=c[a].grid_break?e+(' data-grid_css_class="'+C(M=c[a].grid_css_class)+'"'):e+(' data-css_class="'+C(M=c[a].css_class)+'"'),e=e+(' title="'+m.gridEditProperties+'">'+(M?C(M):m.gridEditPlaceholder)+"</span></div></div>");e+="</div>"}c[a].grid_break&&
(e+="</div>");e+="</li>"}e+="</ul>";0==v&&(e+="</div>");$(".ui-tooltip").remove();Z(b).innerHTML=e;p=0;for(a in c)if(r(c,a)){a*=1;c[a].cells&&(k=g,t=c[a].width,d.push(a),k=h.drawEditor(n+"-"+a+"-span",n+"-"+a,d,t,k,D,c[a].isAlpha?x-G:K,c[a].atRightEdge?u-H:L,D,c[a].widthPercent/t,0),d.pop(),1<k&&(c[a].width=Math.max(c[a].width,k)));N=Math.max(N,c[a].width);delete c[a].isAlpha;delete c[a].isOmega;delete c[a].atRightEdge;delete c[a].widthPx;delete c[a].widthPercent;delete c[a].marginLeft;delete c[a].marginRight;
p+=c[a].width;if(p>f){t=k=0;for(k in q)r(q,k)&&(t=Math.max(t,$("#"+n+"-"+k).height()));for(k in q)r(q,k)&&$("#"+n+"-"+k).height(t);p=c[a].width;q={}}q[a]=!0}t=k=0;for(k in q)r(q,k)&&(t=Math.max(t,$("#"+n+"-"+k).height()));for(k in q)r(q,k)&&$("#"+n+"-"+k).height(t);$("#"+n+"s").disableSelection();$("#"+n+"s").sortable({cancel:"a,button,input,select",placeholder:"zenario_grid_cell zenario_grid_sortable_target",sort:function(a,b){var d=$(".zenario_grid_sortable_target"),c=b.item.data("add"),e,f,g;$(".zenario_overflow_wrap").scrollLeft(0);
if(s(c)){f=70;switch(c){case "grid_break":case "grid_break_with_slot":e=h.typAddBreak;break;default:e=h.typAddSlot}c=d.next();c.length||(c=d.prev());c.length&&(f=c.height()-10);d.height(f).width(e).css("margin-left",0).css("margin-right",0).html(l());c=d.next();c.hasClass("ui-draggable")&&(c=!1);g=d.offset().left<h.gColAndGutterWidth;e=!c||!c.offset()||c.offset().left<d.offset().left;f=!!(c&&1*c.data("is_alpha"));c&&c.data("at_right_edge");c=g?h.gGutterLeftEdge:h.gGutterLeft;g=e?h.gGutterRightEdge:
h.gGutterRight;f&&(g+=h.gGutterLeft-h.gGutterLeftEdge);d.css("margin-left",c).css("margin-right",g)}else e=b.item.width(),f=b.item.height(),c=1*b.item.data("displayed_margin_left"),g=e-c-1*b.item.data("displayed_width"),d.height(f),f-=24,d.width(e).html(l("style","margin: 10px "+g+"px 14px "+c+"px; height: "+f+"px;"))},items:"li.zenario_grid_cell__"+n,connectWith:".zenario_grids",start:function(a,b){h.stopRenames=!0},stop:function(a,b){var c,e,f=h.data,g=b.item.data(),k=b.item.prev().data();b.item.prev().data();
var l=b.item.parent().parent().parent().data(),p,n,q;l&&s(l.level)||(l=Q);if(!g.add&&(p=g.i,n=f,1*g.level))for(c in d=(""+g.levels).s("-"),d)r(d,c)&&(e=d[c],n=n.cells[1*e]);k=k?k.i+1:0;q=f;if(l)for(c in d=""!=l.levels?(l.levels+"-"+l.i).s("-"):[l.i],d)r(d,c)&&(e=d[c],q=q.cells[1*e]);c=p==k;if(e=n===q){if(c)return;k>p&&--k}if(e||!n||!n.cells[p].grid_break){switch(g.add){case "slot":f={width:2,slot:!0,name:h.uniqueRandomName(),flash:!0};msg=m.growlSlotAdded;l&&"zenarioSD"==h.globalName&&(f.width=q.width);
break;case "space":f={width:2,space:!0,css_class:h.randomName(2,"Space_"),flash:!0};msg=m.growlSpaceAdded;break;case "grouping":if(l&&"zenarioSD"==h.globalName){h.change();return}f={width:2,css_class:h.randomName(2,"Grouping_"),flash:!0,cells:[{width:2,slot:!0,name:h.uniqueRandomName()},{width:2,slot:!0,name:h.uniqueRandomName()}]};msg=m.growlChildrenAdded;break;case "grid_break":if(l){h.change();return}f={width:f.cols,grid_break:!0,grid_css_class:h.randomName(2,"Grid_"),flash:!0};msg=m.growlGridBreakAdded;
break;case "grid_break_with_slot":if(l){h.change();return}f={width:f.cols,grid_break:!0,slot:!0,grid_css_class:h.randomName(2,"Grid_"),name:h.uniqueRandomName(),flash:!0};msg=m.growlSlotAdded;break;default:f=n.cells.splice(p,1)[0],msg=m.growlSlotMoved}q.cells.splice(k,0,f);toastr.success(msg)}h.change()}});if(0==v)$("#"+b+" .zenario_grid_cell_resizable").each(function(a,b){var c=$(b),d=c.width()-1*c.data("displayed_width"),e=1*c.data("col_and_gutter_width"),f=1*c.data("displayed_margin_left"),g=1*
c.data("minwidth"),k=1*c.data("maxwidth");c.data("level");c.resizable({cancel:"a,button,input,select",handles:"se",grid:e,minHeight:c.height(),maxHeight:c.height(),minWidth:Math.floor(g-0.5*e+1),maxWidth:Math.floor(k+0.5*e-1),helper:"ui-resizable-helper",start:function(a,b){c.hasClass("zenario_grid_nest")?$(J.body).addClass("zenario_grid_resizing_nest").removeClass("zenario_grid_resizing_cell").removeClass("zenario_grid_resizing_space_cell"):c.hasClass("zenario_grid_space_cell")?$(J.body).removeClass("zenario_grid_resizing_nest").removeClass("zenario_grid_resizing_cell").addClass("zenario_grid_resizing_space_cell"):
$(J.body).removeClass("zenario_grid_resizing_nest").addClass("zenario_grid_resizing_cell").removeClass("zenario_grid_resizing_space_cell")},resize:function(a,b){var c=b.helper.width(),e=b.element.width(),g=c-d,k="";c!=e&&(k=h.data.fluid?k+("~"+Math.round(100*g/h.data.maxWidth)+"%"):k+(g+"px"));b.helper.html(l("class","zenario_resizing_border","style","height: "+(b.helper.height()-4)+"px; width: "+(g-4)+"px; margin-left: "+f+"px;",l("class","zenario_size_when_resizing",k)))},stop:function(a,b){$(J.body).removeClass("zenario_grid_resizing_nest").removeClass("zenario_grid_resizing_cell").removeClass("zenario_grid_resizing_space_cell");
var d=1*b.element.data("i"),f=h.getLevels(b.element),g=h.data;if(f){var f=f.s("-"),k;for(k in f)r(f,k)&&(k*=1,g=g.cells[1*f[k]])}var f=g.cells[1*d],l=f.width,m=f.width=Math.round((b.element.width()+c.data("gutter")/2)/e),n=function(a){if(a){var b,c;for(b in a)if(r(a,b)){c=a[b];if(c.width==l||c.width>m)c.width=m;n(c.cells)}}};n(g.cells[d].cells);h.change()}})}),$("#"+b+" .ui-resizable-handle").each(function(a,b){var c=$(b),d=c.prev(),e=d.children().first();e&&e.length&&e.hasClass("zenario_grids")?
(c.css("right","-2px"),c.css("top",d.height()-12+"px"),c.attr("title",m.gridResizeNestedCells)):(c.css("right",1*d.css("marginRight").r(/\D/g,"")),c.css("top",d.height()+10+2+10+10+2-19+"px"),c.attr("title",m.gridResizeSlot),"zenarioSD"==h.globalName&&1==c.parent().data("level")&&c.remove())}),$("#"+b).width(y+G+H).addClass("zenario_grid_wrapper"),h.tooltips("#"+b),$("#"+b+" .zenario_grid_delete").click(function(){h.deleteCell(this)}),$("#"+b+" .zenario_grid_object_properties span").click(function(){h.stopRenames||
h.editProperties(this)}),setTimeout(function(){delete h.stopRenames},100),h.drawLinks(),$("#"+b+" .zenario_grid_newly_added .zenario_cell_in_grid").effect({effect:"highlight",duration:1E3,easing:"zenarioOmmitEnd"}),$("#"+h.gridId).scrollTop(F),h.drawAddToolbar();else return N};g.tooltips=function(b){return A._t(b)};g.clearAddToolbar=function(){};g.drawAddToolbar=function(){};g.drawLinks=function(){};g.checkCellsEmpty=function(b){if(!b||!b.cells)return!0;var a=Q;for(a in b.cells)if(r(b.cells,a))break;
return!s(a)};g.deleteCell=function(b){var a;if((a=$(b).data("for"))&&(a=$("#"+a))){b=a.data("i");a=this.getLevels(a);var d=this.data;if(a){a=a.s("-");for(var f in a)r(a,f)&&(f*=1,d=d.cells[1*a[f]])}d.cells.splice(b,1);this.change();toastr.success(m.growlSlotDeleted)}};g.add=function(b,a,d){d=$(b);b=this.getLevels(d);d=d.attr("data-new-width")||1;var f=this.data;$.colorbox.close();if(s(b)&&!1!==b){if(b){b=b.s("-");for(var g in b)r(b,g)&&(g*=1,f=f.cells[1*b[g]])}"slot"==a?(f.cells.push({width:d,slot:!0,
name:this.uniqueRandomName(),flash:!0}),toastr.success(m.growlSlotAdded)):"space"==a?(f.cells.push({width:d,space:!0,css_class:this.randomName(2,"Space_"),flash:!0}),toastr.success(m.growlSpaceAdded)):"grouping"==a?(f.cells.push({width:d,css_class:this.randomName(2,"Grouping_"),flash:!0,cells:[{width:d,slot:!0,name:this.uniqueRandomName()},{width:d,slot:!0,name:this.uniqueRandomName()}]}),toastr.success(m.growlChildrenAdded)):"grid_break"==a?(f.cells.push({width:f.cols,grid_break:!0,grid_css_class:this.randomName(2,
"Grid_"),flash:!0}),toastr.success(m.growlGridBreakAdded)):"grid_break_with_slot"==a&&(f.cells.push({width:f.cols,grid_break:!0,slot:!0,grid_css_class:this.randomName(2,"Grid_"),name:this.uniqueRandomName(),flash:!0}),toastr.success(m.growlSlotAdded));this.change()}};g.getLevels=function(b){b=b.data("levels");return s(b)?""+b:""};g.saveProperties=function(b,a){var d;if((d=$(b).data("for"))&&(d=$("#"+d))){var f=d.data("i");d=this.getLevels(d);var g=this.data;if(d){d=d.s("-");for(var k in d)r(d,k)&&
(k*=1,g=g.cells[1*d[k]])}if(g.cells[f].slot){if(a.name){if(a.name!=a.name.r(/[^a-zA-Z0-9_]/g,"")){$("#zenario_grid_error").html(m.gridErrorNameFormat).slideDown();return}if(a.name!=g.cells[f].name&&this.checkIfNameUsed(a.name)){$("#zenario_grid_error").html(m.gridErrorNameInUse).slideDown();return}}else{$("#zenario_grid_error").html(m.gridErrorNameIncomplete).slideDown();return}delete this.names[g.cells[f].name];this.registerNewName(a.name)}for(var l in a)r(a,l)&&(""!=a[l]?g.cells[f][l]=a[l]:delete g.cells[f][l]);
this.change()}$.colorbox.close()};g.randomName=function(b,a){for(var d=a||"Slot_",f=0;f<b;++f)d+="ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(26*Math.random()));return d};g.uniqueRandomName=function(){var b,a=Math.ceil(Math.log(Math.max(this.randomNameCount,2))/Math.log(10));do b=this.randomName(a);while(this.checkIfNameUsed(b));this.names[b]=!0;++this.randomNameCount;return b};g.checkIfNameUsed=function(b){return s(this.names[b.toLowerCase()])};g.registerNewName=function(b){return this.names[b.toLowerCase()]=
b};g.change=function(b,a){b||(this.pos<this.history.length-1&&this.history.splice(this.pos+1,this.history.length-1-this.pos),this.history.push(this.ajaxData()),this.pos=this.history.length-1,this.savedAtPos>=this.pos&&(this.savedAtPos=-1));this.draw(a)};g.undoOrRedo=function(b){var a=this.pos-b;0>a||a>=this.history.length||(this.pos=a,this.data=JSON.parse(this.history[a]),this.change(!0,1<b))};g.undo=function(){this.undoing=!0;this.undoOrRedo(1);delete this.undoing};g.redo=function(){this.undoOrRedo(-1)};
g.revert=function(){this.undoOrRedo(0)};g.canUndo=function(){return 0<this.pos};g.canRedo=function(){return this.pos<this.history.length-1};g.microTemplate=function(b,a,d){var f;f=A._aLP(a,this);b=F._mT(b,a,d);f&&A._tLP(a);return b}})},window.zenarioG=zenario._cZL("G",void 0,function(){this.initVars()}));
