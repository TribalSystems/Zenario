zenario.lib(function(l,J,S,h,A,y,k,n,t,V,a,m,s,w,u,K,q,W,X){a.getItemLinkTimeoutTime=7E3;a.yourWorkInProgressLastUpdateFrequency=6E4;a.yourWorkInProgressItemCount=10;a.numberOfAdvancedSearches=8;a.itemDoubleClickTime=500;a.searchDelayTime=700;a.firstLoaded=!1;a.defaultColumnWidth=150;a.columnsExtraSpacing=1;a.columnSpacing=1;a.columnPadding=10;a.columnWidths={xxsmall:45,xsmall:75,small:100,medium:150,large:225,xlarge:350,xxlarge:500};a.pi=!1;a.panelTypes={};a.inspectionView=!1;a.defaultPath="zenario__content/panels/content";
a.defaultPathInIframePreload="loading_message/panel";a.inInspectionView=function(b){if(!a.inspectionViewEnabled())return a.inspectionView=!1;if(b===l)return a.inspectionView;!1===b?a.inspectionView=a.inspectionViewItem=!1:(a.inspectionView=!0,a.inspectionViewItem=b);a.setHash()};a.inspectionViewItemId=function(){return a.inInspectionView()?a.inspectionViewItem:!1};a.inspectionViewEnabled=function(){return a.pi&&a.pi.returnInspectionViewEnabled()};a.toggleInspectionView=function(b){a.inspectionViewEnabled()&&
a.pi.toggleInspectionView(b)};a.openInspectionView=function(b){a.inspectionViewEnabled()&&a.pi.openInspectionView(b)};a.closeInspectionView=function(b){a.inspectionViewEnabled()&&a.pi.closeInspectionView(b)};a.open=function(b,c,d,e,f,g,r,k,l,h,m,s,p){a.topLeftHTML||(a.topLeftHTML="");a.topRightHTML||(a.topRightHTML='<div class="organizer_close_button"><a onclick="zenarioO.closeSelectMode();"></a></div>');var t=n.microTemplate("zenario_organizer",{topLeftHTML:a.topLeftHTML,topRightHTML:a.topRightHTML});
n.openBox(t,b,"og",c,d,e,f,g,r,k,l,h,m,s,p)};a.init=function(b){if(!a.map||b){n.showAJAXLoader();a.pageTitle=S.title;a.showLeftColumn=h.zenarioONotFull?!1:!0;a.setSearch(l);a.checkPrefs();try{if(n.openedInIframe&&self.parent&&self.parent.zenarioO&&self.parent.zenarioO.map&&self.parent.zenarioA.moduleCodeHash===n.moduleCodeHash&&self.parent.zenarioCSSJSVersionNumber===h.zenarioCSSJSVersionNumber){a.map=self.parent.zenarioO.map;a.init2();return}if(A&&A.zenarioO&&A.zenarioO.map&&A.zenarioA.moduleCodeHash===
n.moduleCodeHash&&A.zenarioCSSJSVersionNumber===h.zenarioCSSJSVersionNumber){a.map=A.zenarioO.map;a.init2();return}if(A&&A.zenario&&A.zenario.get&&A.zenario.get("zenario_sk_iframe")&&A.zenario.get("zenario_sk_iframe").contentWindow&&A.zenario.get("zenario_sk_iframe").contentWindow.zenarioO&&A.zenario.get("zenario_sk_iframe").contentWindow.zenarioO.map&&A.zenario.get("zenario_sk_iframe").contentWindow.zenarioA.moduleCodeHash===n.moduleCodeHash&&A.zenario.get("zenario_sk_iframe").contentWindow.zenarioCSSJSVersionNumber===
h.zenarioCSSJSVersionNumber){a.map=A.get("zenario_sk_iframe").contentWindow.zenarioO.map;a.init2();return}}catch(c){}var d=J+"zenario/admin/ajax.php?_json=1";(a.map=k.checkSessionStorage(d,{},!0))?a.init2():n.keepTrying(function(b){$.ajax({url:d,dataType:"text"}).fail(function(a,c,d){n.stopTrying(b)&&n.AJAXErrorHandler(a,c,d)}).done(function(c){n.stopTrying(b)&&(a.map=n.readData(c,d,{}))&&a.init2()})})}};a.init2=function(){a.lookForBranches(a.map);n.tooltips();a.createSortArrayTopLevel("sortedTopLevelItems");
a.setNavigation();n.canDoHTML5Upload()&&(m("organizer_rightColumn").addEventListener("dragover",function(){$("#organizer_rightColumn").addClass("dragover")},!1),m("organizer_rightColumn").addEventListener("dragleave",function(){$("#organizer_rightColumn").removeClass("dragover")},!1));a.checkQueue()||n.openedInIframe||a.go()};a.prefs={};a.prefsChecksum="{}";a.previousPrefChecksums={"{}":!0};a.checkPrefs=function(){var b,c=J+"zenario/admin/quick_ajax.php?_manage_prefs=1",d=k.nonAsyncAJAX(c+"&_get_checksum=1",
!0,!1);return d&&d!=a.prefsChecksum&&!a.previousPrefChecksums[d]&&(b=k.nonAsyncAJAX(c+"&_load_prefs=1",!0,!0))&&b?(a.prefs=b,a.previousPrefChecksums[a.prefsChecksum=d]=!0,!1):!0};a.savePrefs=function(b){var c={_manage_prefs:1,_save_prefs:1,prefs:JSON.stringify(a.prefs)};a.previousPrefChecksums[a.prefsChecksum=c.checksum=hex_md5(c.prefs)]=!0;$.ajax({type:"POST",async:!b,dataType:"text",url:J+"zenario/admin/quick_ajax.php",data:c,success:function(a){a&&n.showMessage(a)}})};a.shortenPath=function(a){return a};
a.implodeKeys=function(a){var c="",d;for(d in a)k.has(a,d)&&(c+=(c?",":"")+d);return c};a.initNewPanelInstance=function(b){var c=a.followPathOnMap(b,"panel_type");panelInstance=c&&a.panelTypes[c]?new a.panelTypes[c]:new a.panelTypes.list;panelInstance.cmsSetsPath(b);panelInstance.init();return panelInstance};a.checkQueue=function(b){var c;if(c=a.checkQueueLength()){var d="",e=h.zenarioOQueue.shift();e.selectedItems&&(d=a.implodeKeys(e.selectedItems),a.pi&&a.branches[a.branches.length-1].panel_instances[a.path]||
(a.pi=a.branches[a.branches.length-1].panel_instances[a.path]=a.initNewPanelInstance(a.path)),a.pi.cmsSetsSelectedItems(e.selectedItems));e.refinerName&&(e.refiner={name:e.refinerName,id:d});a.go(e.path,e.branch,e.refiner,!0,!--c,l,l,l,b);return!0}return!1};a.checkQueueLength=function(){return h.zenarioOQueue?h.zenarioOQueue.length:0};a.reloadOpeningInstanceIfRelevant=function(b){a.checkQueueLength()||(b!=h.zenarioOOpeningPath||!h.zenarioOOpeningInstance&&"zenarioAT"!=h.zenarioOReloadOnChanges||(b=
"",h.zenarioOOpeningInstance&&(b=h.zenarioOOpeningInstance+"!_refresh="+(""+Math.random()).replace(".","")),"zenarioAT"==h.zenarioOReloadOnChanges&&(b+="&__zenario_reload_at__="+(""+Math.random()).replace(".","")),A&&A.zenario?h.opener.document.location.hash=b:y&&y.zenario&&(h.parent.document.location.hash=b)),"zenarioO"==h.zenarioOReloadOnChanges&&y&&y.zenarioO&&y.zenarioO.init&&y.zenarioO.reload())};a.callPanelOnUnload=function(){if(a.path&&a.pi&&a.pi.onUnload){var b=$("#organizer_header"),c=$("#organizer_rightColumnContent"),
d=$("#organizer_lowerMiddleColumn");a.pi.onUnload(b,c,d)}};a.pathNotAllowed=function(b){return b&&h.zenarioONotFull&&!1!==h.zenarioOMaxPath&&a.path==h.zenarioOMaxPath&&b.path!=a.path};a.goNum=0;a.loadNum=0;a.lastSuccessfulGoNum=0;a.go=function(b,c,d,e,f,g,r,v,U,I,C,t){C||(a.lastActivity=Date.now());if(n.storekeeperWindow||n.checkIfBoxIsOpen("og")){if(a.stop)return!1;if(a.map){a.callPanelOnUnload();e||(h.zenarioOQueue=!1);if(C=b){var p=b.split("//"),q=p.length;if(2<q){v=l;t=!1;var w;for(r=0;r<q-1;r+=
2){var u;0==r?(u=a.getFromToFromLink(p[0]),h.zenarioOQueue=[{path:u.from,branch:-1}]):(u="/"==p[r].substr(0,1)?p[r].substr(1):w.to+"/"+p[r],u=a.getFromToFromLink(u),w.to!=u.from&&h.zenarioOQueue.push({path:u.from}));e={};if(p[r+1]){f=p[r+1].split(",");for(var z in f)k.has(f,z)&&(e[f[z]]=!0)}f=!1;u.refiner&&(f=u.refiner);var y=u.to;if(!y)return n.showMessage('The requested path "'+C+'" was not found in the system. If you have just updated or added files to the CMS, you will need to reload the page.',
l,"error",!1,!0),!1;r+2==q-1&&(y+="//"+p[r+2]);h.zenarioOQueue.push({path:y,branch:!0,selectedItems:e,refinerName:f});w=u}a.checkQueue(!0);return}2==q?(v=l,t=!1,b=p[0],-1==p[1].indexOf(",")&&(v=p[1])&&(q=v.length-1,"/"==v.substr(q)&&(v=v.substr(0,q),t=!0))):v||(t=!1);b=a.shortenPath(b)}b||(b=h.zenarioONotFull?a.defaultPathInIframePreload:a.defaultPath,t=!1);if(!a.followPathOnMap(b))return n.showMessage('The requested path "'+C+'" was not found in the system. If you have just updated or added files to the CMS, you will need to reload the page.',
l,"error",!1,!0),!1;var A=++a.goNum;U||++a.loadNum;var P=!1,E=!1,G=a.loadFromBranches(b,c,"filters"),J=a.loadFromBranches(b,c,"searches"),R=a.loadFromBranches(b,c,"adv_searches");C=z=!1;var L=b;d===l&&(d=a.loadRefiner(b,c));if(!d&&s(a.followPathOnMap(b,"refiner_required")))n.showMessage("A refiner was required, but none was set.",!0,error);else{var B={},p=a.branches.length-1;if(-1!==c){E=a.loadFromBranches(b,c,"panel_instances");for(q=0;q<p;++q)if(w=a.branches[q].refiners[a.branches[q+1].from])B["refiner__"+
w.name]=w.id;if(w=a.branches[p].refiners[a.path])B["refiner__"+w.name]=w.id;d&&(B["refiner__"+d.name]=d.id)}E?E.cmsSetsPath(b):E=a.initNewPanelInstance(b);d&&(z=a.followPathOnMap(b+"/refiners/"+d.name))&&((C=z.use_different_view_options_per_id_in_previous_refiner)&&B["refiner__"+C]!==l?L=b+"/refiners/"+C+"/"+B["refiner__"+C]:s(z.use_different_view_options_per_refiner_id)?L=b+"/refiners/"+d.name+"/"+d.id:s(z.use_different_view_options)&&(L=b+"/refiners/"+d.name));R&&a.prefs[L]&&a.prefs[L].adv_searches&&
a.prefs[L].adv_searches[R]?advancedSearchValues=a.prefs[L].adv_searches[R]:R=!1;var H=a.followPathOnMap(b,"default_sort_column");H||(H="name");z=a.followPathOnMap(b);E.cmsSetsPanelTUIX(z);E.cmsSetsRequestedItem(v);E.cmsSetsSearchTerm(J);if(G&&!_.isEmpty(G))G=$.extend(!0,{},G);else{var G={},O;if(z.quick_filter_buttons)for(O in z.quick_filter_buttons)k.has(z.quick_filter_buttons,O)&&(C=z.quick_filter_buttons[O],!a.isInfoTag(O)&&C.column&&s(C.enabled_by_default)&&(p=C.value!==l?C.value:1,G[C.column]=
{enabled_by_default:!0,shown:!0,not:s(C.invert),value_:p}))}for(var F in G)k.has(G,F)&&(O=G[F],a.filterSetOnColumn(F,G)?P=!0:O.enabled_by_default||delete G[F]);F=z.db_items;O=z.reorder;var Q=E.returnDoSortingAndSearchingOnServer(),M=1*E.returnPageSize(),x=E.returnAJAXURL(),N=E.returnDevToolsAJAXURL(),D={},K={};C=!1;var T=function(e){a.go2(b,x,N,D,L,c,A,H,M,t,v,E,J,R,P,G,d,B,Q,g,I,e)};if(x){h.zenarioONotFull&&(h.zenarioOSelectMode?x+="&_select_mode=1":h.zenarioOQuickMode&&(x+="&_quick_mode=1"));e&&
!f&&(D._queued=1);d!==l&&(D.refinerId=d.id,D.refinerName=d.name,d.languageId&&(D.languageId=d.languageId));h.zenarioOCombineItem&&(D._combineItem=h.zenarioOCombineItem);for(y in B)k.has(B,y)&&(D[y]=B[y]);if(Q||a.CSVExport){if(M)if(D._limit=M,a.refreshToPage)D._start=(a.refreshToPage-1)*M;else if(D._start=0,v)D._item=v;else if(g)if("object"==typeof g&&g.selectedItemFromLastPanel)D._item=g.selectedItemFromLastPanel;else if(e=a.getSelectedItemFromLastPanel(b))D._item=e;O&&O.column?D._sort_col=O.column:
a.prefs[L]&&a.prefs[L].sortBy?(D._sort_col=a.prefs[L].sortBy,D._sort_desc=a.prefs[L].sortDesc?1:0):(D._sort_col=H,D._sort_desc=s(a.followPathOnMap(b,"default_sort_desc")))}G&&!_.isEmpty(G)&&(D._filters=JSON.stringify(G));if(Q||a.CSVExport)J!==l&&(D._search=J),R&&(C=!0,K._adv_search=JSON.stringify(advancedSearchValues))}a.stopRefreshing();b!=a.defaultPathInIframePreload&&(m("organizer_preloader_circle").style.display="block");h.zenarioOFirstLoad!==l&&(h.zenarioOFirstLoad?h.zenarioOFirstLoad=!1:a.reloadOpeningInstanceIfRelevant(b));
x?C?n.keepTrying(function(a){$.ajax({url:x+k.urlRequest(D),data:K,type:"POST",dataType:"text"}).fail(function(b,c,d){n.stopTrying(a)&&n.AJAXErrorHandler(b,c,d)}).done(function(b){n.stopTrying(a)&&(b=n.readData(b))&&T(b)})}):F&&!r&&(u=k.checkSessionStorage(x,D,!0,a.loadNum))?T(u):n.keepTrying(function(a){$.ajax({url:x,data:D,dataType:"text"}).fail(function(b,c,d){n.stopTrying(a)&&n.AJAXErrorHandler(b,c,d)}).done(function(b){n.stopTrying(a)&&(b=n.readData(b,x,D))&&T(b)})}):T(z)}}else h.zenarioONotFull||
(h.zenarioOQueue=[{path:b,branch:-1}])}};a.go2=function(b,c,d,e,f,g,r,v,m,I,C,q,p,t,w,u,z,y,A,P,E,G){G&&G.comment!==l&&h.console&&console.log(G.comment);if((n.storekeeperWindow||n.checkIfBoxIsOpen("og"))&&r==a.goNum){a.stopRefreshing();var K=a.path,R,L;a.tuix&&(R=a.tuix.title,L=s(a.tuix.no_return));a.url=c+k.urlRequest(e);a.devToolsURL=d!=c?d+k.urlRequest(e):l;a.lastRequests=e;a.path=b;a.voPath=f;a.defaultSortColumn=v;a.thisPageSize=m;a.server_side=A;a.inspectionView=I;a.inspectionViewItem=C;a.advancedSearch=
t;a.prefs[f]||(a.prefs[f]={});-1===g?a.resetBranches():g&&a.branch(b,K,R,L);a.pi=a.branches[a.branches.length-1].panel_instances[a.path]=q;a.branches[a.branches.length-1].filters[a.path]=u;a.filtersSet=w;delete a.tuix;a.tuix=G;a.focus=a.tuix;a.pi.cmsSetsPanelTUIX(a.tuix);a.markIfViewIsFiltered();a.saveRefiner(z);a.lastRefiners=y;(a.labelFormat=a.tuix.label_format_for_grid_view)||(a.labelFormat="[["+a.defaultSortColumn+"]]");a.popoutLabelFormat=a.tuix.label_format_for_popouts;a.boldColsInListView=
a.tuix.bold_columns_in_list_view||a.tuix.label_format_for_picked_items||a.labelFormat;a.tuix.columns||(a.tuix.columns={name:{title:"Name"}});(c=a.followPathOnMap(b,"reorder"))&&c.column?(a.sortBy=c.column,a.sortDesc=!1):a.prefs[f].sortBy&&a.tuix.columns[a.prefs[f].sortBy]?(a.sortBy=a.prefs[f].sortBy,a.sortDesc=a.prefs[f].sortDesc):((v=a.followPathOnMap(b,"default_sort_column"))?a.sortBy=v:a.sortBy=a.defaultSortColumn,a.sortDesc=s(a.followPathOnMap(b,"default_sort_desc")));a.createSortArray("sortedColumns",
"columns","ord");a.createSortArray("sortedItemButtons","item_buttons","ord");a.createSortArray("sortedInlineButtons","inline_buttons","ord");a.createSortArray("sortedCollectionButtons","collection_buttons","ord");a.createSortArray("sortedQuickFilterButtons","quick_filter_buttons","ord");a.shownColumns=a.getShownColumns(f,v,a.tuix.columns);if(a.prefs[f].sortedColumns){c={};for(var B in a.prefs[f].sortedColumns)if(k.has(a.prefs[f].sortedColumns,B)){var H=a.prefs[f].sortedColumns[B];c[H]=B}b=!1;for(B in a.sortedColumns)if(k.has(a.sortedColumns,
B)){H=a.sortedColumns[B];if(a.isShowableColumn(H,!1,!0)&&c[H]===l){b=c[b];b=b===l?0:1*b+1;a.prefs[f].sortedColumns.splice(b,0,H);for(var O in c)k.has(c,O)&&c[O]>=b&&++c[O];c[H]=b}b=H}a.sortedColumns=a.prefs[f].sortedColumns}a.tuix.items&&1==a.tuix.items.count&&s(a.tuix.allow_bypass)?a.branches[a.branches.length-1].bypasses[a.path]=!0:delete a.branches[a.branches.length-1].bypasses[a.path];if(!a.checkQueue(!0)){if(a.tuix.items&&1==a.tuix.items.count&&s(a.tuix.allow_bypass))if(P){if(!1!==a.getBackButtonTitle()){a.back();
return}}else{if(a.tuix.items)for(var F in a.tuix.items)if(k.has(a.tuix.items,F)&&!a.isInfoTag(F)){f={};f[F]=!0;a.pi.cmsSetsSelectedItems(f);if(a.itemClickThroughAction(F))return;break}}else if((!a.tuix.items||!a.tuix.items.count)&&s(a.tuix.return_if_empty)&&!1!==a.getBackButtonTitle()){a.back();return}F={};f={};var Q;for(H in a.tuix.columns)if(k.has(a.tuix.columns,H)&&a.isShowableColumn(H))if("menu_item"==a.tuix.columns[H].item_link)for(var M in a.tuix.items){if(k.has(a.tuix.items,M)&&!a.isInfoTag(M)&&
(Q=a.tuix.items[M][H])&&Q==1*Q){var x=a.itemLanguage(M);F[x]=F[x]?F[x]+",":"";F[x]+=Q}}else if("content_item"==a.tuix.columns[H].item_link||"content_item_or_url"==a.tuix.columns[H].item_link)for(M in a.tuix.items)if(k.has(a.tuix.items,M)&&!a.isInfoTag(M)&&(Q=a.tuix.items[M][H])&&(B=Q.split("_"),B[0]&&"null"!=B[0]&&B[0]===B[0].replace(/\W/,"")&&B[1]&&B[1]==1*B[1])){var x=a.itemLanguage(M),N=a.itemParent(M);f[x]||(f[x]={});f[x][N]=f[x][N]?f[x][N]+",":"";f[x][N]+=B[0]+"_"+B[1]}a.menuItems={};a.contentItems=
{};a.itemLinkRequestsLeft=0;a.shallowLinks={content_item:"zenario__content/panels/content",content_item_or_url:"zenario__content/panels/content",menu_item:"zenario__menu/panels/menu_nodes"};for(x in f)if(k.has(f,x))for(N in f)k.has(f,N)&&f[x][N]&&(a.contentItems[x]||(a.contentItems[x]={}),a.contentItems[x][N]||(a.contentItems[x][N]={}),c=J+"zenario/admin/ajax.php?_json=1&path="+a.shallowLinks.content_item+"&_get_item_links="+f[x][N]+"&languageId="+encodeURIComponent(x),(a.contentItems[x][N]=k.checkSessionStorage(c,
{},!0,a.loadNum))||(++a.itemLinkRequestsLeft,a.getDataHack(c,x,function(b,c,d){r==a.goNum&&(a.contentItems[c][N]=n.readData(d,b,{}),--a.itemLinkRequestsLeft||a.go3(r,p,P,E))})));for(x in F)k.has(F,x)&&F[x]&&(a.menuItems[x]||(a.menuItems[x]={}),c=J+"zenario/admin/ajax.php?_json=1&path="+a.shallowLinks.menu_item+"&_get_item_links="+F[x]+"&languageId="+encodeURIComponent(x)+"&refinerName=language&refinerId="+encodeURIComponent(x)+"&refiner__language="+encodeURIComponent(x),(a.menuItems[x]=k.checkSessionStorage(c,
{},!0,a.loadNum))||(++a.itemLinkRequestsLeft,a.getDataHack(c,x,function(b,c,d){r==a.goNum&&(a.menuItems[c]=n.readData(d,b,{}),--a.itemLinkRequestsLeft||a.go3(r,p,P,E))})));a.itemLinkRequestsLeft?(a.go3Timeout&&clearTimeout(a.go3Timeout),a.go3Timeout=setTimeout(function(){a.go3(r,p,P,E)},a.getItemLinkTimeoutTime)):a.go3(r,p,P,E)}}};a.getDataHack=function(a,c,d){setTimeout(function(){var e=k.nonAsyncAJAX(a,2E3<a.length);d(a,c,e)},1)};a.go3=function(b,c,d,e){(n.storekeeperWindow||n.checkIfBoxIsOpen("og"))&&
b==a.goNum&&(a.lastSuccessfulGoNum=++a.goNum,a.go3Timeout&&clearTimeout(a.go3Timeout),m("organizer_preloader_circle").style.display="none",a.setNavigation(),!d&&a.tuix.popout_message&&(a.refreshToPage!==l&&a.tuix.popout_message==a.lastPopoutMessage||n.showMessage(a.tuix.popout_message,!0,!1),a.lastPopoutMessage=a.tuix.popout_message),a.searchAndSortItems(c),a.firstLoaded||(a.firstLoaded=!0,n.hideAJAXLoader()),a.setWrapperClass("loaded",!0),a.setWrapperClass("filters_set",a.filtersSet),e&&e())};a.setWrapperClass=
function(a,c){$("#organizer__box_inner").removeClass("organizer_"+(c?"not_":"")+a).addClass("organizer_"+(c?"":"not_")+a)};a.itemLanguage=function(b){return b&&a.tuix&&a.tuix.items&&a.tuix.items[b]&&(!a.tuix.items[b].css_class||-1==(""+a.tuix.items[b].css_class).indexOf("ghost"))&&a.tuix.items[b].language_id?a.tuix.items[b].language_id:a.tuix&&a.tuix.key?u(a.tuix.key.languageId,a.tuix.key.language):""};a.itemParent=function(a){return""};a.getShownColumns=function(b,c,d){var e=!1,f=!1,g={};a.prefs&&
a.prefs[b]&&a.prefs[b].shownColumns&&(g=a.prefs[b].shownColumns);if(d)for(var r in d)k.has(d,r)&&(e||(e=r),s(d[r].always_show)?f=g[r]=!0:g[r]!==l?g[r]&&(f=!0):s(d[r].show_by_default)&&(f=g[r]=!0));f||(g[u(e,c)]=!0);return g};a.nextPage=function(){if(a.lockPageClicks)return!1;a.page<a.pageCount&&a.goToPage(a.page+1)};a.prevPage=function(){if(a.lockPageClicks)return!1;1<a.page&&a.goToPage(a.page-1)};a.goToPage=function(b){if(a.stop)return!1;a.page!=b&&a.deselectAllItems();a.lockPageClicks=!0;a.inspectionView=
!1;a.server_side?a.refreshAndShowPage(b):a.showPage(b)};a.goToLastPage=function(){if(a.stop)return!1;a.goToPage(a.pageCount)};a.refreshAndShowPage=function(b){a.page=u(b,1);a.load()};a.showPage=function(b){a.page=b;a.setPanel()};a.searchAndSortItems=function(b){var c;a.refreshToPage===l&&a.setSearch(b);a.server_side?(a.searchedItems=a.tuix.__item_sort_order__,a.searchMatches=a.tuix.items.count):(a.searchTerm===l||"hidden"==m("organizer_search").style.visibility?a.searchedItems=a.pi.sortAndSearchItems():
a.searchedItems=a.pi.sortAndSearchItems(b),a.searchMatches=a.searchedItems.length);a.itemsOrder={};for(var d in a.searchedItems)k.has(a.searchedItems,d)&&(c=a.searchedItems[d],a.itemsOrder[c]=1*d);b=1;if(a.thisPageSize)if(a.server_side&&a.server_side)b=u(a.tuix.__page__,a.refreshToPage,1);else if(a.refreshToPage!==l)b=a.refreshToPage;else{if(!a.inspectionViewItem)for(c in d=a.pi.returnSelectedItems(),d)if(k.has(d,c)){a.inspectionViewItem=c;break}if(c=a.itemsOrder[a.inspectionViewItem])b=Math.floor(c/
a.thisPageSize)+1}delete a.refreshToPage;a.showPage(b)};a.stop=!1;a.disableInteraction=function(){a.stop=!0;$("#organizer_search_term").prop("disabled",!0);a.setWrapperClass("interaction_disabled",!0)};a.enableInteraction=function(){a.stop=!1;$("#organizer_search_term").prop("disabled",!1);a.setWrapperClass("interaction_disabled",!1)};a.setPanel=function(){var b,c=$("#organizer_header"),d=$("#organizer_rightColumnContent"),e=$("#organizer_lowerMiddleColumn"),f=0;if(a.tuix.item_buttons)for(b in a.tuix.item_buttons)if(k.has(a.tuix.item_buttons,
b)&&!a.isInfoTag(b)){a.itemButtonsExist=!0;break}a.multipleSelectEnabled=h.zenarioOSelectMode?h.zenarioOMultipleSelect:a.pi.returnMultipleSelectEnabled();var g=_.clone(a.pi.returnSelectedItems());for(b in g)k.has(g,b)&&(a.tuix.items[b]?++f:delete g[b]);!a.multipleSelectEnabled&&1<f&&(g={});if(a.inspectionView||a.inspectionViewItem)a.itemsOrder[a.inspectionViewItem]!==l?(g={},g[a.inspectionViewItem]=!0):(g={},a.inspectionView=!1);a.pi.cmsSetsSelectedItems(g);if(b=m("organizer_debug_button"))b.className=
a.refiner?a.refiner.id?"zenario_debug zenario_debug_with_refiner_and_id":"zenario_debug zenario_debug_with_refiner_and_no_id":"zenario_debug zenario_debug_with_no_refiner";a.enableInteraction();a.setPanelTitle();a.setBackButton();a.getPageCount();a.pi.showPanel(c,d,e);a.setButtons();a.setTrash();a.size(!0);a.refreshIsPeriodic=!1;a.lockPageClicks=!1;a.setHash()};a.stripBodyPanelClasses=function(){$("body").removeClass("zenario_organizer_bespoke_panel").removeClass("zenario_organizer_bespoke_html_panel").removeClass("zenario_organizer_bespoke_url_panel")};
a.back=function(b){if(a.stop)return!1;var c={},d={};if(!1!==a.getFromLastPanel(a.branches.length-1,a.path,"title",!1,b,!1,c)){d.selectedItemFromLastPanel=a.getSelectedItemFromLastPanel(c.path);a.deselectAllItems();a.clearRefiner();a.clearSearch();for(b=c.pops;0<b;--b)a.branches.pop();a.go(c.path,l,l,l,l,d)}};a.knownBranches={};a.lookForBranches=function(b,c,d,e){b._path_here&&(d=b._path_here);for(var f in b)if(k.has(b,f)&&b[f]&&"object"==typeof b[f]){var g=c?c+"/"+f:f,r=!1;e!==l&&b[f].link&&"object"==
typeof b[f].link&&("nav"!=e?b[f].link.branch=r=!0:(b[f].link.branch=r=!1,b[f].link.refiner&&b[f].link.path&&-1==b[f].link.path.indexOf("//")&&(b[f].link.path+="/refiners/"+b[f].link.refiner+"////")));"refiners"==e&&"object"==typeof b[f]&&b[f].link===l&&(b[f].link={path:d,refiner:f},b[f].link.branch=r=!0);r&&(a.knownBranches[d]||(a.knownBranches[d]={}),a.knownBranches[d][b[f].link.path]||(a.knownBranches[d][b[f].link.path]={}),a.knownBranches[d][b[f].link.path][u(b[f].link.refiner,1)]&&"item"==(""+
a.knownBranches[d][b[f].link.path][u(b[f].link.refiner,1)]).substr(-4)||(a.knownBranches[d][b[f].link.path][u(b[f].link.refiner,1)]=a.shortenPath(g)));a.lookForBranches(b[f],g,d,f)}};a.resetBranches=function(){a.branches=[{panel_instances:{},bypasses:{},filters:{},refiners:{},searches:{},adv_searches:{}}]};a.resetBranches();a.branch=function(b,c,d,e){b=a.shortenPath(b);a.branches[a.branches.length]={from:c,to:b,title:d,no_return:e,panel_instances:{},bypasses:{},filters:{},refiners:{},searches:{},
adv_searches:{}}};a.setHash=function(){if(!h.zenarioONotFull){if(!k.browserIsIE(7)){var b=a.getHash();S.location.hash=b;k.currentHash=S.location.hash}n.homeLink&&m("home_page_button_link")&&(m("home_page_button_link").href=a.parseReturnLink(n.homeLink));n.backLink&&m("last_page_button_link")&&(m("last_page_button_link").href=a.parseReturnLink(n.backLink))}};a.getHash=function(b,c){var d="",e=a.path,f,g,r,v=!1;f=!1;var n="",h=a.pi&&a.pi.returnSelectedItems();if(!b&&h){for(var m in h)if(k.has(h,m)&&
h[m])if(!1===f)f=m;else{f=!1;break}f&&(n=a.inspectionView?f+"/":f)}for(m in a.branches)if(k.has(a.branches,m)&&0<m&&(c===l||m<=c))if(f=a.branches[m],f.to&&a.knownBranches[f.from]&&a.knownBranches[f.from][f.to]&&(g=a.knownBranches[f.from][f.to][f.refiners[f.to]?f.refiners[f.to].name:1])){g=a.shortenPath(g);if(r){if(g.substr(0,r.length)==r)g=a.shortenPath(g.substr(r.length+1));else{v=!0;break}d+="//"}d+=g+"//";r=a.branches[m-1];if(r=r.panel_instances[f.from])d+=a.implodeKeys(r.returnSelectedItems());
r=f.to}else{v=!0;break}!v&&r&&e.substr(0,r.length)==r&&(e=d+"//"+a.shortenPath(e.substr(r.length+1)));n&&(e="//"==k.rightHandedSubStr(e,2)?e+n:"/"==k.rightHandedSubStr(e,1)?e+("/"+n):e+("//"+n));return e};a.searchOnClick=function(a){};a.searchOnKeyUp=function(b){a.doSearchAfterDelay&&clearTimeout(a.doSearchAfterDelay);a.doSearchAfterDelay=setTimeout(function(){a.doSearch(m("organizer_search_term"))},a.searchDelayTime)};a.searchOnChange=function(b){a.server_side&&a.doSearchAfterDelay&&(clearTimeout(a.doSearchAfterDelay),
a.doSearch(b))};a.markIfViewIsFiltered=function(){a.filteredView=a.searchTerm!==l||a.filtersSet||a.advancedSearch};a.doSearch=function(b){a.doSearchAfterDelay&&clearTimeout(a.doSearchAfterDelay);""===b.value?b=l:(b=b.value,b==1*b&&(b*=1));b!==a.searchTerm&&(a.searchTerm=b,a.markIfViewIsFiltered(),a.saveSearch(),a.runSearch())};a.runSearch=function(){if(a.stop)return!1;a.lockPageClicks=!0;a.inspectionView=!1;a.server_side||(a.server_side=a.pi.returnDoSortingAndSearchingOnServer())?a.refreshAndShowPage():
a.searchAndSortItems(a.searchTerm)};a.allItemsSelected=function(){if(0==a.shownItemsLength)return!1;var b,c=0,d=a.pi.returnSelectedItems();for(b in d)k.has(d,b)&&++c;return c==a.shownItemsLength};a.noItemsSelected=function(){if(0==a.shownItemsLength)return!0;var b,c=a.pi.returnSelectedItems();for(b in c)if(k.has(c,b))return!1;return!0};a.parseReturnLink=function(a,c){c===l&&(c=a&&k.currentHash&&!k.browserIsIE(7)?"zenario_sk_return="+k.currentHash.replace("#",""):"");return k.addBasePath((""+a).replace("zenario_sk_return=navigation_path",
c))};a.saveRefiner=function(b){a.branches[a.branches.length-1].refiners[a.path]=a.refiner=b};a.loadRefiner=function(b,c){return-1===c||c?l:a.branches[a.branches.length-1].refiners[b]?a.branches[a.branches.length-1].refiners[b]:l};a.clearRefiner=function(){a.refiner=l;a.saveRefiner()};a.saveSearch=function(){a.branches[a.branches.length-1].searches[a.path]=a.searchTerm;a.pi.cmsSetsSearchTerm(a.searchTerm)};a.saveAdvancedSearch=function(b){a.branches[a.branches.length-1].adv_searches[a.path]=b};a.loadFromBranches=
function(b,c,d){return-1===c||c?l:a.branches[a.branches.length-1]&&a.branches[a.branches.length-1][d]&&a.branches[a.branches.length-1][d][b]?a.branches[a.branches.length-1][d][b]:l};a.setSearch=function(b){var c;a.pi&&a.pi.returnSearchingEnabled()?(c="visible",a.searchTerm=b):(c="hidden",a.searchTerm=l);a.markIfViewIsFiltered();m("organizer_search").style.visibility=c;a.searchTerm===l?m("organizer_search_term").value="":m("organizer_search_term").value=a.searchTerm};a.clearSearch=function(){m("organizer_search_term").value=
"";a.searchTerm=l;a.markIfViewIsFiltered();a.saveSearch()};a.toggleAllItems=function(){a.allItemsSelected()?a.deselectAllItems():a.selectAllItems();a.setButtons();a.setHash()};a.selectAllItems=function(){a.selectItemRange()};a.deselectAllItems=function(){a.selectItemRange(-1)};a.selectItemRange=function(b,c){var d=!1,e,f=b===l,g=a.pi.returnSelectedItems(),r;for(r in a.searchedItems){var k=a.searchedItems[r];if(a.shownItems&&a.shownItems[k])if((e=f||k===b||k===c)&&!g[k]?(a.pi.selectItem(k),d=!0):!e&&
g[k]&&(a.pi.deselectItem(k),d=!0),k===b&&k===c)f=!1;else if(k===b||k===c)f=!f}d&&a.closeInspectionView()};a.selectItems=function(b){var c,d,e={},f=!1,g=a.pi.returnSelectedItems();if(_.isArray(b))for(c in b)k.has(b,c)&&(d=b[c],e[d]=!0);else _.isObject(b)?e=b:e[b]=!0;for(d in a.shownItems)k.has(a.shownItems,d)&&((b=e[d])&&!g[d]?(a.pi.selectItem(d),f=!0):!b&&g[d]&&(a.pi.deselectItem(d),f=!0));f&&(a.closeInspectionView(),a.setButtons(),a.setHash())};a.itemClickThrough=function(b,c){if(a.stop)return!1;
k.stop(c);if(!a.tuix||!a.tuix.items||!a.tuix.items[b])return!1;a.itemClickThroughAction(b);return!1};a.itemClickThroughAction=function(b){var c=a.itemClickThroughLink(b),d;return c?(s(c.unselect_items)||(d={},d[b]=!0,a.pi.cmsSetsSelectedItems(d)),n.action(a,a.tuix.items[b],!0,!0,c),!0):!1};a.itemClickThroughLink=function(b){var c=a.tuix.items[b].link;b=a.tuix.items[b].panel;c===l&&b===l&&a.tuix.item&&(c=a.tuix.item.link,b=a.tuix.item.panel);b&&(c={path:b._path_here});return c&&h.zenarioONotFull&&
a.path===h.zenarioOMaxPath&&(a.path!==c.path||h.zenarioODisallowRefinersLoopingOnMinPath)?!1:c};a.topLevelClick=function(b,c,d){if(a.stop)return!1;a.clearRefiner();a.clearSearch();a.resetBranches();c!==l?(b=$.extend(!0,{},a.map[b].nav[c]),n.action(a,b,!1,-1)):n.action(a,a.map[b],!1,-1)};a.viewTrash=function(){!h.zenarioOSelectMode&&a.tuix&&a.tuix.trash&&!s(a.tuix.trash.empty)&&n.action(a,a.tuix.trash,!1,!0);return!1};a.collectionButtonClick=function(b){a.tuix&&a.tuix.collection_buttons&&a.tuix.collection_buttons[b]&&
n.action(a,a.tuix.collection_buttons[b],!1,!0)};a.itemButtonClick=function(b){a.tuix&&a.tuix.item_buttons&&a.tuix.item_buttons[b]&&n.action(a,a.tuix.item_buttons[b],!0,!0)};a.inlineButtonClick=function(b,c){a.tuix&&a.tuix.inline_buttons&&a.tuix.inline_buttons[b]&&(a.selectItems(c),n.action(a,a.tuix.inline_buttons[b],!0,!0))};a.toggleQuickFilter=function(b,c){var d,e,f;a.tuix&&a.tuix.quick_filter_buttons&&(d=a.tuix.quick_filter_buttons[b])&&(e=d.column)&&(f=a.getColumnFilterType(e))&&a.checkIfColumnPickerChangesAreAllowed(e)&&
(s(d.remove_filter)?c=!1:c===l&&(c=!a.quickFilterEnabled(b)),a.setFilterValue("shown",e,c),a.clearFilter(e),c&&(a.setFilterValue("not",e,s(d.invert)),"yes_or_no"==f?a.setFilterValue("value_",e,1):d.value!==l&&a.setFilterValue("value_",e,d.value)),a.refreshAndShowPage())};a.quickFilterEnabled=function(b){var c,d,e;if((c=a.tuix.quick_filter_buttons[b])&&(d=c.column)&&(e=a.getColumnFilterType(d))){if(s(c.remove_filter))return!a.getFilterValue("shown",d);if(a.getFilterValue("shown",d)&&s(c.invert)==s(a.getFilterValue("not",
d))){if("yes_or_no"==e)return!0;if(c.value!==l)return a.getFilterValue("value_",d)===c.value}}return!1};a.applyMergeFields=function(b,c,d,e){var f=b;d===l&&(d=a.getKeyId());for(var g in a.tuix.items[d])if(k.has(a.tuix.items[d],g)&&-1!=b.indexOf("[["+g+"]]")){var r=a.columnValue(d,g,!c);for(e||r===l||(r=r.replace(/\n/g," "));b!=(f=b.replace("[["+g+"]]",r));)b=f}return b};a.applySmallSpaces=function(b){for(var c,d,e="";-1!=(c=b.search(/([a-z][A-Z]|[a-zA-Z][^a-zA-Z\)]|[^a-zA-Z\(][a-zA-Z]|[0-9][^0-9\)]|[^0-9\(][0-9])/));)d=
null!==b[c+1].match(/\s/)?c+2:c+1,c=b.substr(0,d),b=b.substr(d),e+=a.maxLengthString(w(c,!1,"asis"),25),-1==c.search(/\s/)&&(e+='<span style="font-size: 1px;"> </span>');return e+=a.maxLengthString(w(b),25)};a.maxLengthString=function(a,c){for(var d="";a.wordLength>c;)d+=a.substr(0,c)+'<span style="font-size: 1px;"> </span>',a=a.substr(c);return d+a};a.pickItems=function(b,c,d){b={};for(var e in c)k.has(c,e)&&("id"==e?b[e]=c[e]:"parent__"!=e.substr(0,8)&&(b["child__"+e]=c[e]));if(a.postPickItemsObject)a.pickItemsItemLevel&&
(b.id2=b.id,delete b.id),n.action(a,a.postPickItemsObject,!0,!0,l,b);else if(a.actionTarget){if(a.pickItemsItemLevel){a.actionRequests.id2=b.id;for(var f in b)k.has(b,f)&&"id"!=f&&(a.actionRequests[f]=b[f])}else for(f in b)k.has(b,f)&&(a.actionRequests[f]=b[f]);a.action2()}a.postPickItemsObject=!1};a.action2=function(){if(a.actionTarget){var b=++a.goNum;m("organizer_preloader_circle").style.display="block";$.post(J+a.actionTarget,a.actionRequests,function(c){b!=a.goNum||c&&!1===n.showMessage(c,l,
"error")||a.selectCreatedIds()},"text")}a.actionTarget=!1;delete a.actionRequests};a.uploadStart=function(){a.disableInteraction()};a.uploadComplete=function(){a.enableInteraction();a.selectCreatedIds()};a.selectCreatedIds=function(){var b;if(b=k.nonAsyncAJAX(J+"zenario/ajax.php?method_call=getNewId",!0,!0))a.deselectAllItems(),a.pi.cmsSetsSelectedItems(b),a.setHash();m("organizer_preloader_circle").style.display="none";var c="",d;for(d in b)k.has(b,d)&&(c+=(c?",":"")+d);delete k.rev;b&&c?a.go(a.path+
"//"+c):a.reload()};a.lastActivity=!1;a.refreshIsPeriodic=!1;a.reload=a.refresh=function(b,c,d){if(b&&(!a.lastActivity||12E5<Date.now()-a.lastActivity))return!1;a.stopRefreshing();var e=a.path,f=a.getKeyId(!0),g=a.inspectionView;a.refreshToPage=f?l:a.page;a.refreshIsPeriodic=b;a.go(e,l,l,l,l,l,!c,f,l,d,b,g)};a.load=function(){a.reload(!1,!0)};a.changePassword=function(){a.reloadPage(l,!0,"change_password")};a.reloadPage=a.refreshPage=function(b,c,d){if(a.stop)return!1;d=d||"";b===l&&(b=k.currentHash&&
!k.browserIsIE(7)?k.currentHash.replace("#",""):a.getHash());d||c||(d="zenario__administration/panels/site_settings//site_reset"==b?"site_reset":"zenario__administration/panels/backups"==b.substr(0,31)?"restore":"reload_sk");h.location.href=J+"zenario/admin/welcome.php?task="+d+"&og="+encodeURIComponent(b)+(n.fromCID?"&fromCID="+n.fromCID+"&fromCType="+n.fromCType:"")};a.refreshToShowItem=function(b){if(a.stop)return!1;if("zenario__administration/panels/site_settings"==a.path)a.reloadPage();else{a.tuix.db_items&&
a.tuix.db_items.encode_id_column&&(b=k.encodeItemIdForStorekeeper(b));var c=(b+"").split(",");selectedItems={};for(var d in c)k.has(c,d)&&(selectedItems[c[d]]=!0);a.pi.cmsSetsSelectedItems(selectedItems);a.setHash();a.stopRefreshing();delete k.rev;a.inspectionView?a.go(a.path+"//"+b+"/"):a.go(a.path+"//"+b)}};a.refreshing=!1;a.stopRefreshing=function(){a.refreshing&&clearTimeout(a.refreshing)};a.doCSVExport=function(){a.CSVExport=!0;a.reload()};a.getKey=function(b){var c={};if(a.tuix.key)for(var d in a.tuix.key)k.has(a.tuix.key,
d)&&(a.isInfoTag(d)||(c[d]=a.tuix.key[d]));a.refiner&&(c.refinerId=a.refiner.id,c.refinerName=a.refiner.name);if(a.lastRefiners)for(var e in a.lastRefiners)k.has(a.lastRefiners,e)&&(c[e]=a.lastRefiners[e]);b&&(c.id=a.getKeyId());if(n.openedInIframe&&y&&y.zenario)if(y.zenarioO.init&&y.zenarioO.tuix)for(d in b=y.zenarioO.getKey(!0),b)k.has(b,d)&&(c["parent__"+d]=b[d]);else y.zenario.cID&&(c.parent__cID=y.zenario.cID,c.parent__cType=y.zenario.cType,c.parent__cVersion=y.zenario.cVersion);return c};a.getKeyId=
function(b){var c="",d="",e=a.pi&&a.pi.returnSelectedItems();if(e)for(var f in e)if(k.has(e,f)&&!a.isInfoTag(f)){if(b)return f;c+=d+f;d=","}return c};a.getLastKeyId=function(b){var c;return(c=a.loadRefiner(a.path))?c.id:!1};a.followPathOnMap=function(b,c,d){b||(b=a.defaultPath);var e=a.map;b=b.split("/");var f=!1,g=!1,r;for(r in b)if(k.has(b,r)){var v=b[r];if(""!==v){0==r&&(f=g=v);if(e[v])e=e[v];else return!1;e.link&&e.link.path?(f=g,g=e.link.path):e._path_here&&(f=g,g=e._path_here)}}e.panel&&(d||
!c||e[c]===l&&e.panel[c]!==l)&&(e=e.panel);return d?e.link?{from:f,to:g,branch:e.link.branch,refiner:e.link.refiner}:!1:c?e[c]:e};a.getFromToFromLink=function(b){return a.followPathOnMap(b,!1,!0)};a.showViewOptions=function(b){if(a.stop||!a.tuix.columns)return!1;a.checkPrefs()?a.showViewOptions2():a.reload(l,l,a.showViewOptions2);return!1};a.showViewOptions2=function(){n.openBox(!1,"zenario_view_options","AdminViewModeOptions",m("organizer_listViewOptionsDropdown"),445,-395,-2,!1,!0,!1,!1,l,l,!1,
!0);a.setViewOptions()};a.getColumnFilterType=function(b){if(!a.tuix||!a.tuix.columns||!a.tuix.columns[b])return!1;var c=!1,d=a.tuix.columns[b].filter_format||a.tuix.columns[b].format;"date"==d||"datetime"==d||"datetime_with_seconds"==d?c="date":"yes_or_no"==d?c="yes_or_no":"enum"==d&&a.tuix.columns[b].values||"language_english_name_with_id"==d||"language_english_name"==d||"language_local_name_with_id"==d||"language_local_name"==d?c="enum":s(a.tuix.columns[b].searchable)&&(c="search");return c};a.setViewOptions=
function(){var b="";t.templatePrefix="zenario_filters";t.shownTab="cp";t.tuix={tab:"cp",tabs:{cp:{template:"zenario_filters_popup",edit_mode:{on:!0,enabled:!0,always_on:!0},fields:{}}}};t.focus=t.tuix;t.tuix.tabs.cp.fields.showcol__title_={ord:-3,full_width:!0,pre_field_html:'<div class="organizer_colPickerTitle_show" style="">',snippet:{html:q.show},post_field_html:"</div>"};t.tuix.tabs.cp.fields.sortcol__title_={ord:-1,same_row:!0,pre_field_html:'<div class="organizer_colPickerTitle_sort">',snippet:{html:q.sort},
post_field_html:"</div>"};var c,d,e=!1,f=!1;for(d in a.sortedColumns)if(k.has(a.sortedColumns,d)&&(c=a.sortedColumns[d],a.isShowableColumn(c,!1))){t.tuix.tabs.cp.fields["start_of_row__"+c]={ord:100*d,full_width:!0,snippet:{html:""}};t.tuix.tabs.cp.fields["showcol_"+c]={ord:100*d+4,same_row:!0,type:"toggle",onclick:"zenarioO.showHideColumn(!"+s(a.shownColumns[c])+", '"+w(c)+"'); zenarioO.setViewOptions();",value:a.shownColumns[c]?"Hide":"Show",title:q.showCol,"class":("grid"==a.view_mode||s(a.tuix.columns[c].always_show)?
"notused ":"")+(a.shownColumns[c]?"zen_col_hidden":"zen_col_shown")};if(a.showCSVInViewOptions){delete t.tuix.tabs.cp.fields["showcol_"+c].onclick;s(s(a.tuix.columns[c].server_side_only))?t.tuix.tabs.cp.fields["showcol_"+c].style="visibility: hidden;":t.tuix.tabs.cp.fields["showcol_"+c].disabled="disabled";var g=a.shownColumns[c];a.prefs[a.voPath].shownColumnsInCSV!==l&&a.prefs[a.voPath].shownColumnsInCSV[c]!==l&&(g=a.prefs[a.voPath].shownColumnsInCSV[c]);t.tuix.tabs.cp.fields["showcsv_"+c]={ord:100*
d+5,same_row:!0,type:"checkbox",onclick:"zenarioO.showHideColumnInCSV(this, '"+w(c)+"');",value:g,"class":"grid"==a.view_mode||s(a.tuix.columns[c].always_show)?"notused":""}}t.tuix.tabs.cp.fields["sortcol_"+c]={ord:100*d+6,same_row:!0,snippet:{html:'<label class="zenario_filter_column_name" for="showcol_'+c+'">'+w(a.tuix.columns[c].title)+"</label>"}};if(a.canFilterColumn(c)){var r=g=!a.getFilterValue("shown",c),v=a.getFilterValue("value_",c),h,I="",C="",u=a.tuix.columns[c].filter_format||a.tuix.columns[c].format;
h='<a class="'+(a.getFilterValue("not",c)?"organizer_inverter organizer_not":"organizer_inverter")+'" title="'+q.invertFilter+'" onclick="zenarioO.invertFilter(this, \''+w(c)+"', '"+w(u)+"');\">";if("date"==u||"datetime"==u||"datetime_with_seconds"==u)v&&(h=v.split(","),I=h[1],C=h[0]),t.tuix.tabs.cp.fields["date_after_col_"+c]={ord:100*d+7,row_class:"zenario_date_filters_for_field",label:q.after,type:"date",onchange:"zenarioO.updateDateFilters('"+w(c)+"');",value:C,hidden:g,_h:r},t.tuix.tabs.cp.fields["date_before_col_"+
c]={ord:100*d+8,row_class:"zenario_date_filters_for_field",label:q.before,type:"date",onchange:"zenarioO.updateDateFilters('"+w(c)+"');",value:I,hidden:g,_h:r},t.tuix.tabs.cp.fields["value_"+c]={ord:100*d+9,same_row:!0,type:"hidden",value:v,hidden:g,_h:r};else if("yes_or_no"==u)v=""+a.tuix.columns[c].title,-1==v.indexOf(":")&&(v+=":",v.replace(/\s*:/,":")),t.tuix.tabs.cp.fields["value_"+c]={ord:100*d+7,row_class:"zenario_filters_for_field yes_or_no",snippet:{html:h+(a.getFilterValue("not",c)?q.no:
q.yes)+"</a>"},hidden:g,_h:r};else if("enum"==u&&a.tuix.columns[c].values||"language_english_name_with_id"==u||"language_english_name"==u||"language_local_name_with_id"==u||"language_local_name"==u){if("enum"==u){if(I=a.tuix.columns[c].values,!I[""]&&!I[0]){I={};I[""]=q.selectListSelect;for(var p in a.tuix.columns[c].values)k.has(a.tuix.columns[c].values,p)&&(I[p]=a.tuix.columns[c].values[p])}}else for(p in I={},I[""]=q.selectListSelect,n.lang)k.has(n.lang,p)&&n.lang[p].enabled&&(I[p]=n.lang[p].name,
"language_english_name_with_id"==u||"language_local_name_with_id"==u)&&(I[p]+=" ("+p+")");t.tuix.tabs.cp.fields["value_"+c]={ord:100*d+7,row_class:"zenario_filters_for_field enum",label:h+(a.getFilterValue("not",c)?q.isnt:q.is)+"</a>",type:"select",onchange:"zenarioO.changeFilters();",values:I,value:v,hidden:g,_h:r}}else s(a.tuix.columns[c].searchable)&&(t.tuix.tabs.cp.fields["value_"+c]={ord:100*d+7,row_class:"zenario_filters_for_field",label:h+(a.getFilterValue("not",c)?q.notLike:q.like)+"</a>",
type:"text",onkeyup:"zenarioAB.changeFiltersAfterDelay();",value:v,hidden:g,_h:r});a.getColumnFilterType(c)&&(t.tuix.tabs.cp.fields["togglefilter_"+c]={ord:100*d+2,same_row:!0,pre_field_html:'<div class="organizer_togglefilter">',type:"toggle",onclick:"zenarioO.toggleFilter(this, '"+w(c)+"');","class":g?"togglefilter_closed":"togglefilter_open",value:g?" ":"x",title:g?q.filterByCol:q.filterByColStop,post_field_html:"</div>"})}a.showCSVInViewOptions&&(t.tuix.tabs.cp.fields["up__"+c]={ord:100*d+1,same_row:!0,
pre_field_html:'<div class="organizer_mov_col">',type:"toggle",value:" ","class":"movcol_up",style:"visibility: hidden;",title:q.moveColForward},t.tuix.tabs.cp.fields["down__"+c]={ord:100*d+2,same_row:!0,type:"toggle",value:" ","class":"movcol_down",style:"visibility: hidden;",title:q.moveColBack,post_field_html:"</div>"},!1!==e&&(t.tuix.tabs.cp.fields["up__"+c].style="",t.tuix.tabs.cp.fields["up__"+c].onclick="zenarioO.switchColumnOrder("+d+", "+e+", true)",t.tuix.tabs.cp.fields["down__"+f].style=
"",t.tuix.tabs.cp.fields["down__"+f].onclick="zenarioO.switchColumnOrder("+d+", "+e+", true)"));e=d;f=c}c=!1;if(a.branches[a.branches.length-1]&&a.branches[a.branches.length-1].filters&&a.branches[a.branches.length-1].filters[a.path])for(var y in a.branches[a.branches.length-1].filters[a.path])if(k.has(a.branches[a.branches.length-1].filters[a.path],y)&&a.branches[a.branches.length-1].filters[a.path][y].shown){c=!0;break}if(a.prefs[a.voPath])for(y in a.prefs[a.voPath])if(k.has(a.prefs[a.voPath],y)&&
y&&"adv_searches"!=y){c=!0;break}c&&(t.tuix.tabs.cp.fields.reset={ord:100*d+11,full_width:!0,type:"toggle",onclick:"zenarioO.resetPrefs();",value:q.reset});t.sortTabs();b+=t.draw2(!0);m("zenario_fbAdminViewModeOptions").innerHTML=b;k.addJQueryElements("#zenario_fbAdminViewModeOptions ",!0);a.size(!0)};a.updateDateFilters=function(b){var c=t.readField("date_after_col_"+b),d=t.readField("date_before_col_"+b);b=m("value_"+b);b.value=c||d?c+","+d:"";console.log(c,d,b.value);a.changeFilters()};a.canSortColumn=
function(b){return a.stop||s(a.tuix.columns[b].disallow_sorting)||a.server_side&&!a.tuix.columns[b].db_column?!1:!0};a.canFilterColumn=function(b){if(!a.tuix.columns[b].db_column||s(a.tuix.columns[b].server_side_only)||s(a.tuix.columns[b].disallow_filtering))return!1;var c=a.tuix.columns[b].filter_format||a.tuix.columns[b].format;if("enum"==c&&!a.tuix.columns[b].values)return!1;switch(c){case "date":case "datetime":case "datetime_with_seconds":case "yes_or_no":case "enum":case "language_english_name_with_id":case "language_english_name":case "language_local_name_with_id":case "language_local_name":return!s(a.tuix.columns[b].disallow_sorting);
default:return s(a.tuix.columns[b].searchable)}};a.showHideColumn=function(b,c){if(s(a.tuix.columns[c].always_show))b=!0;else{var d=0,e;for(e in a.tuix.columns)k.has(a.tuix.columns,e)&&(a.isInfoTag(e)||a.shownColumns[e]&&++d);2>d&&!b&&(b=!0)}a.shownColumns[c]=b?!0:!1;a.checkPrefs();a.prefs[a.voPath].shownColumns=a.shownColumns;a.savePrefs();a.setPanel()};a.resizeColumn=function(b,c){a.shownColumns[b]&&(c=Math.max(c,a.columnWidths.xxsmall),a.checkPrefs(),a.prefs[a.voPath].colSizes||(a.prefs[a.voPath].colSizes=
{}),a.prefs[a.voPath].colSizes[b]=c,a.savePrefs());a.setPanel()};a.showHideColumnInCSV=function(b,c){a.checkPrefs();a.prefs[a.voPath].shownColumnsInCSV||(a.prefs[a.voPath].shownColumnsInCSV={});a.prefs[a.voPath].shownColumnsInCSV[c]=b.checked?!0:!1;a.savePrefs()};a.switchColumnOrder=function(b,c,d){if("object"==typeof b){var e,f={};moveableColumns={};pi=-1;positions=[];for(e in b)k.has(b,e)&&(c=b[e],f[c]=!0);for(e in a.sortedColumns)k.has(a.sortedColumns,e)&&(c=a.sortedColumns[e],f[c]&&(moveableColumns[c]=
!0,positions[++pi]=e,a.sortedColumns[e]=l));pi=-1;for(e in b)k.has(b,e)&&(c=b[e],f[c]&&moveableColumns[c]&&(a.sortedColumns[positions.shift()]=c));for(e=a.sortedColumns.length-1;0<=e;--e)a.sortedColumns[e]===l&&a.sortedColumns.splice(e,1)}else e=a.sortedColumns[b],a.sortedColumns[b]=a.sortedColumns[c],a.sortedColumns[c]=e;a.checkPrefs();a.prefs[a.voPath].sortedColumns=a.sortedColumns;a.setPanel();d&&a.setViewOptions();a.savePrefs()};a.resetPrefs=function(){a.checkPrefs();a.prefs[a.voPath]&&(a.prefs[a.voPath]=
a.prefs[a.voPath].adv_searches?{adv_searches:a.prefs[a.voPath].adv_searches}:{},a.savePrefs());a.branches[a.branches.length-1]&&a.branches[a.branches.length-1].filters&&(a.branches[a.branches.length-1].filters[a.path]={});n.closeBox("AdminViewModeOptions");a.refreshAndShowPage()};a.checkIfColumnPickerChangesAreAllowed=function(b){return a.stop?!1:!0};a.changeSortOrder=function(b){a.canSortColumn(b)&&a.checkIfColumnPickerChangesAreAllowed(b)&&(a.sortBy==b?a.sortDesc=!a.sortDesc:(a.sortBy=b,a.sortDesc=
!1),a.checkPrefs(),a.prefs[a.voPath].sortBy=a.sortBy,a.prefs[a.voPath].sortDesc=a.sortDesc,a.runSearch(),a.savePrefs(!0))};a.toggleFilter=function(b,c){var d,e=a.getColumnFilterType(c);if(e&&a.checkIfColumnPickerChangesAreAllowed(c)){d=!a.getFilterValue("shown",c);a.setFilterValue("shown",c,d);var f=!1;d||(a.getFilterValue("value_",c)&&(a.setFilterValue("value_",c,""),f=!0),a.setFilterValue("not",c,!1));"yes_or_no"==e&&d&&(f=!0,a.setFilterValue("value_",c,1));a.setViewOptions(c);t.hideShowFields(function(){a.size(!0);
m("value_"+c)&&$(m("value_"+c)).is(":visible")&&m("value_"+c).focus()});f&&a.refreshAndShowPage()}};a.invertFilter=function(b,c,d){a.checkIfColumnPickerChangesAreAllowed(c)&&(b=!a.getFilterValue("not",c),a.setFilterValue("not",c,b),a.setViewOptions(c),a.filterSetOnColumn(c)&&a.refreshAndShowPage())};a.refreshIfFilterSet=function(b){a.getFilterValue("value_",b)&&a.refreshAndShowPage()};a.filterSetOnColumn=function(b,c){return!!a.getFilterValue("value_",b,c)};a.getFilterValue=function(b,c,d){d===l&&
(d=a.branches[a.branches.length-1].filters[a.path]);return d&&d[c]&&d[c][b]?d[c][b]:""};a.setFilterValue=function(b,c,d){var e=a.branches[a.branches.length-1].filters;e[a.path]||(e[a.path]={});e[a.path][c]||(e[a.path][c]={});d===l?delete e[a.path][c][b]:e[a.path][c][b]=d;_.isEmpty(e[a.path][c])&&delete e[a.path][c];_.isEmpty(e[a.path])&&delete e[a.path]};a.clearFilter=function(b){a.setFilterValue("value_",b);a.setFilterValue("not",b)};t.changeFiltersAfterDelay=function(){k.actAfterDelayIfNotSuperseded("changeFilters",
a.changeFilters,700)};a.changeFilters=function(){if(a.stop)a.setViewOptions();else{var b,c;for(c in a.tuix.columns)if(k.has(a.tuix.columns,c)&&a.isShowableColumn(c)){if(m("value_"+c)||m("value_"+c+"___yes"))(b=t.readField("value_"+c))?a.setFilterValue("value_",c,b):a.setFilterValue("value_",c,"");m("remove_filter_"+c)&&(m("remove_filter_"+c).className=a.filterSetOnColumn(c)?"organizer_remove_filter organizer_remove_filter_active":"organizer_remove_filter organizer_remove_filter_inactive")}a.refreshAndShowPage()}};
a.hideViewOptions=function(a){n.closeBox("AdminViewModeOptions");return!1};a.openAdvancedSearch=function(b){if(a.stop||!a.tuix.columns)return!1;a.checkPrefs()?a.openAdvancedSearch2():a.reload(l,l,a.openAdvancedSearch2);return!1};a.openAdvancedSearch2=function(){n.openBox(!1,"zenario_advanced_search","AdminAdvancedSearch",m("organizer_openAdvancedSearch"),300,0,-2,!1,!0,!1,!1,l,l,!1,!0);a.openAdvancedSearch3()};a.openAdvancedSearch3=function(){var b='<div class="organizer_colsortheader"><a onclick="zenarioO.hideAdvancedSearch();"></a>'+
q.advancedSearches+'</div><div class="organizer_colsortfields" id="organizer_colsortfields">',c=0,d=0;if(a.prefs[a.voPath].adv_searches)for(c in a.prefs[a.voPath].adv_searches)k.has(a.prefs[a.voPath].adv_searches,c)&&(c==1*c&&a.prefs[a.voPath].adv_searches[c].first_tab&&a.prefs[a.voPath].adv_searches[c].first_tab.name&&d<a.numberOfAdvancedSearches?(b+='<p class="saved_search'+(a.advancedSearch==c?" current_search":"")+'"><a class="organizer_search_name" onclick="zenarioO.openAdvancedSearchSettings('+
c+');">'+w(a.prefs[a.voPath].adv_searches[c].first_tab.name)+"</a>",c!=a.advancedSearch&&(b+=' <a class="organizer_delete_search" onclick="zenarioO.deleteAdvancedSearchConfirm('+c+');">'+q.deleteSearch+"</a>"),b+="</p>",++d):a.deleteAdvancedSearch(c));d<a.numberOfAdvancedSearches&&(b+='<p class="organizer_new_search"><a onclick="zenarioO.openAdvancedSearchSettings('+ ++c+');">'+q.createSearch+"</a></p>");b+="</div>";m("zenario_fbAdminAdvancedSearch").innerHTML=b;k.addJQueryElements("#zenario_fbAdminAdvancedSearch ",
!0);a.size(!0)};a.deleteAdvancedSearchConfirm=function(b){var c=q.deleteSearchConfirm.replace(/\[\[name\]\]/g,w(a.prefs[a.voPath].adv_searches[b].first_tab.name));n.floatingBox(c,'<input type="button" class="submit_selected" value="'+q.deleteSearch+'" onclick="zenarioO.deleteAdvancedSearch('+b+'); zenarioO.openAdvancedSearch3();"/><input type="button" class="submit" value="'+q.cancel+'"/>',!0)};a.deleteAdvancedSearch=function(b){a.checkPrefs();delete a.prefs[a.voPath].adv_searches[b];a.savePrefs()};
a.clearAdvancedSearch=function(b){a.advancedSearch&&(a.saveAdvancedSearch(!1),a.runSearch())};a.hideAdvancedSearch=function(a){n.closeBox("AdminAdvancedSearch");return!1};a.openAdvancedSearchSettings=function(b){a.hideAdvancedSearch();var c=l;a.prefs[a.voPath].adv_searches&&(c=a.prefs[a.voPath].adv_searches[b]);t.open("advanced_search",{search:b,organizer_path:a.path},l,c,function(b,c){b.search&&b.search==1*b.search&&c.first_tab&&c.first_tab.name&&(a.checkPrefs(),a.prefs[a.voPath].adv_searches||(a.prefs[a.voPath].adv_searches=
{}),a.prefs[a.voPath].adv_searches[b.search]=c,a.saveAdvancedSearch(b.search),a.savePrefs(),a.runSearch())})};a.isInfoTag=function(a){return"back_link"===a||"class_name"===a||"count"===a||"ord"===a};a.isShowableColumn=function(b,c){return c?a.shownColumns[b]&&a.isShowableColumn(b):a.tuix.columns[b]&&!a.isInfoTag(b)&&!n.hidden(a.tuix.columns[b])&&a.tuix.columns[b].title&&!s(a.tuix.columns[b].server_side_only)};a.createSortArray=function(b,c,d,e){var f,g=!1,r;"items"==c&&a.tuix.columns&&a.tuix.columns[d]&&
(g=a.tuix.columns[d].format);a[b]=[];if(a.tuix[c])for(var h in a.tuix[c])k.has(a.tuix[c],h)&&!a.isInfoTag(h)&&a.tuix[c][h]&&(f=a.tuix[c][h][d],"true_or_false"==g||"yes_or_no"==g?a[b].push([h,s(f),!0]):"remove_zero_padding"!=g&&f==(r=1*f)?a[b].push([h,r,!0]):f?a[b].push([h,f.toLowerCase(),!1]):a[b].push([h,0,!0]));e?a[b].sort(a.sortArrayDesc):a[b].sort(a.sortArray);for(h in a[b])k.has(a[b],h)&&(a[b][h]=a[b][h][0])};a.createSortArrayTopLevel=function(b){var c,d;a[b]=[];for(var e in a.map)k.has(a.map,
e)&&!a.isInfoTag(e)&&(c=a.map[e].ord,c==(d=1*c)?a[b].push([e,d,!0]):c?a[b].push([e,c.toLowerCase(),!1]):a[b].push([e,0,!0]));a[b].sort(a.sortArray);for(e in a[b])k.has(a[b],e)&&(a[b][e]=a[b][e][0])};a.createSortArraySecondLevel=function(b,c){var d,e;a[b]=[];if(a.map[c].nav)for(var f in a.map[c].nav)k.has(a.map[c].nav,f)&&!a.isInfoTag(f)&&(d=a.map[c].nav[f].ord,d==(e=1*d)?a[b].push([f,e,!0]):d?a[b].push([f,d.toLowerCase(),!1]):a[b].push([f,0,!0]));a[b].sort(a.sortArray);for(f in a[b])k.has(a[b],f)&&
(a[b][f]=a[b][f][0])};a.sortArray=function(a,c){return a[1]===c[1]?0:(a[2]?c[2]:!c[2])?a[1]<c[1]?-1:1:a[2]?-1:1};a.sortArrayDesc=function(b,c){return a.sortArray(c,b)};a.dateDays="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");a.dateMonths="January Feburary March April May June July August September October November December".split(" ");a.checkCondition=function(b){var c,d=a.pi.returnSelectedItems();for(c in d)if(k.has(d,c)&&(!a.tuix.items[c]||!b(c,a.tuix.items[c])))return!1;
return!0};a.columnEqual=function(b,c){return a.checkCondition(function(d){return a.columnRawValue(d,b)==c})};a.columnNotEqual=function(b,c){return a.checkCondition(function(d){return a.columnRawValue(d,b)!=c})};a.columnRawValue=function(b,c){return a.tuix&&a.tuix.columns&&a.tuix.columns[c]!==l&&a.tuix.items[b]!==l?a.tuix.items[b][c]:""};a.columnValue=function(b,c,d){if(!a.tuix||!a.tuix.columns||a.tuix.columns[c]===l)return"";var e=a.tuix.items[b][c],e=e===l||!1===e||null===e?"":""+e,f=a.tuix.columns[c].item_link,
g=!0,r=!1;if(f){var v=!1;if("menu_item"==f){var m=a.itemLanguage(b);e&&a.menuItems[m]&&(v=a.menuItems[m].items)&&(v=v[e])}else if("content_item"==f||"content_item_or_url"==f){var m=a.itemLanguage(b),s=a.itemParent(b);if(!(e&&a.contentItems[m]&&a.contentItems[m][s]&&(v=a.contentItems[m][s].items)&&(v=v[e])))if("content_item_or_url"==f&&e&&"_"!=e.substr(0,1)&&"_"!=e.substr(1,2))v={name:e,frontend_link:e},g=!1;else return""}if(v){if(d)return v.name;d="";if(a.tuix.items[b].cell_css_classes&&a.tuix.items[b].cell_css_classes[c]&&
-1!=(""+a.tuix.items[b].cell_css_classes[c]).indexOf("ghost"))if(d=' style="cursor: default;"',"menu_item"==f)d+=' title="'+w(v.name)+'|"';else{if("content_item"==f||"content_item_or_url"==f)d+=' title="'+w(v.name)+'|"'}else if(g&&a.shallowLinks[f]&&!h.zenarioONotFull?d=' href="organizer.php#'+w(u(v.navigation_path,a.shallowLinks[f]+"//"+b))+'" onclick="zenarioO.deselectAllItems();var selectedItems = {};selectedItems[\''+w(b)+"'] = true;zenarioO.pi.cmsSetsSelectedItems(selectedItems);zenarioO.setHash();zenarioO.go('"+
w(a.shallowLinks[f])+"', true, {id: '"+w(e)+"', name: 'following_item_link', languageId: '"+w(a.itemLanguage(b))+"'}, undefined, undefined, undefined, undefined, '"+w(e)+"');return zenario.stop(event);\"":v.navigation_path?d=' href="'+J+"zenario/admin/organizer.php#/"+w(v.navigation_path)+'" target="_blank"':(g=!1,v.frontend_link&&(r=!0,d=' href="'+w(k.addBasePath(v.frontend_link))+'" target="_blank"')),g)if("menu_item"==f)d+=' title="'+w(v.name)+"|"+q.clkToViewLinkedMenuNode+'"';else{if("content_item"==
f||"content_item_or_url"==f)d+=' title="'+w(v.name)+"|"+q.clkToViewLinkedCItem+'"'}else r&&(d+=' title="'+w(v.name)+"|"+q.clkToViewLinkInNewWindow+'"');c='<table class="organizer_no_border item_link"><tr>';v.css_class&&(c+='<td><div class="listicon '+v.css_class+'"><a'+d+"></a></div></td>");c+='<td class="organizer_item_link_text" width="95%">';"menu_item"==f?(e=w(v.name),f=e.replace(/.*?\-\&gt\; /g,"-&gt; "),f==e&&(f=e.replace(/.*?\: /g,"")),c+="<a"+d+">"+f+"</a>"):c+="<a"+d+">"+w(v.name)+"</a>";
return c+"</td></tr></table>"}}if(a.tuix.columns[c].format||a.tuix.columns[c].empty_value)e=n.formatSKItemField(e,a.tuix.columns[c]);f=a.tuix.columns[c].length_limit&&e.length>a.tuix.columns[c].length_limit;return d?f?e.substr(0,a.tuix.columns[c].length_limit)+"...":e:f?'<span class="tooltip" title="'+w(e)+'">'+w(e.substr(0,a.tuix.columns[c].length_limit))+"...</span>":w(e)};a.rowCssClass=function(b){return a.tuix.items[b]&&a.tuix.items[b].row_css_class?" "+a.tuix.items[b].row_css_class:""};a.columnCssClass=
function(b,c){var d="";a.tuix.columns[b]&&a.tuix.columns[b].css_class&&(d+=" "+a.tuix.columns[b].css_class);c!=l&&a.tuix.items[c]&&a.tuix.items[c].cell_css_classes&&a.tuix.items[c].cell_css_classes[b]&&(d+=" "+a.tuix.items[c].cell_css_classes[b]);return d};a.setBackButton=function(){var b,c="",d=a.getBackButtonTitle(-1,!0),e={buttons:[]};if(d&&0!=d.length){m("organizer_branding_title").style.display="none";m("organizer_backButton").style.display="block";for(b in d)k.has(d,b)&&(e.buttons[b]={orderAsc:b+
1,orderDesc:d.length-b,title:d[b]});c=n.microTemplate("zenario_organizer_back_buttons",e)}else m("organizer_branding_title").style.display="block",m("organizer_backButton").style.display="none";m("organizer_backButton").innerHTML=c;n.tooltips("#organizer_backButton *[title]");n.setTooltipIfTooLarge(".organizer_lastBackButton a",l,n.tooltipLengthThresholds.organizerBackButton)};a.getBackButtonTitle=function(b,c){return a.getFromLastPanel(a.branches.length-1,a.path,"title",!1,b,c)};a.getSelectedItemFromLastPanel=
function(b){var c,d=!1;(panelInstance=a.getFromLastPanel(a.branches.length-1,a.path,"panel_instances",!0))&&(panelInstance=panelInstance[b])&&(d=panelInstance.returnSelectedItems());if(d)for(c in d)if(k.has(d,c))return c;return!1};a.getFromLastPanel=function(b,c,d,e,f,g,k,n){if(!a.tuix||!a.path)return!1;var m=!1,u,q,t=!1,p=!1;f===l&&(f=1);k===l&&(k={});k.path===l&&(k.path=c);k.pops===l&&(k.pops=0);if(0===b&&-1==c.indexOf("/")||"no_return"!=d&&(s(a.getFromLastPanel(b,c,"no_return"))||0===b&&!a.tuix.back_link||
1>=b&&(u=a.getHash(!0,b))&&(0===b&&u==a.currentTopLevelPath||1===b&&u==a.currentTopLevelPath)))return!1;if(0<b&&c==a.branches[b].to){if(h.zenarioONotFull&&h.zenarioOMinPath&&c==h.zenarioOMinPath&&(h.zenarioODisallowRefinersLoopingOnMinPath||a.branches[b].from!=c))return!1;if(a.branches[b-1].bypasses[a.branches[b].from]&&a.knownBranches[a.branches[b].from]&&a.knownBranches[a.branches[b].from][a.branches[b].to]&&a.knownBranches[a.branches[b].from][a.branches[b].to][a.branches[b].refiners[a.branches[b].to]?
a.branches[b].refiners[a.branches[b].to].name:1]&&"item"==a.knownBranches[a.branches[b].from][a.branches[b].to][a.branches[b].refiners[a.branches[b].to]?a.branches[b].refiners[a.branches[b].to].name:1].substr(-4))return a.getFromLastPanel(b-1,a.branches[b].from,d,e,f,g,k,!0);t=!0;c=e?a.branches[b-1][d]:a.branches[b][d]}else if(a.branches[b][d])t=!0,c=a.branches[b][d];else if(q=n||c!=a.path?a.followPathOnMap(c,"back_link"):a.tuix.back_link){if(h.zenarioONotFull&&h.zenarioOMinPath&&c==h.zenarioOMinPath&&
(h.zenarioODisallowRefinersLoopingOnMinPath||q!=c))return!1;p=!0;c=a.followPathOnMap(q,d)}else return!1;t?(k.path=a.branches[b].from,++k.pops):p&&q&&(k.path=q);if(0!=--f)if(t)m=a.getFromLastPanel(b-1,a.branches[b].from,d,e,f,g,k,!0);else if(p&&q)m=a.getFromLastPanel(b,q,d,e,f,g,k,!0);else return!1;return g?(m||(m=[]),m[m.length]=c,m):!1!==m?m:c};a.setNavigation=function(){var b,c,d=-1,e,f,g=0,h={items:[],selected1st:0},l=a.path,q=a.getHash(!0);1<a.branches.length&&(l=a.branches[1].from);for(b in a.map)if(k.has(a.map,
b)&&"object"==typeof a.map[b]&&a.map[b].nav)for(c in a.map[b].nav)if(k.has(a.map[b].nav,c)&&"object"==typeof a.map[b].nav[c]){l=b+"/nav/"+c+"/panel";a.map[b].nav[c].link&&a.map[b].nav[c].link.path&&(l=a.map[b].nav[c].link.path);var t=(l+"").length+1;g<t&&(q+"/").substr(0,t)==l+"/"&&(g=t,e=b,f=c)}for(var w in a.sortedTopLevelItems)if(k.has(a.sortedTopLevelItems,w)&&(b=a.sortedTopLevelItems[w],!n.hidden(a.map[b]))){g=!0;q=-1;h.items[++d]={id:b,items:[],selected:b===e,css_class:a.map[b].css_class,label:u(a.map[b].label,
a.map[b].name),tooltip:a.map[b].tooltip};a.setDataAttributes(a.map[b],h.items[d]);b===e&&(h.selected1st=d);a.createSortArraySecondLevel("sortedSecondLevelItems",b);for(var y in a.sortedSecondLevelItems)k.has(a.sortedSecondLevelItems,y)&&(c=a.sortedSecondLevelItems[y],n.hidden(a.map[b].nav[c])||(l=a.map[b].nav[c].link&&a.map[b].nav[c].link.path?a.map[b].nav[c].link.path:b+"/nav/"+c+"/panel",b===e&&c===f&&(a.currentTopLevelPath=l),h.items[d].items[++q]={id:c,selected:b===e&&c===f,href:"#"+l,onclick:"zenarioO.topLevelClick('"+
K(b)+"', '"+K(c)+"', "+s(0==q)+"); return false;",label:u(a.map[b].nav[c].label,a.map[b].nav[c].name),tooltip:a.map[b].nav[c].tooltip},g&&(g=!1,h.items[d].href=h.items[d].items[q].href,h.items[d].onclick=h.items[d].items[q].onclick)))}m("organizer_leftColumn").innerHTML=n.microTemplate("zenario_organizer_nav",h);n.tooltips("#organizer_leftColumn #organizer_topLevelNav a[title]",{position:{my:"left+2 center",at:"right center",collision:"flipfit"},show:!1,hide:!1});n.tooltips("#organizer_leftColumn .organizer_sectionTitleTextAnd2ndLevelNav a[title]",
{position:{my:"left+2 center",at:"right center",collision:"flipfit"}});var p=$("#organizer_topLevelNav");$("#organizer_topLevelNavScrollUp").mousehold(function(){a.scrollTopLevelNav(p,!0)},100);$("#organizer_topLevelNavScrollDown").mousehold(function(){a.scrollTopLevelNav(p,!1)},100);a.setTopLevelNavScrollStatus(p)};a.scrollTopLevelNav=function(b,c){b.scrollTop(b.scrollTop()+(c?-50:50));a.setTopLevelNavScrollStatus(b)};a.setTopLevelNavScrollStatus=function(a){a||(a=$("#organizer_topLevelNav"));var c=
$("#organizer_topLevelNavInner").outerHeight()-a.innerHeight();0>=c?$("#organizer_topLevelNavScroll").hide():($("#organizer_topLevelNavScroll").show(),a=a.scrollTop(),0<a?$("#organizer_topLevelNavScrollUp").addClass("organizer_scrollActive"):$("#organizer_topLevelNavScrollUp").removeClass("organizer_scrollActive"),a<c?$("#organizer_topLevelNavScrollDown").addClass("organizer_scrollActive"):$("#organizer_topLevelNavScrollDown").removeClass("organizer_scrollActive"))};a.setDataAttributes=function(a,
c){for(var d in a)k.has(a,d)&&"data"==d.substr(0,4)&&(c[d]=a[d])};a.checkButtonHidden=function(b){if(n.hidden(b,!0)||h.zenarioONotFull&&b.frontend_link||h.zenarioOQuickMode&&s(b.hide_in_quick_mode)||h.zenarioOSelectMode&&s(b.hide_in_select_mode)||!(h.zenarioOQuickMode||!s(b.quick_mode_only)||h.zenarioOSelectMode&&s(b.select_mode_only))||!(h.zenarioOSelectMode||!s(b.select_mode_only)||h.zenarioOQuickMode&&s(b.quick_mode_only)))return!0;if(b.only_show_on_refiner){if(!a.refiner)return!0;if("object"==
typeof b.only_show_on_refiner){if(!s(b.only_show_on_refiner[a.refiner.name]))return!0}else if(a.refiner.name!=b.only_show_on_refiner)return!0}if(b.hide_on_refiner&&a.refiner)if("object"==typeof b.hide_on_refiner){if(s(b.hide_on_refiner[a.refiner.name]))return!0}else if(a.refiner.name==b.hide_on_refiner)return!0;return b.call_js_function&&!n.checkFunctionExists(b.call_js_function["function"],b.call_js_function.encapsulated_object)||a.pathNotAllowed(b.link)?!0:!1};a.setButtons=function(){var b=a.pi.returnSelectedItems();
a.itemsSelected=0;for(var c in b)k.has(b,c)&&++a.itemsSelected;a.pi.showButtons($("#organizer_buttons"));a.setChooseButton()};a.getQuickFilters=function(){var b=-1,c,d=[],e={},f,g,h;for(h in a.sortedQuickFilterButtons)k.has(a.sortedQuickFilterButtons,h)&&(g=a.sortedQuickFilterButtons[h],c=a.tuix.quick_filter_buttons[g],a.checkButtonHidden(c)||(f=a.checkDisabled(c),d[++b]={id:g,tuix:c,css_class:u(c.css_class,"",""),label:c.label,disabled:f},e[g]=b,d[b].tooltip=f&&c.disabled_tooltip?c.disabled_tooltip:
c.tooltip,d[b].onclick="zenarioO.toggleQuickFilter('"+K(g)+"'); return false;",d[b].enabled=a.quickFilterEnabled(g)));for(b in d)k.has(d,b)&&(c=d[b],f=c.tuix.parent)&&(f=e[f],f=d[f])&&(f.children||(f.children=[],f.css_class+=" organiser_button_with_children"),c.enabled&&!s(f.remove_filter)&&(f.childEnabled=!0),f.children.push(c));for(b=d.length-1;0<=b;--b)c=d[b],(c.tuix.parent||s(c.tuix.hide_when_children_are_not_visible)&&!c.children)&&d.splice(b,1);return d};a.getCollectionButtons=function(){var b=
-1,c,d=[],e={},f,g,h;for(h in a.sortedCollectionButtons)k.has(a.sortedCollectionButtons,h)&&(g=a.sortedCollectionButtons[h],c=a.tuix.collection_buttons[g],a.checkButtonHidden(c)||!a.searchMatches&&(s(c.do_csv_export)||s(c.hide_when_no_search_results))||(f=a.checkDisabled(c),d[++b]={id:g,tuix:c,css_class:u(c.css_class,"label_without_icon"),label:u(c.label,c.name),disabled:f},e[g]=b,d[b].tooltip=f&&c.disabled_tooltip?c.disabled_tooltip:c.tooltip,f?d[b].onclick="return false;":c.navigation_path?d[b].href=
"#/"+c.navigation_path:c.frontend_link?d[b].href=k.addBasePath(c.frontend_link):d[b].onclick="zenarioO.collectionButtonClick('"+K(g)+"'); return false;"));for(b in d)k.has(d,b)&&(c=d[b],f=c.tuix.parent)&&(f=e[f],f=d[f])&&(f.children||(f.children=[],f.css_class+=" organiser_button_with_children"),f.children.push(c));for(b=d.length-1;0<=b;--b)c=d[b],(c.tuix.parent||s(c.tuix.hide_when_children_are_not_visible)&&!c.children)&&d.splice(b,1);return d};a.buttonsPrevHTML="";a.fadeOutLastButtons=function(b,
c,d){if(m("organizer_rightColumnOptions")){var e=$("#organizer_collectionToolbar"),f=$("#organizer_collectionToolbarButtons"),g=$("#organizer_itemToolbar"),k=$("#organizer_itemToolbarButtons"),h=$("#organizer_previousToolbar"),l=$("#organizer_previousToolbarButtons");e.is(":visible")&&e.clearQueue().hide();g.is(":visible")&&g.clearQueue().hide();c?k.html(b):f.html(b);h.clearQueue().hide();d&&a.buttonsPrevHTML!=b?(a.buttonsPrevHTML&&(l.html(a.buttonsPrevHTML),h.show().fadeOut({duration:250,easing:"zenarioLinearWithDelayAfterwards",
complete:function(){l.html("")}})),c?g.css("animation","none").fadeIn({duration:250,easing:"zenarioLinearWithDelayAfterwards",complete:function(){g.css("animation","");g.addClass("yellow_flash")}}):e.css("animation","none").fadeIn({duration:250,easing:"zenarioLinearWithDelay",complete:function(){e.css("animation","");e.addClass("white_flash")}})):c?g.show():e.show();a.buttonsPrevHTML=b}};a.showCollectionButtons=function(b,c){a.fadeOutLastButtons(b,!1,c)};a.hideCollectionButtons=function(b){a.fadeOutLastButtons("",
!1,b)};a.showItemButtons=function(b,c){a.fadeOutLastButtons(b,!0,c)};a.hideItemButtons=function(b){a.fadeOutLastButtons("",!0,b)};a.getItemButtons=function(){var b,c=-1,d,e=[],f={},g,h,l=a.pi.returnSelectedItems();if(0<a.itemsSelected)for(h in a.sortedItemButtons)if(k.has(a.sortedItemButtons,h)&&(b=a.sortedItemButtons[h],d=a.tuix.item_buttons[b],!a.checkButtonHidden(d))){var m=g=1;s(d.multiple_select)&&(g=d.multiple_select_max_items,s(d.multiple_select_only)&&(m=2));if(!(a.itemsSelected<m||g&&a.itemsSelected>
g)&&a.checkTraits(d,l))if(g=a.checkDisabled(d,l),e[++c]={id:b,tuix:d,css_class:u(d.css_class,"label_without_icon"),label:u(d.label,d.name),disabled:g},f[b]=c,1<a.itemsSelected&&d.multiple_select_label&&(e[c].label=d.multiple_select_label),e[c].tooltip=g&&d.disabled_tooltip?d.disabled_tooltip:1<a.itemsSelected&&d.multiple_select_tooltip?d.multiple_select_tooltip:d.tooltip,g)e[c].onclick="return false;";else if(d.navigation_path){var n,q;(n=a.getKeyId(!0))&&(q=a.tuix.items[n])&&q.navigation_path?e[c].href=
"#/"+q.navigation_path:e[c].href="#/"+d.navigation_path}else d.frontend_link?(n=a.getKeyId(!0))&&(q=a.tuix.items[n])&&q.frontend_link?e[c].href=k.addBasePath(q.frontend_link):e[c].href=k.addBasePath(d.frontend_link):e[c].onclick="zenarioO.itemButtonClick('"+K(b)+"'); return false;"}for(c in e)k.has(e,c)&&(d=e[c],b=d.tuix.parent)&&(b=f[b],b=e[b])&&(b.children||(b.children=[],b.css_class+=" organiser_button_with_children"),b.children.push(d));for(c=e.length-1;0<=c;--c)d=e[c],(d.tuix.parent||s(d.tuix.hide_when_children_are_not_visible)&&
!d.children)&&e.splice(c,1);return e};a.checkDisabled=function(b,c){var d;if(s(b.disabled)||b.disabled_if!==l&&n.eval(b.disabled_if,b))return!0;if(c&&b.disabled_if_for_any_selected_items!==l)for(d in c)if(k.has(c,d)&&n.eval(b.disabled_if_for_any_selected_items,b,a.tuix.items[d],d))return!0;if(c&&b.disabled_if_for_all_selected_items!==l){for(d in c)if(k.has(c,d)&&!n.eval(b.disabled_if_for_all_selected_items,b,a.tuix.items[d],d))return!1;return!0}return!1};a.checkTraits=function(b,c){var d,e;if(!b)return!0;
if(b.visible_if_for_all_selected_items!==l)for(d in c)if(k.has(c,d)&&!n.eval(b.visible_if_for_all_selected_items,b,a.tuix.items[d],d))return!1;e=!1;if(b.visible_if_for_any_selected_items!==l){for(d in c)if(k.has(c,d)&&n.eval(b.visible_if_for_any_selected_items,b,a.tuix.items[d],d)){e=!0;break}if(!e)return!1}e=!0;var f={traits:{condition:function(b,c){return a.tuix.items[b].traits&&s(a.tuix.items[b].traits[c])}},without_traits:{condition:function(b,c){return!a.tuix.items[b].traits||!s(a.tuix.items[b].traits[c])}},
with_columns_set:{condition:function(b,c){return s(a.tuix.items[b][c])}},without_columns_set:{condition:function(b,c){return!s(a.tuix.items[b][c])}}};f.one_with_traits=$.extend(!0,{},f.traits,{one:!0});f.one_without_traits=$.extend(!0,{},f.without_traits,{one:!0});f.one_with_columns_set=$.extend(!0,{},f.with_columns_set,{one:!0});f.one_without_columns_set=$.extend(!0,{},f.without_columns_set,{one:!0});for(var g in f)if(k.has(f,g)){if(b[g])for(d in e=!f[g].one,c)if(k.has(c,d)){var h=!0,m;for(m in b[g])if(k.has(b[g],
m)&&!a.isInfoTag(m)&&s(b[g][m])&&!f[g].condition(d,m)){h=!1;break}if(f[g].one){if(h){e=!0;break}}else if(!h){e=!1;break}}if(!e)break}return e};a.checkItemPickable=function(b){var c={};c[b]=!0;return a.checkTraits(h.zenarioOSelectObject,c)&&!a.checkDisabled(h.zenarioOSelectObject,c)};a.getInlineButtons=function(b){var c=-1,d=[],e,f,g;for(g in a.sortedInlineButtons)if(k.has(a.sortedInlineButtons,g)&&(f=a.sortedInlineButtons[g],button=a.tuix.inline_buttons[f],e={},e[b]=!0,!a.checkButtonHidden(button)&&
a.checkTraits(button,e)))if(e=a.checkDisabled(button,e),d[++c]={id:f,tuix:button,css_class:u(button.css_class,"label_without_icon"),label:u(button.label,button.name),disabled:e},d[c].tooltip=e&&button.disabled_tooltip?button.disabled_tooltip:button.tooltip,e)d[c].onclick="return false;";else if(button.navigation_path){var h;(h=a.tuix.items[b])&&h.navigation_path?d[c].href="#/"+h.navigation_path:d[c].href="#/"+button.navigation_path}else button.frontend_link?(h=a.tuix.items[b])&&h.frontend_link?d[c].href=
a.parseReturnLink(h.frontend_link):d[c].href=a.parseReturnLink(button.frontend_link):d[c].onclick="zenarioO.inlineButtonClick('"+K(f)+"', '"+K(b)+"'); return false;";return d.length?d:l};a.chooseButtonActive=function(){return h.zenarioOSelectMode&&(a.path==h.zenarioOTargetPath||!1===h.zenarioOTargetPath)};a.setChooseButton=function(){if(h.zenarioOSelectMode){var b=u(h.zenarioOChoosePhrase,q.choose),c=!0,d="submit_disabled",e=a.pi.returnSelectedItems();a.chooseButtonActive()&&a.checkTraits(h.zenarioOSelectObject,
e)&&!a.checkDisabled(h.zenarioOSelectObject,e)&&(0<a.itemsSelected||h.zenarioOAllowNoSelection)&&(1>=a.itemsSelected||h.zenarioOMultipleSelect)?(c=!1,d=h.zenarioOChooseButtonActiveClass?"submit_selected":"submit",0==a.itemsSelected&&h.zenarioOAllowNoSelection&&h.zenarioONoSelectionChoosePhrase?b=h.zenarioONoSelectionChoosePhrase:1<a.itemsSelected&&h.zenarioOChooseMultiplePhrase&&(b=h.zenarioOChooseMultiplePhrase)):h.zenarioOAllowNoSelection&&h.zenarioONoSelectionChoosePhrase&&(b=h.zenarioONoSelectionChoosePhrase);
m("organizer_choose_button").disabled=c;m("organizer_choose_button").className=d;m("organizer_choose_button").value=w(b)}};a.getCurrentPage=function(){return a.page};a.getPageCount=function(){a.pageCount=a.thisPageSize&&a.searchMatches!==l?Math.ceil(a.searchMatches/a.thisPageSize):1;return a.pageCount};a.setPanelTitle=function(){if(a.pi&&a.tuix&&m("organizer_rightColumnTitle")){m("organizer_rightColumnTitle").style.display="";var b=a.pi.returnPanelTitle();a.tuix.item&&a.tuix.item.css_class?m("organizer_panelTitle").innerHTML=
'<div class="listicon '+a.tuix.item.css_class+'"></div><div>'+w(b)+"</div>":m("organizer_panelTitle").innerHTML=w(b);Math.max(0,u($("#organizer_rightColumnTitle").width(),0,0)-75-u($("#organizer_collectionToolbar").width(),90));n.setTooltipIfTooLarge("#organizer_panelTitle",b,n.tooltipLengthThresholds.organizerPanelTitle);n.storekeeperWindow&&(S.title=a.pageTitle+q.colon+b)}};a.setTrash=function(){!h.zenarioOSelectMode&&a.tuix&&a.tuix.trash?(m("organizer_trash_button").style.display="",m("organizer_trash_button").className=
s(a.tuix.trash.empty)?u(a.tuix.trash.empty_css_class,"trash_button_empty"):u(a.tuix.trash.full_css_class,"trash_button_full"),n.tooltips("#organizer_trash_button a",{position:{my:"center bottom-12",at:"center top",collision:"flipfit",using:k.tooltipsUsing},items:"*",content:s(a.tuix.trash.empty)?u(a.tuix.trash.empty_tooltip,q.viewTrash):u(a.tuix.trash.full_tooltip,q.viewTrash)})):m("organizer_trash_button").style.display="none"};a.getPanelItems=function(b){var c=!1,d,e,f=-1,g=-1,h=!1,l="firstcell ",
m={},n=0,u={},t=_.clone(a.pi.returnSelectedItems()),p={items:[],columns:[],totalWidth:0,maxNumberOfInlineButtons:0,allItemsSelected:a.allItemsSelected()};for(e in a.sortedColumns)k.has(a.sortedColumns,e)&&(d=a.sortedColumns[e],a.isShowableColumn(d,!0)&&(h=d));for(e in a.sortedColumns)if(k.has(a.sortedColumns,e)){d=a.sortedColumns[e];if(a.boldColsInListView==d||-1!==a.boldColsInListView.indexOf("[["+d+"]]"))u[d]=!0;a.isShowableColumn(d,!0)&&(m[d]=a.prefs[a.voPath]&&a.prefs[a.voPath].colSizes&&a.prefs[a.voPath].colSizes[d]?
Math.max(a.prefs[a.voPath].colSizes[d],a.columnWidths.xxsmall):a.tuix.columns[d].width,m[d]&&a.columnWidths[m[d]]?m[d]=a.columnWidths[m[d]]:(m[d]*=1)||(m[d]=a.defaultColumnWidth),p.totalWidth&&(p.totalWidth+=a.columnSpacing),p.totalWidth+=m[d]+a.columnPadding,p.columns[++f]={id:d,tuix:a.tuix.columns[d],htmlId:"organizer_column__"+d,css_class:l+(h==d?"lastcell":"")+(u[d]?" label_column":"")+a.columnCssClass(d),title:a.tuix.columns[d].title,tooltip:a.tuix.columns[d].tooltip,width:m[d]},l="")}p.totalWidth+=
a.columnsExtraSpacing;a.shownItems={};a.shownItemsLength=0;if(a.tuix.items){var w,y;a.thisPageSize&&(w=a.page*a.thisPageSize,y=w-a.thisPageSize,w=Math.min(w,a.searchMatches),p.pageStart=y+1,p.pageStop=w);p.page=a.page;p.pageCount=a.pageCount;p.itemCount=a.searchMatches;var f="firstrow ",A;for(A in a.searchedItems)if(k.has(a.searchedItems,A)&&!a.isInfoTag(A)){var c=!0,z=a.searchedItems[A];if(a.thisPageSize)if(A>=w)break;else if(A<y)continue;if(a.tuix.items[z]){p.items[++g]={id:z,cells:[],tuix:a.tuix.items[z],
open_in_inspection_view:a.inspectionView&&z==a.inspectionViewItem,canClickThrough:!!a.itemClickThroughLink(z),label:a.applySmallSpaces($.trim(a.applyMergeFields(a.labelFormat,!1,z,!0))).replace(/\n/g,"<br/>"),selected:!!t[z],css_class:a.rowCssClass(z)+" "+f};p.items[g].image_css_class=a.getItemCSSClass(z);!b&&a.tuix.items[z].list_image?(p.items[g].image_css_class+=" organiser_item_with_image",p.items[g].image=k.addBasePath(a.tuix.items[z].list_image)):b&&a.tuix.items[z].image&&(p.items[g].image_css_class+=
" organiser_item_with_image",p.items[g].image=k.addBasePath(a.tuix.items[z].image));p.items[g].tooltip=a.tuix.items[z].tooltip;!p.items[g].tooltip&&a.tuix.item&&(a.tuix.item.tooltip_when_link_is_active&&a.itemClickThroughLink(z)?p.items[g].tooltip=a.applyMergeFields(a.tuix.item.tooltip_when_link_is_active,!0,z):a.tuix.item.tooltip&&(p.items[g].tooltip=a.applyMergeFields(a.tuix.item.tooltip,!0,z)));var J=-1,l="firstcell ",K=!1,P=!1,E;for(e in a.sortedColumns)k.has(a.sortedColumns,e)&&(d=a.sortedColumns[e],
a.isShowableColumn(d,!0)&&(E=a.columnValue(z,d),K=!(""==E&&0!==E),p.items[g].cells[++J]={id:d,first:!!l,css_class:"organizer_column__"+d+"__cell "+f+l+(h==d?"lastcell":"")+(s(a.tuix.columns[d].align_right)?" right":"")+(u[d]?" label_column":"")+a.columnCssClass(d,z),value:E,needsComma:K&&P,width:m[d]},l="",P=K&&!(E+"").match(/\W\s*$/)));p.items[g].inline_buttons=a.getInlineButtons(z);p.items[g].inline_buttons&&(n=p.items[g].inline_buttons.length)&&n>p.maxNumberOfInlineButtons&&(p.maxNumberOfInlineButtons=
n);f="";a.shownItems[z]=!0;++a.shownItemsLength}}for(g in p.items)k.has(p.items,g)&&(p.items[g].maxNumberOfInlineButtons=p.maxNumberOfInlineButtons)}for(z in t)k.has(t,z)&&(a.shownItems[z]||delete t[z]);a.pi.cmsSetsSelectedItems(t);c||(p.no_items_message=a.filteredView?a.tuix.no_items_in_search_message?a.tuix.no_items_in_search_message:q.noItemsInSearch:a.tuix.no_items_message?a.tuix.no_items_message:q.noItems);return p};a.getItemCSSClass=function(b){return a.tuix.items[b].css_class?a.tuix.items[b].css_class:
a.tuix.item?a.tuix.item.css_class:l};a.fillLowerLeft=function(){var a,c,d=[],e=k.sendSignal("fillOrganizerLowerLeft");e.push([[n.microTemplate("zenario_organizer_lower_left_column",{}),0]]);for(a in e)if(k.has(e,a))for(c in e[a])k.has(e[a],c)&&d.push(e[a][c]);d.sort(n.sortArray);for(a in d)k.has(d,a)&&(d[a]=d[a][0]);return d.join("\n")};a.closeSelectMode=function(){a.closeInfoBox();n.storekeeperWindow?(y.zenarioA.closeBox("AdminOrganizer",!0),a.go(a.defaultPathInIframePreload),n.showAJAXLoader()):
(a.go(a.defaultPathInIframePreload),n.closeBox("og"));return a.firstLoaded=!1};a.choose=function(){if(a.lastSuccessfulGoNum==a.goNum&&y&&h.zenarioOSelectMode&&(a.path==h.zenarioOTargetPath||!1===h.zenarioOTargetPath)&&(0<a.itemsSelected||h.zenarioOAllowNoSelection)&&(1>=a.itemsSelected||h.zenarioOMultipleSelect)){a.stopRefreshing();var b=a.getKey(!0),c=a.path,d=$.extend(!0,{},a.tuix),e;e=a.pi.returnSelectedItems();b._items={};for(var f in e)if(k.has(e,f)&&(a.isInfoTag(f)||(b._items[f]=!0),!h.zenarioOMultipleSelect))break;
!h.zenarioOMultipleSelect&&b.id?(e=d.items[b.id],e.__label_tag__=a.defaultSortColumn):e={};a.closeSelectMode();if(h.zenarioOMultipleSelect)y[h.zenarioOCallbackObject][h.zenarioOCallbackFunction](c,b,l,d);else y[h.zenarioOCallbackObject][h.zenarioOCallbackFunction](c,b,e,d)}};a.infoBox=function(a){var c=n.microTemplate("zenario_organizer_debug_info",{});n.openBox(c,"zenario_fbDebugInfoBox","DebugInfoBox",a,600,-286,28,!1,!1,l,l,l,l,!1,!1)};a.closeInfoBox=function(){n.closeBox("DebugInfoBox")};a.yourWorkInProgressLastUpdated=
0;a.updateYourWorkInProgress=function(){var b=(new Date).getTime(),c;a.yourWorkInProgressLastUpdated-b<-a.yourWorkInProgressLastUpdateFrequency&&(c=$("#zenario_ywip_dropdown"))&&(a.yourWorkInProgressLastUpdated=b,c.removeClass("zenario_ywip_loaded").addClass("zenario_ywip_loading"),b=J+"zenario/admin/ajax.php?_json=1&path=zenario__content/panels/content&_sort_col=last_modified_datetime&_sort_desc=1&_start=0&_limit="+a.yourWorkInProgressItemCount+"&refinerId=&refinerName=your_work_in_progress&refiner__your_work_in_progress=&_get_item_data=1",
k.ajax(b,!1,!0,!0).after(function(a){a=n.microTemplate("zenario_ywip",a);c.removeClass("zenario_ywip_loading").addClass("zenario_ywip_loaded").html(a)}))};$(S).ready(function(){setTimeout(a.updateYourWorkInProgress,100)});a.sizing=!1;a.lastSize=!1;a.size=function(b){var c=46,d=66,e=$("#zenario_fbog");a.sizing&&clearTimeout(a.sizing);if(m("organizer__box_wrap")){var f,g;n.storekeeperWindow?(f=Math.floor($(h).width()),g=Math.floor($(h).height())):(f=Math.floor(e.width()),g=Math.floor(e.height()));if(f&&
g&&(550>f&&(f=550),400>g&&(g=400),b||a.lastSize!=f+"x"+g)){b=m("organizer_rightColumnContent");var l=m("organizer_lowerLeftColumn"),q=m("organizer_lowerMiddleColumn"),s=m("organizer_lowerRightColumn"),t=$("#organizer_header"),u=$(b),w=$(q),p=$("#organizer_buttons");e.length&&(m("zenario_fbog").className=n.getSKBodyClass());n.storekeeperWindow||e.height(g);a.tuix&&a.tuix.banner||(d=0);h.zenarioONotFull&&--c;m("organizer_leftColumn").style.height=1*g-46-c-2+"px";m("organizer_rightColumn").style.height=
m("organizer_preloader_circle").style.height=1*g-46-c+"px";m("organizer_Outer").style.height=1*g-46+"px";m("organizer_colsortfields")&&(k.browserIsIE(6)?m("organizer_colsortfields").style.height=1*g-46-130+"px":m("organizer_colsortfields").style.maxHeight=1*g-46-130+"px");c=1*g-46-c-40-d-30-2-a.columnPadding+0-55-13;b&&(b.style.height=c+"px");a.showLeftColumn?(c=204,m("organizer_leftColumn").style.display=m("organizer_leftColumnOuter").style.display=""):(c=0,m("organizer_leftColumn").style.display=
m("organizer_leftColumnOuter").style.display="none");m("organizer__box_top").style.width=m("organizer__box_wrap").style.width=m("organizer__box_center").style.width=m("organizer__box_bottom").style.width=f-0+"px";m("organizer_Outer").style.width=f-22+"px";m("organizer_wrapInner_bm").style.width=f-32+"px";m("organizer_wrapOuter_tm").style.width=f-0+"px";m("organizer_rightColumn").style.width=m("organizer_preloader_circle").style.width=f-30-c+"px";m("organizer_rightColumnTitle")&&(m("organizer_rightColumnTitle").style.width=
f-30-c-2+"px");b&&(b.style.width=f-30-c-2+"px");h.zenarioOSelectMode?m("organizer_choose_button").style.display="inline":m("organizer_choose_button").style.display="none";825>=f?(l.style.width="40%",q.style.width="49%",s.style.width="10%"):965>=f?(l.style.width="35%",q.style.width="49%",s.style.width="15%"):1155>=f?(l.style.width="30%",q.style.width="49%",s.style.width="20%"):1155<=f&&(l.style.width="25%",q.style.width="49%",s.style.width="25%");a.setPanelTitle();a.pi&&a.pi.sizePanel(t,u,w,p);a.lastSize=
f+"x"+g;a.setTopLevelNavScrollStatus()}k.browserIsIE()&&m("organizer_rightColumnContent")&&(k.browserIsIE(8)?m("organizer_Outer").onselectstart=function(){return!1}:(m("organizer_leftColumnOuter").onselectstart=m("organizer_itemCountWrap").onselectstart=function(){return!1},m("organizer_rightColumn").onselectstart=function(){return!(1<a.itemsSelected)}));a.sizing=setTimeout(a.size,500)}}});
