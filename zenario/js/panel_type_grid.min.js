zenario.lib(function(u,q,v,h,w,x,l,g,y,z,c,n,m,A,B,C,r,s,t,p){var e=t(p.grid=s(p.base));e.returnPanelTitle=function(){var a=this.tuix.title;!h.zenarioOSelectMode||c.path!=h.zenarioOTargetPath&&!1!==h.zenarioOTargetPath||(h.zenarioOMultipleSelect&&this.tuix.multiple_select_mode_title?a=this.tuix.multiple_select_mode_title:this.tuix.select_mode_title&&(a=this.tuix.select_mode_title));c.filteredView&&(a+=r.refined);return a};e.showPanel=function(a,d,b){this.setHeader(a);a.find("#organizer_viewOptions").show();
this.items=c.getPanelItems(!0);d.html(g.microTemplate("zenario_organizer_grid",this.items));d.show();this.setScroll(d);this.drawPagination(b,this.items);this.setTooltips(a,d,b)};e.showButtons=function(a){var d,b={itemButtons:!1,collectionButtons:!1};0<c.itemsSelected?b.itemButtons=c.getItemButtons():b.collectionButtons=c.getCollectionButtons();d=g.microTemplate("zenario_organizer_panel_buttons",b);a.html(d).show();this.enableDragDropUpload(b.collectionButtons,b.itemButtons);g.tooltips(a.find("a[title]"));
g.tooltips(a.find(".toolbarButtons ul ul a[title]"),{position:{my:"left+2 center",at:"right center",collision:"flipfit"}})};e.setScroll=function(a){e.restoreScrollPosition(a);var d,b,g;(d=c.getKeyId(!0))&&setTimeout(function(){if(b=$(n("organizer_item_"+d)).position())g=Math.max(0,b.top+a.scrollTop()-Math.floor(a.height()/4)),a.stop().animate({scrollTop:g},250)},1)};e.enableDragDropUpload=function(a,d){g.canDoHTML5Upload()||this.disableDragDropUpload();var b,e,f,k=!1;do{if(d)for(b in d)if(l.has(d,
b)&&(f=d[b],!f.disabled&&f.tuix.upload&&m(f.tuix.upload.drag_and_drop))){k=f.tuix;break}if(a)for(b in a){if(l.has(a,b)&&(f=a[b],!f.disabled&&f.tuix.upload&&m(f.tuix.upload.drag_and_drop))){k=f.tuix;break}}else for(e in this.tuix.collection_buttons)if(l.has(this.tuix.collection_buttons,e)&&(f=this.tuix.collection_buttons[e],!c.isInfoTag(e)&&f.upload&&m(f.upload.drag_and_drop)&&!c.checkButtonHidden(f)&&!c.checkDisabled(f))){k=f;break}}while(0);if(k){var h;b=c.getKey(c.uploadIsItemLevel);if(k.upload&&
k.upload.request)for(h in k.upload.request)l.has(k.upload.request,h)&&(c.isInfoTag(h)||(b[h]=k.upload.request[h]));b.__pluginClassName__=k.class_name;b.__path__=c.path;b.method_call="handleOrganizerPanelAJAX";g.setHTML5UploadFromDragDrop(q+"zenario/ajax.php",b,function(){c.disableInteraction()},function(){c.enableInteraction();c.selectCreatedIds()},n("organizer_rightColumn"));$("#organizer_rightColumn").addClass("upload_enabled").removeClass("dragover")}else this.disableDragDropUpload()};e.disableDragDropUpload=
function(){g.clearHTML5UploadFromDragDrop();$("#organizer_rightColumn").removeClass("upload_enabled").removeClass("dragover")};e.setHeader=function(a){var d={quickFilters:c.getQuickFilters()};a.html(g.microTemplate("zenario_organizer_panel_header",d));a.show()};e.sizePanel=function(a,c,b,e){this.items&&this.drawPagination(b)};e.drawPagination=function(a){a.html(g.microTemplate("zenario_organizer_pagination",this.items)).show();var d=c.getPageCount(),b=a.find("#organizer_pagination");1<d&&b.size()&&
setTimeout(function(){var a=890>=$(h).width()?5:10;b.jPaginator({nbPages:c.getPageCount(),selectedPage:c.getCurrentPage(),nbVisible:a,widthPx:24,marginPx:1,overBtnLeft:"#organizer_page_left",overBtnRight:"#organizer_page_right",withSlider:!0,minSlidesForSlider:2,withAcceleration:!0,speed:2,coeffAcceleration:2,onPageClicked:function(a,b){c.goToPage(b)}})},0)};e.setTooltips=function(a,c,b){g.tooltips(c.find("[title]"));g.tooltips(a.find("a[title]"));g.tooltips(a.find("#organizer_quickFilter ul ul"),
{position:{my:"left+2 center",at:"right center",collision:"flipfit"}})}},zenarioO.panelTypes);
