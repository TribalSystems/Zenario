zenario.lib(function(d,r,v,l,w,x,m,g,y,z,c,p,n,A,B,C,s,t,u,q){d=u(q.grid=t(q.base));d.returnPanelTitle=function(){var a=this.tuix.title;!l.zenarioOSelectMode||c.path!=l.zenarioOTargetPath&&!1!==l.zenarioOTargetPath||(l.zenarioOMultipleSelect&&this.tuix.multiple_select_mode_title?a=this.tuix.multiple_select_mode_title:this.tuix.select_mode_title&&(a=this.tuix.select_mode_title));c.filteredView&&(a+=s.refined);return a};d.showPanel=function(a,e,b){this.setHeader(a);a.find("#organizer_viewOptions").show();
var h=c.getPanelItems(!0);e.html(g.microTemplate("zenario_organizer_grid",h));e.show();this.setScroll(e);this.drawPagination(b,h);this.setTooltips(a,e,b)};d.showButtons=function(a){var e,b={itemButtons:!1,collectionButtons:!1};0<c.itemsSelected?b.itemButtons=c.getItemButtons():b.collectionButtons=c.getCollectionButtons();e=g.microTemplate("zenario_organizer_panel_buttons",b);a.html(e).show();this.enableDragDropUpload(b.collectionButtons,b.itemButtons);g.tooltips(a.find("a[title]"));g.tooltips(a.find(".toolbarButtons ul ul a[title]"),
{position:{my:"left+2 center",at:"right center",collision:"flipfit"}})};d.setScroll=function(a){a.scrollTop(this.scrollTop).scrollLeft(this.scrollLeft).trigger("scroll");var e,b,h;(e=c.getKeyId(!0))&&setTimeout(function(){if(b=$(p("organizer_item_"+e)).position())h=Math.max(0,b.top+a.scrollTop()-Math.floor(a.height()/4)),a.stop().animate({scrollTop:h},250)},1)};d.enableDragDropUpload=function(a,e){g.canDoHTML5Upload()||this.disableDragDropUpload();var b,h,f,k=!1;do{if(e)for(b in e)if(m.has(e,b)&&
(f=e[b],!f.disabled&&f.tuix.upload&&n(f.tuix.upload.drag_and_drop))){k=f.tuix;break}if(a)for(b in a){if(m.has(a,b)&&(f=a[b],!f.disabled&&f.tuix.upload&&n(f.tuix.upload.drag_and_drop))){k=f.tuix;break}}else for(h in this.tuix.collection_buttons)if(m.has(this.tuix.collection_buttons,h)&&(f=this.tuix.collection_buttons[h],!c.isInfoTag(h)&&f.upload&&n(f.upload.drag_and_drop)&&!c.checkButtonHidden(f)&&!c.checkDisabled(f))){k=f;break}}while(0);if(k){var d;b=c.getKey(c.uploadIsItemLevel);if(k.upload&&k.upload.request)for(d in k.upload.request)m.has(k.upload.request,
d)&&(c.isInfoTag(d)||(b[d]=k.upload.request[d]));b.__pluginClassName__=k.class_name;b.__path__=c.path;b.method_call="handleOrganizerPanelAJAX";g.setHTML5UploadFromDragDrop(r+"zenario/ajax.php",b,function(){c.disableInteraction()},function(){c.enableInteraction();c.selectCreatedIds()},p("organizer_rightColumn"));$("#organizer_rightColumn").addClass("upload_enabled").removeClass("dragover")}else this.disableDragDropUpload()};d.disableDragDropUpload=function(){g.clearHTML5UploadFromDragDrop();$("#organizer_rightColumn").removeClass("upload_enabled").removeClass("dragover")};
d.setHeader=function(a){var e={quickFilters:c.getQuickFilters()};a.html(g.microTemplate("zenario_organizer_panel_header",e));a.show()};d.drawPagination=function(a,e){a.html(g.microTemplate("zenario_organizer_pagination",e)).show();var b=c.getPageCount(),d=a.find("#organizer_pagination");1<b&&d.size()&&setTimeout(function(){d.jPaginator({nbPages:c.getPageCount(),selectedPage:c.getCurrentPage(),nbVisible:10,widthPx:Math.max(20,10*(1+Math.ceil(Math.log10(c.getPageCount())))),marginPx:1,overBtnLeft:"#organizer_page_left",
overBtnRight:"#organizer_page_right",withSlider:!0,minSlidesForSlider:2,withAcceleration:!0,speed:2,coeffAcceleration:2,onPageClicked:function(a,b){c.goToPage(b)}})},0)};d.setTooltips=function(a,c,b){g.tooltips(c.find("[title]"));g.tooltips(a.find("a[title]"));g.tooltips(a.find("#organizer_quickFilter ul ul"),{position:{my:"left+2 center",at:"right center",collision:"flipfit"}})}},zenarioO.panelTypes);
