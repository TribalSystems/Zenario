zenario.lib(function(q,p,v,l,w,x,h,k,y,z,f,m,A,B,C,D,s,t,u,r){var c=u(r.form_builder=t(r.base));c.init=function(){};c.cmsSetsPanelTUIX=function(a){this.tuix=a};c.cmsSetsPath=function(a){this.path=a};c.cmsSetsRequestedItem=function(a){this.lastItemClicked=this.requestedItem=a};c.cmsSetsSearchTerm=function(a){this.searchTerm=a};c.returnShowLeftColumn=function(){return!1};c.returnAJAXURL=function(){return p+"zenario/admin/ajax.php?_json=1&path="+encodeURIComponent(this.path)+h.urlRequest(this.returnAJAXRequests())};
c.returnDevToolsAJAXURL=function(){return c.returnAJAXURL.call(this)};c.returnAJAXRequests=function(){return{}};c.returnPageSize=function(){return Math.max(20,Math.min(500,1*k.adminSettings.organizer_page_size||50))};c.returnPanelTitle=function(){var a=this.tuix.title;!l.zenarioOSelectMode||this.path!=l.zenarioOTargetPath&&!1!==l.zenarioOTargetPath||(l.zenarioOMultipleSelect&&this.tuix.multiple_select_mode_title?a=this.tuix.multiple_select_mode_title:this.tuix.select_mode_title&&(a=this.tuix.select_mode_title));
f.filteredView&&(a+=s.refined);return a};c.returnMultipleSelectEnabled=function(){return!1};c.returnSearchingEnabled=function(){return!1};c.putValuesIntoTUIX=function(a,b){var e,d,c,g;if(a.tabs)for(e in a.tabs)if(h.has(a.tabs,e)&&(d=a.tabs[e],d.fields))for(c in d.fields)h.has(d.fields,c)&&(g=d.fields[c],delete g.value,delete g.current_value,b[c]!==q&&(g.current_value=b[c]))};c.getValuesFromTUIX=function(a){var b,e,d,c,g={};if(a.tabs)for(b in a.tabs)if(h.has(a.tabs,b)&&(e=a.tabs[b],e.fields))for(d in e.fields)h.has(e.fields,
d)&&(c=e.fields[d],g[d]=c.current_value);return g};c.getOrderedItems=function(a){function b(a,b){return a.ord<b.ord?-1:a.ord>b.ord?1:0}var e,d=[];for(tabName in a)if(h.has(a,tabName)){tab=a[tabName];e={};for(key in tab)h.has(tab,key)&&(value=tab[key],"fields"!=key&&(e[key]=value));if(tab.fields){e.fields=[];for(id in tab.fields)if(h.has(tab.fields,id)){field=tab.fields[id];if(field.lov){var c=[];for(id in field.lov)h.has(field.lov,id)&&(value=field.lov[id],c.push(value));c.sort(b);field.lov=c}e.fields.push(field)}e.fields.sort(b)}else this.tuix.items[tabName].fields=
{};d.push(e)}d.sort(b);return d};c.showPanel=function(a,b,e){a.html("").hide();var d=this;a=this.getOrderedItems(this.tuix.items);var c=k.microTemplate("zenario_organizer_form_builder",{items:a}),g=!1;this.changingForm=!1;this.currentTab=this.currentTab?this.currentTab:!1;this.currentFieldTab="details";this.maxNewCustomFieldValue=this.maxNewCustomField=this.maxNewCustomTab=1;this.current={id:!1,type:!1};this.current_db_columns=this.tuix.existing_db_columns;this.deleting=!1;b.html(c).show();this.currentTab&&
!this.tuix.items[this.currentTab]&&this.currentTabOrd&&a[this.currentTabOrd]&&(this.currentTab=a[this.currentTabOrd].name);for(i in a)h.has(a,i)&&(item=a[i],b=$("#organizer_form_tab_"+item.name),$section=$("#organizer_section_"+item.name),this.initTab(b),this.initSection($section),!1!=this.currentTab?item.name!=this.currentTab?$section.hide().sortable("disable"):b.addClass("on"):1!=item.ord?$section.hide().sortable("disable"):(b.addClass("on"),g=item.name));g&&(this.currentTab=g);this.orderedItems=
a;$("#organizer_field_type_list div.field_type").draggable({connectToSortable:"#organizer_form_sections div.form_section",helper:function(){var a=$(this).data("type");return $("<div>[---PLACEHOLDER---]</div>").data("type",a).addClass("preview preview_"+a)}});$("#organizer_form_tabs").sortable({axis:"x",containment:"parent",items:"div.sort",start:function(a,b){d.startIndex=b.item.index()},stop:function(a,b){d.startIndex!=b.item.index()&&(d.currentTabOrd=b.item.index(),d.changeMadeToPanel())}});$("#organizer_add_new_tab").on("click",
function(){d.save();if(!1!==d.validate())return!1;d.addNewTab()});$("#organizer_add_new_field").on("click",function(){d.save();if(!1!==d.validate())return!1;d.current.type=d.current.id=!1;d.showDetailsSection("organizer_field_type_list")});$("#organizer_form_sections div.form_field").on("click",function(){d.fieldClick($(this))});var f=function(){$("#zenario_fbMessageButtons input.submit_selected").on("click",function(){setTimeout(function(){if("tab"==d.deleting){var a,b;d.tuix.items[d.current.id]=
{remove:!0};a=$("#organizer_form_tab_"+d.current.id);b=a.prev();0==b.length&&(b=a.next());a.remove();d.changeMadeToPanel();1==b.length&&d.tabClick(b)}else(d.deleting="field")&&d.removeField();d.deleting=!1})})};$("#organizer_remove_form_tab").on("click",function(){0==d.tuix.items[d.current.id].is_system_field&&(d.deleting="tab",k.showMessage("Are you sure you want to delete this Tab?<br><br>All fields on this tab will also be deleted.","Delete","warning",!0),f())});$("#organizer_remove_form_field").on("click",
function(){d.deleting="field";k.showMessage("Are you sure you want to delete this Field?","Delete","warning",!0);f()});e.html("").show()};c.addNewTab=function(){var a="__custom_tab_t"+this.maxNewCustomTab++,b={name:a,label:"Untitled tab"},e=k.microTemplate("zenario_organizer_form_builder_tab",b);$("#organizer_add_new_tab").before(e);this.tuix.items[a]={label:"Untitled tab",is_new_tab:!0,is_system_field:0,fields:{}};e=k.microTemplate("zenario_organizer_form_builder_section",b);$("#organizer_form_sections").append(e);
b=$("#organizer_section_"+a);this.initSection(b);a=$("#organizer_form_tab_"+a);this.initTab(a);this.tabClick(a);this.changeMadeToPanel()};c.removeField=function(){var a=this,b=a.current.id,e,d;if(!this.tuix.items[this.currentTab].fields[b]||0==this.tuix.items[this.currentTab].fields[b].is_system_field)if(this.tuix.items[this.currentTab].fields[b]={remove:!0},e=$("#organizer_form_field_"+b))d=this.selectNextField(e),a.changeMadeToPanel(),e.animate({height:0,opacity:0},500,function(){e.remove();!1===
d&&a.showNoFieldsMessage()})};c.selectNextField=function(a){for($next=a.prev();1==$next.length;)if(this.tuix.items[this.currentTab].fields[$next.data("id")]&&this.tuix.items[this.currentTab].fields[$next.data("id")].remove)$next=$next.prev();else break;if(0==$next.length)for($next=a.next();1==$next.length;)if(this.tuix.items[this.currentTab].fields[$next.data("id")]&&this.tuix.items[this.currentTab].fields[$next.data("id")].remove)$next=$next.next();else break;return 1==$next.length?(this.fieldClick($next),
$next):!1};c.showNoFieldsMessage=function(){$("#organizer_section_"+this.currentTab).addClass("empty").html('<span class="no_fields_message">There are no fields on this tab</span>');this.showDetailsSection("organizer_field_type_list")};c.initTab=function(a){var b=this;a.on("click",function(){b.tabClick($(this))});a.droppable({accept:"div.form_field:not(.system_field)",greedy:!0,hoverClass:"ui-state-hover",tolerance:"pointer",drop:function(a,d){var c=$(this).data("name"),g=$(d.draggable).data("id"),
f=!0;"field"==b.current.type&&g==b.current.id&&(b.save(),!1!==b.validate()&&(f=!1));f&&setTimeout(function(){$(d.draggable).detach().appendTo("#organizer_section_"+c);b.tuix.items[c].fields[g]=b.tuix.items[b.currentTab].fields[g];delete b.tuix.items[b.currentTab].fields[g];"field"==b.current.type&&(b.current={type:"tab",id:b.currentTab},b.tabClick($("#organizer_form_tab_"+b.currentTab)));0==_.size(b.tuix.items[b.currentTab].fields)&&b.showNoFieldsMessage();b.removeNoItemsMessage(c)})}})};c.initSection=
function(a){var b=this;a.sortable({items:"div.form_field",receive:function(a,d){$(this).find("div.preview").each(function(){b.addNewField($(this))})},start:function(a,d){b.startIndex=d.item.index()},stop:function(a,d){b.startIndex!=d.item.index()&&b.changeMadeToPanel()}})};c.removeNoItemsMessage=function(a){$("#organizer_section_"+a).removeClass("empty").find("span.no_fields_message").remove()};c.addNewField=function(a){var b="t"+this.maxNewCustomField++,e=a.data("type"),d={id:b,type:e,label:"Untitled"},
c="";this.removeNoItemsMessage(this.currentTab);if(-1<$.inArray(e,["checkboxes","radios","select"])){d.lov=[];for(var g=1;3>=g;g++){var f={is_new_value:!0,id:"t"+this.maxNewCustomFieldValue++,ord:g,label:"Option "+g};d.lov[g]=f}}if("centralised_radios"==e){for(method in this.tuix.centralised_lists.values)if(h.has(this.tuix.centralised_lists.values,method)){c=method;break}d.lov=_.toArray(this.tuix.centralised_lists.initial_lov)}g=k.microTemplate("zenario_organizer_form_builder_field",d);a.replaceWith(g);
this.tuix.items[this.currentTab].fields[b]={id:b,label:"Untitled",type:e,is_protected:0,include_in_export:0,is_new_field:!0,just_added:!0,db_column:"",is_system_field:0,validation:"none",required:0,show_in_organizer:0,create_index:0,values_source:c};d.lov&&(this.tuix.items[this.currentTab].fields[b].lov=d.lov);a=$("#organizer_form_field_"+b);a.effect({effect:"highlight",duration:1E3});this.initField(a);this.fieldClick(a)};c.initField=function(a){var b=this;a.on("click",function(){b.fieldClick($(this))})};
c.tabClick=function(a){var b={};this.save();if(!1!==this.validate())return!1;$("#organizer_section_"+this.currentTab).sortable("disable");this.currentTab=a.data("name");this.currentTabOrd=a.index();this.current={id:this.currentTab,type:"tab"};$("#organizer_section_"+this.currentTab).sortable("enable");$("#organizer_form_tabs div.tab").removeClass("on");a.addClass("on");$("#organizer_form_sections div.form_section").hide();b=this.tuix.items[this.currentTab]||{};this.setCurrentTabDetails(b);this.tuix.items[this.currentTab]&&
1==this.tuix.items[this.currentTab].is_system_field?$("#organizer_remove_form_tab").hide():$("#organizer_remove_form_tab").show();this.showDetailsSection("organizer_tab_details");$("#organizer_section_"+this.currentTab).show()};c.setCurrentTabDetails=function(a){a=_.clone(a);a.parent_id_select_list=this.orderedItems;var b=this;html=k.microTemplate("zenario_organizer_form_builder_tab_details",a);$("#organizer_tab_details_inner").html(html);$("#organizer_tab_details :input").off().on("change",function(){b.changeMadeToPanel()});
$('#organizer_tab_details input[type="text"]').on("keyup",function(){b.changeMadeToPanel()});$("#tab__label").on("keyup",function(){$("#organizer_form_tab_"+b.currentTab+" span").text($(this).val())})};c.getCurrentTabDetails=function(){var a={};a.label=$("#tab__label").val();a.parent_field_id=$("#tab__parent_field_id").val();return a};c.fieldClick=function(a){var b=a.data("id");this.save();if(!1!==this.validate())return!1;this.current={type:"field",id:b};$("#organizer_form_sections .form_field").removeClass("selected");
a.addClass("selected");this.setCurrentFieldDetails(this.tuix.items[this.currentTab].fields[b]||{});this.showFieldDetailsSection("details",!0);this.tuix.items[this.currentTab].fields[b]&&1==this.tuix.items[this.currentTab].fields[b].is_system_field?$("#organizer_remove_form_field").hide():$("#organizer_remove_form_field").show();this.showDetailsSection("organizer_field_details")};c.setCurrentFieldDetails=function(a){a=_.clone(a);a.parent_id_select_list=this.orderedItems;a.centralised_lists=this.tuix.centralised_lists;
a.dataset_label=this.tuix.dataset_label;a.is_text_field=-1<$.inArray(a.type,["date","editor","text","textarea","url"]);a.is_checkbox_field=-1<$.inArray(a.type,["group","checkbox"]);a.is_list_field=-1<$.inArray(a.type,["checkboxes","radios","centralised_radios","select","centralised_select"]);a.show_searchable_field=a.is_text_field?a.show_in_organizer:a.show_in_organizer&&a.create_index;var b=this,c=k.microTemplate("zenario_organizer_form_builder_field_details",a);$("#organizer_field_details_inner").html(c);
$("#organizer_field_details :input").off().on("change",function(){b.changeMadeToPanel()});$('#organizer_field_details input[type="text"]').on("keyup",function(){b.changeMadeToPanel()});$("#field__label").on("keyup",function(){$("#organizer_form_field_"+b.current.id+" .label").text($(this).val());if(a.just_added){var c=$(this).val().toLowerCase().replace(/[\s-]+/g,"_").replace(/[^a-z_0-9]/g,"");$("#field__db_column").val(c)}});$("#field__is_protected").on("change",function(){a.is_new_field||$("#field__db_column").prop("readonly",
$(this).prop("checked"))});$("#field__label").val(a.label);$("#field__db_column").val(a.db_column);$("#field__note_below").val(a.note_below);$("#field__is_protected").prop("checked",a.is_protected);$('input:radio[name="field__create_index"]').filter('[value="'+a.create_index+'"]').prop("checked",!0);a.is_system_field?$("#field__db_column").prop("readonly",!0):(c=a.always_show?2:a.show_by_default?1:"",$("#field__required").prop("checked",a.required),a.required&&$("#field__required_message").val(a.required_message),
$("#field__required").on("change",function(){$("#field_container__required_message").toggle(this.checked)}),$("#field__show_in_organizer").prop("checked",a.show_in_organizer),$("#field__show_in_organizer").on("change",function(){$("#field_container__visibility").toggle(this.checked);var b=!0==$('input:radio[name="field__create_index"]:checked').val();searchable=a.is_text_field?this.checked:b&&this.checked;$("#field_container__searchable").toggle(searchable);$("#field_container__sortable").toggle(b&&
this.checked)}),$('input:radio[name="field__create_index"]').on("change",function(){var b=!0==$('input:radio[name="field__create_index"]:checked').val(),c=$("#field__show_in_organizer").prop("checked"),d=a.is_text_field?c:b&&c;$("#field_container__searchable").toggle(d);$("#field_container__sortable").toggle(b&&c)}),$("#field__visibility").val(c));a.db_column&&$("#field__include_in_export").prop("checked",!0==a.include_in_export);switch(a.type){case "select":case "checkboxes":case "radios":c=[];for(id in a.lov)h.has(a.lov,
id)&&(value=a.lov[id],a.remove||(c[value.ord]=value));c=k.microTemplate("zenario_organizer_form_builder_field_value",c);$("#field_values_list").html(c).sortable({start:function(a,c){b.startIndex=c.item.index()},stop:function(a,c){b.redrawCurrentFieldValues();b.startIndex!=c.item.index()&&b.changeMadeToPanel()}});this.initFieldValues();$("#organizer_add_a_field_value").on("click",function(){var a={id:"t"+b.maxNewCustomFieldValue++,label:"Untitled"},a=k.microTemplate("zenario_organizer_form_builder_field_value",
a);$("#field_values_list").append(a);b.redrawCurrentFieldValues();b.initFieldValues();b.changeMadeToPanel()});break;case "centralised_select":case "centralised_radios":if(!a.is_system_field){var d=$("#field__values_source"),f=$("#field__values_source_filter"),g=$("#field_label__source_filter"),n=$("#field_container__values_source_filter");d.val(a.values_source);c=d.find(":selected").data("label");a.values_source&&c&&g.html(c);a.values_source_filter&&f.val(a.values_source_filter);d.find(":selected").data("filter")&&
n.show();"centralised_radios"==a.type&&(d.on("change",function(){var c=$(this).find(":selected");n.toggle(!0==c.data("filter"));c.data("label")&&g.html(c.data("label"));b.updateCentralisedRadioValues(d,f,n,a)}),f.on("blur",function(){b.updateCentralisedRadioValues(d,f,n,a)}))}break;case "textarea":case "editor":var c=!1==a.height?"":a.height,l=!1==a.width?"":a.width;$("#field__height").val(c);$("#field__width").val(l);break;case "text":a.is_system_field||(c=!1==a.validation?"none":a.validation,$("#field__validation__"+
c).prop("checked",!0),"none"!=c&&$("#field__validation_message").val(a.validation_message),$('#field_section__validation input:radio[name="field__validation"]').on("change",function(){$("#field_container__validation_message").toggle("field__validation__none"!=$(this).prop("id"))}))}};c.updateCentralisedRadioValues=function(a,b,c,d){var l=f.getKey(),g="zenario/ajax.php?__pluginClassName__="+this.tuix.class_name+"&__path__="+f.path+"&method_call=handleOrganizerPanelAJAX";l.mode="get_centralised_lov";
l.method=a.val();l.method&&c.is(":visible")&&(l.filter=b.val());h.ajax(p+g,l).after(function(a){a=JSON.parse(a);a=k.microTemplate("zenario_organizer_form_builder_radio_values",a);$("#organizer_form_field_values_"+d.id).html(a)})};c.redrawCurrentFieldValues=function(){var a=this.current.id,b=this.tuix.items[this.currentTab].fields[a],c=this.getCurrentFieldValues(b),d="";-1<$.inArray(b.type,["checkboxes","radios"])&&("checkboxes"==b.type?d=k.microTemplate("zenario_organizer_form_builder_checkbox_values",
c):"radios"==b.type&&(d=k.microTemplate("zenario_organizer_form_builder_radio_values",c)),$("#organizer_form_field_values_"+a).html(d))};c.initFieldValues=function(){var a=this;$("#field_values_list div.remove").off().on("click",function(){var b=$(this).data("id");$("#organizer_field_value_"+b).remove();$(this).parent().remove();a.changeMadeToPanel()});$("#field_values_list input").off().on("keyup",function(){var b=$(this).data("id");$("#organizer_field_value_"+b+" label").text($(this).val());a.changeMadeToPanel()})};
c.getCurrentFieldDetails=function(){var a={},b=this.tuix.items[this.currentTab].fields[this.current.id],c=!0==b.is_system_field;a.label=$("#field__label").val();a.db_column=$("#field__db_column").val();a.is_protected=$("#field__is_protected").prop("checked");a.note_below=$("#field__note_below").val();if(!c&&(a.parent_id=$("#field__parent_id").val(),a.required=$("#field__required").prop("checked"),a.required_message=!0==a.required?$("#field__required_message").val():"",a.show_in_organizer=$("#field__show_in_organizer").prop("checked"),
a.create_index=!0==$('input:radio[name="field__create_index"]:checked').val(),a.show_in_organizer)){var d=$("#field__visibility").val();a.always_show=2==d;a.show_by_default=1==d;a.searchable=$("#field__searchable").prop("checked");a.create_index&&(a.sortable=$("#field__sortable").prop("checked"))}b.db_column&&(a.include_in_export=$("#field__include_in_export").prop("checked"));switch(b.type){case "select":case "checkboxes":case "radios":a.lov=this.getCurrentFieldValues(b);break;case "centralised_select":case "centralised_radios":c||
(a.values_source=$("#field__values_source").val(),a.values_source_filter=a.values_source?$("#field__values_source_filter").val():"");break;case "editor":case "textarea":a.height=$("#field__height").val();a.width=$("#field__width").val();break;case "text":c||(a.validation=$('#field_section__validation input:radio[name="field__validation"]:checked').val(),a.validation_message="none"!=a.validation?$("#field__validation_message").val():"")}return a};c.getCurrentFieldValues=function(a){var b=[];for(i in a.lov)h.has(a.lov,
i)&&(value=a.lov[i],a.lov[i]={remove:!0});$("#field_values_list div.field_value").each(function(a,c){b[++a]={id:$(this).data("id"),label:$(c).find("input").val(),ord:a}});return b};c.save=function(){var a={};if(this.current.id&&this.current.type)if("tab"==this.current.type)for(id in a=this.getCurrentTabDetails(),this.tuix.items[this.current.id]||(this.tuix.items[this.current.id]={}),a)h.has(a,id)&&(value=a[id],this.tuix.items[this.current.id][id]=value);else if("field"==this.current.type)for(id in a=
this.getCurrentFieldDetails(),this.tuix.items[this.currentTab].fields[this.current.id]||(this.tuix.items[this.currentTab].fields[this.current.id]={}),a)h.has(a,id)&&(value=a[id],this.tuix.items[this.currentTab].fields[this.current.id][id]=value)};c.validate=function(){var a=[];if(this.current.id&&this.current.type&&"tab"!=this.current.type&&"field"==this.current.type){var b=this.tuix.items[this.currentTab].fields[this.current.id],c;switch(this.currentFieldTab){case "details":!1==b.is_system_field&&
(c=_.invert(this.current_db_columns)[b.db_column]||_.invert(this.tuix.existing_db_columns[b.db_column])[b.db_column]||!1,""===b.db_column?a.push("Please enter a code name"):c&&c!=b.id?a.push('The code name "'+b.db_column+'" is already in use in this dataset.'):this.current_db_columns[b.id]=b.db_column);break;case "validation":!0==b.required&&""===b.required_message&&a.push("Please enter a message if not complete."),"none"!=b.validation&&""===b.validation_message&&a.push("Please enter a message if not valid.")}if(0<
a.length){for(index in a)h.has(a,index)&&(message=a[index],a[index]="<p>"+message+"</p>");b=$('<div id="organizer_form_field_error" class="error"></div>');b.append(a);$("#organizer_form_field_error").html("");$("#organizer_field_details").prepend(b)}else $("#organizer_form_field_error").remove(),delete this.tuix.items[this.currentTab].fields[this.current.id].just_added}return 0<a.length};c.showFieldDetailsSection=function(a,b){if(!b&&(this.save(),!1!==this.validate()))return!1;this.currentFieldTab=
a;$("#organizer_field_details_tabs div.tab").removeClass("on");$("#field_tab__"+a).addClass("on");$("#organizer_field_details div.section").hide();$("#field_section__"+a).show()};c.showDetailsSection=function(a){var b=["organizer_field_type_list","organizer_field_details","organizer_tab_details"],c=$.inArray(a,b);if(-1<c)for(key in $("#"+a+"_outer").show(),"organizer_field_type_list"==a?($("#organizer_add_new_field").hide(),this.current=!1):$("#organizer_add_new_field").show(),delete b[c],b)h.has(b,
key)&&(a=b[key])&&$("#"+a+"_outer").hide()};c.changeMadeToPanel=function(){this.changingForm||(this.changingForm=!0,l.onbeforeunload=function(){return"You are currently editing this dataset. If you leave now you will lose any unsaved changes."},f.disableInteraction(),f.setButtons())};c.showButtons=function(a){var b=this;if(this.changingForm){a.html(k.microTemplate("zenario_organizer_apply_cancel_buttons",{}));var c=!1;a.find("#organizer_applyButton").click(function(){b.save();if(!1!==b.validate()||
!0==c)return!1;k.nowDoingSomething("saving",!0);c=!0;b.saveChanges()});a.find("#organizer_cancelButton").click(function(){l.onbeforeunload=!1;f.enableInteraction();f.reload()})}else a.html("").show()};c.saveChanges=function(){var a=this,b=f.getKey(),c="zenario/ajax.php?__pluginClassName__="+this.tuix.class_name+"&__path__="+f.path+"&method_call=handleOrganizerPanelAJAX";$("#organizer_form_tabs div.tab.sort").each(function(b,c){var e=$(c).data("name");a.tuix.items[e].ord=b+1;$("#organizer_section_"+
e+" .form_field").each(function(b,c){var d=$(c).data("id");a.tuix.items[e].fields[d].ord=b+1;a.tuix.items[e].fields[d].tab_name=e})});b.mode="save";b.data=JSON.stringify(this.tuix.items);h.ajax(p+c,b).after(function(a){a&&k.showMessage(a);k.nowDoingSomething();l.onbeforeunload=!1;f.enableInteraction();f.reload()})};c.sizePanel=function(a,b,c,d){};c.onUnload=function(a,b,c){this.saveScrollPosition(b)};c.saveScrollPosition=function(a){this.scrollTop=a.scrollTop();this.scrollLeft=a.scrollLeft()};c.restoreScrollPosition=
function(a){a.scrollTop(this.scrollTop||0).scrollLeft(this.scrollLeft||0).trigger("scroll")};c.checkboxClick=function(a,b){h.stop(b);var c=this;setTimeout(function(){c.itemClick(a,q,!0)},0)};c.itemClick=function(a,b,c){if(!this.tuix||!this.tuix.items[a])return!1;f.multipleSelectEnabled&&!c&&(b||event).shiftKey&&this.lastItemClicked?f.selectItemRange(a,this.lastItemClicked):(f.multipleSelectEnabled&&c?(this.selectedItems[a]?this.deselectItem(a):this.selectItem(a),f.closeInspectionView()):!f.multipleSelectEnabled&&
c&&this.selectedItems[a]?(f.deselectAllItems(),f.closeInspectionView()):(f.closeInspectionView(),f.deselectAllItems(),this.selectItem(a)),this.lastItemClicked=a);f.setButtons();f.setHash();return!1};c.returnSelectedItems=function(){return this.selectedItems};c.cmsSetsSelectedItems=function(a){this.selectedItems=a};c.selectItem=function(a){this.selectedItems[a]=!0;$(m("organizer_item_"+a)).addClass("organizer_selected");this.updateItemCheckbox(a,!0)};c.deselectItem=function(a){delete this.selectedItems[a];
$(m("organizer_item_"+a)).removeClass("organizer_selected");this.updateItemCheckbox(a,!1)};c.updateItemCheckbox=function(a,b){m("organizer_itemcheckbox_"+a)&&$(m("organizer_itemcheckbox_"+a)).prop("checked",b);f.allItemsSelected()?$("#organizer_toggle_all_items_checkbox").prop("checked",!0):$("#organizer_toggle_all_items_checkbox").prop("checked",!1)};c.returnInspectionViewEnabled=function(){return!1};c.toggleInspectionView=function(a){a==f.inspectionViewItemId()?this.closeInspectionView(a):this.openInspectionView(a)};
c.openInspectionView=function(a){};c.closeInspectionView=function(a){}},zenarioO.panelTypes);
