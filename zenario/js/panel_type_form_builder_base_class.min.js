zenario.lib(function(k,r,y,s,z,A,n,v,p,B,C,d,w,t,D,l,E,F,G,x,u,m,q){var b=u(q.form_builder_base_class=x(q.base));b.sortByOrd=function(a,g){return a.ord<g.ord?-1:a.ord>g.ord?1:0};b.sendAJAXRequest=function(a){var g=d._gK(),f="zenario/ajax.php?__pluginClassName__="+this.tuix.class_name+"&__path__="+d.path+"&method_call=handleOrganizerPanelAJAX",b=function(){l("organizer_preloader_circle").style.display="none";v._nDS();s.onbeforeunload=!1};$.extend(g,a);l("organizer_preloader_circle").style.display=
"block";return n._a(r+f,g,!0,!1,!0,!0,k,k,k,k,k,b).after(b)};b.sortErrors=function(a){var g=[],b;for(b in a)m(a,b)&&g.push(a[b]);return g};b.loadFields=function(a,g,b){var h={},c;for(c in g)if(m(g,c)){var e=g[c];e&&(e=_._cl(e),e.id=c,e.path=a,e.value&&!t(b[c])&&(b[c]=e.value),b&&t(b[c])&&(e._value=b[c]),e.hidden&&(e._hidden=!0),h[c]=e)}return h};b.sortFields=function(a,g){var b=[],h;for(h in a)if(m(a,h)){var c=a[h];if("select"==c.type||"radios"==c.type||"checkboxes"==c.type)c._values=this.getFieldValuesList(c),
c.empty_value&&c._values.unshift({ord:0,label:c.empty_value,value:""});c.visible_if&&"undefined"===typeof c._hidden&&!p._dE(c.visible_if,k,k,g)&&(c._hidden=!0);c.readonly_if&&"undefined"===typeof c._readonly&&p._dE(c.readonly_if,k,k,g)&&(c._readonly=!0);b.push(c)}return b};b.saveFieldListOfValues=function(a){a&&$("#field_values_list div.field_value").each(function(g,b){var h=$(this).data("id");a.lov||(a.lov={});a.lov[h]&&(a.lov[h].id=h,a.lov[h].label=$(b).find("input").val(),a.lov[h].ord=g+1)})};
b.getTUIXFieldsHTML=function(a){for(var b="",f=0;f<a.length;f++)b+=this.getTUIXFieldHTML(a[f]);return b};b.getTUIXFieldHTML=function(a){return this.microTemplate("zenario_organizer_admin_box_builder_tuix_field",a)};b.sortAndLoadTUIXPages=function(a,b,f){var h=[],c=!1,e;for(e in a)if(m(a,e)){var d=a[e];d&&(d.id=e,!d.visible_if||p._dE(d.visible_if,k,k,b))&&(c||f&&f!=e||(c=!0,d._selected=!0,this.selectedDetailsPage=e),h.push(d))}return h};b.getTUIXPagesHTML=function(a){for(var b="",f=0;f<a.length;f++)b+=
this.getTUIXPageHTML(a[f]);return b};b.getTUIXPageHTML=function(a){return this.microTemplate("zenario_organizer_admin_box_builder_tuix_tab",a)};b.saveItemTUIXFields=function(a,b,f,h){for(var c in b)if(m(b,c)){var e=b[c];if($("#tuix_field__"+c).length){if("text"==e.type||"select"==e.type||"textarea"==e.type)a[c]=$("#field__"+c).val();else if("checkbox"==e.type)a[c]=$("#field__"+c).is(":checked");else if("radios"==e.type)a[c]=$('#organizer_field_details_form input[name="'+c+'"]:checked').val();else if("checkboxes"==
e.type)a[c]=[],$('#organizer_field_details_form input[name="'+c+'"]:checked').each(function(){a[c].push($(this).val())});else if("values_list"==e.type)this.saveFieldListOfValues(a);else if("translations"==e.type)a._translations={},$("#organizer_field_translations input.translation").map(function(b,c){var g=$(this).data("language_id"),f=$(this).data("field_column");a._translations[f]||(a._translations[f]={phrases:{}});a._translations[f].phrases[g]=c.value});else if("crm_values"==e.type){var d="crm";
"salesforce"==e.crm_type&&(d="salesforce");if("checkbox"==a.type||"group"==a.type)a["_"+d+"_data"]={},a["_"+d+"_data"].values={unchecked:{ord:1,label:0},checked:{ord:2,label:1}};$("#organizer_field_crm_values input.crm_value_input").map(function(b,c){var g=$(this).data("id");"checkbox"==a.type||"group"==a.type?a["_"+d+"_data"].values[g][d+"_value"]=$(this).val():a.lov&&a.lov[g]&&(a.lov[g][d+"_value"]=$(this).val())})}e.validation&&e.validation.required&&!a[c]&&(h[c]=e.validation.required)}}this.validateFieldDetails(b,
a,f,this.selectedDetailsPage,h)};b.saveItemTUIXPage=function(a,b,f){var d={};this.tuix[a]&&this.tuix[a].tabs&&this.tuix[a].tabs[b]&&(this.saveItemTUIXFields(f,this.tuix[a].tabs[b].fields,a,d),f._changed=!0);return d};b.addFieldValue=function(a,b,f){b||(b="Untitled");"undefined"===typeof a.lov&&(a.lov={});newValueId="t"+this.maxNewCustomFieldValue++;a.lov[newValueId]={id:newValueId,label:b,ord:f||_._si(a.lov)+100,_is_new:!0}};b.getPageLabel=function(a){a&&""===a.trim()&&(a="Untitled");return a};b.getMatchingRepeatEnd=
function(a){var b=!1,f=!1,d=this.getOrderedFields(this.currentPageId),c;for(c=0;c<d.length;c++)if("repeat_end"==d[c].type&&(b=d[c].id),d[c].id==a)f=c;else if(!1!==f&&"repeat_end"==d[c].type){b=d[c].id;break}return b};b.showButtons=function(a){var b=this;b.changeDetected?(a.html(b.microTemplate("zenario_organizer_apply_cancel_buttons",{confirm_text:"Save changes",confirm_css:"form_editor",cancel_text:"Reset"})),a.find("#organizer_applyButton").click(function(){var a=b.saveCurrentOpenDetails();a||(a=
b.displayPageFieldStructureErrors(b.currentPageId))||b.saveChanges()}),a.find("#organizer_cancelButton").click(function(){confirm("Are you sure you want to discard all your changes?")&&(s.onbeforeunload=!1,d._eI(),b.selectedFieldId=!1,b.selectedPageId=!1,b.currentPageId=!1,b.changeDetected=!1,d._r())})):a.html("").show()};b.displayPageFieldStructureErrors=function(){return!1};b.displayToastMessage=function(a,b){};b.cmsSetsPanelTUIX=function(a){this.tuix=a};b.cmsSetsPath=function(a){this.path=a};b.cmsSetsRequestedItem=
function(a){this.lastItemClicked=this.requestedItem=a};b.cmsSetsSearchTerm=function(a){this.searchTerm=a};b.returnShowLeftColumn=function(){return!1};b.returnAJAXURL=function(){return r+"zenario/admin/organizer.ajax.php?path="+w(this.path)+n._uR(this.returnAJAXRequests())};b.returnDevToolsAJAXURL=function(){return b.returnAJAXURL.call(this)};b.returnAJAXRequests=function(){return{}};b.returnPanelTitle=function(){return u(q.grid).returnPanelTitle.call(this)};b.sizePanel=function(a,b,d,h){};b.onUnload=
function(a,b,d){this.saveScrollPosition(b)};b.saveScrollPosition=function(a){this.scrollTop=a.scrollTop();this.scrollLeft=a.scrollLeft()};b.restoreScrollPosition=function(a){a.scrollTop(this.scrollTop||0).scrollLeft(this.scrollLeft||0).trigger("scroll")};b.checkboxClick=function(a,b){var d=this;n._st(b);setTimeout(function(){d.itemClick(a,k,!0)},0)};b.itemClick=function(a,b,f){if(!this.tuix||!this.tuix.items[a])return!1;d.multipleSelectEnabled&&!f&&(b||event).shiftKey&&this.lastItemClicked?d._sIR(a,
this.lastItemClicked):(d.multipleSelectEnabled&&f?(this.selectedItems[a]?this.deselectItem(a):this.selectItem(a),d._cIV()):!d.multipleSelectEnabled&&f&&this.selectedItems[a]?(d._dAI(),d._cIV()):(d._cIV(),d._dAI(),this.selectItem(a)),this.lastItemClicked=a);d._sB();d._sH();return!1};b.returnSelectedItems=function(){return this.selectedItems};b.cmsSetsSelectedItems=function(a){this.selectedItems=a};b.selectItem=function(a){this.selectedItems[a]=!0;$(l("organizer_item_"+a)).addClass("organizer_selected");
this.updateItemCheckbox(a,!0)};b.deselectItem=function(a){delete this.selectedItems[a];$(l("organizer_item_"+a)).removeClass("organizer_selected");this.updateItemCheckbox(a,!1)};b.updateItemCheckbox=function(a,b){l("organizer_itemcheckbox_"+a)&&$(l("organizer_itemcheckbox_"+a)).prop("checked",b);d._aIS()?$("#organizer_toggle_all_items_checkbox").prop("checked",!0):$("#organizer_toggle_all_items_checkbox").prop("checked",!1)};b.returnMultipleSelectEnabled=function(){return!1};b.returnSearchingEnabled=
function(){return!1};b.returnInspectionViewEnabled=function(){return!1};b.toggleInspectionView=function(a){a==d._iVII()?this.closeInspectionView(a):this.openInspectionView(a)};b.openInspectionView=function(a){};b.closeInspectionView=function(a){}},zenarioO.panelTypes);
