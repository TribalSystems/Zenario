zenario.lib(function(h,t,C,v,D,E,p,w,q,F,G,e,x,k,H,I,J,K,y,u,n,r,L,s,z,M,N,O,P,Q,R,S,T,U,V,A,W,X,Y,B){var b=u(r.form_builder_base_class=y(r.base));b.sortByOrd=function(a,f){return a.ord<f.ord?-1:a.ord>f.ord?1:0};b.sendAJAXRequest=function(a){var f=e._gK(),b=B+"?__pluginClassName__="+this.tuix.class_name+"&__path__="+e.path+A+"handleOrganizerPanelAJAX";$.extend(f,a);k("organizer_preloader_circle").style.display="block";return p._a(t+b,f).after(function(){k("organizer_preloader_circle").style.display=
"none"})};b.sortErrors=function(a){var f=[],b;for(b in a)n(a,b)&&f.push(a[b]);return f};b.loadFields=function(a,f,b){var l={},c;for(c in f)if(n(f,c)){var d=f[c];d&&(d=_._cl(d),d.id=c,d.path=a,d.value&&b[c]===h&&(b[c]=d.value),b&&b[c]!==h&&(d._value=b[c]),d.hidden&&(d._hidden=!0),l[c]=d)}return l};b.sortFields=function(a,f){var b=[],l;for(l in a)if(n(a,l)){var c=a[l];if("select"==c.type||"radios"==c.type||"checkboxes"==c.type)c._values=this.getFieldValuesList(c),c.empty_value&&c._values.unshift({ord:0,
label:c.empty_value,value:""});c.visible_if&&"undefined"===typeof c._hidden&&!q._dE(c.visible_if,h,h,f)&&(c._hidden=!0);c.readonly_if&&"undefined"===typeof c._readonly&&q._dE(c.readonly_if,h,h,f)&&(c._readonly=!0);b.push(c)}return b};b.saveFieldListOfValues=function(a){if(this.tuix.items[this.currentTabId]&&this.tuix.items[this.currentTabId].fields[a]){var f=this.tuix.items[this.currentTabId].fields[a];$("#field_values_list div.field_value").each(function(a,b){var c=$(this).data("id");f.lov||(f.lov=
{});f.lov[c]&&(f.lov[c].label=$(b).find("input").val(),f.lov[c].ord=a+1)})}};b.getTUIXFieldsHTML=function(a){for(var b="",g=0;g<a.length;g++)b+=this.getTUIXFieldHTML(a[g]);return b};b.getTUIXFieldHTML=function(a){return this.microTemplate(s+"organizer_admin_box_builder_tuix_field",a)};b.sortAndLoadTUIXTabs=function(a,b,g){var e=[],c=!1,d;for(d in a)if(n(a,d)){var m=a[d];m&&(m.id=d,!m.visible_if||q._dE(m.visible_if,h,h,b))&&(c||g&&g!=d||(c=!0,m._selected=!0,this.selectedDetailsTab=d),e.push(m))}return e};
b.getTUIXTabsHTML=function(a){for(var b="",g=0;g<a.length;g++)b+=this.getTUIXTabHTML(a[g]);return b};b.getTUIXTabHTML=function(a){return this.microTemplate(s+"organizer_admin_box_builder_tuix_tab",a)};b.saveItemTUIXFields=function(a,b,g,e){for(var c in b)if(n(b,c)){var d=b[c];$("#tuix_field__"+c).length&&("text"==d.type||"select"==d.type||"textarea"==d.type?a[c]=$("#field__"+c).val():"checkbox"==d.type?a[c]=$("#field__"+c).is(":checked"):"radios"==d.type?a[c]=$('#organizer_field_details_form input[name="'+
c+'"]:checked').val():"checkboxes"==d.type?(a[c]=[],$('#organizer_field_details_form input[name="'+c+'"]:checked').each(function(){a[c].push($(this).val())})):"values_list"==d.type?this.saveFieldListOfValues(a.id):"translations"==d.type?(a._translations={},$("#organizer_field_translations input.translation").map(function(b,c){var f=$(this).data("language_id"),d=$(this).data("field_column");a._translations[d]||(a._translations[d]={phrases:{}});a._translations[d].phrases[f]=c.value})):"crm_values"==
d.type&&("checkbox"==a.type&&(a._crm_data={},a._crm_data.values={unchecked:{ord:1,label:0},checked:{ord:2,label:1}}),$("#organizer_field_crm_values input.crm_value_input").map(function(b,c){var f=$(this).data("id");"checkbox"==a.type?a._crm_data.values[f].crm_value=$(this).val():a.lov&&a.lov[f]&&(a.lov[f].crm_value=$(this).val())})),d.validation&&d.validation.required&&!a[c]&&(e[c]=d.validation.required))}this.validateFieldDetails(b,a,g,this.selectedDetailsTab,e)};b.saveItemTUIXTab=function(a,b,g){var e=
{};this.tuix[a]&&this.tuix[a].tabs&&this.tuix[a].tabs[b]&&this.saveItemTUIXFields(g,this.tuix[a].tabs[b].fields,a,e);return e};b.addFieldValue=function(a,b){b||(b="Untitled");newValueId="t"+this.maxNewCustomFieldValue++;a.lov[newValueId]={id:newValueId,label:b,ord:_._si(a.lov)+100,is_new_value:!0}};b.getTabLabel=function(a){""===a.trim()&&(a="Untitled");return a};b.showButtons=function(a){var b=this;this.changeDetected?(a.html(this.microTemplate(s+"organizer_apply_cancel_buttons",{confirm_text:"Save changes",
confirm_css:"form_editor",cancel_text:"Reset"})),a.find("#organizer_applyButton").click(function(){var a=b.saveCurrentOpenDetails();a||(a=b.displayGlobalErrors(),a||(w._nDS("saving",!0),b.saveChanges()))}),a.find("#organizer_cancelButton").click(function(){confirm("Are you sure you want to discard all your changes?")&&(v.onbeforeunload=!1,e._eI(),b.selectedFieldId=!1,b.selectedTabId=!1,b.currentTabId=!1,b.changeDetected=!1,e._r())})):a.html("").show()};b.displayGlobalErrors=function(){return!1};b.displayToastMessage=
function(a,b){};b.cmsSetsPanelTUIX=function(a){this.tuix=a};b.cmsSetsPath=function(a){this.path=a};b.cmsSetsRequestedItem=function(a){this.lastItemClicked=this.requestedItem=a};b.cmsSetsSearchTerm=function(a){this.searchTerm=a};b.returnShowLeftColumn=function(){return!1};b.returnAJAXURL=function(){return t+z+"admin/organizer.ajax.php?path="+x(this.path)+p._uR(this.returnAJAXRequests())};b.returnDevToolsAJAXURL=function(){return b.returnAJAXURL.call(this)};b.returnAJAXRequests=function(){return{}};
b.returnPanelTitle=function(){return u(r.grid).returnPanelTitle.call(this)};b.sizePanel=function(a,b,e,h){};b.onUnload=function(a,b,e){this.saveScrollPosition(b)};b.saveScrollPosition=function(a){this.scrollTop=a.scrollTop();this.scrollLeft=a.scrollLeft()};b.restoreScrollPosition=function(a){a.scrollTop(this.scrollTop||0).scrollLeft(this.scrollLeft||0).trigger("scroll")};b.checkboxClick=function(a,b){p._st(b);var e=this;setTimeout(function(){e.itemClick(a,h,!0)},0)};b.itemClick=function(a,b,g){if(!this.tuix||
!this.tuix.items[a])return!1;e.multipleSelectEnabled&&!g&&(b||event).shiftKey&&this.lastItemClicked?e._sIR(a,this.lastItemClicked):(e.multipleSelectEnabled&&g?(this.selectedItems[a]?this.deselectItem(a):this.selectItem(a),e._cIV()):!e.multipleSelectEnabled&&g&&this.selectedItems[a]?(e._dAI(),e._cIV()):(e._cIV(),e._dAI(),this.selectItem(a)),this.lastItemClicked=a);e._sB();e._sH();return!1};b.returnSelectedItems=function(){return this.selectedItems};b.cmsSetsSelectedItems=function(a){this.selectedItems=
a};b.selectItem=function(a){this.selectedItems[a]=!0;$(k("organizer_item_"+a)).addClass("organizer_selected");this.updateItemCheckbox(a,!0)};b.deselectItem=function(a){delete this.selectedItems[a];$(k("organizer_item_"+a)).removeClass("organizer_selected");this.updateItemCheckbox(a,!1)};b.updateItemCheckbox=function(a,b){k("organizer_itemcheckbox_"+a)&&$(k("organizer_itemcheckbox_"+a)).prop("checked",b);e._aIS()?$("#organizer_toggle_all_items_checkbox").prop("checked",!0):$("#organizer_toggle_all_items_checkbox").prop("checked",
!1)};b.returnMultipleSelectEnabled=function(){return!1};b.returnSearchingEnabled=function(){return!1};b.returnInspectionViewEnabled=function(){return!1};b.toggleInspectionView=function(a){a==e._iVII()?this.closeInspectionView(a):this.openInspectionView(a)};b.openInspectionView=function(a){};b.closeInspectionView=function(a){}},zenarioO.panelTypes);
