zenario.lib(function(k,s,A,u,B,C,n,D,p,E,F,h,v,l,G,H,I,J,w,t,m,q,K,r,x,L,M,N,O,P,Q,R,S,T,U,y,V,W,X,z){var b=t(q.form_builder_base_class=w(q.base));b.sortByOrd=function(a,f){return a.ord<f.ord?-1:a.ord>f.ord?1:0};b.sendAJAXRequest=function(a){var f=h._gK(),d=z+"?__pluginClassName__="+this.tuix.class_name+"&__path__="+h.path+y+"handleOrganizerPanelAJAX";$.extend(f,a);l("organizer_preloader_circle").style.display="block";return n._a(s+d,f).after(function(){l("organizer_preloader_circle").style.display=
"none"})};b.sortErrors=function(a){var f=[],d;for(d in a)m(a,d)&&f.push(a[d]);return f};b.loadFields=function(a,f,d){var b={},c;for(c in f)if(m(f,c)){var e=f[c];e&&(e=_._cl(e),e.id=c,e.path=a,e.value&&d[c]===k&&(d[c]=e.value),d&&d[c]!==k&&(e._value=d[c]),e.hidden&&(e._hidden=!0),b[c]=e)}return b};b.sortFields=function(a,f){var b=[],g;for(g in a)if(m(a,g)){var c=a[g];if("select"==c.type||"radios"==c.type||"checkboxes"==c.type)c._values=this.getFieldValuesList(c),c.empty_value&&c._values.unshift({ord:0,
label:c.empty_value,value:""});c.visible_if&&"undefined"===typeof c._hidden&&!p._dE(c.visible_if,k,k,f)&&(c._hidden=!0);c.readonly_if&&"undefined"===typeof c._readonly&&p._dE(c.readonly_if,k,k,f)&&(c._readonly=!0);b.push(c)}return b};b.saveFieldListOfValues=function(a){a&&$("#field_values_list div.field_value").each(function(f,b){var g=$(this).data("id");a.lov||(a.lov={});a.lov[g]&&(a.lov[g].id=g,a.lov[g].label=$(b).find("input").val(),a.lov[g].ord=f+1)})};b.getTUIXFieldsHTML=function(a){for(var f=
"",b=0;b<a.length;b++)f+=this.getTUIXFieldHTML(a[b]);return f};b.getTUIXFieldHTML=function(a){return this.microTemplate(r+"organizer_admin_box_builder_tuix_field",a)};b.sortAndLoadTUIXPages=function(a,f,b){var g=[],c=!1,e;for(e in a)if(m(a,e)){var h=a[e];h&&(h.id=e,!h.visible_if||p._dE(h.visible_if,k,k,f))&&(c||b&&b!=e||(c=!0,h._selected=!0,this.selectedDetailsPage=e),g.push(h))}return g};b.getTUIXPagesHTML=function(a){for(var f="",b=0;b<a.length;b++)f+=this.getTUIXPageHTML(a[b]);return f};b.getTUIXPageHTML=
function(a){return this.microTemplate(r+"organizer_admin_box_builder_tuix_tab",a)};b.saveItemTUIXFields=function(a,b,d,g){for(var c in b)if(m(b,c)){var e=b[c];if($("#tuix_field__"+c).length){if("text"==e.type||"select"==e.type||"textarea"==e.type)a[c]=$("#field__"+c).val();else if("checkbox"==e.type)a[c]=$("#field__"+c).is(":checked");else if("radios"==e.type)a[c]=$('#organizer_field_details_form input[name="'+c+'"]:checked').val();else if("checkboxes"==e.type)a[c]=[],$('#organizer_field_details_form input[name="'+
c+'"]:checked').each(function(){a[c].push($(this).val())});else if("values_list"==e.type)this.saveFieldListOfValues(a);else if("translations"==e.type)a._translations={},$("#organizer_field_translations input.translation").map(function(b,f){var c=$(this).data("language_id"),d=$(this).data("field_column");a._translations[d]||(a._translations[d]={phrases:{}});a._translations[d].phrases[c]=f.value});else if("crm_values"==e.type){if("checkbox"==a.type||"group"==a.type)a._crm_data={},a._crm_data.values=
{unchecked:{ord:1,label:0},checked:{ord:2,label:1}};$("#organizer_field_crm_values input.crm_value_input").map(function(b,f){var c=$(this).data("id");"checkbox"==a.type||"group"==a.type?a._crm_data.values[c].crm_value=$(this).val():a.lov&&a.lov[c]&&(a.lov[c].crm_value=$(this).val())})}e.validation&&e.validation.required&&!a[c]&&(g[c]=e.validation.required)}}this.validateFieldDetails(b,a,d,this.selectedDetailsPage,g)};b.saveItemTUIXPage=function(a,b,d){var g={};this.tuix[a]&&this.tuix[a].tabs&&this.tuix[a].tabs[b]&&
(this.saveItemTUIXFields(d,this.tuix[a].tabs[b].fields,a,g),d._changed=!0);return g};b.addFieldValue=function(a,b,d){b||(b="Untitled");newValueId="t"+this.maxNewCustomFieldValue++;a.lov[newValueId]={id:newValueId,label:b,ord:d||_._si(a.lov)+100,_is_new:!0}};b.getPageLabel=function(a){a&&""===a.trim()&&(a="Untitled");return a};b.getMatchingRepeatEnd=function(a){var b=!1,d=!1,g=this.getOrderedFields(this.currentPageId),c;for(c=0;c<g.length;c++)if("repeat_end"==g[c].type&&(b=g[c].id),g[c].id==a)d=c;
else if(!1!==d&&"repeat_end"==g[c].type){b=g[c].id;break}return b};b.showButtons=function(a){var b=this;this.changeDetected?(a.html(this.microTemplate(r+"organizer_apply_cancel_buttons",{confirm_text:"Save changes",confirm_css:"form_editor",cancel_text:"Reset"})),a.find("#organizer_applyButton").click(function(){var a=b.saveCurrentOpenDetails();a||(a=b.displayPageFieldStructureErrors(b.currentPageId))||b.saveChanges()}),a.find("#organizer_cancelButton").click(function(){confirm("Are you sure you want to discard all your changes?")&&
(u.onbeforeunload=!1,h._eI(),b.selectedFieldId=!1,b.selectedPageId=!1,b.currentPageId=!1,b.changeDetected=!1,h._r())})):a.html("").show()};b.displayPageFieldStructureErrors=function(){return!1};b.displayToastMessage=function(a,b){};b.cmsSetsPanelTUIX=function(a){this.tuix=a};b.cmsSetsPath=function(a){this.path=a};b.cmsSetsRequestedItem=function(a){this.lastItemClicked=this.requestedItem=a};b.cmsSetsSearchTerm=function(a){this.searchTerm=a};b.returnShowLeftColumn=function(){return!1};b.returnAJAXURL=
function(){return s+x+"admin/organizer.ajax.php?path="+v(this.path)+n._uR(this.returnAJAXRequests())};b.returnDevToolsAJAXURL=function(){return b.returnAJAXURL.call(this)};b.returnAJAXRequests=function(){return{}};b.returnPanelTitle=function(){return t(q.grid).returnPanelTitle.call(this)};b.sizePanel=function(a,b,d,g){};b.onUnload=function(a,b,d){this.saveScrollPosition(b)};b.saveScrollPosition=function(a){this.scrollTop=a.scrollTop();this.scrollLeft=a.scrollLeft()};b.restoreScrollPosition=function(a){a.scrollTop(this.scrollTop||
0).scrollLeft(this.scrollLeft||0).trigger("scroll")};b.checkboxClick=function(a,b){n._st(b);var d=this;setTimeout(function(){d.itemClick(a,k,!0)},0)};b.itemClick=function(a,b,d){if(!this.tuix||!this.tuix.items[a])return!1;h.multipleSelectEnabled&&!d&&(b||event).shiftKey&&this.lastItemClicked?h._sIR(a,this.lastItemClicked):(h.multipleSelectEnabled&&d?(this.selectedItems[a]?this.deselectItem(a):this.selectItem(a),h._cIV()):!h.multipleSelectEnabled&&d&&this.selectedItems[a]?(h._dAI(),h._cIV()):(h._cIV(),
h._dAI(),this.selectItem(a)),this.lastItemClicked=a);h._sB();h._sH();return!1};b.returnSelectedItems=function(){return this.selectedItems};b.cmsSetsSelectedItems=function(a){this.selectedItems=a};b.selectItem=function(a){this.selectedItems[a]=!0;$(l("organizer_item_"+a)).addClass("organizer_selected");this.updateItemCheckbox(a,!0)};b.deselectItem=function(a){delete this.selectedItems[a];$(l("organizer_item_"+a)).removeClass("organizer_selected");this.updateItemCheckbox(a,!1)};b.updateItemCheckbox=
function(a,b){l("organizer_itemcheckbox_"+a)&&$(l("organizer_itemcheckbox_"+a)).prop("checked",b);h._aIS()?$("#organizer_toggle_all_items_checkbox").prop("checked",!0):$("#organizer_toggle_all_items_checkbox").prop("checked",!1)};b.returnMultipleSelectEnabled=function(){return!1};b.returnSearchingEnabled=function(){return!1};b.returnInspectionViewEnabled=function(){return!1};b.toggleInspectionView=function(a){a==h._iVII()?this.closeInspectionView(a):this.openInspectionView(a)};b.openInspectionView=
function(a){};b.closeInspectionView=function(a){}},zenarioO.panelTypes);
