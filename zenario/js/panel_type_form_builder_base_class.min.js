var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(e){var d=0;return function(){return d<e.length?{done:!1,value:e[d++]}:{done:!0}}};$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,d,m){if(e==Array.prototype||e==Object.prototype)return e;e[d]=m.value;return e};$jscomp.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var d=0;d<e.length;++d){var m=e[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(e,d,m){if(!m||null!=e){m=$jscomp.propertyToPolyfillSymbol[d];if(null==m)return e[d];m=e[m];return void 0!==m?m:e[d]}};
$jscomp.polyfill=function(e,d,m,q){d&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,d,m,q):$jscomp.polyfillUnisolated(e,d,m,q))};$jscomp.polyfillUnisolated=function(e,d,m,q){m=$jscomp.global;e=e.split(".");for(q=0;q<e.length-1;q++){var t=e[q];if(!(t in m))return;m=m[t]}e=e[e.length-1];q=m[e];d=d(q);d!=q&&null!=d&&$jscomp.defineProperty(m,e,{configurable:!0,writable:!0,value:d})};
$jscomp.polyfillIsolated=function(e,d,m,q){var t=e.split(".");e=1===t.length;q=t[0];q=!e&&q in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var y=0;y<t.length-1;y++){var z=t[y];if(!(z in q))return;q=q[z]}t=t[t.length-1];m=$jscomp.IS_SYMBOL_NATIVE&&"es6"===m?q[t]:null;d=d(m);null!=d&&(e?$jscomp.defineProperty($jscomp.polyfills,t,{configurable:!0,writable:!0,value:d}):d!==m&&(void 0===$jscomp.propertyToPolyfillSymbol[t]&&(m=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[t]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(t):$jscomp.POLYFILL_PREFIX+m+"$"+t),$jscomp.defineProperty(q,$jscomp.propertyToPolyfillSymbol[t],{configurable:!0,writable:!0,value:d})))};$jscomp.initSymbol=function(){};$jscomp.iteratorPrototype=function(e){e={next:e};e[Symbol.iterator]=function(){return this};return e};
$jscomp.iteratorFromArray=function(e,d){e instanceof String&&(e+="");var m=0,q=!1,t={next:function(){if(!q&&m<e.length){var y=m++;return{value:d(y,e[y]),done:!1}}q=!0;return{done:!0,value:void 0}}};t[Symbol.iterator]=function(){return t};return t};$jscomp.polyfill("Array.prototype.values",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(d,m){return m})}},"es8","es3");
zenario.lib(function(e,d,m,q,t,y,z,I,D,K,L,A,M,N,B,E,O,P,Q,J,F,u,C){d=F(C.form_builder_base_class=J(C.base));d.returnShowWWTTSearch=function(){return!1};d.getOrderedPages=function(){var a=[],b;for(b in this.tuix.pages)if(u(this.tuix.pages,b)){var c=_.clone(this.tuix.pages[b]);a.push(c)}a.sort(this.sortByOrd);return a};d.getOrderedFields=function(a){var b=[];if(a)for(var c in this.tuix.pages[a].fields){if(u(this.tuix.pages[a].fields,c)){var g=_.clone(this.tuix.items[c]);b.push(g)}}else for(a=this.getOrderedPages(),
c=0;c<a.length;c++)b=b.concat(this.getOrderedFields(a[c].id));b.sort(this.sortByOrd);return b};d.getOrderedFieldValues=function(a){var b=[];if(this.tuix.items[a].lov){for(var c in this.tuix.items[a].lov)if(u(this.tuix.items[a].lov,c)){var g=_.clone(this.tuix.items[a].lov[c]);g.id=c;b.push(g)}b.sort(this.sortByOrd)}return b};d.sortByOrd=function(a,b){return a.ord<b.ord?-1:a.ord>b.ord?1:0};d.getMatchingRepeatEnd=function(a){var b=!1,c=!1,g=this.getOrderedFields(this.currentPageId),f;for(f=0;f<g.length;f++)if("repeat_end"==
g[f].type&&(b=g[f].id),g[f].id==a)c=f;else if(!1!==c&&"repeat_end"==g[f].type){b=g[f].id;break}return b};d.addFieldValue=function(a,b,c){b||(b="Untitled");"undefined"===typeof a.lov&&(a.lov={});var g="t"+ ++this.newItemCount;a.lov[g]={label:b,ord:c||_.size(a.lov)+100}};d.saveFieldListOfValues=function(a){var b=this.getItem("field",a);$("#field_values_list div.field_value").each(function(c,g){var f=$(this).data("id");b.lov||(b.lov={});b.lov[f]&&(b.lov[f].label=$(g).find("input").val(),b.lov[f].ord=
c+1)})};d.openPageEdit=function(a,b,c){this.openEdit("page",a,b,c)};d.openFieldEdit=function(a,b,c){this.openEdit("field",a,b,c)};d.getItem=function(a,b){return"page"==a?this.tuix.pages[b]:"field"==a?this.tuix.items[b]:!1};d.loadFieldValuesListPreview=function(a){var b=this.getItem("field",a),c=this.getOrderedFieldValues(a);"select"==b.type||"centralised_select"==b.type?(c.unshift({label:"-- Select --"}),b=this.microTemplate("zenario_organizer_admin_box_builder_select_values",c),$("#organizer_form_field_"+
a+" select").html(b)):"radios"==b.type||"centralised_radios"==b.type?(b=this.microTemplate("zenario_organizer_admin_box_builder_radio_values_preview",c),$("#organizer_form_field_values_"+a).html(b)):"checkboxes"==b.type&&(b=this.microTemplate("zenario_organizer_admin_box_builder_checkbox_values_preview",c),$("#organizer_form_field_values_"+a).html(b))};d.formatPageLabel=function(a){a&&""!==a.trim()||(a="Untitled");return a};d.moveFieldToPage=function(a,b,c,g){if(a!=b&&this.tuix.items[c].page_id==
a&&"repeat_end"!=this.tuix.items[c].type){this.tuix.pages[b].fields_reordered=!0;this.tuix.pages[a].fields_reordered=!0;var f=1,l=this.getOrderedFields(b);l.length&&(f=g?l[0].ord-1:l[l.length-1].ord+1);"repeat_start"==this.tuix.items[c].type&&(g=this.getMatchingRepeatEnd(c),this.tuix.items[g].ord=f+.001,this.tuix.items[g].page_id=b,this.tuix.pages[b].fields[g]=1,delete this.tuix.pages[a].fields[g]);this.tuix.items[c].ord=f;this.tuix.items[c].page_id=b;this.tuix.pages[b].fields[c]=1;delete this.tuix.pages[a].fields[c];
this.changeMadeToPanel()}};d.getTUIXTabs=function(a,b,c){var g=[],f=!1,l;for(l in a.tabs)if(u(a.tabs,l)){var h=_.clone(a.tabs[l]);h.id=l;h.hidden||h.visible_if&&!D._8s(h.visible_if,this,e,c)||(f||l!=b&&a.tabs[b]||(f=!0,h._is_current_tab=!0,this.editingThingTUIXTabId=l),g.push(h))}return g};d.getTUIXTabsHTML=function(a){for(var b="",c=0;c<a.length;c++)b+=this.getTUIXTabHTML(a[c]);return b};d.getTUIXTabHTML=function(a){return this.microTemplate("zenario_organizer_admin_box_builder_tuix_tab",a)};d.getTUIXTags=
function(a,b){a=JSON.parse(JSON.stringify(this.tuix[a]));for(var c in a.tabs)if(u(a.tabs,c)){var g=a.tabs[c],f;for(f in g.fields)if(u(g.fields,f)){var l=g.fields[f];null!==b[f]&&b[f]!==e?l.value=b[f]:l.value!==e&&(b[f]=l.value);l.values&&"string"==typeof l.values&&(l.values=this.getTUIXFieldCustomValues(l.values))}}return a};d.getTUIXFieldsHTML=function(a,b,c,g){var f=[],l;for(l in a.tabs)if(u(a.tabs,l)){var h=a.tabs[l],k=!1,p={},w;for(w in h.fields)if(u(h.fields,w)){var n=h.fields[w],r=!1,G=1*n.indent||
0;n.hidden||n.hide_with_previous_field&&k||n.hide_with_previous_outdented_field&&p[G-1]||n.visible_if&&!D._8s(n.visible_if,this,e,c)?(k=r=!0,n.hidden=!0):k=!1;p[G]=r}}for(w in a.tabs[b].fields)if(u(a.tabs[b].fields,w)&&(n=a.tabs[b].fields[w],!n.hidden)){n.id=w;n.itemType=g;n.itemId=c.id;n.tuixTabId=b;if(n.values){p=[];k=!1;for(var v in n.values)u(n.values,v)&&(h=n.values[v],h.name=w,h.value=v,h.itemType=g,h.itemId=c.id,h.tuixTabId=b,n.readonly&&(h.readonly=n.readonly),h.selected="checkboxes"==n.type?
n.value&&-1!==n.value.indexOf(v):n.value==v,h.parent&&n.values[h.parent]?(k=!0,r=n.values[h.parent],r.hasChildren||(r.hasChildren=!0,r.options=[]),r.options.push(h)):p.push(h));if(k)for(k=0;k<p.length;k++)p[k].options&&p[k].options.sort(this.sortByOrd);p.sort(this.sortByOrd);n.empty_value&&p.unshift({label:n.empty_value,value:""});n.values=p}if("values_list"==n.type)n.lov=this.getOrderedFieldValues(c.id);else if("crm_values"==n.type){p={values:[]};c.crm_lov===e&&(c.crm_lov={});if("checkbox"==c.type||
"group"==c.type)for(v in r={unchecked:{label:0,ord:1},checked:{label:1,ord:2}},r)u(r,v)&&(h=r[v],h.id=v,h.value=c.crm_lov[v],p.values.push(h));else for(r=this.getOrderedFieldValues(c.id),k=0;k<r.length;k++)r[k].value=c.crm_lov[r[k].id],p.values.push(r[k]);p.values.sort(this.sortByOrd);n.crm_values=p}else if("translations"==n.type){n.translation_fields=[];p=[];for(var H in this.tuix.languages)u(this.tuix.languages,H)&&p.push(this.tuix.languages[H]);p.sort(this.sortByOrd);for(l in a.tabs)if(u(a.tabs,
l)){h=a.tabs[l];for(var x in h.fields)if(u(h.fields,x)&&(k=h.fields[x],!k.hidden&&B(k.is_phrase))){r={phrases:[]};r.label=k.label;c[x]?r.value=c[x]:(r.value="(No text is defined in the default language)",r.disabled=!0);for(k=0;k<p.length;k++)B(p[k].translate_phrases)&&r.phrases.push({field_column:x,language_id:p[k].id,language_name:p[k].english_name,phrase:c.translations&&c.translations[x]&&c.translations[x][p[k].id]?c.translations[x][p[k].id]:"",disabled:r.disabled});r.phrases.length&&n.translation_fields.push(r)}}}f.push(n)}a=
"";for(k=0;k<f.length;k++)a+=this.getTUIXFieldHTML(f[k]);return a};d.getTUIXFieldHTML=function(a){return this.microTemplate("zenario_organizer_admin_box_builder_tuix_field",a)};d.saveTUIXTab=function(a,b,c){for(var g in a.tabs[b].fields)u(a.tabs[b].fields,g)&&this.saveTUIXField(a.tabs[b].fields[g],g,c)};d.saveTUIXField=function(a,b,c){var g=c[b];"values_list"==a.type?(this.saveFieldListOfValues(c.id),c._changed=!0):"translations"==a.type?($("#organizer_field_translations input.translation").map(function(f,
l){f=$(this).data("language_id");var h=$(this).data("field_column");c.translations||(c.translations={},c.translations[h]={},c.translations[h][f]="");c.translations[h][f]=l.value}),c._changed=!0):"crm_values"==a.type?($("#organizer_field_crm_values input.crm_value_input").map(function(f,l){f=$(this).data("id");c.crm_lov[f]=$(this).val()}),c._changed=!0):(a=this.getTUIXFieldValue(a,b),null!==a&&a!==e&&(c[b]=a));g!=c[b]&&(c._changed=!0)};d.getTUIXFieldValue=function(a,b){var c=null;if("select"==a.type||
"text"==a.type||"textarea"==a.type)c=$("#field__"+b).val(),"text"!=a.type&&"textarea"!=a.type||!c||(c=c.trim());else if("checkbox"==a.type)c=$("#field__"+b).is(":checked");else if("radios"==a.type)c=$('#organizer_field_details_form input[name="'+b+'"]:checked').val();else if("checkboxes"==a.type||"sortable_selection"==a.type)c=[],$('#organizer_field_details_form input[name="'+b+'"]:checked').each(function(){c.push($(this).val())});return c};d.openItemTUIXTab=function(a,b,c,g,f,l){var h=this.getTUIXModeForItemType(a),
k=this.getItem(a,b);h=this.getTUIXTags(h,k,a);this.formatTUIX(a,k,c,h,f);f="";if(g&&0<g.length){for(var p=0;p<g.length;p++)f+='<p class="error">'+g[p]+"</p>";$("#organizer_field_details_form").effect({effect:"bounce",duration:125,direction:"right",times:2,distance:5,mode:"effect"})}if(l)for(p=0;p<l.length;p++)f+='<p class="success">'+l[p]+"</p>";f+=this.getTUIXFieldsHTML(h,c,k,a);$("#organizer_field_details").html(f);this.addTUIXTabEvents(a,b,c)};d.tuixFieldDetailsChanged=function(a,b,c,g){var f=
this.getTUIXModeForItemType(a),l=this.tuix[f].tabs[c].fields[g],h=this.getItem(a,b),k=this.getTUIXFieldValue(l,g);null!==k&&k!=h[g]&&this.changeMadeToPanel();B(l.format_onchange)&&(this.saveTUIXTab(this.tuix[f],c,h),this.openItemTUIXTab(a,b,c,e,g))};d.showButtons=function(a){var b=this;b.changeMadeOnPanel?(a.html(b.microTemplate("zenario_organizer_apply_cancel_buttons",{confirm_text:"Save changes",confirm_css:"form_editor",cancel_text:"Reset"})),a.find("#organizer_applyButton").click(function(){b.saveCurrentOpenDetails()&&
b.displayPageFieldOrderErrors()&&b.saveChanges()}),a.find("#organizer_cancelButton").click(function(){confirm("Are you sure you want to discard all your changes?")&&(q.onbeforeunload=!1,A._rj7(),b.editingThing=!1,b.currentPageId=!1,b.changeMadeOnPanel=!1,A._131())})):a.html("").show()};d.displayPageFieldOrderErrors=function(){return!1};d.sendAJAXRequest=function(a,b){var c=A._i1(),g="zenario/ajax.php?__pluginClassName__="+this.tuix.class_name+"&__path__="+A.path+"&method_call=handleOrganizerPanelAJAX",
f=function(){E("organizer_preloader_circle").style.display="none";I._8nu();q.onbeforeunload=!1};$.extend(c,a);E("organizer_preloader_circle").style.display="block";return z.ajax(z._ozg(g),c,!0,!1,!0,!0,e,e,e,e,e,f).after(function(l){f();b!==e&&b(l)})};d.displayToastMessage=function(a,b){};d.returnShowLeftColumn=function(){return!1};d.returnPanelTitle=function(){return F(C.grid).returnPanelTitle.call(this)};d.returnMultipleSelectEnabled=function(){return!1};d.returnSearchingEnabled=function(){return!1};
d.returnInspectionViewEnabled=function(){return!1}},zenarioO.panelTypes);
