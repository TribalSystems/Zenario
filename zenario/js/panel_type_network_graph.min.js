zenario.lib(function(d,r,s,t,u,v,g,w,x,y,z,e,A,B,l,C,D,E,p,q,m,h,f){d=m(f.network_graph=q(f.grid));d.init=function(){};d.returnPageSize=function(){return!1};d.drawItems=function(c){this.items={no_items_message:e._pP("no_items_message")||p.noItems};if(_._isEm(this.tuix.items))c.html(this.microTemplate("zenario_organizer_grid",this.items));else{var a,b,d=$.extend(!0,{},{boxSelectionEnabled:!1,style:[{selector:"node",css:{content:"data(label)","text-valign":"center","text-halign":"center","background-color":"data(color)",
"border-color":"data(color)","border-opacity":0.5,"border-width":1,"border-style":"solid"}},{selector:"node > $node",css:{"text-opacity":0.7}},{selector:"$node > node",css:{"padding-top":"10px","padding-left":"10px","padding-bottom":"10px","padding-right":"10px","text-valign":"bottom","text-halign":"center","font-size":15,"background-color":"#ddd","background-opacity":0.5,"border-color":"#eee","border-opacity":1,"border-width":1,"border-style":"solid"}},{selector:"edge",css:{"target-arrow-shape":"triangle",
"target-arrow-color":"data(color)","line-style":"solid","line-color":"data(color)",content:"data(label)","text-opacity":0.8,"font-size":14,"text-valign":"center","text-halign":"center","text-rotation":"autorotate","curve-style":"bezier",opacity:0.625}},{selector:"edge.dotted",css:{"line-style":"dotted"}},{selector:"edge.dashed",css:{"line-style":"dashed"}},{selector:":selected",css:{"border-color":"#000","border-opacity":1,"border-width":1,"border-style":"solid","background-blacken":0.3,"line-color":"black"}}],
elements:{nodes:[],edges:[]},layout:{name:"breadthfirst"}},this.tuix.cytoscape),k=0,n=!1;for(a in this.tuix.items)if(h(this.tuix.items,a))switch(b=this.tuix.items[a],b={data:g._cl(b)},b.selected=this.selectedItems&&this.selectedItems[a],b.classes=b.data.classes||"",b.data.color||(b.data.color="grey"),l(b.data.unselectable)&&(b.selected=b.selectable=!1,this.selectedItems[a]&&(delete this.selectedItems[a],n=!0)),b.grabbable="state"==b.data.type,b.data.type){case "state":case "slide":case "node":b.data.parent||
++k;d.elements.nodes.push(b);break;case "path":case "edge":d.elements.edges.push(b)}!d.layout.radius&&k&&(d.layout.radius=Math.ceil(50*Math.log(k)));this.cyOptions=d;this.drawCytoscape(c);if(!_._isEm(this.tuix.positions)){for(a in this.tuix.positions)h(this.tuix.positions,a)&&(b=this.tuix.positions[a],this.tuix.items[a]&&this.cy.$("#"+a).position(b));this.cy.fit()}}c.show();n&&(e._dAI(),this.setButtonsWrapper())};d.drawCytoscape=function(c){var a=this;c.html("");var b=!1,d=g._cl(a.cyOptions);d.container=
c;a.cy=cytoscape(d);a.cy.on("select unselect","node, edge",function(b){a.selectedItems={};var d,c;b=a.cy.$(":selected").jsons();if(!_._isEm(b))for(d in b)h(b,d)&&(c=b[d],c=c.data&&c.data.id)&&(a.selectedItems[c]=!0);a.setButtonsWrapper()});a.cy.on("grab","node",function(a){b=!1});a.cy.on("drag","node",function(a){b=!0});a.cy.on("free","node",function(d){if(b){var c,f=_._isEm(a.tuix.positions),g=!a.tuix.positionsChanged;a.tuix.positions={};for(c in a.tuix.items)h(a.tuix.items,c)&&(d=a.tuix.items[c],
"state"==d.type&&(a.tuix.positions[c]=a.cy.$("#"+c).position(),a.tuix.positionsChanged=!0));(f||g)&&e._sB()}})};d.setButtonsWrapper=function(){e._sB();e._sH()};d.selectItem=function(c){this.selectedItems[c]=!0;this.cy&&this.tuix.items&&this.tuix.items[c]&&!l(this.tuix.items[c].unselectable)&&this.cy.$("#"+c).select()};d.deselectItem=function(c){delete this.selectedItems[c];this.cy&&this.cy.$("#"+c).deselect()};d.sizePanel=function(c,a,b,d){this.cy&&(this.cy.resize(),this.cy.fit());m(f.grid).sizePanel.call(this,
c,a,b,d)};d.onUnload=function(c,a,b){this.cy&&this.cy.destroy()};d.getItemPosition=function(c,a){return!1}},zenarioO.panelTypes);
