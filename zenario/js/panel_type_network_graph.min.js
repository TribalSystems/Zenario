'use strict';zenario.lib(function(f,v,w,x,y,z,n,A,B,C,D,k,E,F,p,G,H,I,r,t,q,l,m){f=q(m.network_graph=t(m.grid));f.init=function(){};f.returnPageSize=function(){return!1};f.drawItems=function(c){this.items={no_items_message:k._pP("no_items_message")||r.noItems};if(_._isEm(this.tuix.items))c.html(this.microTemplate("zenario_organizer_grid",this.items));else{var a,e=$.extend(!0,{},{boxSelectionEnabled:!1,style:[{selector:"node",css:{content:"data(label)","text-valign":"center","text-halign":"center",
"background-color":"data(color)","border-color":"data(color)","border-opacity":.5,"border-width":1,"border-style":"solid"}},{selector:"node > $node",css:{"text-opacity":.7}},{selector:"$node > node",css:{"padding-top":"10px","padding-left":"10px","padding-bottom":"10px","padding-right":"10px","text-valign":"bottom","text-halign":"center","font-size":15,"background-color":"#ddd","background-opacity":.5,"border-color":"#eee","border-opacity":1,"border-width":1,"border-style":"solid"}},{selector:"edge",
css:{"target-arrow-shape":"triangle","target-arrow-color":"data(color)","line-style":"solid","line-color":"data(color)",content:"data(label)","text-opacity":.8,"font-size":14,"text-valign":"center","text-halign":"center","text-rotation":"autorotate","curve-style":"bezier",opacity:.625}},{selector:"edge.dotted",css:{"line-style":"dotted"}},{selector:"edge.dashed",css:{"line-style":"dashed"}},{selector:":selected",css:{"border-color":"#000","border-opacity":1,"border-width":1,"border-style":"solid",
"background-blacken":.3,"line-color":"black"}}],elements:{nodes:[],edges:[]},layout:{name:"breadthfirst"}},this.tuix.cytoscape),g=0,d=!1;for(a in this.tuix.items)if(l(this.tuix.items,a)){var b=this.tuix.items[a];b={data:n._cl(b)};b.selected=this.selectedItems&&this.selectedItems[a];b.classes=b.data.classes||"";b.data.color||(b.data.color="grey");p(b.data.unselectable)&&(b.selected=b.selectable=!1,this.selectedItems[a]&&(delete this.selectedItems[a],d=!0));b.grabbable="state"==b.data.type;switch(b.data.type){case "state":case "slide":case "node":b.data.parent||
++g;e.elements.nodes.push(b);break;case "path":case "edge":e.elements.edges.push(b)}}!e.layout.radius&&g&&(e.layout.radius=Math.ceil(50*Math.log(g)));this.cyOptions=e;this.drawCytoscape(c);if(!_._isEm(this.tuix.positions)){for(a in this.tuix.positions)l(this.tuix.positions,a)&&(b=this.tuix.positions[a],this.tuix.items[a]&&this.cy.$("#"+a).position(b));this.cy.fit()}}c.show();d&&(k._dAI(),this.setButtonsWrapper())};f.drawCytoscape=function(c){var a=this;c.html("");var e=!1,g=n._cl(a.cyOptions);g.container=
c;a.cy=cytoscape(g);a.cy.on("select unselect","node, edge",function(d){a.selectedItems={};var b;d=a.cy.$(":selected").jsons();if(!_._isEm(d))for(b in d)if(l(d,b)){var h=d[b];if(h=h.data&&h.data.id)a.selectedItems[h]=!0}a.setButtonsWrapper()});a.cy.on("grab","node",function(d){e=!1});a.cy.on("drag","node",function(d){e=!0});a.cy.on("free","node",function(d){if(e){var b,h=_._isEm(a.tuix.positions),u=!a.tuix.positionsChanged;a.tuix.positions={};for(b in a.tuix.items)l(a.tuix.items,b)&&(d=a.tuix.items[b],
"state"==d.type&&(a.tuix.positions[b]=a.cy.$("#"+b).position(),a.tuix.positionsChanged=!0));(h||u)&&k._sB()}})};f.setButtonsWrapper=function(){k._sB();k._sH()};f.selectItem=function(c){this.selectedItems[c]=!0;this.cy&&this.tuix.items&&this.tuix.items[c]&&!p(this.tuix.items[c].unselectable)&&this.cy.$("#"+c).select()};f.deselectItem=function(c){delete this.selectedItems[c];this.cy&&this.cy.$("#"+c).deselect()};f.sizePanel=function(c,a,e,g){this.cy&&(this.cy.resize(),this.cy.fit());q(m.grid).sizePanel.call(this,
c,a,e,g)};f.onUnload=function(c,a,e){this.cy&&this.cy.destroy()};f.getItemPosition=function(c,a){return!1}},zenarioO.panelTypes);
