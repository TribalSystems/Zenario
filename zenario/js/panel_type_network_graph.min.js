zenario.lib(function(d,s,t,u,v,w,g,x,y,z,A,e,B,C,l,D,E,p,q,m,h,f,F,r){d=m(f.network_graph=q(f.grid));d.init=function(){};d.returnPageSize=function(){return!1};d.drawItems=function(c){this.items={no_items_message:e._pP("no_items_message")||p.noItems};if(_._isEm(this.tuix.items))c.html(this.microTemplate(r+"organizer_grid",this.items));else{var b,a,d=$.extend(!0,{},{boxSelectionEnabled:!1,style:[{selector:"node",css:{content:"data(label)","text-valign":"center","text-halign":"center","background-color":"data(color)",
"border-color":"data(color)","border-opacity":0.5,"border-width":1,"border-style":"solid"}},{selector:"node > $node",css:{"text-opacity":0.7}},{selector:"$node > node",css:{"padding-top":"10px","padding-left":"10px","padding-bottom":"10px","padding-right":"10px","text-valign":"bottom","text-halign":"center","font-size":15,"background-color":"#ddd","background-opacity":0.5,"border-color":"#eee","border-opacity":1,"border-width":1,"border-style":"solid"}},{selector:"edge",css:{"target-arrow-shape":"triangle",
"target-arrow-color":"data(color)","line-style":"solid","line-color":"data(color)",content:"data(label)","text-opacity":0.8,"font-size":14,"text-valign":"center","text-halign":"center","text-rotation":"autorotate","curve-style":"bezier",opacity:0.625}},{selector:"edge.dotted",css:{"line-style":"dotted"}},{selector:"edge.dashed",css:{"line-style":"dashed"}},{selector:":selected",css:{"border-color":"#000","border-opacity":1,"border-width":1,"border-style":"solid","background-blacken":0.3,"line-color":"black"}}],
elements:{nodes:[],edges:[]},layout:{name:"breadthfirst"}},this.tuix.cytoscape),k=0,n=!1;for(b in this.tuix.items)if(h(this.tuix.items,b))switch(a=this.tuix.items[b],a={data:g._cl(a)},a.selected=this.selectedItems&&this.selectedItems[b],a.classes=a.data.classes||"",a.data.color||(a.data.color="grey"),l(a.data.unselectable)&&(a.selected=a.selectable=!1,this.selectedItems[b]&&(delete this.selectedItems[b],n=!0)),a.grabbable="state"==a.data.type,a.data.type){case "state":case "slide":case "node":a.data.parent||
++k;d.elements.nodes.push(a);break;case "path":case "edge":d.elements.edges.push(a)}!d.layout.radius&&k&&(d.layout.radius=Math.ceil(50*Math.log(k)));this.cyOptions=d;this.drawCytoscape(c);if(!_._isEm(this.tuix.positions)){for(b in this.tuix.positions)h(this.tuix.positions,b)&&(a=this.tuix.positions[b],this.tuix.items[b]&&this.cy.$("#"+b).position(a));this.cy.fit()}}c.show();n&&(e._dAI(),this.setButtonsWrapper())};d.drawCytoscape=function(c){c.html("");var b=this,a=!1,d=g._cl(this.cyOptions);d.container=
c;this.cy=cytoscape(d);this.cy.on("select unselect","node, edge",function(a){b.selectedItems={};var d,c;a=b.cy.$(":selected").jsons();if(!_._isEm(a))for(d in a)h(a,d)&&(c=a[d],c=c.data&&c.data.id)&&(b.selectedItems[c]=!0);b.setButtonsWrapper()});this.cy.on("grab","node",function(b){a=!1});this.cy.on("drag","node",function(b){a=!0});this.cy.on("free","node",function(d){if(a){var c,f=_._isEm(b.tuix.positions),g=!b.tuix.positionsChanged;b.tuix.positions={};for(c in b.tuix.items)h(b.tuix.items,c)&&(d=
b.tuix.items[c],"state"==d.type&&(b.tuix.positions[c]=b.cy.$("#"+c).position(),b.tuix.positionsChanged=!0));(f||g)&&e._sB()}})};d.setButtonsWrapper=function(){e._sB();e._sH()};d.selectItem=function(c){this.selectedItems[c]=!0;this.cy&&this.tuix.items&&this.tuix.items[c]&&!l(this.tuix.items[c].unselectable)&&this.cy.$("#"+c).select()};d.deselectItem=function(c){delete this.selectedItems[c];this.cy&&this.cy.$("#"+c).deselect()};d.sizePanel=function(c,b,a,d){this.cy&&(this.cy.resize(),this.cy.fit());
m(f.grid).sizePanel.call(this,c,b,a,d)};d.onUnload=function(c,b,a){this.cy&&this.cy.destroy()}},zenarioO.panelTypes);
