zenario_user_forms.updateRestatementFields=function(b,d){$(b?':input[data-mirror-of="'+b+'"]':":input[data-mirror-of]").each(function(c,a){var b=$(a),e=$("#"+b.data("mirror-of"));"checkbox"==d||"radio"==d?b.prop("checked",e.prop("checked")):b.val(e.val())})};
zenario_user_forms.initCalculateField=function(b,d,c,a,g,e){c=$("input#"+b+"_field_value_"+c);a=$("input#"+b+"_field_value_"+a);c.on("keyup",function(){zenario_user_forms.calculate(b,d,c,a,g,e)});a.on("keyup",function(){zenario_user_forms.calculate(b,d,c,a,g,e)})};
zenario_user_forms.calculate=function(b,d,c,a,g,e){c=c.val();a=a.val();var f=0;c=Number(c);!isNaN(c)&&isFinite(c)&&(f+=c);a=Number(a);!isNaN(a)&&isFinite(c)&&("-"==g&&(a*=-1),f+=a);f=parseFloat(f.toFixed(2));zenario_user_forms.setJSCalculatedField(b,d,f);if(e)for(d in e)e.hasOwnProperty(d)&&$(':input[data-mirror-of="'+b+"_field_value_"+e[d]+'"]').val(f)};zenario_user_forms.setJSCalculatedField=function(b,d,c){$("input#"+b+"_field_value_"+d).val(c)};
zenario_user_forms.toggleFieldVisibility=function(b,d,c,a,g){$("div#"+b+"_field_"+c+" :input").on("change",function(){("checkbox"==g?$(this).is(":checked"):$(this).val())==a?$("div#"+b+"_field_"+d).show():$("div#"+b+"_field_"+d).hide()})};
zenario_user_forms.initMultiPageForm=function(b,d,c){$("#"+c+" :input:not(textarea)").on("keydown",function(a){13==a.keyCode&&(a.preventDefault(),$(this).parents("fieldset").find("input.next").click())});$("#"+c+" input.next").on("click",function(a){a.preventDefault();var g=$(this).parent(),e=$(this).parent().next(),f=g.prop("id");a=!1;var l=f.match(/\d+$/),k=$(this).is('input[type="submit"]');a=k?$("#"+c).find(":input").serialize():$("#"+f).find(":input").serialize();zenario.ajax(b,a+("&_pageNo="+
l)).after(function(a){a=JSON.parse(a);$("#"+f+" div.form_error").remove();if(_.isEmpty(a))k?$("#"+c+"__form").submit():(g.css("visibility","visible"),e.show("slide",{direction:"right"},500),g.hide(),$("html, body").animate({scrollTop:$("#"+d).offset().top-20}));else{var b="",h="";for(fieldId in a)h="#"+d+"_field_"+fieldId,b='<div class="form_error">'+a[fieldId].message+"</div>","checkbox"!=a[fieldId].type&&"group"!=a[fieldId].type&&$(h+" div.field_title").length?$(h+" div.field_title").after(b):$(h).append(b);
$("#"+d).effect("shake",{distance:10,times:3,duration:300})}})});$("#"+c+" input.previous").on("click",function(){var a=$(this).parent();prev=$(this).parent().prev();a.css("visibility","visible");prev.show("slide",{direction:"left"},500);a.hide();$("html, body").animate({scrollTop:$("#"+d).offset().top-20})})};
