zenario_user_forms.updateRestatementFields=function(a,c){$(a?':input[data-mirror-of="'+a+'"]':":input[data-mirror-of]").each(function(b,e){var a=$(e),d=$("#"+a.data("mirror-of"));"checkbox"==c||"radio"==c?a.prop("checked",d.prop("checked")):a.val(d.val())})};
zenario_user_forms.initCalculateField=function(a,c,b,e,f,d){b=$("input#"+a+"_field_value_"+b);e=$("input#"+a+"_field_value_"+e);b.on("keyup",function(){zenario_user_forms.calculate(a,c,b,e,f,d)});e.on("keyup",function(){zenario_user_forms.calculate(a,c,b,e,f,d)})};
zenario_user_forms.calculate=function(a,c,b,e,f,d){b=b.val();e=e.val();var g=0;b=Number(b);!isNaN(b)&&isFinite(b)&&(g+=b);e=Number(e);!isNaN(e)&&isFinite(b)&&("-"==f&&(e*=-1),g+=e);g=parseFloat(g.toFixed(2));zenario_user_forms.setJSCalculatedField(a,c,g);if(d)for(c in d)d.hasOwnProperty(c)&&$(':input[data-mirror-of="'+a+"_field_value_"+d[c]+'"]').val(g)};zenario_user_forms.setJSCalculatedField=function(a,c,b){$("input#"+a+"_field_value_"+c).val(b)};
zenario_user_forms.toggleFieldVisibility=function(a,c,b,e,f){$("div#"+a+"_field_"+b+" :input").on("change",function(){("checkbox"==f?$(this).is(":checked"):$(this).val())==e?$("div#"+a+"_field_"+c).show():$("div#"+a+"_field_"+c).hide()})};zenario_user_forms.submitMultiPageForm=!1;
zenario_user_forms.initMultiPageForm=function(a,c,b,e,f){$("#"+b+" :input:not(textarea)").on("keydown",function(b){13==b.keyCode&&(b.preventDefault(),$(this).parents("fieldset").find("input.next").click())});$("#"+b+" input.next").on("click",function(d){if(!zenario_user_forms.submitMultiPageForm){d.preventDefault();var g=$(this).parent(),n=$(this).parent().next(),k=g.prop("id"),h=!1;d=k.match(/\d+$/);var m=$(this).is('input[type="submit"]'),l;l=m?$("#"+b):$("#"+k);h=l.find(":input").serialize();l.find(':input[type="file"]').each(function(b,
a){var c=$(a);h+="&"+c.prop("name")+"="+c.val()});h+="&_pageNo="+d+"&_pageCount="+f;(d=$("#"+c+"_math_captcha_input").val())&&(h+="&captcha_code="+d);zenario.ajax(a,h).after(function(a){a=JSON.parse(a);$("#"+k+" div.form_error").remove();if(_.isEmpty(a))m?(zenario_user_forms.submitMultiPageForm=!0,$("#"+b+"__form input:submit").click()):(g.css("visibility","visible"),n.show("slide",{direction:"right"},500),g.hide(),e||$("html, body").animate({scrollTop:$("#"+c).offset().top-20}));else{var d="",f=
"";for(fieldId in a)"captcha"==fieldId?(d='<div class="form_error">'+a[fieldId]+"</div>",$("#"+c+"_math_captcha div.field_title").after(d)):(f="#"+c+"_field_"+fieldId,d='<div class="form_error">'+a[fieldId].message+"</div>","checkbox"!=a[fieldId].type&&"group"!=a[fieldId].type&&$(f+" div.field_title").length?$(f+" div.field_title").after(d):$(f).append(d));a=c;e&&(a="colorbox");$("#"+a).effect("shake",{distance:10,times:3,duration:300})}})}});$("#"+b+" input.previous").on("click",function(){var a=
$(this).parent();prev=$(this).parent().prev();a.css("visibility","visible");prev.show("slide",{direction:"left"},500);a.hide();$("html, body").animate({scrollTop:$("#"+c).offset().top-20})})};
