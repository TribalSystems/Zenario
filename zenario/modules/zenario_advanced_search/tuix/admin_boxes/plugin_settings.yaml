# You must use a tab-size of 4 spaces to edit this file.
---
plugin_settings:
    module_class_name: zenario_advanced_search
    tabs:
        global_area:
            fields:
                mode:
                    plugin_setting:
                        name: mode
                    label: Mode
                    type: select
                    css_class: iconselectmenu
                    format_onchange: true
                    values:
                        search_entry_box:
                            label: "Inline search (hover to show)"
                        search_entry_box_show_always:
                            label: "Inline search (show always)"
                        search_page:
                            label: "Full page search and results"
                    value: search_entry_box
        first_tab:
            ord: "1"
            label: Display
            fields:
                search_entry_box_hover_to_show_info:
                    snippet:
                        html: |
                            <div class="zenario_fbInfo">    
                                Shows a magnifying glass icon, which when clicked reveals a drop-down predictive search box. Can be placed on every layout in a slot (e.g. works well near the top of a page).
                            </div>
                    visible_if:
                        lib.modeIs: search_entry_box
                search_entry_box_show_always_info:
                    snippet:
                        html: |
                            <div class="zenario_fbInfo">    
                                Shows a drop-down predictive search box. Can be placed on every layout or content item in a slot.
                            </div>
                    visible_if:
                        lib.modeIs: search_entry_box_show_always
                search_page_info:
                    snippet:
                        html: |
                            <div class="zenario_fbInfo">    
                                Shows a full page advanced search interface, with a panel for search parameters and a panel for results.
                            </div>
                    visible_if:
                        lib.modeIs: search_page
                
                let_user_select_language:
                    plugin_setting:
                        name: let_user_select_language
                    type: checkbox
                    label: 'Let user select language'
                    visible_if:
                        lib.modeIs: search_page
                    side_note: 'If this setting is disabled, the plugin will search for content in all enabled languages.'
                
                search_placeholder:
                    plugin_setting:
                        name: search_placeholder
                    label: 'Show placeholder text "Search the site"'
                    type: checkbox
                    value: 0
                    format_onchange: Yes
                search_placeholder_phrase:
                    indent: 1
                    plugin_setting:
                        name: search_placeholder_phrase
                    label: 'Search placeholder phrase:'
                    type: text
                    format_onchange: Yes
                    visible_if:
                        lib.value: search_placeholder
                    validation:
                        required_if_not_hidden: Please enter a phrase.
                search_label:
                    plugin_setting:
                        name: search_label
                    label: 'Show "Search" label'
                    type: checkbox
                    value: 0
                    format_onchange: Yes
                    visible_if: 
                        lib.modeIn: search_entry_box, search_entry_box_show_always
                show_clear_search_button:
                    plugin_setting:
                        name: show_clear_search_button
                    label: 'Show button "Clear search"'
                    type: checkbox
                    value: false
                    visible_if: 
                        lib.modeIn: search_page
                open_links_to_results_in_a_new_window:
                    plugin_setting:
                        name: open_links_to_results_in_a_new_window
                    label: 'Open links to results in a new window'
                    type: checkbox
                    value: false
                
                keyboard_delay_before_submit:
                    plugin_setting:
                        name: keyboard_delay_before_submit
                    label: 'Wait before submit (ms):'
                    type: text
                    value: 500
                    maxlength: 5
                    style: 'width: 5em;'
                    validation:
                        required_if_not_hidden: Please enter the number of miliseconds to wait before send the request.
                        numeric: The number of miliseconds to wait must be a number.
                    side_note: |
                        When the user type words to search wait the above amount of miliseconds before send the request. Default 500 ms.
                search_private_items:
                    plugin_setting:
                        name: search_private_items
                    label: 'Search private items'
                    type: checkbox
                    value: "1"
                    format_onchange: Yes
                show_private_content_item_link_control:
                    plugin_setting:
                        name: show_private_content_item_link_control
                    label: 'Private items:'
                    type: select
                    value: "1"
                    values:
                        1:
                            ord: 1
                            label: "Only show links to private content items to authorised visitors"
                        0:
                            ord: 2
                            label: "Show links to private content items to all visitors"
                    indent: 1
                
                limit_num_of_chars_in_title:
                    plugin_setting:
                        name: limit_num_of_chars_in_title
                    label: 'Limit the number of characters in title'
                    type: checkbox
                    value: 1
                    side_note: "Limit the search result title length, breaking on a complete word."
                    redraw_onchange: Yes
                title_char_limit_value:
                    indent: 1
                    plugin_setting:
                        name: title_char_limit_value
                    type: text
                    value: 50
                    maxlength: 3
                    style: 'width: 5em;'
                    validation:
                        required_if_not_hidden: 'Please enter a number.'
                        numeric: 'Please enter a number.'
                    visible_if: lib.value('limit_num_of_chars_in_title')
                limit_num_of_chars_in_summary:
                    plugin_setting:
                        name: limit_num_of_chars_in_summary
                    label: 'Limit the number of characters in the summary'
                    type: checkbox
                    value: 1
                    side_note: "Any HTML tags in Summary will be not be output. Limit the search result length, breaking on a complete word."
                    redraw_onchange: Yes
                summary_char_limit_value:
                    indent: 1
                    plugin_setting:
                        name: summary_char_limit_value
                    type: text
                    value: 50
                    maxlength: 3
                    style: 'width: 5em;'
                    validation:
                        required_if_not_hidden: 'Please enter a number.'
                        numeric: 'Please enter a number.'
                    visible_if: lib.value('limit_num_of_chars_in_summary')

                enable_categories:
                    plugin_setting:
                        name: enable_categories
                    label: 'Enable searching by categories'
                    type: checkbox
                    value: ""
                    side_note: >
                        Categories containing matching content items will be
                        displayed to the visitor so that they may refine their search.
                    visible_if: lib.modeIn('search_page')
                
                use_pagination:
                    plugin_setting:
                        name: use_pagination
                    label: 'Paginate'
                    type: checkbox
                    value: "1"
                    format_onchange: true
                    visible_if: lib.modeIn('search_page')
                pagination_style:
                    plugin_setting:
                        name: pagination_style
                    indent: 1
                    label: 'Pagination style:'
                    type: select
                    value: zenario_common_features::pagCloseWithNPIfNeeded
                    visible_if: lib.modeIn('search_page') && lib.value('use_pagination')
                maximum_results_number:
                    plugin_setting:
                        name: maximum_results_number
                    type: text
                    label: 'Maximum number of results:'
                    maxlength: 5
                    value: 20
                    style: "width: 5em;"
                    format_onchange: true
                    validation:
                        numeric: The page size must be a number.
                        required_if_not_hidden: Please enter the page size.
                use_specific_search_results_page:
                    plugin_setting:
                        name: use_specific_search_results_page
                    type: checkbox
                    label: 'Use a specific search results page'
                    note_below: |
                        When a visitor presses the Enter key or clicks the Search button, they will be redirected to a full page of search results. This should contain a plugin of the Advanced Search module in "Full page search and results" mode.
                    redraw_onchange: true
                    visible_if: lib.modeIn('search_entry_box', 'search_entry_box_show_always')
                specific_search_results_page:
                    indent: 1
                    visible_if: lib.modeIn('search_entry_box', 'search_entry_box_show_always') && lib.value('use_specific_search_results_page')
                    plugin_setting:
                        name: specific_search_results_page
                        foreign_key_to: content
                        dangling_cross_references: remove
                    label: 'Search results page:'
                    pick_items:
                        path: zenario__content/panels/content/refiners/filter_by_language_and_content_type//html//
                        min_path: zenario__content/panels/content
                        max_path: zenario__content/panels/content
                        target_path: zenario__content/panels/content
                        disallow_refiners_looping_on_min_path: true
                        select_phrase: Select a content item...
                        hide_remove_button: true
                    validation:
                        required_if_not_hidden: Please select a content item that contains or will contain an Advanced Search plugin in full page mode.
                
                show_further_search_page_link:
                    plugin_setting:
                        name: show_further_search_page_link
                    type: checkbox
                    label: 'Show a link to a further search page'
                    redraw_onchange: true
                    visible_if: lib.modeIn('search_entry_box', 'search_entry_box_show_always')
                additional_search_page_text:
                    plugin_setting:
                        name: additional_search_page_text
                    indent: 1
                    type: text
                    label: 'Text for additional search page:'
                    value: 'To search other areas of this site, click here'
                    validation:
                        required_if_not_hidden: 'This field is required.'
                    visible_if: lib.modeIn('search_entry_box', 'search_entry_box_show_always') && lib.value('show_further_search_page_link')
                further_search_page_target:
                    indent: 1
                    visible_if: lib.modeIn('search_entry_box', 'search_entry_box_show_always') && lib.value('show_further_search_page_link')
                    plugin_setting:
                        name: further_search_page_target
                        foreign_key_to: content
                        dangling_cross_references: remove
                    label: 'Target:'
                    pick_items:
                        path: zenario__content/panels/content/refiners/filter_by_language_and_content_type//html//
                        min_path: zenario__content/panels/content
                        max_path: zenario__content/panels/content
                        target_path: zenario__content/panels/content
                        disallow_refiners_looping_on_min_path: true
                        select_phrase: Select a content item...
                        hide_remove_button: true
                    validation:
                        required_if_not_hidden: Please select a content item.
                    
        content_types:
            ord: "2"
            label: Content to search
            fields:
                #################
                ## Search HTML ##
                #################
                search_html:
                    plugin_setting:
                        name: search_html
                    label: 'HTML page content items'
                    type: checkbox
                    value: "1"
                    format_onchange: true
                html_limit_search_scope_by_category:
                    plugin_setting:
                        name: html_limit_search_scope_by_category
                    indent: 1
                    label: 'Limit search scope by category'
                    type: checkbox
                    redraw_onchange: true
                    visible_if: lib.value('search_html')
                html_category_support_not_enabled_warning:
                    indent: 1
                    snippet:
                        html: '<div class="zenario_fbWarning">Categories are not enabled for the HTML page content type.</div>'
                    #If category support is enabled for the HTML content type, this field will be unset in the module code.
                    visible_if: lib.value('search_html') && lib.value('html_limit_search_scope_by_category')
                html_limit_search_scope_choose_categories:
                    plugin_setting:
                        name: html_limit_search_scope_choose_categories
                    indent: 2
                    type: checkboxes
                    visible_if: lib.value('search_html') && lib.value('html_limit_search_scope_by_category')
                    values: {}
                    validation:
                        required_if_not_hidden: "Please select at least one category."
                html_column_heading_text:
                    plugin_setting:
                        name: html_column_heading_text
                    indent: 1
                    type: text
                    show_phrase_icon: true
                    label: 'Tab/column heading text:'
                    visible_if: lib.value('search_html')
                    validation:
                        required_if_not_hidden: 'Please type in the heading text.'
                html_show_message_if_no_results:
                    plugin_setting:
                        name: html_show_message_if_no_results
                    indent: 1
                    label: 'Show message if no results from HTML pages'
                    side_note: Only appears when other content types are yielding results.
                    type: checkbox
                    visible_if: lib.value('search_html')
                    format_onchange: true
                html_no_results_text:
                    plugin_setting:
                        name: html_no_results_text
                    indent: 2
                    label: 'No-results text:'
                    type: text
                    visible_if: lib.value('search_html') && lib.value('html_show_message_if_no_results')
                    validation:
                        required_if_not_hidden: 'Please type in the phrase.'
                html_show_title:
                    indent: 1
                    label: Show title
                    type: checkbox
                    value: true
                    read_only: true
                    visible_if: lib.value('search_html')
                html_show_feature_image:
                    plugin_setting:
                        name: html_show_feature_image
                    label: 'Show featured image'
                    type: checkbox
                    value: "1"
                    side_note: Display the content item's featured image if available.
                    format_onchange: Yes
                    indent: 1
                    visible_if: lib.value('search_html')
                html_feature_image_canvas:
                    plugin_setting:
                        name: html_feature_image_canvas
                    label: 'Canvas for featured image:'
                    type: select
                    values:
                        unlimited:
                            ord: "1"
                            label: Unlimited size
                        fixed_width:
                            ord: "2"
                            label: Constrain by width
                        fixed_height:
                            ord: "3"
                            label: Constrain by height
                        fixed_width_and_height:
                            ord: "4"
                            label: Constrain by width and height
                        resize_and_crop:
                            ord: "5"
                            label: Resize and crop
                    value: fixed_width
                    format_onchange: Yes
                    indent: 2
                html_feature_image_width:
                    plugin_setting:
                        name: html_feature_image_width
                    label: 'Width:'
                    type: text
                    validation:
                        required_if_not_hidden: Please enter a width value.
                        numeric: The width must be a number.
                    value: "120"
                    maxlength: "5"
                    style: 'width: 5em;'
                    post_field_html: '&nbsp;pixels'
                    indent: 3
                html_feature_image_height:
                    plugin_setting:
                        name: html_feature_image_height
                    label: 'Height:'
                    type: text
                    validation:
                        required_if_not_hidden: Please enter a height value.
                        numeric: The height must be a number.
                    value: "80"
                    maxlength: "5"
                    style: 'width: 5em;'
                    post_field_html: '&nbsp;pixels'
                    indent: 3
                html_show_language:
                    plugin_setting:
                        name: html_show_language
                    indent: 1
                    label: 'Show language'
                    type: checkbox
                    value: '1'
                    site_note: >
                        Display the language of a content item next to each result.
                    visible_if: lib.value('search_html')
                html_show_summary:
                    plugin_setting:
                        name: html_show_summary
                    indent: 1
                    label: 'Show summary'
                    type: checkbox
                    redraw_onchange: true
                    visible_if: lib.value('search_html')
                html_show_menu_path_if_available:
                    plugin_setting:
                        name: html_show_menu_path_if_available
                    indent: 1
                    label: 'Show menu path if available'
                    type: checkbox
                    visible_if: lib.value('search_html')
                html_column_width:
                    plugin_setting:
                        name: html_column_width
                    indent: 1
                    label: 'Width of column (desktop view only):'
                    validation:
                        numeric: "The width must be a number."
                        required_if_not_hidden: 'Please type in the width.'
                    type: text
                    maxlength: 5
                    decimal_places: 2
                    style: "width: 4em;"
                    post_field_html: "%"
                    visible_if: lib.value('search_html') && lib.modeIn('search_entry_box', 'search_entry_box_show_always')
                
                #####################
                ## Search document ##
                #####################
                search_document:
                    plugin_setting:
                        name: search_document
                    label: 'Document content items'
                    type: checkbox
                    value: "0"
                    format_onchange: true
                document_ctype_not_running_warning:
                    indent: 1
                    snippet:
                        html: '<div class="zenario_fbWarning">The Document content type module is not running; start the module to make the search work as expected.</div>'
                    #If the Document content type module is running, this field will be unset in the module code.
                    visible_if: lib.value('search_document')
                document_limit_search_scope_by_category:
                    plugin_setting:
                        name: document_limit_search_scope_by_category
                    indent: 1
                    label: 'Limit search scope by category'
                    type: checkbox
                    redraw_onchange: true
                    visible_if: lib.value('search_document')
                document_category_support_not_enabled_warning:
                    indent: 1
                    snippet:
                        html: '<div class="zenario_fbWarning">Categories are not enabled for the Document content type.</div>'
                    #If category support is enabled for the Document content type, this field will be unset in the module code.
                    visible_if: lib.value('search_document') && lib.value('document_limit_search_scope_by_category')
                document_limit_search_scope_choose_categories:
                    plugin_setting:
                        name: document_limit_search_scope_choose_categories
                    indent: 2
                    type: checkboxes
                    visible_if: lib.value('search_document') && lib.value('document_limit_search_scope_by_category')
                    values: {}
                    validation:
                        required_if_not_hidden: "Please select at least one category."
                document_column_heading_text:
                    plugin_setting:
                        name: document_column_heading_text
                    indent: 1
                    type: text
                    show_phrase_icon: true
                    label: 'Tab/column heading text:'
                    visible_if: lib.value('search_document')
                    validation:
                        required_if_not_hidden: 'Please type in the heading text.'
                document_show_message_if_no_results:
                    plugin_setting:
                        name: document_show_message_if_no_results
                    indent: 1
                    label: 'Show message if no results from documents'
                    side_note: Only appears when other content types are yielding results.
                    type: checkbox
                    visible_if: lib.value('search_document')
                    format_onchange: true
                document_no_results_text:
                    plugin_setting:
                        name: document_no_results_text
                    indent: 2
                    label: 'No-results text:'
                    type: text
                    visible_if: lib.value('search_document') && lib.value('document_show_message_if_no_results')
                    validation:
                        required_if_not_hidden: 'Please type in the phrase.'
                document_show_title:
                    indent: 1
                    label: Show title
                    type: checkbox
                    value: true
                    read_only: true
                    visible_if: lib.value('search_document')
                document_show_feature_image:
                    plugin_setting:
                        name: document_show_feature_image
                    label: 'Show featured image'
                    type: checkbox
                    value: "1"
                    side_note: Display the content item's featured image if available.
                    format_onchange: Yes
                    indent: 1
                    visible_if: lib.value('search_document')
                document_feature_image_canvas:
                    plugin_setting:
                        name: document_feature_image_canvas
                    label: 'Canvas for featured image:'
                    type: select
                    values:
                        unlimited:
                            ord: "1"
                            label: Unlimited size
                        fixed_width:
                            ord: "2"
                            label: Constrain by width
                        fixed_height:
                            ord: "3"
                            label: Constrain by height
                        fixed_width_and_height:
                            ord: "4"
                            label: Constrain by width and height
                        resize_and_crop:
                            ord: "5"
                            label: Resize and crop
                    value: fixed_width
                    format_onchange: Yes
                    indent: 2
                document_feature_image_width:
                    plugin_setting:
                        name: document_feature_image_width
                    label: 'Width:'
                    type: text
                    validation:
                        required_if_not_hidden: Please enter a width value.
                        numeric: The width must be a number.
                    value: "120"
                    maxlength: "5"
                    style: 'width: 5em;'
                    post_field_html: '&nbsp;pixels'
                    indent: 3
                document_feature_image_height:
                    plugin_setting:
                        name: document_feature_image_height
                    label: 'Height:'
                    type: text
                    validation:
                        required_if_not_hidden: Please enter a height value.
                        numeric: The height must be a number.
                    value: "80"
                    maxlength: "5"
                    style: 'width: 5em;'
                    post_field_html: '&nbsp;pixels'
                    indent: 3
                document_show_language:
                    plugin_setting:
                        name: document_show_language
                    indent: 1
                    label: 'Show language'
                    type: checkbox
                    value: '1'
                    site_note: >
                        Display the language of a content item next to each result.
                    visible_if: lib.value('search_document')
                document_show_summary:
                    plugin_setting:
                        name: document_show_summary
                    indent: 1
                    label: 'Show summary'
                    type: checkbox
                    redraw_onchange: true
                    visible_if: lib.value('search_document')
                document_show_menu_path_if_available:
                    plugin_setting:
                        name: document_show_menu_path_if_available
                    indent: 1
                    label: 'Show menu path if available'
                    type: checkbox
                    visible_if: lib.value('search_document')
                document_use_download_page:
                    plugin_setting:
                        name: document_use_download_page
                    indent: 1
                    label: 'Use a download page'
                    type: checkbox
                    value: false
                    side_note: "Link to the download page, recommended if document content items may have S3 versions. If not checked, direct link to the file."
                    visible_if: lib.value('search_document')
                document_column_width:
                    plugin_setting:
                        name: document_column_width
                    indent: 1
                    label: 'Width of column (desktop view only):'
                    validation:
                        numeric: "The width must be a number."
                        required_if_not_hidden: 'Please type in the width.'
                    type: text
                    maxlength: 5
                    decimal_places: 2
                    style: "width: 4em;"
                    post_field_html: "%"
                    visible_if: lib.value('search_document') && lib.modeIn('search_entry_box', 'search_entry_box_show_always')
                
                #################
                ## Search news ##
                #################
                search_news:
                    plugin_setting:
                        name: search_news
                    label: 'News content items'
                    type: checkbox
                    value: "0"
                    format_onchange: true
                news_ctype_not_running_warning:
                    indent: 1
                    snippet:
                        html: '<div class="zenario_fbWarning">The News content type module is not running; start the module to make the search work as expected.</div>'
                    #If the News content type module is running, this field will be unset in the module code.
                    visible_if: lib.value('search_news')
                news_limit_search_scope_by_category:
                    plugin_setting:
                        name: news_limit_search_scope_by_category
                    indent: 1
                    label: 'Limit search scope by category'
                    type: checkbox
                    redraw_onchange: true
                    visible_if: lib.value('search_news')
                news_category_support_not_enabled_warning:
                    indent: 1
                    snippet:
                        html: '<div class="zenario_fbWarning">Categories are not enabled for the News content type.</div>'
                    #If category support is enabled for the News content type, this field will be unset in the module code.
                    visible_if: lib.value('search_news') && lib.value('news_limit_search_scope_by_category')
                news_limit_search_scope_choose_categories:
                    plugin_setting:
                        name: news_limit_search_scope_choose_categories
                    indent: 2
                    type: checkboxes
                    visible_if: lib.value('search_news') && lib.value('news_limit_search_scope_by_category')
                    values: {}
                    validation:
                        required_if_not_hidden: "Please select at least one category."
                news_column_heading_text:
                    plugin_setting:
                        name: news_column_heading_text
                    indent: 1
                    type: text
                    show_phrase_icon: true
                    label: 'Tab/column heading text:'
                    visible_if: lib.value('search_news')
                    validation:
                        required_if_not_hidden: 'Please type in the heading text.'
                news_show_message_if_no_results:
                    plugin_setting:
                        name: news_show_message_if_no_results
                    indent: 1
                    label: 'Show message if no results from news'
                    side_note: Only appears when other content types are yielding results.
                    type: checkbox
                    visible_if: lib.value('search_news')
                    format_onchange: true
                news_no_results_text:
                    plugin_setting:
                        name: news_no_results_text
                    indent: 2
                    label: 'No-results text:'
                    type: text
                    visible_if: lib.value('search_news') && lib.value('news_show_message_if_no_results')
                    validation:
                        required_if_not_hidden: 'Please type in the phrase.'
                news_show_title:
                    indent: 1
                    label: Show title
                    type: checkbox
                    value: true
                    read_only: true
                    visible_if: lib.value('search_news')
                news_show_feature_image:
                    plugin_setting:
                        name: news_show_feature_image
                    label: 'Show featured image'
                    type: checkbox
                    value: "1"
                    side_note: Display the content item's featured image if available.
                    format_onchange: Yes
                    indent: 1
                    visible_if: lib.value('search_news')
                news_feature_image_canvas:
                    plugin_setting:
                        name: news_feature_image_canvas
                    label: 'Canvas for featured image:'
                    type: select
                    values:
                        unlimited:
                            ord: "1"
                            label: Unlimited size
                        fixed_width:
                            ord: "2"
                            label: Constrain by width
                        fixed_height:
                            ord: "3"
                            label: Constrain by height
                        fixed_width_and_height:
                            ord: "4"
                            label: Constrain by width and height
                        resize_and_crop:
                            ord: "5"
                            label: Resize and crop
                    value: fixed_width
                    format_onchange: Yes
                    indent: 2
                news_feature_image_width:
                    plugin_setting:
                        name: news_feature_image_width
                    label: 'Width:'
                    type: text
                    validation:
                        required_if_not_hidden: Please enter a width value.
                        numeric: The width must be a number.
                    value: "120"
                    maxlength: "5"
                    style: 'width: 5em;'
                    post_field_html: '&nbsp;pixels'
                    indent: 3
                news_feature_image_height:
                    plugin_setting:
                        name: news_feature_image_height
                    label: 'Height:'
                    type: text
                    validation:
                        required_if_not_hidden: Please enter a height value.
                        numeric: The height must be a number.
                    value: "80"
                    maxlength: "5"
                    style: 'width: 5em;'
                    post_field_html: '&nbsp;pixels'
                    indent: 3
                news_show_language:
                    plugin_setting:
                        name: news_show_language
                    indent: 1
                    label: 'Show language'
                    type: checkbox
                    value: '1'
                    site_note: >
                        Display the language of a content item next to each result.
                    visible_if: lib.value('search_news')
                news_show_summary:
                    plugin_setting:
                        name: news_show_summary
                    indent: 1
                    label: 'Show summary'
                    type: checkbox
                    redraw_onchange: true
                    visible_if: lib.value('search_news')
                news_show_menu_path_if_available:
                    plugin_setting:
                        name: news_show_menu_path_if_available
                    indent: 1
                    label: 'Show menu path if available'
                    type: checkbox
                    visible_if: lib.value('search_news')
                news_column_width:
                    plugin_setting:
                        name: news_column_width
                    indent: 1
                    label: 'Width of column (desktop view only):'
                    validation:
                        numeric: "The width must be a number."
                        required_if_not_hidden: 'Please type in the width.'
                    type: text
                    maxlength: 5
                    decimal_places: 2
                    style: "width: 4em;"
                    post_field_html: "%"
                    visible_if: lib.value('search_news') && lib.modeIn('search_entry_box', 'search_entry_box_show_always')
                
                #################
                ## Search blog ##
                #################
                search_blog:
                    plugin_setting:
                        name: search_blog
                    label: 'Blog content items'
                    type: checkbox
                    value: "0"
                    format_onchange: true
                blog_ctype_not_running_warning:
                    indent: 1
                    snippet:
                        html: '<div class="zenario_fbWarning">The Blog content type module is not running; start the module to make the search work as expected.</div>'
                    #If the Blog content type module is running, this field will be unset in the module code.
                    visible_if: lib.value('search_blog')
                blog_limit_search_scope_by_category:
                    plugin_setting:
                        name: blog_limit_search_scope_by_category
                    indent: 1
                    label: 'Limit search scope by category'
                    type: checkbox
                    redraw_onchange: true
                    visible_if: lib.value('search_blog')
                blog_category_support_not_enabled_warning:
                    indent: 1
                    snippet:
                        html: '<div class="zenario_fbWarning">Categories are not enabled for the Blog content type.</div>'
                    #If category support is enabled for the Blog content type, this field will be unset in the module code.
                    visible_if: lib.value('search_blog') && lib.value('blog_limit_search_scope_by_category')
                blog_limit_search_scope_choose_categories:
                    plugin_setting:
                        name: blog_limit_search_scope_choose_categories
                    indent: 2
                    type: checkboxes
                    visible_if: lib.value('search_blog') && lib.value('blog_limit_search_scope_by_category')
                    values: {}
                    validation:
                        required_if_not_hidden: "Please select at least one category."
                blog_column_heading_text:
                    plugin_setting:
                        name: blog_column_heading_text
                    indent: 1
                    type: text
                    show_phrase_icon: true
                    label: 'Tab/column heading text:'
                    visible_if: lib.value('search_blog')
                    validation:
                        required_if_not_hidden: 'Please type in the heading text.'
                blog_show_message_if_no_results:
                    plugin_setting:
                        name: blog_show_message_if_no_results
                    indent: 1
                    label: 'Show message if no results from blog'
                    side_note: Only appears when other content types are yielding results.
                    type: checkbox
                    visible_if: lib.value('search_blog')
                    format_onchange: true
                blog_no_results_text:
                    plugin_setting:
                        name: blog_no_results_text
                    indent: 2
                    label: 'No-results text:'
                    type: text
                    visible_if: lib.value('search_blog') && lib.value('blog_show_message_if_no_results')
                    validation:
                        required_if_not_hidden: 'Please type in the phrase.'
                blog_show_title:
                    indent: 1
                    label: Show title
                    type: checkbox
                    value: true
                    read_only: true
                    visible_if: lib.value('search_blog')
                blog_show_feature_image:
                    plugin_setting:
                        name: blog_show_feature_image
                    label: 'Show featured image'
                    type: checkbox
                    value: "1"
                    side_note: Display the content item's featured image if available.
                    format_onchange: Yes
                    indent: 1
                    visible_if: lib.value('search_blog')
                blog_feature_image_canvas:
                    plugin_setting:
                        name: blog_feature_image_canvas
                    label: 'Canvas for featured image:'
                    type: select
                    values:
                        unlimited:
                            ord: "1"
                            label: Unlimited size
                        fixed_width:
                            ord: "2"
                            label: Constrain by width
                        fixed_height:
                            ord: "3"
                            label: Constrain by height
                        fixed_width_and_height:
                            ord: "4"
                            label: Constrain by width and height
                        resize_and_crop:
                            ord: "5"
                            label: Resize and crop
                    value: fixed_width
                    format_onchange: Yes
                    indent: 2
                blog_feature_image_width:
                    plugin_setting:
                        name: blog_feature_image_width
                    label: 'Width:'
                    type: text
                    validation:
                        required_if_not_hidden: Please enter a width value.
                        numeric: The width must be a number.
                    value: "120"
                    maxlength: "5"
                    style: 'width: 5em;'
                    post_field_html: '&nbsp;pixels'
                    indent: 3
                blog_feature_image_height:
                    plugin_setting:
                        name: blog_feature_image_height
                    label: 'Height:'
                    type: text
                    validation:
                        required_if_not_hidden: Please enter a height value.
                        numeric: The height must be a number.
                    value: "80"
                    maxlength: "5"
                    style: 'width: 5em;'
                    post_field_html: '&nbsp;pixels'
                    indent: 3
                blog_show_language:
                    plugin_setting:
                        name: blog_show_language
                    indent: 1
                    label: 'Show language'
                    type: checkbox
                    value: '1'
                    site_note: >
                        Display the language of a content item next to each result.
                    visible_if: lib.value('search_blog')
                blog_show_summary:
                    plugin_setting:
                        name: blog_show_summary
                    indent: 1
                    label: 'Show summary'
                    type: checkbox
                    redraw_onchange: true
                    visible_if: lib.value('search_blog')
                blog_show_menu_path_if_available:
                    plugin_setting:
                        name: blog_show_menu_path_if_available
                    indent: 1
                    label: 'Show menu path if available'
                    type: checkbox
                    visible_if: lib.value('search_blog')
                blog_column_width:
                    plugin_setting:
                        name: blog_column_width
                    indent: 1
                    label: 'Width of column (desktop view only):'
                    validation:
                        numeric: "The width must be a number."
                        required_if_not_hidden: 'Please type in the width.'
                    type: text
                    maxlength: 5
                    decimal_places: 2
                    style: "width: 4em;"
                    post_field_html: "%"
                    visible_if: lib.value('search_blog') && lib.modeIn('search_entry_box', 'search_entry_box_show_always')
                
                ###########
                ## Other ##
                ###########
                search_in_other_modules:
                    plugin_setting:
                        name: search_in_other_modules
                    label: 'Search in other modules...'
                    type: checkbox
                    format_onchange: true
                module_to_search:
                    indent: 1
                    plugin_setting:
                        name: module_to_search
                    label: 'Select module to search:'
                    type: select
                    values: {}
                    empty_value: '-- Select module --'
                    #This module sends a signal and populates the names of modules that respond to it.
                    visible_if: lib.value('search_in_other_modules')
                    validation:
                        required_if_not_hidden: 'Please select a module.'
                    format_onchange: true
                other_module_column_heading_text:
                    plugin_setting:
                        name: other_module_column_heading_text
                    indent: 1
                    type: text
                    show_phrase_icon: true
                    label: 'Tab/column heading text:'
                    visible_if: lib.value('search_in_other_modules')
                    validation:
                        required_if_not_hidden: 'Please type in the heading text.'
                    value: 
                other_module_show_image:
                    plugin_setting:
                        name: other_module_show_image
                    label: 'Show item image'
                    type: checkbox
                    value: "1"
                    side_note: Display the item's image if available.
                    format_onchange: Yes
                    indent: 1
                    visible_if: lib.value('search_in_other_modules')
                other_module_image_canvas:
                    plugin_setting:
                        name: other_module_image_canvas
                    label: 'Canvas for image:'
                    type: select
                    values:
                        unlimited:
                            ord: "1"
                            label: Unlimited size
                        fixed_width:
                            ord: "2"
                            label: Constrain by width
                        fixed_height:
                            ord: "3"
                            label: Constrain by height
                        fixed_width_and_height:
                            ord: "4"
                            label: Constrain by width and height
                        resize_and_crop:
                            ord: "5"
                            label: Resize and crop
                    value: fixed_width
                    format_onchange: Yes
                    indent: 2
                other_module_image_width:
                    plugin_setting:
                        name: other_module_image_width
                    label: 'Width:'
                    type: text
                    validation:
                        required_if_not_hidden: Please enter a width value.
                        numeric: The width must be a number.
                    value: "120"
                    maxlength: "5"
                    style: 'width: 5em;'
                    post_field_html: '&nbsp;pixels'
                    indent: 3
                other_module_image_height:
                    plugin_setting:
                        name: other_module_image_height
                    label: 'Height:'
                    type: text
                    validation:
                        required_if_not_hidden: Please enter a height value.
                        numeric: The height must be a number.
                    value: "80"
                    maxlength: "5"
                    style: 'width: 5em;'
                    post_field_html: '&nbsp;pixels'
                    indent: 3
                other_module_view_item_content_item:
                    indent: 1
                    visible_if: lib.value('search_in_other_modules')
                    plugin_setting:
                        name: other_module_view_item_content_item
                        foreign_key_to: content
                        dangling_cross_references: remove
                    label: 'Content item for viewing results:'
                    pick_items:
                        path: zenario__content/panels/content/refiners/filter_by_language_and_content_type//html//
                        min_path: zenario__content/panels/content
                        max_path: zenario__content/panels/content
                        target_path: zenario__content/panels/content
                        disallow_refiners_looping_on_min_path: true
                        select_phrase: Select a content item...
                        hide_remove_button: true
                    validation:
                        required_if_not_hidden: Please select a content item.
                    notices_below:
                        expected_module_on_results_page:
                            hidden: true
                            type: information
                            message: ''
                other_module_view_item_conductor_state:
                    indent: 1
                    visible_if: lib.value('search_in_other_modules')
                    label: 'Conductor state for viewing results:'
                    note_below: 'Type in the conductor state of the slide for the FEA View mode (found in the URL, e.g. <code>state=c</code>).'
                    plugin_setting: 
                        name: other_module_view_item_conductor_state
                    type: text
                    value: b
                    maxlength: 2
                    style: "width: 2em;"
                    validation:
                        required_if_not_hidden: Please enter the conductor state.
                other_module_column_width:
                    plugin_setting:
                        name: other_module_column_width
                    indent: 1
                    label: 'Width of column (desktop view only):'
                    validation:
                        numeric: "The width must be a number."
                        required_if_not_hidden: 'Please type in the width.'
                    type: text
                    maxlength: 5
                    decimal_places: 2
                    style: "width: 4em;"
                    post_field_html: "%"
                    visible_if: lib.value('search_in_other_modules') && lib.modeIn('search_entry_box', 'search_entry_box_show_always')
                search_result_types_order:
                    plugin_setting:
                        name: search_result_types_order
                    label: 'Search result types order:'
                    pick_items: 
                        multiple_select: true
                        nothing_selected_phrase: Select one or more meta data fields.
                        hide_select_button: true
                        hide_info_button: true
                        reorder_items: true
                show_scores:
                    plugin_setting:
                        name: show_scores
                    label: 'Show scores to administrators when using admin mode'
                    type: checkbox
                    value: false
                    side_note: "Search result scores will be shown in admin mode; useful to debugging and adjusting weightings."
        weightings:
            ord: "3"
            label: Weightings
            fields:
                pinned_info:
                    snippet:
                        html: |
                            <div class="zenario_fbInfo">
                                Pinned content items get higher scores:<br />
                                If a content type allows pinned content, and the content item is pinned,</br />
                                its score will be multiplied by 10.<br />
                            </div>
                published_datetime_info:
                    snippet:
                        html: |
                            <div class="zenario_fbInfo">
                                Recently published content items get higher scores:<br />
                                Items published in the last 30 days have their scores multiplied by 10.<br />
                                Items published in the last 90 days have their scores multiplied by 6.<br />
                                Items published in the last 365 days have their scores multiplied by 3.<br />
                            </div>
                content_item_search:
                    type: grouping
                    snippet:
                        label: Content item search
                        label_class: subheading
                other_module_search:
                    type: grouping
                    snippet:
                        label: Other module search
                        label_class: subheading
                alias_weighting:
                    grouping: content_item_search
                    plugin_setting:
                        name: alias_weighting
                    label: 'Alias weighting:'
                    type: select
                    values: &weightings_values
                        _NONE:
                            label: None (score of 0)
                        _LOW:
                            label: Low (score of 1)
                        _MEDIUM:
                            label: Medium (score of 3)
                        _HIGH:
                            label: High (score of 12)
                    value: _LOW
                title_weighting:
                    grouping: content_item_search
                    plugin_setting:
                        name: title_weighting
                    label: 'Title weighting:'
                    type: select
                    values: *weightings_values
                    value: _HIGH
                keywords_weighting:
                    grouping: content_item_search
                    plugin_setting:
                        name: keywords_weighting
                    label: 'Keywords weighting:'
                    type: select
                    values: *weightings_values
                    value: _MEDIUM
                description_weighting:
                    grouping: content_item_search
                    plugin_setting:
                        name: description_weighting
                    label: 'Description weighting:'
                    type: select
                    values: *weightings_values
                    value: _LOW
                content_summary_weighting:
                    grouping: content_item_search
                    plugin_setting:
                        name: content_summary_weighting
                    label: 'Content Summary weighting:'
                    type: select
                    values: *weightings_values
                    value: _LOW
                content_weighting:
                    grouping: content_item_search
                    plugin_setting:
                        name: content_weighting
                    label: 'Content weighting:'
                    type: select
                    values: *weightings_values
                    value: _LOW
                filename_weighting:
                    grouping: content_item_search
                    plugin_setting:
                        name: filename_weighting
                    label: 'Filename weighting:'
                    type: select
                    values: *weightings_values
                    value: _LOW
                extract_weighting:
                    grouping: content_item_search
                    plugin_setting:
                        name: extract_weighting
                    label: 'File extract weighting:'
                    type: select
                    values: *weightings_values
                    value: _LOW

                other_module_title_weighting:
                    grouping: other_module_search
                    plugin_setting:
                        name: other_module_title_weighting
                    label: 'Title weighting:'
                    type: select
                    values: *weightings_values
                    value: _HIGH
                other_module_description_weighting:
                    grouping: other_module_search
                    plugin_setting:
                        name: other_module_description_weighting
                    label: 'Description weighting:'
                    type: select
                    values: *weightings_values
                    value: _LOW