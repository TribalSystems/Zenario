zenario__content:
    hidden_nav:
        user_documents:
            label: Confidential user documents
            panel:
                refiners:
                    user_id:
                        sql: 'ud.user_id = [[REFINER_ID]]'
                item:
                    css_class: zenario_file_item
                title: Confidential documents for user
                db_items:
                    table: |
                        [[DB_NAME_PREFIX]][[ZENARIO_USER_DOCUMENTS_PREFIX]]user_documents AS ud
                        LEFT JOIN [[DB_NAME_PREFIX]]files AS f ON ud.file_id = f.id
                    #hierarchy_column: ud.folder_id
                    id_column: ud.id
                    #client_side: Yes
                #reorder:
                    #column: ordinal
                    #hierarchy_view_mode: parent_ids_and_ordinals
                    #lazy_load: true
                #disable_periodic_refresh: Yes
                default_sort_column: name
                view_mode: list
                columns:
                    id:
                        title: ID
                        format: id
                        searchable: Yes
                        db_column: ud.id
                        show_by_default: false
                        align_right: Yes
                        width: xxsmall
                    ordinal:
                        title: Ordinal
                        db_column: ud.ordinal
                        show_by_default: false
                        align_right: Yes
                        width: xxsmall
                    #type:
                    #    title: Type
                    #    searchable: Yes
                    #    db_column: ud.type
                    #    show_by_default: false
                    #folder_id:
                    #    title: Folder ID
                    #    db_column: ud.folder_id
                    #    show_by_default: false
                    #    align_right: Yes
                    #    width: xxsmall
                    name:
                        title: Name
                        #db_column: "concat(ifNull(f.filename, \'\'), ifNull(d.folder_name, \'\'))"
                        db_column: f.filename
                        show_by_default: Yes
                        width: xxlarge
                    filesize:
                        title: Filesize
                        width: small
                        show_by_default: Yes
                    #folder_file_count:
                    #    title: Files and folder count
                        
                collection_buttons:
                    upload:
                        priv: _PRIV_MANAGE_CONFIDENTIAL_USER_DOCUMENTS
                        label: Upload a document for this user
                        css_class: zenario_create_a_new
                        upload:
                            multi: Yes
                            drag_and_drop: Yes
                            request:
                                upload: "1"
                    #add_folder:
                    #    label: Create a folder
                    #    css_class: zenario_create_a_new
                    #    admin_box:
                    #        path: zenario_document_folder
                item_buttons:
                    upload:
                        priv: _PRIV_MANAGE_CONFIDENTIAL_USER_DOCUMENTS
                        label: Upload to selected folder
                        css_class: zenario_create_a_new
                        upload:
                            multi: Yes
                            drag_and_drop: Yes
                            request:
                                upload: "1"
                        traits:
                            is_folder: Yes
                    #add_folder:
                    #    label: Create subfolder
                    #    css_class: zenario_create_a_new
                    #    admin_box:
                    #        path: zenario_document_folder
                    #        key:
                    #            add_folder: Yes
                    #    traits:
                    #        is_folder: Yes
                    #    
                    #folder_details:
                    #    hide_in_select_mode: Yes
                    #    label: Rename
                    #    admin_box:
                    #        path: zenario_document_folder
                    #    traits:
                    #        is_folder: Yes
                    view_tags:
                        priv: _PRIV_MANAGE_CONFIDENTIAL_USER_DOCUMENTS
                        hide_in_select_mode: Yes
                        label: Edit document metadata
                        multiple_select: No
                        without_traits:
                            is_folder: Yes
                        admin_box:
                            path: zenario_user_documents__user_document_properties
                    download:
                        priv: _PRIV_MANAGE_CONFIDENTIAL_USER_DOCUMENTS
                        hide_in_select_mode: Yes
                        label: Download
                        multiple_select: No
                        without_traits:
                            is_folder: Yes
                        ajax:
                            confirm:
                                download: true
                                message: 'Are you sure you wish to downlod the file "[[name]]"?'
                                #message_type: warning
                                button_message: Download
                                cancel_button_message: Cancel
                    #move_documents:
                    #    hide_in_select_mode: Yes
                    #    label: Move selected documents
                    #    multiple_select: Yes
                    #    multiple_select_only: Yes
                    #    pick_items: 
                    #        path: zenario__content/panels/documents
                    #        target_path: zenario__content/panels/documents
                    #        min_path: zenario__content/panels/documents
                    #        max_path: zenario__content/panels/documents
                    #        select_phrase: Select folder...
                    #        request:
                    #            select_folder: "1"
                    delete_file:
                        priv: _PRIV_MANAGE_CONFIDENTIAL_USER_DOCUMENTS
                        hide_in_select_mode: Yes
                        label: Delete
                        multiple_select: Yes
                        without_traits:
                            is_folder: Yes
                        ajax: 
                            class_name: zenario_user_documents
                            confirm: 
                                message: "Are you sure you want to delete the confidential file \"[[name]]\"?"
                                multiple_select_message: "Are you sure you want to delete the selected files?"
                                message_type: warning
                                button_message: Delete
                                cancel_button_message: Cancel
                            request: 
                                delete: Yes
                    #delete_folder:
                    #    hide_in_select_mode: Yes
                    #    label: Delete
                    #    multiple_select: No
                    #    traits:
                    #        is_folder: Yes
                    #    ajax: 
                    #        class_name: zenario_common_features
                    #        confirm: 
                    #            message: |
                    #                Are you sure you want to delete the folder "[[name]]"?
                    #                
                    #                If you DELETE this folder all [[folder_file_count]] files and folders within this folder will be DELETED.
                    #            message_type: warning
                    #            button_message: Delete
                    #            cancel_button_message: Cancel
                    #        request: 
                    #            delete: Yes
