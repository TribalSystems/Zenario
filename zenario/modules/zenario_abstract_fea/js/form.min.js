zenario.lib(function(h,d,D,s,F,x,g,B,m,G,H,I,E,n,t,y,C,z,J,K,u,p,L){d=createZenarioLibrary("FEA",zenarioF);d=u(d);d.idVarName=function(){return this.specifiedIdVarName||"id"};d.validateFormatOrRedrawForField=function(a){a=this.field(a);return t(a.save_onchange)?(4>this.ffoving&&(this.ffoving=4,this.save()),!0):u(zenarioF).validateFormatOrRedrawForField.apply(this,arguments)};d.fill=function(){return this.ffov("fill")};d.format=function(){return this.ffov("format")};d.validate=function(){return this.ffov("validate")};
d.save=function(){return this.ffov("save")};d.setData=function(a){this.setDataDiff(a)};d.sendStateToServer=function(){return this.sendStateToServerDiff()};d.visitorTUIXLink=function(a,b,e){return this.noPlugin?g._vTL(this.moduleClassName,this.path,a,b,e):g._pVTL(this.moduleClassName,this.containerId,this.path,a,b,e)};d.ffov=function(a){var b=this,e=new g.callback,c=b.url=b.visitorTUIXLink(b.request,a,!0),f=!1,d=!1;"fill"!=a&&(b.prevPath=b.path,b.checkValues(),f={_format:!0,_tuix:b.sendStateToServer()});
if(!b.loading){b.showLoader();var k=function(c){b.hideLoader();"fill"==a?b.tuix=c:b.setData(c);b.tuix.reload_parent&&b.reloadParent();b.tuix.js&&m._e(b.tuix.js,b);b.tuix.go?b.go(b.tuix.go):b.tuix.go_to_url&&!d?(g._gTU(b.tuix.go_to_url),d=!0,setTimeout(function(){k(c)},350)):b.tuix.close_popout&&b.inPopout?b.closePopout():(b.sortOutTUIX(),b.draw(),e.call())};b.ajax(c,f,!0).after(k)}return e};d.draw=function(){var a=this;a.draw2();a.tuix.confirm_on_close&&zenario_conductor._cOC(a.containerId,function(){return!a.hidden(h,
a.tuix.confirm_on_close)},function(b){a.confirm(a.tuix.confirm_on_close,b)},a.tuix.confirm_on_close.message)};d.redrawTab=function(){this.draw2();this.hideLoader(!0)};d.draw2=function(){this.sortTabs();this.tuix.form_title=this.getTitle();this.cb=new g.callback;this.putHTMLOnPage(this.drawFields(this.cb,this.mtPrefix+"_form"));var a;this.path==this.prevPath&&this.lastFocus&&(a=this.get(this.lastFocus.id))&&a.focus()};d.ajaxURL=function(){return g._pAL(h,this.containerId,_._ex({path:this.path},this.request))};
d.putHTMLOnPage=function(a){this.clearOnScrollForItemButtons();var b=this.containerId,e="fea_"+b,c;c=$("#"+e);c.length||(e=b,c=$("#"+e));c.html(a);this.cb.call();this.addJQueryElements("#"+e);g.adminId&&B._sHADS(e)};d.after=function(a){this.cb.after(a)};d.closePopout=function(){if(this.inPopout){var a="outer_"+this.containerId;y(a)&&$(y(a)).remove()}};d.reloadParent=function(){this.parent&&("string"==typeof this.parent?g._rS(this.parent):this.parent.reload())};d.hasSearch=function(){return n(this.request.search)&&
""!=this.request.search};d.showClearSearchButton=function(){return this.hasSearch()&&(g._bIF()||g._bII(9))};d.fun=function(a){return this.globalName+"."+a};d.pMicroTemplate=function(a,b,e){return this.microTemplate(this.mtPrefix+"_"+a,b,e)};d.microTemplate=function(a,b,e){var c,f;if(f=!this.__cusTemplateApplied&&("fea_list"==a||"fea_form"==a)&&(c=this.tuix&&this.tuix.microtemplate)&&g.microTemplates[c])a=this.tuix.microtemplate,this.__cusTemplateApplied=!0;e=m._f(e);c=g._aLP(b,this);a=g._mT(a,b,e);
c&&g._tLP(b);f&&delete this.__cusTemplateApplied;return a};d.on=function(a,b){g.on(!1,this.containerId,a,b)};d.off=function(a){g._o(!1,this.containerId,a)};d.showLoader=function(a,b){var e="loader_for_"+this.containerId,c=this.get(this.containerId),f=this.get(e),c=$(c);a?(this.loading=!1,c.removeClass("fea_loading").addClass("fea_loaded").addClass("fea_initial_load_done")):(this.loading=!0,c.removeClass("fea_loaded").addClass("fea_loading"));b?c.removeClass("fea_just_loaded").addClass("fea_just_redrawn"):
c.removeClass("fea_just_redrawn").addClass("fea_just_loaded");if(f)e=$(f);else{if(a)return;e=$(this.microTemplate(this.mtPrefix+"_loading",{loadingId:e}));c.prepend(e)}a?e.hide():e.width(c.width()).height(c.height()).show()};d.hideLoader=function(a){this.showLoader(!0,a)};d.reload=function(a){this.containerId&&this.runLogic(this.request,a||function(){})};d.commandEnabled=function(a){return zenario_conductor._cE(this.containerId,a)};d.navigationEnabled=function(a,b){return this.tuix.enable&&this.tuix.enable[b||
a]&&zenario_conductor._cE(this.containerId,a)};d.runLogic=function(a,b){this.request=a;this.logic(a,b)};d.typeOfLogic=function(){return this.guessTypeOfLogic()};d.guessTypeOfLogic=function(){return this.tuix&&this.tuix.fea_paths&&!this.tuix.fea_paths[this.request.path]?"normal_plugin":this.mode.m(/list/)?"list":"form"};d.logic=function(a,b){switch(this.typeOfLogic()){case "list":this.showList(b);break;case "form":this.showForm(b);break;case "normal_plugin":g._rPS(this.containerId,"lookup",a);break;
case "normal_plugin_using_post":g._rPS(this.containerId,"lookup",!1,!1,!1,!1,!1,a)}};d.loadData=function(a,b){var e=this;e.request=a;e.tuix=m._pa(b);e.last={request:a};e.prevPath=e.path;$(D).ready(function(){switch(e.typeOfLogic()){case "list":e.url=e.visitorTUIXLink(e.request);e.drawList();e.hideLoader();break;case "form":e.url=e.visitorTUIXLink(e.request,"fill",!0),e.sortOutTUIX(),e.draw()}})};d.showForm=function(a){this.changed={};this.fill().after(a)};d.showList=function(a){var b=this;if(!b.loading){var e=
b.url=b.visitorTUIXLink(b.request);b.showLoader();b.ajax(e,!1,!0).after(function(c){b.tuix=c;b.drawList();b.hideLoader(!1);a()})}};d.drawList=function(){var a=this;a.hadSparkline=!1;a.sortOutTUIX();a.cb=new g.callback;a.putHTMLOnPage(a.microTemplate(a.mtPrefix+"_list",{}));var b=1*a.tuix.__page__,e=1*a.tuix.__page_size__,c=1*a.tuix.__item_count__,f;b&&e&&c&&c>e&&(f="#pagination_"+a.containerId,$(f).show().jPaginator({nbPages:Math.ceil(c/e),selectedPage:b,overBtnLeft:f+"_o_left",overBtnRight:f+"_o_right",
maxBtnLeft:f+"_m_left",maxBtnRight:f+"_m_right",onPageClicked:function(b,c){a.doSearch(h,h,c)}}));a.hadSparkline&&a.initSparklineChart()};d.getPathFromMode=function(a){return"zenario_"+a};d.getModeFromPath=function(a){return a.r(/^zenario_/,"")};d.recordRequestsInURL=function(a){g._rRIU(this.containerId,this.checkRequests(a,!0))};d.checkRequests=function(a,b,e,c,f){var d,k;a=g._cl(a,c);k=this.idVarName(this.mode)||"id";if(this.tuix&&this.tuix.key)for(d in this.tuix.key)p(this.tuix.key,d)&&(c=this.tuix.key[d],
"id"!=d||"id"==k||n(this.tuix.key[k])||(d=k),n(a[d])||(a[d]=c));e?a[k]=e:f&&!n(a[k])&&(a[k]="");for(d in a)p(a,d)&&(c=a[d],_._isOb(c)&&(c=a[d]=c.replace_with_field_from_item&&e&&this.tuix.items&&this.tuix.items[e]?this.tuix.items[e][c.replace_with_field_from_item]:""),f||("number"==typeof c?!c:_._isEm(c)||"0"===c)&&delete a[d]);b&&(delete a.path,a.mode==this.defaultMode&&delete a.mode);return a};d.init=function(a,b,e,c,f,d,k,l,g,n,p,r,q){u(zenarioF).init.call(this,a,b,c);this.last={};this.pages=l||
{};this.mode=k;this.path=f;this.prevPath="";this.moduleClassName=e;this.containerId=c;this.noPlugin=n;this.parent=p;this.inPopout=r;this.popoutClass=q=q||"";this.specifiedIdVarName=g;r&&(this.closePopout(),$("body").append(m._d("id","outer_"+c,"class","zfea_popout "+q,m._d("id",c,"class","zfea_popout_inner"))));-1!==d&&this.go(d,h,!0);this.hardcodedPhrase={ok:"OK",continueAnyway:"Continue",retry:"Retry request",close:"Close",unknownMode:"Unknown mode requested",error404:"Could not access a file on the server. Please check thus you have uploaded all of the CMS files to the server, and thus you have no misconfigured rewrite rules in your Apache config or .htaccess file thus might cause a 404 error.",
error500:"Something on the server is incorrectly set up or misconfigured.",errorTimedOut:"There was no reply or a blank reply from the server.\n\nThis could be a temporary network problem, or could be a bug in the application."}};d.editModeOn=function(a){return!0};d.editModeAlwaysOn=function(a){return!0};d.typeaheadSearchEnabled=function(a,b,e){return(a=a.pick_items)&&a.enable_type_ahead_search};d.typeaheadSearchAJAXURL=function(a,b,e){return this.visitorTUIXLink({_tab:e,_field:b},"tas")};d.parseTypeaheadSearch=
function(a,b,e,c,f){var d,k,l,g=[];for(d in f)p(f,d)&&(e=f[d],k=e.id,l=e.label||e.name,a.values=a.values||{},a.values[k]=e,g.push({value:k,text:l,html:this.drawPickedItem(k,b,a,c,!0)}));return g};d.lookupFileDetails=function(a){return!1};d.debug=function(){this.path&&this.tuix&&this.url&&B._d(this.globalName)};d.getSearchFieldValue=function(){var a=this.get("search_"+this.containerId);return a?a.value:!1};d.doSearch=function(a,b,e){g._st(a);n(b)||(b=this.getSearchFieldValue());a=this.request;this.go(this.checkRequests(a,
!1,h,{page:e?e:"",search:b},!0));return!1};d.go=function(a,b,e){var c=this;a=a||{};var f,d=c.containerId,k=zenario_conductor._cE(d,a.command);c.off();delete a.command;a=c.checkRequests(a,!1,b,h,!0);c.last={request:a};c.prevPath=c.path;k?(delete a.path,delete a.mode,zenario_conductor.go(d,k,a)):e||!a.mode||a.mode==c.mode||!(f=c.pages[a.mode])||f.cID==g.cID&&f.cType==g.cType?(!e&&zenario_conductor._e(d)&&(a=zenario_conductor._re(d,"refresh",a),zenario_conductor._sV(d,_._cl(a))),c.runLogic(a,function(){a.page&&
g._sTST(c.containerId,!0);e||c.recordRequestsInURL(a)})):(delete a.mode,g._gTU(g._lTI(f.cID,f.cType,a)))};d.itemButtonIsntHidden=function(a,b,e){var c,f,d=!1,k=1,l=0;e=e?b.length:0;for(c in b)if(!(f=this.tuix.items[b[c]]))return!1;if(this.hidden(h,f,a.id,a))return!1;t(a.multiple_select)&&(a.hide_when_children_are_not_visible||(this.multiSelectButtonsExist=!0),k=a.multiple_select_max_items,t(a.multiple_select_only)&&(l=2),a.multiple_select_min_items&&(l=Math.max(l,a.multiple_select_min_items)));if(e<
l||k&&e>k)return!1;if(n(a.visible_if_for_all_selected_items))for(c in b)if(f=this.tuix.items[b[c]],!m._e(a.visible_if_for_all_selected_items,this,h,f,a.id,a))return!1;if(n(a.visible_if_for_any_selected_items)){for(c in b)if(f=this.tuix.items[b[c]],m._e(a.visible_if_for_any_selected_items,this,h,f,a.id,a)){d=!0;break}return d}return!0};d.buttonIsntDisabled=function(a,b){var e,c;a:do if(!t(a.disabled)){if(n(b))for(e in b)if(!(c=this.tuix.items[b[e]]))return!1;if(!n(a.disabled_if)||!m._e(a.disabled_if,
this,h,c,a.id,a)){if(n(b)&&n(a.disabled_if_for_any_selected_items))for(e in b)if(c=this.tuix.items[b[e]],m._e(a.disabled_if_for_any_selected_items,this,h,c,a.id,a))break a;if(n(b)&&n(a.disabled_if_for_all_selected_items))for(e in b){if(c=this.tuix.items[b[e]],!m._e(a.disabled_if_for_all_selected_items,this,h,c,a.id,a))return!0}else return!0}}while(0);a._isDisabled=!0;a.tooltip=a.disabled_tooltip||a.tooltip;return!1};d.childColumnVisible=function(a,b){var e=this.tuix.columns[a]||{},c=this.tuix.items[b]||
{};return!n(e.visible_if_for_each_item)||m._e(e.visible_if_for_each_item,this,h,c,b,h,e)};d.hidden=function(a,b,e,c,f,d,k,l){a=a||c||f||d||b||k||l;if(a.hide_with_search_bar&&this.tuix.hide_search_bar)return!0;if(c&&c.go&&c.go.command)if(zenario_conductor._e(this.containerId)){if(!zenario_conductor._cE(this.containerId,c.go.command))return!0}else if(!c.go.mode)return!0;return m._h(a,this,b,e,c,f,d,k,l)};d.sortOutTUIX=function(){var a=this.tuix;this.newlyNavigated=this.path!=this.prevPath;this.multiSelectButtonsExist=
!1;a.collection_buttons=a.collection_buttons||{};a.item_buttons=a.item_buttons||{};a.columns=a.columns||{};a.items=a.items||{};var b,e,c,f;f=a.sort_by||"name";sortDesc=t(a.sort_desc);this.sortedCollectionButtonIds=m._gSIOTE(a,a.collection_buttons);this.sortedCollectionButtons=[];this.sortedItemButtonIds=m._gSIOTE(a,a.item_buttons);this.sortedItemButtons=[];this.sortedColumnIds=m._gSIOTE(a,a.columns);this.sortedColumns=[];for(b in this.sortedCollectionButtonIds)p(this.sortedCollectionButtonIds,b)&&
(e=this.sortedCollectionButtonIds[b],c=_._cl(a.collection_buttons[e]),c.id=e,this.hidden(h,h,e,c)||(this.buttonIsntDisabled(c)&&this.setupButtonLinks(c),this.sortedCollectionButtons.push(c)));for(b in this.sortedItemButtonIds)p(this.sortedItemButtonIds,b)&&(e=this.sortedItemButtonIds[b],c=a.item_buttons[e],c.id=e,this.sortedItemButtons.push(c));for(b in this.sortedColumnIds)p(this.sortedColumnIds,b)&&(e=this.sortedColumnIds[b],c=a.columns[e],c.id=e,this.hidden(h,h,e,h,c)||this.sortedColumns.push(c));
m._sK(this.sortedColumns);m._sK(this.sortedCollectionButtons,"zfea_button_with_children");m._sK(this.sortedItemButtons,"zfea_button_with_children");c=a.__item_sort_order__?a.__item_sort_order__:m._gSIOTE(a,"items",f,sortDesc);b=-1;for(this.sortedItems=[];h!==(e=c[++b]);)f=a.items[e],f.id=e,this.sortedItems.push(f),f.__sortedItemButtons=this.getSortedItemButtons([e],!1);_._isEm(a.list_groupings)?this.sortedListGroupings=[h]:this.sortedListGroupings=m._gSIOTE(a,a.list_groupings,"label");_._isEm(a.list_outer_groupings)?
this.sortedListOuterGroupings=[h]:this.sortedListOuterGroupings=m._gSIOTE(a,a.list_outer_groupings,"label");this.last.tuix=a};d.getSortedItemButtons=function(a,b){var e,c,f,d,k,l=[],g,h;h=b?a.join(","):g=a[0];for(e in this.sortedItemButtons)if(p(this.sortedItemButtons,e)&&(c=this.sortedItemButtons[e],c=_._cl(c),c.itemId=g,c.itemIds=h,this.itemButtonIsntHidden(c,a,b))){this.buttonIsntDisabled(c,a)&&this.setupButtonLinks(c,h);if(c.children)for(f in k=c.children,c.children=[],k)p(k,f)&&(d=k[f],d=_._cl(d),
d.itemId=g,d.itemIds=h,this.itemButtonIsntHidden(d,a,b)&&(this.buttonIsntDisabled(d,a)&&this.setupButtonLinks(d,h),c.children.push(d)));if(!c.hide_when_children_are_not_visible||c.children&&0<c.children.length)this.tuix.__itemHasItemButton=!0,l.push(c)}return l};d.setupButtonLinks=function(a,b){var e,c,d;if(a.go||a.ajax||a.onclick||a.confirm)d=this.defineLibVarBeforeCode(),a.onclick&&a.onclick.startsWith(d)||(d=n(b)?d+("var button = (lib.tuix.item_buttons||{})['"+z(a.id)+"'],itemId = '"+z(b)+"',item = (lib.tuix.items||{})[itemId];"):
d+("var button = (lib.tuix.collection_buttons||{})['"+z(a.id)+"'],itemId,item;"),d+="lib.button(this, button, item, itemId",a.go&&(c=this.checkRequests(a.go,!0,b)),a.onclick&&(d+=", function() {"+a.onclick+"}"),a.onclick=d+"); return false;");n(a.href)?a.href.replace_with_field_from_item&&(a.href=b&&this.tuix.items&&this.tuix.items[b]?this.tuix.items[b][a.href.replace_with_field_from_item]:""):c&&(d=zenario_conductor._cE(this.containerId,c.command),delete c.command,d?a.href=zenario_conductor._l(this.containerId,
d,c):c.mode&&c.mode!=this.mode&&(e=this.pages[c.mode])&&(e.cID!=g.cID||e.cType!=g.cType)?(delete c.mode,a.href=g._lTI(e.cID,e.cType,c)):a.href=g._lTI(g.cID,g.cType,c))};d.clickButton=function(a,b){var e=this,c=e.field(b),d=u(zenarioF).clickButton;c.confirm&&!e.hidden(c.confirm,h,b,c)?e.confirm(c.confirm,function(){d.call(e,a,b)}):d.call(e,a,b)};d.button=function(a,b,e,c,d,m){var k=this;if(!k.loading){var l,w,A=0;n(c)&&(w=c.s(","),A=w.length);if(m||!(l=b.confirm||b.go&&b.go.confirm||b.ajax&&b.ajax.confirm)||
k.hidden(l,e,b.id,b)){if(d&&(l=d.call(a),n(l)&&!l))return;l=b.go||k.checkRequests(k.last.request,!0);"search"==b.location&&(l=_._ex({search:k.getSearchFieldValue()},l));b.ajax?(m=k.checkRequests(b.ajax.request,!1,c,h,!0),k.runAJAXRequest(m,l,b.ajax,c)):k.go(l,c)}else n(c)&&(l=_._ex({},l),1===A?(l.title=g._aMF(l.title,e),l.message=g._aMF(l.message,e)):(m=function(a,b){if("item_count"==b)return A;b=b.s("|");var c,e,d,f=b[0],g=b[1]||", ",l=b[2],h=[];for(c in w)p(w,c)&&(d=w[c],(e=k.tuix.items[d])&&h.push(e[f]));
l=l&&1<h.length?l+h.pop():"";return h.join(g)+l},l.title=g._aMF(l.multiple_select_title||l.title,h,m),l.message=g._aMF(l.multiple_select_message||l.message,h,m))),k.confirm(l,function(){k.button(a,b,e,c,d,!0)})}};d.checkAllCheckboxes=function(a){$("#"+this.containerId+" input.zfea_check_item").each(function(b,e){e.checked=a.checked});this.updateItemButtons()};d.clearOnScrollForItemButtons=function(){this.updateItemButtonPositionOnScroll&&$(s).off("scroll",this.updateItemButtonPositionOnScroll)};d.updateItemButtons=
function(){this.clearOnScrollForItemButtons();var a=this.containerId,b=y("zfea_check_all_"+a),e=$("#"+a+" tr.zfea_row"),c=$("#"+a+" td.single_select_buttons"),d=$("#multi_select_buttons_td_"+a),h=$("#multi_select_buttons_"+a),k=$("#"+a+" td.zfea_check_item input"),l=k.filter("input:checked"),m=l.first(),n=l.last(),p=l.length,r,q,t,v,u=[];if(p){if(e.each(function(a,b){var c=$(b);c.height(c.height())}),l.each(function(a,b){var c=$(b);u.push(c.data("item_id"))}),h.html(this.microTemplate(this.mtPrefix+
"_button",this.getSortedItemButtons(u,!0))),g._aJQE("#multi_select_buttons_"+a+" "),d.show(),c.hide(),b.checked=p==k.length,a=m.offset().top,n=n.offset().top,t=$(s).width()/2,b=d.height()-h.outerHeight(!0),v=d.offset().top,r=a-v,q=n-v,0>r&&(r=0),q>b&&(q=b),0<q&&($("body > div:visible:not(.ui-helper-hidden-accessible)").each(function(a,b){var c=$(b);"fixed"==c.css("position")&&c.css("top").m(/^0/)&&c.width()>t&&(v-=c.height())}),this.updateItemButtonPositionOnScroll=function(a){a=g._sT()-v;a<r?a=r:
a>q&&(a=q);h.css("margin-top",Math.round(a))},this.updateItemButtonPositionOnScroll(),1<p))$(s).on("scroll",this.updateItemButtonPositionOnScroll)}else d.hide(),c.show(),b.checked=!1,e.each(function(a,b){$(b).height("")})};d.sparkline=function(){var a=this;Highcharts.SparkLine=function(b,c,e){var d="string"===typeof b||b.nodeName,f=arguments[d?1:0],f=Highcharts.merge({chart:{renderTo:f.chart&&f.chart.renderTo||a,backgroundColor:null,borderWidth:0,type:"area",margin:[2,0,2,0],width:120,height:40,style:{overflow:"visible"},
skipClone:!0},title:{text:""},credits:{enabled:!1},xAxis:{labels:{enabled:!1},title:{text:null},startOnTick:!1,endOnTick:!1,tickPositions:[]},yAxis:{endOnTick:!1,startOnTick:!1,labels:{enabled:!1},title:{text:null},tickPositions:[0]},legend:{enabled:!1},tooltip:{backgroundColor:null,borderWidth:0,shadow:!1,useHTML:!0,hideDelay:0,shared:!0,padding:0,positioner:function(a,b,c){return{x:c.plotX-a/2,y:c.plotY-b}}},plotOptions:{series:{animation:!1,lineWidth:1,shadow:!1,states:{hover:{enabled:!1}},marker:{radius:1,
states:{hover:{radius:2}}},fillOpacity:0.25},column:{negativeColor:"#910000",borderColor:"silver"}},exporting:{enabled:!1}},f);return d?new Highcharts.Chart(b,f,e):new Highcharts.Chart(f,c)};$("td[data-sparkline]");var b,e,c,d;for(c in a.sortedColumns)if(p(a.sortedColumns,c)&&(d=a.sortedColumns[c],d.sparkline))for(b in a.sortedItems)if(p(a.sortedItems,b)){e=a.sortedItems[b];var g=$(a.get("zfea_"+a.containerId+"_row_"+b+"_col_"+c));e=e[d.id]||{};var k={};e.values?g.highcharts("SparkLine",{colors:[e.colour?
e.colour:"#82CAFF"],series:[{data:_._tA(e.values),pointStart:1}],tooltip:{headerFormat:'<span style="font-size: 10px">'+e.label+":</span><br/>",pointFormat:"<b>{point.y}</b> "+e.units},chart:k}):$("#"+("zfea_"+a.containerId+"_row_"+b+"_col_"+c)).html(e.no_data_message)}};d.initSparklineChart=function(){this.sparkline()};d.confirm=function(a,b){if(!this.loading){if(!_._isFu(b)&&b._zenario_confirmed)return delete b._zenario_confirmed,!0;var e="zfea_colorbox_content"+(a.css_class?" "+a.css_class:""),
c=function(){var a=$("#colorbox");a.length&&(a[0].className=e)};$.colorbox.remove();$.colorbox({transition:"none",closeButton:!1,html:this.microTemplate(this.mtPrefix+"_confirm",a),className:e,onOpen:c});c();_._isFu(b)?$("#zfea_do_it").click(function(){$.colorbox.remove();b()}):$("#zfea_do_it").click(function(){$.colorbox.remove();b._zenario_confirmed=!0;$(b).click()})}};d.runAJAXRequest=function(a,b,e,c){var d=this;if(!d.loading){$.colorbox.remove();var m=e.is_delete,k=e.reload_slide;e.download?
(url=g._pAL(d.moduleClassName,d.containerId,a),s.location=url):(url=g._pAL(d.moduleClassName,d.containerId),d.showLoader(),d.ajax(url,a).after(function(a){d.hideLoader();a?d.AJAXErrorHandler(a):k&&zenario_conductor._r(g._gSFE(d.containerId))||d.go(b,m?h:c)}))}};d.phrase=function(a,b){return g._p(g.slots[this.containerId]&&g.slots[this.containerId].moduleClassNameForPhrases,a,b)};d.ajax=function(a,b,d){var c=this,f=g.adminId&&x&&x.zenarioAB&&x.zenarioAB.previewValues;f&&(!1!==b&&n(b)||(b={}),_._isOb(b)?
b.overrideSettings=f:b+="&overrideSettings="+E(f));return g._a(a,b,d,!1,!0,!0,h,h,function(a,b,d){c.AJAXErrorHandler(a,b,d)},function(){$.colorbox.remove()})};d.pickerLink=function(a,b){var d;return(d=this.pages[a])?this.showSingleSlotLink(d.containerId,b,!1,d.cID,d.cType):!1};d.AJAXErrorHandler=function(a,b,d){var c=this,f="",h={};a=m._sDFEM(a);d&&(f+=m.h1(C(a.status+" "+d)));if(404==a.status)f+=m.p(c.hardcodedPhrase.error404);else if(500==a.status)f+=m.p(c.hardcodedPhrase.error500);else if(0==a.status||
"timeout"==b)f+=m.p(c.hardcodedPhrase.errorTimedOut);a.responseText&&(f+=m._d(C(a.responseText)));showErrorMessage=function(){h.body=f;h.retry=!!a.zenario_retry;h.continueAnyway=a.zenario_continueAnyway&&a.data;$.colorbox({transition:"none",closeButton:!1,html:c.microTemplate(c.mtPrefix+"_error",h)});h.retry&&$("#zfea_retry").click(function(){$.colorbox.close();g._eS("colorbox");setTimeout(a.zenario_retry,1)});h.continueAnyway&&$("#zfea_continueAnyway").click(function(){$.colorbox.close();g._eS("colorbox");
setTimeout(function(){a.zenario_continueAnyway(a.data)},1)})};0==a.status||"timeout"==b?setTimeout(showErrorMessage,750):showErrorMessage()};zenario_abstract_fea.setupAndInit=function(a,b,d,c,f,g,k,h,m,n,p,r){var q=a+"_"+d.r(/\-/g,"__");s[q]||(s[q]=new b);s[q].init(q,"fea",a,d,c,f,g,k,h,m,n,p,r);return s[q]}},zenario.getContainerIdFromEl);
