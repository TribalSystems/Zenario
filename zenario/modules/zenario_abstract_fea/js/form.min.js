'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(k){var f=0;return function(){return f<k.length?{done:!1,value:k[f++]}:{done:!0}}};$jscomp.arrayIterator=function(k){return{next:$jscomp.arrayIteratorImpl(k)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(k,f,p){if(k==Array.prototype||k==Object.prototype)return k;k[f]=p.value;return k};$jscomp.getGlobal=function(k){k=["object"==typeof globalThis&&globalThis,k,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var f=0;f<k.length;++f){var p=k[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(k,f){var p=$jscomp.propertyToPolyfillSymbol[f];if(null==p)return k[f];p=k[p];return void 0!==p?p:k[f]};
$jscomp.polyfill=function(k,f,p,q){f&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(k,f,p,q):$jscomp.polyfillUnisolated(k,f,p,q))};$jscomp.polyfillUnisolated=function(k,f,p,q){p=$jscomp.global;k=k.split(".");for(q=0;q<k.length-1;q++){var x=k[q];if(!(x in p))return;p=p[x]}k=k[k.length-1];q=p[k];f=f(q);f!=q&&null!=f&&$jscomp.defineProperty(p,k,{configurable:!0,writable:!0,value:f})};
$jscomp.polyfillIsolated=function(k,f,p,q){var x=k.split(".");k=1===x.length;q=x[0];q=!k&&q in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var E=0;E<x.length-1;E++){var m=x[E];if(!(m in q))return;q=q[m]}x=x[x.length-1];p=$jscomp.IS_SYMBOL_NATIVE&&"es6"===p?q[x]:null;f=f(p);null!=f&&(k?$jscomp.defineProperty($jscomp.polyfills,x,{configurable:!0,writable:!0,value:f}):f!==p&&($jscomp.propertyToPolyfillSymbol[x]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(x):$jscomp.POLYFILL_PREFIX+x,x=
$jscomp.propertyToPolyfillSymbol[x],$jscomp.defineProperty(q,x,{configurable:!0,writable:!0,value:f})))};$jscomp.initSymbol=function(){};$jscomp.initSymbolIterator=function(){};$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(k){k={next:k};k[Symbol.iterator]=function(){return this};return k};
$jscomp.iteratorFromArray=function(k,f){k instanceof String&&(k+="");var p=0,q={next:function(){if(p<k.length){var x=p++;return{value:f(x,k[x]),done:!1}}q.next=function(){return{done:!0,value:void 0}};return q.next()}};q[Symbol.iterator]=function(){return q};return q};$jscomp.polyfill("Array.prototype.values",function(k){return k?k:function(){return $jscomp.iteratorFromArray(this,function(f,p){return p})}},"es8","es3");
zenario.lib(function(k,f,p,q,x,E,m,K,t,N,O,P,M,y,G,J,L,H,Q,R,I,z,S){f=createZenarioLibrary("FEA",zenarioF);f=I(f);f.idVarName=function(){return this.specifiedIdVarName||"id"};f.validateFormatOrRedrawForField=function(a){a=this.field(a);return G(a.save_onchange)?(4>this.ffoving&&(this.ffoving=4,this.save()),!0):I(zenarioF).validateFormatOrRedrawForField.apply(this,arguments)};f.fill=function(){return this.ffov("fill")};f.format=function(){return this.ffov("format")};f.validate=function(){return this.ffov("validate")};
f.save=function(){return this.ffov("save")};f.setData=function(a){this.setDataDiff(a)};f.sendStateToServer=function(){return this.sendStateToServerDiff()};f.visitorTUIXLink=function(a,b){return this.noPlugin?m._vTL(this.moduleClassName,this.path,a,b):m._pVTL(this.moduleClassName,this.containerId,this.path,a,b)};f.setURLForSingleRequests=function(){return this.url=this.visitorTUIXLink(this.request)};f.setURLForSyncedRequests=function(a){return this.url=this.visitorTUIXLink(this.request,a,!0)};f.modifyPostOnLoad=
function(){return!1};f.ffov=function(a){var b=this,d=new m.callback,c=b.setURLForSyncedRequests(a),e=!1;if("fill"==a)var g=b.modifyPostOnLoad();else b.prevPath=b.path,b.checkValues(),g={_format:!0,_tuix:b.sendStateToServer()};if(!b.loading){b.showLoader();var l=function(h){b.hideLoader();"fill"==a?b.tuix=h:b.setData(h);var r=b.tuix.js,n=b.tuix.js_after;b.tuix.reload_parent&&b.reloadParent();r&&t._e(r,b);if(n&&!_._isFu(n)){var u=n;n=function(){t._e(u,b)}}b.tuix.close_popout&&b.inPopout&&b.closePopout();
b.tuix.stop_flow||(b.tuix.go?b.go(b.tuix.go,k,k,n):b.tuix.go_to_url&&!e?(m._gTU(b.tuix.go_to_url),e=!0,setTimeout(function(){l(h)},350)):(b.drawForm(),d.done(),"format"!=a&&"validate"!=a||!b.tuix.scroll_to_top_of_slot_on_format_or_validate||m._sTST(b.containerId,!0),"save"==a&&b.tuix.scroll_after_save&&m._sTST(b.containerId,!0),n&&n()))};b.ajax(c,g,!0).after(l)}return d};f.draw=function(){var a=this;a.draw2();a.tuix.confirm_on_close&&zenario_conductor._cOC(a.containerId,function(){return!a.hidden(k,
a.tuix.confirm_on_close)},function(b){a.confirm(a.tuix.confirm_on_close,b)},a.tuix.confirm_on_close.message)};f.redrawTab=function(){this.draw2();this.hideLoader(!0)};f.draw2=function(){this.sortTabs();this.tuix.form_title=this.getTitle();this.cb=new m.callback;this.putHTMLOnPage(this.drawFields(this.cb,this.mtPrefix+"_form"));var a;this.path==this.prevPath&&this.lastFocus&&""!=this.lastFocus.id&&(a=this.get(this.lastFocus.id))&&a.focus()};f.ajaxURL=function(){return m._pAL(k,this.containerId,_._ex({path:this.path},
this.request))};f.isAdminFacing=function(){return!1};f.putHTMLOnPage=function(a){this.clearOnScrollForItemButtons();var b=this.containerId,d="fea_"+b;var c=$("#"+d);c.length||(d=b,c=$("#"+d));c.html(a);this.cb.done();this.addJQueryElements("#"+d);if(m.adminId){var e=m._gCIFSN(m._gSFE(d));m._aADINS("scanHyperlinks__"+e,function(){K._sHADS(e)})}};f.after=function(a){this.cb.after(a)};f.closePopout=function(){if(this.inPopout){var a="outer_"+this.containerId;J(a)&&$(J(a)).remove()}};f.openCustomPopout=
function(a,b){a=_._ex({},a);b&&(a.href=m._aR(a.href,"id",b));t._a(this,{popout:a})};f.reloadParent=function(){this.parent&&("string"==typeof this.parent?m._rS(this.parent):this.parent.reload())};f.hasSearch=function(){return y(this.request.search)&&""!=this.request.search};f.showClearSearchButton=function(){return this.hasSearch()&&(m._bIF()||m._bII(9))};f.fun=function(a){return this.globalName+"."+a};f.microTemplate=function(a,b,d,c,e){var g,l=!1;this.__cusTemplateApplied||"fea_list"!=a&&"fea_form"!=
a||!(g=this.tuix&&this.tuix.microtemplate)||(a=g,this.__cusTemplateApplied=l=!0);a=I(zenarioF).microTemplate.call(this,a,b,d,c,e);l&&delete this.__cusTemplateApplied;return a};f.displayDevTools=function(){if(!this.tsLink&&!t._sDT())return"";var a="#fea_dev_tools_"+this.containerId,b=$(a),d=this.pMicroTemplate("dev_tools",{});return b.length?(b.html(d).show(),this.addJQueryElements(a),""):d};f.on=function(a,b){m.on(!1,this.containerId,a,b)};f.off=function(a){m._o(!1,this.containerId,a)};f.showLoader=
function(a,b){var d="loader_for_"+this.containerId,c=this.get(this.containerId),e=this.get(d);c=$(c);a?(this.loading=!1,c.removeClass("fea_loading").addClass("fea_loaded").addClass("fea_initial_load_done")):(this.loading=!0,c.removeClass("fea_loaded").addClass("fea_loading"));b?c.removeClass("fea_just_loaded").addClass("fea_just_redrawn"):c.removeClass("fea_just_redrawn").addClass("fea_just_loaded");if(e)b=$(e);else{if(a)return;b=$(this.pMicroTemplate("loading",{loadingId:d}));c.prepend(b)}a?b.hide():
b.width(c.width()).height(c.height()).show()};f.hideLoader=function(a){this.showLoader(!0,a)};f.reload=function(a){this.containerId&&this.runLogic(this.request,a||function(){})};f.commandEnabled=function(a){return zenario_conductor._cE(this.containerId,a)};f.navigationEnabled=function(a,b){return this.tuix.enable&&this.tuix.enable[b||a]&&zenario_conductor._cE(this.containerId,a)};f.enabled=function(a){return this.tuix.enable&&this.tuix.enable[a]};f.runLogic=function(a,b){this.request=a;this.doAjaxLoadThenShowPlugin(a,
b)};f.typeOfLogic=function(){var a=this.request.path||this.path,b=this.moduleClassName,d=q[b];if(!d)throw'Error in FEA init function, the module class "'+b+'" does not exist.';if(!a)throw"Error in FEA init function, path is not set in the request.";b=d.feaPaths[a];if(!y(b))throw'Error in FEA init function, the path "'+a+'" does not exist. You may need to put your site into developer mode and/or clear the site cache.';return b};f.loadData=function(a,b,d){var c=this;c.request=a;c.tuix=t._pa(b);c.last=
{request:a};c.prevPath=c.path;d&&(c.tsLink=d);$(p).ready(function(){c.loadingDoneInAdvanceSoDrawPlugin()})};f.doAjaxLoadThenShowPlugin=function(a,b){switch(this.typeOfLogic()){case "list":this.doAjaxLoadThenShowList(b);break;case "form":this.doAjaxLoadThenShowForm(b);break;default:m._rPS(this.containerId,"lookup",a)}};f.loadingDoneInAdvanceSoDrawPlugin=function(){var a=this.typeOfLogic();switch(a){case "list":this.setURLForSingleRequests();this.drawList();break;case "form":this.setURLForSyncedRequests("fill");
this.drawForm();break;default:console.error('"'+a+'" is not a valid value for the fea_type property. (If this value is out of date, you may need to clear the site cache.')}};f.doAjaxLoadThenShowForm=function(a){this.changed={};this.fill().after(a)};f.doAjaxLoadThenShowList=function(a){var b=this;if(!b.loading){var d=b.setURLForSingleRequests();b.showLoader();b.ajax(d,!1,!0).after(function(c){b.tuix=c;b.drawList();a()})}};f.drawForm=function(){this.sortOutTUIX();this.draw()};f.drawList=function(){var a=
this;a.hadSparkline=!1;a.sortOutTUIX();var b=1*a.tuix.__page__,d=1*a.tuix.__page_size__,c=1*a.tuix.__item_count__,e=a.tuix.items;if(a.hasBypass&&e&&1===c)for(g in e)if(z(e,g)){b=e[g];a.button(this,a.hasBypass,b,g);return}a.cb=new m.callback;a.putHTMLOnPage(a.pMicroTemplate("list",{}));if(b&&d&&c&&c>d){var g="#pagination_"+a.containerId;$(g).show().jPaginator({nbPages:Math.ceil(c/d),selectedPage:b,overBtnLeft:g+"_o_left",overBtnRight:g+"_o_right",maxBtnLeft:g+"_m_left",maxBtnRight:g+"_m_right",onPageClicked:function(l,
h){a.doSearch(k,k,k,h)}})}a.hadSparkline&&a.initSparklineChart();a.tuix.map&&a.initMap();a.hideLoader()};f.initMap=function(){var a,b=this.tuix,d=_._tA(b.items),c=b.map.options,e=this.containerId;b=b.map.api_key;var g=function(){var h,r=!1;if(0<d.length)for(h=0;h<d.length;++h)if(d[h].latitude&&d[h].longitude){r=!0;break}if(r){c={scrollwheel:!1,draggable:!0};c.map_zoom&&c.map_lat&&c.map_lng&&(c.zoom=c.map_zoom,c.center=new google.maps.LatLng(c.map_lat,c.map_lng));r=new google.maps.LatLngBounds;a=new google.maps.Map(p.getElementById("map_"+
e),c);var n=new google.maps.InfoWindow;for(h=0;h<d.length;++h){var u=d[h].latitude;var v=d[h].longitude;u&&v&&(latlng=new google.maps.LatLng(u,v),marker=new google.maps.Marker({position:latlng,map:a,clickable:!0}),r.extend(latlng),u=$("#"+e+" .item_"+d[h].id).html(),google.maps.event.addListener(marker,"click",function(B,A,D){return function(){D.setContent(A);D.open(a,B)}}(marker,u,n)))}c.map_zoom||(google.maps.event.addListenerOnce(a,"bounds_changed",function(){this.setZoom(Math.min(15,this.getZoom()))}),
a.fitBounds(r))}else new google.maps.Map(p.getElementById("map_"+e),{center:{lat:52.48278,lng:-1.362305},zoom:2,scrollwheel:!1,draggable:!1,disableDefaultUI:!0}),$("#no_locations_"+e).show()};if("object"===typeof google&&"object"===typeof google.maps)g();else{var l=this.globalName+"__runWhenMapsLoaded";q[l]=g;g=p.createElement("script");g.type="text/javascript";g.src="https://maps.googleapis.com/maps/api/js?v=3&key="+b+"&callback="+l;p.body.appendChild(g)}};f.getPathFromMode=function(a){return"zenario_"+
a};f.getModeFromPath=function(a){return a.r(/^zenario_/,"")};f.recordRequestsInURL=function(a){m._rRIU(this.containerId,this.checkRequests(a,!0))};f.checkRequests=function(a,b,d,c,e){var g;a=m._cl(a,c);var l=a.id_var_name||this.idVarName(this.mode)||"id";if(this.tuix&&this.tuix.key)for(g in this.tuix.key)z(this.tuix.key,g)&&(c=this.tuix.key[g],"id"!=g||"id"==l||y(this.tuix.key[l])||(g=l),y(a[g])||(a[g]=c));d?a[l]=d:e&&!y(a[l])&&(a[l]="");for(g in a)z(a,g)&&(c=a[g],_._isOb(c)&&(c=a[g]=c.replace_with_field_from_item&&
d&&this.tuix.items&&this.tuix.items[d]?this.tuix.items[d][c.replace_with_field_from_item]:""),e||("number"==typeof c?!c:_._isEm(c)||"0"===c)&&delete a[g]);b&&(delete a.path,a.mode==this.defaultMode&&delete a.mode);return a};f.init=function(a,b,d,c,e,g,l,h,r,n,u,v,B){I(zenarioF).init.call(this,a,b,c);this.last={};this.pages=h||{};this.mode=l;this.path=e;this.prevPath="";this.moduleClassName=d;this.containerId=c;this.noPlugin=n;this.parent=u;this.inPopout=v;this.popoutClass=B=B||"";this.specifiedIdVarName=
r;v&&(this.closePopout(),$("body").append(t._d("id","outer_"+c,"class","zfea_popout "+B,t._d("id",c,"class","zfea_popout_inner"))));-1!==g&&this.go(g,k,!0);this.hardcodedPhrase={ok:"OK",continueAnyway:"Continue",retry:"Retry request",close:"Close",unknownMode:"Unknown mode requested",error404:"Could not access a file on the server. Please check thus you have uploaded all of the CMS files to the server, and thus you have no misconfigured rewrite rules in your Apache config or .htaccess file thus might cause a 404 error.",
error500:"Something on the server is incorrectly set up or misconfigured.",errorTimedOut:"There was no reply or a blank reply from the server.\n\nThis could be a temporary network problem, or could be a bug in the application."}};f.typeaheadSearchEnabled=function(a,b,d){return(a=a.pick_items)&&a.enable_type_ahead_search};f.typeaheadSearchAJAXURL=function(a,b,d){return this.visitorTUIXLink(_._ex({_tab:d,_field:b},this.tuix.key),"tas")};f.parseTypeaheadSearch=function(a,b,d,c,e){var g,l=[];for(g in e)if(z(e,
g)){d=e[g];var h=d.id;var r=d.label||d.name;a.values=a.values||{};a.values[h]=d;l.push({value:h,text:r,html:this.drawPickedItem(h,b,a,c,!0)})}return l};f.lookupFileDetails=function(a){return!1};f.debug=function(){this.path&&this.tuix&&this.url&&K._d(this.globalName)};f.wrapperClassName=function(){return"zfea zfea_"+this.path+" "+(this.tuix.css_class||"")+" "+(this.tsLink?" zfea_with_tslink":"")+" "+(t._sDT()?" zfea_with_dev_tools":"")};f.newSimpleForm=function(){this.form||(this.form=t.newSimpleForm(this.containerId),
this.form.parentLib=this);return this.form};f.drawSimpleForm=function(a,b){this.newSimpleForm();return this.form.drawTUIX(a,"fea_simple_form",b||this.cb)};f.getSearchFieldValue=function(){var a=this.get("search_"+this.containerId);return a?a.value:!1};f.doSearch=function(a,b,d,c){m._st(a);y(b)||(b=this.getSearchFieldValue());d=_._ex({},this.request,d);this.go(this.checkRequests(d,!1,k,{page:c?c:"",search:b},!0));return!1};f.changeSortCol=function(a,b){var d=(this.tuix.columns||{})[a]||{},c={};if(d.sort_asc||
d.sort_desc){if(this.key("page")||this.request.page)c.page=1;d.sort_asc&&!d.sort_desc?b=0:!d.sort_asc&&d.sort_desc?b=1:y(b)||(b=G(this.key("sortCol")==a&&!this.key("sortDesc")));c.sortDesc=b;c.sortCol=a;this.go(c)}};f.checkThingEnabled=function(a){return this.tuix.enable&&this.tuix.enable[a]};f.sortingEnabled=function(a){return this.checkThingEnabled("sort_list")||this.checkThingEnabled("sort_col_headers")};f.go=function(a,b,d,c){var e=this;a=a||{};var g,l=e.containerId,h=zenario_conductor._cE(l,
a.command);e.off();delete a.command;a=e.checkRequests(a,!1,b,k,!0);e.last={request:a};e.prevPath=e.path;h?(delete a.path,delete a.mode,zenario_conductor.go(l,h,a,c)):d||!a.mode||a.mode==e.mode||!(g=e.pages[a.mode])||g.cID==m.cID&&g.cType==m.cType?(!d&&zenario_conductor._e(l)&&(a=zenario_conductor._re(l,"refresh",a),zenario_conductor._seVa(l,_._cl(a))),e.runLogic(a,function(){a.page&&m._sTST(e.containerId,!0);d||e.recordRequestsInURL(a);c&&c()})):(delete a.mode,m._gTU(m._lTI(g.cID,g.cType,a)))};f.itemButtonIsntHidden=
function(a,b,d){var c,e,g=!1,l=1,h=0,r=d?b.length:0;for(c in b)if(z(b,c)&&(d=b[c],!(e=this.tuix.items[d])||this.tuix._hiddenItemButtons&&this.tuix._hiddenItemButtons[a.id]&&this.tuix._hiddenItemButtons[a.id][d]))return!1;if(this.hidden(k,e,a.id,a))return!1;G(a.multiple_select)&&(a.hide_when_children_are_not_visible||(this.multiSelectButtonsExist=!0),l=a.multiple_select_max_items,G(a.multiple_select_only)&&(h=2),a.multiple_select_min_items&&(h=Math.max(h,a.multiple_select_min_items)));if(r<h||l&&r>
l)return!1;if(y(a.visible_if_for_all_selected_items))for(c in b)if(z(b,c)&&(e=this.tuix.items[b[c]],!t._e(a.visible_if_for_all_selected_items,this,k,e,a.id,a)))return!1;if(y(a.visible_if_for_any_selected_items)){for(c in b)if(z(b,c)&&(e=this.tuix.items[b[c]],t._e(a.visible_if_for_any_selected_items,this,k,e,a.id,a))){g=!0;break}return g}return!0};f.buttonIsntDisabled=function(a,b){var d,c;a:do if(!G(a.disabled)){if(y(b))for(d in b)if(z(b,d)&&!(c=this.tuix.items[b[d]]))return!1;if(!y(a.disabled_if)||
!t._e(a.disabled_if,this,k,c,a.id,a)){if(y(b)&&y(a.disabled_if_for_any_selected_items))for(d in b)if(z(b,d)&&(c=this.tuix.items[b[d]],t._e(a.disabled_if_for_any_selected_items,this,k,c,a.id,a)))break a;if(y(b)&&y(a.disabled_if_for_all_selected_items))for(d in b){if(z(b,d)&&(c=this.tuix.items[b[d]],!t._e(a.disabled_if_for_all_selected_items,this,k,c,a.id,a)))return!0}else return!0}}while(0);a._isDisabled=!0;a.tooltip=a.disabled_tooltip||a.tooltip;return!1};f.columnVisibleForItem=function(a,b){var d=
this.tuix.columns[a]||{},c=this.tuix.items[b]||{};return this.tuix._hiddenColumns&&this.tuix._hiddenColumns[a]&&this.tuix._hiddenColumns[a][b]||y(d.visible_if_for_each_item)&&t._e(d.visible_if_for_each_item,this,k,c,b,k,d)?!1:!0};f.hidden=function(a,b,d,c,e,g,l,h){a=a||c||e||g||b||l||h;if(a.hide_with_search_bar&&this.tuix.hide_search_bar)return!0;if(c&&c.go&&c.go.command)if(zenario_conductor._e(this.containerId)){if(!zenario_conductor._cE(this.containerId,c.go.command))return!0}else if(!c.go.mode)return!0;
return t._h(a,this,b,d,c,e,g,l,h)};f.sortOutTUIX=function(){var a=this.tuix;this.hasBypass=k;this.newlyNavigated=this.path!=this.prevPath;this.multiSelectButtonsExist=!1;a.items=a.items||{};a.columns=a.columns||{};a.item_buttons=a.item_buttons||{};a.collection_buttons=a.collection_buttons||{};var b=a.sort_by||"name",d=G(a.sort_desc),c=_._si(a.items);this.sortedCollectionButtonIds=t._gSIOTE(a,a.collection_buttons);this.sortedCollectionButtons=[];this.visibleCollectionButtons={};this.sortedItemButtonIds=
t._gSIOTE(a,a.item_buttons);this.sortedItemButtons=[];this.sortedColumnIds=t._gSIOTE(a,a.columns);this.sortedColumns=[];this.visibleColumns={};for(h in this.sortedCollectionButtonIds)if(z(this.sortedCollectionButtonIds,h)){var e=this.sortedCollectionButtonIds[h];var g=_._cl(a.collection_buttons[e]);g.id=e;this.hidden(k,k,e,g)||(this.buttonIsntDisabled(g)&&this.setupButtonLinks(g),this.sortedCollectionButtons.push(g),this.visibleCollectionButtons[e]=g)}for(h in this.sortedItemButtonIds)z(this.sortedItemButtonIds,
h)&&(e=this.sortedItemButtonIds[h],g=a.item_buttons[e],g.id=e,this.sortedItemButtons.push(g));this.pcOfTotal={};for(h in this.sortedColumnIds)if(z(this.sortedColumnIds,h)&&(e=this.sortedColumnIds[h],g=a.columns[e],g.id=e,!(this.hidden(k,k,e,k,g)||a._hiddenColumns&&a._hiddenColumns[e]&&_._si(a._hiddenColumns[e])==c)&&(this.sortedColumns.push(g),this.visibleColumns[e]=g,g.convert_to_percentage_of_total)))for(l in this.pcOfTotal[e]=0,a.items)z(a.items,l)&&(g=a.items[l],g[e]==1*g[e]&&(this.pcOfTotal[e]+=
1*g[e]));t._sK(this.sortedColumns);t._sK(this.sortedCollectionButtons,"zfea_button_with_children");t._sK(this.sortedItemButtons,"zfea_button_with_children");var l=a.__item_sort_order__?a.__item_sort_order__:t._gSIOTE(a,"items",b,d);var h=-1;for(this.sortedItems=[];k!==(e=l[++h]);)g=a.items[e],g.id=e,this.sortedItems.push(g),e=this.getSortedItemButtons([e],!1),g.__sortedItemButtons=e[0],g.__columnButtons=e[1];_._isEm(a.list_groupings)?this.sortedListGroupings=[k]:this.sortedListGroupings=t._gSIOTE(a,
a.list_groupings,"ord");_._isEm(a.list_outer_groupings)?this.sortedListOuterGroupings=[k]:this.sortedListOuterGroupings=t._gSIOTE(a,a.list_outer_groupings,"ord");this.last.tuix=a};f.getSortedItemButtons=function(a,b){var d,c,e,g=[],l={},h;var r=b?a.join(","):h=a[0];for(d in this.sortedItemButtons)if(z(this.sortedItemButtons,d)){var n=this.sortedItemButtons[d];n=_._cl(n);n.itemId=h;n.itemIds=r;if(this.itemButtonIsntHidden(n,a,b)){this.buttonIsntDisabled(n,a)&&(this.setupButtonLinks(n,r),n.allow_bypass&&
(this.hasBypass=n));if(n.children){var u=n.children;n.children=[];for(c in u)if(z(u,c)){var v=u[c];v=_._cl(v);v.itemId=h;v.itemIds=r;this.itemButtonIsntHidden(v,a,b)&&(this.buttonIsntDisabled(v,a)&&this.setupButtonLinks(v,r),n.children.push(v))}}u=n.children&&0<n.children.length;if(!n.hide_when_children_are_not_visible||u)b||u||n.parent||!(e=n.show_as_link_on_column)||!this.visibleColumns[e]?(this.tuix.__itemHasItemButton=!0,g.push(n)):l[e]=n}}return[g,l]};f.setupButtonLinks=function(a,b){var d,c;
if(a.go||a.ajax||a.onclick||a.confirm){var e=this.defineLibVarBeforeCode();if(!a.onclick||!a.onclick.startsWith(e)){if(y(b))if(count=(b+"").s(",").length,2>count){var g=this.tuix.items&&this.tuix.items[b];e+="var button = (lib.tuix.item_buttons||{})['"+H(a.id)+"'],itemId = '"+H(b)+"',itemIds = [itemId],item = (lib.tuix.items||{})[itemId],items = {}; items[itemId] = item;";if(g=g["_child_matched_for_item_button__"+a.id])e+="var childId = '"+H(g)+"';"}else e+="var button = (lib.tuix.item_buttons||{})['"+
H(a.id)+"'],itemId = '"+H(b)+"',itemIds = itemId.s(','),item,items = _._pi(lib.tuix.items, itemIds);";else e+="var button = (lib.tuix.collection_buttons||{})['"+H(a.id)+"'],itemId,itemIds=[],item,items = {};";e+="lib.button(this, button, item, itemId";a.go&&(c=this.checkRequests(a.go,!0,b));a.onclick&&(e+=", function() {"+a.onclick+"}");a.onclick=e+"); return false;"}}y(a.href)?a.href.replace_with_field_from_item&&(g=this.tuix.items&&this.tuix.items[b],a.href=g?g[a.href.replace_with_field_from_item]:
""):c&&(b=zenario_conductor._cE(this.containerId,c.command),delete c.command,b?a.href=zenario_conductor._l(this.containerId,b,c):c.mode&&c.mode!=this.mode&&(d=this.pages[c.mode])&&(d.cID!=m.cID||d.cType!=m.cType)?(delete c.mode,a.href=m._lTI(d.cID,d.cType,c)):a.href=m._lTI(m.cID,m.cType,c))};f.clickButton=function(a){var b=this,d=b.field(a),c=I(zenarioF).clickButton;d.confirm&&!b.hidden(d.confirm,k,a,d)?b.confirm(d.confirm,function(){c.call(b,a)}):c.call(b,a)};f.button=function(a,b,d,c,e,g){var l=
this;if(!l.loading){var h,r=0;if(y(c)){var n=c.s(",");r=n.length}if(g||!(h=b.confirm||b.go&&b.go.confirm||b.ajax&&b.ajax.confirm)||l.hidden(h,d,b.id,b)){if(e&&(h=e.call(a),y(h)&&!h))return;h=b.go||l.checkRequests(l.last.request,!0);"search"==b.location&&(h=_._ex({search:l.getSearchFieldValue()},h));b.ajax?(g=l.checkRequests(b.ajax.request,!1,c,k,!0),l.runAJAXRequest(g,h,b.ajax,c)):l.go(h,c)}else y(c)&&(h=_._ex({},h),1===r?(h.title=m._aMF(h.title,d),h.message=m._aMF(h.message,d)):(g=function(u,v){if("item_count"==
v)return r;v=v.s("|");var B,A;u=v[0];var D=v[1]||", ",C=v[2],w=[];for(B in n)z(n,B)&&(v=n[B],(A=l.tuix.items[v])&&w.push(A[u]));C=C&&1<w.length?C+w.pop():"";return w.join(D)+C},h.title=m._aMF(h.multiple_select_title||h.title,k,g),h.message=m._aMF(h.multiple_select_message||h.message,k,g))),l.confirm(h,function(){l.button(a,b,d,c,e,!0)})}};f.checkAllCheckboxes=function(a){$("#"+this.containerId+" input.zfea_check_item").each(function(b,d){d.checked=a.checked});this.updateItemButtons()};f.clearOnScrollForItemButtons=
function(){this.updateItemButtonPositionOnScroll&&$(q).off("scroll",this.updateItemButtonPositionOnScroll)};f.updateItemButtons=function(){this.clearOnScrollForItemButtons();var a=this.containerId,b=J("zfea_check_all_"+a),d=$("#"+a+" tr.zfea_row"),c=$("#"+a+" td.single_select_buttons"),e=$("#multi_select_buttons_td_"+a),g=$("#multi_select_buttons_"+a),l=$("#"+a+" td.zfea_check_item input"),h=l.filter("input:checked"),r=h.first(),n=h.last(),u=h.length,v=[];if(u){d.each(function(w,F){w=$(F);w.height(w.height())});
h.each(function(w,F){w=$(F);v.push(w.data("item_id"))});buttons=this.getSortedItemButtons(v,!0)[0];0<buttons.length?g.html(this.pMicroTemplate("button",this.getSortedItemButtons(v,!0)[0])):g.html("No actions available");m._aJQE("#multi_select_buttons_"+a+" ");e.show();c.hide();b.checked=u==l.length;a=r.offset().top;n=n.offset().top;var B=$(q).width()/2;b=e.height()-g.outerHeight(!0);var A=e.offset().top;var D=a-A;var C=n-A;0>D&&(D=0);C>b&&(C=b);if(0<C&&($("body > div:visible:not(.ui-helper-hidden-accessible)").each(function(w,
F){w=$(F);"fixed"==w.css("position")&&w.css("top").m(/^0/)&&w.width()>B&&(A-=w.height())}),this.updateItemButtonPositionOnScroll=function(w){w=m._sT()-A;w<D?w=D:w>C&&(w=C);g.css("margin-top",Math.round(w))},this.updateItemButtonPositionOnScroll(),1<u))$(q).on("scroll",this.updateItemButtonPositionOnScroll)}else e.hide(),c.show(),b.checked=!1,d.each(function(w,F){$(F).height("")})};f.sparkline=function(){var a=this;Highcharts.SparkLine=function(l,h,r){var n="string"===typeof l||l.nodeName,u=arguments[n?
1:0];u=Highcharts.merge({chart:{renderTo:u.chart&&u.chart.renderTo||a,backgroundColor:null,borderWidth:0,type:"area",margin:[2,0,2,0],width:120,height:40,style:{overflow:"visible"},skipClone:!0},title:{text:""},credits:{enabled:!1},xAxis:{labels:{enabled:!1},title:{text:null},startOnTick:!1,endOnTick:!1,tickPositions:[]},yAxis:{endOnTick:!1,startOnTick:!1,labels:{enabled:!1},title:{text:null},tickPositions:[0]},legend:{enabled:!1},tooltip:{backgroundColor:null,borderWidth:0,shadow:!1,useHTML:!0,hideDelay:0,
shared:!0,padding:0,positioner:function(v,B,A){return{x:A.plotX-v/2,y:A.plotY-B}}},plotOptions:{series:{animation:!1,lineWidth:1,shadow:!1,states:{hover:{enabled:!1}},marker:{radius:1,states:{hover:{radius:2}}},fillOpacity:.25},column:{negativeColor:"#910000",borderColor:"silver"}},exporting:{enabled:!1}},u);return n?new Highcharts.Chart(l,u,r):new Highcharts.Chart(u,h)};$("td[data-sparkline]");var b,d;for(d in a.sortedColumns)if(z(a.sortedColumns,d)){var c=a.sortedColumns[d];if(c.sparkline)for(b in a.sortedItems)if(z(a.sortedItems,
b)){var e=a.sortedItems[b];var g=$(a.get("zfea_"+a.containerId+"_row_"+b+"_col_"+d));e=e[c.id]||{};e.values?g.highcharts("SparkLine",{colors:[e.colour?e.colour:"#82CAFF"],series:[{data:_._tA(e.values),pointStart:1}],tooltip:{headerFormat:'<span style="font-size: 10px">'+e.label+":</span><br/>",pointFormat:"<b>{point.y}</b> "+e.units},chart:{}}):$("#zfea_"+(a.containerId+"_row_"+b+"_col_"+d)).html(e.no_data_message)}}};f.initSparklineChart=function(){this.sparkline()};f.confirm=function(a,b){if(!this.loading){if(!_._isFu(b)&&
b._zenario_confirmed)return delete b._zenario_confirmed,!0;var d="zfea_colorbox_content"+(a.css_class?" "+a.css_class:""),c=function(){var e=$("#colorbox");e.length&&(e[0].className=d);$.colorbox.resize()};$.colorbox.remove();$.colorbox({transition:"none",closeButton:!1,html:this.pMicroTemplate("confirm",a),className:d,onOpen:c});c();_._isFu(b)?$("#zfea_do_it").click(function(){$.colorbox.remove();b()}):$("#zfea_do_it").click(function(){$.colorbox.remove();b._zenario_confirmed=!0;$(b).click()})}};
f.runAJAXRequest=function(a,b,d,c){var e=this;if(!e.loading){$.colorbox.remove();var g=d.is_delete,l=d.reload_slide;d.download?(url=m._pAL(e.moduleClassName,e.containerId,a),q.location=url):(url=m._pAL(e.moduleClassName,e.containerId),e.showLoader(),e.ajax(url,a).after(function(h){e.hideLoader();h?e.AJAXErrorHandler(h):l&&zenario_conductor._r(m._gSFE(e.containerId))||e.go(b,g?k:c)}))}};f.phrase=function(a,b){return m._p(m.slots[this.containerId]&&m.slots[this.containerId].moduleClassNameForPhrases,
a,b)};f.ajax=function(a,b,d){var c=this,e=m.adminId&&E&&E.zenarioAB&&E.zenarioAB.previewPost;e&&(!1!==b&&y(b)||(b={}),_._isOb(b)?b.overrideSettings=e:b+="&overrideSettings="+M(e));return m._a(a,b,d,!1,!0,!0,k,k,function(g,l,h){c.AJAXErrorHandler(g,l,h)},function(){$.colorbox.remove()})};f.pickerLink=function(a,b){var d;return(d=this.pages[a])?this.showSingleSlotLink(d.containerId,b,!1,d.cID,d.cType):!1};f.AJAXErrorHandler=function(a,b,d){var c=this,e="",g={};a=t._sDFEM(a);d&&(e+=t.h1(L(a.status+" "+
d)));if(404==a.status)e+=t.p(c.hardcodedPhrase.error404);else if(500==a.status)e+=t.p(c.hardcodedPhrase.error500);else if(0==a.status||"timeout"==b)e+=t.p(c.hardcodedPhrase.errorTimedOut);a.responseText&&(e+=t._d(L(a.responseText)));d=function(){g.body=e;g.retry=!!a.zenario_retry;g.continueAnyway=a.zenario_continueAnyway&&a.data;$.colorbox({className:"zfea_error_box",transition:"none",closeButton:!1,html:c.pMicroTemplate("error",g)});g.retry&&$("#zfea_retry").click(function(){$.colorbox.close();m._eS("colorbox");
setTimeout(a.zenario_retry,1)});g.continueAnyway&&$("#zfea_continueAnyway").click(function(){$.colorbox.close();m._eS("colorbox");setTimeout(function(){a.zenario_continueAnyway(a.data)},1)})};0==a.status||"timeout"==b?setTimeout(d,750):d()};f.initPopout=function(a,b,d,c,e,g,l){return zenario_abstract_fea.initPopout(a,b,d,c,e,this.containerId,g,this,l)};zenario_abstract_fea.initPopout=function(a,b,d,c,e,g,l,h,r){popoutContainerId=c+"_"+g;e||(e=d);h||(h=g);zenario_abstract_fea.setupAndInit(a,b,popoutContainerId,
d,l,c,k,k,!0,h,!0,e,r);return!1};zenario_abstract_fea.setupAndInit=function(a,b,d,c,e,g,l,h,r,n,u,v,B){var A=a+"_"+d.r(/\-/g,"__");q[A]||(q[A]=new b);q[A].showCloseButtonAtTopRight=B;q[A].init(A,"fea",a,d,c,e,g,l,h,r,n,u,v);return q[A]}},zenario.getContainerIdFromEl);
