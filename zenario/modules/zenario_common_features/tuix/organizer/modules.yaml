# You must use a tab-size of 4 spaces to edit this file.
---
zenario__modules:
    panels:
        modules:
            title: Modules
            disable_periodic_refresh: true
            view_mode: list
            enable_close_up_view: true
            slidedown_view_microtemplate: zenario_slidedown_view_module
            
            db_items:
                table: >
                    [[DB_NAME_PREFIX]]modules as m
                id_column: m.id
                client_side: true
                #Don't show missing modules if they were never run
                where_statement: >
                    WHERE (missing = 0 OR status != 'module_not_initialized')
            
            default_sort_column: display_name
            
            quick_filter_buttons:
                all:
                    ord: 1
                    label: "All"
                    column: status
                    remove_filter: true
                module_not_initialized:
                    ord: 2
                    label: "Uninitialised"
                    column: status
                    value: module_not_initialized
                module_running:
                    ord: 3
                    label: "Running"
                    column: status
                    value: module_running
                module_suspended:
                    ord: 4
                    label: "Suspended"
                    column: status
                    value: module_suspended
                    
            refiners:
                nestable_only:
                    sql: 'status = "module_running" AND is_pluggable = 1 AND nestable = 1'
                phrases_only:
                    sql: 'is_pluggable = 1 AND vlp_class IS NOT NULL AND vlp_class = class_name'
                slotable_only:
                    sql: 'status = "module_running" AND is_pluggable = 1'
                wireframe_only:
                    sql: 'status = "module_running" AND is_pluggable = 1 AND can_be_version_controlled = 1'
                nestable_wireframes_only:
                    sql: 'status = "module_running" AND is_pluggable = 1 AND nestable = 1 AND can_be_version_controlled = 1'
                custom_modules:
                    sql: 'category = "custom" OR category IS NULL'
                core_modules:
                    sql: 'category = "core"'
                content_type_modules:
                    sql: 'category = "content_type"'
                management_modues:
                    sql: 'category = "management"'
                pluggable_modules:
                    sql: 'category = "pluggable"'
            
            columns:
                id:
                    title: ID
                    format: id
                    db_column: m.id
                    show_by_default: false
                    searchable: true
                    width: xxsmall
                    align_right: true
                display_name:
                    title: Name
                    db_column: display_name
                    show_by_default: true
                    searchable: true
                    width: large
                name:
                    title: Directory/class name
                    db_column: class_name
                    show_by_default: true
                    searchable: true
                    width: large
                path:
                    title: Directory path
                    show_by_default: No
                    searchable: No
                    width: xlarge
                status:
                    title: Status
                    db_column: m.status
                    show_by_default: true
                    format: enum
                    values:
                        module_not_initialized: Uninitialised
                        module_running: Running
                        module_suspended: Suspended
                    width: small
                vlp_class:
                    db_column: vlp_class
                dependencies:
                    title: Dependencies
                dependents:
                    title: Dependents
                revision:
                    title: Revision
                    align_right: "1"
                    width: xxsmall
                license_info:
                    title: License Info
                copyright_info:
                    title: Copyright Info
                author_name:
                    title: Author Name
                    width: small
                category:
                    title: Category
                    db_column: m.category
                    format: enum
                    values:
                        custom: Custom module
                        core: Core module
                        content_type: Content type defining module
                        management: Management module
                        pluggable: Pluggable module
                    width: small
                keywords:
                    title: Keywords
                    searchable: true
                special_page:
                    title: Linked Special Page
                    show_by_default: true
                    item_link: content_item
                is_pluggable:
                    db_column: is_pluggable
                    title: Pluggable
                    format: yes_or_no
                    width: xxsmall
                can_be_version_controlled:
                    db_column: can_be_version_controlled
                nestable:
                    db_column: nestable
                    title: Nestable
                    format: yes_or_no
                    width: xxsmall
                listens_for:
                    title: Signal listeners
                prefix:
                    title: Table prefix
                comment:
                    exists: true
            label_format_for_grid_view: |
                [[display_name]]
                                [[comment]]
            item:
                name: Module
                names: Modules
                css_class: plugin
                link:
                    path: zenario__modules/panels/plugins
                    branch: true
                    refiner: plugin
                tooltip: |
                        View this module's plugins
            hidden_nav:
                view_frameworks:
                    panel:
                        title: Frameworks
                        no_items_message: This module has no frameworks
                        columns:
                            name:
                                title: Directory name
                                show_by_default: true
                            filename:
                                title: Filename
                                show_by_default: true
                            path:
                                title: Path
                                show_by_default: true
                        refiners:
                            module:
                                exists: true
                        view_mode: list
                        disable_grid_view: true
                        disable_summary_view: true
                        item:
                            name: Framework
                            names: Frameworks
                            css_class: dropbox_file
                        item_buttons:
                            view_dropdown:
                                label: View
                                multiple_select: true
                                hide_when_children_are_not_visible: true
                            code:
                                parent: view_dropdown
                                label: Code
                                admin_box:
                                    path: zenario_view_source_code
                                    key:
                                        type: framework
                                    
            collection_buttons:
                all_instances:
                    select_mode_only: true
                    label: View all plugins
                    link:
                        path: zenario__modules/panels/plugins
                        branch: true
                        refiner: album
            item_buttons:
                view_dropdown:
                    ord: 1
                    label: View
                    multiple_select: true
                    hide_when_children_are_not_visible: true
                view_instances:
                    ord: 2
                    label: Module's plugins
                    parent: view_dropdown
                    traits:
                        is_pluggable: true
                    link:
                        path: zenario__modules/panels/plugins
                        branch: true
                        refiner: plugin
                usage_layouts:
                    ord: 3
                    parent: view_dropdown
                    label: "Layouts with module's plugins"
                    traits:
                        is_pluggable: true
                    hide_in_select_mode: true
                    link:
                        path: zenario__layouts/panels/layouts
                        branch: true
                        refiner: module_usage
                usage_item:
                    ord: 4
                    parent: view_dropdown
                    label: "Content items using this module's plugins"
                    traits:
                        is_pluggable: true
                    hide_in_select_mode: true
                    link:
                        path: zenario__content/panels/content
                        branch: true
                        refiner: module_usage
                phrases:
                    ord: 5
                    priv: _PRIV_VIEW_LANGUAGE
                    parent: view_dropdown
                    label: "Module's phrases"
                    traits:
                        uses_vlps: true
                    hide_in_select_mode: true
                    link:
                        path: zenario__languages/panels/phrases
                        branch: true
                        refiner: language_and_plugin
                show_frameworks:
                    ord: 6
                    parent: view_dropdown
                    label: "Module's frameworks"
                    hide_in_select_mode: true
                    traits:
                        is_pluggable: true
                    link:
                        path: zenario__modules/panels/modules/hidden_nav/view_frameworks/panel
                        branch: true
                        refiner: module
                view_content_items:
                    ord: 7
                    parent: view_dropdown
                    label: Effective usage
                    traits:
                        is_pluggable: true
                    hide_in_select_mode: true
                    link:
                        path: zenario__content/panels/content
                        branch: true
                        refiner: module_effective_usage
                action_dropdown:
                    ord: 8
                    label: Actions
                    multiple_select: true
                    hide_when_children_are_not_visible: true
                upgrade:
                    ord: 10
                    parent: action_dropdown
                    priv: _PRIV_MANAGE_REUSABLE_PLUGIN
                    label: "Upgrade compatible modules' plugins"
                    traits:
                        is_pluggable: true
                        can_upgrade: true
                    hide_in_select_mode: true
                    ajax:
                        confirm:
                            html: true
                            button_message: Upgrade
                            cancel_button_message: Cancel
                            message_type: warning
                        request:
                            upgrade: "1"
                suspend:
                    ord: 11
                    parent: action_dropdown
                    priv: _PRIV_SUSPEND_MODULE
                    label: Suspend module
                    traits:
                        module_running: true
                    hide_in_select_mode: true
                    ajax:
                        confirm:
                            message: 'Are you sure that you wish to suspend the module "[[display_name]]"?'
                            button_message: Suspend
                            cancel_button_message: Cancel
                            message_type: warning
                        request:
                            suspend: "1"
                uninstall:
                    ord: 11
                    parent: action_dropdown
                    priv: _PRIV_RESET_MODULE
                    label: Uninitialise and delete data
                    without_traits:
                        module_running: true
                        module_not_initialized: true
                    hide_in_select_mode: true
                    ajax:
                        confirm:
                            button_message: Delete data and Reset
                            cancel_button_message: Cancel
                            message_type: warning
                        request:
                            uninstall: "1"
                remove:
                    ord: 12
                    priv: _PRIV_RESET_MODULE
                    label: Remove
                    without_traits:
                        code_present: true
                    hide_in_select_mode: true
                    ajax:
                        confirm:
                            button_message: Delete data and remove
                            cancel_button_message: Cancel
                            message_type: warning
                        request:
                            remove: "1"
                run:
                    ord: 13
                    priv: _PRIV_RUN_MODULE
                    label: Start module
                    traits:
                        code_present: true
                    without_traits:
                        module_running: true
                    hide_in_select_mode: true
                    admin_box:
                        path: zenario_setup_module
