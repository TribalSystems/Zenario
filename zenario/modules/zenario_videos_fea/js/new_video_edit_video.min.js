window.onload=function(){$("#language_id").trigger("change")};
showFilePickerButtonOnclick=function(){var a=document.getElementsByName("vimeoPrivacy");if(a&&0<a.length){videoPrivacySettingsSelectedValue=(vimeoPrivacyRadios=document.querySelector('input[name="vimeoPrivacy"]:checked'))?vimeoPrivacyRadios.value:null;var b=document.getElementById("privacySettingError");videoPrivacySettingsSelectedValue?(b&&(b.style="display: none;"),noPrivacyErrors=!0):(b&&(b.style="display: block;"),noPrivacyErrors=!1)}else videoPrivacySettingsSelectedValue="disable",noPrivacyErrors=
!0;noLanguageErrors=!0;if((b=document.getElementById("language_id"))&&document.getElementById("languageIsMandatory")){var c=document.getElementById("languageIsMandatoryError"),d=b.value;d&&0!=d?(c.style="display: none;",noLanguageErrors=!0):(c.style="display: block;",noLanguageErrors=!1)}if(noPrivacyErrors&&noLanguageErrors){document.getElementById("title").readOnly=!0;document.getElementById("short_description").readOnly=!0;c=document.getElementById("date");c.readOnly=!0;c.disabled=!0;if(a)for(i=
0;i<a.length;i++)a[i].disabled=!0;b&&(b.disabled=!0);document.getElementById("filePicker").style="display: block;";document.getElementById("results").style="display: block;";document.getElementById("progress_container").style="display: block;";document.getElementById("showFilePickerButton").style="display: none;"}};
function handleFileSelect(a){a.stopPropagation();a.preventDefault();document.getElementById("title").readOnly=!0;document.getElementById("short_description").readOnly=!0;document.getElementById("cancelButtonDiv").style="display: none;";a=a.dataTransfer?a.dataTransfer.files:$(this).get(0).files;for(var b=document.getElementById("results");b.hasChildNodes();)b.removeChild(b.firstChild);updateProgress(0);document.getElementById("progress_container").style.display="block";(new VimeoUpload({name:document.getElementById("title").value,
description:document.getElementById("short_description").value,file:a[0],token,onError:function(c){c="<strong>Error</strong>: "+JSON.parse(c).error;document.getElementById("progress_container").style.display="none";var d=document.createElement("div");d.setAttribute("class","alert alert-danger");d.innerHTML=c;b.appendChild(d)},onProgress:function(c){updateProgress(c.loaded/c.total)},onComplete:function(c,d){if(-1<d){d={privacy:{embed:"whitelist",view:videoPrivacySettingsSelectedValue}};var f="https://api.vimeo.com/videos/"+
encodeURIComponent(c),e=new XMLHttpRequest;e.open("PATCH",f,!0);e.setRequestHeader("Authorization","Bearer "+token);e.setRequestHeader("Content-Type","application/json");e.send(JSON.stringify(d))}c="https://vimeo.com/"+c;d=document.getElementById("url");d.value=c;d.readOnly=!0;document.getElementById("submit").click()}})).upload()}function handleDragOver(a){a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy"}
function updateProgress(a){a=Math.floor(100*a);var b=document.getElementById("progress");b.setAttribute("style","width:"+a+"%");b.innerHTML="&nbsp;"+a+"%"}document.addEventListener("DOMContentLoaded",function(){var a=document.getElementById("drop_zone"),b=document.getElementById("browse");document.getElementById("showFilePickerButton");a&&(a.addEventListener("dragover",handleDragOver,!1),a.addEventListener("drop",handleFileSelect,!1));b&&b.addEventListener("change",handleFileSelect,!1)});
function selectionButtonsOnclick(a){document.getElementById("add_video").style="display: block;";document.getElementById("selection_buttons").style="display: none;";document.getElementById("cancelButtonDiv").style="display: block;";document.getElementById("filePicker").style="display: none;";document.getElementById("results").style="display: none;";document.getElementById("progress_container").style="display: none;";var b=document.getElementById("uploadSuccessfulContainer");b&&(b.style="display: none;");
if("add_video_by_url"==a.target.id){document.getElementById("url_div").style="display: block;";document.getElementById("submit").style="display: block;";if(a=document.getElementById("vimeoPrivacySettingsContainer"))a.style="display: none;";document.getElementById("showFilePickerButton").style="display: none;";document.getElementById("uploaded_or_added_by_url").value="add_video_by_url"}else if("upload_a_video"==a.target.id){if(a=document.getElementById("vimeoPrivacySettingsContainer"))a.style="display: block;";
document.getElementById("showFilePickerButton").style="display: block;";document.getElementById("submit").style="display: none;";document.getElementById("url_div").style="display: none;";document.getElementById("uploaded_or_added_by_url").value="upload_a_video"}}
function cancelButtonOnclick(){document.getElementById("add_video").style="display: none;";document.getElementById("selection_buttons").style="display: block;";document.getElementById("cancelButtonDiv").style="display: none;";var a=document.getElementById("uploadSuccessfulContainer");a&&(a.style="display: none;");if(a=document.getElementById("vimeoPrivacySettingsContainer"))a.style="display: none;";document.getElementById("title").removeAttribute("readOnly");document.getElementById("short_description").removeAttribute("readOnly");
if(videoPrivacySettings=document.getElementsByName("vimeoPrivacy")){for(i=0;i<videoPrivacySettings.length;i++)videoPrivacySettings[i].removeAttribute("disabled");if(a=document.getElementById("privacySettingError"))a.style="display: none;"}document.getElementById("url").value=""}function showOrHideElement(a,b){if(a=document.getElementById(a))"show"==b?a.style="display: inline-block;":"hide"==b&&(a.style="display: none;")}
function copyLinkButtonOnclick(a){(a=document.getElementById("videoLink"))&&zenario.copy(a,!0);showOrHideElement("noteCopyLink","hide");showOrHideElement("noteCopied","show")}function languagePickerOnChange(){var a=document.getElementById("language_id");document.getElementById("language_id_value").value=a.value}function videoLinkOnMouseover(){showOrHideElement("copyLinkButton","show")}function videoLinkOnMouseout(){showOrHideElement("copyLinkButton","hide")}
function videoLinkOnFocus(){var a=document.getElementById("videoLink");a&&a.select()}function copyLinkButtonOnMouseover(){showOrHideElement("noteCopyLink","show");showOrHideElement("noteCopied","hide")}function copyLinkButtonOnMouseout(){showOrHideElement("noteCopyLink","hide");showOrHideElement("noteCopied","hide")};
