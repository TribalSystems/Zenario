window.zenarioCI=function(){};
(function(g,h,n){h.box=function(e,c,l,h){var f="",a="",k={u:"User",g:"GET",p:"POST",s:"SESSION",c:"COOKIE"},m={},b;for(b in zenarioCD.slots)if(!e||b==e||b.substr(0,e.length+1)==e+"-"||b==e.split("-")[0])if(l||!zenarioCD.slots[b].cache_if||!zenarioCD.slots[b].cache_if.a||zenarioCD.slots[b].disallow_caching){l=!0;break}else{for(var d in zenarioCD.slots[b].cache_if)zenarioCD.slots[b].cache_if[d]||delete k[d];if(zenarioCD.slots[b].clear_cache_by)for(d in zenarioCD.slots[b].clear_cache_by)zenarioCD.slots[b].clear_cache_by[d]&&(m[d]=
!0)}if(l)f="zenario_cache_disabled",a+='<h1 class="'+f+'">This '+c+" does not support caching.</h1><h2>The developer did not enable support for caching for this "+c+".</h2>";else{f="zenario_cache_in_use";if(zenarioCD.served_from_cache||e&&zenarioCD.slots[e]&&zenarioCD.slots[e].served_from_cache)f="zenario_from_cache";b=!1;b={u:"User",g:"GET",p:"POST",s:"SESSION",c:"COOKIE"};e={content:"Content",menu:"Menu",user:"User",file:"File",module:"Module"};l={u:"An Extranet User is logged in",g:"A non-canonical GET request",
p:"A POST request",s:"A session variable",c:"A cookie from this site",l:"Location dependant logic",content:"Other Content Items, any change to Categories",menu:"Menu Nodes",user:"Users, their Characteristics, Groups and Group memberships",file:"Images, animations and documents stored in the CMS",module:"Any data added by a Module"};"Page"==c&&(b.l="LOCATION");a=a+("<h2>The caching rules for this "+c+" are as follows:</h2>")+("<table><tr><td></td><th>Current</th><th>"+c+" Req't</th><th>Conflicts</th></tr>");
for(d in b)(b=zenarioCD.load[d]&&!k[d])&&(f="zenario_not_cached"),a+="<tr><th>"+g._h(l[d])+"</th>",a+='<td><span class="'+(zenarioCD.load[d]?"zenario_cache_one":"zenario_cache_zero")+'">&nbsp;</span></td>',a+='<td class="zenario_cache_req"><span class="zenario_cache_zero">&nbsp;</span>'+(k[d]?' or <span class="zenario_cache_one">&nbsp;</span>':"")+"</td>",a+="<td>"+(b?'<span class="zenario_cache_cross">&nbsp;</span>':"&nbsp;")+"</td></tr>";a+="</table>";k=!1;for(d in e)m[d]&&(k||(a+="<h2>This "+c+
" will be cleared from the cache when any of the following change:</h2><ul>",k=!0),a+="<li>"+g._h(l[d])+"</li>");k&&(a+="</ul>");a="zenario_not_cached"==f?'<h1 class="'+f+'">This '+c+" can be cached, but not in the current situation due to a conflict.</h1>"+a:"zenario_from_cache"==f?'<h1 class="'+f+'">This '+c+" can be cached and was just served from the cache.</h1>"+a:h?'<h1 class="'+f+'">This '+c+" can be cached and was just written to the cache.</h1>"+a:'<h1 class="'+f+'">This '+c+" could be cached if plugin caching was enabled in Configuration->Site Settings, Optimisation interface.</h1>"+
a}return'<x-zenario-cache-info class="'+f+'" title="'+g._h('<div class="zenario_cache_box">'+a+"</div>")+'"></x-zenario-cache-info>'};h.init=function(e){if(!h.inited){var c;$("div.zenario_slot").each(function(e,g){g.id&&(c=g.id.replace("plgslt_",""))&&zenarioCD.slots[c]&&$(g).prepend('<x-zenario-cache-info class="zenario_cache_info">'+h.box(c,"Plugin",!1,zenarioCD.cache_plugins)+"</x-zenario-cache-info>")});g._g("zenario_cache_info").innerHTML=h.box("","Page",!e,!0);g._t("x-zenario-cache-info.zenario_cache_info *",
{tooltipClass:"zenario_cache_info_tooltip",position:{my:"right-2 center",at:"left center",collision:"flipfit"}});h.inited=!0}}})(zenario,zenarioCI);
