window.zenarioCI=function(){};
(function(f,g,n){g.box=function(d,b,k,g){var e="",a="",h={u:"User",g:"GET",p:"POST",s:"SESSION",c:"COOKIE"},m={};for(slotNameNestId in zenarioCD.slots)if(!d||slotNameNestId==d||slotNameNestId.substr(0,d.length+1)==d+"-"||slotNameNestId==d.split("-")[0])if(k||!zenarioCD.slots[slotNameNestId].cache_if||!zenarioCD.slots[slotNameNestId].cache_if.a||zenarioCD.slots[slotNameNestId].disallow_caching){k=!0;break}else{for(var c in zenarioCD.slots[slotNameNestId].cache_if)zenarioCD.slots[slotNameNestId].cache_if[c]||delete h[c];
if(zenarioCD.slots[slotNameNestId].clear_cache_by)for(c in zenarioCD.slots[slotNameNestId].clear_cache_by)zenarioCD.slots[slotNameNestId].clear_cache_by[c]&&(m[c]=!0)}if(k)e="zenario_cache_disabled",a+='<h1 class="'+e+'">This '+b+" cannot be cached.</h1><h2>Caching is disabled for this "+b+".</h2>";else{e="zenario_cache_in_use";if(zenarioCD.served_from_cache||d&&zenarioCD.slots[d]&&zenarioCD.slots[d].served_from_cache)e="zenario_from_cache";var l=!1,l={u:"User",g:"GET",p:"POST",s:"SESSION",c:"COOKIE"};
d={content:"Content",menu:"Menu",user:"User",file:"File",module:"Module"};k={u:"An Extranet User is logged in",g:"A non-canonical GET request",p:"A POST request",s:"A session variable",c:"A cookie from this site",l:"Location dependant logic",content:"Other Content Items, any change to Categories",menu:"Menu Nodes",user:"Users, their Characteristics, Groups and Group memberships",file:"Images, animations and documents stored in the CMS",module:"Any data added by a Module"};"Page"==b&&(l.l="LOCATION");
a=a+("<h2>The caching rules for this "+b+" are as follows:</h2>")+("<table><tr><td></td><th>Current</th><th>"+b+" Req't</th><th>Conflicts</th></tr>");for(c in l)(l=zenarioCD.load[c]&&!h[c])&&(e="zenario_not_cached"),a+="<tr><th>"+f.htmlspecialchars(k[c])+"</th>",a+='<td><span class="'+(zenarioCD.load[c]?"zenario_cache_one":"zenario_cache_zero")+'">&nbsp;</span></td>',a+='<td class="zenario_cache_req"><span class="zenario_cache_zero">&nbsp;</span>'+(h[c]?' or <span class="zenario_cache_one">&nbsp;</span>':
"")+"</td>",a+="<td>"+(l?'<span class="zenario_cache_cross">&nbsp;</span>':"&nbsp;")+"</td></tr>";a+="</table>";h=!1;for(c in d)m[c]&&(h||(a+="<h2>This "+b+" will be cleared from the cache when any of the following change:</h2><ul>",h=!0),a+="<li>"+f.htmlspecialchars(k[c])+"</li>");h&&(a+="</ul>");a="zenario_not_cached"==e?'<h1 class="'+e+'">This '+b+" can be cached, but not in the current situation due to a conflict.</h1>"+a:"zenario_from_cache"==e?'<h1 class="'+e+'">This '+b+" can be cached and was just served from the cache.</h1>"+
a:g?'<h1 class="'+e+'">This '+b+" can be cached and was just written to the cache.</h1>"+a:'<h1 class="'+e+'">This '+b+" could be cached if Plugin Caching was enabled in the Site Settings.</h1>"+a}return'<div class="'+e+'" title="'+f.htmlspecialchars('<div class="zenario_cache_box">'+a+"</div>")+'"></div>'};g.init=function(d){if(!g.inited){var b;$("div.zenario_slot").each(function(d,f){f.id&&(b=f.id.replace("plgslt_",""))&&zenarioCD.slots[b]&&$(f).prepend('<div class="zenario_cache_info">'+g.box(b,
"Plugin",!1,zenarioCD.cache_plugins)+"</div>")});f.get("zenario_cache_info").innerHTML=g.box("","Page",!d,!0);f.tooltips("div.zenario_cache_info div",{position:{my:"right-2 center",at:"left center",collision:"flipfit"}});g.inited=!0}}})(zenario,zenarioCI);
