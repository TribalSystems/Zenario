'use strict';window.zenarioCI=function(){};
(function(k,h,p){h.box=function(f,c,b,l){var a="",g={u:"User",g:"GET",p:"POST",s:"SESSION",c:"COOKIE"},n={};for(d in zenarioCD.slots)if(!f||d==f||d.substr(0,f.length+1)==f+"-"||d==f.split("-")[0])if(b||!zenarioCD.slots[d].cache_if||!zenarioCD.slots[d].cache_if.a||zenarioCD.slots[d].disallow_caching){b=!0;break}else{for(var e in zenarioCD.slots[d].cache_if)zenarioCD.slots[d].cache_if[e]||delete g[e];if(zenarioCD.slots[d].clear_cache_by)for(e in zenarioCD.slots[d].clear_cache_by)zenarioCD.slots[d].clear_cache_by[e]&&(n[e]=
!0)}if(b)b="zenario_cache_disabled",a+='<h1 class="'+b+'">This '+c+" does not support caching.</h1><h2>The developer did not enable support for caching for this "+c+".</h2>";else{b="zenario_cache_in_use";if(zenarioCD.served_from_cache||f&&zenarioCD.slots[f]&&zenarioCD.slots[f].served_from_cache)b="zenario_from_cache";var m={u:"User",g:"GET",p:"POST",s:"SESSION",c:"COOKIE"};f={content:"Content",menu:"Menu",user:"User",file:"File",module:"Module"};var d={u:"An Extranet User is logged in",g:"A non-canonical GET request",
p:"A POST request",s:"A session variable",c:"A cookie from this site",l:"Location dependant logic",content:"Other Content Items, any change to Categories",menu:"Menu Nodes",user:"Users, their Characteristics, Groups and Group memberships",file:"Images, animations and documents stored in the CMS",module:"Any data added by a Module"};"Page"==c&&(m.l="LOCATION");a=a+("<h2>The caching rules for this "+c+" are as follows:</h2><table><tr><td></td><th>Current</th><th>")+(c+" Req't</th><th>Conflicts</th></tr>");
for(e in m)(m=zenarioCD.load[e]&&!g[e])&&(b="zenario_not_cached"),a+="<tr><th>"+k._h(d[e])+"</th>",a+='<td><span class="'+(zenarioCD.load[e]?"zenario_cache_one":"zenario_cache_zero")+'">&nbsp;</span></td>',a+='<td class="zenario_cache_req"><span class="zenario_cache_zero">&nbsp;</span>'+(g[e]?' or <span class="zenario_cache_one">&nbsp;</span>':"")+"</td>",a+="<td>"+(m?'<span class="zenario_cache_cross">&nbsp;</span>':"&nbsp;")+"</td></tr>";a+="</table>";g=!1;for(e in f)n[e]&&(g||(a+="<h2>This "+c+
" will be cleared from the cache when any of the following change:</h2><ul>",g=!0),a+="<li>"+k._h(d[e])+"</li>");g&&(a+="</ul>");a="zenario_not_cached"==b?'<h1 class="'+b+'">This '+c+" can be cached, but not in the current situation due to a conflict.</h1>"+a:"zenario_from_cache"==b?'<h1 class="'+b+'">This '+c+" can be cached and was just served from the cache.</h1>"+a:l?'<h1 class="'+b+'">This '+c+" can be cached and was just written to the cache.</h1>"+a:'<h1 class="'+b+'">This '+c+" could be cached if plugin caching was enabled in Configuration->Site Settings, Optimisation interface.</h1>"+
a}return'<x-zenario-cache-info class="'+b+'" title="'+k._h('<div class="zenario_cache_box">'+a+"</div>")+'"></x-zenario-cache-info>'};h.init=function(f){if(!h.inited){var c;$("div.zenario_slot").each(function(b,l){l.id&&(c=l.id.replace("plgslt_",""))&&zenarioCD.slots[c]&&$(l).prepend('<x-zenario-cache-info class="zenario_cache_info">'+h.box(c,"Plugin",!1,zenarioCD.cache_plugins)+"</x-zenario-cache-info>")});k._g("zenario_cache_info").innerHTML=h.box("","Page",!f,!0);k._t("x-zenario-cache-info.zenario_cache_info *",
{tooltipClass:"zenario_cache_info_tooltip",position:{my:"right-2 center",at:"left center",collision:"flipfit"}});h.inited=!0}}})(zenario,zenarioCI);
