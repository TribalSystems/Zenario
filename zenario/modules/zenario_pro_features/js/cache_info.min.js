var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,b,d){if(null==a)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b,d){if(!d||null!=a){d=$jscomp.propertyToPolyfillSymbol[b];if(null==d)return a[b];d=a[d];return void 0!==d?d:a[b]}};$jscomp.polyfill=function(a,b,d,c){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,d,c):$jscomp.polyfillUnisolated(a,b,d,c))};
$jscomp.polyfillUnisolated=function(a,b,d,c){d=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];if(!(e in d))return;d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,d,c){var e=a.split(".");a=1===e.length;c=e[0];c=!a&&c in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in c))return;c=c[g]}e=e[e.length-1];d=$jscomp.IS_SYMBOL_NATIVE&&"es6"===d?c[e]:null;b=b(d);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==d&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(d=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+d+"$"+e),$jscomp.defineProperty(c,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.stringPadding=function(a,b){a=void 0!==a?String(a):" ";return 0<b&&a?a.repeat(Math.ceil(b/a.length)).substring(0,b):""};$jscomp.polyfill("String.prototype.padStart",function(a){return a?a:function(b,d){var c=$jscomp.checkStringArgs(this,null,"padStart");return $jscomp.stringPadding(d,b-c.length)+c}},"es8","es3");window.zenarioCI=function(){};
(function(a,b,d){b.box=function(c,e,f){var g="",n={u:"User",g:"GET",p:"POST",s:"SESSION",c:"COOKIE"},q={},m=e.toLowerCase(),p="",h;for(l in zenarioCD.slots)if(!c||l==c||l.substr(0,c.length+1)==c+"-"||l==c.split("-")[0]){var k=zenarioCD.slots[l];if(f||!k.cache_if||!k.cache_if.a||k.disallow_caching){f=!0;break}else{for(h in k.cache_if)k.cache_if[h]||delete n[h];if(k.clear_cache_by)for(h in k.clear_cache_by)k.clear_cache_by[h]&&(q[h]=!0)}}c&&(p=b.pluginDesc(c))&&(p=","+p+",");if(f){if(f="zenario_cache_disabled",
g+='<h1 class="'+f+'">This '+m+a._cdl(p)+" does not support caching.</h1><h2>The developer did not enable support for caching for this "+m+".</h2>",!c){g+="<ul>";for(l in zenarioCD.slots)k=zenarioCD.slots[l],k.cache_if&&k.cache_if.a&&!k.disallow_caching||(q=(q=b.pluginDesc(l))?"Blocked by "+q+" in slot "+l:"Blocked by slot "+l,g+="<li>"+a._cdl(q)+".</li>");g+="</ul>"}}else if("Page"==e&&zenarioCD.load.l)f="zenario_cache_disabled",g+='<h1 class="'+f+'">Location-dependant redirect logic in use on this '+
m+".</h1><h2>This "+m+" cannot be cached but plugins on the "+m+" may still be cached.</h2>";else{f="zenario_cache_in_use";if(zenarioCD.served_from_cache||c&&zenarioCD.slots[c]&&zenarioCD.slots[c].served_from_cache)f="zenario_from_cache";k={c:"COOKIE",s:"SESSION",g:"GET",p:"POST",u:"User"};var l={content:"Content",menu:"Menu",user:"User",file:"File",module:"Module"};c={c:"Cookie*",s:"Session variable\u2020",g:"Additional GET parameters\u2021",p:"POST request",u:"Logged in extranet user",content:"Other content items, any changes to categories",
menu:"Menu nodes",user:"Users, and their group memberships",file:"Images and documents stored in Zenario",module:"Any data added by a module"};g=g+("<h2>The caching rules for this "+m+" are as follows:</h2><table><tr><th>Request contents</th><th>This request</th><th>")+(e+" requirements</th><th>Result</th></tr>");for(h in k)(e=zenarioCD.load[h]&&!n[h])&&(f="zenario_not_cached"),g+="<tr><th>"+a._cdl(c[h])+"</th>",g+="<td>"+(zenarioCD.load[h]?"Yes":"No")+"</td>",g+='<td class="zenario_cache_req">'+
(n[h]?"Either":"No")+"</td>",g+="<td>"+(e?"Can't cache":"OK to cache")+"</td></tr>";g+='<tr class="zenario_cache_table_last_row"><th>Result</th><td>&nbsp;</td><td>&nbsp;</td><td>'+("zenario_not_cached"==f?"Can't cache":"OK to cache")+"</td></tr></table>";n=!1;for(h in l)q[h]&&(n||(g+="<h2>This "+m+" will be cleared from the cache when any of the following change:</h2><ul>",n=!0),g+="<li>"+a._cdl(c[h])+"</li>");n&&(g+="</ul>");g="zenario_not_cached"==f?'<h1 class="'+f+'">This '+m+a._cdl(p)+" can be cached, but not in the current situation due to a conflict.</h1>"+
g:"zenario_from_cache"==f?'<h1 class="'+f+'">This '+m+a._cdl(p)+" can be cached and was just served from the cache.</h1>"+g:'<h1 class="'+f+'">This '+m+a._cdl(p)+" can be cached. It was served from the database but has now been written to the cache for further requests.</h1>"+g;g+='<p class="zenario_cache_footnote"><span class="zenario_cache_footnote_character">(*)</span> <em>Some cookies do not affect caching and are ignored in this check. Check the <code>ze::cacheFriendlyCookieVar()</code> function in <code>zenario/basicheader.inc.php</code> to see the logic used.</em></p>';
g+='<p class="zenario_cache_footnote"><span class="zenario_cache_footnote_character">(\u2020)</span> <em>Some session variables do not affect caching and are ignored in this check. Check the <code>ze::cacheFriendlySessionVar()</code> function in <code>zenario/basicheader.inc.php</code> to see the logic used.</em></p>';g+='<p class="zenario_cache_footnote"><span class="zenario_cache_footnote_character">(\u2021)</span> <em>A page is considered unique for caching purposes according to its alias (or its <code>cID</code> and <code>cType</code>), and a &ldquo;<code>page</code>&rdquo; number when pagination is used, and any additional GET parameters such as <code>searchString</code>.</em></p>'}return'<x-zenario-cache-info class="'+
f+'" title="'+a._cdl('<div class="zenario_cache_box">'+g+"</div>")+'"></x-zenario-cache-info>'};b.pluginDesc=function(c){var e,f="";if(e=a.slots[c]){if(e.isVersionControlled)f+=e.moduleClassName;else if(c.split("-")[1])f+="nested "+e.moduleClassName;else{switch(e.moduleClassName){case "zenario_plugin_nest":f+="N";break;case "zenario_slideshow":case "zenario_slideshow_simple":f+="S";break;default:f+="P"}f+=(""+e.instanceId).padStart(2,"0")+" ("+e.moduleClassName+")"}f=" "+f}return f};b.init=function(c){if(!b.inited){var e;
$("div.zenario_slot").each(function(f,g){g.id&&(e=g.id.replace("plgslt_",""))&&zenarioCD.slots[e]&&$(g).prepend('<x-zenario-cache-info class="zenario_cache_info">'+b.box(e,"Plugin",!1)+"</x-zenario-cache-info>")});a.get("zenario_cache_info").innerHTML=b.box("","Page",!c);a._cjm("x-zenario-cache-info.zenario_cache_info *",{tooltipClass:"zenario_cache_info_tooltip",position:{my:"right-2 center",at:"left center",collision:"flipfit"}});b.inited=!0}}})(zenario,zenarioCI);
