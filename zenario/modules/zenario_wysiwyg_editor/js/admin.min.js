zenario.lib(function(s,q,u,m,v,w,e,h,x,y,p,z,A,t,k,n,B,C,c,D,E,F,a){a.summaries={};a.animationsHiddenInEditors=!1;a.hideAnimationsInEditors=function(){a.animationsHiddenInEditors=!0};a.imagesHiddenInEditors=!1;a.hideImagesInEditors=function(){a.imagesHiddenInEditors=!0};a.open=function(b,l,d,c,f,g){if(p.loaded||g){var k=e._sT();h._gSD();var r=$("div#"+l);r.tinymce({script_url:q+e.tinyMCEPath,plugins:["advlist autolink lists link image charmap hr anchor","searchreplace code","nonbreaking zenario_save table contextmenu directionality",
"paste autoresize","colorpicker textcolor visualblocks preview"],image_advtab:!0,visual_table_class:" ",browser_spellcheck:!0,menu:{file:{title:"File",items:""},edit:{title:"Edit",items:"undo redo | cut copy paste | selectall"},insert:{title:"Insert",items:"link image | anchor hr charmap"},view:{title:"View",items:"visualblocks preview"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript"+(h.skinDesc.style_formats?" | formats":"")+" blockquote | removeformat"},
table:{title:"Table",items:"inserttable tableprops deletetable | cell row column"},tools:{title:"Tools",items:"searchreplace | code"}},toolbar:"undo redo | image link unlink | bold italic underline strikethrough forecolor backcolor | removeformat"+(h.skinDesc.style_formats?" | styleselect":"")+" | fontsizeselect | formatselect | numlist bullist | blockquote outdent indent | alignleft aligncenter alignright alignjustify | save save_and_close cancel",statusbar:!1,autoresize_min_height:100,paste_preprocess:h.tinyMCEPasteRreprocess,
inline:!0,zenario_inline_ui:!0,inline_styles:!1,allow_events:!0,allow_script_urls:!0,document_base_url:q,convert_urls:!0,relative_urls:!0,style_formats:h.skinDesc.style_formats,file_browser_callback:h.fileBrowser,init_instance_callback:function(a){e._rLS(r);h._eDDUITM(!0,"",b);t(k)&&(e._sT(k),m.setTimeout(function(){e._sT(k)},0));a.focus()}});a.summaries[b]={locked:d,empty:c,matches:f};m.zenarioEditorSave=function(b){a.saveViaAJAX(n(b.id),!0)};m.zenarioEditorSaveAndContinue=function(b){a.saveViaAJAX(n(b.id))};
m.zenarioEditorCancel=function(b){a.close(n(b.id))};e.startPoking(a)}else p.runOnInit.push(function(){a.open(b,l,d,c,f,!0)})};a.saveViaAJAX=function(b,l,d,m){var f;"string"==typeof b?(f=b,b=n(b)):f=b.id;var g=e._gCIFE(b);b=e._gSFE(b);if(d||!a.summaries[g]||a.summaries[g].locked)d&&!m&&(a.summaries[g]=!1);else{if(a.summaries[g].empty){a.floatingMessage(c.saveSyncSummaryPrompt,'<input type="button" class="submit_selected" value="'+c.saveSyncSummary+'" onclick="zenario_wysiwyg_editor.saveViaAJAX(\''+
f+"', "+k(l)+', true, true);" /><input type="button" class="submit_selected" value="'+c.saveDontSyncSummary+'" onclick="zenario_wysiwyg_editor.saveViaAJAX(\''+f+"', "+k(l)+', true, false);" /><input type="button" class="submit" value="'+c.cancel+'"/>',!0);return}if(a.summaries[g].matches){a.floatingMessage(c.saveUpdateSummaryPrompt,'<input type="button" class="submit_selected" value="'+c.saveUpdateSummary+'" onclick="zenario_wysiwyg_editor.saveViaAJAX(\''+f+"', "+k(l)+', true, true);" /><input type="button" class="submit_selected" value="'+
c.saveDontUpdateSummary+'" onclick="zenario_wysiwyg_editor.saveViaAJAX(\''+f+"', "+k(l)+', true, false);" /><input type="button" class="submit" value="'+c.cancel+'"/>',!0);return}}g=n(g+"_save_link").value;f=e._tMGC($("div#"+f).tinymce());(d=a.AJAX(g,{_zenario_save_content_:1,_sync_summary:k(d&&m),content__content:e._eIIFO(f)},!0))?a.floatingMessage(d,!0,"error"):l?a.doClose(b):h._n(c.contentSaved)};a.notification=function(a,c){var d=$("div#"+a).tinymce();d&&d.notificationManager&&d.notificationManager.open(c)};
a.close=function(b){b=e._gCIFE(b);b=e._gSFE(n(b));a.floatingMessage(c.closeEditorWarning,'<input type="button" class="submit_selected" value="'+c.abandonChanges+'" onclick="zenario_wysiwyg_editor.doClose(\''+b+'\');" /><input type="button" class="submit" value="'+c.cancel+'"/>',!0)};a.doClose=function(b){e.stopPoking(a);$("#zenario_editor_toolbar").html("").hide();a.refreshPluginSlot(b,s,!1);p.init()};a.listenForDoubleClick=function(a,c,d){$("div#"+c).off("dblclick").on("dblclick",function(){"edit"==
h.toolbar&&$(d).click()});$("#"+c+"-wrap").addClass("zenario_showDoubleClickInEditMode")}},zenario_wysiwyg_editor);
