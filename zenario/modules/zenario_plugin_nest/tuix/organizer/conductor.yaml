# You must use a tab-size of 4 spaces to edit this file.
---
zenario__modules:
    panels:
        conductor:
            panel_type: network_graph
            key:
                instanceId: ''
            #db_items:
            #    table: |
            #        [[DB_NAME_PREFIX]]nested_plugins AS np
            #        LEFT JOIN [[DB_NAME_PREFIX]]nested_plugins AS p
            #           ON p.instance_id = np.instance_id
            #          AND p.is_slide = 1
            #          AND p.tab = np.tab
            #    id_column: np.id
            refiners:
                nest:
                    sql: 'np.instance_id = [[REFINER_ID]]'
            refiner_required: true
            disable_periodic_refresh: true
                    
            columns:
                id:
                    title: Id
                label:
                    title: Name
                    show_by_default: true

            #item:
            #    name: Nested slide/plugin
            #    names: Nested slides and plugins
            #    tooltip: >
            #        To reorder items, simply drag and drop.
            #        Changes will take effect immediately.
            
            
            cytoscape: {}
            
            collection_buttons:
                do_save_positions:
                    hidden: true
                    ajax:
                        request:
                            save_positions: 1
                save_positions:
                    only_show_on_refiner: nest
                    visible_if: |
                        zenarioO.tuix.positionsChanged
                    label: ðŸ’¾ Save positions
                    onclick: |
                        zenarioO.collectionButtonClick('do_save_positions', {positions: JSON.stringify(zenarioO.tuix.positions)});
                reset_positions:
                    only_show_on_refiner: nest
                    visible_if: |
                        !_.isEmpty(zenarioO.tuix.positions)
                    label: âœ˜ Reset positions
                    ajax:
                        confirm:
                            button_message: Reset positions
                            cancel_button_message: Cancel
                            message_type: warning
                            message: |
                                This will auto-arrange all of the nodes, clearing theit saved positions.
                                
                                Are you sure you wish to continue?
                        request:
                            reset_positions: 1
            item_buttons:
                tab_settings:
                    only_show_on_refiner: nest
                    label: Slide properties
                    visible_if: |
                        item.type == 'slide'
                    admin_box:
                        path: zenario_slide
                add_state:
                    only_show_on_refiner: nest
                    label: Add alternate state to slide (advanced)
                    visible_if: |
                        item.type == 'slide'
                    ajax:
                        request:
                            add_state: 1
                add_path:
                    only_show_on_refiner: nest
                    label: Add path to...
                    visible_if: |
                        item.type == 'state'
                    hide_when_children_are_not_visible: true
                
                path_properties:
                    only_show_on_refiner: nest
                    label: Path properties
                    visible_if: |
                        item.type == 'path'
                    admin_box:
                        path: zenario_path
                redirect_path:
                    only_show_on_refiner: nest
                    label: Redirect path to...
                    visible_if: |
                        item.type == 'path'
                    hide_when_children_are_not_visible: true
                    
                delete_path:
                    only_show_on_refiner: nest
                    label: Delete path
                    visible_if: |
                        item.type == 'path'
                    ajax:
                        request:
                            delete_path: 1
                        confirm:
                            html: true
                            button_message: Delete
                            cancel_button_message: Cancel
                            message_type: warning
                            message: |
                                Are you sure you wish to delete the path from state [[from_state]] to state [[to_state]]?
                                
                                This will immediately delete the path.
                delete_state:
                    only_show_on_refiner: nest
                    label: Delete state
                    visible_if: |
                        item.type == 'state' && item.can_delete
                    ajax:
                        request:
                            delete_state: 1
                        confirm:
                            html: true
                            button_message: Delete
                            cancel_button_message: Cancel
                            message_type: warning
                            message: |
                                Are you sure you wish to delete state [[label]]?
                                
                                This will immediately delete the state,
                                as well as any paths that go through it.
                
                save_positions:
                    only_show_on_refiner: nest
                    visible_if: |
                        zenarioO.tuix.positionsChanged
                    label: ðŸ’¾ Save positions
                    onclick: |
                        zenarioO.collectionButtonClick('do_save_positions', {positions: JSON.stringify(zenarioO.tuix.positions)});
                reset_positions:
                    only_show_on_refiner: nest
                    visible_if: |
                        !_.isEmpty(zenarioO.tuix.positions)
                    label: âœ˜ Reset positions
                    ajax:
                        confirm:
                            button_message: Reset positions
                            cancel_button_message: Cancel
                            message_type: warning
                            message: |
                                This will auto-arrange all of the nodes, clearing theit saved positions.
                                
                                Are you sure you wish to continue?
                        request:
                            reset_positions: 1
