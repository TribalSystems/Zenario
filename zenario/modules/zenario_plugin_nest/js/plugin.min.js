'use strict';zenario.lib(function(w,y,z,u,A,B,g,C,v,D,E,F,G,p,H,I,J,K,L,M,N,q,t,d){t.embed=function(a){$.colorbox({transition:"none",html:g._mT("embed_slide",a),className:"embed_slide_popout"})};t.addJavaScript=function(a,b){u[a]&&u[a].jsLoaded||g._aPJS(b,!0)};var l=d.slots={},k=d.getSlot=function(a){if(!p(a)){for(var b in l)if(q(l,b))return a=l[b];return{exists:!1}}a=a&&a.slotName||g._gSFE(a);l[a]||(l[a]={slotName:a,commands:{},exists:!1,autoRefreshTimer:!1,vars:{}});return l[a]},x=d.getCommand=
function(a,b){"string"==typeof a&&(a=k(a));return"string"==typeof b?a.commands[b]:b};d.setCommands=function(a,b,c,e){a=k(a);a.exists=!0;a.state=c;a.commands=b||{};a.checkChangedOnClose=a.confirmOnClose=a.confirmOnCloseMessage=!1;d._seVa(a,e)};d.setVars=function(a,b){a=k(a);b=b||{};d._cR(b||{});a.vars[a.state]=b};d.setVar=function(a,b,c,e){a=k(a);a.vars[a.state]||(a.vars[a.state]={});a.vars[a.state][b]=c;e&&(e=d._re(a,"refresh"),e[b]=c,g._rRIU(a.slotName,e))};d.getVars=function(a){a=k(a);return a.vars[a.state]||
{}};d.getVar=function(a,b){a=k(a);return(a.vars[a.state]||{})[b]};d.getToggles=function(a){return v._cTO(d._gV(a,"toggles")||"",".")};d.getToggle=function(a,b){return d._geTo(a)[b]};d.setToggle=function(a,b,c,e){a=k(a);var f=d._geTo(a);c?f[b]=!0:delete f[b];d._sV(a,"toggles",_._k(f).join("."),e)};d.toggleClick=function(a,b,c,e,f,h){var n=$(a);c=$("#"+c);var m=c.is(":visible");p(h)&&m==h||(a.type&&"checkbox"==a.type||(m?n.removeClass("zfea_toggle_on").addClass("zfea_toggle_off"):n.removeClass("zfea_toggle_off").addClass("zfea_toggle_on")),
f||(m=!m),d._sT(n[0],b,m,!0),c.slideToggle(e||100))};d.openToggle=function(a,b,c,e,f){d.toggleClick(a,b,c,e,f,!0)};d.closeToggle=function(a,b,c,e,f){d.toggleClick(a,b,c,e,f,!1)};d.resetVarsOnBackNav=function(a,b){if(b&&b.descendants)for(di in b.descendants)q(b.descendants,di)&&(ds=b.descendants[di],delete a.vars[ds]);delete a.vars[a.state]};d.resetVarsOnBrowserBackNav=function(){var a;for(a in l)if(q(l,a)){var b=l[a];d._rVOBN(b,b.commands.back)}};d.confirmOnCloseMessage=function(){var a;for(a in l)if(q(l,
a)){var b=l[a];if(b.exists&&_._isFu(b.checkChangedOnClose)&&b.checkChangedOnClose())return b.confirmOnCloseMessage}return w};d.transitionIn=function(a,b){a=k(a);a=$("#plgslt_"+a.slotName).find(".nest_plugins_wrap").css("position","relative");var c=b.options||{};_._isSt(c.duration)&&(c.duration*=1);_._isAr(c.easing)&&(c.easing=$.bez(c.easing));b.initial&&a.css(b.initial);b.animate&&a.animate(b.animate,c)};d.transitionOut=function(a,b){a=k(a);if(b&&b.animate){var c=$("#plgslt_"+a.slotName),e=c.cloneProperly().attr("id",
"").css("position","absolute").css("z-index",2).addClass("zenario_conductor_slot_dummy_for_transition").width(c.width()).height(c.height()).insertBefore(c);a=c.find(".nest_plugins_wrap");var f=e.find(".nest_plugins_wrap").css("position","relative").addClass("zenario_conductor_slide_dummy_for_transition"),h=b.options||{};b=b.animate;var n=c.height(),m=c.css("min-height");_._isSt(h.duration)&&(h.duration*=1);_._isAr(h.easing)&&(h.easing=$.bez(h.easing));p(b.left)&&f.css("right","");p(b.right)&&f.css("left",
"");p(b.top)&&f.css("bottom","");p(b.bottom)&&f.css("top","");h.complete=function(){e.remove();c.css("min-height",m)};c.css("min-height",n+"px");f.animate(b,h);a.hide()}};d.confirmOnClose=function(a,b,c,e){a=k(a);a.exists&&(a.checkChangedOnClose=b,a.confirmOnClose=c,a.confirmOnCloseMessage=e)};d.go=function(a,b,c,e){a=k(a);if(a.exists){a.autoRefreshTimer&&"refresh"!=b&&d._sAR(a.slotName);var f=a.commands[b],h=!0;$("#plgslt_"+a.slotName+" .zenario_embedded_ace_editor").remove();f.cID?("submit"==b&&
(a.checkChangedOnClose=!1),g._gTU(d._lTOCI(a,f,c))):("back"==b?(d._rVOBN(a,f),d._tO(a,{animate:{opacity:0},options:{duration:400}})):"refresh"==b?h=!1:d._tO(a,{animate:{opacity:0,right:"150%"},options:{duration:400}}),g._rPS(a.slotName,"lookup",d._re(a,f,c),!0,h).after(function(){"back"==b?d._tI(a,{initial:{opacity:0},animate:{opacity:1,right:0},options:{duration:1E3}}):"refresh"!=b&&d._tI(a,{initial:{opacity:0,left:"150%"},animate:{opacity:1,left:0},options:{duration:800,easing:[.3,.7,0,1.05]}});
e&&e()}));return!0}};d.autoRefresh=function(a,b){var c=k(a);$("div.slot."+a).addClass("auto_refreshing");!1===c.autoRefreshTimer&&(g._rS(a),c.autoRefreshTimer=setInterval(function(){g._rS(a)},1E3*b))};d.stopAutoRefresh=function(a){var b=k(a);clearInterval(b.autoRefreshTimer);b.autoRefreshTimer=!1;$("div.slot."+a).removeClass("auto_refreshing")};d.refresh=function(a){return d.go(a,"refresh")};d.refreshAll=function(){var a;for(a in l)if(q(l,a)){var b=l[a];a&&d._r(b)}};d.reloadAfterDelay=function(a,
b){g._aADINS(d,function(){d._r(b)},a)};d.enabled=function(a){a=k(a);return a.exists};d.commandEnabled=function(a,b){a=k(a);if(a.exists){var c;b=v._tTA(b);for(c in b)if(q(b,c)){var e=b[c];if(a.commands[e])return e}}return!1};d.linkToOtherContentItem=function(a,b,c){a=b.toState;var e=b.cID;b=b.cType;c=g._tO(c,!0);d._cR(c);a==1*a?c.slideNum=a:c.state=a;return g._lTI(e,b,c)};d.request=function(a,b,c){a=k(a);b=x(a,b);c=g._tO(c,!0);var e=a.state,f=b.toState;a=a.vars[f];var h=b.dRequests,n=b.bVar,m=b.hVar;
a=_._ex({},a||{},h);if(f==e)_._ex(a,c);else if(!_._isEm(c)&&"back"!=b.command){for(r in h)q(h,r)&&p(c[r])&&(a[r]=c[r]);""!==n&&!a[n]&&p(c[m])&&(a[n]=c[m])}if(m&&n&&a[n])for(delete a[m],b=1;9>b;++b){var r=m+b;r!=n&&delete a[r]}d._cR(a);a.state=f;return a};d.cleanRequests=function(a){var b;if(!_._isEm(a))for(b in a)if(q(a,b)){var c=a[b];""!==c&&0!==c&&!1!==c&&p(c)||delete a[b]}delete a.cID;delete a.cType;delete a.cVersion;delete a.visLang;"showSingleSlot"!=a.method_call&&(delete a.method_call,delete a.slotName,
delete a.instanceId);delete a.state;delete a.slideId;delete a.slideNum;delete a.mode;delete a.path};d.mergeRequests=function(a,b){k(a)};d.link=function(a,b,c){a=k(a);var e;return a.exists&&(e=a.commands[b])?e.cID?d._lTOCI(a,e,c):g._lTI(g.cID,g.cType,d._re(a,e,c)):!1};d.backLink=function(a){a=k(a);return a.exists&&d._l(a,"back")};d.goBack=function(a,b){a=k(a);a.exists&&(!b&&_._isFu(a.checkChangedOnClose)&&_._isFu(a.confirmOnClose)&&a.checkChangedOnClose()?a.confirmOnClose(function(){d._gB(a,!0)}):
d.go(a,"back",{}))};d.initSlideInfoPopout=t.initSlideInfoPopout=function(a,b,c){var e=g._gSFE(a),f=g.slots[e],h=d._gS(e);b={cID:g.cID,cType:g.cType,cVersion:g.cVersion,state:h.state,slotName:e,instanceId:f.instanceId,slideId:f.slideId,slideLayoutId:b,commands:JSON.stringify(_._k(h.commands))};return zenario_abstract_fea.initPopout("zenario_plugin_nest",zenarioAWF,"zenario_slide_info","slide_info","zenario_slide_info",a,b,c,!0)};t.setSlideControlWidth=function(a){a=$("#"+a);var b=a.find("x-zenario-superuser-slide-controls");
b.css("margin-left",Math.floor((a.width()-b.width())/2)+"px").css("visibility","visible")};g._sN(d,!0)},zenario_plugin_nest,zenario_conductor);
