zenario.lib(function(t,w,x,r,y,z,f,A,u,B,C,D,E,n,F,G,H,I,J,K,L,p,s,c){s.embed=function(a){$.colorbox({transition:"none",html:f._mT("embed_slide",a),className:"embed_slide_popout"})};s.addJavaScript=function(a,b){r[a]&&!_._isEm(r[a].slots)||f._aPJS(b,!0)};var g=c.slots={},h=c.getSlot=function(a){if(!n(a)){for(var b in g)if(p(g,b))return a=g[b];return{exists:!1}}a=a&&a.slotName||f._gSFE(a);g[a]||(g[a]={slotName:a,commands:{},exists:!1,vars:{}});return g[a]},v=c.getCommand=function(a,b){"string"==typeof a&&
(a=h(a));return"string"==typeof b?a.commands[b]:b};c.setCommands=function(a,b,e,d){a=h(a);a.exists=!0;a.state=e;a.commands=b||{};a.checkChangedOnClose=a.confirmOnClose=a.confirmOnCloseMessage=!1;c._sV(a,d)};c.setVars=function(a,b){a=h(a);b=b||{};c._cR(b||{});a.vars[a.state]=b};c.confirmOnCloseMessage=function(){var a,b;for(a in g)if(p(g,a)&&(b=g[a],b.exists&&_._isFu(b.checkChangedOnClose)&&b.checkChangedOnClose()))return b.confirmOnCloseMessage;return t};c.transitionIn=function(a,b){a=h(a);var e=
$("#plgslt_"+a.slotName).find(".nest_plugins_wrap").css("position","relative"),c=b.options||{};_._iS(c.duration)&&(c.duration*=1);_._isAr(c.easing)&&(c.easing=$.bez(c.easing));b.initial&&e.css(b.initial);b.animate&&e.animate(b.animate,c)};c.transitionOut=function(a,b){a=h(a);if(b&&b.animate){var c=$("#plgslt_"+a.slotName),d=c.cloneProperly().attr("id","").css("position","absolute").css("z-index",2).addClass("zenario_conductor_slot_dummy_for_transition").width(c.width()).height(c.height()).insertBefore(c),
f=c.find(".nest_plugins_wrap"),k=d.find(".nest_plugins_wrap").css("position","relative").addClass("zenario_conductor_slide_dummy_for_transition"),l=b.options||{},m=b.animate,g=c.height(),p=c.css("min-height");_._iS(l.duration)&&(l.duration*=1);_._isAr(l.easing)&&(l.easing=$.bez(l.easing));n(m.left)&&k.css("right","");n(m.right)&&k.css("left","");n(m.top)&&k.css("bottom","");n(m.bottom)&&k.css("top","");l.complete=function(){d.remove();c.css("min-height",p)};c.css("min-height",g+"px");k.animate(m,
l);f.hide()}};c.confirmOnClose=function(a,b,c,d){a=h(a);a.exists&&(a.checkChangedOnClose=b,a.confirmOnClose=c,a.confirmOnCloseMessage=d)};c.go=function(a,b,e){a=h(a);if(a.exists){this.autoRefreshTimer&&c._sAR(a.slotName);var d=a.commands[b],g,k;$("#plgslt_"+a.slotName+" .zenario_embedded_ace_editor").remove();if(d.cID)"submit"==b&&(a.checkChangedOnClose=!1),f._gTU(c._lTOCI(a,d,e));else{if("back"==b){for(g in d.descendants)p(d.descendants,g)&&(k=d.descendants[g],delete a.vars[k]);delete a.vars[a.state];
c._tO(a,{animate:{opacity:0},options:{duration:400}})}else"refresh"!=b&&c._tO(a,{animate:{opacity:0,right:"150%"},options:{duration:400}});f._rPS(a.slotName,"lookup",c._re(a,d,e),!0).after(function(){"back"==b?c._tI(a,{initial:{opacity:0},animate:{opacity:1,right:0},options:{duration:1E3}}):"refresh"!=b&&c._tI(a,{initial:{opacity:0,left:"150%"},animate:{opacity:1,left:0},options:{duration:800,easing:[0.3,0.7,0,1.05]}})})}return!0}};c.autoRefreshTimer=!1;c.autoRefresh=function(a,b){$("div.slot."+a).addClass("auto_refreshing");
!1===this.autoRefreshTimer&&(f._rS(a),this.autoRefreshTimer=setInterval(function(){f._rS(a)},1E3*b))};c.stopAutoRefresh=function(a){clearInterval(this.autoRefreshTimer);this.autoRefreshTimer=!1;$("div.slot."+a).removeClass("auto_refreshing")};c.refresh=function(a){return c.go(a,"refresh")};c.reloadAfterDelay=function(a,b){f._aADINS(c,function(){c._r(b)},a)};c.enabled=function(a){a=h(a);return a.exists};c.commandEnabled=function(a,b){a=h(a);if(a.exists){var c,d;b=u._tTA(b);for(c in b)if(p(b,c)&&(d=
b[c],a.commands[d]))return d}return!1};c.linkToOtherContentItem=function(a,b,e){a=b.toState;var d=b.cID;b=b.cType;e=f._tO(e,!0);c._cR(e);a==1*a?e.slideNum=a:e.state=a;return f._lTI(d,b,e)};c.request=function(a,b,e){a=h(a);b=v(a,b);e=f._tO(e,!0);var d,g=a.state,k=b.toState;a=a.vars[k];var l=b.dRequests,m=b.bVar,q=b.hVar;a=_._ex({},a||{},l);if(k==g)_._ex(a,e);else if(!_._isEm(e)&&"back"!=b.command){for(d in l)p(l,d)&&n(e[d])&&(a[d]=e[d]);""!==m&&!a[m]&&n(e[q])&&(a[m]=e[q])}if(q&&m&&a[m])for(delete a[q],
b=1;9>b;++b)d=q+b,d!=m&&delete a[d];c._cR(a);a.state=k;return a};c.cleanRequests=function(a){var b,c;if(!_._isEm(a))for(b in a)p(a,b)&&(c=a[b],""!==c&&0!==c&&!1!==c&&n(c)||delete a[b]);delete a.cID;delete a.cType;delete a.cVersion;delete a.visLang;"showSingleSlot"!=a.method_call&&(delete a.method_call,delete a.slotName,delete a.instanceId);delete a.state;delete a.slideId;delete a.slideNum;delete a.mode;delete a.path};c.mergeRequests=function(a,b){h(a)};c.link=function(a,b,e){a=h(a);var d;return a.exists&&
(d=a.commands[b])?d.cID?c._lTOCI(a,d,e):f._lTI(f.cID,f.cType,c._re(a,d,e)):!1};c.backLink=function(a){a=h(a);return a.exists&&c._l(a,"back")};c.goBack=function(a,b){a=h(a);a.exists&&(!b&&_._isFu(a.checkChangedOnClose)&&_._isFu(a.confirmOnClose)&&a.checkChangedOnClose()?a.confirmOnClose(function(){c._gB(a,!0)}):c.go(a,"back",{},!0))};f._sN(c,!0)},zenario_plugin_nest,zenario_conductor);
