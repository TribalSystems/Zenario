zenario.lib(function(d,m,n,p,q,r,s,g,f,t,a,h,u,k,v,w,l,x,y,c){c.saveAsSmartGroup=function(a){f.validate(d,d,d,function(){if(!f.errorOnBox()){var e=d,b=c.JSON("",{confirm:a,save_smart_group:!0,name:h("name").value,values:f.getValueArrayofArrays(!0)},!0);b&&b.message&&(b.confirm_button_message&&(e='<input type="button" value="'+k(b.confirm_button_message)+'" class="submit_selected" onclick="zenario_users.saveAsSmartGroup(true);"><input type="button" class="submit" value="'+l.cancel+'"/>'),b.message&&
g.showMessage(b.message,e,b.message_type,!1,!0))}})};c.showCreateSmartGroupFromAdvancedSearch=function(){return a.advancedSearch&&a.prefs[a.voPath]&&a.prefs[a.voPath].adv_searches[a.advancedSearch]};c.createSmartGroupFromAdvancedSearch=function(){c.manageSmartGroup(!1,a.prefs[a.voPath].adv_searches[a.advancedSearch])};c.createSmartGroup=function(){c.manageSmartGroup(!1)};c.editSmartGroup=function(){c.manageSmartGroup(!0)};c.manageSmartGroup=function(g,e){var b=!1;e!==d||g&&(b=a.getKeyId(!0))&&(e=
c.JSON("",{load_smart_group:!0,id:b}))||(e={});f.open("advanced_search",{storekeeper_path:"zenario__users/panels/users",zenario_pro_features__editing_smart_group:!0,zenario_pro_features__smart_group_id:b},d,e,function(e,d){(b=(json=c.JSON("",{confirm:!0,save_smart_group:!0,id:b,name:d.first_tab.name,values:JSON.stringify(d)},!0))&&json.id?json.id:!1)&&("zenario__users/panels/smart_groups"==a.path?a.refreshToShowItem(b):a.go("zenario__users/panels/smart_groups/group_members//"+b+"//"))})}},zenario_users);
