(function(f,g,b,c){b.saveAsSmartGroup=function(e){zenarioAB.validate(c,c,c,function(){if(!zenarioAB.errorOnBox()){var d=c,a=b.JSON("",{confirm:e,save_smart_group:!0,name:f.get("name").value,values:zenarioAB.getValueArrayofArrays(!0)},!0);a&&a.message&&(a.confirm_button_message&&(d='<input type="button" value="'+f.htmlspecialchars(a.confirm_button_message)+'" class="submit_selected" onclick="zenario_users.saveAsSmartGroup(true);"><input type="button" class="submit" value="'+g.phrase.cancel+'"/>'),
a.message&&g.showMessage(a.message,d,a.message_type,!1,!0))}})};b.showCreateSmartGroupFromAdvancedSearch=function(){return zenarioO.advancedSearch&&zenarioO.prefs[zenarioO.voPath]&&zenarioO.prefs[zenarioO.voPath].adv_searches[zenarioO.advancedSearch]};b.createSmartGroupFromAdvancedSearch=function(){b.manageSmartGroup(!1,zenarioO.prefs[zenarioO.voPath].adv_searches[zenarioO.advancedSearch])};b.createSmartGroup=function(){b.manageSmartGroup(!1)};b.editSmartGroup=function(){b.manageSmartGroup(!0)};b.manageSmartGroup=
function(e,d){var a=!1;d!==c||e&&(a=zenarioO.getKeyId(!0))&&(d=b.JSON("",{load_smart_group:!0,id:a}))||(d={});zenarioAB.open("advanced_search",{storekeeper_path:"zenario__users/panels/users",zenario_pro_features__editing_smart_group:!0,zenario_pro_features__smart_group_id:a},c,d,function(d,c){(a=(json=b.JSON("",{confirm:!0,save_smart_group:!0,id:a,name:c.first_tab.name,values:JSON.stringify(c)},!0))&&json.id?json.id:!1)&&("zenario__users/panels/smart_groups"==zenarioO.path?zenarioO.refreshToShowItem(a):
zenarioO.go("zenario__users/panels/smart_groups/group_members//"+a+"//"))})}})(zenario,zenarioA,zenario_users);
