(function(a,k,p,q){function h(b,d){this.element=b;this.$elem=a(this.element);this.options=a.extend({},n,d);this.init()}var n={resizeWidth:"768",collapserTitle:"Main Menu",animSpeed:"medium",easingEffect:null,indentChildren:!1,childrenIndenter:"&nbsp;&nbsp;"};h.prototype={init:function(){var b=this.options,d=this.$elem;d.before('<div class="menu-collapser">'+b.collapserTitle+'<div class="collapse-button"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></div></div>');
var c=d.prev(".menu-collapser");d.on("click",".sub-collapser",function(e){e.preventDefault();e.stopPropagation();e=a(this).closest("li");a(this).hasClass("expanded")?(a(this).removeClass("expanded"),a(this).find("i").html(""),e.find(">ul").slideUp(b.animSpeed,b.easingEffect)):(a(this).addClass("expanded"),a(this).find("i").html(""),e.find(">ul").slideDown(b.animSpeed,b.easingEffect))});c.on("click",".collapse-button",function(e){e.preventDefault();a(this).toggleClass("on");d.slideToggle(b.animSpeed,
b.easingEffect)});this.resizeMenu({data:{el:this.element,options:this.options}});var f=this,g=g=a(k),l=g.width();g.on("resize",{el:this.element,options:this.options},function(e){var m=g.width();m!=l&&(f.resizeMenu(e),l=m)})},resizeMenu:function(b){var d=a(k),c=b.data.options;b=a(b.data.el);var f=a("body").find(".menu-collapser");b.find("li").each(function(){a(this).has("ul").length&&(a(this).has(".sub-collapser").length?a(this).children(".sub-collapser i").html(""):a(this).append('<span class="sub-collapser"><i></i></span>'));
a(this).children("ul").hide();a(this).find(".sub-collapser").removeClass("expanded").children("i").html("")});c.resizeWidth>=d.width()?(c.indentChildren&&b.find("ul").each(function(){var g=a(this).parents("ul").length;a(this).children("li").children("a").has("i").length||a(this).children("li").children("a").prepend(h.prototype.indent(g,c))}),b.find("li").has("ul").off("mouseenter mouseleave"),b.addClass("collapsed").hide(),f.show()):(b.find("li").has("ul").on("mouseenter",function(){a(this).find(">ul").stop().slideDown(c.animSpeed,
c.easingEffect)}).on("mouseleave",function(){a(this).find(">ul").stop().slideUp(c.animSpeed,c.easingEffect)}),b.find("li > a > i").remove(),b.removeClass("collapsed").show(),f.hide())},indent:function(b,d){for(var c="",f=0;f<b;f++)c+=d.childrenIndenter;return"<i>"+c+"</i>"}};a.fn.slimmenu=function(b){return this.each(function(){a.data(this,"plugin_slimmenu")||a.data(this,"plugin_slimmenu",new h(this,b))})}})(jQuery,window,document);
