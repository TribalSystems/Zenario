(function(c){c.fn.jPaginator=function(B){1!=this.length&&c.error("You must use this plugin with a unique element");var a={selectedPage:null,nbPages:100,nbVisible:10,widthPx:30,marginPx:1,overBtnLeft:null,overBtnRight:null,maxBtnLeft:null,maxBtnRight:null,withSlider:!0,withAcceleration:!0,speed:2,coeffAcceleration:2,minSlidesForSlider:3,onPageClicked:null},f=0,p=1,m=0,g=0,h=0,k=0,l=!1,u=!1,v=!1,w=!0;return this.each(function(){function E(b){b=1*b.html();e.find(".paginator_p.selected").removeClass("selected");
a.selectedPage=b;c(e.find(".paginator_p_bloc .paginator_p").get(a.selectedPage-p+1)).addClass("selected");a.onPageClicked&&a.onPageClicked.call(this,e,a.selectedPage)}function n(b){e.find(".paginator_p.selected").removeClass("selected");b=Math.min(a.nbPages-a.nbVisible+1,b);b=Math.max(1,b);var d=b-2;e.find(".paginator_p_bloc .paginator_p").each(function(q){d+=1;c(this).html(d);c(this).attr("data-length",(""+d).length);a.selectedPage==d&&c(this).addClass("selected")});e.find(".paginator_p_bloc").css("left",
"-"+f+"px");p=b;h=(b-1)*f;m=0}function r(b){e.find(".paginator_slider").slider();b=Math.round(b/g*100);var d=e.find(".paginator_slider").slider("option","value");"number"!=typeof b||isNaN(b)||b==d||e.find(".paginator_slider").slider("option","value",b)}function C(b,d){w&&!l&&(b=d.value,b=Math.min(100,b),b=Math.max(0,b),d=Math.round(g*b/100)-h,100==b?n(a.nbPages-a.nbVisible+1):0==b?n(1):x(d))}function x(b){var d=m+b,q=Math.abs(b)/b*Math.floor(Math.abs(d)/f);m=d%=f;var t=(p-1)*f+m,y=p+q;1>y&&(t=-1);
y>a.nbPages&&(t=g+1);0>t?(n(1),m=h=0,r(0),u=!0,k=0,l=!1):t>g?(n(a.nbPages),h=g,m=0,r(g),v=!0,k=0,l=!1):(v=u=!1,h=t,0!=b&&(0!=q&&n(y),r(h),e.find(".paginator_p_bloc").css("left",-1*d-f+"px")))}function z(b){if(!v||"right"!=b)if(!u||"left"!=b){var d=Math.round(g/10);"left"==b&&(d*=-1);x(d);setTimeout(function(){k+=1;z(b)},20)}}function A(b){if(l){var d=Math.min(Math.abs(a.speed),5),q=Math.min(Math.abs(a.coeffAcceleration),5);a.withAcceleration&&(d=Math.round(d+Math.round(q*k*k/8E4)));"left"==b&&(d*=
-1);x(d);setTimeout(function(){k+=1;A(b)},10)}}function D(){a.nbVisible=Math.min(a.nbVisible,a.nbPages);e.find(".paginator_p_bloc > .paginator_p").remove();for(i=1;i<=a.nbVisible+2;i++)e.find(".paginator_p_bloc").append(c("<a class='paginator_p'></a>"));var b=a.nbVisible<a.nbPages;a.overBtnLeft&&(b?c(a.overBtnLeft).show():c(a.overBtnLeft).hide());a.overBtnRight&&(b?c(a.overBtnRight).show():c(a.overBtnRight).hide());a.maxBtnLeft&&(b?c(a.maxBtnLeft).show():c(a.maxBtnLeft).hide());a.maxBtnRight&&(b?
c(a.maxBtnRight).show():c(a.maxBtnRight).hide());if(b){b=Math.ceil(a.nbPages/a.nbVisible);var d=a.withSlider;(d=b<a.minSlidesForSlider?!1:a.withSlider)?(e.find(".paginator_slider").show(),e.find(".paginator_slider").children().show()):(e.find(".paginator_slider").hide(),e.find(".paginator_slider").children().hide())}else e.find(".paginator_slider").hide(),e.find(".paginator_slider").children().hide();b=0;d=e.find(".paginator_p").first().css("border-left-width");0<d.indexOf("px")&&(b=1*d.replace("px",
""));f=a.widthPx+2*a.marginPx+2*b;b=1*f*a.nbVisible;e.find(".paginator_p").css("width",a.widthPx+"px");e.find(".paginator_p").css("margin","0 "+a.marginPx+"px 0 "+a.marginPx+"px");e.find(".paginator_p_wrap").css("width",b+"px");e.find(".paginator_slider").css("width",b+"px");g=a.nbPages*f-a.nbVisible*f;a.selectedPage=Math.min(a.selectedPage,a.nbPages);n(a.selectedPage-Math.floor((a.nbVisible-1)/2));w=!1;r(h);w=!0;a.selectedPage&&c(e.find(".paginator_p_bloc .paginator_p").get(a.selectedPage-p+1)).addClass("selected");
e.find(".paginator_p").bind("click.jPaginator",function(){return E(c(this))})}var e=c(this);B&&c.extend(a,B);D();c(this).bind("reset",function(b,d){c.extend(a,d);D()});a.withSlider&&(e.find(".paginator_slider").slider({animate:!1}),e.find(".paginator_slider").bind("slidechange.jPaginator",function(b,d){return C(b,d)}),e.find(".paginator_slider").bind("slide.jPaginator",function(b,d){return C(b,d)}),a.nbVisible<a.nbPages&&r(h));a.overBtnLeft&&c(a.overBtnLeft).bind("mouseenter.jPaginator",function(){c(this);
l=!0;A("left")});a.overBtnLeft&&c(a.overBtnLeft).bind("mouseleave.jPaginator",function(){c(this);k=0;l=!1});a.overBtnRight&&c(a.overBtnRight).bind("mouseenter.jPaginator",function(){c(this);l=!0;A("right")});a.overBtnRight&&c(a.overBtnRight).bind("mouseleave.jPaginator",function(){c(this);k=0;l=!1});a.maxBtnLeft&&c(a.maxBtnLeft).bind("click.jPaginator",function(){return z("left")});a.maxBtnRight&&c(a.maxBtnRight).bind("click.jPaginator",function(){return z("right")});e.find(".paginator_p").bind("mouseenter.jPaginator",
function(){var b=c(this);e.find(".paginator_p.over").removeClass("over");b.addClass("over")});e.find(".paginator_p").bind("mouseleave.jPaginator",function(){c(this);e.find(".paginator_p.over").removeClass("over")})})}})(jQuery);
