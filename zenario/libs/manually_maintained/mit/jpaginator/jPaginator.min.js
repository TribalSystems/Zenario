(function(b){b.fn.jPaginator=function(z){var f,p,n,h,k,g,l,t,u,m;1!=this.length&&b.error("You must use this plugin with a unique element");var a={selectedPage:null,nbPages:100,nbVisible:10,widthPx:30,marginPx:1,overBtnLeft:null,overBtnRight:null,maxBtnLeft:null,maxBtnRight:null,withSlider:!0,withAcceleration:!0,speed:2,coeffAcceleration:2,minSlidesForSlider:3,onPageClicked:null};f=0;p=1;g=k=h=n=0;u=t=l=!1;m=!0;return this.each(function(){function C(d){d=1*d.html();c.find(".paginator_p.selected").removeClass("selected");
a.selectedPage=d;b(c.find(".paginator_p_bloc .paginator_p").get(a.selectedPage-p+1)).addClass("selected");a.onPageClicked&&a.onPageClicked.call(this,c,a.selectedPage)}function q(d){c.find(".paginator_p.selected").removeClass("selected");d=Math.min(a.nbPages-a.nbVisible+1,d);d=Math.max(1,d);var e=d-2;c.find(".paginator_p_bloc .paginator_p").each(function(d){e+=1;b(this).html(e);b(this).attr("data-length",(""+e).length);a.selectedPage==e&&b(this).addClass("selected")});c.find(".paginator_p_bloc").css("left",
"-"+f+"px");p=d;k=(d-1)*f;n=0}function r(a){c.find(".paginator_slider").slider();a=Math.round(100*(a/h));var e=c.find(".paginator_slider").slider("option","value");"number"!=typeof a||isNaN(a)||a==e||c.find(".paginator_slider").slider("option","value",a)}function A(d,e){if(m&&!l){var b=e.value,b=Math.min(100,b),b=Math.max(0,b),c=Math.round(h*b/100)-k;100==b?q(a.nbPages-a.nbVisible+1):0==b?q(1):w(c)}}function w(d){var b=Math.abs(d)/d,v=n+d,b=b*Math.floor(Math.abs(v)/f);n=v%=f;var s=(p-1)*f+n,m=p+b;
1>m&&(s=-1);m>a.nbPages&&(s=h+1);0>s?(q(1),n=k=0,r(0),t=!0,g=0,l=!1):s>h?(q(a.nbPages),k=h,n=0,r(h),u=!0,g=0,l=!1):(u=t=!1,k=s,0!=d&&(0!=b&&q(m),r(k),c.find(".paginator_p_bloc").css("left",-1*v-f+"px")))}function x(a){if(!u||"right"!=a)if(!t||"left"!=a){var b=Math.round(h/10);"left"==a&&(b*=-1);w(b);setTimeout(function(){g+=1;x(a)},20)}}function y(b){if(l){var c=Math.min(Math.abs(a.speed),5),f=Math.min(Math.abs(a.coeffAcceleration),5);a.withAcceleration&&(c=Math.round(c+Math.round(f*g*g/8E4)));"left"==
b&&(c*=-1);w(c);setTimeout(function(){g+=1;y(b)},10)}}function B(){var d,e;a.nbVisible=Math.min(a.nbVisible,a.nbPages);c.find(".paginator_p_bloc > .paginator_p").remove();for(i=1;i<=a.nbVisible+2;i++)c.find(".paginator_p_bloc").append(b("<a class='paginator_p'></a>"));d=a.nbVisible<a.nbPages;a.overBtnLeft&&(d?b(a.overBtnLeft).show():b(a.overBtnLeft).hide());a.overBtnRight&&(d?b(a.overBtnRight).show():b(a.overBtnRight).hide());a.maxBtnLeft&&(d?b(a.maxBtnLeft).show():b(a.maxBtnLeft).hide());a.maxBtnRight&&
(d?b(a.maxBtnRight).show():b(a.maxBtnRight).hide());d?(d=Math.ceil(a.nbPages/a.nbVisible),e=a.withSlider,(e=d<a.minSlidesForSlider?!1:a.withSlider)?(c.find(".paginator_slider").show(),c.find(".paginator_slider").children().show()):(c.find(".paginator_slider").hide(),c.find(".paginator_slider").children().hide())):(c.find(".paginator_slider").hide(),c.find(".paginator_slider").children().hide());d=0;e=c.find(".paginator_p").first().css("border-left-width");0<e.indexOf("px")&&(d=1*e.replace("px",""));
f=a.widthPx+2*a.marginPx+2*d;d=1*f*a.nbVisible;c.find(".paginator_p").css("width",a.widthPx+"px");c.find(".paginator_p").css("margin","0 "+a.marginPx+"px 0 "+a.marginPx+"px");c.find(".paginator_p_wrap").css("width",d+"px");c.find(".paginator_slider").css("width",d+"px");h=a.nbPages*f-a.nbVisible*f;a.selectedPage=Math.min(a.selectedPage,a.nbPages);q(a.selectedPage-Math.floor((a.nbVisible-1)/2));m=!1;r(k);m=!0;a.selectedPage&&b(c.find(".paginator_p_bloc .paginator_p").get(a.selectedPage-p+1)).addClass("selected");
c.find(".paginator_p").bind("click.jPaginator",function(){return C(b(this))})}var c=b(this);z&&b.extend(a,z);B();b(this).bind("reset",function(c,e){b.extend(a,e);B()});a.withSlider&&(c.find(".paginator_slider").slider({animate:!1}),c.find(".paginator_slider").bind("slidechange.jPaginator",function(a,b){return A(a,b)}),c.find(".paginator_slider").bind("slide.jPaginator",function(a,b){return A(a,b)}),a.nbVisible<a.nbPages&&r(k));a.overBtnLeft&&b(a.overBtnLeft).bind("mouseenter.jPaginator",function(){b(this);
l=!0;y("left")});a.overBtnLeft&&b(a.overBtnLeft).bind("mouseleave.jPaginator",function(){b(this);g=0;l=!1});a.overBtnRight&&b(a.overBtnRight).bind("mouseenter.jPaginator",function(){b(this);l=!0;y("right")});a.overBtnRight&&b(a.overBtnRight).bind("mouseleave.jPaginator",function(){b(this);g=0;l=!1});a.maxBtnLeft&&b(a.maxBtnLeft).bind("click.jPaginator",function(){return x("left")});a.maxBtnRight&&b(a.maxBtnRight).bind("click.jPaginator",function(){return x("right")});c.find(".paginator_p").bind("mouseenter.jPaginator",
function(){var a=b(this);c.find(".paginator_p.over").removeClass("over");a.addClass("over")});c.find(".paginator_p").bind("mouseleave.jPaginator",function(){b(this);c.find(".paginator_p.over").removeClass("over")})})}})(jQuery);
