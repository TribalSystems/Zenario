(function(k){k.fn.addOption=function(){var a=function(b,l,m,r){var n=document.createElement("option");n.value=l;n.text=m;m=b.options;var q=m.length;if(!b.cache){b.cache={};for(var p=0;p<q;p++)b.cache[m[p].value]=p}"undefined"==typeof b.cache[l]&&(b.cache[l]=q);b.options[b.cache[l]]=n;r&&(n.selected=!0)},d=arguments;if(0==d.length)return this;var e=!0,f=!1;if("object"==typeof d[0]){f=!0;var h=d[0]}if(2<=d.length&&("boolean"==typeof d[1]?e=d[1]:"boolean"==typeof d[2]&&(e=d[2]),!f)){var c=d[0];var g=
d[1]}this.each(function(){if("select"==this.nodeName.toLowerCase())if(f)for(var b in h)a(this,b,h[b],e);else a(this,c,g,e)});return this};k.fn.ajaxAddOption=function(a,d,e,f,h){if("string"!=typeof a)return this;"object"!=typeof d&&(d={});"boolean"!=typeof e&&(e=!0);this.each(function(){var c=this;k.getJSON(a,d,function(g){k(c).addOption(g,e);"function"==typeof f&&("object"==typeof h?f.apply(c,h):f.call(c))})});return this};k.fn.removeOption=function(){var a=arguments;if(0==a.length)return this;var d=
typeof a[0];if("string"==d||"object"==d||"function"==d){var e=a[0];if(e.constructor==Array){d=e.length;for(var f=0;f<d;f++)this.removeOption(e[f],a[1]);return this}}else if("number"==d)var h=a[0];else return this;this.each(function(){if("select"==this.nodeName.toLowerCase()){this.cache&&(this.cache=null);var c=!1,g=this.options;if(e)for(var b=g.length-1;0<=b;b--)e.constructor==RegExp?g[b].value.match(e)&&(c=!0):g[b].value==e&&(c=!0),c&&!0===a[1]&&(c=g[b].selected),c&&(g[b]=null),c=!1;else(c=!0===
a[1]?g[h].selected:!0)&&this.remove(h)}});return this};k.fn.sortOptions=function(a){var d=k(this).selectedValues(),e="undefined"==typeof a?!0:!!a;this.each(function(){if("select"==this.nodeName.toLowerCase()){for(var f=this.options,h=f.length,c=[],g=0;g<h;g++)c[g]={v:f[g].value,t:f[g].text};c.sort(function(b,l){o1t=b.t.toLowerCase();o2t=l.t.toLowerCase();return o1t==o2t?0:e?o1t<o2t?-1:1:o1t>o2t?-1:1});for(g=0;g<h;g++)f[g].text=c[g].t,f[g].value=c[g].v}}).selectOptions(d,!0);return this};k.fn.selectOptions=
function(a,d){var e=typeof a;if("object"==e&&a.constructor==Array){var f=this;k.each(a,function(){f.selectOptions(this,d)})}var h=d||!1;if("string"!=e&&"function"!=e&&"object"!=e)return this;this.each(function(){if("select"!=this.nodeName.toLowerCase())return this;for(var c=this.options,g=c.length,b=0;b<g;b++)a.constructor==RegExp?c[b].value.match(a)?c[b].selected=!0:h&&(c[b].selected=!1):c[b].value==a?c[b].selected=!0:h&&(c[b].selected=!1)});return this};k.fn.copyOptions=function(a,d){var e=d||"selected";
if(0==k(a).length)return this;this.each(function(){if("select"!=this.nodeName.toLowerCase())return this;for(var f=this.options,h=f.length,c=0;c<h;c++)("all"==e||"selected"==e&&f[c].selected)&&k(a).addOption(f[c].value,f[c].text)});return this};k.fn.containsOption=function(a,d){var e=!1,f=typeof a,h=typeof d;if("string"!=f&&"function"!=f&&"object"!=f)return"function"==h?this:e;this.each(function(){if("select"!=this.nodeName.toLowerCase())return this;if(e&&"function"!=h)return!1;for(var c=this.options,
g=c.length,b=0;b<g;b++)a.constructor==RegExp?c[b].value.match(a)&&(e=!0,"function"==h&&d.call(c[b],b)):c[b].value==a&&(e=!0,"function"==h&&d.call(c[b],b))});return"function"==h?this:e};k.fn.selectedValues=function(){var a=[];this.selectedOptions().each(function(){a[a.length]=this.value});return a};k.fn.selectedTexts=function(){var a=[];this.selectedOptions().each(function(){a[a.length]=this.text});return a};k.fn.selectedOptions=function(){return this.find("option:selected")}})(jQuery);
