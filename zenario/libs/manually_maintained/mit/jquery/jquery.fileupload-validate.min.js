'use strict';(function(a){"function"===typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],a):"object"===typeof exports?a(require("jquery")):a(window.jQuery)})(function(a){a.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"});a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{getNumberOfFiles:a.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",
acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(d,b){if(b.disabled)return d;var f=a.Deferred(),e=this.options,c=d.files[d.index];if(b.minFileSize||b.maxFileSize)var g=c.size;"number"===a.type(b.maxNumberOfFiles)&&(e.getNumberOfFiles()||0)+d.files.length>b.maxNumberOfFiles?c.error=e.i18n("maxNumberOfFiles"):!b.acceptFileTypes||b.acceptFileTypes.test(c.type)||b.acceptFileTypes.test(c.name)?g>b.maxFileSize?c.error=
e.i18n("maxFileSize"):"number"===a.type(g)&&g<b.minFileSize?c.error=e.i18n("minFileSize"):delete c.error:c.error=e.i18n("acceptFileTypes");c.error||d.files.error?(d.files.error=!0,f.rejectWith(this,[d])):f.resolveWith(this,[d]);return f.promise()}}})});
