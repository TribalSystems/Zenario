/*
 Colorbox 1.6.4
 license: MIT
 http://www.jacklmoore.com/colorbox
*/
(function(d,v,H){function k(b,c,e){b=v.createElement(b);c&&(b.id="cbox"+c);e&&(b.style.cssText=e);return d(b)}function W(){return H.innerHeight?H.innerHeight:d(H).height()}function R(b,c){c!==Object(c)&&(c={});this.cache={};this.el=b;this.value=function(e){if(void 0===this.cache[e]){var f=d(this.el).attr("data-cbox-"+e);void 0!==f?this.cache[e]=f:void 0!==c[e]?this.cache[e]=c[e]:void 0!==X[e]&&(this.cache[e]=X[e])}return this.cache[e]};this.get=function(e){e=this.value(e);return d.isFunction(e)?e.call(this.el,
this):e}}function S(b){var c=n.length;b=(r+b)%c;return 0>b?c+b:b}function m(b,c){return Math.round((/%/.test(b)?("x"===c?C.width():W())/100:1)*parseInt(b,10))}function ia(b,c){return b.get("photo")||b.get("photoRegex").test(c)}function ja(b,c){return b.get("retinaUrl")&&1<H.devicePixelRatio?c.replace(b.get("photoRegex"),b.get("retinaSuffix")):c}function ka(b){"contains"in g[0]&&!g[0].contains(b.target)&&b.target!==D[0]&&(b.stopPropagation(),g.focus())}function L(b){L.str!==b&&(g.add(D).removeClass(L.str).addClass(b),
L.str=b)}function qa(b){r=0;b&&!1!==b&&"nofollow"!==b?(n=d(".cboxElement").filter(function(){var c=d.data(this,"colorbox");return(new R(this,c)).get("rel")===b}),r=n.index(a.el),-1===r&&(n=n.add(a.el),r=n.length-1)):n=d(a.el)}function I(b){d(v).trigger(b);z.triggerHandler(b)}function T(b){if(!M){var c=d(b).data("colorbox");a=new R(b,c);qa(a.get("rel"));if(!E){E=N=!0;L(a.get("className"));g.css({visibility:"hidden",display:"block",opacity:""});p=k("div","LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden");
x.css({width:"",height:""}).append(p);A=Y.height()+Z.height()+x.outerHeight(!0)-x.height();B=aa.width()+ba.width()+x.outerWidth(!0)-x.width();F=p.outerHeight(!0);G=p.outerWidth(!0);b=m(a.get("initialWidth"),"x");c=m(a.get("initialHeight"),"y");var e=a.get("maxWidth"),f=a.get("maxHeight");a.w=Math.max((!1!==e?Math.min(b,m(e,"x")):b)-G-B,0);a.h=Math.max((!1!==f?Math.min(c,m(f,"y")):c)-F-A,0);p.css({width:"",height:a.h});l.position();I("cbox_open");a.get("onOpen");ca.add(da).hide();g.focus();a.get("trapFocus")&&
v.addEventListener&&(v.addEventListener("focus",ka,!0),z.one("cbox_closed",function(){v.removeEventListener("focus",ka,!0)}));if(a.get("returnFocus"))z.one("cbox_closed",function(){d(a.el).focus()})}b=parseFloat(a.get("opacity"));D.css({opacity:b===b?b:"",cursor:a.get("overlayClose")?"pointer":"",visibility:"visible"}).show();a.get("closeButton")?U.html(a.get("close")).appendTo(x):U.appendTo("<div/>");ra()}}function la(){g||(ea=!1,C=d(H),g=k("div").attr({id:"colorbox","class":!1===d.support.opacity?
"cboxIE":"",role:"dialog",tabindex:"-1"}).hide(),D=k("div","Overlay").hide(),V=d([k("div","LoadingOverlay")[0],k("div","LoadingGraphic")[0]]),J=k("div","Wrapper"),x=k("div","Content").append(da=k("div","Title"),fa=k("div","Current"),O=d('<button type="button"/>').attr({id:"cboxPrevious"}),P=d('<button type="button"/>').attr({id:"cboxNext"}),K=d('<button type="button"/>').attr({id:"cboxSlideshow"}),V),U=d('<button type="button"/>').attr({id:"cboxClose"}),J.append(k("div").append(k("div","TopLeft"),
Y=k("div","TopCenter"),k("div","TopRight")),k("div",!1,"clear:left").append(aa=k("div","MiddleLeft"),x,ba=k("div","MiddleRight")),k("div",!1,"clear:left").append(k("div","BottomLeft"),Z=k("div","BottomCenter"),k("div","BottomRight"))).find("div div").css({"float":"left"}),Q=k("div",!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),ca=P.add(O).add(fa).add(K));v.body&&!g.parent().length&&d(v.body).append(D,g.append(J,Q))}function sa(){function b(c){1<c.which||c.shiftKey||
c.altKey||c.metaKey||c.ctrlKey||(c.preventDefault(),T(this))}if(g){if(!ea)if(ea=!0,P.click(function(){l.next()}),O.click(function(){l.prev()}),U.click(function(){l.close()}),D.click(function(){a.get("overlayClose")&&l.close()}),d(v).bind("keydown.cbox",function(c){var e=c.keyCode;E&&a.get("escKey")&&27===e&&(c.preventDefault(),l.close());E&&a.get("arrowKey")&&n[1]&&!c.altKey&&(37===e?(c.preventDefault(),O.click()):39===e&&(c.preventDefault(),P.click()))}),d.isFunction(d.fn.on))d(v).on("click.cbox",
".cboxElement",b);else d(".cboxElement").live("click.cbox",b);return!0}return!1}function ra(){var b,c=l.prep,e=++ha;N=!0;h=!1;I("cbox_purge");I("cbox_load");a.get("onLoad");a.h=a.get("height")?m(a.get("height"),"y")-F-A:a.get("innerHeight")&&m(a.get("innerHeight"),"y");a.w=a.get("width")?m(a.get("width"),"x")-G-B:a.get("innerWidth")&&m(a.get("innerWidth"),"x");a.mw=a.w;a.mh=a.h;a.get("maxWidth")&&(a.mw=m(a.get("maxWidth"),"x")-G-B,a.mw=a.w&&a.w<a.mw?a.w:a.mw);a.get("maxHeight")&&(a.mh=m(a.get("maxHeight"),
"y")-F-A,a.mh=a.h&&a.h<a.mh?a.h:a.mh);var f=a.get("href");ma=setTimeout(function(){V.show()},100);if(a.get("inline")){var q=d(f).eq(0);var t=d("<div>").hide().insertBefore(q);z.one("cbox_purge",function(){t.replaceWith(q)});c(q)}else a.get("iframe")?c(" "):a.get("html")?c(a.get("html")):ia(a,f)?(f=ja(a,f),h=a.get("createImg"),d(h).addClass("cboxPhoto").bind("error.cbox",function(){c(k("div","Error").html(a.get("imgError")))}).one("load",function(){e===ha&&setTimeout(function(){a.get("retinaImage")&&
1<H.devicePixelRatio&&(h.height/=H.devicePixelRatio,h.width/=H.devicePixelRatio);if(a.get("scalePhotos")){b=function(){h.height-=h.height*u;h.width-=h.width*u};if(a.mw&&h.width>a.mw){var u=(h.width-a.mw)/h.width;b()}a.mh&&h.height>a.mh&&(u=(h.height-a.mh)/h.height,b())}a.h?h.style.marginTop=Math.max(a.mh-h.height,0)/2+"px":a.get("minHeight")&&(h.style.marginTop=Math.max(a.get("minHeight")-h.height,0)/2+"px");n[1]&&(a.get("loop")||n[r+1])&&(h.style.cursor="pointer",d(h).bind("click.cbox",function(){l.next()}));
h.style.width=h.width+"px";h.style.height=h.height+"px";c(h)},1)}),h.src=f):f&&Q.load(f,a.get("data"),function(u,w){e===ha&&c("error"===w?k("div","Error").html(a.get("xhrError")):d(this).contents())})}var X={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,minWidth:100,maxWidth:"100%",height:!1,initialHeight:"450",innerHeight:!1,minHeight:100,maxHeight:"100%",scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,
overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",
imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return d(this).attr("href")},title:function(){return this.title},createImg:function(){var b=new Image,c=d(this).data("cbox-img-attrs");"object"===typeof c&&d.each(c,function(e,f){b[e]=f});return b},createIframe:function(){var b=v.createElement("iframe"),c=d(this).data("cbox-iframe-attrs");"object"===typeof c&&d.each(c,function(e,
f){b[e]=f});"frameBorder"in b&&(b.frameBorder=0);"allowTransparency"in b&&(b.allowTransparency="true");b.name=(new Date).getTime();b.allowFullscreen=!0;return b}},D,g,J,x,Y,aa,ba,Z,n,C,p,Q,V,da,fa,K,P,O,U,ca,z=d("<a/>"),a,A,B,F,G,r,h,E,N,M,ma,ha=0,na={},ea,ta=function(){function b(){clearTimeout(u)}function c(){if(a.get("loop")||n[r+1])b(),u=setTimeout(l.next,a.get("slideshowSpeed"))}function e(){K.html(a.get("slideshowStop")).unbind("click.cbox").one("click.cbox",f);z.bind("cbox_complete",c).bind("cbox_load",
b);g.removeClass("cboxSlideshow_off").addClass("cboxSlideshow_on")}function f(){b();z.unbind("cbox_complete",c).unbind("cbox_load",b);K.html(a.get("slideshowStart")).unbind("click.cbox").one("click.cbox",function(){l.next();e()});g.removeClass("cboxSlideshow_on").addClass("cboxSlideshow_off")}function q(){t=!1;K.hide();b();z.unbind("cbox_complete",c).unbind("cbox_load",b);g.removeClass("cboxSlideshow_off cboxSlideshow_on")}var t,u;return function(){t?a.get("slideshow")||(z.unbind("cbox_cleanup",q),
q()):a.get("slideshow")&&n[1]&&(t=!0,z.one("cbox_cleanup",q),a.get("slideshowAuto")?e():f(),K.show())}}();if(!d.colorbox){d(la);var l=d.fn.colorbox=d.colorbox=function(b,c){var e=this;b=b||{};d.isFunction(e)&&(e=d("<a/>"),b.open=!0);if(!e[0])return e;la();sa()&&(c&&(b.onComplete=c),e.each(function(){var f=d.data(this,"colorbox")||{};d.data(this,"colorbox",d.extend(f,b))}).addClass("cboxElement"),c=new R(e[0],b),c.get("open")&&T(e[0]));return e};l.position=function(b,c){function e(){Y[0].style.width=
Z[0].style.width=x[0].style.width=parseInt(g[0].style.width,10)-B+"px";x[0].style.height=aa[0].style.height=ba[0].style.height=parseInt(g[0].style.height,10)-A+"px"}var f=0,q=0,t=g.offset();C.unbind("resize.cbox");g.css({top:-9E4,left:-9E4});var u=C.scrollTop();var w=C.scrollLeft();a.get("fixed")?(t.top-=u,t.left-=w,g.css({position:"fixed"})):(f=u,q=w,g.css({position:"absolute"}));q=!1!==a.get("right")?q+Math.max(C.width()-a.w-G-B-m(a.get("right"),"x"),0):!1!==a.get("left")?q+m(a.get("left"),"x"):
q+Math.round(Math.max(C.width()-a.w-G-B,0)/2);f=!1!==a.get("bottom")?f+Math.max(W()-a.h-F-A-m(a.get("bottom"),"y"),0):!1!==a.get("top")?f+m(a.get("top"),"y"):f+Math.round(Math.max(W()-a.h-F-A,0)/2);g.css({top:t.top,left:t.left,visibility:"visible"});J[0].style.width=J[0].style.height="9999px";var y={width:a.w+G+B,height:a.h+F+A,top:f,left:q};if(b){var oa=0;d.each(y,function(pa){y[pa]!==na[pa]&&(oa=b)});b=oa}na=y;b||g.css(y);g.dequeue().animate(y,{duration:b||0,complete:function(){e();N=!1;J[0].style.width=
a.w+G+B+"px";J[0].style.height=a.h+F+A+"px";a.get("reposition")&&setTimeout(function(){C.bind("resize.cbox",l.position)},1);d.isFunction(c)&&c()},step:e})};l.resize=function(b){if(E){b=b||{};b.width&&(a.w=m(b.width,"x")-G-B);b.innerWidth&&(a.w=m(b.innerWidth,"x"));p.css({width:a.w});b.height&&(a.h=m(b.height,"y")-F-A);b.innerHeight&&(a.h=m(b.innerHeight,"y"));if(!b.innerHeight&&!b.height){var c=p.scrollTop();p.css({height:"auto"});a.h=p.height()}p.css({height:a.h});c&&p.scrollTop(c);l.position("none"===
a.get("transition")?0:a.get("speed"))}};l.prep=function(b){if(E){var c="none"===a.get("transition")?0:a.get("speed");p.remove();p=k("div","LoadedContent").append(b);p.hide().appendTo(Q.show()).css({width:function(){a.w=a.w||p.width();var f=a.get("minWidth","x");f=f&&m(f);a.w=f&&f>a.w?f:a.w;a.w=a.mw&&a.mw<a.w?a.mw:a.w;return a.w}(),overflow:a.get("scrolling")?"auto":"hidden"}).css({height:function(){a.h=a.h||p.height();var f=a.get("minHeight","y");f=f&&m(f);a.h=f&&f>a.h?f:a.h;a.h=a.mh&&a.mh<a.h?a.mh:
a.h;return a.h}()}).prependTo(x);Q.hide();d(h).css({"float":"none"});L(a.get("className"));var e=function(){function f(){!1===d.support.opacity&&g[0].style.removeAttribute("filter")}var q=n.length;if(E){var t=function(){clearTimeout(ma);V.hide();I("cbox_complete");a.get("onComplete")};da.html(a.get("title")).show();p.show();1<q?("string"===typeof a.get("current")&&fa.html(a.get("current").replace("{current}",r+1).replace("{total}",q)).show(),P[a.get("loop")||r<q-1?"show":"hide"]().html(a.get("next")),
O[a.get("loop")||r?"show":"hide"]().html(a.get("previous")),ta(),a.get("preloading")&&d.each([S(-1),S(1)],function(){var w=n[this];var y=new R(w,d.data(w,"colorbox"));(w=y.get("href"))&&ia(y,w)&&(w=ja(y,w),y=v.createElement("img"),y.src=w)})):ca.hide();if(a.get("iframe")){var u=a.get("createIframe");a.get("scrolling")||(u.scrolling="no");d(u).attr({src:a.get("href"),"class":"cboxIframe"}).one("load",t).appendTo(p);z.one("cbox_purge",function(){u.src="//about:blank"});a.get("fastIframe")&&d(u).trigger("load")}else t();
"fade"===a.get("transition")?g.fadeTo(c,1,f):f()}};"fade"===a.get("transition")?g.fadeTo(c,0,function(){l.position(0,e)}):l.position(c,e)}};l.next=function(){!N&&n[1]&&(a.get("loop")||n[r+1])&&(r=S(1),T(n[r]))};l.prev=function(){!N&&n[1]&&(a.get("loop")||r)&&(r=S(-1),T(n[r]))};l.close=function(){E&&!M&&(M=!0,E=!1,I("cbox_cleanup"),a.get("onCleanup"),C.unbind(".cbox"),D.fadeTo(a.get("fadeOut")||0,0),g.stop().fadeTo(a.get("fadeOut")||0,0,function(){g.hide();D.hide();I("cbox_purge");p.remove();setTimeout(function(){M=
!1;I("cbox_closed");a.get("onClosed")},1)}))};l.remove=function(){g&&(g.stop(),d.colorbox.close(),g.stop(!1,!0).remove(),D.remove(),M=!1,g=null,d(".cboxElement").removeData("colorbox").removeClass("cboxElement"),d(v).unbind("click.cbox").unbind("keydown.cbox"))};l.element=function(){return d(a.el)};l.settings=X}})(jQuery,document,window);
