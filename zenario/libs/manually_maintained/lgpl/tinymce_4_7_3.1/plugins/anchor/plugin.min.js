(function(){var h={},f=function(a,b,c){if("string"!==typeof a)throw"module id must be a string";if(void 0===b)throw"no dependencies for "+a;if(void 0===c)throw"no definition function for "+a;h[a]={deps:b,defn:c,instance:void 0}},m=function(a){var b=h[a];if(void 0===b)throw"module ["+a+"] was undefined";if(void 0===b.instance){for(var c=h[a],e=c.deps,d=c.defn,k=e.length,l=Array(k),g=0;g<k;++g)l[g]=m(e[g]);e=d.apply(null,l);if(void 0===e)throw"module ["+a+"] returned undefined";c.instance=e}return b.instance};
(function(a,b){f(a,[],function(){return b})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);f("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});f("tinymce.plugins.anchor.core.Anchor",[],function(){return{isValidId:function(a){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(a)},getId:function(a){var b=a.selection.getNode();return"A"===b.tagName&&""===a.dom.getAttrib(b,"href")?b.id||b.name:""},insert:function(a,b){var c=a.selection.getNode();
"A"===c.tagName&&""===a.dom.getAttrib(c,"href")?(c.removeAttribute("name"),c.id=b):(a.focus(),a.selection.collapse(!0),a.execCommand("mceInsertContent",!1,a.dom.createHTML("a",{id:b})))}}});f("tinymce.plugins.anchor.ui.Dialog",["tinymce.plugins.anchor.core.Anchor"],function(a){return{open:function(b){var c=a.getId(b);b.windowManager.open({title:"Anchor",body:{type:"textbox",name:"id",size:40,label:"Id",value:c},onsubmit:function(e){var d=e.data.id;a.isValidId(d)?(a.insert(b,d),d=!1):(b.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),
d=!0);d&&e.preventDefault()}})}}});f("tinymce.plugins.anchor.api.Commands",["tinymce.plugins.anchor.ui.Dialog"],function(a){return{register:function(b){b.addCommand("mceAnchor",function(){a.open(b)})}}});f("tinymce.plugins.anchor.core.FilterContent",[],function(){var a=function(b){return function(c){for(var e=0;e<c.length;e++){var d=c[e];d.attr("href")||!d.attr("id")&&!d.attr("name")||d.firstChild||c[e].attr("contenteditable",b)}}};return{setup:function(b){b.on("PreInit",function(){b.parser.addNodeFilter("a",
a("false"));b.serializer.addNodeFilter("a",a(null))})}}});f("tinymce.plugins.anchor.ui.Buttons",[],function(){return{register:function(a){a.addButton("anchor",{icon:"anchor",tooltip:"Anchor",cmd:"mceAnchor",stateSelector:"a:not([href])"});a.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",cmd:"mceAnchor"})}}});f("tinymce.plugins.anchor.Plugin",["tinymce.core.PluginManager","tinymce.plugins.anchor.api.Commands","tinymce.plugins.anchor.core.FilterContent","tinymce.plugins.anchor.ui.Buttons"],
function(a,b,c,e){a.add("anchor",function(d){c.setup(d);b.register(d);e.register(d)});return function(){}});m("tinymce.plugins.anchor.Plugin")()})();
