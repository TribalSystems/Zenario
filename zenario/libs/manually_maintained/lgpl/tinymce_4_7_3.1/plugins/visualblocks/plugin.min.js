(function(){var l={},g=function(a,c,b){if("string"!==typeof a)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+a;if(void 0===b)throw"no definition function for "+a;l[a]={deps:c,defn:b,instance:void 0}},m=function(a){var c=l[a];if(void 0===c)throw"module ["+a+"] was undefined";if(void 0===c.instance){for(var b=l[a],d=b.deps,f=b.defn,e=d.length,h=Array(e),k=0;k<e;++k)h[k]=m(d[k]);d=f.apply(null,h);if(void 0===d)throw"module ["+a+"] returned undefined";b.instance=d}return c.instance};
g("ephox.katamari.api.Cell",[],function(){var a=function(c){var b=c;return{get:function(){return b},set:function(d){b=d},clone:function(){return a(b)}}};return a});(function(a,c){g(a,[],function(){return c})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);g("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});g("tinymce.plugins.visualblocks.api.Events",[],function(){return{fireVisualBlocks:function(a,c){a.fire("VisualBlocks",
{state:c})}}});g("tinymce.plugins.visualblocks.api.Settings",[],function(){return{isEnabledByDefault:function(a){return a.getParam("visualblocks_default_state",!1)},getContentCss:function(a){return a.settings.visualblocks_content_css}}});g("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.dom.DOMUtils")});g("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.Tools")});g("tinymce.plugins.visualblocks.core.LoadCss",
["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(a,c){var b=a.DOM.uniqueId();return{load:function(d,f){var e=c.toArray(d.getElementsByTagName("link"));0===c.grep(e,function(h){return h.id===b}).length&&(f=a.DOM.create("link",{id:b,rel:"stylesheet",href:f}),d.getElementsByTagName("head")[0].appendChild(f))}}});g("tinymce.plugins.visualblocks.core.VisualBlocks",["tinymce.plugins.visualblocks.api.Events","tinymce.plugins.visualblocks.api.Settings","tinymce.plugins.visualblocks.core.LoadCss"],
function(a,c,b){return{toggleVisualBlocks:function(d,f,e){var h=d.dom,k=c.getContentCss(d);b.load(d.getDoc(),k?k:f+"/css/visualblocks.css");h.toggleClass(d.getBody(),"mce-visualblocks");e.set(!e.get());a.fireVisualBlocks(d,e.get())}}});g("tinymce.plugins.visualblocks.api.Commands",["tinymce.plugins.visualblocks.core.VisualBlocks"],function(a){return{register:function(c,b,d){c.addCommand("mceVisualBlocks",function(){a.toggleVisualBlocks(c,b,d)})}}});g("tinymce.plugins.visualblocks.core.Bindings",["tinymce.plugins.visualblocks.api.Settings",
"tinymce.plugins.visualblocks.core.VisualBlocks"],function(a,c){return{setup:function(b,d,f){b.on("PreviewFormats AfterPreviewFormats",function(e){f.get()&&b.dom.toggleClass(b.getBody(),"mce-visualblocks","afterpreviewformats"===e.type)});b.on("init",function(){a.isEnabledByDefault(b)&&c.toggleVisualBlocks(b,d,f)});b.on("remove",function(){b.dom.removeClass(b.getBody(),"mce-visualblocks")})}}});g("tinymce.plugins.visualblocks.ui.Buttons",["tinymce.plugins.visualblocks.core.VisualBlocks"],function(a){var c=
function(b,d){return function(f){var e=f.control;e.active(d.get());b.on("VisualBlocks",function(h){e.active(h.state)})}};return{register:function(b,d){b.addButton("visualblocks",{active:!1,title:"Show blocks",cmd:"mceVisualBlocks",onPostRender:c(b,d)});b.addMenuItem("visualblocks",{text:"Show blocks",cmd:"mceVisualBlocks",onPostRender:c(b,d),selectable:!0,context:"view",prependToContext:!0})}}});g("tinymce.plugins.visualblocks.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.visualblocks.api.Commands",
"tinymce.plugins.visualblocks.core.Bindings","tinymce.plugins.visualblocks.ui.Buttons"],function(a,c,b,d,f){c.add("visualblocks",function(e,h){var k=a(!1);b.register(e,h,k);f.register(e,k);d.setup(e,h,k)});return function(){}});m("tinymce.plugins.visualblocks.Plugin")()})();
