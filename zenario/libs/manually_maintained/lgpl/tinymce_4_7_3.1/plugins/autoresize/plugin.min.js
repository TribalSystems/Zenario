(function(){var q={},m=function(a,f,d){if("string"!==typeof a)throw"module id must be a string";if(void 0===f)throw"no dependencies for "+a;if(void 0===d)throw"no definition function for "+a;q[a]={deps:f,defn:d,instance:void 0}},r=function(a){var f=q[a];if(void 0===f)throw"module ["+a+"] was undefined";if(void 0===f.instance){for(var d=q[a],k=d.deps,n=d.defn,l=k.length,b=Array(l),e=0;e<l;++e)b[e]=r(k[e]);k=n.apply(null,b);if(void 0===k)throw"module ["+a+"] returned undefined";d.instance=k}return f.instance};
m("ephox.katamari.api.Cell",[],function(){var a=function(f){var d=f;return{get:function(){return d},set:function(k){d=k},clone:function(){return a(d)}}};return a});(function(a,f){m(a,[],function(){return f})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);m("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});m("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.Env")});m("tinymce.core.util.Delay",
["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.Delay")});m("tinymce.plugins.autoresize.api.Settings",[],function(){return{getAutoResizeMinHeight:function(a){return parseInt(a.getParam("autoresize_min_height",a.getElement().offsetHeight),10)},getAutoResizeMaxHeight:function(a){return parseInt(a.getParam("autoresize_max_height",0),10)},getAutoResizeOverflowPadding:function(a){return a.getParam("autoresize_overflow_padding",1)},getAutoResizeBottomMargin:function(a){return a.getParam("autoresize_bottom_margin",
50)},shouldAutoResizeOnInit:function(a){return a.getParam("autoresize_on_init",!0)}}});m("tinymce.plugins.autoresize.core.Resize",["tinymce.core.Env","tinymce.core.util.Delay","tinymce.plugins.autoresize.api.Settings"],function(a,f,d){var k=function(b,e,g,h,c){f.setEditorTimeout(b,function(){l(b,e);g--?k(b,e,g,h,c):c&&c()},h)},n=function(b,e){if(b=b.getBody())b.style.overflowY=e?"":"hidden",e||(b.scrollTop=0)},l=function(b,e){var g,h=b.dom;if(g=b.getDoc())if(b.plugins.fullscreen&&b.plugins.fullscreen.isFullscreen())n(b,
!0);else{var c=g.body;g=d.getAutoResizeMinHeight(b);var p=h.getStyle(c,"margin-top",!0);var t=h.getStyle(c,"margin-bottom",!0);var u=h.getStyle(c,"padding-top",!0);var v=h.getStyle(c,"padding-bottom",!0);var w=h.getStyle(c,"border-top-width",!0);var x=h.getStyle(c,"border-bottom-width",!0);p=c.offsetHeight+parseInt(p,10)+parseInt(t,10)+parseInt(u,10)+parseInt(v,10)+parseInt(w,10)+parseInt(x,10);if(isNaN(p)||0>=p)p=a.ie?c.scrollHeight:a.webkit&&0===c.clientHeight?0:c.offsetHeight;p>d.getAutoResizeMinHeight(b)&&
(g=p);(c=d.getAutoResizeMaxHeight(b))&&p>c?(g=c,n(b,!0)):n(b,!1);g!==e.get()&&(c=g-e.get(),h.setStyle(b.iframeElement,"height",g+"px"),e.set(g),a.webKit&&0>c&&l(b))}};return{setup:function(b,e){b.on("init",function(){var g=b.dom;var h=d.getAutoResizeOverflowPadding(b);var c=d.getAutoResizeBottomMargin(b);!1!==h&&g.setStyles(b.getBody(),{paddingLeft:h,paddingRight:h});!1!==c&&g.setStyles(b.getBody(),{paddingBottom:c})});b.on("nodechange setcontent keyup FullscreenStateChanged",function(g){l(b,e)});
if(d.shouldAutoResizeOnInit(b))b.on("init",function(){k(b,e,20,100,function(){k(b,e,5,1E3)})})},resize:l}});m("tinymce.plugins.autoresize.api.Commands",["tinymce.plugins.autoresize.core.Resize"],function(a){return{register:function(f,d){f.addCommand("mceAutoResize",function(){a.resize(f,d)})}}});m("tinymce.plugins.autoresize.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.autoresize.api.Commands","tinymce.plugins.autoresize.core.Resize"],function(a,f,d,k){f.add("autoresize",
function(n){if(!n.inline){var l=a(0);d.register(n,l);k.setup(n,l)}});return function(){}});r("tinymce.plugins.autoresize.Plugin")()})();
