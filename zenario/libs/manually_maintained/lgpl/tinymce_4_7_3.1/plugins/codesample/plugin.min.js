(function(){var z={},r=function(k,g,a){if("string"!==typeof k)throw"module id must be a string";if(void 0===g)throw"no dependencies for "+k;if(void 0===a)throw"no definition function for "+k;z[k]={deps:g,defn:a,instance:void 0}},C=function(k){var g=z[k];if(void 0===g)throw"module ["+k+"] was undefined";if(void 0===g.instance){for(var a=z[k],d=a.deps,c=a.defn,m=d.length,b=Array(m),f=0;f<m;++f)b[f]=C(d[f]);d=c.apply(null,b);if(void 0===d)throw"module ["+k+"] returned undefined";a.instance=d}return g.instance};
r("ephox.katamari.api.Cell",[],function(){var k=function(g){var a=g;return{get:function(){return a},set:function(d){a=d},clone:function(){return k(a)}}};return k});(function(k,g){r(k,[],function(){return g})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);r("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(k){return k("tinymce.PluginManager")});r("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(k){return k("tinymce.dom.DOMUtils")});
r("tinymce.plugins.codesample.api.Settings",["tinymce.core.dom.DOMUtils"],function(k){return{getContentCss:function(g){return g.settings.codesample_content_css},getLanguages:function(g){return g.settings.codesample_languages},getDialogMinWidth:function(g){return Math.min(k.DOM.getViewPort().w,g.getParam("codesample_dialog_width",800))},getDialogMinHeight:function(g){return Math.min(k.DOM.getViewPort().w,g.getParam("codesample_dialog_height",650))}}});r("tinymce.plugins.codesample.core.Prism",[],function(){var k=
{},g="undefined"!==typeof k?k:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},a=function(){var d=/\blang(?:uage)?-(?!\*)(\w+)\b/i,c=g.Prism={util:{encode:function(b){return b instanceof m?new m(b.type,c.util.encode(b.content),b.alias):"Array"===c.util.type(b)?b.map(c.util.encode):b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(b){return Object.prototype.toString.call(b).match(/\[object (\w+)\]/)[1]},clone:function(b){switch(c.util.type(b)){case "Object":var f=
{},e;for(e in b)b.hasOwnProperty(e)&&(f[e]=c.util.clone(b[e]));return f;case "Array":return b.map&&b.map(function(h){return c.util.clone(h)})}return b}},languages:{extend:function(b,f){b=c.util.clone(c.languages[b]);for(var e in f)b[e]=f[e];return b},insertBefore:function(b,f,e,h){h=h||c.languages;var p=h[b];if(2==arguments.length){e=arguments[1];for(var l in e)e.hasOwnProperty(l)&&(p[l]=e[l]);return p}var n={},q;for(q in p)if(p.hasOwnProperty(q)){if(q==f)for(l in e)e.hasOwnProperty(l)&&(n[l]=e[l]);
n[q]=p[q]}c.languages.DFS(c.languages,function(w,A){A===h[b]&&w!=b&&(this[w]=n)});return h[b]=n},DFS:function(b,f,e){for(var h in b)b.hasOwnProperty(h)&&(f.call(b,h,b[h],e||h),"Object"===c.util.type(b[h])?c.languages.DFS(b[h],f):"Array"===c.util.type(b[h])&&c.languages.DFS(b[h],f,h))}},plugins:{},highlightAll:function(b,f){for(var e=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),h=0,p;p=e[h++];)c.highlightElement(p,!0===
b,f)},highlightElement:function(b,f,e){for(var h,p,l=b;l&&!d.test(l.className);)l=l.parentNode;l&&(h=(l.className.match(d)||[,""])[1],p=c.languages[h]);b.className=b.className.replace(d,"").replace(/\s+/g," ")+" language-"+h;l=b.parentNode;/pre/i.test(l.nodeName)&&(l.className=l.className.replace(d,"").replace(/\s+/g," ")+" language-"+h);l=b.textContent;var n={element:b,language:h,grammar:p,code:l};l&&p?(c.hooks.run("before-highlight",n),f&&g.Worker?(b=new Worker(c.filename),b.onmessage=function(q){n.highlightedCode=
q.data;c.hooks.run("before-insert",n);n.element.innerHTML=n.highlightedCode;e&&e.call(n.element);c.hooks.run("after-highlight",n);c.hooks.run("complete",n)},b.postMessage(JSON.stringify({language:n.language,code:n.code,immediateClose:!0}))):(n.highlightedCode=c.highlight(n.code,n.grammar,n.language),c.hooks.run("before-insert",n),n.element.innerHTML=n.highlightedCode,e&&e.call(b),c.hooks.run("after-highlight",n),c.hooks.run("complete",n))):c.hooks.run("complete",n)},highlight:function(b,f,e){b=c.tokenize(b,
f);return m.stringify(c.util.encode(b),e)},tokenize:function(b,f,e){e=c.Token;var h=[b],p=f.rest;if(p){for(var l in p)f[l]=p[l];delete f.rest}a:for(l in f)if(f.hasOwnProperty(l)&&f[l]){p=f[l];p="Array"===c.util.type(p)?p:[p];for(var n=0;n<p.length;++n){var q=p[n],w=q.inside,A=!!q.lookbehind,B=0,D=q.alias;q=q.pattern||q;for(var y=0;y<h.length;y++){var u=h[y];if(h.length>b.length)break a;if(!(u instanceof e)){q.lastIndex=0;var t=q.exec(u);if(t){A&&(B=t[1].length);var x=t.index-1+B;t=t[0].slice(B);var v=
x+t.length;x=u.slice(0,x+1);u=u.slice(v+1);v=[y,1];x&&v.push(x);t=new e(l,w?c.tokenize(t,w):t,D);v.push(t);u&&v.push(u);Array.prototype.splice.apply(h,v)}}}}}return h},hooks:{all:{},add:function(b,f){var e=c.hooks.all;e[b]=e[b]||[];e[b].push(f)},run:function(b,f){if((b=c.hooks.all[b])&&b.length)for(var e=0,h;h=b[e++];)h(f)}}},m=c.Token=function(b,f,e){this.type=b;this.content=f;this.alias=e};m.stringify=function(b,f,e){if("string"==typeof b)return b;if("Array"===c.util.type(b))return b.map(function(l){return m.stringify(l,
f,b)}).join("");e={type:b.type,content:m.stringify(b.content,f,e),tag:"span",classes:["token",b.type],attributes:{},language:f,parent:e};"comment"==e.type&&(e.attributes.spellcheck="true");if(b.alias){var h="Array"===c.util.type(b.alias)?b.alias:[b.alias];Array.prototype.push.apply(e.classes,h)}c.hooks.run("wrap",e);h="";for(var p in e.attributes)h+=(h?" ":"")+p+'="'+(e.attributes[p]||"")+'"';return"<"+e.tag+' class="'+e.classes.join(" ")+'" '+h+">"+e.content+"</"+e.tag+">"};if(!g.document){if(!g.addEventListener)return g.Prism;
g.addEventListener("message",function(b){b=JSON.parse(b.data);var f=b.language,e=b.immediateClose;g.postMessage(c.highlight(b.code,c.languages[f],f));e&&g.close()},!1);return g.Prism}}();"undefined"!==typeof module&&module.exports&&(module.exports=a);"undefined"!==typeof global&&(global.Prism=a);a.languages.markup={comment:/\x3c!--[\w\W]*?--\x3e/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]\x3e/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,
inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i};a.hooks.add("wrap",function(d){"entity"===d.type&&(d.attributes.title=d.content.replace(/&amp;/,"&"))});a.languages.xml=a.languages.markup;a.languages.html=a.languages.markup;a.languages.mathml=a.languages.markup;
a.languages.svg=a.languages.markup;a.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/};a.languages.css.atrule.inside.rest=a.util.clone(a.languages.css);a.languages.markup&&
(a.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:a.languages.markup.tag.inside},rest:a.languages.css},alias:"language-css"}}),a.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:a.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:a.languages.css}},alias:"language-css"}},
a.languages.markup.tag));a.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,
"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};a.languages.javascript=a.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,
number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i});a.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}});a.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,
alias:"punctuation"},rest:a.languages.javascript}},string:/[\s\S]+/}}});a.languages.markup&&a.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:a.languages.markup.tag.inside},rest:a.languages.javascript},alias:"language-javascript"}});a.languages.js=a.languages.javascript;a.languages.c=a.languages.extend("clike",{keyword:/\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,
operator:/\-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*\/]/,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)[ful]*\b/i});a.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+([^\r\n\\]|\\.|\\(?:\r\n?|\n))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(<.+?>|("|')(\\?.)+?\3)/,lookbehind:!0}}}});delete a.languages.c["class-name"];delete a.languages.c["boolean"];a.languages.csharp=a.languages.extend("clike",{keyword:/\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/,
string:[/@("|')(\1\1|\\\1|\\?(?!\1)[\s\S])*\1/,/("|')(\\?.)*?\1/],number:/\b-?(0x[\da-f]+|\d*\.?\d+)\b/i});a.languages.insertBefore("csharp","keyword",{preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0}});a.languages.cpp=a.languages.extend("c",{keyword:/\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,
"boolean":/\b(true|false)\b/,operator:/[-+]{1,2}|!=?|<{1,2}=?|>{1,2}=?|\->|:{1,2}|={1,2}|\^|~|%|&{1,2}|\|?\||\?|\*|\/|\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/});a.languages.insertBefore("cpp","keyword",{"class-name":{pattern:/(class\s+)[a-z0-9_]+/i,lookbehind:!0}});a.languages.java=a.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,
number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}});a.languages.php=a.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/i,
constant:/\b[A-Z0-9_]{2,}\b/,comment:{pattern:/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/,lookbehind:!0}});a.languages.insertBefore("php","class-name",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}});a.languages.insertBefore("php","keyword",{delimiter:/\?>|<\?(?:php)?/i,variable:/\$\w+\b/i,"package":{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}});a.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}});a.languages.markup&&
(a.hooks.add("before-highlight",function(d){"php"===d.language&&(d.tokenStack=[],d.backupCode=d.code,d.code=d.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/ig,function(c){d.tokenStack.push(c);return"{{{PHP"+d.tokenStack.length+"}}}"}))}),a.hooks.add("before-insert",function(d){"php"===d.language&&(d.code=d.backupCode,delete d.backupCode)}),a.hooks.add("after-highlight",function(d){if("php"===d.language){for(var c=0,m;m=d.tokenStack[c];c++)d.highlightedCode=d.highlightedCode.replace("{{{PHP"+(c+1)+"}}}",
a.highlight(m,d.grammar,"php").replace(/\$/g,"$$$$"));d.element.innerHTML=d.highlightedCode}}),a.hooks.add("wrap",function(d){"php"===d.language&&"markup"===d.type&&(d.content=d.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>'))}),a.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/,inside:a.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/}));a.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(?:\\?.)*?\1/,
"function":{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,"boolean":/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,
punctuation:/[{}[\];(),.:]/};(function(d){d.languages.ruby=d.languages.extend("clike",{comment:/#(?!\{[^\r\n]*?\}).*/,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/});var c={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:d.util.clone(d.languages.ruby)}};d.languages.insertBefore("ruby",
"keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1[gim]{0,3}/,inside:{interpolation:c}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,inside:{interpolation:c}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,inside:{interpolation:c}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,inside:{interpolation:c}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,inside:{interpolation:c}},{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/,
lookbehind:!0}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/});d.languages.insertBefore("ruby","number",{builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\b)/});d.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1/,
inside:{interpolation:c}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,inside:{interpolation:c}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,inside:{interpolation:c}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,inside:{interpolation:c}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,inside:{interpolation:c}},{pattern:/("|')(#\{[^}]+\}|\\(?:\r?\n|\r)|\\?.)*?\1/,inside:{interpolation:c}}]})(a);return a});r("tinymce.plugins.codesample.util.Utils",[],function(){return{isCodeSample:function(k){return k&&
"PRE"===k.nodeName&&-1!==k.className.indexOf("language-")},trimArg:function(k){return function(g,a){return k(a)}}}});r("tinymce.plugins.codesample.core.CodeSample",["tinymce.core.dom.DOMUtils","tinymce.plugins.codesample.core.Prism","tinymce.plugins.codesample.util.Utils"],function(k,g,a){var d=function(c){c=c.selection.getNode();return a.isCodeSample(c)?c:null};return{getSelectedCodeSample:d,insertCodeSample:function(c,m,b){c.undoManager.transact(function(){var f=d(c);b=k.DOM.encode(b);f?(c.dom.setAttrib(f,
"class","language-"+m),f.innerHTML=b,g.highlightElement(f),c.selection.select(f)):(c.insertContent('<pre id="__new" class="language-'+m+'">'+b+"</pre>"),c.selection.select(c.$("#__new").removeAttr("id")[0]))})},getCurrentCode:function(c){return(c=d(c))?c.textContent:""}}});r("tinymce.plugins.codesample.core.Languages",["tinymce.plugins.codesample.api.Settings","tinymce.plugins.codesample.core.CodeSample"],function(k,g){return{getLanguages:function(a){var d=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",
value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}];return(a=k.getLanguages(a))?a:d},getCurrentLanguage:function(a){return(a=g.getSelectedCodeSample(a))?(a=a.className.match(/language-(\w+)/))?a[1]:"":""}}});r("tinymce.plugins.codesample.ui.Dialog",["tinymce.plugins.codesample.api.Settings","tinymce.plugins.codesample.core.CodeSample",
"tinymce.plugins.codesample.core.Languages"],function(k,g,a){return{open:function(d){var c=k.getDialogMinWidth(d),m=k.getDialogMinHeight(d),b=a.getCurrentLanguage(d),f=a.getLanguages(d),e=g.getCurrentCode(d);d.windowManager.open({title:"Insert/Edit code sample",minWidth:c,minHeight:m,layout:"flex",direction:"column",align:"stretch",body:[{type:"listbox",name:"language",label:"Language",maxWidth:200,value:b,values:f},{type:"textbox",name:"code",multiline:!0,spellcheck:!1,ariaLabel:"Code view",flex:1,
style:"direction: ltr; text-align: left",classes:"monospace",value:e,autofocus:!0}],onSubmit:function(h){g.insertCodeSample(d,h.data.language,h.data.code)}})}}});r("tinymce.plugins.codesample.api.Commands",["tinymce.plugins.codesample.ui.Dialog","tinymce.plugins.codesample.util.Utils"],function(k,g){return{register:function(a){a.addCommand("codesample",function(){var d=a.selection.getNode();a.selection.isCollapsed()||g.isCodeSample(d)?k.open(a):a.formatter.toggle("code")})}}});r("tinymce.plugins.codesample.core.FilterContent",
["tinymce.plugins.codesample.core.Prism","tinymce.plugins.codesample.util.Utils"],function(k,g){return{setup:function(a){var d=a.$;a.on("PreProcess",function(c){d("pre[contenteditable=false]",c.node).filter(g.trimArg(g.isCodeSample)).each(function(m,b){m=d(b);var f=b.textContent;m.attr("class",d.trim(m.attr("class")));m.removeAttr("contentEditable");m.empty().append(d("<code></code>").each(function(){this.textContent=f}))})});a.on("SetContent",function(){var c=d("pre").filter(g.trimArg(g.isCodeSample)).filter(function(m,
b){return"false"!==b.contentEditable});c.length&&a.undoManager.transact(function(){c.each(function(m,b){d(b).find("br").each(function(f,e){e.parentNode.replaceChild(a.getDoc().createTextNode("\n"),e)});b.contentEditable=!1;b.innerHTML=a.dom.encode(b.textContent);k.highlightElement(b);b.className=d.trim(b.className)})})})}}});r("tinymce.plugins.codesample.core.LoadCss",["tinymce.plugins.codesample.api.Settings"],function(k){return{loadCss:function(g,a,d,c){var m=k.getContentCss(g);if(!g.inline||!d.get())if(g.inline||
!c.get())g.inline?d.set(!0):c.set(!0),!1!==m&&(a=g.dom.create("link",{rel:"stylesheet",href:m?m:a+"/css/prism.css"}),g.getDoc().getElementsByTagName("head")[0].appendChild(a))}}});r("tinymce.plugins.codesample.ui.Buttons",[],function(){return{register:function(k){k.addButton("codesample",{cmd:"codesample",title:"Insert/Edit code sample"});k.addMenuItem("codesample",{cmd:"codesample",text:"Code sample",icon:"codesample"})}}});r("tinymce.plugins.codesample.Plugin","ephox.katamari.api.Cell tinymce.core.PluginManager tinymce.plugins.codesample.api.Commands tinymce.plugins.codesample.core.FilterContent tinymce.plugins.codesample.core.LoadCss tinymce.plugins.codesample.ui.Buttons tinymce.plugins.codesample.ui.Dialog tinymce.plugins.codesample.util.Utils".split(" "),
function(k,g,a,d,c,m,b,f){var e=k(!1);g.add("codesample",function(h,p){var l=k(!1);d.setup(h);m.register(h);a.register(h);h.on("init",function(){c.loadCss(h,p,e,l)});h.on("dblclick",function(n){f.isCodeSample(n.target)&&b.open(h)})});return function(){}});C("tinymce.plugins.codesample.Plugin")()})();
