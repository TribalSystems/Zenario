(function(){var H={},q=function(b,h,g){if("string"!==typeof b)throw"module id must be a string";if(void 0===h)throw"no dependencies for "+b;if(void 0===g)throw"no definition function for "+b;H[b]={deps:h,defn:g,instance:void 0}},K=function(b){var h=H[b];if(void 0===h)throw"module ["+b+"] was undefined";if(void 0===h.instance){for(var g=H[b],k=g.deps,n=g.defn,l=k.length,v=Array(l),a=0;a<l;++a)v[a]=K(k[a]);k=n.apply(null,v);if(void 0===k)throw"module ["+b+"] returned undefined";g.instance=k}return h.instance},
E=function(b,h){q(b,[],function(){return h})};E("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);q("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.PluginManager")});q("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.util.VK")});q("tinymce.plugins.link.api.Settings",[],function(){return{assumeExternalTargets:function(b){return"boolean"===typeof b.link_assume_external_targets?b.link_assume_external_targets:
!1},hasContextToolbar:function(b){return"boolean"===typeof b.link_context_toolbar?b.link_context_toolbar:!1},getLinkList:function(b){return b.link_list},hasDefaultLinkTarget:function(b){return"string"===typeof b.default_link_target},getDefaultLinkTarget:function(b){return b.default_link_target},getTargetList:function(b){return b.target_list},setTargetList:function(b,h){b.settings.target_list=h},shouldShowTargetList:function(b){return!1!==b.target_list},getRelList:function(b){return b.rel_list},hasRelList:function(b){return void 0!==
b.rel_list},getLinkClassList:function(b){return b.link_class_list},hasLinkClassList:function(b){return void 0!==b.link_class_list},shouldShowLinkTitle:function(b){return!1!==b.link_title},allowUnsafeLinkTarget:function(b){return"boolean"===typeof b.allow_unsafe_link_target?b.allow_unsafe_link_target:!1}}});E("global!document",document);E("global!window",window);q("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.dom.DOMUtils")});q("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],
function(b){return b("tinymce.Env")});q("tinymce.plugins.link.core.OpenUrl",["global!document","global!window","tinymce.core.dom.DOMUtils","tinymce.core.Env"],function(b,h,g,k){return{open:function(n){if(!k.ie||10<k.ie){var l=b.createElement("a");l.target="_blank";l.href=n;l.rel="noreferrer noopener";n=b.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,h,0,0,0,0,0,!1,!1,!1,!1,0,null);b.body.appendChild(l);l.dispatchEvent(n);b.body.removeChild(l)}else if(l=h.open("","_blank"))l.opener=null,
l=l.document,l.open(),l.write('<meta http-equiv="refresh" content="0; url='+g.DOM.encode(n)+'">'),l.close()}}});E("global!RegExp",RegExp);q("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.util.Tools")});q("tinymce.plugins.link.core.Utils",["global!RegExp","tinymce.core.util.Tools","tinymce.plugins.link.api.Settings"],function(b,h,g){var k=function(a,c){var e=["noopener"];a=a?a.split(/\s+/):[];var d=function(f){f=p(f);return f.length?f.concat(e):e},p=function(f){return f.filter(function(r){return-1===
h.inArray(e,r)})};a=c?d(a):p(a);return a.length?h.trim(a.sort().join(" ")):null},n=function(a,c){c=c||a.selection.getNode();return v(c)?a.dom.select("a[href]",c)[0]:a.dom.getParent(c,"a[href]")},l=function(a){return a&&"A"===a.nodeName&&a.href},v=function(a){return a&&"FIGURE"===a.nodeName&&/\bimage\b/i.test(a.className)};return{link:function(a,c){return function(e){a.undoManager.transact(function(){var d=a.selection.getNode(),p=n(a,d),f={href:e.href,target:e.target?e.target:null,rel:e.rel?e.rel:
null,"class":e["class"]?e["class"]:null,title:e.title?e.title:null};g.hasRelList(a.settings)||!1!==g.allowUnsafeLinkTarget(a.settings)||(f.rel=k(f.rel,"_blank"===f.target));e.href===c.href&&(c.attach(),c={});if(p)a.focus(),e.hasOwnProperty("text")&&("innerText"in p?p.innerText=e.text:p.textContent=e.text),a.dom.setAttribs(p,f),a.selection.select(p),a.undoManager.add();else if(v(d)){if(d=a.dom.select("img",d)[0])f=a.dom.create("a",f),d.parentNode.insertBefore(f,d),f.appendChild(d)}else e.hasOwnProperty("text")?
a.insertContent(a.dom.createHTML("a",f,a.dom.encode(e.text))):a.execCommand("mceInsertLink",!1,f)})}},unlink:function(a){return function(){a.undoManager.transact(function(){var c=a.selection.getNode();if(v(c)){var e;if(e=a.dom.select("img",c)[0])if(c=a.dom.getParents(e,"a[href]",c)[0])c.parentNode.insertBefore(e,c),a.dom.remove(c)}else a.execCommand("unlink")})}},isLink:l,hasLinks:function(a){return 0<h.grep(a,l).length},isOnlyTextSelected:function(a){return!/</.test(a)||/^<a [^>]+>[^<]+<\/a>$/.test(a)&&
-1!==a.indexOf("href=")?!0:!1},getAnchorElement:n,getAnchorText:function(a,c){return(c?c.innerText||c.textContent:a.getContent({format:"text"})).replace(/\uFEFF/g,"")},toggleTargetRules:k}});q("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.util.Delay")});q("tinymce.core.util.XHR",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.util.XHR")});q("tinymce.plugins.link.ui.Dialog",["tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.XHR",
"tinymce.plugins.link.api.Settings","tinymce.plugins.link.core.Utils"],function(b,h,g,k,n){var l={},v=function(d,p){var f=k.getLinkList(d.settings);"string"===typeof f?g.send({url:f,success:function(r){p(d,JSON.parse(r))}}):"function"===typeof f?f(function(r){p(d,r)}):p(d,f)},a=function(d,p,f){var r=function(y,B){B=B||[];h.each(y,function(w){var C={text:w.text||w.title};w.menu?C.menu=r(w.menu):(C.value=w.value,p&&p(C));B.push(C)});return B};return r(d,f||[])},c=function(d,p,f){var r=d.selection.getRng();
b.setEditorTimeout(d,function(){d.windowManager.confirm(p,function(y){d.selection.setRng(r);f(y)})})},e=function(d,p){var f={},r=d.dom,y,B,w,C,L,M,D,N=function(m){var t=F.find("#text");(!t.value()||m.lastControl&&t.value()===m.lastControl.text())&&t.value(m.control.text());F.find("#href").value(m.control.value())},O=function(){y||!I||f.text||this.parent().parent().find("#text")[0].value(this.value())};var I=n.isOnlyTextSelected(d.selection.getContent());var z=n.getAnchorElement(d);f.text=y=n.getAnchorText(d.selection,
z);f.href=z?r.getAttrib(z,"href"):"";z?f.target=r.getAttrib(z,"target"):k.hasDefaultLinkTarget(d.settings)&&(f.target=k.getDefaultLinkTarget(d.settings));if(D=r.getAttrib(z,"rel"))f.rel=D;if(D=r.getAttrib(z,"class"))f["class"]=D;if(D=r.getAttrib(z,"title"))f.title=D;I&&(B={name:"text",type:"textbox",size:40,label:"Text to display",classes:"link_text_to_display",onchange:function(){f.text=this.value()}});p&&(w={type:"listbox",label:"Link list",values:a(p,function(m){m.value=d.convertURL(m.value||m.url,
"href")},[{text:"None",value:""}]),onselect:N,value:d.convertURL(f.href,"href"),onPostRender:function(){w=this}});if(k.shouldShowTargetList(d.settings)){void 0===k.getTargetList(d.settings)&&k.setTargetList(d,[{text:"None",value:""},{text:"New window",value:"_blank"}]);var P={name:"target",type:"listbox",label:"Target",values:a(k.getTargetList(d.settings))}}k.hasRelList(d.settings)&&(C={name:"rel",type:"listbox",label:"Rel",values:a(k.getRelList(d.settings),function(m){!1===k.allowUnsafeLinkTarget(d.settings)&&
(m.value=n.toggleTargetRules(m.value,"_blank"===f.target))})});!1!==d.settings.link_class&&(L=k.hasLinkClassList(d.settings)?{name:"class",type:"listbox",label:"Class",values:a(k.getLinkClassList(d.settings),function(m){m.value&&(m.textStyle=function(){return d.formatter.getCssText({inline:"a",classes:[m.value]})})})}:{name:"class",type:"textbox",size:40,label:"CSS class name(s)"});k.shouldShowLinkTitle(d.settings)&&(M={name:"title",type:"textbox",label:"Title",value:f.title});var F=d.windowManager.open({title:"Insert link",
data:f,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",classes:"zenario_link_picker",onchange:function(m){var t=m.meta||{};w&&w.value(d.convertURL(this.value(),"href"));h.each(m.meta,function(u,G){var x=F.find("#"+G);"text"===G?0===y.length&&(x.value(u),f.text=u):x.value(u)});t.attach&&(l={href:this.value(),attach:t.attach});t.text||O.call(this)},onkeyup:O,onbeforecall:function(m){m.meta=F.toJSON()}},B,M,function(m){var t=[];h.each(d.dom.select("a:not([href])"),
function(u){(u=u.name||u.id)&&t.push({text:u,value:"#"+u,selected:-1!==m.indexOf("#"+u)})});if(t.length)return t.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:t,onselect:N}}(f.href),w,C,P,L],onSubmit:function(m){var t=k.assumeExternalTargets(d.settings),u=n.link(d,l),G=n.unlink(d),x=h.extend({},f,m.data),A=x.href;A?(I&&x.text!==y||delete x.text,0<A.indexOf("@")&&-1===A.indexOf("//")&&-1===A.indexOf("mailto:")?c(d,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",
function(J){J&&(x.href="mailto:"+A);u(x)}):!0===t&&!/^\w+:/i.test(A)||!1===t&&/^\s*www[\.|\d\.]/i.test(A)?c(d,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(J){J&&(x.href="http://"+A);u(x)}):u(x)):G()}});zenarioA.setLinkPickerOnTinyMCE()};return{open:function(d){v(d,e)}}});q("tinymce.plugins.link.core.Actions",["tinymce.core.util.VK","tinymce.plugins.link.api.Settings","tinymce.plugins.link.core.OpenUrl","tinymce.plugins.link.core.Utils",
"tinymce.plugins.link.ui.Dialog"],function(b,h,g,k,n){var l=function(a,c){return a.dom.getParent(c,"a[href]")},v=function(a,c){if(c){var e=(e=c.getAttribute("data-mce-href"))?e:c.getAttribute("href");/^#/.test(e)?(c=a.$(e),c.length&&a.selection.scrollIntoView(c[0],!0)):g.open(c.href)}};return{openDialog:function(a){return function(){n.open(a)}},gotoSelectedLink:function(a){return function(){v(a,l(a,a.selection.getStart()))}},leftClickedOnAHref:function(a){return function(c){var e;if(e=h.hasContextToolbar(a.settings))e=
a.plugins.contextmenu,e=!(e&&e.isContextMenuVisible());if(e&&k.isLink(c)){c=a.selection;e=c.getRng();var d=e.startContainer;if(3===d.nodeType&&c.isCollapsed()&&0<e.startOffset&&e.startOffset<d.data.length)return!0}return!1}},setupGotoLinks:function(a){a.on("click",function(c){var e=l(a,c.target);e&&b.metaKeyPressed(c)&&(c.preventDefault(),v(a,e))});a.on("keydown",function(c){var e=l(a,a.selection.getStart());e&&13===c.keyCode&&!0===c.altKey&&!1===c.shiftKey&&!1===c.ctrlKey&&!1===c.metaKey&&(c.preventDefault(),
v(a,e))})},toggleActiveState:function(a){return function(){var c=this;a.on("nodechange",function(e){c.active(!a.readonly&&!!k.getAnchorElement(a,e.element))})}},toggleViewLinkState:function(a){return function(){var c=this,e=function(d){k.hasLinks(d.parents)?c.show():c.hide()};k.hasLinks(a.dom.getParents(a.selection.getStart()))||c.hide();a.on("nodechange",e);c.on("remove",function(){a.off("nodechange",e)})}}}});q("tinymce.plugins.link.api.Commands",["tinymce.plugins.link.core.Actions"],function(b){return{register:function(h){h.addCommand("mceLink",
b.openDialog(h))}}});q("tinymce.plugins.link.core.Keyboard",["tinymce.plugins.link.core.Actions"],function(b){return{setup:function(h){h.addShortcut("Meta+K","",b.openDialog(h))}}});q("tinymce.plugins.link.ui.Controls",["tinymce.plugins.link.core.Actions","tinymce.plugins.link.core.Utils"],function(b,h){return{setupButtons:function(g){g.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:b.openDialog(g),onpostrender:b.toggleActiveState(g)});g.addButton("unlink",{active:!1,icon:"unlink",
tooltip:"Remove link",onclick:h.unlink(g),onpostrender:b.toggleActiveState(g)});g.addContextToolbar&&g.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:b.gotoSelectedLink(g)})},setupMenuItems:function(g){g.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:b.gotoSelectedLink(g),onPostRender:b.toggleViewLinkState(g),prependToContext:!0});g.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:b.openDialog(g),stateSelector:"a[href]",context:"insert",prependToContext:!0})},
setupContextToolbars:function(g){g.addContextToolbar&&g.addContextToolbar(b.leftClickedOnAHref(g),"openlink | link unlink")}}});q("tinymce.plugins.link.Plugin",["tinymce.core.PluginManager","tinymce.plugins.link.api.Commands","tinymce.plugins.link.core.Actions","tinymce.plugins.link.core.Keyboard","tinymce.plugins.link.ui.Controls"],function(b,h,g,k,n){b.add("link",function(l){n.setupButtons(l);n.setupMenuItems(l);n.setupContextToolbars(l);g.setupGotoLinks(l);h.register(l);k.setup(l)});return function(){}});
K("tinymce.plugins.link.Plugin")()})();
