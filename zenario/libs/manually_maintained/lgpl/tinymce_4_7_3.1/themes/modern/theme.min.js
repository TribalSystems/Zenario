var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(H){var B=0;return function(){return B<H.length?{done:!1,value:H[B++]}:{done:!0}}};$jscomp.arrayIterator=function(H){return{next:$jscomp.arrayIteratorImpl(H)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(H,B,K){if(H==Array.prototype||H==Object.prototype)return H;H[B]=K.value;return H};$jscomp.getGlobal=function(H){H=["object"==typeof globalThis&&globalThis,H,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var B=0;B<H.length;++B){var K=H[B];if(K&&K.Math==Math)return K}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(H,B,K){if(!K||null!=H){K=$jscomp.propertyToPolyfillSymbol[B];if(null==K)return H[B];K=H[K];return void 0!==K?K:H[B]}};
$jscomp.polyfill=function(H,B,K,L){B&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(H,B,K,L):$jscomp.polyfillUnisolated(H,B,K,L))};$jscomp.polyfillUnisolated=function(H,B,K,L){K=$jscomp.global;H=H.split(".");for(L=0;L<H.length-1;L++){var m=H[L];if(!(m in K))return;K=K[m]}H=H[H.length-1];L=K[H];B=B(L);B!=L&&null!=B&&$jscomp.defineProperty(K,H,{configurable:!0,writable:!0,value:B})};
$jscomp.polyfillIsolated=function(H,B,K,L){var m=H.split(".");H=1===m.length;L=m[0];L=!H&&L in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var h=0;h<m.length-1;h++){var e=m[h];if(!(e in L))return;L=L[e]}m=m[m.length-1];K=$jscomp.IS_SYMBOL_NATIVE&&"es6"===K?L[m]:null;B=B(K);null!=B&&(H?$jscomp.defineProperty($jscomp.polyfills,m,{configurable:!0,writable:!0,value:B}):B!==K&&(void 0===$jscomp.propertyToPolyfillSymbol[m]&&(K=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[m]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(m):$jscomp.POLYFILL_PREFIX+K+"$"+m),$jscomp.defineProperty(L,$jscomp.propertyToPolyfillSymbol[m],{configurable:!0,writable:!0,value:B})))};$jscomp.initSymbol=function(){};$jscomp.iteratorPrototype=function(H){H={next:H};H[Symbol.iterator]=function(){return this};return H};
$jscomp.iteratorFromArray=function(H,B){H instanceof String&&(H+="");var K=0,L=!1,m={next:function(){if(!L&&K<H.length){var h=K++;return{value:B(h,H[h]),done:!1}}L=!0;return{done:!0,value:void 0}}};m[Symbol.iterator]=function(){return m};return m};$jscomp.polyfill("Array.prototype.values",function(H){return H?H:function(){return $jscomp.iteratorFromArray(this,function(B,K){return K})}},"es8","es3");
(function(){var H={},B=function(m,h,e){if("string"!==typeof m)throw"module id must be a string";if(void 0===h)throw"no dependencies for "+m;if(void 0===e)throw"no definition function for "+m;H[m]={deps:h,defn:e,instance:void 0}},K=function(m){var h=H[m];if(void 0===h)throw"module ["+m+"] was undefined";if(void 0===h.instance){for(var e=H[m],f=e.deps,d=e.defn,a=f.length,b=Array(a),c=0;c<a;++c)b[c]=K(f[c]);f=d.apply(null,b);if(void 0===f)throw"module ["+m+"] returned undefined";e.instance=f}return h.instance},
L=function(m,h){B(m,[],function(){return h})};L("global!window",window);L("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);B("tinymce.core.ThemeManager",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.ThemeManager")});B("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.EditorManager")});B("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.util.Tools")});B("tinymce.themes.modern.api.Settings",
["tinymce.core.EditorManager","tinymce.core.util.Tools"],function(m,h){var e=function(d){return d.getParam("menubar")},f=function(d,a){for(var b=[],c=1;10>c;c++){var g=d["toolbar"+c];if(!g)break;b.push(g)}d=d.toolbar?[d.toolbar]:[a];return 0<b.length?b:d};return{isBrandingEnabled:function(d){return d.getParam("branding",!0)},hasMenubar:function(d){return!1!==e(d)},getMenubar:e,hasStatusbar:function(d){return d.getParam("statusbar",!0)},getToolbarSize:function(d){return d.getParam("toolbar_items_size")},
getResize:function(d){d=d.getParam("resize","vertical");return!1===d?"none":"both"===d?"both":"vertical"},isReadOnly:function(d){return d.getParam("readonly",!1)},getFixedToolbarContainer:function(d){return d.getParam("fixed_toolbar_container")},getInlineToolbarPositionHandler:function(d){return d.getParam("inline_toolbar_position_handler")},getMenu:function(d){return d.getParam("menu")},getRemovedMenuItems:function(d){return d.getParam("removed_menuitems","")},getMinWidth:function(d){return d.getParam("min_width",
100)},getMinHeight:function(d){return d.getParam("min_height",100)},getMaxWidth:function(d){return d.getParam("max_width",65535)},getMaxHeight:function(d){return d.getParam("max_height",65535)},getSkinUrl:function(d){var a=d.settings,b=a.skin;a=a.skin_url;!1!==b&&(b=b?b:"lightgray",a=a?d.documentBaseURI.toAbsolute(a):m.baseURL+"/skins/"+b);return a},isSkinDisabled:function(d){return!1===d.settings.skin},isInline:function(d){return d.getParam("inline",!1)},getToolbars:function(d){var a=d.getParam("toolbar");
return!1===a?[]:h.isArray(a)?h.grep(a,function(b){return 0<b.length}):f(d.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image")}}});B("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.dom.DOMUtils")});B("tinymce.core.ui.Factory",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.ui.Factory")});B("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],
function(m){return m("tinymce.util.I18n")});B("tinymce.themes.modern.api.Events",[],function(){return{fireSkinLoaded:function(m){return m.fire("SkinLoaded")},fireResizeEditor:function(m){return m.fire("ResizeEditor")},fireBeforeRenderUI:function(m){return m.fire("BeforeRenderUI")}}});B("tinymce.themes.modern.ui.A11y",[],function(){var m=function(h,e){return function(){var f=h.find(e)[0];f&&f.focus(!0)}};return{addKeys:function(h,e){h.shortcuts.add("Alt+F9","",m(e,"menubar"));h.shortcuts.add("Alt+F10,F10",
"",m(e,"toolbar"));h.shortcuts.add("Alt+F11","",m(e,"elementpath"));e.on("cancel",function(){h.focus()})}}});B("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.Env")});B("tinymce.core.geom.Rect",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.geom.Rect")});B("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.util.Delay")});L("global!Array",Array);L("global!Error",Error);B("ephox.katamari.api.Fun",
["global!Array","global!Error"],function(m,h){var e=function(a){return function(){return a}},f=e(!1),d=e(!0);return{noop:function(){},compose:function(a,b){return function(){return a(b.apply(null,arguments))}},constant:e,identity:function(a){return a},tripleEquals:function(a,b){return a===b},curry:function(a){for(var b=new m(arguments.length-1),c=1;c<arguments.length;c++)b[c-1]=arguments[c];return function(){for(var g=new m(arguments.length),l=0;l<g.length;l++)g[l]=arguments[l];g=b.concat(g);return a.apply(null,
g)}},not:function(a){return function(){return!a.apply(null,arguments)}},die:function(a){return function(){throw new h(a);}},apply:function(a){return a()},call:function(a){a()},never:f,always:d}});L("global!Object",Object);B("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(m,h){var e=m.never,f=m.always,d=function(){return a},a=function(){var c=function(n){return n.isNone()},g=function(n){return n()},l=function(n){return n};c={fold:function(n,t){return n()},is:e,isSome:e,
isNone:f,getOr:l,getOrThunk:g,getOrDie:function(n){throw Error(n||"error: getOrDie called on none.");},or:l,orThunk:g,map:d,ap:d,each:function(){},bind:d,flatten:d,exists:e,forall:f,filter:d,equals:c,equals_:c,toArray:function(){return[]},toString:m.constant("none()")};h.freeze&&h.freeze(c);return c}(),b=function(c){var g=function(){return c},l=function(){return t},n=function(v){return v(c)},t={fold:function(v,z){return z(c)},is:function(v){return c===v},isSome:f,isNone:e,getOr:g,getOrThunk:g,getOrDie:g,
or:l,orThunk:l,map:function(v){return b(v(c))},ap:function(v){return v.fold(d,function(z){return b(z(c))})},each:function(v){v(c)},bind:n,flatten:g,exists:n,forall:n,filter:function(v){return v(c)?t:a},equals:function(v){return v.is(c)},equals_:function(v,z){return v.fold(e,function(y){return z(c,y)})},toArray:function(){return[c]},toString:function(){return"some("+c+")"}};return t};return{some:b,none:d,from:function(c){return null===c||void 0===c?a:b(c)}}});B("tinymce.themes.modern.alien.UiContainer",
["ephox.katamari.api.Option","tinymce.core.Env","tinymce.core.dom.DOMUtils"],function(m,h,e){return{getUiContainerDelta:function(){var f=h.container;if(f&&"static"!==e.DOM.getStyle(f,"position",!0)){var d=e.DOM.getPos(f);return m.some({x:f.scrollLeft-d.x,y:f.scrollTop-d.y})}return m.none()}}});B("tinymce.themes.modern.ui.Toolbar",["tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.themes.modern.api.Settings"],function(m,h,e){var f=function(d,a,b){var c=[],g;if(a)return h.each(a.split(/[ ,]/),
function(l){var n=function(){var t=d.selection;l.settings.stateSelector&&t.selectorChanged(l.settings.stateSelector,function(v){l.active(v)},!0);l.settings.disabledStateSelector&&t.selectorChanged(l.settings.disabledStateSelector,function(v){l.disabled(v)})};if("|"===l)g=null;else if(g||(g={type:"buttongroup",items:[]},c.push(g)),d.buttons[l])if(l=d.buttons[l],"function"===typeof l&&(l=l()),l.type=l.type||"button",l.size=b,l=m.create(l),g.items.push(l),d.initialized)n();else d.on("init",n)}),{type:"toolbar",
layout:"flow",items:c}};return{createToolbar:f,createToolbars:function(d,a){var b=[];h.each(e.getToolbars(d),function(c){c&&b.push(f(d,c,a))});if(b.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:b}}}});B("tinymce.themes.modern.ui.ContextToolbars","tinymce.core.Env tinymce.core.dom.DOMUtils tinymce.core.geom.Rect tinymce.core.ui.Factory tinymce.core.util.Delay tinymce.core.util.Tools tinymce.themes.modern.alien.UiContainer tinymce.themes.modern.api.Settings tinymce.themes.modern.ui.Toolbar".split(" "),
function(m,h,e,f,d,a,b,c,g){var l=h.DOM,n=function(p){return{left:p.x,top:p.y,width:p.w,height:p.h,right:p.x+p.w,bottom:p.y+p.h}},t=function(p){a.each(p.contextToolbars,function(u){u.panel&&u.panel.hide()})},v=function(p,u){p.moveTo(u.left,u.top)},z=function(p,u,k){u=u?u.substr(0,2):"";a.each({t:"down",b:"up"},function(r,q){p.classes.toggle("arrow-"+r,k(q,u.substr(0,1)))});a.each({l:"left",r:"right"},function(r,q){p.classes.toggle("arrow-"+r,k(q,u.substr(1,1)))})},y=function(p,u,k,r,q,x){x=n({x:u,
y:k,w:x.w,h:x.h});p&&(x=p({elementRect:n(r),contentAreaRect:n(q),panelRect:x}));return x};return{addContextualToolbars:function(p){var u,k=function(C){var E=l.getPos(p.getContentAreaContainer());C=p.dom.getRect(C);var F=p.dom.getRoot();"BODY"===F.nodeName&&(C.x-=F.ownerDocument.documentElement.scrollLeft||F.scrollLeft,C.y-=F.ownerDocument.documentElement.scrollTop||F.scrollTop);C.x+=E.x;C.y+=E.y;return C},r=function(C,E){var F=c.getInlineToolbarPositionHandler(p);if(!p.removed)if(C&&C.toolbar.panel){var I=
C.toolbar.panel;E&&I.show();var G=k(C.element);E=l.getRect(I.getEl());var J=l.getRect(p.getContentAreaContainer()||p.getBody());var N=b.getUiContainerDelta().getOr({x:0,y:0});G.x+=N.x;G.y+=N.y;E.x+=N.x;E.y+=N.y;J.x+=N.x;J.y+=N.y;"inline"!==l.getStyle(C.element,"display",!0)&&(N=C.element.getBoundingClientRect(),G.w=N.width,G.h=N.height);p.inline||(J.w=p.getDoc().documentElement.offsetWidth);p.selection.controlSelection.isResizable(C.element)&&25>G.w&&(G=e.inflate(G,0,8));C=e.findBestRelativePosition(E,
G,J,"bc-tc tc-bc tl-bl bl-tl tr-br br-tr".split(" "));G=e.clamp(G,J);C?(N=e.relativePosition(E,G,C),v(I,y(F,N.x,N.y,G,J,E))):(J.h+=E.h,(G=e.intersect(J,G))?(C=e.findBestRelativePosition(E,G,J,["bc-tc","bl-tl","br-tr"]))?(N=e.relativePosition(E,G,C),v(I,y(F,N.x,N.y,G,J,E))):v(I,y(F,G.x,G.y,G,J,E)):I.hide());z(I,C,function(O,Q){return O===Q})}else t(p)},q=function(C){return function(){d.requestAnimationFrame(function(){p.selection&&r(D(p.selection.getNode()),C)})}},x=function(){if(!u){var C=q(!0);u=
p.selection.getScrollContainer()||p.getWin();l.bind(u,"scroll",C);l.bind(m.container,"scroll",C);p.on("remove",function(){l.unbind(u,"scroll",C);l.unbind(m.container,"scroll",C)})}},w=function(C){if(C.toolbar.panel)C.toolbar.panel.show();else{x();var E=f.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:g.createToolbar(p,C.toolbar.items),oncancel:function(){p.focus()}});
C.toolbar.panel=E;E.renderTo().reflow()}r(C)},A=function(){a.each(p.contextToolbars||[],function(C){C.panel&&C.panel.hide()})},D=function(C){var E,F=p.contextToolbars||[];var I=p.$(C).parents().add(C);for(C=I.length-1;0<=C;C--)for(E=F.length-1;0<=E;E--)if(F[E].predicate(I[C]))return{toolbar:F[E],element:I[C]};return null};p.on("click keyup setContent ObjectResized",function(C){("setcontent"!==C.type||C.selection)&&d.setEditorTimeout(p,function(){var E;(E=D(p.selection.getNode()))?(A(),w(E)):A()})});
p.on("blur hide contextmenu",A);p.on("ObjectResizeStart",function(){var C=D(p.selection.getNode());C&&C.toolbar.panel&&C.toolbar.panel.hide()});p.on("ResizeEditor ResizeWindow",q(!0));p.on("nodeChange",q(!1));p.on("remove",function(){a.each(p.contextToolbars||[],function(C){C.panel&&C.panel.remove()});p.contextToolbars={}});p.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var C=D(p.selection.getNode());C&&C.toolbar.panel&&C.toolbar.panel.items()[0].focus()})}}});L("global!String",String);
B("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(m,h,e,f){var d=function(){var p=h.prototype.indexOf,u=function(r,q){return p.call(r,q)},k=function(r,q){a:{for(var x=0,w=r.length;x<w;++x)if(r[x]===q){r=x;break a}r=-1}return r};return void 0===p?k:u}(),a=function(p,u){return-1<d(p,u)},b=function(p,u){for(var k=p.length,r=new h(k),q=0;q<k;q++)r[q]=u(p[q],q,p);return r},c=function(p,u){for(var k=0,r=p.length;k<r;k++)u(p[k],k,p)},g=function(p,
u){for(var k=p.length-1;0<=k;k--)u(p[k],k,p)},l=function(p,u){for(var k=[],r=0,q=p.length;r<q;r++){var x=p[r];u(x,r,p)&&k.push(x)}return k},n=function(p,u){for(var k=0,r=p.length;k<r;k++)if(u(p[k],k,p))return m.some(k);return m.none()},t=h.prototype.push,v=function(p){for(var u=[],k=0,r=p.length;k<r;++k){if(!h.prototype.isPrototypeOf(p[k]))throw new e("Arr.flatten item "+k+" was not an array, input: "+p);t.apply(u,p[k])}return u},z=function(p,u){for(var k=0,r=p.length;k<r;++k)if(!0!==u(p[k],k,p))return!1;
return!0},y=h.prototype.slice;return{map:b,each:c,eachr:g,partition:function(p,u){for(var k=[],r=[],q=0,x=p.length;q<x;q++){var w=p[q];(u(w,q,p)?k:r).push(w)}return{pass:k,fail:r}},filter:l,groupBy:function(p,u){if(0===p.length)return[];for(var k=u(p[0]),r=[],q=[],x=0,w=p.length;x<w;x++){var A=p[x],D=u(A);D!==k&&(r.push(q),q=[]);k=D;q.push(A)}0!==q.length&&r.push(q);return r},indexOf:function(p,u){p=d(p,u);return-1===p?m.none():m.some(p)},foldr:function(p,u,k){g(p,function(r){k=u(k,r)});return k},
foldl:function(p,u,k){c(p,function(r){k=u(k,r)});return k},find:function(p,u){for(var k=0,r=p.length;k<r;k++){var q=p[k];if(u(q,k,p))return m.some(q)}return m.none()},findIndex:n,flatten:v,bind:function(p,u){p=b(p,u);return v(p)},forall:z,exists:function(p,u){return n(p,u).isSome()},contains:a,equal:function(p,u){return p.length===u.length&&z(p,function(k,r){return k===u[r]})},reverse:function(p){p=y.call(p,0);p.reverse();return p},chunk:function(p,u){for(var k=[],r=0;r<p.length;r+=u){var q=p.slice(r,
r+u);k.push(q)}return k},difference:function(p,u){return l(p,function(k){return!a(u,k)})},mapToObject:function(p,u){for(var k={},r=0,q=p.length;r<q;r++){var x=p[r];k[f(x)]=u(x,r)}return k},pure:function(p){return[p]},sort:function(p,u){p=y.call(p,0);p.sort(u);return p},range:function(p,u){for(var k=[],r=0;r<p;r++)k.push(u(r));return k},head:function(p){return 0===p.length?m.none():m.some(p[0])},last:function(p){return 0===p.length?m.none():m.some(p[p.length-1])}}});B("tinymce.themes.modern.ui.Menubar",
["ephox.katamari.api.Arr","tinymce.core.util.Tools","tinymce.themes.modern.api.Settings"],function(m,h,e){var f={file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},
format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck"},table:{title:"Table"},help:{title:"Help"}},d=function(){return{name:"|",item:{text:"|"}}},a=function(n,t){t=t?{name:n,item:t}:null;return"|"===n?d():t},b=function(n,t){return m.findIndex(n,function(v){return v.name===t}).isSome()},c=function(n){return n&&"|"===n.item.text},g=function(n,t){n=
m.filter(n,function(v){return!1===t.hasOwnProperty(v.name)});n=m.filter(n,function(v,z,y){return!c(v)||!c(y[z-1])});return m.filter(n,function(v,z,y){return!c(v)||0<z&&z<y.length-1})},l=function(n,t,v,z){if(t){t=t[z];var y=!0}else t=f[z];if(t){var p={text:t.title};var u=[];h.each((t.items||"").split(/[ ,]/),function(k){(k=a(k,n[k]))&&u.push(k)});y||h.each(n,function(k,r){k.context!==z||b(u,r)||("before"===k.separator&&u.push(d()),k.prependToContext?u.unshift(a(r,k)):u.push(a(r,k)),"after"===k.separator&&
u.push(d()))});p.menu=m.map(g(u,v),function(k){return k.item});if(!p.menu.length)return null}return p};return{createMenuButtons:function(n){var t=[],v=[],z=e.getMenu(n);if(z)for(y in z)v.push(y);else for(y in f)v.push(y);var y=h.makeMap(e.getRemovedMenuItems(n).split(/[ ,]/));z=e.getMenubar(n);v="string"===typeof z?z.split(/[ ,]/):v;for(z=0;z<v.length;z++){var p=v[z];(p=l(n.menuItems,e.getMenu(n),y,p))&&t.push(p)}return t}}});B("tinymce.themes.modern.ui.Resize",["tinymce.core.dom.DOMUtils","tinymce.themes.modern.api.Events",
"tinymce.themes.modern.api.Settings"],function(m,h,e){var f=m.DOM,d=function(a,b,c){var g=a.getContainer();var l=a.getContentAreaContainer().firstChild;var n=g.clientWidth;var t=l.clientWidth;null!==b&&(b=Math.max(e.getMinWidth(a),b),b=Math.min(e.getMaxWidth(a),b),f.setStyle(g,"width",b+(n-t)),f.setStyle(l,"width",b));c=Math.max(e.getMinHeight(a),c);c=Math.min(e.getMaxHeight(a),c);f.setStyle(l,"height",c);h.fireResizeEditor(a)};return{resizeTo:d,resizeBy:function(a,b,c){var g=a.getContentAreaContainer();
d(a,g.clientWidth+b,g.clientHeight+c)}}});B("tinymce.themes.modern.ui.Sidebar",["tinymce.core.Env","tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.themes.modern.api.Events"],function(m,h,e,f){var d=function(n){return{element:function(){return n}}},a=function(n,t,v){(n=n.settings[v])&&n(d(t.getEl("body")))},b=function(n,t,v){e.each(v,function(z){var y=t.items().filter("#"+z.name)[0];y&&y.visible()&&z.name!==n&&(a(z,y,"onhide"),y.visible(!1))})},c=function(n){n.items().each(function(t){t.active(!1)})},
g=function(n,t){return e.grep(n,function(v){return v.name===t})[0]},l=function(n,t,v){return function(z){z=z.control;var y=z.parents().filter("panel")[0],p=y.find("#"+t)[0],u=g(v,t);b(t,y,v);c(z.parent());p&&p.visible()?(a(u,p,"onhide"),p.hide(),z.active(!1)):(p?p.show():(p=h.create({type:"container",name:t,layout:"stack",classes:"sidebar-panel",html:""}),y.prepend(p),a(u,p,"onrender")),a(u,p,"onshow"),z.active(!0));f.fireResizeEditor(n)}};return{hasSidebar:function(n){return(!m.ie||11<=m.ie)&&n.sidebars?
0<n.sidebars.length:!1},createSidebar:function(n){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:e.map(n.sidebars,function(t){var v=t.settings;return{type:"button",icon:v.icon,image:v.image,tooltip:v.tooltip,onclick:l(n,t.name,n.sidebars)}})}]}}}});B("tinymce.themes.modern.ui.SkinLoaded",["tinymce.themes.modern.api.Events"],function(m){return{fireSkinLoaded:function(h){var e=function(){h._skinLoaded=!0;m.fireSkinLoaded(h)};
return function(){if(h.initialized)e();else h.on("init",e)}}}});B("tinymce.themes.modern.modes.Iframe","tinymce.core.dom.DOMUtils tinymce.core.ui.Factory tinymce.core.util.I18n tinymce.core.util.Tools tinymce.themes.modern.api.Events tinymce.themes.modern.api.Settings tinymce.themes.modern.ui.A11y tinymce.themes.modern.ui.ContextToolbars tinymce.themes.modern.ui.Menubar tinymce.themes.modern.ui.Resize tinymce.themes.modern.ui.Sidebar tinymce.themes.modern.ui.SkinLoaded tinymce.themes.modern.ui.Toolbar".split(" "),
function(m,h,e,f,d,a,b,c,g,l,n,t,v){var z=m.DOM,y=function(k){return function(r){k.find("*").disabled("readonly"===r.mode)}},p=function(k){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:k,html:""}},u=function(k){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[p("0"),n.createSidebar(k)]}};return{render:function(k,r,q){var x,w,A;!1===a.isSkinDisabled(k)&&q.skinUiCss?z.styleSheetLoader.load(q.skinUiCss,t.fireSkinLoaded(k)):t.fireSkinLoaded(k)();
var D=r.panel=h.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[!1===a.hasMenubar(k)?null:{type:"menubar",border:"0 0 1 0",items:g.createMenuButtons(k)},v.createToolbars(k,a.getToolbarSize(k))]},n.hasSidebar(k)?u(k):p("1 0 0 0")]});"none"!==a.getResize(k)&&(A={type:"resizehandle",direction:a.getResize(k),onResizeStart:function(){var C=k.getContentAreaContainer().firstChild;x=C.clientWidth;
w=C.clientHeight},onResize:function(C){"both"===a.getResize(k)?l.resizeTo(k,x+C.deltaX,w+C.deltaY):l.resizeTo(k,null,w+C.deltaY)}});a.hasStatusbar(k)&&(r=e.translate(["Powered by {0}",'<a href="https://www.tinymce.com/?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce" rel="noopener" target="_blank">tinymce</a>']),r=a.isBrandingEnabled(k)?{type:"label",classes:"branding",html:" "+r}:null,D.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,
items:[{type:"elementpath",editor:k},A,r]}));d.fireBeforeRenderUI(k);k.on("SwitchMode",y(D));D.renderBefore(q.targetNode).reflow();a.isReadOnly(k)&&k.setMode("readonly");q.width&&z.setStyle(D.getEl(),"width",q.width);k.on("remove",function(){D.remove();D=null});b.addKeys(k,D);c.addContextualToolbars(k);return{iframeContainer:D.find("#iframe")[0].getEl(),editorContainer:D.getEl()}}}});L("global!document",document);B("tinymce.core.dom.DomQuery",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.dom.DomQuery")});
B("tinymce.ui.DomUtils",["global!document","tinymce.core.dom.DOMUtils","tinymce.core.Env","tinymce.core.util.Tools"],function(m,h,e,f){var d=0,a={id:function(){return"mceu_"+d++},create:function(b,c,g){var l=m.createElement(b);h.DOM.setAttribs(l,c);"string"===typeof g?l.innerHTML=g:f.each(g,function(n){n.nodeType&&l.appendChild(n)});return l},createFragment:function(b){return h.DOM.createFragment(b)},getWindowSize:function(){return h.DOM.getViewPort()},getSize:function(b){if(b.getBoundingClientRect){var c=
b.getBoundingClientRect();var g=Math.max(c.width||c.right-c.left,b.offsetWidth);b=Math.max(c.height||c.bottom-c.bottom,b.offsetHeight)}else g=b.offsetWidth,b=b.offsetHeight;return{width:g,height:b}},getPos:function(b,c){return h.DOM.getPos(b,c||a.getContainer())},getContainer:function(){return e.container?e.container:m.body},getViewPort:function(b){return h.DOM.getViewPort(b)},get:function(b){return m.getElementById(b)},addClass:function(b,c){return h.DOM.addClass(b,c)},removeClass:function(b,c){return h.DOM.removeClass(b,
c)},hasClass:function(b,c){return h.DOM.hasClass(b,c)},toggleClass:function(b,c,g){return h.DOM.toggleClass(b,c,g)},css:function(b,c,g){return h.DOM.setStyle(b,c,g)},getRuntimeStyle:function(b,c){return h.DOM.getStyle(b,c,!0)},on:function(b,c,g,l){return h.DOM.bind(b,c,g,l)},off:function(b,c,g){return h.DOM.unbind(b,c,g)},fire:function(b,c,g){return h.DOM.fire(b,c,g)},innerHtml:function(b,c){h.DOM.setHTML(b,c)}};return a});B("tinymce.ui.Movable",["global!document","global!window","tinymce.ui.DomUtils"],
function(m,h,e){function f(d,a,b){var c=e.getViewPort();var g=e.getPos(a);var l=g.x;g=g.y;d.state.get("fixed")&&"static"==e.getRuntimeStyle(m.body,"position")&&(l-=c.x,g-=c.y);d=d.getEl();var n=e.getSize(d);d=n.width;c=n.height;n=e.getSize(a);a=n.width;n=n.height;b=(b||"").split("");"b"===b[0]&&(g+=n);"r"===b[1]&&(l+=a);"c"===b[0]&&(g+=Math.round(n/2));"c"===b[1]&&(l+=Math.round(a/2));"b"===b[3]&&(g-=c);"r"===b[4]&&(l-=d);"c"===b[3]&&(g-=Math.round(c/2));"c"===b[4]&&(l-=Math.round(d/2));return{x:l,
y:g,w:d,h:c}}return{testMoveRel:function(d,a){for(var b=e.getViewPort(),c=0;c<a.length;c++){var g=f(this,d,a[c]);if(this.state.get("fixed")){if(0<g.x&&g.x+g.w<b.w&&0<g.y&&g.y+g.h<b.h)return a[c]}else if(g.x>b.x&&g.x+g.w<b.w+b.x&&g.y>b.y&&g.y+g.h<b.h+b.y)return a[c]}return a[0]},moveRel:function(d,a){"string"!=typeof a&&(a=this.testMoveRel(d,a));d=f(this,d,a);return this.moveTo(d.x,d.y)},moveBy:function(d,a){var b=this.layoutRect();this.moveTo(b.x+d,b.y+a);return this},moveTo:function(d,a){function b(l,
n,t){return 0>l?0:l+t>n?(l=n-t,0>l?0:l):l}if(this.settings.constrainToViewport){var c=e.getViewPort(h),g=this.layoutRect();d=b(d,c.w+c.x,g.w);a=b(a,c.h+c.y,g.h)}this.state.get("rendered")?this.layoutRect({x:d,y:a}).repaint():(this.settings.x=d,this.settings.y=a);this.fire("move",{x:d,y:a});return this}}});B("tinymce.core.util.Class",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.util.Class")});B("tinymce.core.util.EventDispatcher",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.util.EventDispatcher")});
B("tinymce.ui.BoxUtils",["global!document"],function(m){return{parseBox:function(h){if(h){if("number"===typeof h)return h=h||0,{top:h,left:h,bottom:h,right:h};h=h.split(" ");var e=h.length;1===e?h[1]=h[2]=h[3]=h[0]:2===e?(h[2]=h[0],h[3]=h[1]):3===e&&(h[3]=h[1]);return{top:parseInt(h[0],10)||0,right:parseInt(h[1],10)||0,bottom:parseInt(h[2],10)||0,left:parseInt(h[3],10)||0}}},measureBox:function(h,e){function f(a){var b=m.defaultView;return b?(a=a.replace(/[A-Z]/g,function(c){return"-"+c}),b.getComputedStyle(h,
null).getPropertyValue(a)):h.currentStyle[a]}function d(a){a=parseFloat(f(a),10);return isNaN(a)?0:a}return{top:d(e+"TopWidth"),right:d(e+"RightWidth"),bottom:d(e+"BottomWidth"),left:d(e+"LeftWidth")}}}});B("tinymce.ui.ClassList",["tinymce.core.util.Tools"],function(m){function h(){}function e(f){this.cls=[];this.cls._map={};this.onchange=f||h;this.prefix=""}m.extend(e.prototype,{add:function(f){f&&!this.contains(f)&&(this.cls._map[f]=!0,this.cls.push(f),this._change());return this},remove:function(f){if(this.contains(f)){for(var d=
0;d<this.cls.length&&this.cls[d]!==f;d++);this.cls.splice(d,1);delete this.cls._map[f];this._change()}return this},toggle:function(f,d){var a=this.contains(f);a!==d&&(a?this.remove(f):this.add(f),this._change());return this},contains:function(f){return!!this.cls._map[f]},_change:function(){delete this.clsValue;this.onchange.call(this)}});e.prototype.toString=function(){if(this.clsValue)return this.clsValue;var f="";for(var d=0;d<this.cls.length;d++)0<d&&(f+=" "),f+=this.prefix+this.cls[d];return f};
return e});B("tinymce.ui.Selector",["tinymce.core.util.Class"],function(m){function h(c){for(var g=[],l=c.length,n;l--;)n=c[l],n.__checked||(g.push(n),n.__checked=1);for(l=g.length;l--;)delete g[l].__checked;return g}var e=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?::(.+))?/i,f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d=/^\s*|\s*$/g,a,b=m.extend({init:function(c){function g(u){if(u)return u=
u.toLowerCase(),function(k){return"*"===u||k.type===u}}function l(u){if(u)return function(k){return k._name===u}}function n(u){if(u)return u=u.split("."),function(k){for(var r=u.length;r--;)if(!k.classes.contains(u[r]))return!1;return!0}}function t(u,k,r){if(u)return function(q){q=q[u]?q[u]():"";return k?"="===k?q===r:"*="===k?0<=q.indexOf(r):"~="===k?0<=(" "+q+" ").indexOf(" "+r+" "):"!="===k?q!=r:"^="===k?0===q.indexOf(r):"$="===k?q.substr(q.length-r.length)===r:!1:!!r}}function v(u){if(u){u=/(?:not\((.+)\))|(.+)/i.exec(u);
if(!u[1])return u=u[2],function(r,q,x){return"first"===u?0===q:"last"===u?q===x-1:"even"===u?0===q%2:"odd"===u?1===q%2:r[u]?r[u]():!1};var k=y(u[1],[]);return function(r){return!p(r,k)}}}function z(u,k,r){function q(x){x&&k.push(x)}u=e.exec(u.replace(d,""));q(g(u[1]));q(l(u[2]));q(n(u[3]));q(t(u[4],u[5],u[6]));q(v(u[7]));k.pseudo=!!u[7];k.direct=r;return k}function y(u,k){var r=[],q;do if(f.exec(""),q=f.exec(u))if(u=q[3],r.push(q[1]),q[2]){var x=q[3];break}while(q);x&&y(x,k);u=[];for(x=0;x<r.length;x++)">"!=
r[x]&&u.push(z(r[x],[],">"===r[x-1]));k.push(u);return k}var p=this.match;this._selectors=y(c,[])},match:function(c,g){var l,n,t,v,z,y;g=g||this._selectors;var p=0;for(l=g.length;p<l;p++){var u=g[p];var k=u.length;var r=c;var q=0;for(n=k-1;0<=n;n--)for(v=u[n];r;){if(v.pseudo){var x=r.parent().items();for(z=y=x.length;z--&&x[z]!==r;);}x=0;for(t=v.length;x<t;x++)if(!v[x](r,z,y)){x=t+1;break}if(x===t){q++;break}else if(n===k-1)break;r=r.parent()}if(q===k)return!0}return!1},find:function(c){function g(z,
y,p){var u,k,r=y[p];var q=0;for(u=z.length;q<u;q++){var x=z[q];var w=0;for(k=r.length;w<k;w++)if(!r[w](x,q,u)){w=k+1;break}if(w===k)p==y.length-1?l.push(x):x.items&&g(x.items(),y,p+1);else if(r.direct)break;x.items&&g(x.items(),y,p)}}var l=[],n,t=this._selectors;if(c.items){var v=0;for(n=t.length;v<n;v++)g(c.items(),t[v],0);1<n&&(l=h(l))}a||(a=b.Collection);return new a(l)}});return b});B("tinymce.ui.Collection",["tinymce.core.util.Tools","tinymce.ui.Selector","tinymce.core.util.Class"],function(m,
h,e){var f=Array.prototype.push,d=Array.prototype.slice;var a={length:0,init:function(c){c&&this.add(c)},add:function(c){m.isArray(c)?f.apply(this,c):c instanceof b?this.add(c.toArray()):f.call(this,c);return this},set:function(c){var g=this.length;this.length=0;this.add(c);for(c=this.length;c<g;c++)delete this[c];return this},filter:function(c){var g,l=[];if("string"===typeof c){c=new h(c);var n=function(z){return c.match(z)}}else n=c;var t=0;for(g=this.length;t<g;t++){var v=this[t];n(v)&&l.push(v)}return new b(l)},
slice:function(){return new b(d.apply(this,arguments))},eq:function(c){return-1===c?this.slice(c):this.slice(c,+c+1)},each:function(c){m.each(this,c);return this},toArray:function(){return m.toArray(this)},indexOf:function(c){for(var g=this.length;g--&&this[g]!==c;);return g},reverse:function(){return new b(m.toArray(this).reverse())},hasClass:function(c){return this[0]?this[0].classes.contains(c):!1},prop:function(c,g){var l;if(void 0!==g)return this.each(function(n){if(n[c])n[c](g)}),this;if((l=
this[0])&&l[c])return l[c]()},exec:function(c){var g=m.toArray(arguments).slice(1);this.each(function(l){l[c]&&l[c].apply(l,g)});return this},remove:function(){for(var c=this.length;c--;)this[c].remove();return this},addClass:function(c){return this.each(function(g){g.classes.add(c)})},removeClass:function(c){return this.each(function(g){g.classes.remove(c)})}};m.each("fire on off show hide append prepend before after reflow".split(" "),function(c){a[c]=function(){var g=m.toArray(arguments);this.each(function(l){c in
l&&l[c].apply(l,g)});return this}});m.each("text name disabled active selected checked visible parent value data".split(" "),function(c){a[c]=function(g){return this.prop(c,g)}});var b=e.extend(a);return h.Collection=b});B("tinymce.ui.data.Binding",[],function(){function m(h){this.create=h.create}m.create=function(h,e){return new m({create:function(f,d){function a(c){f.set(d,c.value)}f.on("change:"+d,function(c){h.set(e,c.value)});h.on("change:"+e,a);var b=f._bindings;b||(b=f._bindings=[],f.on("destroy",
function(){for(var c=b.length;c--;)b[c]()}));b.push(function(){h.off("change:"+e,a)});return h.get(e)}})};return m});B("tinymce.core.util.Observable",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.util.Observable")});B("tinymce.ui.data.ObservableObject",["tinymce.ui.data.Binding","tinymce.core.util.Class","tinymce.core.util.Observable","tinymce.core.util.Tools"],function(m,h,e,f){function d(a,b){var c;if(a===b)return!0;if(null===a||null===b||"object"!==typeof a||"object"!==typeof b)return a===
b;if(f.isArray(b)){if(a.length!==b.length)return!1;for(c=a.length;c--;)if(!d(a[c],b[c]))return!1}if(0<a.nodeType||0<b.nodeType)return a===b;var g={};for(c in b){if(!d(a[c],b[c]))return!1;g[c]=!0}for(c in a)if(!g[c]&&!d(a[c],b[c]))return!1;return!0}return h.extend({Mixins:[e],init:function(a){var b;a=a||{};for(b in a){var c=a[b];c instanceof m&&(a[b]=c.create(this,b))}this.data=a},set:function(a,b){var c,g=this.data[a];b instanceof m&&(b=b.create(this,a));if("object"===typeof a){for(c in a)this.set(c,
a[c]);return this}d(g,b)||(this.data[a]=b,b={target:this,name:a,value:b,oldValue:g},this.fire("change:"+a,b),this.fire("change",b));return this},get:function(a){return this.data[a]},has:function(a){return a in this.data},bind:function(a){return m.create(this,a)},destroy:function(){this.fire("destroy")}})});B("tinymce.ui.ReflowQueue",["global!document","tinymce.core.util.Delay"],function(m,h){var e={},f;return{add:function(d){(d=d.parent())&&d._layout&&!d._layout.isNative()&&(e[d._id]||(e[d._id]=d),
f||(f=!0,h.requestAnimationFrame(function(){var a;f=!1;for(a in e){var b=e[a];b.state.get("rendered")&&b.reflow()}e={}},m.body)))},remove:function(d){e[d._id]&&delete e[d._id]}}});B("tinymce.ui.Control","global!document tinymce.core.dom.DomQuery tinymce.core.util.Class tinymce.core.util.EventDispatcher tinymce.core.util.Tools tinymce.ui.BoxUtils tinymce.ui.ClassList tinymce.ui.Collection tinymce.ui.data.ObservableObject tinymce.ui.DomUtils tinymce.ui.ReflowQueue".split(" "),function(m,h,e,f,d,a,b,
c,g,l,n){function t(k){k._eventDispatcher||(k._eventDispatcher=new f({scope:k,toggleEvent:function(r,q){q&&f.isNative(r)&&(k._nativeEvents||(k._nativeEvents={}),k._nativeEvents[r]=!0,k.state.get("rendered")&&v(k))}}));return k._eventDispatcher}function v(k){function r(G){var J=k.getParentCtrl(G.target);J&&J.fire(G.type,G)}function q(){var G=I._lastHoverCtrl;G&&(G.fire("mouseleave",{target:G.getEl()}),G.parents().each(function(J){J.fire("mouseleave",{target:J.getEl()})}),I._lastHoverCtrl=null)}function x(G){var J=
k.getParentCtrl(G.target);G=I._lastHoverCtrl;var N=0,O;if(J!==G){I._lastHoverCtrl=J;var Q=J.parents().toArray().reverse();Q.push(J);if(G){J=G.parents().toArray().reverse();J.push(G);for(N=0;N<J.length&&Q[N]===J[N];N++);for(O=J.length-1;O>=N;O--)G=J[O],G.fire("mouseleave",{target:G.getEl()})}for(O=N;O<Q.length;O++)J=Q[O],J.fire("mouseenter",{target:J.getEl()})}}function w(G){G.preventDefault();"mousewheel"==G.type?(G.deltaY=-.025*G.wheelDelta,G.wheelDeltaX&&(G.deltaX=-.025*G.wheelDeltaX)):(G.deltaX=
0,G.deltaY=G.detail);k.fire("wheel",G)}var A,D,C;if(D=k._nativeEvents){var E=k.parents().toArray();E.unshift(k);var F=0;for(A=E.length;!I&&F<A;F++)var I=E[F]._eventsRoot;I||(I=E[E.length-1]||k);k._eventsRoot=I;A=F;for(F=0;F<A;F++)E[F]._eventsRoot=I;F=I._delegates;F||(F=I._delegates={});for(C in D){if(!D)return!1;if("wheel"===C)if(z)h(k.getEl()).on("mousewheel",w);else h(k.getEl()).on("DOMMouseScroll",w);else"mouseenter"===C||"mouseleave"===C?I._hasMouseEnter||(h(I.getEl()).on("mouseleave",q).on("mouseover",
x),I._hasMouseEnter=1):F[C]||(h(I.getEl()).on(C,r),F[C]=!0),D[C]=!1}}}var z="onmousewheel"in m,y,p=0,u={Statics:{classPrefix:"mce-"},isRtl:function(){return y.rtl},classPrefix:"mce-",init:function(k){function r(A){var D;A=A.split(" ");for(D=0;D<A.length;D++)q.classes.add(A[D])}var q=this,x,w;q.settings=k=d.extend({},q.Defaults,k);q._id=k.id||"mceu_"+p++;q._aria={role:k.role};q._elmCache={};q.$=h;q.state=new g({visible:!0,active:!1,disabled:!1,value:""});q.data=new g(k.data);q.classes=new b(function(){q.state.get("rendered")&&
(q.getEl().className=this.toString())});q.classes.prefix=q.classPrefix;if(x=k.classes)q.Defaults&&(w=q.Defaults.classes)&&x!=w&&r(w),r(x);d.each("title text name visible disabled active value".split(" "),function(A){if(A in k)q[A](k[A])});q.on("click",function(){if(q.disabled())return!1});q.settings=k;q.borderBox=a.parseBox(k.border);q.paddingBox=a.parseBox(k.padding);q.marginBox=a.parseBox(k.margin);k.hidden&&q.hide()},Properties:"parent,name",getContainerElm:function(){return l.getContainer()},
getParentCtrl:function(k){for(var r,q=this.getRoot().controlIdLookup;k&&q&&!(r=q[k.id]);)k=k.parentNode;return r},initLayoutRect:function(){var k=this.settings,r=this.getEl();var q=this.borderBox=this.borderBox||a.measureBox(r,"border");this.paddingBox=this.paddingBox||a.measureBox(r,"padding");this.marginBox=this.marginBox||a.measureBox(r,"margin");var x=l.getSize(r);var w=k.minWidth;var A=k.minHeight;r=w||x.width;var D=A||x.height;x=k.width;var C=k.height;var E=k.autoResize;E="undefined"!=typeof E?
E:!x&&!C;x=x||r;C=C||D;var F=q.left+q.right;q=q.top+q.bottom;var I=k.maxWidth||65535,G=k.maxHeight||65535;this._layoutRect=k={x:k.x||0,y:k.y||0,w:x,h:C,deltaW:F,deltaH:q,contentW:x-F,contentH:C-q,innerW:x-F,innerH:C-q,startMinWidth:w||0,startMinHeight:A||0,minW:Math.min(r,I),minH:Math.min(D,G),maxW:I,maxH:G,autoResize:E,scrollW:0};this._lastLayoutRect={};return k},layoutRect:function(k){var r=this._layoutRect;r||(r=this.initLayoutRect());if(k){var q=r.deltaW;var x=r.deltaH;void 0!==k.x&&(r.x=k.x);
void 0!==k.y&&(r.y=k.y);void 0!==k.minW&&(r.minW=k.minW);void 0!==k.minH&&(r.minH=k.minH);var w=k.w;void 0!==w&&(w=w<r.minW?r.minW:w,w=w>r.maxW?r.maxW:w,r.w=w,r.innerW=w-q);w=k.h;void 0!==w&&(w=w<r.minH?r.minH:w,w=w>r.maxH?r.maxH:w,r.h=w,r.innerH=w-x);w=k.innerW;void 0!==w&&(w=w<r.minW-q?r.minW-q:w,w=w>r.maxW-q?r.maxW-q:w,r.innerW=w,r.w=w+q);w=k.innerH;void 0!==w&&(w=w<r.minH-x?r.minH-x:w,w=w>r.maxH-x?r.maxH-x:w,r.innerH=w,r.h=w+x);void 0!==k.contentW&&(r.contentW=k.contentW);void 0!==k.contentH&&
(r.contentH=k.contentH);k=this._lastLayoutRect;if(k.x!==r.x||k.y!==r.y||k.w!==r.w||k.h!==r.h)(w=y.repaintControls)&&w.map&&!w.map[this._id]&&(w.push(this),w.map[this._id]=!0),k.x=r.x,k.y=r.y,k.w=r.w,k.h=r.h;return this}return r},repaint:function(){var k;var r=m.createRange?function(E){return E}:Math.round;var q=this.getEl().style;var x=this._layoutRect;var w=this._lastRepaintRect||{};var A=this.borderBox;var D=A.left+A.right;A=A.top+A.bottom;x.x!==w.x&&(q.left=r(x.x)+"px",w.x=x.x);x.y!==w.y&&(q.top=
r(x.y)+"px",w.y=x.y);x.w!==w.w&&(D=r(x.w-D),q.width=(0<=D?D:0)+"px",w.w=x.w);x.h!==w.h&&(D=r(x.h-A),q.height=(0<=D?D:0)+"px",w.h=x.h);if(this._hasBody&&x.innerW!==w.innerW){D=r(x.innerW);if(k=this.getEl("body")){var C=k.style;C.width=(0<=D?D:0)+"px"}w.innerW=x.innerW}if(this._hasBody&&x.innerH!==w.innerH){D=r(x.innerH);if(k=k||this.getEl("body"))C=C||k.style,C.height=(0<=D?D:0)+"px";w.innerH=x.innerH}this._lastRepaintRect=w;this.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=
null;l.css(this.getEl(),{width:"",height:""});this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null;this.initLayoutRect()},on:function(k,r){var q=this;t(q).on(k,function(x){var w,A;return"string"!=typeof x?x:function(D){w||q.parentsAndSelf().each(function(C){var E=C.settings.callbacks;if(E&&(w=E[x]))return A=C,!1});if(w)return w.call(A,D);D.action=x;this.fire("execute",D)}}(r));return q},off:function(k,r){t(this).off(k,r);return this},fire:function(k,r,q){r=r||{};r.control||(r.control=
this);r=t(this).fire(k,r);if(!1!==q&&this.parent)for(q=this.parent();q&&!r.isPropagationStopped();)q.fire(k,r,!1),q=q.parent();return r},hasEventListeners:function(k){return t(this).has(k)},parents:function(k){var r,q=new c;for(r=this.parent();r;r=r.parent())q.add(r);k&&(q=q.filter(k));return q},parentsAndSelf:function(k){return(new c(this)).add(this.parents(k))},next:function(){var k=this.parent().items();return k[k.indexOf(this)+1]},prev:function(){var k=this.parent().items();return k[k.indexOf(this)-
1]},innerHtml:function(k){this.$el.html(k);return this},getEl:function(k){k=k?this._id+"-"+k:this._id;this._elmCache[k]||(this._elmCache[k]=h("#"+k)[0]);return this._elmCache[k]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(k){}return this},blur:function(){this.getEl().blur();return this},aria:function(k,r){var q=this.getEl(this.ariaTarget);if("undefined"===typeof r)return this._aria[k];this._aria[k]=r;this.state.get("rendered")&&
q.setAttribute("role"==k?k:"aria-"+k,r);return this},encode:function(k,r){!1!==r&&(k=this.translate(k));return(k||"").replace(/[&<>"]/g,function(q){return"&#"+q.charCodeAt(0)+";"})},translate:function(k){return y.translate?y.translate(k):k},before:function(k){var r=this.parent();r&&r.insert(k,r.items().indexOf(this),!0);return this},after:function(k){var r=this.parent();r&&r.insert(k,r.items().indexOf(this));return this},remove:function(){var k=this,r=k.getEl(),q=k.parent(),x;if(k.items){var w=k.items().toArray();
for(x=w.length;x--;)w[x].remove()}if(q&&q.items){var A=[];q.items().each(function(D){D!==k&&A.push(D)});q.items().set(A);q._lastRect=null}k._eventsRoot&&k._eventsRoot==k&&h(r).off();(q=k.getRoot().controlIdLookup)&&delete q[k._id];r&&r.parentNode&&r.parentNode.removeChild(r);k.state.set("rendered",!1);k.state.destroy();k.fire("remove");return k},renderBefore:function(k){h(k).before(this.renderHtml());this.postRender();return this},renderTo:function(k){h(k||this.getContainerElm()).append(this.renderHtml());
this.postRender();return this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var k=this,r=k.settings,q,x;k.$el=h(k.getEl());k.state.set("rendered",!0);for(x in r)if(0===x.indexOf("on"))k.on(x.substr(2),r[x]);if(k._eventsRoot){for(q=k.parent();!w&&q;q=q.parent())var w=q._eventsRoot;if(w)for(x in w._nativeEvents)k._nativeEvents[x]=!0}v(k);r.style&&(q=k.getEl())&&(q.setAttribute("style",r.style),
q.style.cssText=r.style);k.settings.border&&(r=k.borderBox,k.$el.css({"border-top-width":r.top,"border-right-width":r.right,"border-bottom-width":r.bottom,"border-left-width":r.left}));r=k.getRoot();r.controlIdLookup||(r.controlIdLookup={});r.controlIdLookup[k._id]=k;for(var A in k._aria)k.aria(A,k._aria[A]);!1===k.state.get("visible")&&(k.getEl().style.display="none");k.bindStates();k.state.on("change:visible",function(D){D=D.value;var C;k.state.get("rendered")&&(k.getEl().style.display=!1===D?"none":
"",k.getEl().getBoundingClientRect());if(C=k.parent())C._lastRect=null;k.fire(D?"show":"hide");n.add(k)});k.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(k){var r=this.getEl(),q=r.parentNode,x,w;var A=r;for(x=w=0;A&&A!=q&&A.nodeType;)x+=A.offsetLeft||0,w+=A.offsetTop||0,A=A.offsetParent;A=r.offsetWidth;r=r.offsetHeight;var D=q.clientWidth;var C=q.clientHeight;"end"==k?(x-=D-A,w-=C-r):"center"==k&&(x-=D/2-A/2,w-=C/2-r/2);q.scrollLeft=x;q.scrollTop=w;return this},getRoot:function(){for(var k=
this,r,q=[];k;){if(k.rootControl){r=k.rootControl;break}q.push(k);r=k;k=k.parent()}r||(r=this);for(k=q.length;k--;)q[k].rootControl=r;return r},reflow:function(){n.remove(this);var k=this.parent();k&&k._layout&&!k._layout.isNative()&&k.reflow();return this}};d.each("text title visible disabled active value".split(" "),function(k){u[k]=function(r){if(0===arguments.length)return this.state.get(k);"undefined"!=typeof r&&this.state.set(k,r);return this}});return y=e.extend(u)});B("tinymce.ui.KeyboardNavigation",
["global!document"],function(m){return function(h){function e(q){return(q=q||k)&&1===q.nodeType?q.getAttribute("role"):null}function f(q){for(var x=q||k;x=x.parentNode;)if(q=e(x))return q}function d(q){var x=k;if(x&&1===x.nodeType)return x.getAttribute("aria-"+q)}function a(q){q=q.tagName.toUpperCase();return"INPUT"==q||"TEXTAREA"==q||"SELECT"==q}function b(q){function x(A){if(1==A.nodeType&&"none"!=A.style.display&&!A.disabled){(a(A)&&!A.hidden||A.getAttribute("data-mce-tabstop")||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(e(A)))&&
w.push(A);for(var D=0;D<A.childNodes.length;D++)x(A.childNodes[D])}}var w=[];x(q||u.getEl());return w}function c(q){q=q||r;var x=q.parents().toArray();x.unshift(q);for(q=0;q<x.length;q++){var w=x[q];if(w.settings.ariaRoot)break}return w}function g(q,x){0>q?q=x.length-1:q>=x.length&&(q=0);x[q]&&x[q].focus();return q}function l(q,x){var w=-1,A=c();x=x||b(A.getEl());for(var D=0;D<x.length;D++)x[D]===k&&(w=D);A.lastAriaIndex=g(w+q,x)}function n(){"tablist"==f()?l(-1,b(k.parentNode)):r.parent().submenu?
r.fire("cancel"):l(-1)}function t(){var q=e(),x=f();"tablist"==x?l(1,b(k.parentNode)):"menuitem"==q&&"menu"==x&&d("haspopup")?p():l(1)}function v(){l(-1)}function z(){var q=e(),x=f();"menuitem"==q&&"menubar"==x?p():"button"==q&&d("haspopup")?p({key:"down"}):l(1)}function y(q){"tablist"==f()?(q=b(r.getEl("body"))[0])&&q.focus():l(q.shiftKey?-1:1)}function p(q){q=q||{};r.fire("click",{target:k,aria:q})}var u=h.root;try{var k=m.activeElement}catch(q){k=m.body}var r=u.getParentCtrl(k);u.on("keydown",
function(q){function x(w,A){a(k)||k.getAttribute("data-mce-tabstop")||"slider"!==e(k)&&!1!==A(w)&&w.preventDefault()}if(!q.isDefaultPrevented())switch(q.keyCode){case 37:x(q,n);break;case 39:x(q,t);break;case 38:x(q,v);break;case 40:x(q,z);break;case 27:r.fire("cancel");break;case 14:case 13:case 32:x(q,p);break;case 9:!1!==y(q)&&q.preventDefault()}});u.on("focusin",function(q){k=q.target;r=q.control});return{focusFirst:function(q){q=c(q);var x=b(q.getEl());q.settings.ariaRemember&&"lastAriaIndex"in
q?g(q.lastAriaIndex,x):g(0,x)}}}});B("tinymce.ui.Container","tinymce.ui.Control tinymce.ui.Collection tinymce.ui.Selector tinymce.core.ui.Factory tinymce.ui.KeyboardNavigation tinymce.core.util.Tools tinymce.core.dom.DomQuery tinymce.ui.ClassList tinymce.ui.ReflowQueue".split(" "),function(m,h,e,f,d,a,b,c,g){var l={};return m.extend({init:function(n){var t=this;t._super(n);n=t.settings;n.fixed&&t.state.set("fixed",!0);t._items=new h;t.isRtl()&&t.classes.add("rtl");t.bodyClasses=new c(function(){t.state.get("rendered")&&
(t.getEl("body").className=this.toString())});t.bodyClasses.prefix=t.classPrefix;t.classes.add("container");t.bodyClasses.add("container-body");n.containerCls&&t.classes.add(n.containerCls);t._layout=f.create((n.layout||"")+"layout");t.settings.items?t.add(t.settings.items):t.add(t.render());t._hasBody=!0},items:function(){return this._items},find:function(n){n=l[n]=l[n]||new e(n);return n.find(this)},add:function(n){this.items().add(this.create(n)).parent(this);return this},focus:function(n){var t;
if(n&&(n=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)){n.focusFirst(this);return}n=this.find("*");this.statusbar&&n.add(this.statusbar.items());n.each(function(v){if(v.settings.autofocus)return t=null,!1;v.canFocus&&(t=t||v)});t&&t.focus();return this},replace:function(n,t){var v=this.items();for(var z=v.length;z--;)if(v[z]===n){v[z]=t;break}0<=z&&((v=t.getEl())&&v.parentNode.removeChild(v),(v=n.getEl())&&v.parentNode.removeChild(v));t.parent(this)},create:function(n){var t=this,v,z=[];
a.isArray(n)||(n=[n]);a.each(n,function(y){y&&(y instanceof m||("string"==typeof y&&(y={type:y}),v=a.extend({},t.settings.defaults,y),y.type=v.type=v.type||y.type||t.settings.defaultType||(v.defaults?v.defaults.type:null),y=f.create(v)),z.push(y))});return z},renderNew:function(){var n=this;n.items().each(function(t,v){t.parent(n);if(!t.state.get("rendered")){var z=n.getEl("body");z.hasChildNodes()&&v<=z.childNodes.length-1?b(z.childNodes[v]).before(t.renderHtml()):b(z).append(t.renderHtml());t.postRender();
g.add(t)}});n._layout.applyClasses(n.items().filter(":visible"));n._lastRect=null;return n},append:function(n){return this.add(n).renderNew()},prepend:function(n){this.items().set(this.create(n).concat(this.items().toArray()));return this.renderNew()},insert:function(n,t,v){n=this.create(n);var z=this.items();!v&&t<z.length-1&&(t+=1);0<=t&&t<z.length&&(v=z.slice(0,t).toArray(),t=z.slice(t).toArray(),z.set(v.concat(n,t)));return this.renderNew()},fromJSON:function(n){for(var t in n)this.find("#"+t).value(n[t]);
return this},toJSON:function(){var n={};this.find("*").each(function(t){var v=t.name();t=t.value();v&&"undefined"!=typeof t&&(n[v]=t)});return n},renderHtml:function(){var n=this._layout,t=this.settings.role;this.preRender();n.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'"'+(t?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+n.renderHtml(this)+"</div></div>"},postRender:function(){this.items().exec("postRender");
this._super();this._layout.postRender(this);this.state.set("rendered",!0);this.settings.style&&this.$el.css(this.settings.style);if(this.settings.border){var n=this.borderBox;this.$el.css({"border-top-width":n.top,"border-right-width":n.right,"border-bottom-width":n.bottom,"border-left-width":n.left})}this.parent()||(this.keyboardNav=new d({root:this}));return this},initLayoutRect:function(){var n=this._super();this._layout.recalc(this);return n},recalc:function(){var n=this._layoutRect,t=this._lastRect;
if(!t||t.w!=n.w||t.h!=n.h)return this._layout.recalc(this),n=this.layoutRect(),this._lastRect={x:n.x,y:n.y,w:n.w,h:n.h},!0},reflow:function(){var n;g.remove(this);if(this.visible()){m.repaintControls=[];m.repaintControls.map={};this.recalc();for(n=m.repaintControls.length;n--;)m.repaintControls[n].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint();m.repaintControls=[]}return this}})});B("tinymce.ui.DragHelper",["global!document","global!window","tinymce.core.dom.DomQuery"],
function(m,h,e){function f(d){var a;if(d.changedTouches){var b="screenX screenY pageX pageY clientX clientY".split(" ");for(a=0;a<b.length;a++)d[b[a]]=d.changedTouches[0][b[a]]}}return function(d,a){var b,c=a.document||m,g,l,n;a=a||{};var t=function(z){f(z);if(z.button!==g)return v(z);z.deltaX=z.screenX-l;z.deltaY=z.screenY-n;z.preventDefault();a.drag(z)};var v=function(z){f(z);e(c).off("mousemove touchmove",t).off("mouseup touchend",v);b.remove();a.stop&&a.stop(z)};this.destroy=function(){e(c.getElementById(a.handle||
d)).off()};e(c.getElementById(a.handle||d)).on("mousedown touchstart",function(z){var y=Math.max;var p=c.documentElement;var u=c.body;var k=y(p.scrollWidth,u.scrollWidth);var r=y(p.clientWidth,u.clientWidth);var q=y(p.offsetWidth,u.offsetWidth);var x=y(p.scrollHeight,u.scrollHeight);var w=y(p.clientHeight,u.clientHeight);p=y(p.offsetHeight,u.offsetHeight);k=k<q?r:k;x=x<p?w:x;f(z);z.preventDefault();g=z.button;w=c.getElementById(a.handle||d);l=z.screenX;n=z.screenY;w=h.getComputedStyle?h.getComputedStyle(w,
null).getPropertyValue("cursor"):w.runtimeStyle.cursor;b=e("<div></div>").css({position:"absolute",top:0,left:0,width:k,height:x,zIndex:2147483647,opacity:1E-4,cursor:w}).appendTo(c.body);e(c).on("mousemove touchmove",t).on("mouseup touchend",v);a.start(z)})}});B("tinymce.ui.Scrollable",["tinymce.core.dom.DomQuery","tinymce.ui.DragHelper"],function(m,h){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function e(){function a(l,n,t,v,z,y){var p;if(p=d.getEl("scroll"+
l)){var u=n.toLowerCase();var k=t.toLowerCase();m(d.getEl("absend")).css(u,d.layoutRect()[v]-1);z?(m(p).css("display","block"),v=d.getEl("body"),l=d.getEl("scroll"+l+"t"),z=v["client"+t]-4,z-=c&&g?p["client"+y]:0,t=v["scroll"+t],t=z/t,y={},y[u]=v["offset"+n]+2,y[k]=z,m(p).css(y),y={},y[u]=v["scroll"+n]*t,y[k]=z*t,m(l).css(y)):m(p).css("display","none")}}var b=d.getEl("body");var c=b.scrollWidth>b.clientWidth;var g=b.scrollHeight>b.clientHeight;a("h","Left","Width","contentW",c,"Height");a("v","Top",
"Height","contentH",g,"Width")}function f(){function a(b,c,g,l,n){var t,v=d._id+"-scroll"+b,z=d.classPrefix;m(d.getEl()).append('<div id="'+v+'" class="'+z+"scrollbar "+z+"scrollbar-"+b+'"><div id="'+v+'t" class="'+z+'scrollbar-thumb"></div></div>');d.draghelper=new h(v+"t",{start:function(){t=d.getEl("body")["scroll"+c];m("#"+v).addClass(z+"active")},drag:function(y){var p=d.layoutRect();var u=p.contentW>p.innerW;p=p.contentH>p.innerH;var k=d.getEl("body")["client"+g]-4;k-=u&&p?d.getEl("scroll"+
b)["client"+n]:0;u=k/d.getEl("body")["scroll"+g];d.getEl("body")["scroll"+c]=t+y["delta"+l]/u},stop:function(){m("#"+v).removeClass(z+"active")}})}d.classes.add("scroll");a("v","Top","Height","Y","Width");a("h","Left","Width","X","Height")}var d=this;d.settings.autoScroll&&(d._hasScroll||(d._hasScroll=!0,f(),d.on("wheel",function(a){var b=d.getEl("body");b.scrollLeft+=10*(a.deltaX||0);b.scrollTop+=10*a.deltaY;e()}),m(d.getEl("body")).on("scroll",e)),e())}}});B("tinymce.ui.Panel",["tinymce.ui.Container",
"tinymce.ui.Scrollable"],function(m,h){return m.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[h],renderHtml:function(){var e=this._layout,f=this.settings.html;this.preRender();e.preRender(this);"undefined"==typeof f?f='<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+e.renderHtml(this)+"</div>":("function"==typeof f&&(f=f.call(this)),this._hasBody=!1);return'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+
f+"</div>"}})});B("tinymce.ui.Resizable",["tinymce.ui.DomUtils"],function(m){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(h,e){if(1>=h||1>=e){var f=m.getWindowSize();h=1>=h?h*f.w:h;e=1>=e?e*f.h:e}this._layoutRect.autoResize=!1;return this.layoutRect({minW:h,minH:e,w:h,h:e}).reflow()},resizeBy:function(h,e){var f=this.layoutRect();return this.resizeTo(f.w+h,f.h+e)}}});B("tinymce.ui.FloatPanel","global!document global!window tinymce.core.dom.DomQuery tinymce.core.util.Delay tinymce.ui.DomUtils tinymce.ui.Movable tinymce.ui.Panel tinymce.ui.Resizable".split(" "),
function(m,h,e,f,d,a,b,c){function g(){y||(y=function(w){if(2!=w.button)for(var A=k.length;A--;){var D=k[A],C=D.getParentCtrl(w.target),E;if((E=D.settings.autohide)&&!(E=!C)){a:{E=C;for(var F=D;E;){if(E==F){E=!0;break a}E=E.parent()}E=void 0}E=!E&&D.parent()!==C}E&&(w=D.fire("autohide",{target:w.target}),w.isDefaultPrevented()||D.hide())}},e(m).on("click touchstart",y))}function l(){p||(p=function(){var w;for(w=k.length;w--;)t(k[w])},e(h).on("scroll",p))}function n(){if(!u){var w=m.documentElement,
A=w.clientWidth,D=w.clientHeight;u=function(){m.all&&A==w.clientWidth&&D==w.clientHeight||(A=w.clientWidth,D=w.clientHeight,x.hideAll())};e(h).on("resize",u)}}function t(w){function A(C,E){for(var F,I=0;I<k.length;I++)if(k[I]!=w)for(F=k[I].parent();F&&(F=F.parent());)F==w&&k[I].fixed(C).moveBy(0,E).repaint()}var D=d.getViewPort().y;w.settings.autofix&&(w.state.get("fixed")?w._autoFixY>D&&(w.fixed(!1).layoutRect({y:w._autoFixY}).repaint(),A(!1,w._autoFixY-D)):(w._autoFixY=w.layoutRect().y,w._autoFixY<
D&&(w.fixed(!0).layoutRect({y:0}).repaint(),A(!0,D-w._autoFixY))))}function v(w,A){var D=(x.zIndex||65535)+(zenarioAB.isOpen?3E5:0);if(w)r.push(A);else for(w=r.length;w--;)r[w]===A&&r.splice(w,1);if(r.length)for(w=0;w<r.length;w++){if(r[w].modal){D++;var C=r[w]}r[w].getEl().style.zIndex=D;r[w].zIndex=D;D++}A=e("#"+A.classPrefix+"modal-block",A.getContainerElm())[0];C?e(A).css("z-index",C.zIndex-1):A&&(A.parentNode.removeChild(A),q=!1);x.currentZIndex=D}function z(w){var A;for(A=k.length;A--;)k[A]===
w&&k.splice(A,1);for(A=r.length;A--;)r[A]===w&&r.splice(A,1)}var y,p,u,k=[],r=[],q,x=b.extend({Mixins:[a,c],init:function(w){var A=this;A._super(w);A._eventsRoot=A;A.classes.add("floatpanel");w.autohide&&(g(),n(),k.push(A));w.autofix&&(l(),A.on("move",function(){t(this)}));A.on("postrender show",function(D){if(D.control==A){var C=A.classPrefix;if(A.modal&&!q){var E=e("#"+C+"modal-block",A.getContainerElm());E[0]||(E=e('<div id="'+C+'modal-block" class="'+C+"reset "+C+'fade"></div>').appendTo(A.getContainerElm()));
f.setTimeout(function(){E.addClass(C+"in");e(A.getEl()).addClass(C+"in")});q=!0}v(!0,A)}});A.on("show",function(){A.parents().each(function(D){if(D.state.get("fixed"))return A.fixed(!0),!1})});w.popover&&(A._preBodyHtml='<div class="'+A.classPrefix+'arrow"></div>',A.classes.add("popover").add("bottom").add(A.isRtl()?"end":"start"));A.aria("label",w.ariaLabel);A.aria("labelledby",A._id);A.aria("describedby",A.describedBy||A._id+"-none")},fixed:function(w){if(this.state.get("fixed")!=w){if(this.state.get("rendered")){var A=
d.getViewPort();w?this.layoutRect().y-=A.y:this.layoutRect().y+=A.y}this.classes.toggle("fixed",w);this.state.set("fixed",w)}return this},show:function(){var w,A=this._super();for(w=k.length;w--&&k[w]!==this;);-1===w&&k.push(this);return A},hide:function(){z(this);v(!1,this);return this._super()},hideAll:function(){x.hideAll()},close:function(){this.fire("close").isDefaultPrevented()||(this.remove(),v(!1,this));return this},remove:function(){z(this);this._super()},postRender:function(){this.settings.bodyRole&&
this.getEl("body").setAttribute("role",this.settings.bodyRole);return this._super()}});x.hideAll=function(){for(var w=k.length;w--;){var A=k[w];A&&A.settings.autohide&&(A.hide(),k.splice(w,1))}};return x});B("tinymce.themes.modern.modes.Inline","global!document tinymce.core.Env tinymce.core.dom.DOMUtils tinymce.core.ui.Factory tinymce.themes.modern.api.Events tinymce.themes.modern.api.Settings tinymce.themes.modern.ui.A11y tinymce.themes.modern.ui.ContextToolbars tinymce.themes.modern.ui.Menubar tinymce.themes.modern.ui.SkinLoaded tinymce.themes.modern.ui.Toolbar tinymce.ui.FloatPanel".split(" "),
function(m,h,e,f,d,a,b,c,g,l,n,t){return{render:function(v,z,y){var p,u,k=e.DOM,r=a.getFixedToolbarContainer(v);r&&(u=k.select(r)[0]);var q=function(){if(p&&p.moveRel&&p.visible()&&!p._fixed){var D=v.selection.getScrollContainer(),C=v.getBody(),E=0,F=0;D&&(F=k.getPos(C),D=k.getPos(D),E=Math.max(0,D.x-F.x),F=Math.max(0,D.y-F.y));p.fixed(!1).moveRel(C,v.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(E,F)}},x=function(){p&&(p.show(),q(),k.addClass(v.getBody(),"mce-edit-focus"))},w=function(){p&&
(p.hide(),t.hideAll(),k.removeClass(v.getBody(),"mce-edit-focus"))},A=function(){p?p.visible()||x():(p=z.panel=f.create({type:u?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!(!u||h.container),fixed:!(!u||h.container),border:1,items:[!1===a.hasMenubar(v)?null:{type:"menubar",border:"0 0 1 0",items:g.createMenuButtons(v)},n.createToolbars(v,a.getToolbarSize(v))]}),d.fireBeforeRenderUI(v),u?p.renderTo(u).reflow():
p.renderTo().reflow(),b.addKeys(v,p),x(),c.addContextualToolbars(v),v.on("nodeChange",q),v.on("activate",x),v.on("deactivate",w),v.nodeChanged())};v.settings.content_editable=!0;v.on("focus",function(){!1===a.isSkinDisabled(v)&&y.skinUiCss?k.styleSheetLoader.load(y.skinUiCss,A,A):A()});v.on("blur hide",w);v.on("remove",function(){p&&(p.remove(),p=null)});!1===a.isSkinDisabled(v)&&y.skinUiCss?k.styleSheetLoader.load(y.skinUiCss,l.fireSkinLoaded(v)):l.fireSkinLoaded(v)();return{}}}});B("tinymce.themes.modern.modes.ZenarioInlineUI",
"tinymce.core.dom.DOMUtils tinymce.core.ui.Factory tinymce.core.util.Tools tinymce.themes.modern.ui.A11y tinymce.themes.modern.ui.ContextToolbars tinymce.themes.modern.ui.Menubar tinymce.themes.modern.ui.Resize tinymce.themes.modern.ui.Sidebar tinymce.themes.modern.ui.SkinLoaded tinymce.themes.modern.ui.Toolbar".split(" "),function(m,h,e,f,d,a,b,c,g,l){var n=m.DOM,t=function(v){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:v,html:""}};return{render:function(v,z,y){var p=
v.settings;zenario.getContainerIdFromEl(y.targetNode);var u=document.getElementById("zenario_at_toolbars");y.skinUiCss&&n.styleSheetLoader.load(y.skinUiCss,g.fireSkinLoaded(v));y=h.create;var k=!1===p.menubar?null:{type:"menubar",border:"0 0 1 0",items:a.createMenuButtons(v)},r=l.createToolbars(v,p.toolbar_items_size);var q=c.hasSidebar(v)?{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[t("0"),c.createSidebar(v)]}:t("1 0 0 0");z=z.panel=y.call(h,{type:"panel",role:"application",
classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[k,r,q]});v.fire("BeforeRenderUI");u.innerHTML="";z.renderTo(u).reflow();f.addKeys(v,z);p.content_editable=!0;return{}}}});B("tinymce.ui.Throbber",["tinymce.core.dom.DomQuery","tinymce.ui.Control","tinymce.core.util.Delay"],function(m,h,e){return function(f,d){var a=this,b,c=h.classPrefix,g;a.show=function(l,n){function t(){b&&(m(f).append('<div class="'+c+"throbber"+(d?" "+c+"throbber-inline":"")+'"></div>'),n&&n())}a.hide();
b=!0;l?g=e.setTimeout(t,l):t();return a};a.hide=function(){var l=f.lastChild;e.clearTimeout(g);l&&-1!=l.className.indexOf("throbber")&&l.parentNode.removeChild(l);b=!1;return a}}});B("tinymce.themes.modern.ui.ProgressState",["tinymce.ui.Throbber"],function(m){return{setup:function(h,e){var f;h.on("ProgressState",function(d){f=f||new m(e.panel.getEl("body"));d.state?f.show(d.time):f.hide()})}}});B("tinymce.themes.modern.ui.Render",["tinymce.themes.modern.api.Settings","tinymce.themes.modern.modes.Iframe",
"tinymce.themes.modern.modes.Inline","tinymce.themes.modern.modes.ZenarioInlineUI","tinymce.themes.modern.ui.ProgressState"],function(m,h,e,f,d){return{renderUI:function(a,b,c){var g=m.getSkinUrl(a);g&&(c.skinUiCss=g+"/skin.min.css",a.contentCSS.push(g+"/content"+(a.inline?".inline":"")+".min.css"));d.setup(a,b);return a.settings.zenario_inline_ui?f.render(a,b,c):m.isInline(a)?e.render(a,b,c):h.render(a,b,c)}}});L("global!setTimeout",setTimeout);B("tinymce.ui.Tooltip",["tinymce.ui.Control","tinymce.ui.Movable"],
function(m,h){return m.extend({Mixins:[h],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;e.state.on("change:text",function(f){e.getEl().lastChild.innerHTML=e.encode(f.value)});return e._super()},repaint:function(){var e=this.getEl().style;
var f=this._layoutRect;e.left=f.x+"px";e.top=f.y+"px";e.zIndex=131070+(zenarioAB.isOpen?3E5:0)}})});B("tinymce.ui.Widget",["tinymce.ui.Control","tinymce.ui.Tooltip"],function(m,h){var e,f=m.extend({init:function(d){var a=this;a._super(d);d=a.settings;a.canFocus=!0;d.tooltip&&!1!==f.tooltips&&(a.on("mouseenter",function(b){var c=a.tooltip().moveTo(-65535);b.control==a?(b=c.text(d.tooltip).show().testMoveRel(a.getEl(),["bc-tc","bc-tl","bc-tr"]),c.classes.toggle("tooltip-n","bc-tc"==b),c.classes.toggle("tooltip-nw",
"bc-tl"==b),c.classes.toggle("tooltip-ne","bc-tr"==b),c.moveRel(a.getEl(),b)):c.hide()}),a.on("mouseleave mousedown click",function(){a.tooltip().hide()}));a.aria("label",d.ariaLabel||d.tooltip)},tooltip:function(){e||(e=new h({type:"tooltip"}),e.renderTo());return e},postRender:function(){var d=this.settings;this._super();this.parent()||!d.width&&!d.height||(this.initLayoutRect(),this.repaint());d.autofocus&&this.focus()},bindStates:function(){function d(c){b.aria("disabled",c);b.classes.toggle("disabled",
c)}function a(c){b.aria("pressed",c);b.classes.toggle("active",c)}var b=this;b.state.on("change:disabled",function(c){d(c.value)});b.state.on("change:active",function(c){a(c.value)});b.state.get("disabled")&&d(!0);b.state.get("active")&&a(!0);return b._super()},remove:function(){this._super();e&&(e.remove(),e=null)}});return f});B("tinymce.ui.Progress",["tinymce.ui.Widget"],function(m){return m.extend({Defaults:{value:0},init:function(h){this._super(h);this.classes.add("progress");this.settings.filter||
(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var h=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+h+'bar-container"><div class="'+h+'bar"></div></div><div class="'+h+'text">0%</div></div>'},postRender:function(){this._super();this.value(this.settings.value);return this},bindStates:function(){function h(f){f=e.settings.filter(f);e.getEl().lastChild.innerHTML=f+"%";e.getEl().firstChild.firstChild.style.width=f+"%"}var e=this;
e.state.on("change:value",function(f){h(f.value)});h(e.state.get("value"));return e._super()}})});B("tinymce.ui.Notification",["tinymce.ui.Control","tinymce.ui.Movable","tinymce.ui.Progress","tinymce.core.util.Delay"],function(m,h,e,f){var d=function(a,b){a.getEl().lastChild.textContent=b+(a.progressBar?" "+a.progressBar.value()+"%":"")};return m.extend({Mixins:[h],Defaults:{classes:"widget notification"},init:function(a){var b=this;b._super(a);b.maxWidth=a.maxWidth;a.text&&b.text(a.text);a.icon&&
(b.icon=a.icon);a.color&&(b.color=a.color);a.type&&b.classes.add("notification-"+a.type);a.timeout&&(0>a.timeout||0<a.timeout)&&!a.closeButton?b.closeButton=!1:(b.classes.add("has-close"),b.closeButton=!0);a.progressBar&&(b.progressBar=new e);b.on("click",function(c){-1!=c.target.className.indexOf(b.classPrefix+"close")&&b.close()})},renderHtml:function(){var a=this.classPrefix,b="",c="",g="";this.icon&&(b='<i class="'+a+"ico "+a+"i-"+this.icon+'"></i>');var l=' style="max-width: '+this.maxWidth+
"px;"+(this.color?"background-color: "+this.color+';"':'"');this.closeButton&&(c='<button type="button" class="'+a+'close" aria-hidden="true">\u00d7</button>');this.progressBar&&(g=this.progressBar.renderHtml());return'<div id="'+this._id+'" class="'+this.classes+'"'+l+' role="presentation">'+b+'<div class="'+a+'notification-inner">'+this.state.get("text")+"</div>"+g+c+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},
postRender:function(){var a=this;f.setTimeout(function(){a.$el.addClass(a.classPrefix+"in");d(a,a.state.get("text"))},100);return a._super()},bindStates:function(){var a=this;a.state.on("change:text",function(b){a.getEl().firstChild.innerHTML=b.value;d(a,b.value)});a.progressBar&&(a.progressBar.bindStates(),a.progressBar.state.on("change:value",function(b){d(a,a.state.get("text"))}));return a._super()},close:function(){this.fire("close").isDefaultPrevented()||this.remove();return this},repaint:function(){var a=
this.getEl().style;var b=this._layoutRect;a.left=b.x+"px";a.top=b.y+"px";a.zIndex=65534}})});B("tinymce.ui.NotificationManagerImpl",["ephox.katamari.api.Arr","global!setTimeout","tinymce.core.util.Tools","tinymce.ui.DomUtils","tinymce.ui.Notification"],function(m,h,e,f,d){return function(a){var b=function(n){return n.inline?n.getElement():n.getContentAreaContainer()},c=function(){var n=b(a);return f.getSize(n).width},g=function(n){m.each(n,function(t){t.moveTo(0,0)})},l=function(n){if(0<n.length){var t=
n.slice(0,1)[0],v=b(a);t.moveRel(v,"tc-tc");m.each(n,function(z,y){0<y&&z.moveRel(n[y-1].getEl(),"bc-tc")})}};return{open:function(n,t){n=e.extend(n,{maxWidth:c()});var v=new d(n);v.args=n;0<n.timeout&&(v.timer=h(function(){v.close();t()},n.timeout));v.on("close",function(){t()});v.renderTo();return v},close:function(n){n.close()},reposition:function(n){g(n);l(n)},getArgs:function(n){return n.args}}}});B("tinymce.ui.Window","global!document global!setTimeout global!window tinymce.core.dom.DomQuery tinymce.core.Env tinymce.core.util.Delay tinymce.ui.BoxUtils tinymce.ui.DomUtils tinymce.ui.DragHelper tinymce.ui.FloatPanel tinymce.ui.Panel".split(" "),
function(m,h,e,f,d,a,b,c,g,l,n){function t(y){var p=f("meta[name=viewport]")[0],u;!1!==d.overrideViewPort&&(p||(p=m.createElement("meta"),p.setAttribute("name","viewport"),m.getElementsByTagName("head")[0].appendChild(p)),(u=p.getAttribute("content"))&&"undefined"!=typeof z&&(z=u),p.setAttribute("content",y?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":z))}var v=[],z="";l=l.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",
callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(y){var p=this;p._super(y);p.isRtl()&&p.classes.add("rtl");p.classes.add("window");p.bodyClasses.add("window-body");p.state.set("fixed",!0);y.buttons&&(p.statusbar=new n({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:p.isRtl()?"start":"end",defaults:{type:"button"},items:y.buttons}),p.statusbar.classes.add("foot"),p.statusbar.parent(p));p.on("click",function(u){var k=
p.classPrefix+"close";(c.hasClass(u.target,k)||c.hasClass(u.target.parentNode,k))&&p.close()});p.on("cancel",function(){p.close()});p.aria("describedby",p.describedBy||p._id+"-none");p.aria("label",y.title);p._fullscreen=!1},recalc:function(){var y=this.statusbar;this._fullscreen&&(this.layoutRect(c.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH);this._super();var p=this.layoutRect();if(this.settings.title&&!this._fullscreen){var u=p.headerW;if(u>p.w){var k=p.x-Math.max(0,u/
2);this.layoutRect({w:u,x:k});k=!0}}y&&(y.layoutRect({w:this.layoutRect().innerW}).recalc(),u=y.layoutRect().minW+p.deltaW,u>p.w&&(k=p.x-Math.max(0,u-p.w),this.layoutRect({w:u,x:k}),k=!0));k&&this.recalc()},initLayoutRect:function(){var y=this._super(),p=0;if(this.settings.title&&!this._fullscreen){var u=this.getEl("head");u=c.getSize(u);y.headerW=u.width;y.headerH=u.height;p+=y.headerH}this.statusbar&&(p+=this.statusbar.layoutRect().h);y.deltaH+=p;y.minH+=p;y.h+=p;p=c.getWindowSize();y.x=this.settings.x||
Math.max(0,p.w/2-y.w/2);y.y=this.settings.y||Math.max(0,p.h/2-y.h/2);return y},renderHtml:function(){var y=this._layout,p=this._id,u=this.classPrefix,k=this.settings,r="",q="",x=k.html;this.preRender();y.preRender(this);k.title&&(r='<div id="'+p+'-head" class="'+u+'window-head"><div id="'+p+'-title" class="'+u+'title">'+this.encode(k.title)+'</div><div id="'+p+'-dragh" class="'+u+'dragh"></div><button type="button" class="'+u+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>');
k.url&&(x='<iframe src="'+k.url+'" tabindex="-1"></iframe>');"undefined"==typeof x&&(x=y.renderHtml(this));this.statusbar&&(q=this.statusbar.renderHtml());return'<div id="'+p+'" class="'+this.classes+'" hidefocus="1"><div class="'+this.classPrefix+'reset" role="application">'+r+'<div id="'+p+'-body" class="'+this.bodyClasses+'">'+x+"</div>"+q+"</div></div>"},fullscreen:function(y){var p=this,u=m.documentElement,k,r=p.classPrefix;if(y!=p._fullscreen){f(e).on("resize",function(){if(p._fullscreen)if(k)p._timer||
(p._timer=a.setTimeout(function(){var A=c.getWindowSize();p.moveTo(0,0).resizeTo(A.w,A.h);p._timer=0},50));else{var x=(new Date).getTime();var w=c.getWindowSize();p.moveTo(0,0).resizeTo(w.w,w.h);50<(new Date).getTime()-x&&(k=!0)}});var q=p.layoutRect();(p._fullscreen=y)?(p._initial={x:q.x,y:q.y,w:q.w,h:q.h},p.borderBox=b.parseBox("0"),p.getEl("head").style.display="none",q.deltaH-=q.headerH+2,f([u,m.body]).addClass(r+"fullscreen"),p.classes.add("fullscreen"),y=c.getWindowSize(),p.moveTo(0,0).resizeTo(y.w,
y.h)):(p.borderBox=b.parseBox(p.settings.border),p.getEl("head").style.display="",q.deltaH+=q.headerH,f([u,m.body]).removeClass(r+"fullscreen"),p.classes.remove("fullscreen"),p.moveTo(p._initial.x,p._initial.y).resizeTo(p._initial.w,p._initial.h))}return p.reflow()},postRender:function(){var y,p,u=this;h(function(){u.classes.add("in");u.fire("open")},0);u._super();u.statusbar&&u.statusbar.postRender();u.focus();this.dragHelper=new g(u._id+"-dragh",{start:function(){y=u.layoutRect().x;p=u.layoutRect().y},
drag:function(k){u.moveTo(y+k.deltaX,p+k.deltaY)}});u.on("submit",function(k){k.isDefaultPrevented()||u.close()});v.push(u);t(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){this.dragHelper.destroy();this._super();this.statusbar&&this.statusbar.remove();var y=this.classPrefix;var p;a:{for(p=0;p<v.length;p++)if(v[p]._fullscreen){p=!0;break a}p=!1}p&&f([m.documentElement,m.body]).removeClass(y+"fullscreen");for(y=v.length;y--;)v[y]===this&&v.splice(y,1);t(0<
v.length)},getContentWindow:function(){var y=this.getEl().getElementsByTagName("iframe")[0];return y?y.contentWindow:null}});(function(){if(!d.desktop){var y=e.innerWidth,p=e.innerHeight;a.setInterval(function(){var u=e.innerWidth,k=e.innerHeight;if(y!=u||p!=k)y=u,p=k,f(e).trigger("resize")},100)}f(e).on("resize",function(){var u,k=c.getWindowSize();for(u=0;u<v.length;u++){var r=v[u].layoutRect();v[u].moveTo(v[u].settings.x||Math.max(0,k.w/2-r.w/2),v[u].settings.y||Math.max(0,k.h/2-r.h/2))}})})();
return l});B("tinymce.ui.MessageBox",["global!document","tinymce.ui.Window"],function(m,h){var e=h.extend({init:function(f){f={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(f)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(f){function d(c,g,l){return{type:"button",text:c,subtype:l?"primary":"",onClick:function(n){n.control.parents()[1].close();
a(g)}}}var a=f.callback||function(){};switch(f.buttons){case e.OK_CANCEL:var b=[d("Ok",!0,!0),d("Cancel",!1)];break;case e.YES_NO:case e.YES_NO_CANCEL:b=[d("Yes",1,!0),d("No",0)];f.buttons==e.YES_NO_CANCEL&&b.push(d("Cancel",-1));break;default:b=[d("Ok",!0,!0)]}return(new h({padding:20,x:f.x,y:f.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:b,title:f.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:f.text},onPostRender:function(){this.aria("describedby",
this.items()[0]._id)},onClose:f.onClose,onCancel:function(){a(!1)}})).renderTo(m.body).reflow()},alert:function(f,d){"string"==typeof f&&(f={text:f});f.callback=d;return e.msgBox(f)},confirm:function(f,d){"string"==typeof f&&(f={text:f});f.callback=d;f.buttons=e.OK_CANCEL;return e.msgBox(f)}}});return e});B("tinymce.ui.WindowManagerImpl",["tinymce.ui.Window","tinymce.ui.MessageBox"],function(m,h){return function(e){return{open:function(f,d,a){f.title=f.title||" ";f.url=f.url||f.file;f.url&&(f.width=
parseInt(f.width||320,10),f.height=parseInt(f.height||240,10));f.body&&(f.items={defaults:f.defaults,type:f.bodyType||"form",items:f.body,data:f.data,callbacks:f.commands});f.url||f.buttons||(f.buttons=[{text:"Ok",subtype:"primary",onclick:function(){b.find("form")[0].submit()}},{text:"Cancel",onclick:function(){b.close()}}]);var b=new m(f);b.on("close",function(){a(b)});if(f.data)b.on("postRender",function(){this.find("*").each(function(c){var g=c.name();g in f.data&&c.value(f.data[g])})});b.features=
f||{};b.params=d||{};return b=b.renderTo().reflow()},alert:function(f,d,a){var b=h.alert(f,function(){d()});b.on("close",function(){a(b)});return b},confirm:function(f,d,a){var b=h.confirm(f,function(c){d(c)});b.on("close",function(){a(b)});return b},close:function(f){f.close()},getParams:function(f){return f.params},setParams:function(f,d){f.params=d}}}});B("tinymce.themes.modern.api.ThemeApi",["tinymce.themes.modern.ui.Render","tinymce.themes.modern.ui.Resize","tinymce.ui.NotificationManagerImpl",
"tinymce.ui.WindowManagerImpl"],function(m,h,e,f){return{get:function(d){return{renderUI:function(a){return m.renderUI(d,this,a)},resizeTo:function(a,b){return h.resizeTo(d,a,b)},resizeBy:function(a,b){return h.resizeBy(d,a,b)},getNotificationManagerImpl:function(){return e(d)},getWindowManagerImpl:function(){return f(d)}}}}});B("tinymce.ui.Layout",["tinymce.core.util.Class","tinymce.core.util.Tools"],function(m,h){return m.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=
h.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var f=this.settings,d,a;var b=f.firstControlClass;var c=f.lastControlClass;e.each(function(g){g.classes.remove(b).remove(c).add(f.controlClass);g.visible()&&(d||(d=g),a=g)});d&&d.classes.add(b);a&&a.classes.add(c)},renderHtml:function(e){var f="";this.applyClasses(e.items());e.items().each(function(d){f+=d.renderHtml()});return f},recalc:function(){},postRender:function(){},
isNative:function(){return!1}})});B("tinymce.ui.AbsoluteLayout",["tinymce.ui.Layout"],function(m){return m.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(h){h.items().filter(":visible").each(function(e){var f=e.settings;e.layoutRect({x:f.x,y:f.y,w:f.w,h:f.h});e.recalc&&e.recalc()})},renderHtml:function(h){return'<div id="'+h._id+'-absend" class="'+h.classPrefix+'abs-end"></div>'+this._super(h)}})});B("tinymce.ui.Button",["global!document","global!window",
"tinymce.ui.Widget"],function(m,h,e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(f){var d=this;d._super(f);f=d.settings;var a=d.settings.size;d.on("click mousedown",function(b){b.preventDefault()});d.on("touchstart",function(b){d.fire("click",b);b.preventDefault()});f.subtype&&d.classes.add(f.subtype);a&&d.classes.add("btn-"+a);f.icon&&d.icon(f.icon)},icon:function(f){if(!arguments.length)return this.state.get("icon");this.state.set("icon",f);return this},repaint:function(){var f=
this.getEl().firstChild;f&&(f=f.style,f.width=f.height="100%");this._super()},renderHtml:function(){var f=this._id,d=this.classPrefix,a=this.state.get("icon"),b,c=this.state.get("text"),g="",l=this.settings;(b=l.image)?(a="none","string"!=typeof b&&(b=h.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="";c&&(this.classes.add("btn-has-text"),g='<span class="'+d+'txt">'+this.encode(c)+"</span>");a=a?d+"ico "+d+"i-"+a:"";return'<div id="'+f+'" class="'+this.classes+'" tabindex="-1"'+
("boolean"===typeof l.active?' aria-pressed="'+l.active+'"':"")+'><button id="'+f+'-button" role="presentation" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+b+"></i>":"")+g+"</button></div>"},bindStates:function(){function f(c){var g=a("span."+b,d.getEl());c?(g[0]||(a("button:first",d.getEl()).append('<span class="'+b+'"></span>'),g=a("span."+b,d.getEl())),g.html(d.encode(c))):g.remove();d.classes.toggle("btn-has-text",!!c)}var d=this,a=d.$,b=d.classPrefix+"txt";d.state.on("change:text",function(c){f(c.value)});
d.state.on("change:icon",function(c){c=c.value;var g=d.classPrefix;c=(d.settings.icon=c)?g+"ico "+g+"i-"+d.settings.icon:"";g=d.getEl().firstChild;var l=g.getElementsByTagName("i")[0];c?(l&&l==g.firstChild||(l=m.createElement("i"),g.insertBefore(l,g.firstChild)),l.className=c):l&&g.removeChild(l);f(d.state.get("text"))});return d._super()}})});L("global!RegExp",RegExp);B("tinymce.ui.BrowseButton",["tinymce.ui.Button","tinymce.core.util.Tools","tinymce.ui.DomUtils","tinymce.core.dom.DomQuery","global!RegExp"],
function(m,h,e,f,d){return m.extend({init:function(a){a=h.extend({text:"Browse...",multiple:!1,accept:null},a);this._super(a);this.classes.add("browsebutton");a.multiple&&this.classes.add("multiple")},postRender:function(){var a=this,b=e.create("input",{type:"file",id:a._id+"-browse",accept:a.settings.accept});a._super();f(b).on("change",function(c){var g=c.target.files;a.value=function(){return g.length?a.settings.multiple?g:g[0]:null};c.preventDefault();g.length&&a.fire("change",c)});f(b).on("click",
function(c){c.stopPropagation()});f(a.getEl("button")).on("click",function(c){c.stopPropagation();b.click()});a.getEl().appendChild(b)},remove:function(){f(this.getEl("button")).off();f(this.getEl("input")).off();this._super()}})});B("tinymce.ui.ButtonGroup",["tinymce.ui.Container"],function(m){return m.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var h=this._layout;this.classes.add("btn-group");this.preRender();h.preRender(this);return'<div id="'+this._id+'" class="'+
this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+h.renderHtml(this)+"</div></div>"}})});B("tinymce.ui.Checkbox",["global!document","tinymce.ui.Widget"],function(m,h){return h.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var f=this;f._super(e);f.on("click mousedown",function(d){d.preventDefault()});f.on("click",function(d){d.preventDefault();f.disabled()||f.checked(!f.checked())});f.checked(f.settings.checked)},checked:function(e){if(!arguments.length)return this.state.get("checked");
this.state.set("checked",e);return this},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this._id,f=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+f+"ico "+f+'i-checkbox"></i><span id="'+e+'-al" class="'+f+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){function e(d){f.classes.toggle("checked",d);f.aria("checked",d)}var f=
this;f.state.on("change:text",function(d){f.getEl("al").firstChild.data=f.translate(d.value)});f.state.on("change:checked change:value",function(d){f.fire("change");e(d.value)});f.state.on("change:icon",function(d){d=d.value;var a=f.classPrefix;if("undefined"==typeof d)return f.settings.icon;d=(f.settings.icon=d)?a+"ico "+a+"i-"+f.settings.icon:"";a=f.getEl().firstChild;var b=a.getElementsByTagName("i")[0];d?(b&&b==a.firstChild||(b=m.createElement("i"),a.insertBefore(b,a.firstChild)),b.className=
d):b&&a.removeChild(b)});f.state.get("checked")&&e(!0);return f._super()}})});B("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.util.VK")});B("tinymce.ui.ComboBox","global!document tinymce.core.dom.DomQuery tinymce.core.ui.Factory tinymce.core.util.Tools tinymce.core.util.VK tinymce.ui.DomUtils tinymce.ui.Widget".split(" "),function(m,h,e,f,d,a,b){return b.extend({init:function(c){var g=this;g._super(c);c=g.settings;g.classes.add("combobox");g.subinput=!0;
g.ariaTarget="inp";c.menu=c.menu||c.values;c.menu&&(c.icon="caret");g.on("click",function(l){var n=l.target,t=g.getEl();if(h.contains(t,n)||n==t)for(;n&&n!=t;)n.id&&-1!=n.id.indexOf("-open")&&(g.fire("action"),c.menu&&(g.showMenu(),l.aria&&g.menu.items()[0].focus())),n=n.parentNode});g.on("keydown",function(l){var n;13==l.keyCode&&"INPUT"===l.target.nodeName&&(l.preventDefault(),g.parents().reverse().each(function(t){if(t.toJSON)return n=t,!1}),g.fire("submit",{data:n.toJSON()}))});g.on("keyup",function(l){if("INPUT"==
l.target.nodeName){var n=g.state.get("value"),t=l.target.value;t!==n&&(g.state.set("value",t),g.fire("autocomplete",l))}});g.on("mouseover",function(l){var n=g.tooltip().moveTo(-65535);if(g.statusLevel()&&-1!==l.target.className.indexOf(g.classPrefix+"status")){var t=g.statusMessage()||"Ok";t=n.text(t).show().testMoveRel(l.target,["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"==t);n.classes.toggle("tooltip-nw","bc-tl"==t);n.classes.toggle("tooltip-ne","bc-tr"==t);n.moveRel(l.target,
t)}})},statusLevel:function(c){0<arguments.length&&this.state.set("statusLevel",c);return this.state.get("statusLevel")},statusMessage:function(c){0<arguments.length&&this.state.set("statusMessage",c);return this.state.get("statusMessage")},showMenu:function(){var c=this,g=c.settings;c.menu||(g=g.menu||[],g.length?g={type:"menu",items:g}:g.type=g.type||"menu",c.menu=e.create(g).parent(c).renderTo(c.getContainerElm()),c.fire("createmenu"),c.menu.reflow(),c.menu.on("cancel",function(l){l.control===
c.menu&&c.focus()}),c.menu.on("show hide",function(l){l.control.items().each(function(n){n.active(n.value()==c.value())})}).fire("show"),c.menu.on("select",function(l){c.value(l.control.value())}),c.on("focusin",function(l){"INPUT"==l.target.tagName.toUpperCase()&&c.menu.hide()}),c.aria("expanded",!0));c.menu.show();c.menu.layoutRect({w:c.layoutRect().w});c.menu.moveRel(c.getEl(),c.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var c=this.getEl(),
g=this.getEl("open"),l=this.layoutRect(),n,t=0;c=c.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(t=parseInt(a.getRuntimeStyle(c,"padding-right"),10)-parseInt(a.getRuntimeStyle(c,"padding-left"),10));g=g?l.w-a.getSize(g).width-10:l.w-10;m.all&&(!m.documentMode||8>=m.documentMode)&&(n=this.layoutRect().h-2+"px");h(c).css({width:g-t,lineHeight:n});this._super();return this},postRender:function(){var c=this;h(this.getEl("inp")).on("change",function(g){c.state.set("value",g.target.value);
c.fire("change",g)});return c._super()},renderHtml:function(){var c=this._id,g=this.settings,l=this.classPrefix,n=this.state.get("value")||"",t,v="",z="";"spellcheck"in g&&(z+=' spellcheck="'+g.spellcheck+'"');g.maxLength&&(z+=' maxlength="'+g.maxLength+'"');g.size&&(z+=' size="'+g.size+'"');g.subtype&&(z+=' type="'+g.subtype+'"');var y='<i id="'+c+'-status" class="mce-status mce-ico" style="display: none"></i>';this.disabled()&&(z+=' disabled="disabled"');(t=g.icon)&&"caret"!=t&&(t=l+"ico "+l+"i-"+
g.icon);var p=this.state.get("text");if(t||p)v='<div id="'+c+'-open" class="'+l+"btn "+l+'open" tabIndex="-1" role="button"><button id="'+c+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=t?'<i class="'+t+'"></i>':'<i class="'+l+'caret"></i>')+(p?(t?" ":"")+p:"")+"</button></div>",this.classes.add("has-open");return'<div id="'+c+'" class="'+this.classes+'"><input id="'+c+'-inp" class="'+l+'textbox" value="'+this.encode(n,!1)+'" hidefocus="1"'+z+' placeholder="'+this.encode(g.placeholder)+
'" />'+y+v+"</div>"},value:function(c){if(arguments.length)return this.state.set("value",c),this;this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value);return this.state.get("value")},showAutoComplete:function(c,g){var l=this;if(0===c.length)l.hideMenu();else{var n=function(t,v){return function(){l.fire("selectitem",{title:v,value:t})}};l.menu?l.menu.items().remove():l.menu=e.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(l).renderTo();f.each(c,function(t){l.menu.add({text:t.title,
url:t.previewUrl,match:g,classes:"menu-item-ellipsis",onclick:n(t.value,t.title)})});l.menu.renderNew();l.hideMenu();l.menu.on("cancel",function(t){t.control.parent()===l.menu&&(t.stopPropagation(),l.focus(),l.hideMenu())});l.menu.on("select",function(){l.focus()});c=l.layoutRect().w;l.menu.layoutRect({w:c,minW:0,maxW:c});l.menu.reflow();l.menu.show();l.menu.moveRel(l.getEl(),l.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var c=
this;c.state.on("change:value",function(l){c.getEl("inp").value!=l.value&&(c.getEl("inp").value=l.value)});c.state.on("change:disabled",function(l){c.getEl("inp").disabled=l.value});c.state.on("change:statusLevel",function(l){var n=c.getEl("status"),t=c.classPrefix;l=l.value;a.css(n,"display","none"===l?"none":"");a.toggleClass(n,t+"i-checkmark","ok"===l);a.toggleClass(n,t+"i-warning","warn"===l);a.toggleClass(n,t+"i-error","error"===l);c.classes.toggle("has-status","none"!==l);c.repaint()});a.on(c.getEl("status"),
"mouseleave",function(){c.tooltip().hide()});c.on("cancel",function(l){c.menu&&c.menu.visible()&&(l.stopPropagation(),c.hideMenu())});var g=function(l,n){n&&0<n.items().length&&n.items().eq(l)[0].focus()};c.on("keydown",function(l){var n=l.keyCode;"INPUT"===l.target.nodeName&&(n===d.DOWN?(l.preventDefault(),c.fire("autocomplete"),g(0,c.menu)):n===d.UP&&(l.preventDefault(),g(-1,c.menu)))});return c._super()},remove:function(){h(this.getEl("inp")).off();this.menu&&this.menu.remove();this._super()}})});
B("tinymce.ui.ColorBox",["tinymce.ui.ComboBox"],function(m){return m.extend({init:function(h){var e=this;h.spellcheck=!1;h.onaction&&(h.icon="none");e._super(h);e.classes.add("colorbox");e.on("change keyup postrender",function(){e.repaintColor(e.value())})},repaintColor:function(h){var e=this.getEl("open");if(e=e?e.getElementsByTagName("i")[0]:null)try{e.style.background=h}catch(f){}},bindStates:function(){var h=this;h.state.on("change:value",function(e){h.state.get("rendered")&&h.repaintColor(e.value)});
return h._super()}})});B("tinymce.ui.PanelButton",["tinymce.ui.Button","tinymce.ui.FloatPanel"],function(m,h){return m.extend({showPanel:function(){var e=this,f=e.settings;e.classes.add("opened");if(e.panel)e.panel.show();else{var d=f.panel;d.type&&(d={layout:"grid",items:d});d.role=d.role||"dialog";d.popover=!0;d.autohide=!0;d.ariaRoot=!0;e.panel=(new h(d)).on("hide",function(){e.classes.remove("opened")}).on("cancel",function(a){a.stopPropagation();e.focus();e.hidePanel()}).parent(e).renderTo(e.getContainerElm());
e.panel.fire("show");e.panel.reflow()}f=e.panel.testMoveRel(e.getEl(),f.popoverAlign||(e.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl"]));e.panel.classes.toggle("start","bc-tl"===f);e.panel.classes.toggle("end","bc-tr"===f);e.panel.moveRel(e.getEl(),f)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var e=this;e.aria("haspopup",!0);e.on("click",function(f){f.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!f.aria)))});return e._super()},
remove:function(){this.panel&&(this.panel.remove(),this.panel=null);return this._super()}})});B("tinymce.ui.ColorButton",["tinymce.ui.PanelButton","tinymce.core.dom.DOMUtils"],function(m,h){var e=h.DOM;return m.extend({init:function(f){this._super(f);this.classes.add("splitbtn");this.classes.add("colorbutton")},color:function(f){return f?(this._color=f,this.getEl("preview").style.backgroundColor=f,this):this._color},resetColor:function(){this._color=null;this.getEl("preview").style.backgroundColor=
null;return this},renderHtml:function(){var f=this._id,d=this.classPrefix,a=this.state.get("text"),b=this.settings.icon?d+"ico "+d+"i-"+this.settings.icon:"",c=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"",g="";a&&(this.classes.add("btn-has-text"),g='<span class="'+d+'txt">'+this.encode(a)+"</span>");return'<div id="'+f+'" class="'+this.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+
(b?'<i class="'+b+'"'+c+"></i>":"")+'<span id="'+f+'-preview" class="'+d+'preview"></span>'+g+'</button><button type="button" class="'+d+'open" hidefocus="1" tabindex="-1"> <i class="'+d+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;f.on("click",function(a){a.aria&&"down"===a.aria.key||a.control!=f||e.getParent(a.target,"."+f.classPrefix+"open")||(a.stopImmediatePropagation(),d.call(f,a))});delete f.settings.onclick;return f._super()}})});B("tinymce.core.util.Color",
["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.util.Color")});B("tinymce.ui.ColorPicker",["tinymce.ui.Widget","tinymce.ui.DragHelper","tinymce.ui.DomUtils","tinymce.core.util.Color"],function(m,h,e,f){return m.extend({Defaults:{classes:"widget colorpicker"},init:function(d){this._super(d)},postRender:function(){function d(p,u){var k=e.getPos(p);var r=u.pageX-k.x;u=u.pageY-k.y;r=Math.max(0,Math.min(r/p.clientWidth,1));u=Math.max(0,Math.min(u/p.clientHeight,1));return{x:r,y:u}}
function a(p,u){e.css(v,{top:(360-p.h)/360*100+"%"});u||e.css(y,{left:p.s+"%",top:100-p.v+"%"});z.style.background=(new f({s:100,v:100,h:p.h})).toHex();g.color().parse({s:p.s,v:p.v,h:p.h})}function b(p){p=d(z,p);n.s=100*p.x;n.v=100*(1-p.y);a(n);g.fire("change")}function c(p){p=d(t,p);n=l.toHsv();n.h=360*(1-p.y);a(n,!0);g.fire("change")}var g=this,l=g.color(),n;var t=g.getEl("h");var v=g.getEl("hp");var z=g.getEl("sv");var y=g.getEl("svp");g._repaint=function(){n=l.toHsv();a(n)};g._super();g._svdraghelper=
new h(g._id+"-sv",{start:b,drag:b});g._hdraghelper=new h(g._id+"-h",{start:c,drag:c});g._repaint()},rgb:function(){return this.color().toRgb()},value:function(d){if(arguments.length)this.color().parse(d),this._rendered&&this._repaint();else return this.color().toHex()},color:function(){this._color||(this._color=new f);return this._color},renderHtml:function(){var d=this._id,a=this.classPrefix,b,c="";var g="#ff0000 #ff0080 #ff00ff #8000ff #0000ff #0080ff #00ffff #00ff80 #00ff00 #80ff00 #ffff00 #ff8000 #ff0000".split(" ");
var l=0;for(b=g.length-1;l<b;l++)c+='<div class="'+a+'colorpicker-h-chunk" style="height:'+100/b+"%;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+g[l]+",endColorstr="+g[l+1]+");-ms-filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+g[l]+",endColorstr="+g[l+1]+')"></div>';return'<div id="'+d+'" class="'+this.classes+'"><div id="'+d+'-sv" class="'+a+'colorpicker-sv"><div class="'+a+'colorpicker-overlay1"><div class="'+a+'colorpicker-overlay2"><div id="'+
d+'-svp" class="'+a+'colorpicker-selector1"><div class="'+a+'colorpicker-selector2"></div></div></div></div></div><div id="'+(d+'-h" class="'+a+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+c+'<div id="'+d+'-hp" class="'+a+'colorpicker-h-marker"></div></div></div>')}})});
B("tinymce.ui.DropZone",["tinymce.ui.Widget","tinymce.core.util.Tools","tinymce.ui.DomUtils","global!RegExp"],function(m,h,e,f){return m.extend({init:function(d){d=h.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},d);this._super(d);this.classes.add("dropzone");d.multiple&&this.classes.add("multiple")},renderHtml:function(){var d=this.settings;var a=e.create("div",{id:this._id,hidefocus:"1"},"<span>"+this.translate(d.text)+"</span>");d.height&&e.css(a,"height",d.height+"px");
d.width&&e.css(a,"width",d.width+"px");a.className=this.classes;return a.outerHTML},postRender:function(){var d=this,a=function(c){c.preventDefault();d.classes.toggle("dragenter");d.getEl().className=d.classes},b=function(c){var g=d.settings.accept;if("string"!==typeof g)return c;var l=new f("("+g.split(/\s*,\s*/).join("|")+")$","i");return h.grep(c,function(n){return l.test(n.name)})};d._super();d.$el.on("dragover",function(c){c.preventDefault()});d.$el.on("dragenter",a);d.$el.on("dragleave",a);
d.$el.on("drop",function(c){c.preventDefault();if(!d.state.get("disabled")){var g=b(c.dataTransfer.files);d.value=function(){return g.length?d.settings.multiple?g:g[0]:null};g.length&&d.fire("change",c)}})},remove:function(){this.$el.off();this._super()}})});B("tinymce.ui.Path",["tinymce.ui.Widget"],function(m){return m.extend({init:function(h){var e=this;h.delimiter||(h.delimiter="\u00bb");e._super(h);e.classes.add("path");e.canFocus=!0;e.on("click",function(f){var d;(d=f.target.getAttribute("data-index"))&&
e.fire("select",{value:e.row()[d],index:d})});e.row(e.settings.row)},focus:function(){this.getEl().firstChild.focus();return this},row:function(h){if(!arguments.length)return this.state.get("row");this.state.set("row",h);return this},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var h=this;h.state.on("change:row",function(e){h.innerHtml(h._getDataPathHtml(e.value))});return h._super()},_getDataPathHtml:function(h){h=
h||[];var e,f="",d=this.classPrefix;var a=0;for(e=h.length;a<e;a++)f+=(0<a?'<div class="'+d+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+d+"path-item"+(a==e-1?" "+d+"last":"")+'" data-index="'+a+'" tabindex="-1" id="'+this._id+"-"+a+'" aria-level="'+(a+1)+'">'+h[a].name+"</div>";f||(f='<div class="'+d+'path-item">\u00a0</div>');return f}})});B("tinymce.ui.ElementPath",["tinymce.ui.Path"],function(m){return m.extend({postRender:function(){var h=
this,e=h.settings.editor;!1!==e.settings.elementpath&&(h.on("select",function(f){e.focus();e.selection.select(this.row()[f.index].element);e.nodeChanged()}),e.on("nodeChange",function(f){var d=[];f=f.parents;for(var a=f.length;a--;){var b;if(b=1==f[a].nodeType){a:{b=f[a];if(1===b.nodeType){if("BR"==b.nodeName||b.getAttribute("data-mce-bogus")){b=!0;break a}if("bookmark"===b.getAttribute("data-mce-type")){b=!0;break a}}b=!1}b=!b}if(b&&(b=e.fire("ResolveName",{name:f[a].nodeName.toLowerCase(),target:f[a]}),
b.isDefaultPrevented()||d.push({name:b.name,element:f[a]}),b.isPropagationStopped()))break}h.row(d)}));return h._super()}})});B("tinymce.ui.FormItem",["tinymce.ui.Container"],function(m){return m.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var h=this._layout,e=this.classPrefix;this.classes.add("formitem");h.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+
e+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+h.renderHtml(this)+"</div></div>"}})});B("tinymce.ui.Form",["tinymce.ui.Container","tinymce.ui.FormItem","tinymce.core.util.Tools"],function(m,h,e){return m.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var f=this,d=f.items();
f.settings.formItemDefaults||(f.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}});d.each(function(a){var b;if(b=a.settings.label)b=new h(e.extend({items:{type:"label",id:a._id+"-l",text:b,flex:0,forId:a._id,disabled:a.disabled()}},f.settings.formItemDefaults)),b.type="formitem",a.aria("labelledby",a._id+"-l"),"undefined"==typeof a.settings.flex&&(a.settings.flex=1),f.replace(a,b),b.add(a)})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();
this.fromJSON(this.settings.data)},bindStates:function(){function f(){var a=0,b=[];if(!1!==d.settings.labelGapCalc){var c="children"==d.settings.labelGapCalc?d.find("formitem"):d.items();c.filter("formitem").each(function(l){l=l.items()[0];var n=l.getEl().clientWidth;a=n>a?n:a;b.push(l)});var g=d.settings.labelGap||0;for(c=b.length;c--;)b[c].settings.minWidth=a+g}}var d=this;d._super();d.on("show",f);f()}})});B("tinymce.ui.FieldSet",["tinymce.ui.Form"],function(m){return m.extend({Defaults:{containerCls:"fieldset",
layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var h=this._layout,e=this.classPrefix;this.preRender();h.preRender(this);return'<fieldset id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+e+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+h.renderHtml(this)+
"</div></fieldset>"}})});L("global!Date",Date);L("global!Math",Math);B("ephox.katamari.api.Id",["global!Date","global!Math","global!String"],function(m,h,e){var f=0;return{generate:function(d){var a=(new m).getTime(),b=h.floor(1E9*h.random());f++;return d+"_"+b+f+e(a)}}});B("global!console",[],function(){"undefined"===typeof console&&(console={log:function(){}});return console});B("ephox.sugar.api.node.Element",["ephox.katamari.api.Fun","global!Error","global!console","global!document"],function(m,
h,e,f){var d=function(a){if(null===a||void 0===a)throw new h("Node cannot be null or undefined");return{dom:m.constant(a)}};return{fromHtml:function(a,b){b=(b||f).createElement("div");b.innerHTML=a;if(!b.hasChildNodes()||1<b.childNodes.length)throw e.error("HTML does not have a single root node",a),"HTML must have a single root node";return d(b.childNodes[0])},fromTag:function(a,b){a=(b||f).createElement(a);return d(a)},fromText:function(a,b){a=(b||f).createTextNode(a);return d(a)},fromDom:d}});B("ephox.katamari.api.Thunk",
[],function(){return{cached:function(m){var h=!1,e;return function(){h||(h=!0,e=m.apply(null,arguments));return e}}}});B("ephox.sugar.api.node.NodeTypes",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}});B("ephox.sugar.api.node.Node",["ephox.sugar.api.node.NodeTypes"],function(m){var h=function(b){return b.dom().nodeName.toLowerCase()},e=function(b){return b.dom().nodeType},
f=function(b){return function(c){return e(c)===b}},d=f(m.ELEMENT),a=f(m.TEXT);f=f(m.DOCUMENT);return{name:h,type:e,value:function(b){return b.dom().nodeValue},isElement:d,isText:a,isDocument:f,isComment:function(b){return e(b)===m.COMMENT||"#comment"===h(b)}}});B("ephox.sugar.api.node.Body",["ephox.katamari.api.Thunk","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","global!document"],function(m,h,e,f){var d=function(a){a=a.dom().body;if(null===a||void 0===a)throw"Body is not available yet";
return h.fromDom(a)};return{body:m.cached(function(){return d(h.fromDom(f))}),getBody:d,inBody:function(a){a=e.isText(a)?a.dom().parentNode:a.dom();return void 0!==a&&null!==a&&a.ownerDocument.body.contains(a)}}});B("ephox.katamari.api.Type",["global!Array","global!String"],function(m,h){var e=function(f){return function(d){if(null===d)d="null";else{var a=typeof d;d="object"===a&&m.prototype.isPrototypeOf(d)?"array":"object"===a&&h.prototype.isPrototypeOf(d)?"string":a}return d===f}};return{isString:e("string"),
isObject:e("object"),isArray:e("array"),isNull:e("null"),isBoolean:e("boolean"),isUndefined:e("undefined"),isFunction:e("function"),isNumber:e("number")}});B("ephox.katamari.data.Immutable",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!Array","global!Error"],function(m,h,e,f){return function(){var d=arguments;return function(){for(var a=new e(arguments.length),b=0;b<a.length;b++)a[b]=arguments[b];if(d.length!==a.length)throw new f('Wrong number of arguments to struct. Expected "['+d.length+
']", got '+a.length+" arguments");var c={};m.each(d,function(g,l){c[g]=h.constant(a[l])});return c}}});B("ephox.katamari.api.Obj",["ephox.katamari.api.Option","global!Object"],function(m,h){var e=function(){var c=h.keys,g=function(l){var n=[],t;for(t in l)l.hasOwnProperty(t)&&n.push(t);return n};return void 0===c?g:c}(),f=function(c,g){for(var l=e(c),n=0,t=l.length;n<t;n++){var v=l[n];g(c[v],v,c)}},d=function(c,g){var l={};f(c,function(n,t){n=g(n,t,c);l[n.k]=n.v});return l},a=function(c,g){var l=
[];f(c,function(n,t){l.push(g(n,t))});return l},b=function(c){return a(c,function(g){return g})};return{bifilter:function(c,g){var l={},n={};f(c,function(t,v){(g(t,v)?l:n)[v]=t});return{t:l,f:n}},each:f,map:function(c,g){return d(c,function(l,n,t){return{k:n,v:g(l,n,t)}})},mapToArray:a,tupleMap:d,find:function(c,g){for(var l=e(c),n=0,t=l.length;n<t;n++){var v=l[n],z=c[v];if(g(z,v,c))return m.some(z)}return m.none()},keys:e,values:b,size:function(c){return b(c).length}}});B("ephox.katamari.util.BagUtils",
["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!Error"],function(m,h,e){var f=function(d){return d.slice(0).sort()};return{sort:f,reqMessage:function(d,a){throw new e("All required keys ("+f(d).join(", ")+") were not specified. Specified keys were: "+f(a).join(", ")+".");},unsuppMessage:function(d){throw new e("Unsupported keys for object: "+f(d).join(", "));},validateStrArr:function(d,a){if(!h.isArray(a))throw new e("The "+d+" fields must be an array. Was: "+a+".");m.each(a,function(b){if(!h.isString(b))throw new e("The value "+
b+" in the "+d+" fields was not a string.");})},invalidTypeMessage:function(d,a){throw new e("All values need to be of type: "+a+". Keys ("+f(d).join(", ")+") were not.");},checkDupes:function(d){var a=f(d);m.find(a,function(b,c){return c<a.length-1&&b===a[c+1]}).each(function(b){throw new e("The field: "+b+" occurs more than once in the combined fields: ["+a.join(", ")+"].");})}}});B("ephox.katamari.data.MixedBag","ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Obj ephox.katamari.api.Option ephox.katamari.util.BagUtils global!Error global!Object".split(" "),
function(m,h,e,f,d,a,b){return function(c,g){var l=c.concat(g);if(0===l.length)throw new a("You must specify at least one required or optional field.");d.validateStrArr("required",c);d.validateStrArr("optional",g);d.checkDupes(l);return function(n){var t=e.keys(n);m.forall(c,function(y){return m.contains(t,y)})||d.reqMessage(c,t);var v=m.filter(t,function(y){return!m.contains(l,y)});0<v.length&&d.unsuppMessage(v);var z={};m.each(c,function(y){z[y]=h.constant(n[y])});m.each(g,function(y){z[y]=h.constant(b.prototype.hasOwnProperty.call(n,
y)?f.some(n[y]):f.none())});return z}}});B("ephox.katamari.api.Struct",["ephox.katamari.data.Immutable","ephox.katamari.data.MixedBag"],function(m,h){return{immutable:m,immutableBag:h}});B("ephox.sugar.alien.Recurse",[],function(){return{toArray:function(m,h){var e=[],f=function(d){e.push(d);return h(d)};m=h(m);do m=m.bind(f);while(m.isSome());return e}}});B("ephox.katamari.api.Global",[],function(){return"undefined"!==typeof window?window:Function("return this;")()});B("ephox.katamari.api.Resolve",
["ephox.katamari.api.Global"],function(m){var h=function(f,d){d=void 0!==d?d:m;for(var a=0;a<f.length&&void 0!==d&&null!==d;++a)d=d[f[a]];return d},e=function(f,d){var a=void 0!==d?d:m;for(d=0;d<f.length;++d){var b=f[d];if(void 0===a[b]||null===a[b])a[b]={};a=a[b]}return a};return{path:h,resolve:function(f,d){f=f.split(".");return h(f,d)},forge:e,namespace:function(f,d){f=f.split(".");return e(f,d)}}});B("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],function(m){return{getOrDie:function(h,
e){e=m.resolve(h,e);if(void 0===e)throw h+" not available on this browser";return e}}});B("ephox.sand.api.Node",["ephox.sand.util.Global"],function(m){return{documentPositionPreceding:function(h,e){var f=m.getOrDie("Node").DOCUMENT_POSITION_PRECEDING;return 0!==(h.compareDocumentPosition(e)&f)},documentPositionContainedBy:function(h,e){var f=m.getOrDie("Node").DOCUMENT_POSITION_CONTAINED_BY;return 0!==(h.compareDocumentPosition(e)&f)}}});L("global!Number",Number);B("ephox.sand.detect.Version",["ephox.katamari.api.Arr",
"global!Number","global!String"],function(m,h,e){var f=function(){return d(0,0)},d=function(a,b){return{major:a,minor:b}};return{nu:d,detect:function(a,b){b=e(b).toLowerCase();if(0===a.length)a=f();else{a:{for(var c=0;c<a.length;c++){var g=a[c];if(g.test(b)){a=g;break a}}a=void 0}a=a?d(h(b.replace(a,"$1")),h(b.replace(a,"$2"))):{major:0,minor:0}}return a},unknown:f}});B("ephox.sand.core.Browser",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(m,h){var e=function(d,a){return function(){return a===
d}},f=function(d){var a=d.current;return{current:a,version:d.version,isEdge:e("Edge",a),isChrome:e("Chrome",a),isIE:e("IE",a),isOpera:e("Opera",a),isFirefox:e("Firefox",a),isSafari:e("Safari",a)}};return{unknown:function(){return f({current:void 0,version:h.unknown()})},nu:f,edge:m.constant("Edge"),chrome:m.constant("Chrome"),ie:m.constant("IE"),opera:m.constant("Opera"),firefox:m.constant("Firefox"),safari:m.constant("Safari")}});B("ephox.sand.core.OperatingSystem",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],
function(m,h){var e=function(d,a){return function(){return a===d}},f=function(d){var a=d.current;return{current:a,version:d.version,isWindows:e("Windows",a),isiOS:e("iOS",a),isAndroid:e("Android",a),isOSX:e("OSX",a),isLinux:e("Linux",a),isSolaris:e("Solaris",a),isFreeBSD:e("FreeBSD",a)}};return{unknown:function(){return f({current:void 0,version:h.unknown()})},nu:f,windows:m.constant("Windows"),ios:m.constant("iOS"),android:m.constant("Android"),linux:m.constant("Linux"),osx:m.constant("OSX"),solaris:m.constant("Solaris"),
freebsd:m.constant("FreeBSD")}});B("ephox.sand.detect.DeviceType",["ephox.katamari.api.Fun"],function(m){return function(h,e,f){var d=h.isiOS()&&!0===/ipad/i.test(f),a=h.isiOS()&&!d,b=h.isAndroid()&&3===h.version.major,c=h.isAndroid()&&4===h.version.major;b=d||b||c&&!0===/mobile/i.test(f);var g=(c=h.isiOS()||h.isAndroid())&&!b;e=e.isSafari()&&h.isiOS()&&!1===/safari/i.test(f);return{isiPad:m.constant(d),isiPhone:m.constant(a),isTablet:m.constant(b),isPhone:m.constant(g),isTouch:m.constant(c),isAndroid:h.isAndroid,
isiOS:h.isiOS,isWebView:m.constant(e)}}});B("ephox.sand.detect.UaString",["ephox.katamari.api.Arr","ephox.sand.detect.Version","global!String"],function(m,h,e){var f=function(d,a){var b=e(a).toLowerCase();return m.find(d,function(c){return c.search(b)})};return{detectBrowser:function(d,a){return f(d,a).map(function(b){var c=h.detect(b.versionRegexes,a);return{current:b.name,version:c}})},detectOs:function(d,a){return f(d,a).map(function(b){var c=h.detect(b.versionRegexes,a);return{current:b.name,
version:c}})}}});B("ephox.katamari.str.StrAppend",[],function(){return{addToStart:function(m,h){return h+m},addToEnd:function(m,h){return m+h},removeFromStart:function(m,h){return m.substring(h)},removeFromEnd:function(m,h){return m.substring(0,m.length-h)}}});B("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],function(m,h){return{first:function(e,f){return e.substr(0,f)},last:function(e,f){return e.substr(e.length-f,e.length)},head:function(e){return""===e?m.none():m.some(e.substr(0,
1))},tail:function(e){return""===e?m.none():m.some(e.substring(1))}}});B("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],function(m,h,e){var f=function(b,c,g){return""===c?!0:b.length<c.length?!1:b.substr(g,g+c.length)===c},d=function(b,c){return f(b,c,0)},a=function(b,c){return f(b,c,b.length-c.length)};return{supplant:function(b,c){return b.replace(/\${([^{}]*)}/g,function(g,l){l=c[l];var n=typeof l;return"string"===n||"number"===n?l:
g})},startsWith:d,removeLeading:function(b,c){return d(b,c)?m.removeFromStart(b,c.length):b},removeTrailing:function(b,c){return a(b,c)?m.removeFromEnd(b,c.length):b},ensureLeading:function(b,c){return d(b,c)?b:m.addToStart(b,c)},ensureTrailing:function(b,c){return a(b,c)?b:m.addToEnd(b,c)},endsWith:a,contains:function(b,c){return-1!==b.indexOf(c)},trim:function(b){return b.replace(/^\s+|\s+$/g,"")},lTrim:function(b){return b.replace(/^\s+/g,"")},rTrim:function(b){return b.replace(/\s+$/g,"")},capitalize:function(b){return h.head(b).bind(function(c){return h.tail(b).map(function(g){return c.toUpperCase()+
g})}).getOr(b)}}});B("ephox.sand.info.PlatformInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Strings"],function(m,h){var e=/.*?version\/ ?([0-9]+)\.([0-9]+).*/,f=function(d){return function(a){return h.contains(a,d)}};e=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(d){return h.contains(d,"edge/")&&h.contains(d,"chrome")&&h.contains(d,"safari")&&h.contains(d,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,e],search:function(d){return h.contains(d,
"chrome")&&!h.contains(d,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(d){return h.contains(d,"msie")||h.contains(d,"trident")}},{name:"Opera",versionRegexes:[e,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:f("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/ ?([0-9]+)\.([0-9]+).*/],search:f("firefox")},{name:"Safari",versionRegexes:[e,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(d){return(h.contains(d,"safari")||h.contains(d,
"mobile/"))&&h.contains(d,"applewebkit")}}];f=[{name:"Windows",search:f("win"),versionRegexes:[/.*?windows nt ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(d){return h.contains(d,"iphone")||h.contains(d,"ipad")},versionRegexes:[/.*?version\/ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:f("android"),versionRegexes:[/.*?android ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:f("os x"),versionRegexes:[/.*?os x ?([0-9]+)_([0-9]+).*/]},
{name:"Linux",search:f("linux"),versionRegexes:[]},{name:"Solaris",search:f("sunos"),versionRegexes:[]},{name:"FreeBSD",search:f("freebsd"),versionRegexes:[]}];return{browsers:m.constant(e),oses:m.constant(f)}});B("ephox.sand.core.PlatformDetection",["ephox.sand.core.Browser","ephox.sand.core.OperatingSystem","ephox.sand.detect.DeviceType","ephox.sand.detect.UaString","ephox.sand.info.PlatformInfo"],function(m,h,e,f,d){return{detect:function(a){var b=d.browsers(),c=d.oses();b=f.detectBrowser(b,a).fold(m.unknown,
m.nu);c=f.detectOs(c,a).fold(h.unknown,h.nu);a=e(c,b,a);return{browser:b,os:c,deviceType:a}}}});L("global!navigator",navigator);B("ephox.sand.api.PlatformDetection",["ephox.katamari.api.Thunk","ephox.sand.core.PlatformDetection","global!navigator"],function(m,h,e){return{detect:m.cached(function(){return h.detect(e.userAgent)})}});B("ephox.sugar.api.search.Selectors","ephox.katamari.api.Arr ephox.katamari.api.Option ephox.sugar.api.node.Element ephox.sugar.api.node.NodeTypes global!Error global!document".split(" "),
function(m,h,e,f,d,a){var b=f.ELEMENT,c=f.DOCUMENT;return{all:function(g,l){l=void 0===l?a:l.dom();return l.nodeType!==b&&l.nodeType!==c||0===l.childElementCount?[]:m.map(l.querySelectorAll(g),e.fromDom)},is:function(g,l){g=g.dom();if(g.nodeType!==b)return!1;if(void 0!==g.matches)return g.matches(l);if(void 0!==g.msMatchesSelector)return g.msMatchesSelector(l);if(void 0!==g.webkitMatchesSelector)return g.webkitMatchesSelector(l);if(void 0!==g.mozMatchesSelector)return g.mozMatchesSelector(l);throw new d("Browser lacks native selectors");
},one:function(g,l){l=void 0===l?a:l.dom();return l.nodeType!==b&&l.nodeType!==c||0===l.childElementCount?h.none():h.from(l.querySelector(g)).map(e.fromDom)}}});B("ephox.sugar.api.dom.Compare",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sand.api.Node","ephox.sand.api.PlatformDetection","ephox.sugar.api.search.Selectors"],function(m,h,e,f,d){var a=function(g,l){return g.dom()===l.dom()},b=function(g,l){g=g.dom();l=l.dom();return g===l?!1:g.contains(l)},c=function(g,l){return e.documentPositionContainedBy(g.dom(),
l.dom())};f=f.detect().browser.isIE()?c:b;return{eq:a,isEqualNode:function(g,l){return g.dom().isEqualNode(l.dom())},member:function(g,l){return m.exists(l,h.curry(a,g))},contains:f,is:d.is}});B("ephox.sugar.api.search.Traverse","ephox.katamari.api.Type ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Option ephox.katamari.api.Struct ephox.sugar.alien.Recurse ephox.sugar.api.dom.Compare ephox.sugar.api.node.Element".split(" "),function(m,h,e,f,d,a,b,c){var g=function(p){return c.fromDom(p.dom().ownerDocument)},
l=function(p){p=p.dom();return f.from(p.parentNode).map(c.fromDom)},n=function(p){p=p.dom();return f.from(p.previousSibling).map(c.fromDom)},t=function(p){p=p.dom();return f.from(p.nextSibling).map(c.fromDom)},v=function(p){p=p.dom();return h.map(p.childNodes,c.fromDom)},z=function(p,u){p=p.dom().childNodes;return f.from(p[u]).map(c.fromDom)},y=d.immutable("element","offset");return{owner:g,defaultView:function(p){p=p.dom().ownerDocument.defaultView;return c.fromDom(p)},documentElement:function(p){p=
g(p);return c.fromDom(p.dom().documentElement)},parent:l,findIndex:function(p){return l(p).bind(function(u){u=v(u);return h.findIndex(u,function(k){return b.eq(p,k)})})},parents:function(p,u){u=m.isFunction(u)?u:e.constant(!1);var k=p.dom();for(p=[];null!==k.parentNode&&void 0!==k.parentNode;){k=k.parentNode;var r=c.fromDom(k);p.push(r);if(!0===u(r))break}return p},siblings:function(p){return l(p).map(v).map(function(u){return h.filter(u,function(k){return!b.eq(p,k)})}).getOr([])},prevSibling:n,offsetParent:function(p){p=
p.dom();return f.from(p.offsetParent).map(c.fromDom)},prevSiblings:function(p){return h.reverse(a.toArray(p,n))},nextSibling:t,nextSiblings:function(p){return a.toArray(p,t)},children:v,child:z,firstChild:function(p){return z(p,0)},lastChild:function(p){return z(p,p.dom().childNodes.length-1)},childNodesCount:function(p,u){return p.dom().childNodes.length},leaf:function(p,u){var k=v(p);return 0<k.length&&u<k.length?y(k[u],0):y(p,u)}}});B("ephox.sugar.api.search.PredicateFilter",["ephox.katamari.api.Arr",
"ephox.sugar.api.node.Body","ephox.sugar.api.search.Traverse"],function(m,h,e){var f=function(d,a){var b=[];m.each(e.children(d),function(c){a(c)&&(b=b.concat([c]));b=b.concat(f(c,a))});return b};return{all:function(d){return f(h.body(),d)},ancestors:function(d,a,b){return m.filter(e.parents(d,b),a)},siblings:function(d,a){return m.filter(e.siblings(d),a)},children:function(d,a){return m.filter(e.children(d),a)},descendants:f}});B("ephox.sugar.api.search.SelectorFilter",["ephox.sugar.api.search.PredicateFilter",
"ephox.sugar.api.search.Selectors"],function(m,h){return{all:function(e){return h.all(e)},ancestors:function(e,f,d){return m.ancestors(e,function(a){return h.is(a,f)},d)},siblings:function(e,f){return m.siblings(e,function(d){return h.is(d,f)})},children:function(e,f){return m.children(e,function(d){return h.is(d,f)})},descendants:function(e,f){return h.all(f,e)}}});B("tinymce.ui.content.LinkTargets","ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Id ephox.sugar.api.node.Element ephox.sugar.api.search.SelectorFilter tinymce.core.dom.DOMUtils tinymce.core.util.Tools".split(" "),
function(m,h,e,f,d,a,b){var c=b.trim;a=function(q){return function(x){return!x||1!==x.nodeType||x.contentEditable!==q&&x.getAttribute("data-mce-contenteditable")!==q?!1:!0}};var g=a("true"),l=a("false"),n=function(q,x,w,A,D){return{type:q,title:x,url:w,level:A,attach:D}},t=function(q,x){return m.map(d.descendants(f.fromDom(x),q),function(w){return w.dom()})},v=function(q){return q&&"A"===q.nodeName&&(q.id||q.name)&&z(q)},z=function(q){var x;a:{for(x=q;x=x.parentNode;){var w=x.contentEditable;if(w&&
"inherit"!==w){x=g(x);break a}}x=!1}return x&&!l(q)},y=function(q){return q&&/^(H[1-6])$/.test(q.nodeName)&&z(q)},p=function(q){return q&&/^(H[1-6])$/.test(q.nodeName)?parseInt(q.nodeName.substr(1),10):0},u=function(q){var x=q.id?q.id:e.generate("h");return n("header",q.innerText||q.textContent,"#"+x,p(q),function(){q.id=x})},k=function(q){var x=q.id||q.name;q=q.innerText||q.textContent;return n("anchor",q?q:"#"+x,"#"+x,0,h.noop)},r=function(q){return 0<c(q.title).length};return{find:function(q){q=
t("h1,h2,h3,h4,h5,h6,a:not([href])",q);return m.filter(m.map(m.filter(q,y),u).concat(m.map(m.filter(q,v),k)),r)}}});B("tinymce.ui.FilePicker","ephox.katamari.api.Arr ephox.katamari.api.Fun global!window tinymce.ui.content.LinkTargets tinymce.core.EditorManager tinymce.ui.ComboBox tinymce.core.util.Tools".split(" "),function(m,h,e,f,d,a,b){var c={},g=function(u){return{title:u.title,value:{title:{raw:u.title},url:u.url,attach:u.attach}}},l=function(u,k){return{title:u,value:{title:u,url:k,attach:h.noop}}},
n=function(u,k){return!m.exists(k,function(r){return r.url===u})},t=function(u,k,r){u=k in u?u[k]:r;return!1===u?null:u},v=function(u,k,r,q){var x={title:"-"},w=function(E){E=E.hasOwnProperty(r)?E[r]:[];E=m.filter(E,function(F){return n(F,k)});return b.map(E,function(F){return{title:F,value:{title:F,url:F,attach:h.noop}}})},A=function(E){var F=m.filter(k,function(I){return I.type===E});return b.map(F,g)},D=function(){var E=A("anchor"),F=t(q,"anchor_top","#top"),I=t(q,"anchor_bottom","#bottom");null!==
F&&E.unshift(l("<top>",F));null!==I&&E.push(l("<bottom>",I));return E},C=function(E){return m.foldl(E,function(F,I){return 0===F.length||0===I.length?F.concat(I):F.concat(x,I)},[])};return!1===q.typeahead_urls?[]:"file"===r?C([z(u,w(c)),z(u,A("header")),z(u,D())]):z(u,w(c))},z=function(u,k){var r=u.toLowerCase();k=b.grep(k,function(q){return-1!==q.title.toLowerCase().indexOf(r)});return 1===k.length&&k[0].title===u?[]:k},y=function(u,k,r,q){var x=function(w){var A=k.enable_autocompletes?f.find(r):
[];A=k.enable_autocompletes?v(w,A,q,k):[];u.showAutoComplete(A,w)};u.on("autocomplete",function(){x(u.value())});u.on("selectitem",function(w){w=w.value;u.value(w.url);var A=w.title;A=A.raw?A.raw:A;"image"===q?u.fire("change",{meta:{alt:A,attach:w.attach}}):u.fire("change",{meta:{text:A,attach:w.attach}});u.focus()});u.on("click",function(w){0===u.value().length&&"INPUT"===w.target.nodeName&&x("")});u.on("PostRender",function(){u.getRoot().on("submit",function(w){if(!w.isDefaultPrevented()){w=u.value();
var A=c[q];/^https?/.test(w)&&(A?-1===m.indexOf(A,w)&&(c[q]=A.slice(0,5).concat(w)):c[q]=[w])}})})},p=function(u,k,r){var q=k.filepicker_validator_handler;if(q){var x=function(w){0===w.length?u.statusLevel("none"):q({url:w,type:r},function(A){var D=A.status;A=A.message;D="valid"===D?{status:"ok",message:A}:"unknown"===D?{status:"warn",message:A}:"invalid"===D?{status:"warn",message:A}:{status:"none",message:""};u.statusMessage(D.message);u.statusLevel(D.status)})};u.state.on("change:value",function(w){x(w.value)})}};
return a.extend({Statics:{clearHistory:function(){c={}}},init:function(u){var k=this,r=e.tinymce?e.tinymce.activeEditor:d.activeEditor,q=r.settings,x,w,A=u.filetype;u.spellcheck=!1;(w=q.file_picker_types||q.file_browser_callback_types)&&(w=b.makeMap(w,/[, ]/));if(!w||w[A]){var D=q.file_picker_callback;!D||w&&!w[A]?(D=q.file_browser_callback,!D||w&&!w[A]||(x=function(){D(k.getEl("inp").id,k.value(),A,e)})):x=function(){var C=k.fire("beforecall").meta;C=b.extend({filetype:A},C);D.call(r,function(E,
F){k.value(E).fire("change",{meta:F})},k.value(),C)}}x&&(u.icon="browse",u.onaction=x);k._super(u);y(k,q,r.getBody(),A);p(k,q,A)}})});B("tinymce.ui.FitLayout",["tinymce.ui.AbsoluteLayout"],function(m){return m.extend({recalc:function(h){var e=h.layoutRect(),f=h.paddingBox;h.items().filter(":visible").each(function(d){d.layoutRect({x:f.left,y:f.top,w:e.innerW-f.right-f.left,h:e.innerH-f.top-f.bottom});d.recalc&&d.recalc()})}})});B("tinymce.ui.FlexLayout",["tinymce.ui.AbsoluteLayout"],function(m){return m.extend({recalc:function(h){var e,
f,d=[],a,b=Math.max,c=Math.min;var g=h.items().filter(":visible");var l=h.layoutRect();var n=h.paddingBox;var t=h.settings;var v=h.isRtl()?t.direction||"row-reversed":t.direction;var z=t.align;var y=h.isRtl()?t.pack||"end":t.pack;t=t.spacing||0;if("row-reversed"==v||"column-reverse"==v)g=g.set(g.toArray().reverse()),v=v.split("-")[0];if("column"==v){var p="y";var u="h";var k="minH";var r="maxH";var q="innerH";var x="top";var w="deltaH";var A="contentH";var D="left";var C="w";var E="x";var F="innerW";
var I="minW";var G="right";var J="deltaW";var N="contentW"}else p="x",u="w",k="minW",r="maxW",q="innerW",x="left",w="deltaW",A="contentW",D="top",C="h",E="y",F="innerH",I="minH",G="bottom",J="deltaH",N="contentH";var O=l[q]-n[x]-n[x];v=a=f=0;for(e=g.length;v<e;v++){var Q=g[v];var P=Q.layoutRect();var R=Q.settings;R=R.flex;O-=v<e-1?t:0;0<R&&(f+=R,P[r]&&d.push(Q),P.flex=R);O-=P[k];R=n[D]+P[I]+n[G];R>a&&(a=R)}var M={};M[k]=0>O?l[k]-O+l[w]:l[q]-O+l[w];M[I]=a+l[J];M[A]=l[q]-O;M[N]=a;M.minW=c(M.minW,l.maxW);
M.minH=c(M.minH,l.maxH);M.minW=b(M.minW,l.startMinWidth);M.minH=b(M.minH,l.startMinHeight);if(!l.autoResize||M.minW==l.minW&&M.minH==l.minH){h=O/f;v=0;for(e=d.length;v<e;v++)Q=d[v],P=Q.layoutRect(),Q=P[r],R=P[k]+P.flex*h,R>Q?(O-=P[r]-P[k],f-=P.flex,P.flex=0,P.maxFlexSize=Q):P.maxFlexSize=0;h=O/f;d=n[x];M={};0===f&&("end"==y?d=O+n[x]:"center"==y?(d=Math.round(l[q]/2-(l[q]-O)/2)+n[x],0>d&&(d=n[x])):"justify"==y&&(d=n[x],t=Math.floor(O/(g.length-1))));M[E]=n[D];v=0;for(e=g.length;v<e;v++)Q=g[v],P=Q.layoutRect(),
R=P.maxFlexSize||P[k],"center"===z?M[E]=Math.round(l[F]/2-P[C]/2):"stretch"===z?(M[C]=b(P[I]||0,l[F]-n[D]-n[G]),M[E]=n[D]):"end"===z&&(M[E]=l[F]-P[C]-n.top),0<P.flex&&(R+=P.flex*h),M[u]=R,M[p]=d,Q.layoutRect(M),Q.recalc&&Q.recalc(),d+=R+t}else if(M.w=M.minW,M.h=M.minH,h.layoutRect(M),this.recalc(h),null===h._lastRect&&(g=h.parent()))g._lastRect=null,g.recalc()}})});B("tinymce.ui.FlowLayout",["tinymce.ui.Layout"],function(m){return m.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",
endClass:"break"},recalc:function(h){h.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})});B("ephox.sugar.impl.ClosestOrAncestor",["ephox.katamari.api.Type","ephox.katamari.api.Option"],function(m,h){return function(e,f,d,a,b){return e(d,a)?h.some(d):m.isFunction(b)&&b(d)?h.none():f(d,a,b)}});B("ephox.sugar.api.search.PredicateFind","ephox.katamari.api.Type ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Option ephox.sugar.api.node.Body ephox.sugar.api.dom.Compare ephox.sugar.api.node.Element ephox.sugar.impl.ClosestOrAncestor".split(" "),
function(m,h,e,f,d,a,b,c){var g=function(t,v,z){t=t.dom();for(z=m.isFunction(z)?z:e.constant(!1);t.parentNode;){t=t.parentNode;var y=b.fromDom(t);if(v(y))return f.some(y);if(z(y))break}return f.none()},l=function(t,v){return h.find(t.dom().childNodes,e.compose(v,b.fromDom)).map(b.fromDom)},n=function(t,v){var z=function(y){for(var p=0;p<y.childNodes.length;p++){if(v(b.fromDom(y.childNodes[p])))return f.some(b.fromDom(y.childNodes[p]));var u=z(y.childNodes[p]);if(u.isSome())return u}return f.none()};
return z(t.dom())};return{first:function(t){return n(d.body(),t)},ancestor:g,closest:function(t,v,z){return c(function(y){return v(y)},g,t,v,z)},sibling:function(t,v){var z=t.dom();return z.parentNode?l(b.fromDom(z.parentNode),function(y){return!a.eq(t,y)&&v(y)}):f.none()},child:l,descendant:n}});B("ephox.sugar.api.search.SelectorFind",["ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Selectors","ephox.sugar.impl.ClosestOrAncestor"],function(m,h,e){var f=function(d,a,b){return m.ancestor(d,
function(c){return h.is(c,a)},b)};return{first:function(d){return h.one(d)},ancestor:f,sibling:function(d,a){return m.sibling(d,function(b){return h.is(b,a)})},child:function(d,a){return m.child(d,function(b){return h.is(b,a)})},descendant:function(d,a){return h.one(a,d)},closest:function(d,a,b){return e(h.is,f,d,a,b)}}});B("tinymce.ui.editorui.FormatUtils",[],function(){return{toggleFormat:function(m,h){return function(){m.execCommand("mceToggleFormat",!1,h)}},postRenderFormat:function(m,h){return function(){var e=
this;if(m.formatter)m.formatter.formatChanged(h,function(f){e.active(f)});else m.on("init",function(){m.formatter.formatChanged(h,function(f){e.active(f)})})}}}});B("tinymce.ui.editorui.Align",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(m,h){return{register:function(e){e.addMenuItem("align",{text:"Align",menu:[{text:"Left",icon:"alignleft",onclick:h.toggleFormat(e,"alignleft")},{text:"Center",icon:"aligncenter",onclick:h.toggleFormat(e,"aligncenter")},{text:"Right",icon:"alignright",
onclick:h.toggleFormat(e,"alignright")},{text:"Justify",icon:"alignjustify",onclick:h.toggleFormat(e,"alignjustify")}]});m.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(f,d){e.addButton(d,{active:!1,tooltip:f[0],cmd:f[1],onPostRender:h.postRenderFormat(e,d)})})}}});B("tinymce.ui.fmt.FontInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Option",
"ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","tinymce.core.dom.DOMUtils"],function(m,h,e,f,d){var a=function(b){return function(c,g){return h.from(g).map(e.fromDom).filter(f.isElement).bind(function(l){var n;a:{for(n=l.dom();n!==c;){if(n.style[b]){n=n.style[b];n=""!==n?h.some(n):h.none();break a}n=n.parentNode}n=h.none()}var t=n.or;l=l.dom();l=h.from(d.DOM.getStyle(l,b,!0));return t.call(n,l)}).getOr("")}};return{getFontSize:a("fontSize"),getFontFamily:m.compose(function(b){return b.replace(/['"]/g,
"").replace(/,\s+/g,",")},a("fontFamily")),toPt:function(b,c){return/[0-9.]+px$/.test(b)?(b=72*parseInt(b,10)/96,c=Math.pow(10,c||0),Math.round(b*c)/c+"pt"):b}}});B("tinymce.ui.editorui.FontSelect",["tinymce.core.util.Tools","tinymce.ui.fmt.FontInfo"],function(m,h){var e=function(g){return g?g.split(",")[0]:""},f=function(g,l){var n;m.each(g,function(t){t.value.toLowerCase()===l.toLowerCase()&&(n=t.value)});m.each(g,function(t){n||e(t.value).toLowerCase()!==e(l).toLowerCase()||(n=t.value)});return n},
d=function(g,l){return function(){var n=this;g.on("init nodeChange",function(t){t=h.getFontFamily(g.getBody(),t.element);var v=f(l,t);n.value(v?v:null);!v&&t&&n.text(e(t))})}},a=function(g){g=g.replace(/;$/,"").split(";");for(var l=g.length;l--;)g[l]=g[l].split("=");return g},b=function(g){g=a(g.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
return m.map(g,function(l){return{text:{raw:l[0]},value:l[1],textStyle:-1===l[1].indexOf("dings")?"font-family:"+l[1]:""}})},c=function(g){g.addButton("fontselect",function(){var l=b(g);return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:l,fixedWidth:!0,onPostRender:d(g,l),onselect:function(n){n.control.settings.value&&g.execCommand("FontName",!1,n.control.settings.value)}}})};return{register:function(g){c(g)}}});B("tinymce.ui.editorui.FontSizeSelect",["tinymce.core.util.Tools",
"tinymce.ui.fmt.FontInfo"],function(m,h){var e=function(b,c,g){var l;m.each(b,function(n){n.value===g?l=g:n.value===c&&(l=c)});return l},f=function(b,c){return function(){var g=this;b.on("init nodeChange",function(l){var n;if(l=h.getFontSize(b.getBody(),l.element))for(n=3;!v&&0<=n;n--){var t=h.toPt(l,n);var v=e(c,t,l)}g.value(v?v:null);v||g.text(t)})}},d=function(b){return m.map((b.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(c){var g=c,l=c;c=c.split("=");1<
c.length&&(g=c[0],l=c[1]);return{text:g,value:l}})},a=function(b){b.addButton("fontsizeselect",function(){var c=d(b);return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:c,fixedWidth:!0,onPostRender:f(b,c),onclick:function(g){g.control.settings.value&&b.execCommand("FontSize",!1,g.control.settings.value)}}})};return{register:function(b){a(b)}}});B("tinymce.ui.editorui.FormatSelect",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(m,h){var e=function(a,b,c){return function(){var g=
this;a.on("nodeChange",function(l){var n=a.formatter,t=null;m.each(l.parents,function(v){m.each(b,function(z){c?n.matchNode(v,c,{value:z.value})&&(t=z.value):n.matchNode(v,z.value)&&(t=z.value);if(t)return!1});if(t)return!1});g.value(t)})}},f=function(a,b){return function(){var c=[];m.each(b,function(g){c.push({text:g[0],value:g[1],textStyle:function(){return a.formatter.getCssText(g[1])}})});return{type:"listbox",text:b[0][0],values:c,fixedWidth:!0,onselect:function(g){g.control&&(g=g.control.value(),
h.toggleFormat(a,g)())},onPostRender:e(a,c)}}},d=function(a,b){return m.map(b,function(c){return{text:c[0],onclick:h.toggleFormat(a,c[1]),textStyle:function(){return a.formatter.getCssText(c[1])}}})};return{register:function(a){var b=a.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre";b=b.replace(/;$/,"").split(";");for(var c=b.length;c--;)b[c]=b[c].split("=");a.addMenuItem("blockformats",{text:"Blocks",menu:d(a,b)});
a.addButton("formatselect",f(a,b))}}});B("tinymce.ui.editorui.Formats",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(m,h){var e=function(b,c){var g=c.length;m.each(c,function(l){l.menu&&(l.hidden=0===e(b,l.menu));var n=l.format;n&&(l.hidden=!b.formatter.canApply(n));l.hidden&&g--});return g},f=function(b,c){var g=c.items().length;c.items().each(function(l){l.menu&&l.visible(0<f(b,l.menu));!l.menu&&l.settings.menu&&l.visible(0<e(b,l.settings.menu));var n=l.settings.format;
n&&l.visible(b.formatter.canApply(n));l.visible()||g--});return g},d=function(b){var c=0,g=[],l=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",
icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",
icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],n=function(t){var v=[];if(t)return m.each(t,function(z){var y={text:z.title,icon:z.icon};if(z.items)y.menu=n(z.items);else{var p=z.format||"custom"+c++;z.format||(z.name=p,g.push(z));y.format=p;y.cmd=z.cmd}v.push(y)}),v};b.on("init",function(){m.each(g,function(t){b.formatter.register(t.name,t)})});return{type:"menu",items:b.settings.style_formats_merge?b.settings.style_formats?n(l.concat(b.settings.style_formats)):
n(l):n(b.settings.style_formats||l),onPostRender:function(t){b.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return b.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on("show",function(){var v;if(v=t.settings.format)t.disabled(!b.formatter.canApply(v)),t.active(b.formatter.match(v));(v=t.settings.cmd)&&t.active(b.queryCommandState(v))})},onclick:function(){this.settings.format&&h.toggleFormat(b,
this.settings.format)();this.settings.cmd&&b.execCommand(this.settings.cmd)}}}},a=function(b,c){b.addButton("styleselect",{type:"menubutton",text:"Custom formats",menu:c,onShowMenu:function(){b.settings.style_formats_autohide&&f(b,this.menu)}})};return{register:function(b){var c=d(b);b.addMenuItem("formats",{text:"Custom formats",menu:c});a(b,c)}}});B("tinymce.ui.editorui.InsertButton",["ephox.katamari.api.Arr","tinymce.core.util.Tools"],function(m,h){var e=function(c,g){if("string"===typeof g)var l=
g.split(" ");else if(h.isArray(g))return m.flatten(h.map(g,function(n){return e(c,n)}));g=h.grep(l,function(n){return"|"===n||n in c.menuItems});return h.map(g,function(n){return"|"===n?{text:"-"}:c.menuItems[n]})},f=function(c){return c&&"-"===c.text},d=function(c){c=m.filter(c,function(g,l,n){return!f(g)||!f(n[l-1])});return m.filter(c,function(g,l,n){return!f(g)||0<l&&l<n.length-1})},a=function(c,g){var l=[{text:"-"}];c=h.grep(c.menuItems,function(n){return n.context===g});h.each(c,function(n){"before"===
n.separator&&l.push({text:"|"});n.prependToContext?l.unshift(n):l.push(n);"after"===n.separator&&l.push({text:"|"})});return l},b=function(c){c.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){var g=this.menu,l=g.add;var n=(n=c.settings.insert_button_items)?d(e(c,n)):d(a(c,"insert"));l.call(g,n);this.menu.renderNew()}})};return{register:function(c){b(c)}}});B("tinymce.ui.editorui.SimpleControls",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(m,
h){var e=function(b){m.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(c,g){b.addButton(g,{active:!1,tooltip:c,onPostRender:h.postRenderFormat(b,g),onclick:h.toggleFormat(b,g)})})},f=function(b){m.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids",
"mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(c,g){b.addButton(g,{tooltip:c[0],cmd:c[1]})})},d=function(b){m.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(c,g){b.addButton(g,{active:!1,tooltip:c[0],cmd:c[1],onPostRender:h.postRenderFormat(b,g)})})},a=function(b){m.each({bold:["Bold","Bold","Meta+B"],italic:["Italic",
"Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(c,g){b.addMenuItem(g,{text:c[0],icon:g,shortcut:c[2],cmd:c[1]})});b.addMenuItem("codeformat",
{text:"Code",icon:"code",onclick:h.toggleFormat(b,"code")})};return{register:function(b){e(b);f(b);d(b);a(b)}}});B("tinymce.ui.editorui.UndoRedo",[],function(){var m=function(h,e){return function(){var f=this,d=function(){var a="redo"===e?"hasRedo":"hasUndo";return h.undoManager?h.undoManager[a]():!1};f.disabled(!d());h.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){f.disabled(h.readonly||!d())})}};return{register:function(h){h.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",
onPostRender:m(h,"undo"),cmd:"undo"});h.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:m(h,"redo"),cmd:"redo"});h.addButton("undo",{tooltip:"Undo",onPostRender:m(h,"undo"),cmd:"undo"});h.addButton("redo",{tooltip:"Redo",onPostRender:m(h,"redo"),cmd:"redo"})}}});B("tinymce.ui.editorui.VisualAid",[],function(){var m=function(h){return function(){var e=this;h.on("VisualAid",function(f){e.active(f.hasVisual)});e.active(h.hasVisual)}};return{register:function(h){h.addMenuItem("visualaid",
{text:"Visual aids",selectable:!0,onPostRender:m(h),cmd:"mceToggleVisualAid"})}}});B("tinymce.ui.FormatControls","ephox.katamari.api.Fun ephox.sugar.api.node.Element ephox.sugar.api.search.SelectorFind global!document tinymce.core.EditorManager tinymce.core.Env tinymce.ui.Control tinymce.ui.FloatPanel tinymce.ui.Widget tinymce.ui.editorui.Align tinymce.ui.editorui.FontSelect tinymce.ui.editorui.FontSizeSelect tinymce.ui.editorui.FormatSelect tinymce.ui.editorui.Formats tinymce.ui.editorui.InsertButton tinymce.ui.editorui.SimpleControls tinymce.ui.editorui.UndoRedo tinymce.ui.editorui.VisualAid".split(" "),
function(m,h,e,f,d,a,b,c,g,l,n,t,v,z,y,p,u,k){var r=function(){g.tooltips=!a.iOS;b.translate=function(w){return d.translate(w)}},q=function(w){w.settings.ui_container&&(a.container=e.descendant(h.fromDom(f.body),w.settings.ui_container).fold(m.constant(null),function(A){return A.dom()}))},x=function(w){w.on("mousedown",function(){c.hideAll()})};return{setup:function(w){w.rtl&&(b.rtl=!0);x(w);q(w);r(w);v.register(w);l.register(w);p.register(w);u.register(w);t.register(w);n.register(w);z.register(w);
k.register(w);y.register(w)}}});B("tinymce.ui.GridLayout",["tinymce.ui.AbsoluteLayout"],function(m){return m.extend({recalc:function(h){var e,f,d=[],a=[];var b=h.settings;var c=h.items().filter(":visible");var g=h.layoutRect();var l=b.columns||Math.ceil(Math.sqrt(c.length));var n=Math.ceil(c.length/l);var t=b.spacingH||b.spacing||0;var v=b.spacingV||b.spacing||0;var z=b.alignH||b.align;var y=b.alignV||b.align;var p=h.paddingBox;var u="reverseRows"in b?b.reverseRows:h.isRtl();z&&"string"==typeof z&&
(z=[z]);y&&"string"==typeof y&&(y=[y]);for(f=0;f<l;f++)d.push(0);for(e=0;e<n;e++)a.push(0);for(e=0;e<n;e++)for(f=0;f<l;f++){var k=c[e*l+f];if(!k)break;var r=k.layoutRect();k=r.minW;r=r.minH;d[f]=k>d[f]?k:d[f];a[e]=r>a[e]?r:a[e]}r=g.innerW-p.left-p.right;for(f=k=0;f<l;f++)k+=d[f]+(0<f?t:0),r-=(0<f?t:0)+d[f];var q=g.innerH-p.top-p.bottom;for(e=f=0;e<n;e++)f+=a[e]+(0<e?v:0),q-=(0<e?v:0)+a[e];k+=p.left+p.right;f+=p.top+p.bottom;e={};e.minW=k+(g.w-g.innerW);e.minH=f+(g.h-g.innerH);e.contentW=e.minW-g.deltaW;
e.contentH=e.minH-g.deltaH;e.minW=Math.min(e.minW,g.maxW);e.minH=Math.min(e.minH,g.maxH);e.minW=Math.max(e.minW,g.startMinWidth);e.minH=Math.max(e.minH,g.startMinHeight);if(!g.autoResize||e.minW==g.minW&&e.minH==g.minH){g.autoResize&&(e=h.layoutRect(e),e.contentW=e.minW-g.deltaW,e.contentH=e.minH-g.deltaH);h="start"==b.packV?0:0<q?Math.floor(q/n):0;e=0;if(b=b.flexWidths)for(f=0;f<b.length;f++)e+=b[f];else e=l;e=r/e;for(f=0;f<l;f++)d[f]+=b?b[f]*e:e;q=p.top;for(e=0;e<n;e++){g=p.left;b=a[e]+h;for(f=
0;f<l;f++){r=u?e*l+l-1-f:e*l+f;k=c[r];if(!k)break;var x=k.settings;r=k.layoutRect();var w=Math.max(d[f],r.startMinWidth);r.x=g;r.y=q;var A=x.alignH||(z?z[f]||z[0]:null);"center"==A?r.x=g+w/2-r.w/2:"right"==A?r.x=g+w-r.w:"stretch"==A&&(r.w=w);A=x.alignV||(y?y[f]||y[0]:null);"center"==A?r.y=q+b/2-r.h/2:"bottom"==A?r.y=q+b-r.h:"stretch"==A&&(r.h=b);k.layoutRect(r);g+=w+t;k.recalc&&k.recalc()}q+=b+v}}else if(e.w=e.minW,e.h=e.minH,h.layoutRect(e),this.recalc(h),null===h._lastRect&&(n=h.parent()))n._lastRect=
null,n.recalc()}})});B("tinymce.ui.Iframe",["tinymce.ui.Widget","tinymce.core.util.Delay"],function(m,h){return m.extend({renderHtml:function(){this.classes.add("iframe");this.canFocus=!1;return'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,f){var d=this,a=this.getEl().contentWindow.document.body;a?(a.innerHTML=e,f&&f()):h.setTimeout(function(){d.html(e)});
return this}})});B("tinymce.ui.InfoBox",["tinymce.ui.Widget"],function(m){return m.extend({init:function(h){this._super(h);this.classes.add("widget").add("infobox");this.canFocus=!1},severity:function(h){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(h)},help:function(h){this.state.set("help",h)},renderHtml:function(){var h=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+
'<button role="button" tabindex="-1"><i class="'+h+"ico "+h+'i-help"></i></button></div></div>'},bindStates:function(){var h=this;h.state.on("change:text",function(e){h.getEl("body").firstChild.data=h.encode(e.value);h.state.get("rendered")&&h.updateLayoutRect()});h.state.on("change:help",function(e){h.classes.toggle("has-help",e.value);h.state.get("rendered")&&h.updateLayoutRect()});return h._super()}})});B("tinymce.ui.Label",["tinymce.ui.Widget","tinymce.ui.DomUtils"],function(m,h){return m.extend({init:function(e){this._super(e);
this.classes.add("widget").add("label");this.canFocus=!1;e.multiline&&this.classes.add("autoscroll");e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();this.settings.multiline&&(h.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,h.getSize(this.getEl()).height));return e},repaint:function(){this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+
"px");return this._super()},severity:function(e){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(e)},renderHtml:function(){var e,f=this.settings.forId,d=this.settings.html?this.settings.html:this.encode(this.state.get("text"));!f&&(e=this.settings.forName)&&(e=this.getRoot().find("#"+e)[0])&&(f=e._id);return f?'<label id="'+this._id+'" class="'+this.classes+'"'+(f?' for="'+f+'"':"")+">"+d+"</label>":'<span id="'+this._id+'" class="'+this.classes+
'">'+d+"</span>"},bindStates:function(){var e=this;e.state.on("change:text",function(f){e.innerHtml(e.encode(f.value));e.state.get("rendered")&&e.updateLayoutRect()});return e._super()}})});B("tinymce.ui.Toolbar",["tinymce.ui.Container"],function(m){return m.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(h){this._super(h);this.classes.add("toolbar")},postRender:function(){this.items().each(function(h){h.classes.add("toolbar-item")});return this._super()}})});B("tinymce.ui.MenuBar",
["tinymce.ui.Toolbar"],function(m){return m.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})});B("tinymce.ui.MenuButton",["global!window","tinymce.core.ui.Factory","tinymce.ui.Button","tinymce.ui.MenuBar"],function(m,h,e,f){var d=e.extend({init:function(a){this._renderOpen=!0;this._super(a);a=this.settings;this.classes.add("menubtn");a.fixedWidth&&this.classes.add("fixed-width");this.aria("haspopup",!0);this.state.set("menu",a.menu||this.render())},
showMenu:function(a){var b=this;if(b.menu&&b.menu.visible()&&!1!==a)return b.hideMenu();b.menu||(a=b.state.get("menu")||[],b.classes.add("opened"),a.length?a={type:"menu",animate:!0,items:a}:(a.type=a.type||"menu",a.animate=!0),b.menu=a.renderTo?a.parent(b).show().renderTo():h.create(a).parent(b).renderTo(),b.fire("createmenu"),b.menu.reflow(),b.menu.on("cancel",function(c){c.control.parent()===b.menu&&(c.stopPropagation(),b.focus(),b.hideMenu())}),b.menu.on("select",function(){b.focus()}),b.menu.on("show hide",
function(c){c.control===b.menu&&(b.activeMenu("show"==c.type),b.classes.toggle("opened","show"==c.type));b.aria("expanded","show"==c.type)}).fire("show"));b.menu.show();b.menu.layoutRect({w:b.layoutRect().w});b.menu.moveRel(b.getEl(),b.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);b.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(a){a.hideMenu&&a.hideMenu()}),this.menu.hide())},activeMenu:function(a){this.classes.toggle("active",a)},renderHtml:function(){var a=this._id,
b=this.classPrefix,c=this.settings.icon,g,l=this.state.get("text"),n="";(g=this.settings.image)?(c="none","string"!=typeof g&&(g=m.getSelection?g[0]:g[1]),g=" style=\"background-image: url('"+g+"')\""):g="";l&&(this.classes.add("btn-has-text"),n='<span class="'+b+'txt">'+this.encode(l)+"</span>");c=this.settings.icon?b+"ico "+b+"i-"+c:"";this.aria("role",this.parent()instanceof f?"menuitem":"button");return'<div id="'+a+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+a+'"><button id="'+
a+'-open" role="presentation" type="button" tabindex="-1">'+(c?'<i class="'+c+'"'+g+"></i>":"")+n+' <i class="'+b+'caret"></i></button></div>'},postRender:function(){var a=this;a.on("click",function(b){var c;if(c=b.control===a)a:{c=b.target;for(var g=a.getEl();c;){if(g===c){c=!0;break a}c=c.parentNode}c=!1}c&&(a.focus(),a.showMenu(!b.aria),b.aria&&a.menu.items().filter(":visible")[0].focus())});a.on("mouseenter",function(b){var c=b.control;b=a.parent();var g;c&&b&&c instanceof d&&c.parent()==b&&(b.items().filter("MenuButton").each(function(l){l.hideMenu&&
l!=c&&(l.menu&&l.menu.visible()&&(g=!0),l.hideMenu())}),g&&(c.focus(),c.showMenu()))});return a._super()},bindStates:function(){var a=this;a.state.on("change:menu",function(){a.menu&&a.menu.remove();a.menu=null});return a._super()},remove:function(){this._super();this.menu&&this.menu.remove()}});return d});B("tinymce.ui.MenuItem",["tinymce.ui.Widget","tinymce.core.ui.Factory","tinymce.core.Env","tinymce.core.util.Delay"],function(m,h,e,f){return m.extend({Defaults:{border:0,role:"menuitem"},init:function(d){this._super(d);
d=this.settings;this.classes.add("menu-item");d.menu&&this.classes.add("menu-item-expand");d.preview&&this.classes.add("menu-item-preview");var a=this.state.get("text");if("-"===a||"|"===a)this.classes.add("menu-item-sep"),this.aria("role","separator"),this.state.set("text","-");d.selectable&&(this.aria("role","menuitemcheckbox"),this.classes.add("menu-item-checkbox"),d.icon="selected");d.preview||d.selectable||this.classes.add("menu-item-normal");this.on("mousedown",function(b){b.preventDefault()});
d.menu&&!d.ariaHideMenu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var d=this,a=d.settings,b,c=d.parent();c.items().each(function(g){g!==d&&g.hideMenu()});a.menu&&((b=d.menu)?b.show():(b=a.menu,b.length?b={type:"menu",animate:!0,items:b}:(b.type=b.type||"menu",b.animate=!0),c.settings.itemDefaults&&(b.itemDefaults=c.settings.itemDefaults),b=d.menu=h.create(b).parent(d).renderTo(),b.reflow(),b.on("cancel",function(g){g.stopPropagation();d.focus();
b.hide()}),b.on("show hide",function(g){g.control.items&&g.control.items().each(function(l){l.active(l.settings.selected)})}).fire("show"),b.on("hide",function(g){g.control===b&&d.classes.remove("selected")}),b.submenu=!0),b._parentMenu=c,b.classes.add("menu-sub"),a=b.testMoveRel(d.getEl(),d.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]),b.moveRel(d.getEl(),a),b.rel=a,a="menu-sub-"+a,b.classes.remove(b._lastRel).add(a),b._lastRel=a,d.classes.add("selected"),d.aria("expanded",
!0))},hideMenu:function(){this.menu&&(this.menu.items().each(function(d){d.hideMenu&&d.hideMenu()}),this.menu.hide(),this.aria("expanded",!1));return this},renderHtml:function(){function d(k){var r,q;var x=e.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"};k=k.split("+");for(r=0;r<k.length;r++)(q=x[k[r].toLowerCase()])&&(k[r]=q);return k.join("+")}function a(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(k){var r=l.match||"";return r?k.replace(new RegExp(a(r),
"gi"),function(q){return"!mce~match["+q+"]mce~match!"}):k}function c(k){return k.replace(new RegExp(a("!mce~match["),"g"),"<b>").replace(new RegExp(a("]mce~match!"),"g"),"</b>")}var g=this._id,l=this.settings,n=this.classPrefix,t=this.state.get("text"),v=this.settings.icon,z="",y=l.shortcut,p=this.encode(l.url),u="";v&&this.parent().classes.add("menu-has-icons");l.image&&(z=" style=\"background-image: url('"+l.image+"')\"");y&&(y=d(y));v=n+"ico "+n+"i-"+(this.settings.icon||"none");u="-"!==t?'<i class="'+
v+'"'+z+"></i>\u00a0":"";t=c(this.encode(b(t)));p=c(this.encode(b(p)));return'<div id="'+g+'" class="'+this.classes+'" tabindex="-1">'+u+("-"!==t?'<span id="'+g+'-text" class="'+n+'text">'+t+"</span>":"")+(y?'<div id="'+g+'-shortcut" class="'+n+'menu-shortcut">'+y+"</div>":"")+(l.menu?'<div class="'+n+'caret"></div>':"")+(p?'<div class="'+n+'menu-item-link">'+p+"</div>":"")+"</div>"},postRender:function(){var d=this,a=d.settings,b=a.textStyle;"function"===typeof b&&(b=b.call(this));if(b){var c=d.getEl("text");
c&&(c.setAttribute("style",b),d._textStyle=b)}d.on("mouseenter click",function(g){g.control===d&&(a.menu||"click"!==g.type?(d.showMenu(),g.aria&&d.menu.focus(!0)):(d.fire("select"),f.requestAnimationFrame(function(){d.parent().hideAll()})))});d._super();return d},hover:function(){this.parent().items().each(function(d){d.classes.remove("selected")});this.classes.toggle("selected",!0);return this},active:function(d){var a=this._textStyle;if(a){var b=this.getEl("text");b.setAttribute("style",a);d&&(b.style.color=
"",b.style.backgroundColor="")}"undefined"!=typeof d&&this.aria("checked",d);return this._super(d)},remove:function(){this._super();this.menu&&this.menu.remove()}})});B("tinymce.ui.Menu","tinymce.core.Env tinymce.core.util.Delay tinymce.core.util.Tools tinymce.ui.FloatPanel tinymce.ui.MenuItem tinymce.ui.Throbber".split(" "),function(m,h,e,f,d,a){return f.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(b){b.autohide=!0;
b.constrainToViewport=!0;"function"===typeof b.items&&(b.itemsFactory=b.items,b.items=[]);if(b.itemDefaults)for(var c=b.items,g=c.length;g--;)c[g]=e.extend({},b.itemDefaults,c[g]);this._super(b);this.classes.add("menu");b.animate&&11!==m.ie&&this.classes.add("animate")},repaint:function(){this.classes.toggle("menu-align",!0);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){this.hideAll();this.fire("select")},load:function(){function b(){c.throbber&&
(c.throbber.hide(),c.throbber=null)}var c=this,g;c.settings.itemsFactory&&(c.throbber||(c.throbber=new a(c.getEl("body"),!0),0===c.items().length?(c.throbber.show(),c.fire("loading")):c.throbber.show(100,function(){c.items().remove();c.fire("loading")}),c.on("hide close",b)),c.requestTime=g=(new Date).getTime(),c.settings.itemsFactory(function(l){0===l.length?c.hide():c.requestTime===g&&(c.getEl().style.width="",c.getEl("body").style.width="",b(),c.items().remove(),c.getEl("body").innerHTML="",c.add(l),
c.renderNew(),c.fire("loaded"))}))},hideAll:function(){this.find("menuitem").exec("hideMenu");return this._super()},preRender:function(){var b=this;b.items().each(function(c){c=c.settings;if(c.icon||c.image||c.selectable)return b._hasIcons=!0,!1});if(b.settings.itemsFactory)b.on("postrender",function(){b.settings.itemsFactory&&b.load()});b.on("show hide",function(c){c.control===b&&("show"===c.type?h.setTimeout(function(){b.classes.add("in")},0):b.classes.remove("in"))});return b._super()}})});B("tinymce.ui.ListBox",
["tinymce.ui.MenuButton","tinymce.ui.Menu"],function(m,h){return m.extend({init:function(e){function f(l){for(var n=0;n<l.length;n++){if(b=l[n].selected||e.value===l[n].value)return g=g||l[n].text,d.state.set("value",l[n].value),!0;if(l[n].menu&&f(l[n].menu))return!0}}var d=this,a,b,c;d._super(e);e=d.settings;if(d._values=a=e.values){"undefined"!=typeof e.value&&f(a);if(!b&&0<a.length){var g=a[0].text;d.state.set("value",a[0].value)}d.state.set("menu",a)}d.state.set("text",e.text||g);d.classes.add("listbox");
d.on("select",function(l){var n=l.control;c&&(l.lastControl=c);e.multiple?n.active(!n.active()):d.value(l.control.value());c=n})},bindStates:function(){function e(a,b){a instanceof h&&a.items().each(function(c){c.hasMenus()||c.active(c.value()===b)})}function f(a,b){var c;if(a)for(var g=0;g<a.length;g++){if(a[g].value===b)return a[g];if(a[g].menu&&(c=f(a[g].menu,b)))return c}}var d=this;d.on("show",function(a){e(a.control,d.value())});d.state.on("change:value",function(a){(a=f(d.state.get("menu"),
a.value))?d.text(a.text):d.text(d.settings.text)});return d._super()}})});B("tinymce.ui.Radio",["tinymce.ui.Checkbox"],function(m){return m.extend({Defaults:{classes:"radio",role:"radio"}})});B("tinymce.ui.ResizeHandle",["tinymce.ui.Widget","tinymce.ui.DragHelper"],function(m,h){return m.extend({renderHtml:function(){var e=this.classPrefix;this.classes.add("resizehandle");"both"==this.settings.direction&&this.classes.add("resizehandle-both");this.canFocus=!1;return'<div id="'+this._id+'" class="'+
this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var e=this;e._super();e.resizeDragHelper=new h(this._id,{start:function(){e.fire("ResizeStart")},drag:function(f){"both"!=e.settings.direction&&(f.deltaX=0);e.fire("Resize",f)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){this.resizeDragHelper&&this.resizeDragHelper.destroy();return this._super()}})});B("tinymce.ui.SelectBox",["tinymce.ui.Widget"],function(m){function h(e){var f="";if(e)for(var d=0;d<
e.length;d++)f+='<option value="'+e[d]+'">'+e[d]+"</option>";return f}return m.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var f=this;f._super(e);f.settings.size&&(f.size=f.settings.size);f.settings.options&&(f._options=f.settings.options);f.on("keydown",function(d){var a;13==d.keyCode&&(d.preventDefault(),f.parents().reverse().each(function(b){if(b.toJSON)return a=b,!1}),f.fire("submit",{data:a.toJSON()}))})},options:function(e){if(!arguments.length)return this.state.get("options");
this.state.set("options",e);return this},renderHtml:function(){var e="";var f=h(this._options);this.size&&(e=' size = "'+this.size+'"');return'<select id="'+this._id+'" class="'+this.classes+'"'+e+">"+f+"</select>"},bindStates:function(){var e=this;e.state.on("change:options",function(f){e.getEl().innerHTML=h(f.value)});return e._super()}})});B("tinymce.ui.Slider",["tinymce.ui.Widget","tinymce.ui.DragHelper","tinymce.ui.DomUtils"],function(m,h,e){function f(a,b,c){a<b&&(a=b);a>c&&(a=c);return a}function d(a,
b){if("v"==a.settings.orientation){var c="top";var g="height";var l="h"}else c="left",g="width",l="w";var n=a.getEl("handle");l=((a.layoutRect()[l]||100)-e.getSize(n)[g])*((b-a._minValue)/(a._maxValue-a._minValue))+"px";n.style[c]=l;n.style.height=a.layoutRect().h+"px";n.setAttribute("aria-valuenow",b);b=""+a.settings.previewFilter(b);n.setAttribute("aria-valuetext",b);n.setAttribute("aria-valuemin",a._minValue);n.setAttribute("aria-valuemax",a._maxValue)}return m.extend({init:function(a){a.previewFilter||
(a.previewFilter=function(b){return Math.round(100*b)/100});this._super(a);this.classes.add("slider");"v"==a.orientation&&this.classes.add("vertical");this._minValue=a.minValue||0;this._maxValue=a.maxValue||100;this._initValue=this.state.get("value")},renderHtml:function(){var a=this._id;return'<div id="'+a+'" class="'+this.classes+'"><div id="'+a+'-handle" class="'+this.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},
postRender:function(){var a=this;var b=a._minValue;var c=a._maxValue;if("v"==a.settings.orientation){var g="screenY";var l="top";var n="height";var t="h"}else g="screenX",l="left",n="width",t="w";a._super();(function(v,z){function y(p){var u=a.value();u=((u+v)/(z-v)+.05*p)*(z-v)-v;u=f(u,v,z);a.value(u);a.fire("dragstart",{value:u});a.fire("drag",{value:u});a.fire("dragend",{value:u})}a.on("keydown",function(p){switch(p.keyCode){case 37:case 38:y(-1);break;case 39:case 40:y(1)}})})(b,c,a.getEl("handle"));
(function(v,z,y){var p,u,k,r,q;a._dragHelper=new h(a._id,{handle:a._id+"-handle",start:function(x){p=x[g];u=parseInt(a.getEl("handle").style[l],10);k=(a.layoutRect()[t]||100)-e.getSize(y)[n];a.fire("dragstart",{value:q})},drag:function(x){r=f(u+(x[g]-p),0,k);y.style[l]=r+"px";q=v+r/k*(z-v);a.value(q);a.tooltip().text(""+a.settings.previewFilter(q)).show().moveRel(y,"bc tc");a.fire("drag",{value:q})},stop:function(){a.tooltip().hide();a.fire("dragend",{value:q})}})})(b,c,a.getEl("handle"))},repaint:function(){this._super();
d(this,this.value())},bindStates:function(){var a=this;a.state.on("change:value",function(b){d(a,b.value)});return a._super()}})});B("tinymce.ui.Spacer",["tinymce.ui.Widget"],function(m){return m.extend({renderHtml:function(){this.classes.add("spacer");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})});B("tinymce.ui.SplitButton",["global!window","tinymce.core.dom.DomQuery","tinymce.ui.DomUtils","tinymce.ui.MenuButton"],function(m,h,e,f){return f.extend({Defaults:{classes:"widget btn splitbtn",
role:"button"},repaint:function(){var d=this.getEl(),a=this.layoutRect();this._super();var b=d.firstChild;d=d.lastChild;h(b).css({width:a.w-e.getSize(d).width,height:a.h-2});h(d).css({height:a.h-2});return this},activeMenu:function(d){h(this.getEl().lastChild).toggleClass(this.classPrefix+"active",d)},renderHtml:function(){var d=this._id,a=this.classPrefix,b,c=this.state.get("icon"),g=this.state.get("text"),l=this.settings,n="";(b=l.image)?(c="none","string"!=typeof b&&(b=m.getSelection?b[0]:b[1]),
b=" style=\"background-image: url('"+b+"')\""):b="";c=l.icon?a+"ico "+a+"i-"+c:"";g&&(this.classes.add("btn-has-text"),n='<span class="'+a+'txt">'+this.encode(g)+"</span>");return'<div id="'+d+'" class="'+this.classes+'" role="button"'+("boolean"===typeof l.active?' aria-pressed="'+l.active+'"':"")+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(c?'<i class="'+c+'"'+b+"></i>":"")+n+'</button><button type="button" class="'+a+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?
(c?"\u00a0":"")+this._menuBtnText:"")+' <i class="'+a+'caret"></i></button></div>'},postRender:function(){var d=this.settings.onclick;this.on("click",function(a){var b=a.target;if(a.control==this)for(;b;){if(a.aria&&"down"!=a.aria.key||"BUTTON"==b.nodeName&&-1==b.className.indexOf("open")){a.stopImmediatePropagation();d&&d.call(this,a);break}b=b.parentNode}});delete this.settings.onclick;return this._super()}})});B("tinymce.ui.StackLayout",["tinymce.ui.FlowLayout"],function(m){return m.extend({Defaults:{containerClass:"stack-layout",
controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})});B("tinymce.ui.TabPanel",["tinymce.ui.Panel","tinymce.core.dom.DomQuery","tinymce.ui.DomUtils"],function(m,h,e){return m.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(f){if(this.activeTabId){var d=this.getEl(this.activeTabId);h(d).removeClass(this.classPrefix+"active");d.setAttribute("aria-selected","false")}this.activeTabId="t"+f;d=this.getEl("t"+f);d.setAttribute("aria-selected",
"true");h(d).addClass(this.classPrefix+"active");this.items()[f].show().fire("showtab");this.reflow();this.items().each(function(a,b){f!=b&&a.hide()})},renderHtml:function(){var f=this,d=f._layout,a="",b=f.classPrefix;f.preRender();d.preRender(f);f.items().each(function(c,g){g=f._id+"-t"+g;c.aria("role","tabpanel");c.aria("labelledby",g);a+='<div id="'+g+'" class="'+b+'tab" unselectable="on" role="tab" aria-controls="'+c._id+'" aria-selected="false" tabIndex="-1">'+f.encode(c.settings.title)+"</div>"});
return'<div id="'+f._id+'" class="'+f.classes+'" hidefocus="1" tabindex="-1"><div id="'+f._id+'-head" class="'+b+'tabs" role="tablist">'+a+'</div><div id="'+f._id+'-body" class="'+f.bodyClasses+'">'+d.renderHtml(f)+"</div></div>"},postRender:function(){var f=this;f._super();f.settings.activeTab=f.settings.activeTab||0;f.activateTab(f.settings.activeTab);this.on("click",function(d){var a=d.target.parentNode;if(a&&a.id==f._id+"-head")for(var b=a.childNodes.length;b--;)a.childNodes[b]==d.target&&f.activateTab(b)})},
initLayoutRect:function(){var f=e.getSize(this.getEl("head")).width;f=0>f?0:f;var d=0;this.items().each(function(c){f=Math.max(f,c.layoutRect().minW);d=Math.max(d,c.layoutRect().minH)});this.items().each(function(c){c.settings.x=0;c.settings.y=0;c.settings.w=f;c.settings.h=d;c.layoutRect({x:0,y:0,w:f,h:d})});var a=e.getSize(this.getEl("head")).height;this.settings.minWidth=f;this.settings.minHeight=d+a;var b=this._super();b.deltaH+=a;b.innerH=b.h-b.deltaH;return b}})});B("tinymce.ui.TextBox",["global!document",
"tinymce.core.util.Tools","tinymce.ui.DomUtils","tinymce.ui.Widget"],function(m,h,e,f){return f.extend({init:function(d){var a=this;a._super(d);a.classes.add("textbox");d.multiline?a.classes.add("multiline"):(a.on("keydown",function(b){var c;13==b.keyCode&&(b.preventDefault(),a.parents().reverse().each(function(g){if(g.toJSON)return c=g,!1}),a.fire("submit",{data:c.toJSON()}))}),a.on("keyup",function(b){a.state.set("value",b.target.value)}))},repaint:function(){var d=0;var a=this.getEl().style;var b=
this._layoutRect;var c=this._lastRepaintRect||{};!this.settings.multiline&&m.all&&(!m.documentMode||8>=m.documentMode)&&(a.lineHeight=b.h-d+"px");d=this.borderBox;var g=d.left+d.right+8;d=d.top+d.bottom+(this.settings.multiline?8:0);b.x!==c.x&&(a.left=b.x+"px",c.x=b.x);b.y!==c.y&&(a.top=b.y+"px",c.y=b.y);b.w!==c.w&&(a.width=b.w-g+"px",c.w=b.w);b.h!==c.h&&(a.height=b.h-d+"px",c.h=b.h);this._lastRepaintRect=c;this.fire("repaint",{},!1);return this},renderHtml:function(){var d=this.settings;var a={id:this._id,
hidefocus:"1"};h.each("rows spellcheck maxLength size readonly min max step list pattern placeholder required multiple".split(" "),function(c){a[c]=d[c]});this.disabled()&&(a.disabled="disabled");d.subtype&&(a.type=d.subtype);var b=e.create(d.multiline?"textarea":"input",a);b.value=this.state.get("value");b.className=this.classes;return b.outerHTML},value:function(d){if(arguments.length)return this.state.set("value",d),this;this.state.get("rendered")&&this.state.set("value",this.getEl().value);return this.state.get("value")},
postRender:function(){var d=this;d.getEl().value=d.state.get("value");d._super();d.$el.on("change",function(a){d.state.set("value",a.target.value);d.fire("change",a)})},bindStates:function(){var d=this;d.state.on("change:value",function(a){d.getEl().value!=a.value&&(d.getEl().value=a.value)});d.state.on("change:disabled",function(a){d.getEl().disabled=a.value});return d._super()},remove:function(){this.$el.off();this._super()}})});B("tinymce.ui.Api","tinymce.core.ui.Factory tinymce.core.util.Tools tinymce.ui.AbsoluteLayout tinymce.ui.BrowseButton tinymce.ui.Button tinymce.ui.ButtonGroup tinymce.ui.Checkbox tinymce.ui.Collection tinymce.ui.ColorBox tinymce.ui.ColorButton tinymce.ui.ColorPicker tinymce.ui.ComboBox tinymce.ui.Container tinymce.ui.Control tinymce.ui.DragHelper tinymce.ui.DropZone tinymce.ui.ElementPath tinymce.ui.FieldSet tinymce.ui.FilePicker tinymce.ui.FitLayout tinymce.ui.FlexLayout tinymce.ui.FloatPanel tinymce.ui.FlowLayout tinymce.ui.Form tinymce.ui.FormatControls tinymce.ui.FormItem tinymce.ui.GridLayout tinymce.ui.Iframe tinymce.ui.InfoBox tinymce.ui.KeyboardNavigation tinymce.ui.Label tinymce.ui.Layout tinymce.ui.ListBox tinymce.ui.Menu tinymce.ui.MenuBar tinymce.ui.MenuButton tinymce.ui.MenuItem tinymce.ui.MessageBox tinymce.ui.Movable tinymce.ui.Notification tinymce.ui.Panel tinymce.ui.PanelButton tinymce.ui.Path tinymce.ui.Progress tinymce.ui.Radio tinymce.ui.ReflowQueue tinymce.ui.Resizable tinymce.ui.ResizeHandle tinymce.ui.Scrollable tinymce.ui.SelectBox tinymce.ui.Selector tinymce.ui.Slider tinymce.ui.Spacer tinymce.ui.SplitButton tinymce.ui.StackLayout tinymce.ui.TabPanel tinymce.ui.TextBox tinymce.ui.Throbber tinymce.ui.Toolbar tinymce.ui.Tooltip tinymce.ui.Widget tinymce.ui.Window".split(" "),
function(m,h,e,f,d,a,b,c,g,l,n,t,v,z,y,p,u,k,r,q,x,w,A,D,C,E,F,I,G,J,N,O,Q,P,R,M,V,W,X,Y,Z,aa,ba,ca,da,ea,fa,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va){var T=function(){return{Selector:ka,Collection:c,ReflowQueue:ea,Control:z,Factory:m,KeyboardNavigation:J,Container:v,DragHelper:y,Scrollable:ia,Panel:Z,Movable:X,Resizable:fa,FloatPanel:w,Window:va,MessageBox:W,Tooltip:ta,Widget:ua,Progress:ca,Notification:Y,Layout:O,AbsoluteLayout:e,Button:d,ButtonGroup:a,Checkbox:b,ComboBox:t,ColorBox:g,PanelButton:aa,
ColorButton:l,ColorPicker:n,Path:ba,ElementPath:u,FormItem:E,Form:D,FieldSet:k,FilePicker:r,FitLayout:q,FlexLayout:x,FlowLayout:A,FormatControls:C,GridLayout:F,Iframe:I,InfoBox:G,Label:N,Toolbar:sa,MenuBar:R,MenuButton:M,MenuItem:V,Throbber:ra,Menu:P,ListBox:Q,Radio:da,ResizeHandle:ha,SelectBox:ja,Slider:la,Spacer:ma,SplitButton:na,StackLayout:oa,TabPanel:pa,TextBox:qa,DropZone:p,BrowseButton:f}};return{appendTo:function(S){S.ui?h.each(T(),function(U,wa){S.ui[wa]=U}):S.ui=T()},registerToFactory:function(){h.each(T(),
function(S,U){m.add(U,S)})}}});B("tinymce.themes.modern.Theme",["global!window","tinymce.core.ThemeManager","tinymce.themes.modern.api.ThemeApi","tinymce.ui.Api","tinymce.ui.FormatControls"],function(m,h,e,f,d){f.registerToFactory();f.appendTo(m.tinymce?m.tinymce:{});h.add("modern",function(a){d.setup(a);return e.get(a)});return function(){}});K("tinymce.themes.modern.Theme")()})();
