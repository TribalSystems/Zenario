'use strict';(function(){var p={},k=function(a,d,e){if("string"!==typeof a)throw"module id must be a string";if(void 0===d)throw"no dependencies for "+a;if(void 0===e)throw"no definition function for "+a;p[a]={deps:d,defn:e,instance:void 0}},q=function(a){var d=p[a];if(void 0===d)throw"module ["+a+"] was undefined";if(void 0===d.instance){for(var e=p[a],b=e.deps,c=e.defn,f=b.length,g=Array(f),h=0;h<f;++h)g[h]=q(b[h]);b=c.apply(null,g);if(void 0===b)throw"module ["+a+"] returned undefined";e.instance=
b}return d.instance};k("ephox.katamari.api.Cell",[],function(){var a=function(d){var e=d;return{get:function(){return e},set:function(b){e=b},clone:function(){return a(e)}}};return a});(function(a,d){k(a,[],function(){return d})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);k("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});k("tinymce.plugins.contextmenu.api.Api",[],function(){return{get:function(a){return{isContextMenuVisible:function(){return a.get()}}}}});
k("tinymce.plugins.contextmenu.api.Settings",[],function(){return{shouldNeverUseNative:function(a){return a.settings.contextmenu_never_use_native},getContextMenu:function(a){return a.getParam("contextmenu","link openlink image inserttable | cell row column deletetable")}}});k("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.Env")});k("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.dom.DOMUtils")});k("tinymce.plugins.contextmenu.core.Coords",
["tinymce.core.Env","tinymce.core.dom.DOMUtils"],function(a,d){var e=function(b,c){if(b&&"static"!==d.DOM.getStyle(b,"position",!0)){var f=d.DOM.getPos(b);return{x:c.x+-(f.x-b.scrollLeft),y:c.y+-(f.y-b.scrollTop)}}return{x:c.x+0,y:c.y+0}};return{getPos:function(b,c){if(b.inline)return e(a.container,{x:c.pageX,y:c.pageY});var f=b.getContentAreaContainer();b=c.clientX;c=c.clientY;f=d.DOM.getPos(f);return e(a.container,{x:b+f.x,y:c+f.y})}}});k("tinymce.core.ui.Factory",["global!tinymce.util.Tools.resolve"],
function(a){return a("tinymce.ui.Factory")});k("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.Tools")});k("tinymce.plugins.contextmenu.ui.ContextMenu",["tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.plugins.contextmenu.api.Settings"],function(a,d,e){var b=function(c,f){var g=[];var h=e.getContextMenu(c);d.each(h.split(/[ ,]/),function(l){var m=c.menuItems[l];"|"===l&&(m={text:l});m&&(m.shortcut="",g.push(m))});for(h=0;h<g.length;h++)"|"!==
g[h].text||0!==h&&h!==g.length-1||g.splice(h,1);var n=a.create("menu",{items:g,context:"contextmenu",classes:"contextmenu"}).renderTo();n.on("hide",function(l){l.control===this&&f.set(!1)});c.on("remove",function(){n.remove();n=null});return n};return{show:function(c,f,g,h){null===h.get()?h.set(b(c,g)):h.get().show();h.get().moveTo(f.x,f.y);g.set(!0)}}});k("tinymce.plugins.contextmenu.core.Bind",["tinymce.plugins.contextmenu.api.Settings","tinymce.plugins.contextmenu.core.Coords","tinymce.plugins.contextmenu.ui.ContextMenu"],
function(a,d,e){return{setup:function(b,c,f){b.on("contextmenu",function(g){if(!g.ctrlKey||a.shouldNeverUseNative(b))g.preventDefault(),e.show(b,d.getPos(b,g),c,f)})}}});k("tinymce.plugins.contextmenu.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.contextmenu.api.Api","tinymce.plugins.contextmenu.core.Bind"],function(a,d,e,b){d.add("contextmenu",function(c){var f=a(null),g=a(!1);b.setup(c,g,f);return e.get(g)});return function(){}});q("tinymce.plugins.contextmenu.Plugin")()})();
