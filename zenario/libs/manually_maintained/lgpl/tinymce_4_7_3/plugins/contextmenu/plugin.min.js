(function(){var l={},m=function(a){var d=l[a];if(void 0===d)throw"module ["+a+"] was undefined";if(void 0===d.instance){for(var b=l[a],h=b.deps,f=b.defn,k=h.length,g=Array(k),e=0;e<k;++e)g[e]=m(h[e]);h=f.apply(null,g);if(void 0===h)throw"module ["+a+"] returned undefined";b.instance=h}return d.instance},c=function(a,d,b){if("string"!==typeof a)throw"module id must be a string";if(void 0===d)throw"no dependencies for "+a;if(void 0===b)throw"no definition function for "+a;l[a]={deps:d,defn:b,instance:void 0}};
c("ephox.katamari.api.Cell",[],function(){var a=function(d){var b=d;return{get:function(){return b},set:function(a){b=a},clone:function(){return a(b)}}};return a});(function(a,d){c(a,[],function(){return d})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);c("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});c("tinymce.plugins.contextmenu.api.Api",[],function(){return{get:function(a){return{isContextMenuVisible:function(){return a.get()}}}}});
c("tinymce.plugins.contextmenu.api.Settings",[],function(){return{shouldNeverUseNative:function(a){return a.settings.contextmenu_never_use_native},getContextMenu:function(a){return a.getParam("contextmenu","link openlink image inserttable | cell row column deletetable")}}});c("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.Env")});c("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.dom.DOMUtils")});c("tinymce.plugins.contextmenu.core.Coords",
["tinymce.core.Env","tinymce.core.dom.DOMUtils"],function(a,d){var b=function(a,f){if(a&&"static"!==d.DOM.getStyle(a,"position",!0)){var b=d.DOM.getPos(a);return{x:f.x+-(b.x-a.scrollLeft),y:f.y+-(b.y-a.scrollTop)}}return{x:f.x+0,y:f.y+0}};return{getPos:function(h,f){if(h.inline)return b(a.container,{x:f.pageX,y:f.pageY});var k=h.getContentAreaContainer(),g=f.clientX,e=f.clientY,k=d.DOM.getPos(k);return b(a.container,{x:g+k.x,y:e+k.y})}}});c("tinymce.core.ui.Factory",["global!tinymce.util.Tools.resolve"],
function(a){return a("tinymce.ui.Factory")});c("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.Tools")});c("tinymce.plugins.contextmenu.ui.ContextMenu",["tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.plugins.contextmenu.api.Settings"],function(a,d,b){var h=function(f,h){var g,e,c=[];e=b.getContextMenu(f);d.each(e.split(/[ ,]/),function(a){var b=f.menuItems[a];"|"===a&&(b={text:a});b&&(b.shortcut="",c.push(b))});for(e=0;e<c.length;e++)"|"===
c[e].text&&(0!==e&&e!==c.length-1||c.splice(e,1));g=a.create("menu",{items:c,context:"contextmenu",classes:"contextmenu"}).renderTo();g.on("hide",function(a){a.control===this&&h.set(!1)});f.on("remove",function(){g.remove();g=null});return g};return{show:function(a,b,d,e){null===e.get()?e.set(h(a,d)):e.get().show();e.get().moveTo(b.x,b.y);d.set(!0)}}});c("tinymce.plugins.contextmenu.core.Bind",["tinymce.plugins.contextmenu.api.Settings","tinymce.plugins.contextmenu.core.Coords","tinymce.plugins.contextmenu.ui.ContextMenu"],
function(a,d,b){return{setup:function(c,f,k){c.on("contextmenu",function(g){if(!g.ctrlKey||a.shouldNeverUseNative(c))g.preventDefault(),b.show(c,d.getPos(c,g),f,k)})}}});c("tinymce.plugins.contextmenu.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.contextmenu.api.Api","tinymce.plugins.contextmenu.core.Bind"],function(a,c,b,h){c.add("contextmenu",function(c){var d=a(null),g=a(!1);h.setup(c,g,d);return b.get(g)});return function(){}});m("tinymce.plugins.contextmenu.Plugin")()})();
