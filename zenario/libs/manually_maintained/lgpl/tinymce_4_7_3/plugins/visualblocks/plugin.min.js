(function(){var k={},l=function(a){var b=k[a];if(void 0===b)throw"module ["+a+"] was undefined";if(void 0===b.instance){for(var c=k[a],e=c.deps,d=c.defn,f=e.length,h=Array(f),g=0;g<f;++g)h[g]=l(e[g]);e=d.apply(null,h);if(void 0===e)throw"module ["+a+"] returned undefined";c.instance=e}return b.instance},d=function(a,b,c){if("string"!==typeof a)throw"module id must be a string";if(void 0===b)throw"no dependencies for "+a;if(void 0===c)throw"no definition function for "+a;k[a]={deps:b,defn:c,instance:void 0}};
d("ephox.katamari.api.Cell",[],function(){var a=function(b){var c=b;return{get:function(){return c},set:function(a){c=a},clone:function(){return a(c)}}};return a});(function(a,b){d(a,[],function(){return b})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);d("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});d("tinymce.plugins.visualblocks.api.Events",[],function(){return{fireVisualBlocks:function(a,b){a.fire("VisualBlocks",
{state:b})}}});d("tinymce.plugins.visualblocks.api.Settings",[],function(){return{isEnabledByDefault:function(a){return a.getParam("visualblocks_default_state",!1)},getContentCss:function(a){return a.settings.visualblocks_content_css}}});d("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.dom.DOMUtils")});d("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.Tools")});d("tinymce.plugins.visualblocks.core.LoadCss",
["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(a,b){var c=a.DOM.uniqueId();return{load:function(e,d){var f=b.toArray(e.getElementsByTagName("link"));0===b.grep(f,function(a){return a.id===c}).length&&(f=a.DOM.create("link",{id:c,rel:"stylesheet",href:d}),e.getElementsByTagName("head")[0].appendChild(f))}}});d("tinymce.plugins.visualblocks.core.VisualBlocks",["tinymce.plugins.visualblocks.api.Events","tinymce.plugins.visualblocks.api.Settings","tinymce.plugins.visualblocks.core.LoadCss"],
function(a,b,c){return{toggleVisualBlocks:function(e,d,f){var h=e.dom,g=b.getContentCss(e);c.load(e.getDoc(),g?g:d+"/css/visualblocks.css");h.toggleClass(e.getBody(),"mce-visualblocks");f.set(!f.get());a.fireVisualBlocks(e,f.get())}}});d("tinymce.plugins.visualblocks.api.Commands",["tinymce.plugins.visualblocks.core.VisualBlocks"],function(a){return{register:function(b,c,e){b.addCommand("mceVisualBlocks",function(){a.toggleVisualBlocks(b,c,e)})}}});d("tinymce.plugins.visualblocks.core.Bindings",["tinymce.plugins.visualblocks.api.Settings",
"tinymce.plugins.visualblocks.core.VisualBlocks"],function(a,b){return{setup:function(c,e,d){c.on("PreviewFormats AfterPreviewFormats",function(a){d.get()&&c.dom.toggleClass(c.getBody(),"mce-visualblocks","afterpreviewformats"===a.type)});c.on("init",function(){a.isEnabledByDefault(c)&&b.toggleVisualBlocks(c,e,d)});c.on("remove",function(){c.dom.removeClass(c.getBody(),"mce-visualblocks")})}}});d("tinymce.plugins.visualblocks.ui.Buttons",["tinymce.plugins.visualblocks.core.VisualBlocks"],function(a){var b=
function(a,b){return function(d){var f=d.control;f.active(b.get());a.on("VisualBlocks",function(a){f.active(a.state)})}};return{register:function(a,d){a.addButton("visualblocks",{active:!1,title:"Show blocks",cmd:"mceVisualBlocks",onPostRender:b(a,d)});a.addMenuItem("visualblocks",{text:"Show blocks",cmd:"mceVisualBlocks",onPostRender:b(a,d),selectable:!0,context:"view",prependToContext:!0})}}});d("tinymce.plugins.visualblocks.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.visualblocks.api.Commands",
"tinymce.plugins.visualblocks.core.Bindings","tinymce.plugins.visualblocks.ui.Buttons"],function(a,b,c,d,k){b.add("visualblocks",function(b,h){var g=a(!1);c.register(b,h,g);k.register(b,g);d.setup(b,h,g)});return function(){}});l("tinymce.plugins.visualblocks.Plugin")()})();
