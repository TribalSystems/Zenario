(function(){var k={},g=function(a,d,c){if("string"!==typeof a)throw"module id must be a string";if(void 0===d)throw"no dependencies for "+a;if(void 0===c)throw"no definition function for "+a;k[a]={deps:d,defn:c,instance:void 0}},m=function(a){var d=k[a];if(void 0===d)throw"module ["+a+"] was undefined";if(void 0===d.instance){for(var c=k[a],e=c.deps,b=c.defn,f=e.length,l=Array(f),h=0;h<f;++h)l[h]=m(e[h]);e=b.apply(null,l);if(void 0===e)throw"module ["+a+"] returned undefined";c.instance=e}return d.instance};
(function(a,d){g(a,[],function(){return d})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);g("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});g("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.dom.DOMUtils")});g("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.Tools")});g("tinymce.plugins.save.api.Settings",[],function(){return{enableWhenDirty:function(a){return a.getParam("save_enablewhendirty",
!0)},hasOnSaveCallback:function(a){return!!a.getParam("save_onsavecallback")},hasOnCancelCallback:function(a){return!!a.getParam("save_oncancelcallback")}}});g("tinymce.plugins.save.core.Actions",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.plugins.save.api.Settings"],function(a,d,c){var e=function(b,f){b.notificationManager.open({text:b.translate(f),type:"error"})};return{save:function(b){var f=a.DOM.getParent(b.id,"form");if(!c.enableWhenDirty(b)||b.isDirty())if(b.save(),c.hasOnSaveCallback(b))b.execCallback("save_onsavecallback",
b),b.nodeChanged();else if(f){b.setDirty(!1);if(!f.onsubmit||f.onsubmit())"function"===typeof f.submit?f.submit():e(b,"Error: Form submit field collision.");b.nodeChanged()}else e(b,"Error: No form element found.")},cancel:function(b){var f=d.trim(b.startContent);c.hasOnCancelCallback(b)?b.execCallback("save_oncancelcallback",b):(b.setContent(f),b.undoManager.clear(),b.nodeChanged())}}});g("tinymce.plugins.save.api.Commands",["tinymce.plugins.save.core.Actions"],function(a){return{register:function(d){d.addCommand("mceSave",
function(){a.save(d)});d.addCommand("mceCancel",function(){a.cancel(d)})}}});g("tinymce.plugins.save.ui.Buttons",["tinymce.plugins.save.api.Settings"],function(a){var d=function(c){return function(e){var b=e.control;c.on("nodeChange dirty",function(){b.disabled(a.enableWhenDirty(c)&&!c.isDirty())})}};return{register:function(c){c.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:d(c)});c.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:d(c)});
c.addShortcut("Meta+S","","mceSave")}}});g("tinymce.plugins.save.Plugin",["tinymce.core.PluginManager","tinymce.plugins.save.api.Commands","tinymce.plugins.save.ui.Buttons"],function(a,d,c){a.add("save",function(e){c.register(e);d.register(e)});return function(){}});m("tinymce.plugins.save.Plugin")()})();
