(function(){var h={},l=function(a){var b=h[a];if(void 0===b)throw"module ["+a+"] was undefined";if(void 0===b.instance){for(var c=h[a],d=c.deps,f=c.defn,e=d.length,k=Array(e),g=0;g<e;++g)k[g]=l(d[g]);d=f.apply(null,k);if(void 0===d)throw"module ["+a+"] returned undefined";c.instance=d}return b.instance},e=function(a,b,c){if("string"!==typeof a)throw"module id must be a string";if(void 0===b)throw"no dependencies for "+a;if(void 0===c)throw"no definition function for "+a;h[a]={deps:b,defn:c,instance:void 0}};
(function(a,b){e(a,[],function(){return b})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);e("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});e("tinymce.plugins.anchor.core.Anchor",[],function(){return{isValidId:function(a){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(a)},getId:function(a){var b=a.selection.getNode();return"A"===b.tagName&&""===a.dom.getAttrib(b,"href")?b.id||b.name:""},insert:function(a,b){var c=a.selection.getNode();
"A"===c.tagName&&""===a.dom.getAttrib(c,"href")?(c.removeAttribute("name"),c.id=b):(a.focus(),a.selection.collapse(!0),a.execCommand("mceInsertContent",!1,a.dom.createHTML("a",{id:b})))}}});e("tinymce.plugins.anchor.ui.Dialog",["tinymce.plugins.anchor.core.Anchor"],function(a){return{open:function(b){var c=a.getId(b);b.windowManager.open({title:"Anchor",body:{type:"textbox",name:"id",size:40,label:"Id",value:c},onsubmit:function(c){var f;f=c.data.id;a.isValidId(f)?(a.insert(b,f),f=!1):(b.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),
f=!0);f&&c.preventDefault()}})}}});e("tinymce.plugins.anchor.api.Commands",["tinymce.plugins.anchor.ui.Dialog"],function(a){return{register:function(b){b.addCommand("mceAnchor",function(){a.open(b)})}}});e("tinymce.plugins.anchor.core.FilterContent",[],function(){var a=function(a){return function(c){for(var d=0;d<c.length;d++)c[d].attr("href")||!c[d].attr("id")&&!c[d].attr("name")||c[d].firstChild||c[d].attr("contenteditable",a)}};return{setup:function(b){b.on("PreInit",function(){b.parser.addNodeFilter("a",
a("false"));b.serializer.addNodeFilter("a",a(null))})}}});e("tinymce.plugins.anchor.ui.Buttons",[],function(){return{register:function(a){a.addButton("anchor",{icon:"anchor",tooltip:"Anchor",cmd:"mceAnchor",stateSelector:"a:not([href])"});a.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",cmd:"mceAnchor"})}}});e("tinymce.plugins.anchor.Plugin",["tinymce.core.PluginManager","tinymce.plugins.anchor.api.Commands","tinymce.plugins.anchor.core.FilterContent","tinymce.plugins.anchor.ui.Buttons"],
function(a,b,c,d){a.add("anchor",function(a){c.setup(a);b.register(a);d.register(a)});return function(){}});l("tinymce.plugins.anchor.Plugin")()})();
