(function(){var p={},s=function(a){var c=p[a];if(void 0===c)throw"module ["+a+"] was undefined";if(void 0===c.instance){for(var b=p[a],n=b.deps,d=b.defn,q=n.length,g=Array(q),h=0;h<q;++h)g[h]=s(n[h]);n=d.apply(null,g);if(void 0===n)throw"module ["+a+"] returned undefined";b.instance=n}return c.instance},d=function(a,c,b){if("string"!==typeof a)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+a;if(void 0===b)throw"no definition function for "+a;p[a]={deps:c,defn:b,instance:void 0}};
(function(a,c){d(a,[],function(){return c})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);d("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});d("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.dom.DOMUtils")});d("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.Tools")});d("tinymce.plugins.textcolor.api.Settings",[],function(){var a=
"000000;Black;993300;Burnt orange;333300;Dark olive;003300;Dark green;003366;Dark azure;000080;Navy Blue;333399;Indigo;333333;Very dark gray;800000;Maroon;FF6600;Orange;808000;Olive;008000;Green;008080;Teal;0000FF;Blue;666699;Grayish blue;808080;Gray;FF0000;Red;FF9900;Amber;99CC00;Yellow green;339966;Sea green;33CCCC;Turquoise;3366FF;Royal blue;800080;Purple;999999;Medium gray;FF00FF;Magenta;FFCC00;Gold;FFFF00;Yellow;00FF00;Lime;00FFFF;Aqua;00CCFF;Sky blue;993366;Red violet;FFFFFF;White;FF99CC;Pink;FFCC99;Peach;FFFF99;Light yellow;CCFFCC;Pale green;CCFFFF;Pale cyan;99CCFF;Light sky blue;CC99FF;Plum".split(";"),
c=function(b){return b.getParam("color_picker_callback",null)};return{getForeColorMap:function(b){return b.getParam("forecolor_map",b.getParam("textcolor_map",a))},getBackColorMap:function(b){return b.getParam("backcolor_map",b.getParam("textcolor_map",a))},getForeColorRows:function(b){return b.getParam("forecolor_rows",b.getParam("textcolor_rows",5))},getBackColorRows:function(b){return b.getParam("backcolor_rows",b.getParam("textcolor_rows",5))},getForeColorCols:function(b){return b.getParam("forecolor_cols",
b.getParam("textcolor_cols",8))},getBackColorCols:function(b){return b.getParam("backcolor_cols",b.getParam("textcolor_cols",8))},getColorPickerCallback:c,hasColorPicker:function(b){return"function"===typeof c(b)}}});d("tinymce.plugins.textcolor.core.TextColor",[],function(){return{getCurrentColor:function(a,c){var b;a.dom.getParents(a.selection.getStart(),function(a){if(a=a.style["forecolor"===c?"color":"background-color"])b=a});return b},mapColors:function(a){var c,b=[];for(c=0;c<a.length;c+=2)b.push({text:a[c+
1],color:"#"+a[c]});return b},applyFormat:function(a,c,b){a.undoManager.transact(function(){a.focus();a.formatter.apply(c,{value:b});a.nodeChanged()})},removeFormat:function(a,c){a.undoManager.transact(function(){a.focus();a.formatter.remove(c,{value:null},null,!0);a.nodeChanged()})}}});d("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.I18n")});d("tinymce.plugins.textcolor.ui.ColorPickerHtml",["tinymce.core.dom.DOMUtils","tinymce.core.util.I18n","tinymce.plugins.textcolor.api.Settings",
"tinymce.plugins.textcolor.core.TextColor"],function(a,c,b,n){return{getHtml:function(b,d,g,h){var l,e,t,k,f,m=0,r=a.DOM.uniqueId("mcearia"),u=function(b,a){var e="transparent"===b;return'<td class="mce-grid-cell'+(e?" mce-colorbtn-trans":"")+'"><div id="'+r+"-"+m++ +'" data-mce-color="'+(b?b:"")+'" role="option" tabIndex="-1" style="'+(b?"background-color: "+b:"")+'" title="'+c.translate(a)+'">'+(e?"&#215;":"")+"</div></td>"};g=n.mapColors(g);g.push({text:c.translate("No color"),color:"transparent"});
e='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>';t=g.length-1;for(f=0;f<d;f++){e+="<tr>";for(k=0;k<b;k++)l=f*b+k,l>t?e+="<td></td>":(l=g[l],e+=u(l.color,l.text));e+="</tr>"}if(h){e+='<tr><td colspan="'+b+'" class="mce-custom-color-btn"><div id="'+r+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+r+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+c.translate("Custom...")+
"</button></div></td></tr>";e+="<tr>";for(k=0;k<b;k++)e+=u("","Custom color");e+="</tr>"}return e+"</tbody></table>"}}});d("tinymce.plugins.textcolor.ui.Buttons",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.plugins.textcolor.api.Settings","tinymce.plugins.textcolor.core.TextColor","tinymce.plugins.textcolor.ui.ColorPickerHtml"],function(a,c,b,d,p){var q=function(b,a){b.style.background=a;b.setAttribute("data-mce-color",a)},g=function(b){return function(a){a=a.control;a._color?d.applyFormat(b,
a.settings.format,a._color):d.removeFormat(b,a.settings.format)}},h=function(e,g){return function(k){var f=this.parent(),m;m=d.getCurrentColor(e,f.settings.format);var h=function(b){f.hidePanel();f.color(b);d.applyFormat(e,f.settings.format,b)};a.DOM.getParent(k.target,".mce-custom-color-btn")&&(f.hidePanel(),b.getColorPickerCallback(e).call(e,function(b){var a=f.panel.getEl().getElementsByTagName("table")[0],e,d,a=c.map(a.rows[a.rows.length-1].childNodes,function(b){return b.firstChild});for(d=0;d<
a.length&&(e=a[d],e.getAttribute("data-mce-color"));d++);if(d===g)for(d=0;d<g-1;d++)q(a[d],a[d+1].getAttribute("data-mce-color"));q(e,b);h(b)},m));(m=k.target.getAttribute("data-mce-color"))?(this.lastId&&a.DOM.get(this.lastId).setAttribute("aria-selected",!1),k.target.setAttribute("aria-selected",!0),this.lastId=k.target.id,"transparent"===m?(f.hidePanel(),f.resetColor(),d.removeFormat(e,f.settings.format)):h(m)):null!==m&&f.hidePanel()}},l=function(a,c){return function(){var d=c?b.getForeColorCols(a):
b.getBackColorCols(a),f=c?b.getForeColorRows(a):b.getBackColorRows(a),g=c?b.getForeColorMap(a):b.getBackColorMap(a),h=b.hasColorPicker(a);return p.getHtml(d,f,g,h)}};return{register:function(a){a.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:l(a,!0),onclick:h(a,b.getForeColorCols(a))},onclick:g(a)});a.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",
ariaRemember:!0,html:l(a,!1),onclick:h(a,b.getBackColorCols(a))},onclick:g(a)})}}});d("tinymce.plugins.textcolor.Plugin",["tinymce.core.PluginManager","tinymce.plugins.textcolor.ui.Buttons"],function(a,c){a.add("textcolor",function(a){c.register(a)});return function(){}});s("tinymce.plugins.textcolor.Plugin")()})();
