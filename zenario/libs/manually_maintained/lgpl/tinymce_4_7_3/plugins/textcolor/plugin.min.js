(function(){var y={},p=function(b,d,a){if("string"!==typeof b)throw"module id must be a string";if(void 0===d)throw"no dependencies for "+b;if(void 0===a)throw"no definition function for "+b;y[b]={deps:d,defn:a,instance:void 0}},z=function(b){var d=y[b];if(void 0===d)throw"module ["+b+"] was undefined";if(void 0===d.instance){for(var a=y[b],f=a.deps,u=a.defn,v=f.length,m=Array(v),t=0;t<v;++t)m[t]=z(f[t]);f=u.apply(null,m);if(void 0===f)throw"module ["+b+"] returned undefined";a.instance=f}return d.instance};
(function(b,d){p(b,[],function(){return d})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);p("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.PluginManager")});p("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.dom.DOMUtils")});p("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.util.Tools")});p("tinymce.plugins.textcolor.api.Settings",[],function(){var b=
"000000;Black;993300;Burnt orange;333300;Dark olive;003300;Dark green;003366;Dark azure;000080;Navy Blue;333399;Indigo;333333;Very dark gray;800000;Maroon;FF6600;Orange;808000;Olive;008000;Green;008080;Teal;0000FF;Blue;666699;Grayish blue;808080;Gray;FF0000;Red;FF9900;Amber;99CC00;Yellow green;339966;Sea green;33CCCC;Turquoise;3366FF;Royal blue;800080;Purple;999999;Medium gray;FF00FF;Magenta;FFCC00;Gold;FFFF00;Yellow;00FF00;Lime;00FFFF;Aqua;00CCFF;Sky blue;993366;Red violet;FFFFFF;White;FF99CC;Pink;FFCC99;Peach;FFFF99;Light yellow;CCFFCC;Pale green;CCFFFF;Pale cyan;99CCFF;Light sky blue;CC99FF;Plum".split(";"),
d=function(a){return a.getParam("color_picker_callback",null)};return{getForeColorMap:function(a){return a.getParam("forecolor_map",a.getParam("textcolor_map",b))},getBackColorMap:function(a){return a.getParam("backcolor_map",a.getParam("textcolor_map",b))},getForeColorRows:function(a){return a.getParam("forecolor_rows",a.getParam("textcolor_rows",5))},getBackColorRows:function(a){return a.getParam("backcolor_rows",a.getParam("textcolor_rows",5))},getForeColorCols:function(a){return a.getParam("forecolor_cols",
a.getParam("textcolor_cols",8))},getBackColorCols:function(a){return a.getParam("backcolor_cols",a.getParam("textcolor_cols",8))},getColorPickerCallback:d,hasColorPicker:function(a){return"function"===typeof d(a)}}});p("tinymce.plugins.textcolor.core.TextColor",[],function(){return{getCurrentColor:function(b,d){var a;b.dom.getParents(b.selection.getStart(),function(f){if(f=f.style["forecolor"===d?"color":"background-color"])a=f});return a},mapColors:function(b){var d,a=[];for(d=0;d<b.length;d+=2)a.push({text:b[d+
1],color:"#"+b[d]});return a},applyFormat:function(b,d,a){b.undoManager.transact(function(){b.focus();b.formatter.apply(d,{value:a});b.nodeChanged()})},removeFormat:function(b,d){b.undoManager.transact(function(){b.focus();b.formatter.remove(d,{value:null},null,!0);b.nodeChanged()})}}});p("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.util.I18n")});p("tinymce.plugins.textcolor.ui.ColorPickerHtml",["tinymce.core.dom.DOMUtils","tinymce.core.util.I18n","tinymce.plugins.textcolor.api.Settings",
"tinymce.plugins.textcolor.core.TextColor"],function(b,d,a,f){return{getHtml:function(u,v,m,t){var q,c,e=0,r=b.DOM.uniqueId("mcearia"),h=function(k,l){var x="transparent"===k;return'<td class="mce-grid-cell'+(x?" mce-colorbtn-trans":"")+'"><div id="'+r+"-"+e++ +'" data-mce-color="'+(k?k:"")+'" role="option" tabIndex="-1" style="'+(k?"background-color: "+k:"")+'" title="'+d.translate(l)+'">'+(x?"&#215;":"")+"</div></td>"};m=f.mapColors(m);m.push({text:d.translate("No color"),color:"transparent"});
var g='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>';var w=m.length-1;for(c=0;c<v;c++){g+="<tr>";for(q=0;q<u;q++){var n=c*u+q;n>w?g+="<td></td>":(n=m[n],g+=h(n.color,n.text))}g+="</tr>"}if(t){g+='<tr><td colspan="'+u+'" class="mce-custom-color-btn"><div id="'+r+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+r+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+
d.translate("Custom...")+"</button></div></td></tr>";g+="<tr>";for(q=0;q<u;q++)g+=h("","Custom color");g+="</tr>"}return g+"</tbody></table>"}}});p("tinymce.plugins.textcolor.ui.Buttons",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.plugins.textcolor.api.Settings","tinymce.plugins.textcolor.core.TextColor","tinymce.plugins.textcolor.ui.ColorPickerHtml"],function(b,d,a,f,u){var v=function(c,e){c.style.background=e;c.setAttribute("data-mce-color",e)},m=function(c){return function(e){e=
e.control;e._color?f.applyFormat(c,e.settings.format,e._color):f.removeFormat(c,e.settings.format)}},t=function(c,e){return function(r){var h=this.parent();var g=f.getCurrentColor(c,h.settings.format);var w=function(n){h.hidePanel();h.color(n);f.applyFormat(c,h.settings.format,n)};b.DOM.getParent(r.target,".mce-custom-color-btn")&&(h.hidePanel(),a.getColorPickerCallback(c).call(c,function(n){var k=h.panel.getEl().getElementsByTagName("table")[0],l;k=d.map(k.rows[k.rows.length-1].childNodes,function(A){return A.firstChild});
for(l=0;l<k.length;l++){var x=k[l];if(!x.getAttribute("data-mce-color"))break}if(l===e)for(l=0;l<e-1;l++)v(k[l],k[l+1].getAttribute("data-mce-color"));v(x,n);w(n)},g));(g=r.target.getAttribute("data-mce-color"))?(this.lastId&&b.DOM.get(this.lastId).setAttribute("aria-selected",!1),r.target.setAttribute("aria-selected",!0),this.lastId=r.target.id,"transparent"===g?(h.hidePanel(),h.resetColor(),f.removeFormat(c,h.settings.format)):w(g)):null!==g&&h.hidePanel()}},q=function(c,e){return function(){var r=
e?a.getForeColorCols(c):a.getBackColorCols(c),h=e?a.getForeColorRows(c):a.getBackColorRows(c),g=e?a.getForeColorMap(c):a.getBackColorMap(c),w=a.hasColorPicker(c);return u.getHtml(r,h,g,w)}};return{register:function(c){c.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:q(c,!0),onclick:t(c,a.getForeColorCols(c))},onclick:m(c)});c.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",
ariaRemember:!0,html:q(c,!1),onclick:t(c,a.getBackColorCols(c))},onclick:m(c)})}}});p("tinymce.plugins.textcolor.Plugin",["tinymce.core.PluginManager","tinymce.plugins.textcolor.ui.Buttons"],function(b,d){b.add("textcolor",function(a){d.register(a)});return function(){}});z("tinymce.plugins.textcolor.Plugin")()})();
