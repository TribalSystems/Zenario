'use strict';(function(){var y={},q=function(b,l,m){if("string"!==typeof b)throw"module id must be a string";if(void 0===l)throw"no dependencies for "+b;if(void 0===m)throw"no definition function for "+b;y[b]={deps:l,defn:m,instance:void 0}},z=function(b){var l=y[b];if(void 0===l)throw"module ["+b+"] was undefined";if(void 0===l.instance){for(var m=y[b],e=m.deps,n=m.defn,v=e.length,w=Array(v),t=0;t<v;++t)w[t]=z(e[t]);e=n.apply(null,w);if(void 0===e)throw"module ["+b+"] returned undefined";m.instance=
e}return l.instance};(function(b,l){q(b,[],function(){return l})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);q("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.PluginManager")});q("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.dom.DOMUtils")});q("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.EditorManager")});q("tinymce.core.Env",
["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.Env")});q("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.util.Tools")});q("tinymce.plugins.importcss.api.Settings",[],function(){return{shouldMergeClasses:function(b){return b.getParam("importcss_merge_classes")},shouldImportExclusive:function(b){return b.getParam("importcss_exclusive")},getSelectorConverter:function(b){return b.getParam("importcss_selector_converter")},getSelectorFilter:function(b){return b.getParam("importcss_selector_filter")},
getCssGroups:function(b){return b.getParam("importcss_groups")},shouldAppend:function(b){return b.getParam("importcss_append")},getFileFilter:function(b){return b.getParam("importcss_file_filter")}}});q("tinymce.plugins.importcss.core.ImportCss",["tinymce.core.dom.DOMUtils","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.util.Tools","tinymce.plugins.importcss.api.Settings"],function(b,l,m,e,n){var v=function(a){var c=m.cacheSuffix;"string"===typeof a&&(a=a.replace("?"+c,"").replace("&"+
c,""));return a},w=function(a,c){var d=a.settings,f=!1!==d.skin?d.skin||"lightgray":!1;return f?(d=d.skin_url?a.documentBaseURI.toAbsolute(d.skin_url):l.baseURL+"/skins/"+f,c===d+"/content"+(a.inline?".inline":"")+".min.css"):!1},t=function(a){return"string"===typeof a?function(c){return-1!==c.indexOf(a)}:a instanceof RegExp?function(c){return a.test(c)}:a},C=function(a,c,d){function f(g,h){var k=g.href;if((k=v(k))&&d(k,h)&&!w(a,k)){e.each(g.imports,function(r){f(r,!0)});try{var x=g.cssRules||g.rules}catch(r){}e.each(x,
function(r){r.styleSheet?f(r.styleSheet,!0):r.selectorText&&e.each(r.selectorText.split(","),function(B){p.push(e.trim(B))})})}}var p=[],u={};e.each(a.contentCSS,function(g){u[g]=!0});d||(d=function(g,h){return h||u[g]});try{e.each(c.styleSheets,function(g){f(g)})}catch(g){}return p},A=function(a,c){var d=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(c);if(d){var f=d[1],p=d[2].substr(1).split(".").join(" "),u=e.makeMap("a,img");if(d[1]){var g={title:c};a.schema.getTextBlockElements()[f]?g.block=
f:a.schema.getBlockElements()[f]||u[f.toLowerCase()]?g.selector=f:g.inline=f}else d[2]&&(g={inline:"span",title:c.substr(1),classes:p});!1!==n.shouldMergeClasses(a)?g.classes=p:g.attributes={"class":p};return g}},D=function(a,c){return e.grep(a,function(d){return!d.filter||d.filter(c)})},E=function(a){return e.map(a,function(c){return e.extend({},c,{original:c,selectors:{},filter:t(c.filter),item:{text:c.title,menu:[]}})})},F=function(a,c,d,f){return(f&&f.selector_converter?f.selector_converter:n.getSelectorConverter(a)?
n.getSelectorConverter(a):function(){return A(a,d,f)}).call(c,d,f)};return{defaultConvertSelectorToFormat:A,setup:function(a){a.on("renderFormatsMenu",function(c){var d={},f=t(n.getSelectorFilter(a)),p=c.control,u=E(n.getCssGroups(a)),g=function(h,k){return!(null===k||!1!==n.shouldImportExclusive(a)?h in d:h in k.selectors)&&(null===k||!1!==n.shouldImportExclusive(a)?d[h]=!0:k.selectors[h]=!0,h=F(a,a.plugins.importcss,h,k))?(k=h.name||b.DOM.uniqueId(),a.formatter.register(k,h),e.extend({},p.settings.itemDefaults,
{text:h.title,format:k})):null};n.shouldAppend(a)||p.items().remove();e.each(C(a,c.doc||a.getDoc(),t(n.getFileFilter(a))),function(h){if(-1===h.indexOf(".mce-")&&(!f||f(h))){var k=D(u,h);0<k.length?e.each(k,function(x){var r=g(h,x);r&&x.item.menu.push(r)}):(k=g(h,null))&&p.add(k)}});e.each(u,function(h){0<h.item.menu.length&&p.add(h.item)});c.control.renderNew()})}}});q("tinymce.plugins.importcss.api.Api",["tinymce.plugins.importcss.core.ImportCss"],function(b){return{get:function(l){return{convertSelectorToFormat:function(m){return b.defaultConvertSelectorToFormat(l,
m)}}}}});q("tinymce.plugins.importcss.Plugin",["tinymce.core.PluginManager","tinymce.plugins.importcss.api.Api","tinymce.plugins.importcss.core.ImportCss"],function(b,l,m){b.add("importcss",function(e){m.setup(e);return l.get(e)});return function(){}});z("tinymce.plugins.importcss.Plugin")()})();
