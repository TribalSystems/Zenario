'use strict';(function(){var h={},e=function(c,b,a){if("string"!==typeof c)throw"module id must be a string";if(void 0===b)throw"no dependencies for "+c;if(void 0===a)throw"no definition function for "+c;h[c]={deps:b,defn:a,instance:void 0}},m=function(c){var b=h[c];if(void 0===b)throw"module ["+c+"] was undefined";if(void 0===b.instance){for(var a=h[c],d=a.deps,f=a.defn,k=d.length,l=Array(k),g=0;g<k;++g)l[g]=m(d[g]);d=f.apply(null,l);if(void 0===d)throw"module ["+c+"] returned undefined";a.instance=
d}return b.instance};(function(c,b){e(c,[],function(){return b})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);e("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(c){return c("tinymce.PluginManager")});e("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(c){return c("tinymce.util.Tools")});e("tinymce.plugins.bbcode.core.Convert",["tinymce.core.util.Tools"],function(c){return{html2bbcode:function(b){b=c.trim(b);var a=function(d,f){b=
b.replace(d,f)};a(/<a.*?href="(.*?)".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]");a(/<font.*?color="(.*?)".*?class="codeStyle".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]");a(/<font.*?color="(.*?)".*?class="quoteStyle".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]");a(/<font.*?class="codeStyle".*?color="(.*?)".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]");a(/<font.*?class="quoteStyle".*?color="(.*?)".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]");a(/<span style="color: ?(.*?);">(.*?)<\/span>/gi,
"[color=$1]$2[/color]");a(/<font.*?color="(.*?)".*?>(.*?)<\/font>/gi,"[color=$1]$2[/color]");a(/<span style="font-size:(.*?);">(.*?)<\/span>/gi,"[size=$1]$2[/size]");a(/<font>(.*?)<\/font>/gi,"$1");a(/<img.*?src="(.*?)".*?\/>/gi,"[img]$1[/img]");a(/<span class="codeStyle">(.*?)<\/span>/gi,"[code]$1[/code]");a(/<span class="quoteStyle">(.*?)<\/span>/gi,"[quote]$1[/quote]");a(/<strong class="codeStyle">(.*?)<\/strong>/gi,"[code][b]$1[/b][/code]");a(/<strong class="quoteStyle">(.*?)<\/strong>/gi,"[quote][b]$1[/b][/quote]");
a(/<em class="codeStyle">(.*?)<\/em>/gi,"[code][i]$1[/i][/code]");a(/<em class="quoteStyle">(.*?)<\/em>/gi,"[quote][i]$1[/i][/quote]");a(/<u class="codeStyle">(.*?)<\/u>/gi,"[code][u]$1[/u][/code]");a(/<u class="quoteStyle">(.*?)<\/u>/gi,"[quote][u]$1[/u][/quote]");a(/<\/(strong|b)>/gi,"[/b]");a(/<(strong|b)>/gi,"[b]");a(/<\/(em|i)>/gi,"[/i]");a(/<(em|i)>/gi,"[i]");a(/<\/u>/gi,"[/u]");a(/<span style="text-decoration: ?underline;">(.*?)<\/span>/gi,"[u]$1[/u]");a(/<u>/gi,"[u]");a(/<blockquote[^>]*>/gi,
"[quote]");a(/<\/blockquote>/gi,"[/quote]");a(/<br \/>/gi,"\n");a(/<br\/>/gi,"\n");a(/<br>/gi,"\n");a(/<p>/gi,"");a(/<\/p>/gi,"\n");a(/&nbsp;|\u00a0/gi," ");a(/&quot;/gi,'"');a(/&lt;/gi,"<");a(/&gt;/gi,">");a(/&amp;/gi,"&");return b},bbcode2html:function(b){b=c.trim(b);var a=function(d,f){b=b.replace(d,f)};a(/\n/gi,"<br />");a(/\[b\]/gi,"<strong>");a(/\[\/b\]/gi,"</strong>");a(/\[i\]/gi,"<em>");a(/\[\/i\]/gi,"</em>");a(/\[u\]/gi,"<u>");a(/\[\/u\]/gi,"</u>");a(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>');
a(/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>');a(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />');a(/\[color=(.*?)\](.*?)\[\/color\]/gi,'<font color="$1">$2</font>');a(/\[code\](.*?)\[\/code\]/gi,'<span class="codeStyle">$1</span>&nbsp;');a(/\[quote.*?\](.*?)\[\/quote\]/gi,'<span class="quoteStyle">$1</span>&nbsp;');return b}}});e("tinymce.plugins.bbcode.Plugin",["tinymce.core.PluginManager","tinymce.plugins.bbcode.core.Convert"],function(c,b){c.add("bbcode",function(){return{init:function(a){a.on("beforeSetContent",
function(d){d.content=b.bbcode2html(d.content)});a.on("postProcess",function(d){d.set&&(d.content=b.bbcode2html(d.content));d.get&&(d.content=b.html2bbcode(d.content))})}}});return function(){}});m("tinymce.plugins.bbcode.Plugin")()})();
