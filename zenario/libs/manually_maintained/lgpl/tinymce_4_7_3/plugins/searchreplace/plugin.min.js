(function(){var w={},C=function(d){var b=w[d];if(void 0===b)throw"module ["+d+"] was undefined";if(void 0===b.instance){for(var a=w[d],c=a.deps,g=a.defn,f=c.length,e=Array(f),n=0;n<f;++n)e[n]=C(c[n]);c=g.apply(null,e);if(void 0===c)throw"module ["+d+"] returned undefined";a.instance=c}return b.instance},p=function(d,b,a){if("string"!==typeof d)throw"module id must be a string";if(void 0===b)throw"no dependencies for "+d;if(void 0===a)throw"no definition function for "+d;w[d]={deps:b,defn:a,instance:void 0}};
p("ephox.katamari.api.Cell",[],function(){var d=function(b){var a=b;return{get:function(){return a},set:function(b){a=b},clone:function(){return d(a)}}};return d});(function(d,b){p(d,[],function(){return b})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);p("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(d){return d("tinymce.PluginManager")});p("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(d){return d("tinymce.util.Tools")});
p("tinymce.plugins.searchreplace.core.FindReplaceText",[],function(){function d(b){return b&&1===b.nodeType&&"false"===b.contentEditable}return{findAndReplaceDOMText:function(b,a,c,g,f){function e(k,a){a=a||0;if(!k[0])throw"findAndReplaceDOMText cannot handle zero-length matches";var b=k.index;if(0<a){var q=k[a];if(!q)throw"Invalid capture group";b+=k[0].indexOf(q);k[0]=q}return[b,b+k[0].length,[k[0]]]}function n(k){var a;if(3===k.nodeType)return k.data;if(m[k.nodeName]&&!q[k.nodeName])return"";a=
"";if(d(k))return"\n";if(q[k.nodeName]||z[k.nodeName])a+="\n";if(k=k.firstChild){do a+=n(k);while(k=k.nextSibling)}return a}function h(k,a,b){var r,c,f,g,B=[],e=0,l=k,h=a.shift(),n=0;a:for(;;){(q[l.nodeName]||z[l.nodeName]||d(l))&&e++;3===l.nodeType&&(!c&&l.length+e>=h[1]?(c=l,g=h[1]-e):r&&B.push(l),!r&&l.length+e>h[0]&&(r=l,f=h[0]-e),e+=l.length);if(r&&c){if(l=b({startNode:r,startNodeIndex:f,endNode:c,endNodeIndex:g,innerNodes:B,match:h[2],matchIndex:n}),e-=c.length-g,c=r=null,B=[],h=a.shift(),n++,
!h)break}else if((!m[l.nodeName]||q[l.nodeName])&&l.firstChild){if(!d(l)){l=l.firstChild;continue}}else if(l.nextSibling){l=l.nextSibling;continue}for(;;)if(l.nextSibling){l=l.nextSibling;break}else if(l.parentNode!==k)l=l.parentNode;else break a}}function p(a){var b;if("function"!==typeof a){var q=a.nodeType?a:k.createElement(a);b=function(a,b){var c=q.cloneNode(!1);c.setAttribute("data-mce-index",b);a&&c.appendChild(k.createTextNode(a));return c}}else b=a;return function(a){var q,c,d,m=a.startNode,
e=a.endNode,l=a.matchIndex;if(m===e)return d=m.parentNode,0<a.startNodeIndex&&(q=k.createTextNode(m.data.substring(0,a.startNodeIndex)),d.insertBefore(q,m)),q=b(a.match[0],l),d.insertBefore(q,m),a.endNodeIndex<m.length&&(c=k.createTextNode(m.data.substring(a.endNodeIndex)),d.insertBefore(c,m)),m.parentNode.removeChild(m),q;q=k.createTextNode(m.data.substring(0,a.startNodeIndex));c=k.createTextNode(e.data.substring(a.endNodeIndex));var z=b(m.data.substring(a.startNodeIndex),l);d=[];for(var f=0,h=a.innerNodes.length;f<
h;++f){var g=a.innerNodes[f],y=b(g.data,l);g.parentNode.replaceChild(y,g);d.push(y)}a=b(e.data.substring(0,a.endNodeIndex),l);d=m.parentNode;d.insertBefore(q,m);d.insertBefore(z,m);d.removeChild(m);d=e.parentNode;d.insertBefore(a,e);d.insertBefore(c,e);d.removeChild(e);return a}}var t=[],x,v=0,k,q,m,z;k=a.ownerDocument;q=f.getBlockElements();m=f.getWhiteSpaceElements();z=f.getShortEndedElements();if(x=n(a)){if(b.global)for(;f=b.exec(x);)t.push(e(f,g));else f=x.match(b),t.push(e(f,g));t.length&&(v=
t.length,h(a,t,p(c)));return v}}}});p("tinymce.plugins.searchreplace.core.Actions",["tinymce.core.util.Tools","tinymce.plugins.searchreplace.core.FindReplaceText"],function(d,b){var a=function(a){a=a.getAttribute("data-mce-index");return"number"===typeof a?""+a:a},c=function(a){var b=a.parentNode;a.firstChild&&b.insertBefore(a.firstChild,a);a.parentNode.removeChild(a)},g=function(k,b){var m,c=[];m=d.toArray(k.getBody().getElementsByTagName("span"));if(m.length)for(var e=0;e<m.length;e++){var f=a(m[e]);
null!==f&&f.length&&f===b.toString()&&c.push(m[e])}return c},f=function(a,b,d){var c=b.get(),e=a.dom;!1!==d?c++:c--;e.removeClass(g(a,b.get()),"mce-match-marker-selected");b=g(a,c);return b.length?(e.addClass(g(a,c),"mce-match-marker-selected"),a.selection.scrollIntoView(b[0]),c):-1},e=function(a,b){var c=b.parentNode;a.remove(b);a.isEmpty(c)&&a.remove(c)},n=function(a,b){var c=f(a,b,!0);-1!==c&&b.set(c)},h=function(a,b){var c=f(a,b,!1);-1!==c&&b.set(c)},p=function(b){b=a(b);return null!==b&&0<b.length},
t=function(b,e,m){var f,g,h,n;g=d.toArray(b.getBody().getElementsByTagName("span"));for(f=0;f<g.length;f++){var r=a(g[f]);null!==r&&r.length&&(r===e.get().toString()&&(h||(h=g[f].firstChild),n=g[f].firstChild),c(g[f]))}if(h&&n)return e=b.dom.createRng(),e.setStart(h,0),e.setEnd(n,n.data.length),!1!==m&&b.selection.setRng(e),e},x=function(a,b){return 0<g(a,b.get()+1).length},v=function(a,b){return 0<g(a,b.get()-1).length};return{done:t,find:function(a,c,d,e,g){d=d.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
"\\$&");d=d.replace(/\s/g,"\\s");d=RegExp(g?"\\b"+d+"\\b":d,e?"g":"gi");g=a.dom.create("span",{"data-mce-bogus":1});g.className="mce-match-marker";e=a.getBody();t(a,c,!1);if(d=b.findAndReplaceDOMText(d,e,g,!1,a.schema))c.set(-1),c.set(f(a,c,!0));return d},next:n,prev:h,replace:function(b,f,g,t,y){var s,u,r,A,w=f.get();t=!1!==t;s=b.getBody();u=d.grep(d.toArray(s.getElementsByTagName("span")),p);for(s=0;s<u.length;s++)if(r=a(u[s]),r=A=parseInt(r,10),y||r===f.get()){g.length?(u[s].firstChild.nodeValue=
g,c(u[s])):e(b.dom,u[s]);for(;u[++s];)if(r=parseInt(a(u[s]),10),r===A)e(b.dom,u[s]);else{s--;break}t&&w--}else A>f.get()&&u[s].setAttribute("data-mce-index",A-1);f.set(w);t?(g=x(b,f),n(b,f)):(g=v(b,f),h(b,f));return!y&&g},hasNext:x,hasPrev:v}});p("tinymce.plugins.searchreplace.api.Api",["tinymce.plugins.searchreplace.core.Actions"],function(d){return{get:function(b,a){return{done:function(c){return d.done(b,a,c)},find:function(c,g,f){return d.find(b,a,c,g,f)},next:function(){return d.next(b,a)},prev:function(){return d.prev(b,
a)},replace:function(c,g,f){return d.replace(b,a,c,g,f)}}}}});p("tinymce.plugins.searchreplace.ui.Dialog",["tinymce.core.util.Tools","tinymce.plugins.searchreplace.core.Actions"],function(d,b){return{open:function(a,c){function g(){h.statusbar.find("#next").disabled(!1===b.hasNext(a,c));h.statusbar.find("#prev").disabled(!1===b.hasPrev(a,c))}function f(){a.windowManager.alert("Could not find the specified string.",function(){h.find("#find")[0].focus()})}var e={},n;a.undoManager.add();n=d.trim(a.selection.getContent({format:"text"}));
var h=a.windowManager.open({layout:"flex",pack:"center",align:"center",onClose:function(){a.focus();b.done(a,c);a.undoManager.add()},onSubmit:function(d){var n,p,v;d.preventDefault();n=h.find("#case").checked();v=h.find("#words").checked();p=h.find("#find").value();p.length?e.text===p&&e.caseState===n&&e.wholeWord===v?b.hasNext(a,c)?(b.next(a,c),g()):f():((d=b.find(a,c,p,n,v))||f(),h.statusbar.items().slice(1).disabled(0===d),g(),e={text:p,caseState:n,wholeWord:v}):(b.done(a,c,!1),h.statusbar.items().slice(1).disabled(!0))},
buttons:[{text:"Find",subtype:"primary",onclick:function(){h.submit()}},{text:"Replace",disabled:!0,onclick:function(){b.replace(a,c,h.find("#replace").value())||(h.statusbar.items().slice(1).disabled(!0),c.set(-1),e={})}},{text:"Replace all",disabled:!0,onclick:function(){b.replace(a,c,h.find("#replace").value(),!0,!0);h.statusbar.items().slice(1).disabled(!0);e={}}},{type:"spacer",flex:1},{text:"Prev",name:"prev",disabled:!0,onclick:function(){b.prev(a,c);g()}},{text:"Next",name:"next",disabled:!0,
onclick:function(){b.next(a,c);g()}}],title:"Find and replace",items:{type:"form",padding:20,labelGap:30,spacing:10,items:[{type:"textbox",name:"find",size:40,label:"Find",value:n},{type:"textbox",name:"replace",size:40,label:"Replace with"},{type:"checkbox",name:"case",text:"Match case",label:" "},{type:"checkbox",name:"words",text:"Whole words",label:" "}]}})}}});p("tinymce.plugins.searchreplace.api.Commands",["tinymce.plugins.searchreplace.ui.Dialog"],function(d){return{register:function(b,a){b.addCommand("SearchReplace",
function(){d.open(b,a)})}}});p("tinymce.plugins.searchreplace.ui.Buttons",["tinymce.plugins.searchreplace.ui.Dialog"],function(d){var b=function(a,b){return function(){d.open(a,b)}};return{register:function(a,c){a.addMenuItem("searchreplace",{text:"Find and replace",shortcut:"Meta+F",onclick:b(a,c),separator:"before",context:"edit"});a.addButton("searchreplace",{tooltip:"Find and replace",onclick:b(a,c)});a.shortcuts.add("Meta+F","",b(a,c))}}});p("tinymce.plugins.searchreplace.Plugin",["ephox.katamari.api.Cell",
"tinymce.core.PluginManager","tinymce.plugins.searchreplace.api.Api","tinymce.plugins.searchreplace.api.Commands","tinymce.plugins.searchreplace.ui.Buttons"],function(d,b,a,c,g){b.add("searchreplace",function(b){var e=d(-1);c.register(b,e);g.register(b,e);return a.get(b,e)});return function(){}});C("tinymce.plugins.searchreplace.Plugin")()})();
