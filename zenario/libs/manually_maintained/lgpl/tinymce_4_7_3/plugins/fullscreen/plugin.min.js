(function(){var r={},h=function(a,b,c){if("string"!==typeof a)throw"module id must be a string";if(void 0===b)throw"no dependencies for "+a;if(void 0===c)throw"no definition function for "+a;r[a]={deps:b,defn:c,instance:void 0}},w=function(a){var b=r[a];if(void 0===b)throw"module ["+a+"] was undefined";if(void 0===b.instance){for(var c=r[a],f=c.deps,d=c.defn,k=f.length,l=Array(k),e=0;e<k;++e)l[e]=w(f[e]);f=d.apply(null,l);if(void 0===f)throw"module ["+a+"] returned undefined";c.instance=f}return b.instance},
t=function(a,b){h(a,[],function(){return b})};h("ephox.katamari.api.Cell",[],function(){var a=function(b){var c=b;return{get:function(){return c},set:function(f){c=f},clone:function(){return a(c)}}};return a});t("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);h("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});h("tinymce.plugins.fullscreen.api.Api",[],function(){return{get:function(a){return{isFullscreen:function(){return null!==
a.get()}}}}});t("global!document",document);t("global!window",window);h("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.dom.DOMUtils")});h("tinymce.plugins.fullscreen.api.Events",[],function(){return{fireFullscreenStateChanged:function(a,b){a.fire("FullscreenStateChanged",{state:b})}}});h("tinymce.plugins.fullscreen.core.Actions",["global!document","global!window","tinymce.core.dom.DOMUtils","tinymce.plugins.fullscreen.api.Events"],function(a,b,c,f){var d=
c.DOM,k=function(){var e=d.getViewPort();return{x:e.x,y:e.y}},l=function(e){b.scrollTo(e.x,e.y)};return{toggleFullscreen:function(e,u){var x=a.body,y=a.documentElement,g=u.get(),q=function(){var C=d.setStyle,D=v,z=a.body;if(z.offsetWidth)var A=z.offsetHeight;b.innerWidth&&b.innerHeight&&(A=b.innerHeight);C.call(d,D,"height",A-(p.clientHeight-v.clientHeight))},B=function(){d.unbind(b,"resize",q)};var p=e.getContainer();var m=p.style;var v=e.getContentAreaContainer().firstChild;var n=v.style;g?(n.width=
g.iframeWidth,n.height=g.iframeHeight,g.containerWidth&&(m.width=g.containerWidth),g.containerHeight&&(m.height=g.containerHeight),d.removeClass(x,"mce-fullscreen"),d.removeClass(y,"mce-fullscreen"),d.removeClass(p,"mce-fullscreen"),l(g.scrollPos),d.unbind(b,"resize",g.resizeHandler),e.off("remove",g.removeHandler),u.set(null),f.fireFullscreenStateChanged(e,!1)):(g={scrollPos:k(),containerWidth:m.width,containerHeight:m.height,iframeWidth:n.width,iframeHeight:n.height,resizeHandler:q,removeHandler:B},
n.width=n.height="100%",m.width=m.height="",d.addClass(x,"mce-fullscreen"),d.addClass(y,"mce-fullscreen"),d.addClass(p,"mce-fullscreen"),d.bind(b,"resize",q),e.on("remove",B),q(),u.set(g),f.fireFullscreenStateChanged(e,!0))}}});h("tinymce.plugins.fullscreen.api.Commands",["tinymce.plugins.fullscreen.core.Actions"],function(a){return{register:function(b,c){b.addCommand("mceFullScreen",function(){a.toggleFullscreen(b,c)})}}});h("tinymce.plugins.fullscreen.ui.Buttons",[],function(){var a=function(b){return function(c){var f=
c.control;b.on("FullscreenStateChanged",function(d){f.active(d.state)})}};return{register:function(b){b.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:a(b),context:"view"});b.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:a(b)})}}});h("tinymce.plugins.fullscreen.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.fullscreen.api.Api","tinymce.plugins.fullscreen.api.Commands",
"tinymce.plugins.fullscreen.ui.Buttons"],function(a,b,c,f,d){b.add("fullscreen",function(k){var l=a(null);f.register(k,l);d.register(k);k.addShortcut("Ctrl+Shift+F","","mceFullScreen");return c.get(l)});return function(){}});w("tinymce.plugins.fullscreen.Plugin")()})();
