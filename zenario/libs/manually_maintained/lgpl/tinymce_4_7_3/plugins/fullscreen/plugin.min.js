'use strict';(function(){var v={},h=function(a,b,c){if("string"!==typeof a)throw"module id must be a string";if(void 0===b)throw"no dependencies for "+a;if(void 0===c)throw"no definition function for "+a;v[a]={deps:b,defn:c,instance:void 0}},y=function(a){var b=v[a];if(void 0===b)throw"module ["+a+"] was undefined";if(void 0===b.instance){for(var c=v[a],f=c.deps,d=c.defn,k=f.length,l=Array(k),m=0;m<k;++m)l[m]=y(f[m]);f=d.apply(null,l);if(void 0===f)throw"module ["+a+"] returned undefined";c.instance=
f}return b.instance},w=function(a,b){h(a,[],function(){return b})};h("ephox.katamari.api.Cell",[],function(){var a=function(b){var c=b;return{get:function(){return c},set:function(f){c=f},clone:function(){return a(c)}}};return a});w("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);h("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});h("tinymce.plugins.fullscreen.api.Api",[],function(){return{get:function(a){return{isFullscreen:function(){return null!==
a.get()}}}}});w("global!document",document);w("global!window",window);h("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.dom.DOMUtils")});h("tinymce.plugins.fullscreen.api.Events",[],function(){return{fireFullscreenStateChanged:function(a,b){a.fire("FullscreenStateChanged",{state:b})}}});h("tinymce.plugins.fullscreen.core.Actions",["global!document","global!window","tinymce.core.dom.DOMUtils","tinymce.plugins.fullscreen.api.Events"],function(a,b,c,f){var d=
c.DOM,k=function(){var e=a.body;if(e.offsetWidth){var n=e.offsetWidth;var r=e.offsetHeight}b.innerWidth&&b.innerHeight&&(n=b.innerWidth,r=b.innerHeight);return{w:n,h:r}},l=function(){var e=d.getViewPort();return{x:e.x,y:e.y}},m=function(e){b.scrollTo(e.x,e.y)};return{toggleFullscreen:function(e,n){var r=a.body,z=a.documentElement,g=n.get(),u=function(){d.setStyle(x,"height",k().h-(t.clientHeight-x.clientHeight))},A=function(){d.unbind(b,"resize",u)};var t=e.getContainer();var p=t.style;var x=e.getContentAreaContainer().firstChild;
var q=x.style;g?(q.width=g.iframeWidth,q.height=g.iframeHeight,g.containerWidth&&(p.width=g.containerWidth),g.containerHeight&&(p.height=g.containerHeight),d.removeClass(r,"mce-fullscreen"),d.removeClass(z,"mce-fullscreen"),d.removeClass(t,"mce-fullscreen"),m(g.scrollPos),d.unbind(b,"resize",g.resizeHandler),e.off("remove",g.removeHandler),n.set(null),f.fireFullscreenStateChanged(e,!1)):(g={scrollPos:l(),containerWidth:p.width,containerHeight:p.height,iframeWidth:q.width,iframeHeight:q.height,resizeHandler:u,
removeHandler:A},q.width=q.height="100%",p.width=p.height="",d.addClass(r,"mce-fullscreen"),d.addClass(z,"mce-fullscreen"),d.addClass(t,"mce-fullscreen"),d.bind(b,"resize",u),e.on("remove",A),u(),n.set(g),f.fireFullscreenStateChanged(e,!0))}}});h("tinymce.plugins.fullscreen.api.Commands",["tinymce.plugins.fullscreen.core.Actions"],function(a){return{register:function(b,c){b.addCommand("mceFullScreen",function(){a.toggleFullscreen(b,c)})}}});h("tinymce.plugins.fullscreen.ui.Buttons",[],function(){var a=
function(b){return function(c){var f=c.control;b.on("FullscreenStateChanged",function(d){f.active(d.state)})}};return{register:function(b){b.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:a(b),context:"view"});b.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:a(b)})}}});h("tinymce.plugins.fullscreen.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.fullscreen.api.Api",
"tinymce.plugins.fullscreen.api.Commands","tinymce.plugins.fullscreen.ui.Buttons"],function(a,b,c,f,d){b.add("fullscreen",function(k){var l=a(null);f.register(k,l);d.register(k);k.addShortcut("Ctrl+Shift+F","","mceFullScreen");return c.get(l)});return function(){}});y("tinymce.plugins.fullscreen.Plugin")()})();
