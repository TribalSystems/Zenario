(function(){var g={},p=function(a){var b=g[a];if(void 0===b)throw"module ["+a+"] was undefined";if(void 0===b.instance){for(var c=g[a],n=c.deps,e=c.defn,d=n.length,r=Array(d),l=0;l<d;++l)r[l]=p(n[l]);n=e.apply(null,r);if(void 0===n)throw"module ["+a+"] returned undefined";c.instance=n}return b.instance},d=function(a,b,c){if("string"!==typeof a)throw"module id must be a string";if(void 0===b)throw"no dependencies for "+a;if(void 0===c)throw"no definition function for "+a;g[a]={deps:b,defn:c,instance:void 0}},
m=function(a,b){d(a,[],function(){return b})};d("ephox.katamari.api.Cell",[],function(){var a=function(b){var c=b;return{get:function(){return c},set:function(a){c=a},clone:function(){return a(c)}}};return a});m("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);d("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});d("tinymce.plugins.fullscreen.api.Api",[],function(){return{get:function(a){return{isFullscreen:function(){return null!==
a.get()}}}}});m("global!document",document);m("global!window",window);d("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.dom.DOMUtils")});d("tinymce.plugins.fullscreen.api.Events",[],function(){return{fireFullscreenStateChanged:function(a,b){a.fire("FullscreenStateChanged",{state:b})}}});d("tinymce.plugins.fullscreen.core.Actions",["global!document","global!window","tinymce.core.dom.DOMUtils","tinymce.plugins.fullscreen.api.Events"],function(a,b,c,d){var e=
c.DOM,v=function(){var c,e,d=a.body;d.offsetWidth&&(c=d.offsetWidth,e=d.offsetHeight);b.innerWidth&&b.innerHeight&&(c=b.innerWidth,e=b.innerHeight);return{w:c,h:e}},r=function(){var a=e.getViewPort();return{x:a.x,y:a.y}},l=function(a){b.scrollTo(a.x,a.y)};return{toggleFullscreen:function(c,g){var m=a.body,p=a.documentElement,h,q,s,k,f=g.get(),t=function(){e.setStyle(s,"height",v().h-(q.clientHeight-s.clientHeight))},u=function(){e.unbind(b,"resize",t)};q=c.getContainer();h=q.style;s=c.getContentAreaContainer().firstChild;
k=s.style;f?(k.width=f.iframeWidth,k.height=f.iframeHeight,f.containerWidth&&(h.width=f.containerWidth),f.containerHeight&&(h.height=f.containerHeight),e.removeClass(m,"mce-fullscreen"),e.removeClass(p,"mce-fullscreen"),e.removeClass(q,"mce-fullscreen"),l(f.scrollPos),e.unbind(b,"resize",f.resizeHandler),c.off("remove",f.removeHandler),g.set(null),d.fireFullscreenStateChanged(c,!1)):(f={scrollPos:r(),containerWidth:h.width,containerHeight:h.height,iframeWidth:k.width,iframeHeight:k.height,resizeHandler:t,
removeHandler:u},k.width=k.height="100%",h.width=h.height="",e.addClass(m,"mce-fullscreen"),e.addClass(p,"mce-fullscreen"),e.addClass(q,"mce-fullscreen"),e.bind(b,"resize",t),c.on("remove",u),t(),g.set(f),d.fireFullscreenStateChanged(c,!0))}}});d("tinymce.plugins.fullscreen.api.Commands",["tinymce.plugins.fullscreen.core.Actions"],function(a){return{register:function(b,c){b.addCommand("mceFullScreen",function(){a.toggleFullscreen(b,c)})}}});d("tinymce.plugins.fullscreen.ui.Buttons",[],function(){var a=
function(a){return function(c){var d=c.control;a.on("FullscreenStateChanged",function(a){d.active(a.state)})}};return{register:function(b){b.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:a(b),context:"view"});b.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:a(b)})}}});d("tinymce.plugins.fullscreen.Plugin",["ephox.katamari.api.Cell","tinymce.core.PluginManager","tinymce.plugins.fullscreen.api.Api",
"tinymce.plugins.fullscreen.api.Commands","tinymce.plugins.fullscreen.ui.Buttons"],function(a,b,c,d,e){b.add("fullscreen",function(b){var g=a(null);d.register(b,g);e.register(b);b.addShortcut("Ctrl+Shift+F","","mceFullScreen");return c.get(g)});return function(){}});p("tinymce.plugins.fullscreen.Plugin")()})();
