(function(){var J={},O=function(g){var f=J[g];if(void 0===f)throw"module ["+g+"] was undefined";if(void 0===f.instance){for(var e=J[g],d=e.deps,c=e.defn,a=d.length,b=Array(a),h=0;h<a;++h)b[h]=O(d[h]);d=c.apply(null,b);if(void 0===d)throw"module ["+g+"] returned undefined";e.instance=d}return f.instance},k=function(g,f,e){if("string"!==typeof g)throw"module id must be a string";if(void 0===f)throw"no dependencies for "+g;if(void 0===e)throw"no definition function for "+g;J[g]={deps:f,defn:e,instance:void 0}},
A=function(g,f){k(g,[],function(){return f})};A("global!window",window);A("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);k("tinymce.core.ThemeManager",["global!tinymce.util.Tools.resolve"],function(g){return g("tinymce.ThemeManager")});k("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(g){return g("tinymce.EditorManager")});k("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(g){return g("tinymce.util.Tools")});k("tinymce.themes.modern.api.Settings",
["tinymce.core.EditorManager","tinymce.core.util.Tools"],function(g,f){var e=function(c){return c.getParam("menubar")},d=function(c,a){for(var b=[],h=1;10>h;h++){var e=c["toolbar"+h];if(!e)break;b.push(e)}h=c.toolbar?[c.toolbar]:[a];return 0<b.length?b:h};return{isBrandingEnabled:function(c){return c.getParam("branding",!0)},hasMenubar:function(c){return!1!==e(c)},getMenubar:e,hasStatusbar:function(c){return c.getParam("statusbar",!0)},getToolbarSize:function(c){return c.getParam("toolbar_items_size")},
getResize:function(c){c=c.getParam("resize","vertical");return!1===c?"none":"both"===c?"both":"vertical"},isReadOnly:function(c){return c.getParam("readonly",!1)},getFixedToolbarContainer:function(c){return c.getParam("fixed_toolbar_container")},getInlineToolbarPositionHandler:function(c){return c.getParam("inline_toolbar_position_handler")},getMenu:function(c){return c.getParam("menu")},getRemovedMenuItems:function(c){return c.getParam("removed_menuitems","")},getMinWidth:function(c){return c.getParam("min_width",
100)},getMinHeight:function(c){return c.getParam("min_height",100)},getMaxWidth:function(c){return c.getParam("max_width",65535)},getMaxHeight:function(c){return c.getParam("max_height",65535)},getSkinUrl:function(c){var a=c.settings,b=a.skin,a=a.skin_url;!1!==b&&(b=b?b:"lightgray",a=a?c.documentBaseURI.toAbsolute(a):g.baseURL+"/skins/"+b);return a},isSkinDisabled:function(c){return!1===c.settings.skin},isInline:function(c){return c.getParam("inline",!1)},getToolbars:function(c){var a=c.getParam("toolbar");
return!1===a?[]:f.isArray(a)?f.grep(a,function(a){return 0<a.length}):d(c.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image")}}});k("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(g){return g("tinymce.dom.DOMUtils")});k("tinymce.core.ui.Factory",["global!tinymce.util.Tools.resolve"],function(g){return g("tinymce.ui.Factory")});k("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],
function(g){return g("tinymce.util.I18n")});k("tinymce.themes.modern.api.Events",[],function(){return{fireSkinLoaded:function(g){return g.fire("SkinLoaded")},fireResizeEditor:function(g){return g.fire("ResizeEditor")},fireBeforeRenderUI:function(g){return g.fire("BeforeRenderUI")}}});k("tinymce.themes.modern.ui.A11y",[],function(){var g=function(f,e){return function(){var d=f.find(e)[0];d&&d.focus(!0)}};return{addKeys:function(f,e){f.shortcuts.add("Alt+F9","",g(e,"menubar"));f.shortcuts.add("Alt+F10,F10",
"",g(e,"toolbar"));f.shortcuts.add("Alt+F11","",g(e,"elementpath"));e.on("cancel",function(){f.focus()})}}});k("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(g){return g("tinymce.Env")});k("tinymce.core.geom.Rect",["global!tinymce.util.Tools.resolve"],function(g){return g("tinymce.geom.Rect")});k("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(g){return g("tinymce.util.Delay")});A("global!Array",Array);A("global!Error",Error);k("ephox.katamari.api.Fun",
["global!Array","global!Error"],function(g,f){var e=function(a){return function(){return a}},d=e(!1),c=e(!0);return{noop:function(){},compose:function(a,b){return function(){return a(b.apply(null,arguments))}},constant:e,identity:function(a){return a},tripleEquals:function(a,b){return a===b},curry:function(a){for(var b=new g(arguments.length-1),h=1;h<arguments.length;h++)b[h-1]=arguments[h];return function(){for(var h=new g(arguments.length),c=0;c<h.length;c++)h[c]=arguments[c];h=b.concat(h);return a.apply(null,
h)}},not:function(a){return function(){return!a.apply(null,arguments)}},die:function(a){return function(){throw new f(a);}},apply:function(a){return a()},call:function(a){a()},never:d,always:c}});A("global!Object",Object);k("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(g,f){var e=g.never,d=g.always,c=function(){return a},a=function(){var a=function(a){return a.isNone()},b=function(a){return a()},n=function(a){return a},a={fold:function(a,b){return a()},is:e,isSome:e,
isNone:d,getOr:n,getOrThunk:b,getOrDie:function(a){throw Error(a||"error: getOrDie called on none.");},or:n,orThunk:b,map:c,ap:c,each:function(){},bind:c,flatten:c,exists:e,forall:d,filter:c,equals:a,equals_:a,toArray:function(){return[]},toString:g.constant("none()")};f.freeze&&f.freeze(a);return a}(),b=function(h){var q=function(){return h},f=function(){return l},g=function(a){return a(h)},l={fold:function(a,b){return b(h)},is:function(a){return h===a},isSome:d,isNone:e,getOr:q,getOrThunk:q,getOrDie:q,
or:f,orThunk:f,map:function(a){return b(a(h))},ap:function(a){return a.fold(c,function(a){return b(a(h))})},each:function(a){a(h)},bind:g,flatten:q,exists:g,forall:g,filter:function(b){return b(h)?l:a},equals:function(a){return a.is(h)},equals_:function(a,b){return a.fold(e,function(a){return b(h,a)})},toArray:function(){return[h]},toString:function(){return"some("+h+")"}};return l};return{some:b,none:c,from:function(h){return null===h||void 0===h?a:b(h)}}});k("tinymce.themes.modern.alien.UiContainer",
["ephox.katamari.api.Option","tinymce.core.Env","tinymce.core.dom.DOMUtils"],function(g,f,e){return{getUiContainerDelta:function(){var d=f.container;if(d&&"static"!==e.DOM.getStyle(d,"position",!0)){var c=e.DOM.getPos(d);return g.some({x:d.scrollLeft-c.x,y:d.scrollTop-c.y})}return g.none()}}});k("tinymce.themes.modern.ui.Toolbar",["tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.themes.modern.api.Settings"],function(g,f,e){var d=function(c,a,b){var h=[],e;if(a)return f.each(a.split(/[ ,]/),
function(a){var d=function(){var b=c.selection;a.settings.stateSelector&&b.selectorChanged(a.settings.stateSelector,function(b){a.active(b)},!0);a.settings.disabledStateSelector&&b.selectorChanged(a.settings.disabledStateSelector,function(b){a.disabled(b)})};if("|"===a)e=null;else if(e||(e={type:"buttongroup",items:[]},h.push(e)),c.buttons[a])if(a=c.buttons[a],"function"===typeof a&&(a=a()),a.type=a.type||"button",a.size=b,a=g.create(a),e.items.push(a),c.initialized)d();else c.on("init",d)}),{type:"toolbar",
layout:"flow",items:h}};return{createToolbar:d,createToolbars:function(c,a){var b=[];f.each(e.getToolbars(c),function(h){h&&b.push(d(c,h,a))});if(b.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:b}}}});k("tinymce.themes.modern.ui.ContextToolbars","tinymce.core.Env tinymce.core.dom.DOMUtils tinymce.core.geom.Rect tinymce.core.ui.Factory tinymce.core.util.Delay tinymce.core.util.Tools tinymce.themes.modern.alien.UiContainer tinymce.themes.modern.api.Settings tinymce.themes.modern.ui.Toolbar".split(" "),
function(g,f,e,d,c,a,b,h,q){var n=f.DOM,p=function(a){return{left:a.x,top:a.y,width:a.w,height:a.h,right:a.x+a.w,bottom:a.y+a.h}},l=function(b){a.each(b.contextToolbars,function(a){a.panel&&a.panel.hide()})},w=function(a,b){a.moveTo(b.left,b.top)},v=function(b,h,c){h=h?h.substr(0,2):"";a.each({t:"down",b:"up"},function(a,e){b.classes.toggle("arrow-"+a,c(e,h.substr(0,1)))});a.each({l:"left",r:"right"},function(a,e){b.classes.toggle("arrow-"+a,c(e,h.substr(1,1)))})},m=function(a,b,h,c,e,d){d=p({x:b,
y:h,w:d.w,h:d.h});a&&(d=a({elementRect:p(c),contentAreaRect:p(e),panelRect:d}));return d};return{addContextualToolbars:function(f){var p,u=function(a){var b,h;b=n.getPos(f.getContentAreaContainer());a=f.dom.getRect(a);h=f.dom.getRoot();"BODY"===h.nodeName&&(a.x-=h.ownerDocument.documentElement.scrollLeft||h.scrollLeft,a.y-=h.ownerDocument.documentElement.scrollTop||h.scrollTop);a.x+=b.x;a.y+=b.y;return a},t=function(a,c){var d,q,g,t,p,s,x=h.getInlineToolbarPositionHandler(f);f.removed||(a&&a.toolbar.panel?
(d="bc-tc tc-bc tl-bl bl-tl tr-br br-tr".split(" "),p=a.toolbar.panel,c&&p.show(),g=u(a.element),q=n.getRect(p.getEl()),t=n.getRect(f.getContentAreaContainer()||f.getBody()),s=b.getUiContainerDelta().getOr({x:0,y:0}),g.x+=s.x,g.y+=s.y,q.x+=s.x,q.y+=s.y,t.x+=s.x,t.y+=s.y,"inline"!==n.getStyle(a.element,"display",!0)&&(s=a.element.getBoundingClientRect(),g.w=s.width,g.h=s.height),f.inline||(t.w=f.getDoc().documentElement.offsetWidth),f.selection.controlSelection.isResizable(a.element)&&25>g.w&&(g=e.inflate(g,
0,8)),d=e.findBestRelativePosition(q,g,t,d),g=e.clamp(g,t),d?(s=e.relativePosition(q,g,d),w(p,m(x,s.x,s.y,g,t,q))):(t.h+=q.h,(g=e.intersect(t,g))?(d=e.findBestRelativePosition(q,g,t,["bc-tc","bl-tl","br-tr"]))?(s=e.relativePosition(q,g,d),w(p,m(x,s.x,s.y,g,t,q))):w(p,m(x,g.x,g.y,g,t,q)):p.hide()),v(p,d,function(a,b){return a===b})):l(f))},y=function(a){return function(){c.requestAnimationFrame(function(){f.selection&&t(P(f.selection.getNode()),a)})}},x=function(){if(!p){var a=y(!0);p=f.selection.getScrollContainer()||
f.getWin();n.bind(p,"scroll",a);n.bind(g.container,"scroll",a);f.on("remove",function(){n.unbind(p,"scroll",a);n.unbind(g.container,"scroll",a)})}},z=function(a){var b;a.toolbar.panel?a.toolbar.panel.show():(x(),b=d.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:q.createToolbar(f,a.toolbar.items),oncancel:function(){f.focus()}}),a.toolbar.panel=
b,b.renderTo().reflow());t(a)},B=function(){a.each(f.contextToolbars||[],function(a){a.panel&&a.panel.hide()})},P=function(a){var b,h,c=f.contextToolbars||[];h=f.$(a).parents().add(a);for(a=h.length-1;0<=a;a--)for(b=c.length-1;0<=b;b--)if(c[b].predicate(h[a]))return{toolbar:c[b],element:h[a]};return null};f.on("click keyup setContent ObjectResized",function(a){("setcontent"!==a.type||a.selection)&&c.setEditorTimeout(f,function(){var a;(a=P(f.selection.getNode()))?(B(),z(a)):B()})});f.on("blur hide contextmenu",
B);f.on("ObjectResizeStart",function(){var a=P(f.selection.getNode());a&&a.toolbar.panel&&a.toolbar.panel.hide()});f.on("ResizeEditor ResizeWindow",y(!0));f.on("nodeChange",y(!1));f.on("remove",function(){a.each(f.contextToolbars||[],function(a){a.panel&&a.panel.remove()});f.contextToolbars={}});f.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var a=P(f.selection.getNode());a&&a.toolbar.panel&&a.toolbar.panel.items()[0].focus()})}}});A("global!String",String);k("ephox.katamari.api.Arr",
["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(g,f,e,d){var c=function(){var a=f.prototype.indexOf,b=function(b,h){return a.call(b,h)},h=function(a,b){var h;a:{h=0;for(var c=a.length;h<c;++h)if(a[h]===b)break a;h=-1}return h};return void 0===a?h:b}(),a=function(a,b){return-1<c(a,b)},b=function(a,b){for(var h=a.length,c=new f(h),d=0;d<h;d++)c[d]=b(a[d],d,a);return c},h=function(a,b){for(var h=0,c=a.length;h<c;h++)b(a[h],h,a)},q=function(a,b){for(var h=a.length-
1;0<=h;h--)b(a[h],h,a)},n=function(a,b){for(var h=[],c=0,d=a.length;c<d;c++){var e=a[c];b(e,c,a)&&h.push(e)}return h},p=function(a,b){for(var h=0,c=a.length;h<c;h++)if(b(a[h],h,a))return g.some(h);return g.none()},l=f.prototype.push,w=function(a){for(var b=[],h=0,c=a.length;h<c;++h){if(!f.prototype.isPrototypeOf(a[h]))throw new e("Arr.flatten item "+h+" was not an array, input: "+a);l.apply(b,a[h])}return b},v=function(a,b){for(var h=0,c=a.length;h<c;++h)if(!0!==b(a[h],h,a))return!1;return!0},m=f.prototype.slice;
return{map:b,each:h,eachr:q,partition:function(a,b){for(var h=[],c=[],d=0,e=a.length;d<e;d++){var q=a[d];(b(q,d,a)?h:c).push(q)}return{pass:h,fail:c}},filter:n,groupBy:function(a,b){if(0===a.length)return[];for(var h=b(a[0]),c=[],d=[],e=0,q=a.length;e<q;e++){var f=a[e],n=b(f);n!==h&&(c.push(d),d=[]);h=n;d.push(f)}0!==d.length&&c.push(d);return c},indexOf:function(a,b){var h=c(a,b);return-1===h?g.none():g.some(h)},foldr:function(a,b,h){q(a,function(a){h=b(h,a)});return h},foldl:function(a,b,c){h(a,
function(a){c=b(c,a)});return c},find:function(a,b){for(var h=0,c=a.length;h<c;h++){var d=a[h];if(b(d,h,a))return g.some(d)}return g.none()},findIndex:p,flatten:w,bind:function(a,h){var c=b(a,h);return w(c)},forall:v,exists:function(a,b){return p(a,b).isSome()},contains:a,equal:function(a,b){return a.length===b.length&&v(a,function(a,h){return a===b[h]})},reverse:function(a){a=m.call(a,0);a.reverse();return a},chunk:function(a,b){for(var h=[],c=0;c<a.length;c+=b){var d=a.slice(c,c+b);h.push(d)}return h},
difference:function(b,h){return n(b,function(b){return!a(h,b)})},mapToObject:function(a,b){for(var h={},c=0,e=a.length;c<e;c++){var q=a[c];h[d(q)]=b(q,c)}return h},pure:function(a){return[a]},sort:function(a,b){var h=m.call(a,0);h.sort(b);return h},range:function(a,b){for(var h=[],c=0;c<a;c++)h.push(b(c));return h},head:function(a){return 0===a.length?g.none():g.some(a[0])},last:function(a){return 0===a.length?g.none():g.some(a[a.length-1])}}});k("tinymce.themes.modern.ui.Menubar",["ephox.katamari.api.Arr",
"tinymce.core.util.Tools","tinymce.themes.modern.api.Settings"],function(g,f,e){var d={file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",
items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck"},table:{title:"Table"},help:{title:"Help"}},c=function(){return{name:"|",item:{text:"|"}}},a=function(a,b){var h=b?{name:a,item:b}:null;return"|"===a?c():h},b=function(a,b){return g.findIndex(a,function(a){return a.name===b}).isSome()},h=function(a,b){var h=g.filter(a,function(a){return!1===b.hasOwnProperty(a.name)}),
h=g.filter(h,function(a,b,h){return!(a&&"|"===a.item.text)||!(h[b-1]&&"|"===h[b-1].item.text)});return g.filter(h,function(a,b,h){return!(a&&"|"===a.item.text)||0<b&&b<h.length-1})},q=function(e,q,l,w){var v,m,r;q?(q=q[w],r=!0):q=d[w];return q&&(v={text:q.title},m=[],f.each((q.items||"").split(/[ ,]/),function(b){(b=a(b,e[b]))&&m.push(b)}),r||f.each(e,function(h,d){h.context!==w||b(m,d)||("before"===h.separator&&m.push(c()),h.prependToContext?m.unshift(a(d,h)):m.push(a(d,h)),"after"===h.separator&&
m.push(c()))}),v.menu=g.map(h(m,l),function(a){return a.item}),!v.menu.length)?null:v};return{createMenuButtons:function(a){var b=[],h,c=[],g=e.getMenu(a);if(g)for(h in g)c.push(h);else for(h in d)c.push(h);h=f.makeMap(e.getRemovedMenuItems(a).split(/[ ,]/));g=e.getMenubar(a);c="string"===typeof g?g.split(/[ ,]/):c;for(g=0;g<c.length;g++){var m=c[g];(m=q(a.menuItems,e.getMenu(a),h,m))&&b.push(m)}return b}}});k("tinymce.themes.modern.ui.Resize",["tinymce.core.dom.DOMUtils","tinymce.themes.modern.api.Events",
"tinymce.themes.modern.api.Settings"],function(g,f,e){var d=g.DOM,c=function(a,b,h){var c,g,p,l;p=a.getContainer();l=a.getContentAreaContainer().firstChild;g=p.clientWidth;c=l.clientWidth;null!==b&&(b=Math.max(e.getMinWidth(a),b),b=Math.min(e.getMaxWidth(a),b),d.setStyle(p,"width",b+(g-c)),d.setStyle(l,"width",b));h=Math.max(e.getMinHeight(a),h);h=Math.min(e.getMaxHeight(a),h);d.setStyle(l,"height",h);f.fireResizeEditor(a)};return{resizeTo:c,resizeBy:function(a,b,h){var d=a.getContentAreaContainer();
c(a,d.clientWidth+b,d.clientHeight+h)}}});k("tinymce.themes.modern.ui.Sidebar",["tinymce.core.Env","tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.themes.modern.api.Events"],function(g,f,e,d){var c=function(a){return{element:function(){return a}}},a=function(a,b,h){(a=a.settings[h])&&a(c(b.getEl("body")))},b=function(b,h,c){e.each(c,function(c){var d=h.items().filter("#"+c.name)[0];d&&d.visible()&&c.name!==b&&(a(c,d,"onhide"),d.visible(!1))})},h=function(a){a.items().each(function(a){a.active(!1)})},
q=function(a,b){return e.grep(a,function(a){return a.name===b})[0]},n=function(c,e,g){return function(n){n=n.control;var m=n.parents().filter("panel")[0],r=m.find("#"+e)[0],s=q(g,e);b(e,m,g);h(n.parent());r&&r.visible()?(a(s,r,"onhide"),r.hide(),n.active(!1)):(r?r.show():(r=f.create({type:"container",name:e,layout:"stack",classes:"sidebar-panel",html:""}),m.prepend(r),a(s,r,"onrender")),a(s,r,"onshow"),n.active(!0));d.fireResizeEditor(c)}};return{hasSidebar:function(a){return(!g.ie||11<=g.ie)&&a.sidebars?
0<a.sidebars.length:!1},createSidebar:function(a){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:e.map(a.sidebars,function(b){var h=b.settings;return{type:"button",icon:h.icon,image:h.image,tooltip:h.tooltip,onclick:n(a,b.name,a.sidebars)}})}]}}}});k("tinymce.themes.modern.ui.SkinLoaded",["tinymce.themes.modern.api.Events"],function(g){return{fireSkinLoaded:function(f){var e=function(){f._skinLoaded=!0;g.fireSkinLoaded(f)};
return function(){if(f.initialized)e();else f.on("init",e)}}}});k("tinymce.themes.modern.modes.Iframe","tinymce.core.dom.DOMUtils tinymce.core.ui.Factory tinymce.core.util.I18n tinymce.core.util.Tools tinymce.themes.modern.api.Events tinymce.themes.modern.api.Settings tinymce.themes.modern.ui.A11y tinymce.themes.modern.ui.ContextToolbars tinymce.themes.modern.ui.Menubar tinymce.themes.modern.ui.Resize tinymce.themes.modern.ui.Sidebar tinymce.themes.modern.ui.SkinLoaded tinymce.themes.modern.ui.Toolbar".split(" "),
function(g,f,e,d,c,a,b,h,q,n,p,l,w){var v=g.DOM,m=function(a){return function(b){a.find("*").disabled("readonly"===b.mode)}},r=function(a){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:a,html:""}};return{render:function(d,g,t){var y,x,z,B;!1===a.isSkinDisabled(d)&&t.skinUiCss?v.styleSheetLoader.load(t.skinUiCss,l.fireSkinLoaded(d)):l.fireSkinLoaded(d)();z=g.panel=f.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,
items:[{type:"container",classes:"top-part",items:[!1===a.hasMenubar(d)?null:{type:"menubar",border:"0 0 1 0",items:q.createMenuButtons(d)},w.createToolbars(d,a.getToolbarSize(d))]},p.hasSidebar(d)?{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[r("0"),p.createSidebar(d)]}:r("1 0 0 0")]});"none"!==a.getResize(d)&&(B={type:"resizehandle",direction:a.getResize(d),onResizeStart:function(){var a=d.getContentAreaContainer().firstChild;y=a.clientWidth;x=a.clientHeight},
onResize:function(b){"both"===a.getResize(d)?n.resizeTo(d,y+b.deltaX,x+b.deltaY):n.resizeTo(d,null,x+b.deltaY)}});a.hasStatusbar(d)&&(g=e.translate(["Powered by {0}",'<a href="https://www.tinymce.com/?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce" rel="noopener" target="_blank">tinymce</a>']),g=a.isBrandingEnabled(d)?{type:"label",classes:"branding",html:" "+g}:null,z.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",
editor:d},B,g]}));c.fireBeforeRenderUI(d);d.on("SwitchMode",m(z));z.renderBefore(t.targetNode).reflow();a.isReadOnly(d)&&d.setMode("readonly");t.width&&v.setStyle(z.getEl(),"width",t.width);d.on("remove",function(){z.remove();z=null});b.addKeys(d,z);h.addContextualToolbars(d);return{iframeContainer:z.find("#iframe")[0].getEl(),editorContainer:z.getEl()}}}});A("global!document",document);k("tinymce.core.dom.DomQuery",["global!tinymce.util.Tools.resolve"],function(g){return g("tinymce.dom.DomQuery")});
k("tinymce.ui.DomUtils",["global!document","tinymce.core.dom.DOMUtils","tinymce.core.Env","tinymce.core.util.Tools"],function(g,f,e,d){var c=0,a={id:function(){return"mceu_"+c++},create:function(a,h,c){var e=g.createElement(a);f.DOM.setAttribs(e,h);"string"===typeof c?e.innerHTML=c:d.each(c,function(a){a.nodeType&&e.appendChild(a)});return e},createFragment:function(a){return f.DOM.createFragment(a)},getWindowSize:function(){return f.DOM.getViewPort()},getSize:function(a){var h;if(a.getBoundingClientRect){var c=
a.getBoundingClientRect();h=Math.max(c.width||c.right-c.left,a.offsetWidth);a=Math.max(c.height||c.bottom-c.bottom,a.offsetHeight)}else h=a.offsetWidth,a=a.offsetHeight;return{width:h,height:a}},getPos:function(b,h){return f.DOM.getPos(b,h||a.getContainer())},getContainer:function(){return e.container?e.container:g.body},getViewPort:function(a){return f.DOM.getViewPort(a)},get:function(a){return g.getElementById(a)},addClass:function(a,h){return f.DOM.addClass(a,h)},removeClass:function(a,h){return f.DOM.removeClass(a,
h)},hasClass:function(a,h){return f.DOM.hasClass(a,h)},toggleClass:function(a,h,c){return f.DOM.toggleClass(a,h,c)},css:function(a,h,c){return f.DOM.setStyle(a,h,c)},getRuntimeStyle:function(a,h){return f.DOM.getStyle(a,h,!0)},on:function(a,h,c,d){return f.DOM.bind(a,h,c,d)},off:function(a,h,c){return f.DOM.unbind(a,h,c)},fire:function(a,h,c){return f.DOM.fire(a,h,c)},innerHtml:function(a,h){f.DOM.setHTML(a,h)}};return a});k("tinymce.ui.Movable",["global!document","global!window","tinymce.ui.DomUtils"],
function(g,f,e){function d(c,a,b){var h,d,f,p;f=e.getViewPort();h=e.getPos(a);d=h.x;h=h.y;c.state.get("fixed")&&"static"==e.getRuntimeStyle(g.body,"position")&&(d-=f.x,h-=f.y);c=c.getEl();p=e.getSize(c);c=p.width;f=p.height;p=e.getSize(a);a=p.width;p=p.height;b=(b||"").split("");"b"===b[0]&&(h+=p);"r"===b[1]&&(d+=a);"c"===b[0]&&(h+=Math.round(p/2));"c"===b[1]&&(d+=Math.round(a/2));"b"===b[3]&&(h-=f);"r"===b[4]&&(d-=c);"c"===b[3]&&(h-=Math.round(f/2));"c"===b[4]&&(d-=Math.round(c/2));return{x:d,y:h,
w:c,h:f}}return{testMoveRel:function(c,a){for(var b=e.getViewPort(),h=0;h<a.length;h++){var f=d(this,c,a[h]);if(this.state.get("fixed")){if(0<f.x&&f.x+f.w<b.w&&0<f.y&&f.y+f.h<b.h)return a[h]}else if(f.x>b.x&&f.x+f.w<b.w+b.x&&f.y>b.y&&f.y+f.h<b.h+b.y)return a[h]}return a[0]},moveRel:function(c,a){"string"!=typeof a&&(a=this.testMoveRel(c,a));var b=d(this,c,a);return this.moveTo(b.x,b.y)},moveBy:function(c,a){var b=this.layoutRect();this.moveTo(b.x+c,b.y+a);return this},moveTo:function(c,a){function b(a,
h,b){return 0>a?0:a+b>h?(a=h-b,0>a?0:a):a}if(this.settings.constrainToViewport){var h=e.getViewPort(f),d=this.layoutRect();c=b(c,h.w+h.x,d.w);a=b(a,h.h+h.y,d.h)}this.state.get("rendered")?this.layoutRect({x:c,y:a}).repaint():(this.settings.x=c,this.settings.y=a);this.fire("move",{x:c,y:a});return this}}});k("tinymce.core.util.Class",["global!tinymce.util.Tools.resolve"],function(g){return g("tinymce.util.Class")});k("tinymce.core.util.EventDispatcher",["global!tinymce.util.Tools.resolve"],function(g){return g("tinymce.util.EventDispatcher")});
k("tinymce.ui.BoxUtils",["global!document"],function(g){return{parseBox:function(f){var e;if(f){if("number"===typeof f)return f=f||0,{top:f,left:f,bottom:f,right:f};f=f.split(" ");e=f.length;1===e?f[1]=f[2]=f[3]=f[0]:2===e?(f[2]=f[0],f[3]=f[1]):3===e&&(f[3]=f[1]);return{top:parseInt(f[0],10)||0,right:parseInt(f[1],10)||0,bottom:parseInt(f[2],10)||0,left:parseInt(f[3],10)||0}}},measureBox:function(f,e){function d(a){var b=g.defaultView;return b?(a=a.replace(/[A-Z]/g,function(a){return"-"+a}),b.getComputedStyle(f,
null).getPropertyValue(a)):f.currentStyle[a]}function c(a){a=parseFloat(d(a),10);return isNaN(a)?0:a}return{top:c(e+"TopWidth"),right:c(e+"RightWidth"),bottom:c(e+"BottomWidth"),left:c(e+"LeftWidth")}}}});k("tinymce.ui.ClassList",["tinymce.core.util.Tools"],function(g){function f(){}function e(d){this.cls=[];this.cls._map={};this.onchange=d||f;this.prefix=""}g.extend(e.prototype,{add:function(d){d&&!this.contains(d)&&(this.cls._map[d]=!0,this.cls.push(d),this._change());return this},remove:function(d){if(this.contains(d)){for(var c=
0;c<this.cls.length&&this.cls[c]!==d;c++);this.cls.splice(c,1);delete this.cls._map[d];this._change()}return this},toggle:function(d,c){var a=this.contains(d);a!==c&&(a?this.remove(d):this.add(d),this._change());return this},contains:function(d){return!!this.cls._map[d]},_change:function(){delete this.clsValue;this.onchange.call(this)}});e.prototype.toString=function(){var d;if(this.clsValue)return this.clsValue;d="";for(var c=0;c<this.cls.length;c++)0<c&&(d+=" "),d+=this.prefix+this.cls[c];return d};
return e});k("tinymce.ui.Selector",["tinymce.core.util.Class"],function(g){function f(a){for(var b=[],c=a.length,d;c--;)d=a[c],d.__checked||(b.push(d),d.__checked=1);for(c=b.length;c--;)delete b[c].__checked;return b}var e=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=/^\s*|\s*$/g,a,b=g.extend({init:function(a){function b(a){if(a)return a=
a.toLowerCase(),function(h){return"*"===a||h.type===a}}function f(a){if(a)return function(h){return h._name===a}}function g(a){if(a)return a=a.split("."),function(h){for(var b=a.length;b--;)if(!h.classes.contains(a[b]))return!1;return!0}}function l(a,h,b){if(a)return function(c){c=c[a]?c[a]():"";return h?"="===h?c===b:"*="===h?0<=c.indexOf(b):"~="===h?0<=(" "+c+" ").indexOf(" "+b+" "):"!="===h?c!=b:"^="===h?0===c.indexOf(b):"$="===h?c.substr(c.length-b.length)===b:!1:!!b}}function w(a){var h;if(a){a=
/(?:not\((.+)\))|(.+)/i.exec(a);if(!a[1])return a=a[2],function(h,b,c){return"first"===a?0===b:"last"===a?b===c-1:"even"===a?0===b%2:"odd"===a?1===b%2:h[a]?h[a]():!1};h=m(a[1],[]);return function(a){return!r(a,h)}}}function v(a,h,d){function r(a){a&&h.push(a)}a=e.exec(a.replace(c,""));r(b(a[1]));r(f(a[2]));r(g(a[3]));r(l(a[4],a[5],a[6]));r(w(a[7]));h.pseudo=!!a[7];h.direct=d;return h}function m(a,h){var b=[],c,e;do if(d.exec(""),e=d.exec(a))if(a=e[3],b.push(e[1]),e[2]){c=e[3];break}while(e);c&&m(c,
h);a=[];for(c=0;c<b.length;c++)">"!=b[c]&&a.push(v(b[c],[],">"===b[c-1]));h.push(a);return h}var r=this.match;this._selectors=m(a,[])},match:function(a,b){var c,d,e,f,g,m,r,s,u,t,y,x;b=b||this._selectors;c=0;for(d=b.length;c<d;c++){g=b[c];f=g.length;x=a;y=0;for(e=f-1;0<=e;e--)for(s=g[e];x;){if(s.pseudo)for(m=x.parent().items(),u=t=m.length;u--&&m[u]!==x;);m=0;for(r=s.length;m<r;m++)if(!s[m](x,u,t)){m=r+1;break}if(m===r){y++;break}else if(e===f-1)break;x=x.parent()}if(y===f)return!0}return!1},find:function(h){function c(a,
h,b){var e,f,g,p,l,z=h[b];e=0;for(f=a.length;e<f;e++){l=a[e];g=0;for(p=z.length;g<p;g++)if(!z[g](l,e,f)){g=p+1;break}if(g===p)b==h.length-1?d.push(l):l.items&&c(l.items(),h,b+1);else if(z.direct)break;l.items&&c(l.items(),h,b)}}var d=[],e,g,w=this._selectors;if(h.items){e=0;for(g=w.length;e<g;e++)c(h.items(),w[e],0);1<g&&(d=f(d))}a||(a=b.Collection);return new a(d)}});return b});k("tinymce.ui.Collection",["tinymce.core.util.Tools","tinymce.ui.Selector","tinymce.core.util.Class"],function(g,f,e){var d,
c,a=Array.prototype.push,b=Array.prototype.slice;c={length:0,init:function(a){a&&this.add(a)},add:function(h){g.isArray(h)?a.apply(this,h):h instanceof d?this.add(h.toArray()):a.call(this,h);return this},set:function(a){var b=this.length;this.length=0;this.add(a);for(a=this.length;a<b;a++)delete this[a];return this},filter:function(a){var b,c,e=[],g,w;"string"===typeof a?(a=new f(a),w=function(b){return a.match(b)}):w=a;b=0;for(c=this.length;b<c;b++)g=this[b],w(g)&&e.push(g);return new d(e)},slice:function(){return new d(b.apply(this,
arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){g.each(this,a);return this},toArray:function(){return g.toArray(this)},indexOf:function(a){for(var b=this.length;b--&&this[b]!==a;);return b},reverse:function(){return new d(g.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].classes.contains(a):!1},prop:function(a,b){var c;if(void 0!==b)return this.each(function(c){if(c[a])c[a](b)}),this;if((c=this[0])&&c[a])return c[a]()},exec:function(a){var b=
g.toArray(arguments).slice(1);this.each(function(c){c[a]&&c[a].apply(c,b)});return this},remove:function(){for(var a=this.length;a--;)this[a].remove();return this},addClass:function(a){return this.each(function(b){b.classes.add(a)})},removeClass:function(a){return this.each(function(b){b.classes.remove(a)})}};g.each("fire on off show hide append prepend before after reflow".split(" "),function(a){c[a]=function(){var b=g.toArray(arguments);this.each(function(c){a in c&&c[a].apply(c,b)});return this}});
g.each("text name disabled active selected checked visible parent value data".split(" "),function(a){c[a]=function(b){return this.prop(a,b)}});d=e.extend(c);return f.Collection=d});k("tinymce.ui.data.Binding",[],function(){function g(f){this.create=f.create}g.create=function(f,e){return new g({create:function(d,c){function a(a){d.set(c,a.value)}var b;d.on("change:"+c,function(a){f.set(e,a.value)});f.on("change:"+e,a);b=d._bindings;b||(b=d._bindings=[],d.on("destroy",function(){for(var a=b.length;a--;)b[a]()}));
b.push(function(){f.off("change:"+e,a)});return f.get(e)}})};return g});k("tinymce.core.util.Observable",["global!tinymce.util.Tools.resolve"],function(g){return g("tinymce.util.Observable")});k("tinymce.ui.data.ObservableObject",["tinymce.ui.data.Binding","tinymce.core.util.Class","tinymce.core.util.Observable","tinymce.core.util.Tools"],function(g,f,e,d){function c(a,b){var h,e;if(a===b)return!0;if(null===a||null===b||"object"!==typeof a||"object"!==typeof b)return a===b;if(d.isArray(b)){if(a.length!==
b.length)return!1;for(h=a.length;h--;)if(!c(a[h],b[h]))return!1}if(0<a.nodeType||0<b.nodeType)return a===b;e={};for(h in b){if(!c(a[h],b[h]))return!1;e[h]=!0}for(h in a)if(!e[h]&&!c(a[h],b[h]))return!1;return!0}return f.extend({Mixins:[e],init:function(a){var b,c;a=a||{};for(b in a)c=a[b],c instanceof g&&(a[b]=c.create(this,b));this.data=a},set:function(a,b){var h,d=this.data[a];b instanceof g&&(b=b.create(this,a));if("object"===typeof a){for(h in a)this.set(h,a[h]);return this}c(d,b)||(this.data[a]=
b,h={target:this,name:a,value:b,oldValue:d},this.fire("change:"+a,h),this.fire("change",h));return this},get:function(a){return this.data[a]},has:function(a){return a in this.data},bind:function(a){return g.create(this,a)},destroy:function(){this.fire("destroy")}})});k("tinymce.ui.ReflowQueue",["global!document","tinymce.core.util.Delay"],function(g,f){var e={},d;return{add:function(c){(c=c.parent())&&c._layout&&!c._layout.isNative()&&(e[c._id]||(e[c._id]=c),d||(d=!0,f.requestAnimationFrame(function(){var a,
b;d=!1;for(a in e)b=e[a],b.state.get("rendered")&&b.reflow();e={}},g.body)))},remove:function(c){e[c._id]&&delete e[c._id]}}});k("tinymce.ui.Control","global!document tinymce.core.dom.DomQuery tinymce.core.util.Class tinymce.core.util.EventDispatcher tinymce.core.util.Tools tinymce.ui.BoxUtils tinymce.ui.ClassList tinymce.ui.Collection tinymce.ui.data.ObservableObject tinymce.ui.DomUtils tinymce.ui.ReflowQueue".split(" "),function(g,f,e,d,c,a,b,h,q,n,p){function l(a){a._eventDispatcher||(a._eventDispatcher=
new d({scope:a,toggleEvent:function(b,c){c&&d.isNative(b)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[b]=!0,a.state.get("rendered")&&w(a))}}));return a._eventDispatcher}function w(a){function b(c){var h=a.getParentCtrl(c.target);h&&h.fire(c.type,c)}function c(){var a=n._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(a){a.fire("mouseleave",{target:a.getEl()})}),n._lastHoverCtrl=null)}function h(b){var c=a.getParentCtrl(b.target);b=n._lastHoverCtrl;var d=
0,e,f;if(c!==b){n._lastHoverCtrl=c;f=c.parents().toArray().reverse();f.push(c);if(b){c=b.parents().toArray().reverse();c.push(b);for(d=0;d<c.length&&f[d]===c[d];d++);for(e=c.length-1;e>=d;e--)b=c[e],b.fire("mouseleave",{target:b.getEl()})}for(e=d;e<f.length;e++)c=f[e],c.fire("mouseenter",{target:c.getEl()})}}function d(b){b.preventDefault();"mousewheel"==b.type?(b.deltaY=-0.025*b.wheelDelta,b.wheelDeltaX&&(b.deltaX=-0.025*b.wheelDeltaX)):(b.deltaX=0,b.deltaY=b.detail);a.fire("wheel",b)}var e,g,q,
n,p,l;if(p=a._nativeEvents){q=a.parents().toArray();q.unshift(a);e=0;for(g=q.length;!n&&e<g;e++)n=q[e]._eventsRoot;n||(n=q[q.length-1]||a);a._eventsRoot=n;g=e;for(e=0;e<g;e++)q[e]._eventsRoot=n;e=n._delegates;e||(e=n._delegates={});for(l in p){if(!p)return!1;if("wheel"!==l||m)"mouseenter"===l||"mouseleave"===l?n._hasMouseEnter||(f(n.getEl()).on("mouseleave",c).on("mouseover",h),n._hasMouseEnter=1):e[l]||(f(n.getEl()).on(l,b),e[l]=!0),p[l]=!1;else if(v)f(a.getEl()).on("mousewheel",d);else f(a.getEl()).on("DOMMouseScroll",
d)}}}var v="onmousewheel"in g,m=!1,r,s=0,u={Statics:{classPrefix:"mce-"},isRtl:function(){return r.rtl},classPrefix:"mce-",init:function(h){function d(a){var b;a=a.split(" ");for(b=0;b<a.length;b++)e.classes.add(a[b])}var e=this,g,n;e.settings=h=c.extend({},e.Defaults,h);e._id=h.id||"mceu_"+s++;e._aria={role:h.role};e._elmCache={};e.$=f;e.state=new q({visible:!0,active:!1,disabled:!1,value:""});e.data=new q(h.data);e.classes=new b(function(){e.state.get("rendered")&&(e.getEl().className=this.toString())});
e.classes.prefix=e.classPrefix;if(g=h.classes)e.Defaults&&(n=e.Defaults.classes)&&g!=n&&d(n),d(g);c.each("title text name visible disabled active value".split(" "),function(a){if(a in h)e[a](h[a])});e.on("click",function(){if(e.disabled())return!1});e.settings=h;e.borderBox=a.parseBox(h.border);e.paddingBox=a.parseBox(h.padding);e.marginBox=a.parseBox(h.margin);h.hidden&&e.hide()},Properties:"parent,name",getContainerElm:function(){return n.getContainer()},getParentCtrl:function(a){for(var b,c=this.getRoot().controlIdLookup;a&&
c&&!(b=c[a.id]);)a=a.parentNode;return b},initLayoutRect:function(){var b=this.settings,c,h=this.getEl(),d,e,f,g,q,p;c=this.borderBox=this.borderBox||a.measureBox(h,"border");this.paddingBox=this.paddingBox||a.measureBox(h,"padding");this.marginBox=this.marginBox||a.measureBox(h,"margin");d=n.getSize(h);q=b.minWidth;p=b.minHeight;h=q||d.width;f=p||d.height;d=b.width;e=b.height;g=b.autoResize;g="undefined"!=typeof g?g:!d&&!e;d=d||h;e=e||f;var l=c.left+c.right;c=c.top+c.bottom;var r=b.maxWidth||65535,
w=b.maxHeight||65535;this._layoutRect=b={x:b.x||0,y:b.y||0,w:d,h:e,deltaW:l,deltaH:c,contentW:d-l,contentH:e-c,innerW:d-l,innerH:e-c,startMinWidth:q||0,startMinHeight:p||0,minW:Math.min(h,r),minH:Math.min(f,w),maxW:r,maxH:w,autoResize:g,scrollW:0};this._lastLayoutRect={};return b},layoutRect:function(a){var b=this._layoutRect,c,h,d;b||(b=this.initLayoutRect());if(a){h=b.deltaW;d=b.deltaH;void 0!==a.x&&(b.x=a.x);void 0!==a.y&&(b.y=a.y);void 0!==a.minW&&(b.minW=a.minW);void 0!==a.minH&&(b.minH=a.minH);
c=a.w;void 0!==c&&(c=c<b.minW?b.minW:c,c=c>b.maxW?b.maxW:c,b.w=c,b.innerW=c-h);c=a.h;void 0!==c&&(c=c<b.minH?b.minH:c,c=c>b.maxH?b.maxH:c,b.h=c,b.innerH=c-d);c=a.innerW;void 0!==c&&(c=c<b.minW-h?b.minW-h:c,c=c>b.maxW-h?b.maxW-h:c,b.innerW=c,b.w=c+h);c=a.innerH;void 0!==c&&(c=c<b.minH-d?b.minH-d:c,c=c>b.maxH-d?b.maxH-d:c,b.innerH=c,b.h=c+d);void 0!==a.contentW&&(b.contentW=a.contentW);void 0!==a.contentH&&(b.contentH=a.contentH);a=this._lastLayoutRect;if(a.x!==b.x||a.y!==b.y||a.w!==b.w||a.h!==b.h)(c=
r.repaintControls)&&c.map&&!c.map[this._id]&&(c.push(this),c.map[this._id]=!0),a.x=b.x,a.y=b.y,a.w=b.w,a.h=b.h;return this}return b},repaint:function(){var a,b,c,h,d,e,f,q;q=g.createRange?function(a){return a}:Math.round;a=this.getEl().style;h=this._layoutRect;f=this._lastRepaintRect||{};d=this.borderBox;e=d.left+d.right;d=d.top+d.bottom;h.x!==f.x&&(a.left=q(h.x)+"px",f.x=h.x);h.y!==f.y&&(a.top=q(h.y)+"px",f.y=h.y);h.w!==f.w&&(e=q(h.w-e),a.width=(0<=e?e:0)+"px",f.w=h.w);h.h!==f.h&&(e=q(h.h-d),a.height=
(0<=e?e:0)+"px",f.h=h.h);if(this._hasBody&&h.innerW!==f.innerW){e=q(h.innerW);if(c=this.getEl("body"))b=c.style,b.width=(0<=e?e:0)+"px";f.innerW=h.innerW}if(this._hasBody&&h.innerH!==f.innerH){e=q(h.innerH);if(c=c||this.getEl("body"))b=b||c.style,b.height=(0<=e?e:0)+"px";f.innerH=h.innerH}this._lastRepaintRect=f;this.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null;n.css(this.getEl(),{width:"",height:""});this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null;
this.initLayoutRect()},on:function(a,b){var c=this;l(c).on(a,function(a){var b,h;return"string"!=typeof a?a:function(d){b||c.parentsAndSelf().each(function(c){var d=c.settings.callbacks;if(d&&(b=d[a]))return h=c,!1});if(b)return b.call(h,d);d.action=a;this.fire("execute",d)}}(b));return c},off:function(a,b){l(this).off(a,b);return this},fire:function(a,b,c){b=b||{};b.control||(b.control=this);b=l(this).fire(a,b);if(!1!==c&&this.parent)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),
c=c.parent();return b},hasEventListeners:function(a){return l(this).has(a)},parents:function(a){var b,c=new h;for(b=this.parent();b;b=b.parent())c.add(b);a&&(c=c.filter(a));return c},parentsAndSelf:function(a){return(new h(this)).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},innerHtml:function(a){this.$el.html(a);return this},getEl:function(a){a=a?this._id+"-"+a:this._id;this._elmCache[a]||
(this._elmCache[a]=f("#"+a)[0]);return this._elmCache[a]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){this.getEl().blur();return this},aria:function(a,b){var c=this.getEl(this.ariaTarget);if("undefined"===typeof b)return this._aria[a];this._aria[a]=b;this.state.get("rendered")&&c.setAttribute("role"==a?a:"aria-"+a,b);return this},encode:function(a,b){!1!==b&&(a=this.translate(a));
return(a||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},translate:function(a){return r.translate?r.translate(a):a},before:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this),!0);return this},after:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this));return this},remove:function(){var a=this,b=a.getEl(),c=a.parent(),h,d;if(a.items){var e=a.items().toArray();for(d=e.length;d--;)e[d].remove()}c&&c.items&&(h=[],c.items().each(function(b){b!==a&&
h.push(b)}),c.items().set(h),c._lastRect=null);a._eventsRoot&&a._eventsRoot==a&&f(b).off();(c=a.getRoot().controlIdLookup)&&delete c[a._id];b&&b.parentNode&&b.parentNode.removeChild(b);a.state.set("rendered",!1);a.state.destroy();a.fire("remove");return a},renderBefore:function(a){f(a).before(this.renderHtml());this.postRender();return this},renderTo:function(a){f(a||this.getContainerElm()).append(this.renderHtml());this.postRender();return this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+
this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var a=this,b=a.settings,c,h,d;a.$el=f(a.getEl());a.state.set("rendered",!0);for(h in b)if(0===h.indexOf("on"))a.on(h.substr(2),b[h]);if(a._eventsRoot){for(c=a.parent();!d&&c;c=c.parent())d=c._eventsRoot;if(d)for(h in d._nativeEvents)a._nativeEvents[h]=!0}w(a);b.style&&(c=a.getEl())&&(c.setAttribute("style",b.style),c.style.cssText=b.style);a.settings.border&&(b=a.borderBox,a.$el.css({"border-top-width":b.top,"border-right-width":b.right,
"border-bottom-width":b.bottom,"border-left-width":b.left}));b=a.getRoot();b.controlIdLookup||(b.controlIdLookup={});b.controlIdLookup[a._id]=a;for(var e in a._aria)a.aria(e,a._aria[e]);!1===a.state.get("visible")&&(a.getEl().style.display="none");a.bindStates();a.state.on("change:visible",function(b){b=b.value;var c;a.state.get("rendered")&&(a.getEl().style.display=!1===b?"none":"",a.getEl().getBoundingClientRect());if(c=a.parent())c._lastRect=null;a.fire(b?"show":"hide");p.add(a)});a.fire("postrender",
{},!1)},bindStates:function(){},scrollIntoView:function(a){var b=this.getEl(),c=b.parentNode,h,d,e,f,g;e=b;for(h=d=0;e&&e!=c&&e.nodeType;)h+=e.offsetLeft||0,d+=e.offsetTop||0,e=e.offsetParent;e=b.offsetWidth;b=b.offsetHeight;f=c.clientWidth;g=c.clientHeight;"end"==a?(h-=f-e,d-=g-b):"center"==a&&(h-=f/2-e/2,d-=g/2-b/2);c.scrollLeft=h;c.scrollTop=d;return this},getRoot:function(){for(var a=this,b,c=[];a;){if(a.rootControl){b=a.rootControl;break}c.push(a);b=a;a=a.parent()}b||(b=this);for(a=c.length;a--;)c[a].rootControl=
b;return b},reflow:function(){p.remove(this);var a=this.parent();a&&a._layout&&!a._layout.isNative()&&a.reflow();return this}};c.each("text title visible disabled active value".split(" "),function(a){u[a]=function(b){if(0===arguments.length)return this.state.get(a);"undefined"!=typeof b&&this.state.set(a,b);return this}});return r=e.extend(u)});k("tinymce.ui.KeyboardNavigation",["global!document"],function(g){return function(f){function e(a){return(a=a||u)&&1===a.nodeType?a.getAttribute("role"):null}
function d(a){for(var b=a||u;b=b.parentNode;)if(a=e(b))return a}function c(a){var b=u;if(b&&1===b.nodeType)return b.getAttribute("aria-"+a)}function a(a){a=a.tagName.toUpperCase();return"INPUT"==a||"TEXTAREA"==a||"SELECT"==a}function b(b){function c(b){if(1==b.nodeType&&"none"!=b.style.display&&!b.disabled){(a(b)&&!b.hidden||b.getAttribute("data-mce-tabstop")||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(e(b)))&&h.push(b);for(var d=0;d<b.childNodes.length;d++)c(b.childNodes[d])}}
var h=[];c(b||s.getEl());return h}function h(a){var b,c;a=a||t;c=a.parents().toArray();c.unshift(a);for(a=0;a<c.length&&(b=c[a],!b.settings.ariaRoot);a++);return b}function q(a,b){0>a?a=b.length-1:a>=b.length&&(a=0);b[a]&&b[a].focus();return a}function n(a,c){var d=-1,e=h();c=c||b(e.getEl());for(var f=0;f<c.length;f++)c[f]===u&&(d=f);e.lastAriaIndex=q(d+a,c)}function p(){"tablist"==d()?n(-1,b(u.parentNode)):t.parent().submenu?t.fire("cancel"):n(-1)}function l(){var a=e(),h=d();"tablist"==h?n(1,b(u.parentNode)):
"menuitem"==a&&"menu"==h&&c("haspopup")?r():n(1)}function w(){n(-1)}function v(){var a=e(),b=d();"menuitem"==a&&"menubar"==b?r():"button"==a&&c("haspopup")?r({key:"down"}):n(1)}function m(a){"tablist"==d()?(a=b(t.getEl("body"))[0])&&a.focus():n(a.shiftKey?-1:1)}function r(a){a=a||{};t.fire("click",{target:u,aria:a})}var s=f.root,u,t;try{u=g.activeElement}catch(k){u=g.body}t=s.getParentCtrl(u);s.on("keydown",function(b){function c(b,h){a(u)||u.getAttribute("data-mce-tabstop")||"slider"!==e(u)&&!1!==
h(b)&&b.preventDefault()}if(!b.isDefaultPrevented())switch(b.keyCode){case 37:c(b,p);break;case 39:c(b,l);break;case 38:c(b,w);break;case 40:c(b,v);break;case 27:t.fire("cancel");break;case 14:case 13:case 32:c(b,r);break;case 9:!1!==m(b)&&b.preventDefault()}});s.on("focusin",function(a){u=a.target;t=a.control});return{focusFirst:function(a){a=h(a);var c=b(a.getEl());a.settings.ariaRemember&&"lastAriaIndex"in a?q(a.lastAriaIndex,c):q(0,c)}}}});k("tinymce.ui.Container","tinymce.ui.Control tinymce.ui.Collection tinymce.ui.Selector tinymce.core.ui.Factory tinymce.ui.KeyboardNavigation tinymce.core.util.Tools tinymce.core.dom.DomQuery tinymce.ui.ClassList tinymce.ui.ReflowQueue".split(" "),
function(g,f,e,d,c,a,b,h,q){var n={};return g.extend({init:function(a){var b=this;b._super(a);a=b.settings;a.fixed&&b.state.set("fixed",!0);b._items=new f;b.isRtl()&&b.classes.add("rtl");b.bodyClasses=new h(function(){b.state.get("rendered")&&(b.getEl("body").className=this.toString())});b.bodyClasses.prefix=b.classPrefix;b.classes.add("container");b.bodyClasses.add("container-body");a.containerCls&&b.classes.add(a.containerCls);b._layout=d.create((a.layout||"")+"layout");b.settings.items?b.add(b.settings.items):
b.add(b.render());b._hasBody=!0},items:function(){return this._items},find:function(a){a=n[a]=n[a]||new e(a);return a.find(this)},add:function(a){this.items().add(this.create(a)).parent(this);return this},focus:function(a){var b;if(a&&(a=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)){a.focusFirst(this);return}a=this.find("*");this.statusbar&&a.add(this.statusbar.items());a.each(function(a){if(a.settings.autofocus)return b=null,!1;a.canFocus&&(b=b||a)});b&&b.focus();return this},replace:function(a,
b){var c;c=this.items();for(var h=c.length;h--;)if(c[h]===a){c[h]=b;break}0<=h&&((c=b.getEl())&&c.parentNode.removeChild(c),(c=a.getEl())&&c.parentNode.removeChild(c));b.parent(this)},create:function(b){var c=this,h,e=[];a.isArray(b)||(b=[b]);a.each(b,function(b){b&&(b instanceof g||("string"==typeof b&&(b={type:b}),h=a.extend({},c.settings.defaults,b),b.type=h.type=h.type||b.type||c.settings.defaultType||(h.defaults?h.defaults.type:null),b=d.create(h)),e.push(b))});return e},renderNew:function(){var a=
this;a.items().each(function(c,h){var d;c.parent(a);c.state.get("rendered")||(d=a.getEl("body"),d.hasChildNodes()&&h<=d.childNodes.length-1?b(d.childNodes[h]).before(c.renderHtml()):b(d).append(c.renderHtml()),c.postRender(),q.add(c))});a._layout.applyClasses(a.items().filter(":visible"));a._lastRect=null;return a},append:function(a){return this.add(a).renderNew()},prepend:function(a){this.items().set(this.create(a).concat(this.items().toArray()));return this.renderNew()},insert:function(a,b,c){var h;
a=this.create(a);h=this.items();!c&&b<h.length-1&&(b+=1);0<=b&&b<h.length&&(c=h.slice(0,b).toArray(),b=h.slice(b).toArray(),h.set(c.concat(a,b)));return this.renderNew()},fromJSON:function(a){for(var b in a)this.find("#"+b).value(a[b]);return this},toJSON:function(){var a={};this.find("*").each(function(b){var c=b.name();b=b.value();c&&"undefined"!=typeof b&&(a[c]=b)});return a},renderHtml:function(){var a=this._layout,b=this.settings.role;this.preRender();a.preRender(this);return'<div id="'+this._id+
'" class="'+this.classes+'"'+(b?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+a.renderHtml(this)+"</div></div>"},postRender:function(){var a;this.items().exec("postRender");this._super();this._layout.postRender(this);this.state.set("rendered",!0);this.settings.style&&this.$el.css(this.settings.style);this.settings.border&&(a=this.borderBox,this.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,
"border-left-width":a.left}));this.parent()||(this.keyboardNav=new c({root:this}));return this},initLayoutRect:function(){var a=this._super();this._layout.recalc(this);return a},recalc:function(){var a=this._layoutRect,b=this._lastRect;if(!b||b.w!=a.w||b.h!=a.h)return this._layout.recalc(this),a=this.layoutRect(),this._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0},reflow:function(){var a;q.remove(this);if(this.visible()){g.repaintControls=[];g.repaintControls.map={};this.recalc();for(a=g.repaintControls.length;a--;)g.repaintControls[a].repaint();
"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint();g.repaintControls=[]}return this}})});k("tinymce.ui.DragHelper",["global!document","global!window","tinymce.core.dom.DomQuery"],function(g,f,e){function d(c){var a,b;if(c.changedTouches)for(a="screenX screenY pageX pageY clientX clientY".split(" "),b=0;b<a.length;b++)c[a[b]]=c.changedTouches[0][a[b]]}return function(c,a){var b,h=a.document||g,q,n,p,l,w;a=a||{};p=function(b){d(b);if(b.button!==q)return n(b);b.deltaX=b.screenX-
l;b.deltaY=b.screenY-w;b.preventDefault();a.drag(b)};n=function(c){d(c);e(h).off("mousemove touchmove",p).off("mouseup touchend",n);b.remove();a.stop&&a.stop(c)};this.destroy=function(){e(h.getElementById(a.handle||c)).off()};e(h.getElementById(a.handle||c)).on("mousedown touchstart",function(g){var m,r,s,u,t,k,x,z=Math.max;s=h.documentElement;u=h.body;m=z(s.scrollWidth,u.scrollWidth);t=z(s.clientWidth,u.clientWidth);k=z(s.offsetWidth,u.offsetWidth);r=z(s.scrollHeight,u.scrollHeight);x=z(s.clientHeight,
u.clientHeight);s=z(s.offsetHeight,u.offsetHeight);m=m<k?t:m;r=r<s?x:r;d(g);g.preventDefault();q=g.button;x=h.getElementById(a.handle||c);l=g.screenX;w=g.screenY;x=f.getComputedStyle?f.getComputedStyle(x,null).getPropertyValue("cursor"):x.runtimeStyle.cursor;b=e("<div></div>").css({position:"absolute",top:0,left:0,width:m,height:r,zIndex:2147483647,opacity:1E-4,cursor:x}).appendTo(h.body);e(h).on("mousemove touchmove",p).on("mouseup touchend",n);a.start(g)})}});k("tinymce.ui.Scrollable",["tinymce.core.dom.DomQuery",
"tinymce.ui.DragHelper"],function(g,f){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function e(){function b(b,e,f,n,m,r){var s,u,t;if(s=c.getEl("scroll"+b))u=e.toLowerCase(),t=f.toLowerCase(),g(c.getEl("absend")).css(u,c.layoutRect()[n]-1),m?(g(s).css("display","block"),n=c.getEl("body"),b=c.getEl("scroll"+b+"t"),m=n["client"+f]-2*a,m-=h&&d?s["client"+r]:0,f=n["scroll"+f],f=m/f,r={},r[u]=n["offset"+e]+a,r[t]=m,g(s).css(r),r={},r[u]=n["scroll"+e]*f,r[t]=m*f,
g(b).css(r)):g(s).css("display","none")}var h,d,e;e=c.getEl("body");h=e.scrollWidth>e.clientWidth;d=e.scrollHeight>e.clientHeight;b("h","Left","Width","contentW",h,"Height");b("v","Top","Height","contentH",d,"Width")}function d(){function b(b,d,e,p,l){var w,k=c._id+"-scroll"+b,m=c.classPrefix;g(c.getEl()).append('<div id="'+k+'" class="'+m+"scrollbar "+m+"scrollbar-"+b+'"><div id="'+k+'t" class="'+m+'scrollbar-thumb"></div></div>');c.draghelper=new f(k+"t",{start:function(){w=c.getEl("body")["scroll"+
d];g("#"+k).addClass(m+"active")},drag:function(f){var g,m,t;m=c.layoutRect();g=m.contentW>m.innerW;m=m.contentH>m.innerH;t=c.getEl("body")["client"+e]-2*a;t-=g&&m?c.getEl("scroll"+b)["client"+l]:0;g=t/c.getEl("body")["scroll"+e];c.getEl("body")["scroll"+d]=w+f["delta"+p]/g},stop:function(){g("#"+k).removeClass(m+"active")}})}c.classes.add("scroll");b("v","Top","Height","Y","Width");b("h","Left","Width","X","Height")}var c=this,a=2;c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,d(),c.on("wheel",
function(a){var h=c.getEl("body");h.scrollLeft+=10*(a.deltaX||0);h.scrollTop+=10*a.deltaY;e()}),g(c.getEl("body")).on("scroll",e)),e())}}});k("tinymce.ui.Panel",["tinymce.ui.Container","tinymce.ui.Scrollable"],function(g,f){return g.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[f],renderHtml:function(){var e=this._layout,d=this.settings.html;this.preRender();e.preRender(this);"undefined"==typeof d?d='<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+e.renderHtml(this)+"</div>":
("function"==typeof d&&(d=d.call(this)),this._hasBody=!1);return'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+d+"</div>"}})});k("tinymce.ui.Resizable",["tinymce.ui.DomUtils"],function(g){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(f,e){if(1>=f||1>=e){var d=g.getWindowSize();f=1>=f?f*d.w:f;e=1>=e?e*d.h:e}this._layoutRect.autoResize=!1;return this.layoutRect({minW:f,
minH:e,w:f,h:e}).reflow()},resizeBy:function(f,e){var d=this.layoutRect();return this.resizeTo(d.w+f,d.h+e)}}});k("tinymce.ui.FloatPanel","global!document global!window tinymce.core.dom.DomQuery tinymce.core.util.Delay tinymce.ui.DomUtils tinymce.ui.Movable tinymce.ui.Panel tinymce.ui.Resizable".split(" "),function(g,f,e,d,c,a,b,h){function q(){m||(m=function(a){if(2!=a.button)for(var b=u.length;b--;){var c=u[b],h=c.getParentCtrl(a.target);if(c.settings.autohide){var d;if(d=h){a:{d=h;for(var e=c;d;){if(d==
e){d=!0;break a}d=d.parent()}d=void 0}d=d||c.parent()===h}d||(a=c.fire("autohide",{target:a.target}),a.isDefaultPrevented()||c.hide())}}},e(g).on("click touchstart",m))}function n(){r||(r=function(){var a;for(a=u.length;a--;)l(u[a])},e(f).on("scroll",r))}function p(){if(!s){var a=g.documentElement,b=a.clientWidth,c=a.clientHeight;s=function(){g.all&&b==a.clientWidth&&c==a.clientHeight||(b=a.clientWidth,c=a.clientHeight,x.hideAll())};e(f).on("resize",s)}}function l(a){function b(c,h){for(var d,e=0;e<
u.length;e++)if(u[e]!=a)for(d=u[e].parent();d&&(d=d.parent());)d==a&&u[e].fixed(c).moveBy(0,h).repaint()}var h=c.getViewPort().y;a.settings.autofix&&(a.state.get("fixed")?a._autoFixY>h&&(a.fixed(!1).layoutRect({y:a._autoFixY}).repaint(),b(!1,a._autoFixY-h)):(a._autoFixY=a.layoutRect().y,a._autoFixY<h&&(a.fixed(!0).layoutRect({y:0}).repaint(),b(!0,h-a._autoFixY))))}function w(a,b){var c,h=(x.zIndex||65535)+(zenarioAB.isOpen?3E5:0),d;if(a)t.push(b);else for(c=t.length;c--;)t[c]===b&&t.splice(c,1);if(t.length)for(c=
0;c<t.length;c++)t[c].modal&&(h++,d=t[c]),t[c].getEl().style.zIndex=h,t[c].zIndex=h,h++;c=e("#"+b.classPrefix+"modal-block",b.getContainerElm())[0];d?e(c).css("z-index",d.zIndex-1):c&&(c.parentNode.removeChild(c),y=!1);x.currentZIndex=h}function k(a){var b;for(b=u.length;b--;)u[b]===a&&u.splice(b,1);for(b=t.length;b--;)t[b]===a&&t.splice(b,1)}var m,r,s,u=[],t=[],y,x=b.extend({Mixins:[a,h],init:function(a){var b=this;b._super(a);b._eventsRoot=b;b.classes.add("floatpanel");a.autohide&&(q(),p(),u.push(b));
a.autofix&&(n(),b.on("move",function(){l(this)}));b.on("postrender show",function(a){if(a.control==b){var c,h=b.classPrefix;b.modal&&!y&&(c=e("#"+h+"modal-block",b.getContainerElm()),c[0]||(c=e('<div id="'+h+'modal-block" class="'+h+"reset "+h+'fade"></div>').appendTo(b.getContainerElm())),d.setTimeout(function(){c.addClass(h+"in");e(b.getEl()).addClass(h+"in")}),y=!0);w(!0,b)}});b.on("show",function(){b.parents().each(function(a){if(a.state.get("fixed"))return b.fixed(!0),!1})});a.popover&&(b._preBodyHtml=
'<div class="'+b.classPrefix+'arrow"></div>',b.classes.add("popover").add("bottom").add(b.isRtl()?"end":"start"));b.aria("label",a.ariaLabel);b.aria("labelledby",b._id);b.aria("describedby",b.describedBy||b._id+"-none")},fixed:function(a){if(this.state.get("fixed")!=a){if(this.state.get("rendered")){var b=c.getViewPort();a?this.layoutRect().y-=b.y:this.layoutRect().y+=b.y}this.classes.toggle("fixed",a);this.state.set("fixed",a)}return this},show:function(){var a,b=this._super();for(a=u.length;a--&&
u[a]!==this;);-1===a&&u.push(this);return b},hide:function(){k(this);w(!1,this);return this._super()},hideAll:function(){x.hideAll()},close:function(){this.fire("close").isDefaultPrevented()||(this.remove(),w(!1,this));return this},remove:function(){k(this);this._super()},postRender:function(){this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole);return this._super()}});x.hideAll=function(){for(var a=u.length;a--;){var b=u[a];b&&b.settings.autohide&&(b.hide(),u.splice(a,
1))}};return x});k("tinymce.themes.modern.modes.Inline","global!document tinymce.core.Env tinymce.core.dom.DOMUtils tinymce.core.ui.Factory tinymce.themes.modern.api.Events tinymce.themes.modern.api.Settings tinymce.themes.modern.ui.A11y tinymce.themes.modern.ui.ContextToolbars tinymce.themes.modern.ui.Menubar tinymce.themes.modern.ui.SkinLoaded tinymce.themes.modern.ui.Toolbar tinymce.ui.FloatPanel".split(" "),function(g,f,e,d,c,a,b,h,q,n,p,l){return{render:function(g,k,m){var r,s,u=e.DOM,t=a.getFixedToolbarContainer(g);
t&&(s=u.select(t)[0]);var y=function(){if(r&&r.moveRel&&r.visible()&&!r._fixed){var a=g.selection.getScrollContainer(),b=g.getBody(),c=0,h=0;a&&(h=u.getPos(b),a=u.getPos(a),c=Math.max(0,a.x-h.x),h=Math.max(0,a.y-h.y));r.fixed(!1).moveRel(b,g.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(c,h)}},x=function(){r&&(r.show(),y(),u.addClass(g.getBody(),"mce-edit-focus"))},z=function(){r&&(r.hide(),l.hideAll(),u.removeClass(g.getBody(),"mce-edit-focus"))},B=function(){r?r.visible()||x():(r=k.panel=
d.create({type:s?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!(!s||f.container),fixed:!(!s||f.container),border:1,items:[!1===a.hasMenubar(g)?null:{type:"menubar",border:"0 0 1 0",items:q.createMenuButtons(g)},p.createToolbars(g,a.getToolbarSize(g))]}),c.fireBeforeRenderUI(g),s?r.renderTo(s).reflow():r.renderTo().reflow(),b.addKeys(g,r),x(),h.addContextualToolbars(g),g.on("nodeChange",y),g.on("activate",
x),g.on("deactivate",z),g.nodeChanged())};g.settings.content_editable=!0;g.on("focus",function(){!1===a.isSkinDisabled(g)&&m.skinUiCss?u.styleSheetLoader.load(m.skinUiCss,B,B):B()});g.on("blur hide",z);g.on("remove",function(){r&&(r.remove(),r=null)});!1===a.isSkinDisabled(g)&&m.skinUiCss?u.styleSheetLoader.load(m.skinUiCss,n.fireSkinLoaded(g)):n.fireSkinLoaded(g)();return{}}}});k("tinymce.themes.modern.modes.ZenarioInlineUI","tinymce.core.dom.DOMUtils tinymce.core.ui.Factory tinymce.core.util.Tools tinymce.themes.modern.ui.A11y tinymce.themes.modern.ui.ContextToolbars tinymce.themes.modern.ui.Menubar tinymce.themes.modern.ui.Resize tinymce.themes.modern.ui.Sidebar tinymce.themes.modern.ui.SkinLoaded tinymce.themes.modern.ui.Toolbar".split(" "),
function(g,f,e,d,c,a,b,h,q,n){var p=g.DOM,l=function(a){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:a,html:""}};return{render:function(b,c,e){var g=b.settings;zenario.getContainerIdFromEl(e.targetNode);var s=document.getElementById("zenario_at_toolbars");e.skinUiCss&&p.styleSheetLoader.load(e.skinUiCss,q.fireSkinLoaded(b));c=c.panel=f.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===g.menubar?null:
{type:"menubar",border:"0 0 1 0",items:a.createMenuButtons(b)},n.createToolbars(b,g.toolbar_items_size),h.hasSidebar(b)?{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[l("0"),h.createSidebar(b)]}:l("1 0 0 0")]});b.fire("BeforeRenderUI");s.innerHTML="";c.renderTo(s).reflow();d.addKeys(b,c);g.content_editable=!0;return{}}}});k("tinymce.ui.Throbber",["tinymce.core.dom.DomQuery","tinymce.ui.Control","tinymce.core.util.Delay"],function(g,f,e){return function(d,c){var a=
this,b,h=f.classPrefix,q;a.show=function(f,p){function l(){b&&(g(d).append('<div class="'+h+"throbber"+(c?" "+h+"throbber-inline":"")+'"></div>'),p&&p())}a.hide();b=!0;f?q=e.setTimeout(l,f):l();return a};a.hide=function(){var c=d.lastChild;e.clearTimeout(q);c&&-1!=c.className.indexOf("throbber")&&c.parentNode.removeChild(c);b=!1;return a}}});k("tinymce.themes.modern.ui.ProgressState",["tinymce.ui.Throbber"],function(g){return{setup:function(f,e){var d;f.on("ProgressState",function(c){d=d||new g(e.panel.getEl("body"));
c.state?d.show(c.time):d.hide()})}}});k("tinymce.themes.modern.ui.Render",["tinymce.themes.modern.api.Settings","tinymce.themes.modern.modes.Iframe","tinymce.themes.modern.modes.Inline","tinymce.themes.modern.modes.ZenarioInlineUI","tinymce.themes.modern.ui.ProgressState"],function(g,f,e,d,c){return{renderUI:function(a,b,h){var q=g.getSkinUrl(a);q&&(h.skinUiCss=q+"/skin.min.css",a.contentCSS.push(q+"/content"+(a.inline?".inline":"")+".min.css"));c.setup(a,b);return a.settings.zenario_inline_ui?d.render(a,
b,h):g.isInline(a)?e.render(a,b,h):f.render(a,b,h)}}});A("global!setTimeout",setTimeout);k("tinymce.ui.Tooltip",["tinymce.ui.Control","tinymce.ui.Movable"],function(g,f){return g.extend({Mixins:[f],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var e=
this;e.state.on("change:text",function(d){e.getEl().lastChild.innerHTML=e.encode(d.value)});return e._super()},repaint:function(){var e,d;e=this.getEl().style;d=this._layoutRect;e.left=d.x+"px";e.top=d.y+"px";e.zIndex=131070+(zenarioAB.isOpen?3E5:0)}})});k("tinymce.ui.Widget",["tinymce.ui.Control","tinymce.ui.Tooltip"],function(g,f){var e,d=g.extend({init:function(c){var a=this;a._super(c);c=a.settings;a.canFocus=!0;c.tooltip&&!1!==d.tooltips&&(a.on("mouseenter",function(b){var h=a.tooltip().moveTo(-65535);
b.control==a?(b=h.text(c.tooltip).show().testMoveRel(a.getEl(),["bc-tc","bc-tl","bc-tr"]),h.classes.toggle("tooltip-n","bc-tc"==b),h.classes.toggle("tooltip-nw","bc-tl"==b),h.classes.toggle("tooltip-ne","bc-tr"==b),h.moveRel(a.getEl(),b)):h.hide()}),a.on("mouseleave mousedown click",function(){a.tooltip().hide()}));a.aria("label",c.ariaLabel||c.tooltip)},tooltip:function(){e||(e=new f({type:"tooltip"}),e.renderTo());return e},postRender:function(){var c=this.settings;this._super();this.parent()||
!c.width&&!c.height||(this.initLayoutRect(),this.repaint());c.autofocus&&this.focus()},bindStates:function(){function c(a){b.aria("disabled",a);b.classes.toggle("disabled",a)}function a(a){b.aria("pressed",a);b.classes.toggle("active",a)}var b=this;b.state.on("change:disabled",function(a){c(a.value)});b.state.on("change:active",function(b){a(b.value)});b.state.get("disabled")&&c(!0);b.state.get("active")&&a(!0);return b._super()},remove:function(){this._super();e&&(e.remove(),e=null)}});return d});
k("tinymce.ui.Progress",["tinymce.ui.Widget"],function(g){return g.extend({Defaults:{value:0},init:function(f){this._super(f);this.classes.add("progress");this.settings.filter||(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var f=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+f+'bar-container"><div class="'+f+'bar"></div></div><div class="'+f+'text">0%</div></div>'},postRender:function(){this._super();this.value(this.settings.value);
return this},bindStates:function(){function f(d){d=e.settings.filter(d);e.getEl().lastChild.innerHTML=d+"%";e.getEl().firstChild.firstChild.style.width=d+"%"}var e=this;e.state.on("change:value",function(d){f(d.value)});f(e.state.get("value"));return e._super()}})});k("tinymce.ui.Notification",["tinymce.ui.Control","tinymce.ui.Movable","tinymce.ui.Progress","tinymce.core.util.Delay"],function(g,f,e,d){var c=function(a,b){a.getEl().lastChild.textContent=b+(a.progressBar?" "+a.progressBar.value()+"%":
"")};return g.extend({Mixins:[f],Defaults:{classes:"widget notification"},init:function(a){var b=this;b._super(a);b.maxWidth=a.maxWidth;a.text&&b.text(a.text);a.icon&&(b.icon=a.icon);a.color&&(b.color=a.color);a.type&&b.classes.add("notification-"+a.type);a.timeout&&(0>a.timeout||0<a.timeout)&&!a.closeButton?b.closeButton=!1:(b.classes.add("has-close"),b.closeButton=!0);a.progressBar&&(b.progressBar=new e);b.on("click",function(a){-1!=a.target.className.indexOf(b.classPrefix+"close")&&b.close()})},
renderHtml:function(){var a=this.classPrefix,b="",c="",d="",e="";this.icon&&(b='<i class="'+a+"ico "+a+"i-"+this.icon+'"></i>');e=' style="max-width: '+this.maxWidth+"px;"+(this.color?"background-color: "+this.color+';"':'"');this.closeButton&&(c='<button type="button" class="'+a+'close" aria-hidden="true">\u00d7</button>');this.progressBar&&(d=this.progressBar.renderHtml());return'<div id="'+this._id+'" class="'+this.classes+'"'+e+' role="presentation">'+b+'<div class="'+a+'notification-inner">'+
this.state.get("text")+"</div>"+d+c+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var a=this;d.setTimeout(function(){a.$el.addClass(a.classPrefix+"in");c(a,a.state.get("text"))},100);return a._super()},bindStates:function(){var a=this;a.state.on("change:text",function(b){a.getEl().firstChild.innerHTML=b.value;c(a,b.value)});a.progressBar&&
(a.progressBar.bindStates(),a.progressBar.state.on("change:value",function(b){c(a,a.state.get("text"))}));return a._super()},close:function(){this.fire("close").isDefaultPrevented()||this.remove();return this},repaint:function(){var a,b;a=this.getEl().style;b=this._layoutRect;a.left=b.x+"px";a.top=b.y+"px";a.zIndex=65534}})});k("tinymce.ui.NotificationManagerImpl",["ephox.katamari.api.Arr","global!setTimeout","tinymce.core.util.Tools","tinymce.ui.DomUtils","tinymce.ui.Notification"],function(g,f,
e,d,c){return function(a){var b=function(){var b=a.inline?a.getElement():a.getContentAreaContainer();return d.getSize(b).width},h=function(a){g.each(a,function(a){a.moveTo(0,0)})},q=function(b){if(0<b.length){var c=b.slice(0,1)[0],h=a.inline?a.getElement():a.getContentAreaContainer();c.moveRel(h,"tc-tc");g.each(b,function(a,c){0<c&&a.moveRel(b[c-1].getEl(),"bc-tc")})}};return{open:function(a,h){var d=e.extend(a,{maxWidth:b()}),g=new c(d);g.args=d;0<d.timeout&&(g.timer=f(function(){g.close();h()},
d.timeout));g.on("close",function(){h()});g.renderTo();return g},close:function(a){a.close()},reposition:function(a){h(a);q(a)},getArgs:function(a){return a.args}}}});k("tinymce.ui.Window","global!document global!setTimeout global!window tinymce.core.dom.DomQuery tinymce.core.Env tinymce.core.util.Delay tinymce.ui.BoxUtils tinymce.ui.DomUtils tinymce.ui.DragHelper tinymce.ui.FloatPanel tinymce.ui.Panel".split(" "),function(g,f,e,d,c,a,b,h,q,n,p){function l(a){var b=d("meta[name=viewport]")[0],h;!1!==
c.overrideViewPort&&(b||(b=g.createElement("meta"),b.setAttribute("name","viewport"),g.getElementsByTagName("head")[0].appendChild(b)),(h=b.getAttribute("content"))&&"undefined"!=typeof v&&(v=h),b.setAttribute("content",a?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":v))}var k=[],v="";n=n.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},
init:function(a){var b=this;b._super(a);b.isRtl()&&b.classes.add("rtl");b.classes.add("window");b.bodyClasses.add("window-body");b.state.set("fixed",!0);a.buttons&&(b.statusbar=new p({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:b.isRtl()?"start":"end",defaults:{type:"button"},items:a.buttons}),b.statusbar.classes.add("foot"),b.statusbar.parent(b));b.on("click",function(a){var c=b.classPrefix+"close";(h.hasClass(a.target,c)||h.hasClass(a.target.parentNode,c))&&b.close()});
b.on("cancel",function(){b.close()});b.aria("describedby",b.describedBy||b._id+"-none");b.aria("label",a.title);b._fullscreen=!1},recalc:function(){var a=this.statusbar,b,c,d;this._fullscreen&&(this.layoutRect(h.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH);this._super();b=this.layoutRect();this.settings.title&&!this._fullscreen&&(c=b.headerW,c>b.w&&(d=b.x-Math.max(0,c/2),this.layoutRect({w:c,x:d}),d=!0));a&&(a.layoutRect({w:this.layoutRect().innerW}).recalc(),c=a.layoutRect().minW+
b.deltaW,c>b.w&&(d=b.x-Math.max(0,c-b.w),this.layoutRect({w:c,x:d}),d=!0));d&&this.recalc()},initLayoutRect:function(){var a=this._super(),b=0,c;this.settings.title&&!this._fullscreen&&(c=this.getEl("head"),c=h.getSize(c),a.headerW=c.width,a.headerH=c.height,b+=a.headerH);this.statusbar&&(b+=this.statusbar.layoutRect().h);a.deltaH+=b;a.minH+=b;a.h+=b;b=h.getWindowSize();a.x=this.settings.x||Math.max(0,b.w/2-a.w/2);a.y=this.settings.y||Math.max(0,b.h/2-a.h/2);return a},renderHtml:function(){var a=
this._layout,b=this._id,c=this.classPrefix,h=this.settings,d="",e="",f=h.html;this.preRender();a.preRender(this);h.title&&(d='<div id="'+b+'-head" class="'+c+'window-head"><div id="'+b+'-title" class="'+c+'title">'+this.encode(h.title)+'</div><div id="'+b+'-dragh" class="'+c+'dragh"></div><button type="button" class="'+c+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>');h.url&&(f='<iframe src="'+h.url+'" tabindex="-1"></iframe>');"undefined"==typeof f&&(f=a.renderHtml(this));
this.statusbar&&(e=this.statusbar.renderHtml());return'<div id="'+b+'" class="'+this.classes+'" hidefocus="1"><div class="'+this.classPrefix+'reset" role="application">'+d+'<div id="'+b+'-body" class="'+this.bodyClasses+'">'+f+"</div>"+e+"</div></div>"},fullscreen:function(c){var f=this,q=g.documentElement,n,p=f.classPrefix,l;c!=f._fullscreen&&(d(e).on("resize",function(){var b;if(f._fullscreen)if(n)f._timer||(f._timer=a.setTimeout(function(){var a=h.getWindowSize();f.moveTo(0,0).resizeTo(a.w,a.h);
f._timer=0},50));else{b=(new Date).getTime();var c=h.getWindowSize();f.moveTo(0,0).resizeTo(c.w,c.h);50<(new Date).getTime()-b&&(n=!0)}}),l=f.layoutRect(),(f._fullscreen=c)?(f._initial={x:l.x,y:l.y,w:l.w,h:l.h},f.borderBox=b.parseBox("0"),f.getEl("head").style.display="none",l.deltaH-=l.headerH+2,d([q,g.body]).addClass(p+"fullscreen"),f.classes.add("fullscreen"),c=h.getWindowSize(),f.moveTo(0,0).resizeTo(c.w,c.h)):(f.borderBox=b.parseBox(f.settings.border),f.getEl("head").style.display="",l.deltaH+=
l.headerH,d([q,g.body]).removeClass(p+"fullscreen"),f.classes.remove("fullscreen"),f.moveTo(f._initial.x,f._initial.y).resizeTo(f._initial.w,f._initial.h)));return f.reflow()},postRender:function(){var a,b,c=this;f(function(){c.classes.add("in");c.fire("open")},0);c._super();c.statusbar&&c.statusbar.postRender();c.focus();this.dragHelper=new q(c._id+"-dragh",{start:function(){a=c.layoutRect().x;b=c.layoutRect().y},drag:function(h){c.moveTo(a+h.deltaX,b+h.deltaY)}});c.on("submit",function(a){a.isDefaultPrevented()||
c.close()});k.push(c);l(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var a;this.dragHelper.destroy();this._super();this.statusbar&&this.statusbar.remove();a=this.classPrefix;var b;a:{for(b=0;b<k.length;b++)if(k[b]._fullscreen){b=!0;break a}b=!1}b&&d([g.documentElement,g.body]).removeClass(a+"fullscreen");for(a=k.length;a--;)k[a]===this&&k.splice(a,1);l(0<k.length)},getContentWindow:function(){var a=this.getEl().getElementsByTagName("iframe")[0];return a?
a.contentWindow:null}});(function(){if(!c.desktop){var b=e.innerWidth,f=e.innerHeight;a.setInterval(function(){var a=e.innerWidth,c=e.innerHeight;if(b!=a||f!=c)b=a,f=c,d(e).trigger("resize")},100)}d(e).on("resize",function(){var a,b=h.getWindowSize(),c;for(a=0;a<k.length;a++)c=k[a].layoutRect(),k[a].moveTo(k[a].settings.x||Math.max(0,b.w/2-c.w/2),k[a].settings.y||Math.max(0,b.h/2-c.h/2))})})();return n});k("tinymce.ui.MessageBox",["global!document","tinymce.ui.Window"],function(g,f){var e=f.extend({init:function(d){d=
{border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(d)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(d){function c(a,c,d){return{type:"button",text:a,subtype:d?"primary":"",onClick:function(a){a.control.parents()[1].close();b(c)}}}var a,b=d.callback||function(){};switch(d.buttons){case e.OK_CANCEL:a=[c("Ok",!0,
!0),c("Cancel",!1)];break;case e.YES_NO:case e.YES_NO_CANCEL:a=[c("Yes",1,!0),c("No",0)];d.buttons==e.YES_NO_CANCEL&&a.push(c("Cancel",-1));break;default:a=[c("Ok",!0,!0)]}return(new f({padding:20,x:d.x,y:d.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:a,title:d.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:d.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:d.onClose,onCancel:function(){b(!1)}})).renderTo(g.body).reflow()},
alert:function(d,c){"string"==typeof d&&(d={text:d});d.callback=c;return e.msgBox(d)},confirm:function(d,c){"string"==typeof d&&(d={text:d});d.callback=c;d.buttons=e.OK_CANCEL;return e.msgBox(d)}}});return e});k("tinymce.ui.WindowManagerImpl",["tinymce.ui.Window","tinymce.ui.MessageBox"],function(g,f){return function(e){return{open:function(d,c,a){var b;d.title=d.title||" ";d.url=d.url||d.file;d.url&&(d.width=parseInt(d.width||320,10),d.height=parseInt(d.height||240,10));d.body&&(d.items={defaults:d.defaults,
type:d.bodyType||"form",items:d.body,data:d.data,callbacks:d.commands});d.url||d.buttons||(d.buttons=[{text:"Ok",subtype:"primary",onclick:function(){b.find("form")[0].submit()}},{text:"Cancel",onclick:function(){b.close()}}]);b=new g(d);b.on("close",function(){a(b)});if(d.data)b.on("postRender",function(){this.find("*").each(function(a){var b=a.name();b in d.data&&a.value(d.data[b])})});b.features=d||{};b.params=c||{};return b=b.renderTo().reflow()},alert:function(d,c,a){var b;b=f.alert(d,function(){c()});
b.on("close",function(){a(b)});return b},confirm:function(d,c,a){var b;b=f.confirm(d,function(a){c(a)});b.on("close",function(){a(b)});return b},close:function(d){d.close()},getParams:function(d){return d.params},setParams:function(d,c){d.params=c}}}});k("tinymce.themes.modern.api.ThemeApi",["tinymce.themes.modern.ui.Render","tinymce.themes.modern.ui.Resize","tinymce.ui.NotificationManagerImpl","tinymce.ui.WindowManagerImpl"],function(g,f,e,d){return{get:function(c){return{renderUI:function(a){return g.renderUI(c,
this,a)},resizeTo:function(a,b){return f.resizeTo(c,a,b)},resizeBy:function(a,b){return f.resizeBy(c,a,b)},getNotificationManagerImpl:function(){return e(c)},getWindowManagerImpl:function(){return d(c)}}}}});k("tinymce.ui.Layout",["tinymce.core.util.Class","tinymce.core.util.Tools"],function(g,f){return g.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=f.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},
applyClasses:function(e){var d=this.settings,c,a,b,h;c=d.firstControlClass;a=d.lastControlClass;e.each(function(e){e.classes.remove(c).remove(a).add(d.controlClass);e.visible()&&(b||(b=e),h=e)});b&&b.classes.add(c);h&&h.classes.add(a)},renderHtml:function(e){var d="";this.applyClasses(e.items());e.items().each(function(c){d+=c.renderHtml()});return d},recalc:function(){},postRender:function(){},isNative:function(){return!1}})});k("tinymce.ui.AbsoluteLayout",["tinymce.ui.Layout"],function(g){return g.extend({Defaults:{containerClass:"abs-layout",
controlClass:"abs-layout-item"},recalc:function(f){f.items().filter(":visible").each(function(e){var d=e.settings;e.layoutRect({x:d.x,y:d.y,w:d.w,h:d.h});e.recalc&&e.recalc()})},renderHtml:function(f){return'<div id="'+f._id+'-absend" class="'+f.classPrefix+'abs-end"></div>'+this._super(f)}})});k("tinymce.ui.Button",["global!document","global!window","tinymce.ui.Widget"],function(g,f,e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(d){var c=this,a;c._super(d);d=c.settings;
a=c.settings.size;c.on("click mousedown",function(a){a.preventDefault()});c.on("touchstart",function(a){c.fire("click",a);a.preventDefault()});d.subtype&&c.classes.add(d.subtype);a&&c.classes.add("btn-"+a);d.icon&&c.icon(d.icon)},icon:function(d){if(!arguments.length)return this.state.get("icon");this.state.set("icon",d);return this},repaint:function(){var d=this.getEl().firstChild;d&&(d=d.style,d.width=d.height="100%");this._super()},renderHtml:function(){var d=this._id,c=this.classPrefix,a=this.state.get("icon"),
b,h=this.state.get("text"),e="",g=this.settings;(b=g.image)?(a="none","string"!=typeof b&&(b=f.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="";h&&(this.classes.add("btn-has-text"),e='<span class="'+c+'txt">'+this.encode(h)+"</span>");a=a?c+"ico "+c+"i-"+a:"";return'<div id="'+d+'" class="'+this.classes+'" tabindex="-1"'+("boolean"===typeof g.active?' aria-pressed="'+g.active+'"':"")+'><button id="'+d+'-button" role="presentation" type="button" tabindex="-1">'+(a?'<i class="'+
a+'"'+b+"></i>":"")+e+"</button></div>"},bindStates:function(){function d(h){var d=a("span."+b,c.getEl());h?(d[0]||(a("button:first",c.getEl()).append('<span class="'+b+'"></span>'),d=a("span."+b,c.getEl())),d.html(c.encode(h))):d.remove();c.classes.toggle("btn-has-text",!!h)}var c=this,a=c.$,b=c.classPrefix+"txt";c.state.on("change:text",function(a){d(a.value)});c.state.on("change:icon",function(a){a=a.value;var b=c.classPrefix;a=(c.settings.icon=a)?b+"ico "+b+"i-"+c.settings.icon:"";var b=c.getEl().firstChild,
e=b.getElementsByTagName("i")[0];a?(e&&e==b.firstChild||(e=g.createElement("i"),b.insertBefore(e,b.firstChild)),e.className=a):e&&b.removeChild(e);d(c.state.get("text"))});return c._super()}})});A("global!RegExp",RegExp);k("tinymce.ui.BrowseButton",["tinymce.ui.Button","tinymce.core.util.Tools","tinymce.ui.DomUtils","tinymce.core.dom.DomQuery","global!RegExp"],function(g,f,e,d,c){return g.extend({init:function(a){a=f.extend({text:"Browse...",multiple:!1,accept:null},a);this._super(a);this.classes.add("browsebutton");
a.multiple&&this.classes.add("multiple")},postRender:function(){var a=this,b=e.create("input",{type:"file",id:a._id+"-browse",accept:a.settings.accept});a._super();d(b).on("change",function(b){var c=b.target.files;a.value=function(){return c.length?a.settings.multiple?c:c[0]:null};b.preventDefault();c.length&&a.fire("change",b)});d(b).on("click",function(a){a.stopPropagation()});d(a.getEl("button")).on("click",function(a){a.stopPropagation();b.click()});a.getEl().appendChild(b)},remove:function(){d(this.getEl("button")).off();
d(this.getEl("input")).off();this._super()}})});k("tinymce.ui.ButtonGroup",["tinymce.ui.Container"],function(g){return g.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var f=this._layout;this.classes.add("btn-group");this.preRender();f.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+f.renderHtml(this)+"</div></div>"}})});k("tinymce.ui.Checkbox",["global!document","tinymce.ui.Widget"],function(g,
f){return f.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var d=this;d._super(e);d.on("click mousedown",function(c){c.preventDefault()});d.on("click",function(c){c.preventDefault();d.disabled()||d.checked(!d.checked())});d.checked(d.settings.checked)},checked:function(e){if(!arguments.length)return this.state.get("checked");this.state.set("checked",e);return this},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=
this._id,d=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+d+"ico "+d+'i-checkbox"></i><span id="'+e+'-al" class="'+d+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){function e(c){d.classes.toggle("checked",c);d.aria("checked",c)}var d=this;d.state.on("change:text",function(c){d.getEl("al").firstChild.data=d.translate(c.value)});d.state.on("change:checked change:value",function(c){d.fire("change");
e(c.value)});d.state.on("change:icon",function(c){c=c.value;var a=d.classPrefix;if("undefined"==typeof c)return d.settings.icon;c=(d.settings.icon=c)?a+"ico "+a+"i-"+d.settings.icon:"";var a=d.getEl().firstChild,b=a.getElementsByTagName("i")[0];c?(b&&b==a.firstChild||(b=g.createElement("i"),a.insertBefore(b,a.firstChild)),b.className=c):b&&a.removeChild(b)});d.state.get("checked")&&e(!0);return d._super()}})});k("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(g){return g("tinymce.util.VK")});
k("tinymce.ui.ComboBox","global!document tinymce.core.dom.DomQuery tinymce.core.ui.Factory tinymce.core.util.Tools tinymce.core.util.VK tinymce.ui.DomUtils tinymce.ui.Widget".split(" "),function(g,f,e,d,c,a,b){return b.extend({init:function(a){var b=this;b._super(a);a=b.settings;b.classes.add("combobox");b.subinput=!0;b.ariaTarget="inp";a.menu=a.menu||a.values;a.menu&&(a.icon="caret");b.on("click",function(c){var d=c.target,e=b.getEl();if(f.contains(e,d)||d==e)for(;d&&d!=e;)d.id&&-1!=d.id.indexOf("-open")&&
(b.fire("action"),a.menu&&(b.showMenu(),c.aria&&b.menu.items()[0].focus())),d=d.parentNode});b.on("keydown",function(a){var c;13==a.keyCode&&"INPUT"===a.target.nodeName&&(a.preventDefault(),b.parents().reverse().each(function(a){if(a.toJSON)return c=a,!1}),b.fire("submit",{data:c.toJSON()}))});b.on("keyup",function(a){if("INPUT"==a.target.nodeName){var c=b.state.get("value"),h=a.target.value;h!==c&&(b.state.set("value",h),b.fire("autocomplete",a))}});b.on("mouseover",function(a){var c=b.tooltip().moveTo(-65535);
if(b.statusLevel()&&-1!==a.target.className.indexOf(b.classPrefix+"status")){var h=b.statusMessage()||"Ok",h=c.text(h).show().testMoveRel(a.target,["bc-tc","bc-tl","bc-tr"]);c.classes.toggle("tooltip-n","bc-tc"==h);c.classes.toggle("tooltip-nw","bc-tl"==h);c.classes.toggle("tooltip-ne","bc-tr"==h);c.moveRel(a.target,h)}})},statusLevel:function(a){0<arguments.length&&this.state.set("statusLevel",a);return this.state.get("statusLevel")},statusMessage:function(a){0<arguments.length&&this.state.set("statusMessage",
a);return this.state.get("statusMessage")},showMenu:function(){var a=this,b=a.settings;a.menu||(b=b.menu||[],b.length?b={type:"menu",items:b}:b.type=b.type||"menu",a.menu=e.create(b).parent(a).renderTo(a.getContainerElm()),a.fire("createmenu"),a.menu.reflow(),a.menu.on("cancel",function(b){b.control===a.menu&&a.focus()}),a.menu.on("show hide",function(b){b.control.items().each(function(b){b.active(b.value()==a.value())})}).fire("show"),a.menu.on("select",function(b){a.value(b.control.value())}),a.on("focusin",
function(b){"INPUT"==b.target.tagName.toUpperCase()&&a.menu.hide()}),a.aria("expanded",!0));a.menu.show();a.menu.layoutRect({w:a.layoutRect().w});a.menu.moveRel(a.getEl(),a.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var b=this.getEl(),c=this.getEl("open"),d=this.layoutRect(),e,l=0,b=b.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(l=parseInt(a.getRuntimeStyle(b,"padding-right"),10)-parseInt(a.getRuntimeStyle(b,"padding-left"),
10));c=c?d.w-a.getSize(c).width-10:d.w-10;g.all&&(!g.documentMode||8>=g.documentMode)&&(e=this.layoutRect().h-2+"px");f(b).css({width:c-l,lineHeight:e});this._super();return this},postRender:function(){var a=this;f(this.getEl("inp")).on("change",function(b){a.state.set("value",b.target.value);a.fire("change",b)});return a._super()},renderHtml:function(){var a=this._id,b=this.settings,c=this.classPrefix,d=this.state.get("value")||"",e,f,g="",k="",r="";"spellcheck"in b&&(k+=' spellcheck="'+b.spellcheck+
'"');b.maxLength&&(k+=' maxlength="'+b.maxLength+'"');b.size&&(k+=' size="'+b.size+'"');b.subtype&&(k+=' type="'+b.subtype+'"');r='<i id="'+a+'-status" class="mce-status mce-ico" style="display: none"></i>';this.disabled()&&(k+=' disabled="disabled"');(e=b.icon)&&"caret"!=e&&(e=c+"ico "+c+"i-"+b.icon);f=this.state.get("text");if(e||f)g='<div id="'+a+'-open" class="'+c+"btn "+c+'open" tabIndex="-1" role="button"><button id="'+a+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+
e+'"></i>':'<i class="'+c+'caret"></i>')+(f?(e?" ":"")+f:"")+"</button></div>",this.classes.add("has-open");return'<div id="'+a+'" class="'+this.classes+'"><input id="'+a+'-inp" class="'+c+'textbox" value="'+this.encode(d,!1)+'" hidefocus="1"'+k+' placeholder="'+this.encode(b.placeholder)+'" />'+r+g+"</div>"},value:function(a){if(arguments.length)return this.state.set("value",a),this;this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value);return this.state.get("value")},showAutoComplete:function(a,
b){var c=this;if(0===a.length)c.hideMenu();else{var f=function(a,b){return function(){c.fire("selectitem",{title:b,value:a})}};c.menu?c.menu.items().remove():c.menu=e.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(c).renderTo();d.each(a,function(a){c.menu.add({text:a.title,url:a.previewUrl,match:b,classes:"menu-item-ellipsis",onclick:f(a.value,a.title)})});c.menu.renderNew();c.hideMenu();c.menu.on("cancel",function(a){a.control.parent()===c.menu&&(a.stopPropagation(),c.focus(),
c.hideMenu())});c.menu.on("select",function(){c.focus()});var g=c.layoutRect().w;c.menu.layoutRect({w:g,minW:0,maxW:g});c.menu.reflow();c.menu.show();c.menu.moveRel(c.getEl(),c.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var b=this;b.state.on("change:value",function(a){b.getEl("inp").value!=a.value&&(b.getEl("inp").value=a.value)});b.state.on("change:disabled",function(a){b.getEl("inp").disabled=a.value});b.state.on("change:statusLevel",
function(c){var d=b.getEl("status"),e=b.classPrefix;c=c.value;a.css(d,"display","none"===c?"none":"");a.toggleClass(d,e+"i-checkmark","ok"===c);a.toggleClass(d,e+"i-warning","warn"===c);a.toggleClass(d,e+"i-error","error"===c);b.classes.toggle("has-status","none"!==c);b.repaint()});a.on(b.getEl("status"),"mouseleave",function(){b.tooltip().hide()});b.on("cancel",function(a){b.menu&&b.menu.visible()&&(a.stopPropagation(),b.hideMenu())});var d=function(a,b){b&&0<b.items().length&&b.items().eq(a)[0].focus()};
b.on("keydown",function(a){var e=a.keyCode;"INPUT"===a.target.nodeName&&(e===c.DOWN?(a.preventDefault(),b.fire("autocomplete"),d(0,b.menu)):e===c.UP&&(a.preventDefault(),d(-1,b.menu)))});return b._super()},remove:function(){f(this.getEl("inp")).off();this.menu&&this.menu.remove();this._super()}})});k("tinymce.ui.ColorBox",["tinymce.ui.ComboBox"],function(g){return g.extend({init:function(f){var e=this;f.spellcheck=!1;f.onaction&&(f.icon="none");e._super(f);e.classes.add("colorbox");e.on("change keyup postrender",
function(){e.repaintColor(e.value())})},repaintColor:function(f){var e=this.getEl("open");if(e=e?e.getElementsByTagName("i")[0]:null)try{e.style.background=f}catch(d){}},bindStates:function(){var f=this;f.state.on("change:value",function(e){f.state.get("rendered")&&f.repaintColor(e.value)});return f._super()}})});k("tinymce.ui.PanelButton",["tinymce.ui.Button","tinymce.ui.FloatPanel"],function(g,f){return g.extend({showPanel:function(){var e=this,d=e.settings;e.classes.add("opened");if(e.panel)e.panel.show();
else{var c=d.panel;c.type&&(c={layout:"grid",items:c});c.role=c.role||"dialog";c.popover=!0;c.autohide=!0;c.ariaRoot=!0;e.panel=(new f(c)).on("hide",function(){e.classes.remove("opened")}).on("cancel",function(a){a.stopPropagation();e.focus();e.hidePanel()}).parent(e).renderTo(e.getContainerElm());e.panel.fire("show");e.panel.reflow()}d=e.panel.testMoveRel(e.getEl(),d.popoverAlign||(e.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl"]));e.panel.classes.toggle("start","bc-tl"===d);e.panel.classes.toggle("end",
"bc-tr"===d);e.panel.moveRel(e.getEl(),d)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var e=this;e.aria("haspopup",!0);e.on("click",function(d){d.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!d.aria)))});return e._super()},remove:function(){this.panel&&(this.panel.remove(),this.panel=null);return this._super()}})});k("tinymce.ui.ColorButton",["tinymce.ui.PanelButton","tinymce.core.dom.DOMUtils"],function(g,f){var e=f.DOM;return g.extend({init:function(d){this._super(d);
this.classes.add("splitbtn");this.classes.add("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},resetColor:function(){this._color=null;this.getEl("preview").style.backgroundColor=null;return this},renderHtml:function(){var d=this._id,c=this.classPrefix,a=this.state.get("text"),b=this.settings.icon?c+"ico "+c+"i-"+this.settings.icon:"",h=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"",e="";
a&&(this.classes.add("btn-has-text"),e='<span class="'+c+'txt">'+this.encode(a)+"</span>");return'<div id="'+d+'" class="'+this.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(b?'<i class="'+b+'"'+h+"></i>":"")+'<span id="'+d+'-preview" class="'+c+'preview"></span>'+e+'</button><button type="button" class="'+c+'open" hidefocus="1" tabindex="-1"> <i class="'+c+'caret"></i></button></div>'},postRender:function(){var d=
this,c=d.settings.onclick;d.on("click",function(a){a.aria&&"down"===a.aria.key||a.control!=d||e.getParent(a.target,"."+d.classPrefix+"open")||(a.stopImmediatePropagation(),c.call(d,a))});delete d.settings.onclick;return d._super()}})});k("tinymce.core.util.Color",["global!tinymce.util.Tools.resolve"],function(g){return g("tinymce.util.Color")});k("tinymce.ui.ColorPicker",["tinymce.ui.Widget","tinymce.ui.DragHelper","tinymce.ui.DomUtils","tinymce.core.util.Color"],function(g,f,e,d){return g.extend({Defaults:{classes:"widget colorpicker"},
init:function(c){this._super(c)},postRender:function(){function c(a,b){var c=e.getPos(a),h;h=b.pageX-c.x;c=b.pageY-c.y;h=Math.max(0,Math.min(h/a.clientWidth,1));c=Math.max(0,Math.min(c/a.clientHeight,1));return{x:h,y:c}}function a(a,b){e.css(k,{top:100*((360-a.h)/360)+"%"});b||e.css(m,{left:a.s+"%",top:100-a.v+"%"});v.style.background=(new d({s:100,v:100,h:a.h})).toHex();g.color().parse({s:a.s,v:a.v,h:a.h})}function b(b){b=c(v,b);p.s=100*b.x;p.v=100*(1-b.y);a(p);g.fire("change")}function h(b){b=c(l,
b);p=n.toHsv();p.h=360*(1-b.y);a(p,!0);g.fire("change")}var g=this,n=g.color(),p,l,k,v,m;l=g.getEl("h");k=g.getEl("hp");v=g.getEl("sv");m=g.getEl("svp");g._repaint=function(){p=n.toHsv();a(p)};g._super();g._svdraghelper=new f(g._id+"-sv",{start:b,drag:b});g._hdraghelper=new f(g._id+"-h",{start:h,drag:h});g._repaint()},rgb:function(){return this.color().toRgb()},value:function(c){if(arguments.length)this.color().parse(c),this._rendered&&this._repaint();else return this.color().toHex()},color:function(){this._color||
(this._color=new d);return this._color},renderHtml:function(){var c=this._id,a=this.classPrefix,b,h,d="",e;e="#ff0000 #ff0080 #ff00ff #8000ff #0000ff #0080ff #00ffff #00ff80 #00ff00 #80ff00 #ffff00 #ff8000 #ff0000".split(" ");b=0;for(h=e.length-1;b<h;b++)d+='<div class="'+a+'colorpicker-h-chunk" style="height:'+100/h+"%;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+e[b]+",endColorstr="+e[b+1]+");-ms-filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+
e[b]+",endColorstr="+e[b+1]+')"></div>';return'<div id="'+c+'" class="'+this.classes+'"><div id="'+c+'-sv" class="'+a+'colorpicker-sv"><div class="'+a+'colorpicker-overlay1"><div class="'+a+'colorpicker-overlay2"><div id="'+c+'-svp" class="'+a+'colorpicker-selector1"><div class="'+a+'colorpicker-selector2"></div></div></div></div></div>'+('<div id="'+c+'-h" class="'+a+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+
d+'<div id="'+c+'-hp" class="'+a+'colorpicker-h-marker"></div></div>')+"</div>"}})});k("tinymce.ui.DropZone",["tinymce.ui.Widget","tinymce.core.util.Tools","tinymce.ui.DomUtils","global!RegExp"],function(g,f,e,d){return g.extend({init:function(c){c=f.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},c);this._super(c);this.classes.add("dropzone");c.multiple&&this.classes.add("multiple")},renderHtml:function(){var c,a=this.settings;c=e.create("div",{id:this._id,hidefocus:"1"},"<span>"+
this.translate(a.text)+"</span>");a.height&&e.css(c,"height",a.height+"px");a.width&&e.css(c,"width",a.width+"px");c.className=this.classes;return c.outerHTML},postRender:function(){var c=this,a=function(a){a.preventDefault();c.classes.toggle("dragenter");c.getEl().className=c.classes},b=function(a){var b=c.settings.accept;if("string"!==typeof b)return a;var e=new d("("+b.split(/\s*,\s*/).join("|")+")$","i");return f.grep(a,function(a){return e.test(a.name)})};c._super();c.$el.on("dragover",function(a){a.preventDefault()});
c.$el.on("dragenter",a);c.$el.on("dragleave",a);c.$el.on("drop",function(a){a.preventDefault();if(!c.state.get("disabled")){var d=b(a.dataTransfer.files);c.value=function(){return d.length?c.settings.multiple?d:d[0]:null};d.length&&c.fire("change",a)}})},remove:function(){this.$el.off();this._super()}})});k("tinymce.ui.Path",["tinymce.ui.Widget"],function(g){return g.extend({init:function(f){var e=this;f.delimiter||(f.delimiter="\u00bb");e._super(f);e.classes.add("path");e.canFocus=!0;e.on("click",
function(d){var c;(c=d.target.getAttribute("data-index"))&&e.fire("select",{value:e.row()[c],index:c})});e.row(e.settings.row)},focus:function(){this.getEl().firstChild.focus();return this},row:function(f){if(!arguments.length)return this.state.get("row");this.state.set("row",f);return this},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var f=this;f.state.on("change:row",function(e){f.innerHtml(f._getDataPathHtml(e.value))});
return f._super()},_getDataPathHtml:function(f){f=f||[];var e,d,c="",a=this.classPrefix;e=0;for(d=f.length;e<d;e++)c+=(0<e?'<div class="'+a+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(e==d-1?" "+a+"last":"")+'" data-index="'+e+'" tabindex="-1" id="'+this._id+"-"+e+'" aria-level="'+(e+1)+'">'+f[e].name+"</div>";c||(c='<div class="'+a+'path-item">\u00a0</div>');return c}})});k("tinymce.ui.ElementPath",["tinymce.ui.Path"],function(g){return g.extend({postRender:function(){var f=
this,e=f.settings.editor;!1!==e.settings.elementpath&&(f.on("select",function(d){e.focus();e.selection.select(this.row()[d.index].element);e.nodeChanged()}),e.on("nodeChange",function(d){var c=[];d=d.parents;for(var a=d.length;a--;){var b;if(b=1==d[a].nodeType){a:{b=d[a];if(1===b.nodeType){if("BR"==b.nodeName||b.getAttribute("data-mce-bogus")){b=!0;break a}if("bookmark"===b.getAttribute("data-mce-type")){b=!0;break a}}b=!1}b=!b}if(b&&(b=e.fire("ResolveName",{name:d[a].nodeName.toLowerCase(),target:d[a]}),
b.isDefaultPrevented()||c.push({name:b.name,element:d[a]}),b.isPropagationStopped()))break}f.row(c)}));return f._super()}})});k("tinymce.ui.FormItem",["tinymce.ui.Container"],function(g){return g.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var f=this._layout,e=this.classPrefix;this.classes.add("formitem");f.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+
e+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+f.renderHtml(this)+"</div></div>"}})});k("tinymce.ui.Form",["tinymce.ui.Container","tinymce.ui.FormItem","tinymce.core.util.Tools"],function(g,f,e){return g.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var d=this,c=d.items();
d.settings.formItemDefaults||(d.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}});c.each(function(a){var b;if(b=a.settings.label)b=new f(e.extend({items:{type:"label",id:a._id+"-l",text:b,flex:0,forId:a._id,disabled:a.disabled()}},d.settings.formItemDefaults)),b.type="formitem",a.aria("labelledby",a._id+"-l"),"undefined"==typeof a.settings.flex&&(a.settings.flex=1),d.replace(a,b),b.add(a)})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();
this.fromJSON(this.settings.data)},bindStates:function(){function d(){var a=0,b=[],h,d;if(!1!==c.settings.labelGapCalc)for(h="children"==c.settings.labelGapCalc?c.find("formitem"):c.items(),h.filter("formitem").each(function(c){c=c.items()[0];var h=c.getEl().clientWidth;a=h>a?h:a;b.push(c)}),d=c.settings.labelGap||0,h=b.length;h--;)b[h].settings.minWidth=a+d}var c=this;c._super();c.on("show",d);d()}})});k("tinymce.ui.FieldSet",["tinymce.ui.Form"],function(g){return g.extend({Defaults:{containerCls:"fieldset",
layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var f=this._layout,e=this.classPrefix;this.preRender();f.preRender(this);return'<fieldset id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+e+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+f.renderHtml(this)+
"</div></fieldset>"}})});A("global!Date",Date);A("global!Math",Math);k("ephox.katamari.api.Id",["global!Date","global!Math","global!String"],function(g,f,e){var d=0;return{generate:function(c){var a=(new g).getTime(),b=f.floor(1E9*f.random());d++;return c+"_"+b+d+e(a)}}});k("global!console",[],function(){"undefined"===typeof console&&(console={log:function(){}});return console});k("ephox.sugar.api.node.Element",["ephox.katamari.api.Fun","global!Error","global!console","global!document"],function(g,
f,e,d){var c=function(a){if(null===a||void 0===a)throw new f("Node cannot be null or undefined");return{dom:g.constant(a)}};return{fromHtml:function(a,b){var h=(b||d).createElement("div");h.innerHTML=a;if(!h.hasChildNodes()||1<h.childNodes.length)throw e.error("HTML does not have a single root node",a),"HTML must have a single root node";return c(h.childNodes[0])},fromTag:function(a,b){var h=(b||d).createElement(a);return c(h)},fromText:function(a,b){var h=(b||d).createTextNode(a);return c(h)},fromDom:c}});
k("ephox.katamari.api.Thunk",[],function(){return{cached:function(g){var f=!1,e;return function(){f||(f=!0,e=g.apply(null,arguments));return e}}}});k("ephox.sugar.api.node.NodeTypes",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}});k("ephox.sugar.api.node.Node",["ephox.sugar.api.node.NodeTypes"],function(g){var f=function(a){return a.dom().nodeName.toLowerCase()},
e=function(a){return a.dom().nodeType},d=function(a){return function(c){return e(c)===a}},c=d(g.ELEMENT),a=d(g.TEXT),d=d(g.DOCUMENT);return{name:f,type:e,value:function(a){return a.dom().nodeValue},isElement:c,isText:a,isDocument:d,isComment:function(a){return e(a)===g.COMMENT||"#comment"===f(a)}}});k("ephox.sugar.api.node.Body",["ephox.katamari.api.Thunk","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","global!document"],function(g,f,e,d){var c=function(a){a=a.dom().body;if(null===a||
void 0===a)throw"Body is not available yet";return f.fromDom(a)};return{body:g.cached(function(){return c(f.fromDom(d))}),getBody:c,inBody:function(a){a=e.isText(a)?a.dom().parentNode:a.dom();return void 0!==a&&null!==a&&a.ownerDocument.body.contains(a)}}});k("ephox.katamari.api.Type",["global!Array","global!String"],function(g,f){var e=function(d){return function(c){if(null===c)c="null";else{var a=typeof c;c="object"===a&&g.prototype.isPrototypeOf(c)?"array":"object"===a&&f.prototype.isPrototypeOf(c)?
"string":a}return c===d}};return{isString:e("string"),isObject:e("object"),isArray:e("array"),isNull:e("null"),isBoolean:e("boolean"),isUndefined:e("undefined"),isFunction:e("function"),isNumber:e("number")}});k("ephox.katamari.data.Immutable",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!Array","global!Error"],function(g,f,e,d){return function(){var c=arguments;return function(){for(var a=new e(arguments.length),b=0;b<a.length;b++)a[b]=arguments[b];if(c.length!==a.length)throw new d('Wrong number of arguments to struct. Expected "['+
c.length+']", got '+a.length+" arguments");var h={};g.each(c,function(b,c){h[b]=f.constant(a[c])});return h}}});k("ephox.katamari.api.Obj",["ephox.katamari.api.Option","global!Object"],function(g,f){var e=function(){var a=f.keys,b=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b};return void 0===a?b:a}(),d=function(a,b){for(var c=e(a),d=0,f=c.length;d<f;d++){var g=c[d];b(a[g],g,a)}},c=function(a,b){var c={};d(a,function(d,e){var f=b(d,e,a);c[f.k]=f.v});return c},a=function(a,
b){var c=[];d(a,function(a,h){c.push(b(a,h))});return c},b=function(b){return a(b,function(a){return a})};return{bifilter:function(a,b){var c={},e={};d(a,function(a,h){(b(a,h)?c:e)[h]=a});return{t:c,f:e}},each:d,map:function(a,b){return c(a,function(a,c,h){return{k:c,v:b(a,c,h)}})},mapToArray:a,tupleMap:c,find:function(a,b){for(var c=e(a),d=0,f=c.length;d<f;d++){var k=c[d],v=a[k];if(b(v,k,a))return g.some(v)}return g.none()},keys:e,values:b,size:function(a){return b(a).length}}});k("ephox.katamari.util.BagUtils",
["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!Error"],function(g,f,e){var d=function(c){return c.slice(0).sort()};return{sort:d,reqMessage:function(c,a){throw new e("All required keys ("+d(c).join(", ")+") were not specified. Specified keys were: "+d(a).join(", ")+".");},unsuppMessage:function(c){throw new e("Unsupported keys for object: "+d(c).join(", "));},validateStrArr:function(c,a){if(!f.isArray(a))throw new e("The "+c+" fields must be an array. Was: "+a+".");g.each(a,function(a){if(!f.isString(a))throw new e("The value "+
a+" in the "+c+" fields was not a string.");})},invalidTypeMessage:function(c,a){throw new e("All values need to be of type: "+a+". Keys ("+d(c).join(", ")+") were not.");},checkDupes:function(c){var a=d(c);g.find(a,function(b,c){return c<a.length-1&&b===a[c+1]}).each(function(b){throw new e("The field: "+b+" occurs more than once in the combined fields: ["+a.join(", ")+"].");})}}});k("ephox.katamari.data.MixedBag","ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Obj ephox.katamari.api.Option ephox.katamari.util.BagUtils global!Error global!Object".split(" "),
function(g,f,e,d,c,a,b){return function(h,q){var n=h.concat(q);if(0===n.length)throw new a("You must specify at least one required or optional field.");c.validateStrArr("required",h);c.validateStrArr("optional",q);c.checkDupes(n);return function(a){var l=e.keys(a);g.forall(h,function(a){return g.contains(l,a)})||c.reqMessage(h,l);var k=g.filter(l,function(a){return!g.contains(n,a)});0<k.length&&c.unsuppMessage(k);var v={};g.each(h,function(b){v[b]=f.constant(a[b])});g.each(q,function(c){v[c]=f.constant(b.prototype.hasOwnProperty.call(a,
c)?d.some(a[c]):d.none())});return v}}});k("ephox.katamari.api.Struct",["ephox.katamari.data.Immutable","ephox.katamari.data.MixedBag"],function(g,f){return{immutable:g,immutableBag:f}});k("ephox.sugar.alien.Recurse",[],function(){return{toArray:function(g,f){var e=[],d=function(a){e.push(a);return f(a)},c=f(g);do c=c.bind(d);while(c.isSome());return e}}});k("ephox.katamari.api.Global",[],function(){return"undefined"!==typeof window?window:Function("return this;")()});k("ephox.katamari.api.Resolve",
["ephox.katamari.api.Global"],function(g){var f=function(d,c){for(var a=void 0!==c?c:g,b=0;b<d.length&&void 0!==a&&null!==a;++b)a=a[d[b]];return a},e=function(d,c){for(var a=void 0!==c?c:g,b=0;b<d.length;++b){var h=d[b];if(void 0===a[h]||null===a[h])a[h]={};a=a[h]}return a};return{path:f,resolve:function(d,c){var a=d.split(".");return f(a,c)},forge:e,namespace:function(d,c){var a=d.split(".");return e(a,c)}}});k("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],function(g){return{getOrDie:function(f,
e){var d=g.resolve(f,e);if(void 0===d)throw f+" not available on this browser";return d}}});k("ephox.sand.api.Node",["ephox.sand.util.Global"],function(g){return{documentPositionPreceding:function(f,e){var d=g.getOrDie("Node").DOCUMENT_POSITION_PRECEDING;return 0!==(f.compareDocumentPosition(e)&d)},documentPositionContainedBy:function(f,e){var d=g.getOrDie("Node").DOCUMENT_POSITION_CONTAINED_BY;return 0!==(f.compareDocumentPosition(e)&d)}}});A("global!Number",Number);k("ephox.sand.detect.Version",
["ephox.katamari.api.Arr","global!Number","global!String"],function(g,f,e){var d=function(){return c(0,0)},c=function(a,b){return{major:a,minor:b}};return{nu:c,detect:function(a,b){var h=e(b).toLowerCase();if(0===a.length)h=d();else{var g;a:{for(g=0;g<a.length;g++){var n=a[g];if(n.test(h)){g=n;break a}}g=void 0}h=g?c(f(h.replace(g,"$1")),f(h.replace(g,"$2"))):{major:0,minor:0}}return h},unknown:d}});k("ephox.sand.core.Browser",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(g,f){var e=
function(c,a){return function(){return a===c}},d=function(c){var a=c.current;return{current:a,version:c.version,isEdge:e("Edge",a),isChrome:e("Chrome",a),isIE:e("IE",a),isOpera:e("Opera",a),isFirefox:e("Firefox",a),isSafari:e("Safari",a)}};return{unknown:function(){return d({current:void 0,version:f.unknown()})},nu:d,edge:g.constant("Edge"),chrome:g.constant("Chrome"),ie:g.constant("IE"),opera:g.constant("Opera"),firefox:g.constant("Firefox"),safari:g.constant("Safari")}});k("ephox.sand.core.OperatingSystem",
["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(g,f){var e=function(c,a){return function(){return a===c}},d=function(c){var a=c.current;return{current:a,version:c.version,isWindows:e("Windows",a),isiOS:e("iOS",a),isAndroid:e("Android",a),isOSX:e("OSX",a),isLinux:e("Linux",a),isSolaris:e("Solaris",a),isFreeBSD:e("FreeBSD",a)}};return{unknown:function(){return d({current:void 0,version:f.unknown()})},nu:d,windows:g.constant("Windows"),ios:g.constant("iOS"),android:g.constant("Android"),
linux:g.constant("Linux"),osx:g.constant("OSX"),solaris:g.constant("Solaris"),freebsd:g.constant("FreeBSD")}});k("ephox.sand.detect.DeviceType",["ephox.katamari.api.Fun"],function(g){return function(f,e,d){var c=f.isiOS()&&!0===/ipad/i.test(d),a=f.isiOS()&&!c,b=f.isAndroid()&&3===f.version.major,h=f.isAndroid()&&4===f.version.major,b=c||b||h&&!0===/mobile/i.test(d),q=(h=f.isiOS()||f.isAndroid())&&!b;e=e.isSafari()&&f.isiOS()&&!1===/safari/i.test(d);return{isiPad:g.constant(c),isiPhone:g.constant(a),
isTablet:g.constant(b),isPhone:g.constant(q),isTouch:g.constant(h),isAndroid:f.isAndroid,isiOS:f.isiOS,isWebView:g.constant(e)}}});k("ephox.sand.detect.UaString",["ephox.katamari.api.Arr","ephox.sand.detect.Version","global!String"],function(g,f,e){var d=function(c,a){var b=e(a).toLowerCase();return g.find(c,function(a){return a.search(b)})};return{detectBrowser:function(c,a){return d(c,a).map(function(b){var c=f.detect(b.versionRegexes,a);return{current:b.name,version:c}})},detectOs:function(c,a){return d(c,
a).map(function(b){var c=f.detect(b.versionRegexes,a);return{current:b.name,version:c}})}}});k("ephox.katamari.str.StrAppend",[],function(){return{addToStart:function(g,f){return f+g},addToEnd:function(g,f){return g+f},removeFromStart:function(g,f){return g.substring(f)},removeFromEnd:function(g,f){return g.substring(0,g.length-f)}}});k("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],function(g,f){return{first:function(e,d){return e.substr(0,d)},last:function(e,d){return e.substr(e.length-
d,e.length)},head:function(e){return""===e?g.none():g.some(e.substr(0,1))},tail:function(e){return""===e?g.none():g.some(e.substring(1))}}});k("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],function(g,f,e){var d=function(a,b){return""===b?!0:a.length<b.length?!1:a.substr(0,0+b.length)===b},c=function(a,b){return""===b?!0:a.length<b.length?!1:a.substr(a.length-b.length,a.length-b.length+b.length)===b};return{supplant:function(a,b){return a.replace(/\${([^{}]*)}/g,
function(a,c){var d=b[c],e=typeof d;return"string"===e||"number"===e?d:a})},startsWith:d,removeLeading:function(a,b){return d(a,b)?g.removeFromStart(a,b.length):a},removeTrailing:function(a,b){return c(a,b)?g.removeFromEnd(a,b.length):a},ensureLeading:function(a,b){return d(a,b)?a:g.addToStart(a,b)},ensureTrailing:function(a,b){return c(a,b)?a:g.addToEnd(a,b)},endsWith:c,contains:function(a,b){return-1!==a.indexOf(b)},trim:function(a){return a.replace(/^\s+|\s+$/g,"")},lTrim:function(a){return a.replace(/^\s+/g,
"")},rTrim:function(a){return a.replace(/\s+$/g,"")},capitalize:function(a){return f.head(a).bind(function(b){return f.tail(a).map(function(a){return b.toUpperCase()+a})}).getOr(a)}}});k("ephox.sand.info.PlatformInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Strings"],function(g,f){var e=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,d=function(c){return function(a){return f.contains(a,c)}},e=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(c){return f.contains(c,"edge/")&&
f.contains(c,"chrome")&&f.contains(c,"safari")&&f.contains(c,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,e],search:function(c){return f.contains(c,"chrome")&&!f.contains(c,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(c){return f.contains(c,"msie")||f.contains(c,"trident")}},{name:"Opera",versionRegexes:[e,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:d("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
search:d("firefox")},{name:"Safari",versionRegexes:[e,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(c){return(f.contains(c,"safari")||f.contains(c,"mobile/"))&&f.contains(c,"applewebkit")}}],d=[{name:"Windows",search:d("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(c){return f.contains(c,"iphone")||f.contains(c,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",
search:d("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:d("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:d("linux"),versionRegexes:[]},{name:"Solaris",search:d("sunos"),versionRegexes:[]},{name:"FreeBSD",search:d("freebsd"),versionRegexes:[]}];return{browsers:g.constant(e),oses:g.constant(d)}});k("ephox.sand.core.PlatformDetection",["ephox.sand.core.Browser","ephox.sand.core.OperatingSystem","ephox.sand.detect.DeviceType","ephox.sand.detect.UaString",
"ephox.sand.info.PlatformInfo"],function(g,f,e,d,c){return{detect:function(a){var b=c.browsers(),h=c.oses(),b=d.detectBrowser(b,a).fold(g.unknown,g.nu),h=d.detectOs(h,a).fold(f.unknown,f.nu);a=e(h,b,a);return{browser:b,os:h,deviceType:a}}}});A("global!navigator",navigator);k("ephox.sand.api.PlatformDetection",["ephox.katamari.api.Thunk","ephox.sand.core.PlatformDetection","global!navigator"],function(g,f,e){return{detect:g.cached(function(){return f.detect(e.userAgent)})}});k("ephox.sugar.api.search.Selectors",
"ephox.katamari.api.Arr ephox.katamari.api.Option ephox.sugar.api.node.Element ephox.sugar.api.node.NodeTypes global!Error global!document".split(" "),function(g,f,e,d,c,a){var b=d.ELEMENT,h=d.DOCUMENT;return{all:function(c,d){var f=void 0===d?a:d.dom();return f.nodeType!==b&&f.nodeType!==h||0===f.childElementCount?[]:g.map(f.querySelectorAll(c),e.fromDom)},is:function(a,d){var h=a.dom();if(h.nodeType!==b)return!1;if(void 0!==h.matches)return h.matches(d);if(void 0!==h.msMatchesSelector)return h.msMatchesSelector(d);
if(void 0!==h.webkitMatchesSelector)return h.webkitMatchesSelector(d);if(void 0!==h.mozMatchesSelector)return h.mozMatchesSelector(d);throw new c("Browser lacks native selectors");},one:function(c,d){var g=void 0===d?a:d.dom();return g.nodeType!==b&&g.nodeType!==h||0===g.childElementCount?f.none():f.from(g.querySelector(c)).map(e.fromDom)}}});k("ephox.sugar.api.dom.Compare",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sand.api.Node","ephox.sand.api.PlatformDetection","ephox.sugar.api.search.Selectors"],
function(g,f,e,d,c){var a=function(a,b){return a.dom()===b.dom()},b=function(a,b){var c=a.dom(),d=b.dom();return c===d?!1:c.contains(d)},h=function(a,b){return e.documentPositionContainedBy(a.dom(),b.dom())};d=d.detect().browser.isIE()?h:b;return{eq:a,isEqualNode:function(a,b){return a.dom().isEqualNode(b.dom())},member:function(b,c){return g.exists(c,f.curry(a,b))},contains:d,is:c.is}});k("ephox.sugar.api.search.Traverse","ephox.katamari.api.Type ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Option ephox.katamari.api.Struct ephox.sugar.alien.Recurse ephox.sugar.api.dom.Compare ephox.sugar.api.node.Element".split(" "),
function(g,f,e,d,c,a,b,h){var q=function(a){return h.fromDom(a.dom().ownerDocument)},n=function(a){a=a.dom();return d.from(a.parentNode).map(h.fromDom)},p=function(a){a=a.dom();return d.from(a.previousSibling).map(h.fromDom)},l=function(a){a=a.dom();return d.from(a.nextSibling).map(h.fromDom)},k=function(a){a=a.dom();return f.map(a.childNodes,h.fromDom)},v=function(a,b){var c=a.dom().childNodes;return d.from(c[b]).map(h.fromDom)},m=c.immutable("element","offset");return{owner:q,defaultView:function(a){a=
a.dom().ownerDocument.defaultView;return h.fromDom(a)},documentElement:function(a){a=q(a);return h.fromDom(a.dom().documentElement)},parent:n,findIndex:function(a){return n(a).bind(function(c){c=k(c);return f.findIndex(c,function(c){return b.eq(a,c)})})},parents:function(a,b){for(var c=g.isFunction(b)?b:e.constant(!1),d=a.dom(),f=[];null!==d.parentNode&&void 0!==d.parentNode;){var d=d.parentNode,q=h.fromDom(d);f.push(q);if(!0===c(q))break}return f},siblings:function(a){return n(a).map(k).map(function(c){return f.filter(c,
function(c){return!b.eq(a,c)})}).getOr([])},prevSibling:p,offsetParent:function(a){a=a.dom();return d.from(a.offsetParent).map(h.fromDom)},prevSiblings:function(b){return f.reverse(a.toArray(b,p))},nextSibling:l,nextSiblings:function(b){return a.toArray(b,l)},children:k,child:v,firstChild:function(a){return v(a,0)},lastChild:function(a){return v(a,a.dom().childNodes.length-1)},childNodesCount:function(a,b){return a.dom().childNodes.length},leaf:function(a,b){var c=k(a);return 0<c.length&&b<c.length?
m(c[b],0):m(a,b)}}});k("ephox.sugar.api.search.PredicateFilter",["ephox.katamari.api.Arr","ephox.sugar.api.node.Body","ephox.sugar.api.search.Traverse"],function(g,f,e){var d=function(c,a){var b=[];g.each(e.children(c),function(c){a(c)&&(b=b.concat([c]));b=b.concat(d(c,a))});return b};return{all:function(c){return d(f.body(),c)},ancestors:function(c,a,b){return g.filter(e.parents(c,b),a)},siblings:function(c,a){return g.filter(e.siblings(c),a)},children:function(c,a){return g.filter(e.children(c),
a)},descendants:d}});k("ephox.sugar.api.search.SelectorFilter",["ephox.sugar.api.search.PredicateFilter","ephox.sugar.api.search.Selectors"],function(g,f){return{all:function(e){return f.all(e)},ancestors:function(e,d,c){return g.ancestors(e,function(a){return f.is(a,d)},c)},siblings:function(e,d){return g.siblings(e,function(c){return f.is(c,d)})},children:function(e,d){return g.children(e,function(c){return f.is(c,d)})},descendants:function(e,d){return f.all(d,e)}}});k("tinymce.ui.content.LinkTargets",
"ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Id ephox.sugar.api.node.Element ephox.sugar.api.search.SelectorFilter tinymce.core.dom.DOMUtils tinymce.core.util.Tools".split(" "),function(g,f,e,d,c,a,b){var h=b.trim;a=function(a){return function(b){return!b||1!==b.nodeType||b.contentEditable!==a&&b.getAttribute("data-mce-contenteditable")!==a?!1:!0}};var q=a("true"),n=a("false"),p=function(a,b,c,d,h){return{type:a,title:b,url:c,level:d,attach:h}},l=function(a){for(;a=a.parentNode;){var b=
a.contentEditable;if(b&&"inherit"!==b)return q(a)}return!1},k=function(a,b){return g.map(c.descendants(d.fromDom(b),a),function(a){return a.dom()})},v=function(a){return a&&"A"===a.nodeName&&(a.id||a.name)&&l(a)&&!n(a)},m=function(a){return a&&/^(H[1-6])$/.test(a.nodeName)&&l(a)&&!n(a)},r=function(a){var b=a.id?a.id:e.generate("h");return p("header",a.innerText||a.textContent,"#"+b,a&&/^(H[1-6])$/.test(a.nodeName)?parseInt(a.nodeName.substr(1),10):0,function(){a.id=b})},s=function(a){var b=a.id||
a.name;a=a.innerText||a.textContent;return p("anchor",a?a:"#"+b,"#"+b,0,f.noop)},u=function(a){return 0<h(a.title).length};return{find:function(a){a=k("h1,h2,h3,h4,h5,h6,a:not([href])",a);return g.filter(g.map(g.filter(a,m),r).concat(g.map(g.filter(a,v),s)),u)}}});k("tinymce.ui.FilePicker","ephox.katamari.api.Arr ephox.katamari.api.Fun global!window tinymce.ui.content.LinkTargets tinymce.core.EditorManager tinymce.ui.ComboBox tinymce.core.util.Tools".split(" "),function(g,f,e,d,c,a,b){var h={},q=
function(a){return{title:a.title,value:{title:{raw:a.title},url:a.url,attach:a.attach}}},n=function(a,b){return{title:a,value:{title:a,url:b,attach:f.noop}}},p=function(a,b){return!g.exists(b,function(b){return b.url===a})},l=function(a,b,c){a=b in a?a[b]:c;return!1===a?null:a},k=function(a,c,d,e){var k={title:"-"},m=function(a){a=a.hasOwnProperty(d)?a[d]:[];a=g.filter(a,function(a){return p(a,c)});return b.map(a,function(a){return{title:a,value:{title:a,url:a,attach:f.noop}}})},r=function(a){var d=
g.filter(c,function(b){return b.type===a});return b.map(d,q)},w=function(){var a=r("anchor"),b=l(e,"anchor_top","#top"),c=l(e,"anchor_bottom","#bottom");null!==b&&a.unshift(n("<top>",b));null!==c&&a.push(n("<bottom>",c));return a},A=function(a){return g.foldl(a,function(a,b){return 0===a.length||0===b.length?a.concat(b):a.concat(k,b)},[])};return!1===e.typeahead_urls?[]:"file"===d?A([v(a,m(h)),v(a,r("header")),v(a,w())]):v(a,m(h))},v=function(a,c){var d=a.toLowerCase(),h=b.grep(c,function(a){return-1!==
a.title.toLowerCase().indexOf(d)});return 1===h.length&&h[0].title===a?[]:h},m=function(a,b,c,e){var f=function(h){var f=b.enable_autocompletes?d.find(c):[],f=b.enable_autocompletes?k(h,f,e,b):[];a.showAutoComplete(f,h)};a.on("autocomplete",function(){f(a.value())});a.on("selectitem",function(b){b=b.value;a.value(b.url);var c;c=b.title;c=c.raw?c.raw:c;"image"===e?a.fire("change",{meta:{alt:c,attach:b.attach}}):a.fire("change",{meta:{text:c,attach:b.attach}});a.focus()});a.on("click",function(b){0===
a.value().length&&"INPUT"===b.target.nodeName&&f("")});a.on("PostRender",function(){a.getRoot().on("submit",function(b){if(!b.isDefaultPrevented()){b=a.value();var c=h[e];/^https?/.test(b)&&(c?-1===g.indexOf(c,b)&&(h[e]=c.slice(0,5).concat(b)):h[e]=[b])}})})},r=function(a,b,c){var d=b.filepicker_validator_handler;if(d){var h=function(b){0===b.length?a.statusLevel("none"):d({url:b,type:c},function(b){var c;c=b.status;b=b.message;c="valid"===c?{status:"ok",message:b}:"unknown"===c?{status:"warn",message:b}:
"invalid"===c?{status:"warn",message:b}:{status:"none",message:""};a.statusMessage(c.message);a.statusLevel(c.status)})};a.state.on("change:value",function(a){h(a.value)})}};return a.extend({Statics:{clearHistory:function(){h={}}},init:function(a){var d=this,h=e.tinymce?e.tinymce.activeEditor:c.activeEditor,f=h.settings,g,q,n,l=a.filetype;a.spellcheck=!1;(n=f.file_picker_types||f.file_browser_callback_types)&&(n=b.makeMap(n,/[, ]/));if(!n||n[l])q=f.file_picker_callback,!q||n&&!n[l]?(q=f.file_browser_callback,
!q||n&&!n[l]||(g=function(){q(d.getEl("inp").id,d.value(),l,e)})):g=function(){var a=d.fire("beforecall").meta,a=b.extend({filetype:l},a);q.call(h,function(a,b){d.value(a).fire("change",{meta:b})},d.value(),a)};g&&(a.icon="browse",a.onaction=g);d._super(a);m(d,f,h.getBody(),l);r(d,f,l)}})});k("tinymce.ui.FitLayout",["tinymce.ui.AbsoluteLayout"],function(g){return g.extend({recalc:function(f){var e=f.layoutRect(),d=f.paddingBox;f.items().filter(":visible").each(function(c){c.layoutRect({x:d.left,y:d.top,
w:e.innerW-d.right-d.left,h:e.innerH-d.top-d.bottom});c.recalc&&c.recalc()})}})});k("tinymce.ui.FlexLayout",["tinymce.ui.AbsoluteLayout"],function(g){return g.extend({recalc:function(f){var e,d,c,a,b,h,g,n,p,l,k,v,m,r=[],s,u,t,y,x,z,B,A,H,K,C,E,F,G,D,I,L,M,N=Math.max,Q=Math.min;c=f.items().filter(":visible");a=f.layoutRect();b=f.paddingBox;h=f.settings;e=f.isRtl()?h.direction||"row-reversed":h.direction;g=h.align;n=f.isRtl()?h.pack||"end":h.pack;h=h.spacing||0;if("row-reversed"==e||"column-reverse"==
e)c=c.set(c.toArray().reverse()),e=e.split("-")[0];"column"==e?(x="y",t="h",y="minH",z="maxH",A="innerH",B="top",H="deltaH",K="contentH",D="left",F="w",C="x",E="innerW",G="minW",I="right",L="deltaW",M="contentW"):(x="x",t="w",y="minW",z="maxW",A="innerW",B="left",H="deltaW",K="contentW",D="top",F="h",C="y",E="innerH",G="minH",I="bottom",L="deltaH",M="contentH");l=a[A]-b[B]-b[B];e=u=p=0;for(d=c.length;e<d;e++)k=c[e],v=k.layoutRect(),m=k.settings,m=m.flex,l-=e<d-1?h:0,0<m&&(p+=m,v[z]&&r.push(k),v.flex=
m),l-=v[y],m=b[D]+v[G]+b[I],m>u&&(u=m);s={};s[y]=0>l?a[y]-l+a[H]:a[A]-l+a[H];s[G]=u+a[L];s[K]=a[A]-l;s[M]=u;s.minW=Q(s.minW,a.maxW);s.minH=Q(s.minH,a.maxH);s.minW=N(s.minW,a.startMinWidth);s.minH=N(s.minH,a.startMinHeight);if(!a.autoResize||s.minW==a.minW&&s.minH==a.minH){f=l/p;e=0;for(d=r.length;e<d;e++)k=r[e],v=k.layoutRect(),k=v[z],m=v[y]+v.flex*f,m>k?(l-=v[z]-v[y],p-=v.flex,v.flex=0,v.maxFlexSize=k):v.maxFlexSize=0;f=l/p;r=b[B];s={};0===p&&("end"==n?r=l+b[B]:"center"==n?(r=Math.round(a[A]/2-(a[A]-
l)/2)+b[B],0>r&&(r=b[B])):"justify"==n&&(r=b[B],h=Math.floor(l/(c.length-1))));s[C]=b[D];e=0;for(d=c.length;e<d;e++)k=c[e],v=k.layoutRect(),m=v.maxFlexSize||v[y],"center"===g?s[C]=Math.round(a[E]/2-v[F]/2):"stretch"===g?(s[F]=N(v[G]||0,a[E]-b[D]-b[I]),s[C]=b[D]):"end"===g&&(s[C]=a[E]-v[F]-b.top),0<v.flex&&(m+=v.flex*f),s[t]=m,s[x]=r,k.layoutRect(s),k.recalc&&k.recalc(),r+=m+h}else if(s.w=s.minW,s.h=s.minH,f.layoutRect(s),this.recalc(f),null===f._lastRect&&(c=f.parent()))c._lastRect=null,c.recalc()}})});
k("tinymce.ui.FlowLayout",["tinymce.ui.Layout"],function(g){return g.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(f){f.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})});k("ephox.sugar.impl.ClosestOrAncestor",["ephox.katamari.api.Type","ephox.katamari.api.Option"],function(g,f){return function(e,d,c,a,b){return e(c,a)?f.some(c):g.isFunction(b)&&b(c)?f.none():d(c,a,b)}});k("ephox.sugar.api.search.PredicateFind",
"ephox.katamari.api.Type ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Option ephox.sugar.api.node.Body ephox.sugar.api.dom.Compare ephox.sugar.api.node.Element ephox.sugar.impl.ClosestOrAncestor".split(" "),function(g,f,e,d,c,a,b,h){var q=function(a,c,h){a=a.dom();for(h=g.isFunction(h)?h:e.constant(!1);a.parentNode;){a=a.parentNode;var f=b.fromDom(a);if(c(f))return d.some(f);if(h(f))break}return d.none()},n=function(a,c){return f.find(a.dom().childNodes,e.compose(c,b.fromDom)).map(b.fromDom)},
k=function(a,c){var h=function(a){for(var e=0;e<a.childNodes.length;e++){if(c(b.fromDom(a.childNodes[e])))return d.some(b.fromDom(a.childNodes[e]));var f=h(a.childNodes[e]);if(f.isSome())return f}return d.none()};return h(a.dom())};return{first:function(a){return k(c.body(),a)},ancestor:q,closest:function(a,b,c){return h(function(a){return b(a)},q,a,b,c)},sibling:function(c,h){var e=c.dom();return e.parentNode?n(b.fromDom(e.parentNode),function(b){return!a.eq(c,b)&&h(b)}):d.none()},child:n,descendant:k}});
k("ephox.sugar.api.search.SelectorFind",["ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Selectors","ephox.sugar.impl.ClosestOrAncestor"],function(g,f,e){var d=function(c,a,b){return g.ancestor(c,function(b){return f.is(b,a)},b)};return{first:function(c){return f.one(c)},ancestor:d,sibling:function(c,a){return g.sibling(c,function(b){return f.is(b,a)})},child:function(c,a){return g.child(c,function(b){return f.is(b,a)})},descendant:function(c,a){return f.one(a,c)},closest:function(c,
a,b){return e(f.is,d,c,a,b)}}});k("tinymce.ui.editorui.FormatUtils",[],function(){return{toggleFormat:function(g,f){return function(){g.execCommand("mceToggleFormat",!1,f)}},postRenderFormat:function(g,f){return function(){var e=this;if(g.formatter)g.formatter.formatChanged(f,function(d){e.active(d)});else g.on("init",function(){g.formatter.formatChanged(f,function(d){e.active(d)})})}}}});k("tinymce.ui.editorui.Align",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(g,f){return{register:function(e){e.addMenuItem("align",
{text:"Align",menu:[{text:"Left",icon:"alignleft",onclick:f.toggleFormat(e,"alignleft")},{text:"Center",icon:"aligncenter",onclick:f.toggleFormat(e,"aligncenter")},{text:"Right",icon:"alignright",onclick:f.toggleFormat(e,"alignright")},{text:"Justify",icon:"alignjustify",onclick:f.toggleFormat(e,"alignjustify")}]});g.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment",
"JustifyNone"]},function(d,c){e.addButton(c,{active:!1,tooltip:d[0],cmd:d[1],onPostRender:f.postRenderFormat(e,c)})})}}});k("tinymce.ui.fmt.FontInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","tinymce.core.dom.DOMUtils"],function(g,f,e,d,c){var a=function(a,b){return f.from(c.DOM.getStyle(b,a,!0))},b=function(b){return function(c,g){return f.from(g).map(e.fromDom).filter(d.isElement).bind(function(d){var e;a:{for(e=d.dom();e!==
c;){if(e.style[b]){e=e.style[b];e=""!==e?f.some(e):f.none();break a}e=e.parentNode}e=f.none()}return e.or(a(b,d.dom()))}).getOr("")}};return{getFontSize:b("fontSize"),getFontFamily:g.compose(function(a){return a.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},b("fontFamily")),toPt:function(a,b){if(/[0-9.]+px$/.test(a)){var c=72*parseInt(a,10)/96,d=Math.pow(10,b||0);return Math.round(c*d)/d+"pt"}return a}}});k("tinymce.ui.editorui.FontSelect",["tinymce.core.util.Tools","tinymce.ui.fmt.FontInfo"],function(g,
f){var e=function(a,b){var c;g.each(a,function(a){a.value.toLowerCase()===b.toLowerCase()&&(c=a.value)});g.each(a,function(a){c||(a.value?a.value.split(",")[0]:"").toLowerCase()!==(b?b.split(",")[0]:"").toLowerCase()||(c=a.value)});return c},d=function(a,b){return function(){var c=this;a.on("init nodeChange",function(d){d=f.getFontFamily(a.getBody(),d.element);var g=e(b,d);c.value(g?g:null);!g&&d&&c.text(d?d.split(",")[0]:"")})}},c=function(a){a=a.replace(/;$/,"").split(";");for(var b=a.length;b--;)a[b]=
a[b].split("=");return a},a=function(a){a=c(a.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
return g.map(a,function(a){return{text:{raw:a[0]},value:a[1],textStyle:-1===a[1].indexOf("dings")?"font-family:"+a[1]:""}})},b=function(b){b.addButton("fontselect",function(){var c=a(b);return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:c,fixedWidth:!0,onPostRender:d(b,c),onselect:function(a){a.control.settings.value&&b.execCommand("FontName",!1,a.control.settings.value)}}})};return{register:function(a){b(a)}}});k("tinymce.ui.editorui.FontSizeSelect",["tinymce.core.util.Tools",
"tinymce.ui.fmt.FontInfo"],function(g,f){var e=function(a,c,d){var e;g.each(a,function(a){a.value===d?e=d:a.value===c&&(e=c)});return e},d=function(a,c){return function(){var d=this;a.on("init nodeChange",function(g){var k,l,w;if(g=f.getFontSize(a.getBody(),g.element))for(l=3;!w&&0<=l;l--)k=f.toPt(g,l),w=e(c,k,g);d.value(w?w:null);w||d.text(k)})}},c=function(a){return g.map((a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(a){var b=a,c=a;a=a.split("=");1<a.length&&
(b=a[0],c=a[1]);return{text:b,value:c}})},a=function(a){a.addButton("fontsizeselect",function(){var e=c(a);return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:e,fixedWidth:!0,onPostRender:d(a,e),onclick:function(c){c.control.settings.value&&a.execCommand("FontSize",!1,c.control.settings.value)}}})};return{register:function(b){a(b)}}});k("tinymce.ui.editorui.FormatSelect",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(g,f){var e=function(a,b,c){return function(){var d=
this;a.on("nodeChange",function(e){var f=a.formatter,k=null;g.each(e.parents,function(a){g.each(b,function(b){c?f.matchNode(a,c,{value:b.value})&&(k=b.value):f.matchNode(a,b.value)&&(k=b.value);if(k)return!1});if(k)return!1});d.value(k)})}},d=function(a,b){return function(){var c=[];g.each(b,function(b){c.push({text:b[0],value:b[1],textStyle:function(){return a.formatter.getCssText(b[1])}})});return{type:"listbox",text:b[0][0],values:c,fixedWidth:!0,onselect:function(b){b.control&&(b=b.control.value(),
f.toggleFormat(a,b)())},onPostRender:e(a,c)}}},c=function(a,b){return g.map(b,function(b){return{text:b[0],onclick:f.toggleFormat(a,b[1]),textStyle:function(){return a.formatter.getCssText(b[1])}}})};return{register:function(a){var b;b=a.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre";b=b.replace(/;$/,"").split(";");for(var e=b.length;e--;)b[e]=b[e].split("=");a.addMenuItem("blockformats",{text:"Blocks",menu:c(a,
b)});a.addButton("formatselect",d(a,b))}}});k("tinymce.ui.editorui.Formats",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(g,f){var e=function(a,c){var d=c.length;g.each(c,function(c){c.menu&&(c.hidden=0===e(a,c.menu));var h=c.format;h&&(c.hidden=!a.formatter.canApply(h));c.hidden&&d--});return d},d=function(a,c){var f=c.items().length;c.items().each(function(c){c.menu&&c.visible(0<d(a,c.menu));!c.menu&&c.settings.menu&&c.visible(0<e(a,c.settings.menu));var h=c.settings.format;
h&&c.visible(a.formatter.canApply(h));c.visible()||f--});return f},c=function(a){var c=0,d=[],e=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",
icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",
icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],k=function(a){var b=[];if(a)return g.each(a,function(a){var e={text:a.title,icon:a.icon};if(a.items)e.menu=k(a.items);else{var f=a.format||"custom"+c++;a.format||(a.name=f,d.push(a));e.format=f;e.cmd=a.cmd}b.push(e)}),b};a.on("init",function(){g.each(d,function(c){a.formatter.register(c.name,c)})});return{type:"menu",items:a.settings.style_formats_merge?a.settings.style_formats?k(e.concat(a.settings.style_formats)):
k(e):k(a.settings.style_formats||e),onPostRender:function(c){a.fire("renderFormatsMenu",{control:c.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return a.formatter.getCssText(this.settings.format)},onPostRender:function(){var c=this;c.parent().on("show",function(){var d;if(d=c.settings.format)c.disabled(!a.formatter.canApply(d)),c.active(a.formatter.match(d));(d=c.settings.cmd)&&c.active(a.queryCommandState(d))})},onclick:function(){this.settings.format&&f.toggleFormat(a,
this.settings.format)();this.settings.cmd&&a.execCommand(this.settings.cmd)}}}},a=function(a,c){a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:c,onShowMenu:function(){a.settings.style_formats_autohide&&d(a,this.menu)}})};return{register:function(b){var d=c(b);b.addMenuItem("formats",{text:"Formats",menu:d});a(b,d)}}});k("tinymce.ui.editorui.InsertButton",["ephox.katamari.api.Arr","tinymce.core.util.Tools"],function(g,f){var e=function(a,b){var c;if("string"===typeof b)c=b.split(" ");
else if(f.isArray(b))return g.flatten(f.map(b,function(b){return e(a,b)}));c=f.grep(c,function(b){return"|"===b||b in a.menuItems});return f.map(c,function(b){return"|"===b?{text:"-"}:a.menuItems[b]})},d=function(a){a=g.filter(a,function(a,b,c){return!(a&&"-"===a.text)||!(c[b-1]&&"-"===c[b-1].text)});return g.filter(a,function(a,b,c){return!(a&&"-"===a.text)||0<b&&b<c.length-1})},c=function(a,b){var c=[{text:"-"}],d=f.grep(a.menuItems,function(a){return a.context===b});f.each(d,function(a){"before"===
a.separator&&c.push({text:"|"});a.prependToContext?c.unshift(a):c.push(a);"after"===a.separator&&c.push({text:"|"})});return c},a=function(a){var b=a.settings.insert_button_items;return b?d(e(a,b)):d(c(a,"insert"))},b=function(b){b.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(a(b));this.menu.renderNew()}})};return{register:function(a){b(a)}}});k("tinymce.ui.editorui.SimpleControls",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(g,
f){var e=function(a){g.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(c,d){a.addButton(d,{active:!1,tooltip:c,onPostRender:f.postRenderFormat(a,d),onclick:f.toggleFormat(a,d)})})},d=function(a){g.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids",
"mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(c,d){a.addButton(d,{tooltip:c[0],cmd:c[1]})})},c=function(a){g.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(c,d){a.addButton(d,{active:!1,tooltip:c[0],cmd:c[1],onPostRender:f.postRenderFormat(a,d)})})},a=function(a){g.each({bold:["Bold","Bold","Meta+B"],italic:["Italic",
"Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(c,d){a.addMenuItem(d,{text:c[0],icon:d,shortcut:c[2],cmd:c[1]})});a.addMenuItem("codeformat",
{text:"Code",icon:"code",onclick:f.toggleFormat(a,"code")})};return{register:function(b){e(b);d(b);c(b);a(b)}}});k("tinymce.ui.editorui.UndoRedo",[],function(){var g=function(f,e){return function(){var d=this,c=function(){var a="redo"===e?"hasRedo":"hasUndo";return f.undoManager?f.undoManager[a]():!1};d.disabled(!c());f.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){d.disabled(f.readonly||!c())})}};return{register:function(f){f.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",
onPostRender:g(f,"undo"),cmd:"undo"});f.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:g(f,"redo"),cmd:"redo"});f.addButton("undo",{tooltip:"Undo",onPostRender:g(f,"undo"),cmd:"undo"});f.addButton("redo",{tooltip:"Redo",onPostRender:g(f,"redo"),cmd:"redo"})}}});k("tinymce.ui.editorui.VisualAid",[],function(){var g=function(f){return function(){var e=this;f.on("VisualAid",function(d){e.active(d.hasVisual)});e.active(f.hasVisual)}};return{register:function(f){f.addMenuItem("visualaid",
{text:"Visual aids",selectable:!0,onPostRender:g(f),cmd:"mceToggleVisualAid"})}}});k("tinymce.ui.FormatControls","ephox.katamari.api.Fun ephox.sugar.api.node.Element ephox.sugar.api.search.SelectorFind global!document tinymce.core.EditorManager tinymce.core.Env tinymce.ui.Control tinymce.ui.FloatPanel tinymce.ui.Widget tinymce.ui.editorui.Align tinymce.ui.editorui.FontSelect tinymce.ui.editorui.FontSizeSelect tinymce.ui.editorui.FormatSelect tinymce.ui.editorui.Formats tinymce.ui.editorui.InsertButton tinymce.ui.editorui.SimpleControls tinymce.ui.editorui.UndoRedo tinymce.ui.editorui.VisualAid".split(" "),
function(g,f,e,d,c,a,b,h,q,k,p,l,w,v,m,r,s,u){var t=function(){q.tooltips=!a.iOS;b.translate=function(a){return c.translate(a)}},y=function(b){b.settings.ui_container&&(a.container=e.descendant(f.fromDom(d.body),b.settings.ui_container).fold(g.constant(null),function(a){return a.dom()}))},x=function(a){a.on("mousedown",function(){h.hideAll()})};return{setup:function(a){a.rtl&&(b.rtl=!0);x(a);y(a);t(a);w.register(a);k.register(a);r.register(a);s.register(a);l.register(a);p.register(a);v.register(a);
u.register(a);m.register(a)}}});k("tinymce.ui.GridLayout",["tinymce.ui.AbsoluteLayout"],function(g){return g.extend({recalc:function(f){var e,d,c,a,b,h,g,k,p,l,w,v,m,r,s,u,t,y,x=[],z=[],B;e=f.settings;a=f.items().filter(":visible");b=f.layoutRect();c=e.columns||Math.ceil(Math.sqrt(a.length));d=Math.ceil(a.length/c);s=e.spacingH||e.spacing||0;u=e.spacingV||e.spacing||0;t=e.alignH||e.align;y=e.alignV||e.align;m=f.paddingBox;B="reverseRows"in e?e.reverseRows:f.isRtl();t&&"string"==typeof t&&(t=[t]);
y&&"string"==typeof y&&(y=[y]);for(l=0;l<c;l++)x.push(0);for(g=0;g<d;g++)z.push(0);for(g=0;g<d;g++)for(l=0;l<c;l++){p=a[g*c+l];if(!p)break;k=p.layoutRect();p=k.minW;k=k.minH;x[l]=p>x[l]?p:x[l];z[g]=k>z[g]?k:z[g]}k=b.innerW-m.left-m.right;for(l=p=0;l<c;l++)p+=x[l]+(0<l?s:0),k-=(0<l?s:0)+x[l];w=b.innerH-m.top-m.bottom;for(g=l=0;g<d;g++)l+=z[g]+(0<g?u:0),w-=(0<g?u:0)+z[g];p+=m.left+m.right;l+=m.top+m.bottom;g={};g.minW=p+(b.w-b.innerW);g.minH=l+(b.h-b.innerH);g.contentW=g.minW-b.deltaW;g.contentH=g.minH-
b.deltaH;g.minW=Math.min(g.minW,b.maxW);g.minH=Math.min(g.minH,b.maxH);g.minW=Math.max(g.minW,b.startMinWidth);g.minH=Math.max(g.minH,b.startMinHeight);if(!b.autoResize||g.minW==b.minW&&g.minH==b.minH){b.autoResize&&(g=f.layoutRect(g),g.contentW=g.minW-b.deltaW,g.contentH=g.minH-b.deltaH);f="start"==e.packV?0:0<w?Math.floor(w/d):0;g=0;if(e=e.flexWidths)for(l=0;l<e.length;l++)g+=e[l];else g=c;g=k/g;for(l=0;l<c;l++)x[l]+=e?e[l]*g:g;w=m.top;for(g=0;g<d;g++){b=m.left;e=z[g]+f;for(l=0;l<c;l++){k=B?g*c+
c-1-l:g*c+l;p=a[k];if(!p)break;v=p.settings;k=p.layoutRect();h=Math.max(x[l],k.startMinWidth);k.x=b;k.y=w;r=v.alignH||(t?t[l]||t[0]:null);"center"==r?k.x=b+h/2-k.w/2:"right"==r?k.x=b+h-k.w:"stretch"==r&&(k.w=h);r=v.alignV||(y?y[l]||y[0]:null);"center"==r?k.y=w+e/2-k.h/2:"bottom"==r?k.y=w+e-k.h:"stretch"==r&&(k.h=e);p.layoutRect(k);b+=h+s;p.recalc&&p.recalc()}w+=e+u}}else if(g.w=g.minW,g.h=g.minH,f.layoutRect(g),this.recalc(f),null===f._lastRect&&(d=f.parent()))d._lastRect=null,d.recalc()}})});k("tinymce.ui.Iframe",
["tinymce.ui.Widget","tinymce.core.util.Delay"],function(g,f){return g.extend({renderHtml:function(){this.classes.add("iframe");this.canFocus=!1;return'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,d){var c=this,a=this.getEl().contentWindow.document.body;a?(a.innerHTML=e,d&&d()):f.setTimeout(function(){c.html(e)});return this}})});k("tinymce.ui.InfoBox",
["tinymce.ui.Widget"],function(g){return g.extend({init:function(f){this._super(f);this.classes.add("widget").add("infobox");this.canFocus=!1},severity:function(f){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(f)},help:function(f){this.state.set("help",f)},renderHtml:function(){var f=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+
f+"ico "+f+'i-help"></i></button></div></div>'},bindStates:function(){var f=this;f.state.on("change:text",function(e){f.getEl("body").firstChild.data=f.encode(e.value);f.state.get("rendered")&&f.updateLayoutRect()});f.state.on("change:help",function(e){f.classes.toggle("has-help",e.value);f.state.get("rendered")&&f.updateLayoutRect()});return f._super()}})});k("tinymce.ui.Label",["tinymce.ui.Widget","tinymce.ui.DomUtils"],function(g,f){return g.extend({init:function(e){this._super(e);this.classes.add("widget").add("label");
this.canFocus=!1;e.multiline&&this.classes.add("autoscroll");e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();this.settings.multiline&&(f.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,f.getSize(this.getEl()).height));return e},repaint:function(){this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px");return this._super()},severity:function(e){this.classes.remove("error");
this.classes.remove("warning");this.classes.remove("success");this.classes.add(e)},renderHtml:function(){var e,d=this.settings.forId,c=this.settings.html?this.settings.html:this.encode(this.state.get("text"));!d&&(e=this.settings.forName)&&(e=this.getRoot().find("#"+e)[0])&&(d=e._id);return d?'<label id="'+this._id+'" class="'+this.classes+'"'+(d?' for="'+d+'"':"")+">"+c+"</label>":'<span id="'+this._id+'" class="'+this.classes+'">'+c+"</span>"},bindStates:function(){var e=this;e.state.on("change:text",
function(d){e.innerHtml(e.encode(d.value));e.state.get("rendered")&&e.updateLayoutRect()});return e._super()}})});k("tinymce.ui.Toolbar",["tinymce.ui.Container"],function(g){return g.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(f){this._super(f);this.classes.add("toolbar")},postRender:function(){this.items().each(function(f){f.classes.add("toolbar-item")});return this._super()}})});k("tinymce.ui.MenuBar",["tinymce.ui.Toolbar"],function(g){return g.extend({Defaults:{role:"menubar",
containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})});k("tinymce.ui.MenuButton",["global!window","tinymce.core.ui.Factory","tinymce.ui.Button","tinymce.ui.MenuBar"],function(g,f,e,d){var c=e.extend({init:function(a){this._renderOpen=!0;this._super(a);a=this.settings;this.classes.add("menubtn");a.fixedWidth&&this.classes.add("fixed-width");this.aria("haspopup",!0);this.state.set("menu",a.menu||this.render())},showMenu:function(a){var b=this;if(b.menu&&b.menu.visible()&&!1!==a)return b.hideMenu();
b.menu||(a=b.state.get("menu")||[],b.classes.add("opened"),a.length?a={type:"menu",animate:!0,items:a}:(a.type=a.type||"menu",a.animate=!0),b.menu=a.renderTo?a.parent(b).show().renderTo():f.create(a).parent(b).renderTo(),b.fire("createmenu"),b.menu.reflow(),b.menu.on("cancel",function(a){a.control.parent()===b.menu&&(a.stopPropagation(),b.focus(),b.hideMenu())}),b.menu.on("select",function(){b.focus()}),b.menu.on("show hide",function(a){a.control===b.menu&&(b.activeMenu("show"==a.type),b.classes.toggle("opened",
"show"==a.type));b.aria("expanded","show"==a.type)}).fire("show"));b.menu.show();b.menu.layoutRect({w:b.layoutRect().w});b.menu.moveRel(b.getEl(),b.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);b.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(a){a.hideMenu&&a.hideMenu()}),this.menu.hide())},activeMenu:function(a){this.classes.toggle("active",a)},renderHtml:function(){var a=this._id,b=this.classPrefix,c=this.settings.icon,e,f=this.state.get("text"),k="";(e=this.settings.image)?
(c="none","string"!=typeof e&&(e=g.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="";f&&(this.classes.add("btn-has-text"),k='<span class="'+b+'txt">'+this.encode(f)+"</span>");c=this.settings.icon?b+"ico "+b+"i-"+c:"";this.aria("role",this.parent()instanceof d?"menuitem":"button");return'<div id="'+a+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+a+'"><button id="'+a+'-open" role="presentation" type="button" tabindex="-1">'+(c?'<i class="'+c+'"'+e+"></i>":"")+
k+' <i class="'+b+'caret"></i></button></div>'},postRender:function(){var a=this;a.on("click",function(b){var c;if(c=b.control===a)a:{c=b.target;for(var d=a.getEl();c;){if(d===c){c=!0;break a}c=c.parentNode}c=!1}c&&(a.focus(),a.showMenu(!b.aria),b.aria&&a.menu.items().filter(":visible")[0].focus())});a.on("mouseenter",function(b){var d=b.control;b=a.parent();var e;d&&b&&d instanceof c&&d.parent()==b&&(b.items().filter("MenuButton").each(function(a){a.hideMenu&&a!=d&&(a.menu&&a.menu.visible()&&(e=
!0),a.hideMenu())}),e&&(d.focus(),d.showMenu()))});return a._super()},bindStates:function(){var a=this;a.state.on("change:menu",function(){a.menu&&a.menu.remove();a.menu=null});return a._super()},remove:function(){this._super();this.menu&&this.menu.remove()}});return c});k("tinymce.ui.MenuItem",["tinymce.ui.Widget","tinymce.core.ui.Factory","tinymce.core.Env","tinymce.core.util.Delay"],function(g,f,e,d){return g.extend({Defaults:{border:0,role:"menuitem"},init:function(c){var a;this._super(c);c=this.settings;
this.classes.add("menu-item");c.menu&&this.classes.add("menu-item-expand");c.preview&&this.classes.add("menu-item-preview");a=this.state.get("text");if("-"===a||"|"===a)this.classes.add("menu-item-sep"),this.aria("role","separator"),this.state.set("text","-");c.selectable&&(this.aria("role","menuitemcheckbox"),this.classes.add("menu-item-checkbox"),c.icon="selected");c.preview||c.selectable||this.classes.add("menu-item-normal");this.on("mousedown",function(a){a.preventDefault()});c.menu&&!c.ariaHideMenu&&
this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var c=this,a=c.settings,b,d=c.parent();d.items().each(function(a){a!==c&&a.hideMenu()});a.menu&&((b=c.menu)?b.show():(b=a.menu,b.length?b={type:"menu",animate:!0,items:b}:(b.type=b.type||"menu",b.animate=!0),d.settings.itemDefaults&&(b.itemDefaults=d.settings.itemDefaults),b=c.menu=f.create(b).parent(c).renderTo(),b.reflow(),b.on("cancel",function(a){a.stopPropagation();c.focus();b.hide()}),b.on("show hide",
function(a){a.control.items&&a.control.items().each(function(a){a.active(a.settings.selected)})}).fire("show"),b.on("hide",function(a){a.control===b&&c.classes.remove("selected")}),b.submenu=!0),b._parentMenu=d,b.classes.add("menu-sub"),a=b.testMoveRel(c.getEl(),c.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]),b.moveRel(c.getEl(),a),b.rel=a,a="menu-sub-"+a,b.classes.remove(b._lastRel).add(a),b._lastRel=a,c.classes.add("selected"),c.aria("expanded",!0))},hideMenu:function(){this.menu&&
(this.menu.items().each(function(c){c.hideMenu&&c.hideMenu()}),this.menu.hide(),this.aria("expanded",!1));return this},renderHtml:function(){function c(a){var b,c,d={},d=e.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"};a=a.split("+");for(b=0;b<a.length;b++)(c=d[a[b].toLowerCase()])&&(a[b]=c);return a.join("+")}function a(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(b){var c=g.match||"";return c?b.replace(RegExp(a(c),"gi"),function(a){return"!mce~match["+
a+"]mce~match!"}):b}function d(b){return b.replace(RegExp(a("!mce~match["),"g"),"<b>").replace(RegExp(a("]mce~match!"),"g"),"</b>")}var f=this._id,g=this.settings,k=this.classPrefix,l=this.state.get("text"),w=this.settings.icon,v="",m=g.shortcut,r=this.encode(g.url),s="";w&&this.parent().classes.add("menu-has-icons");g.image&&(v=" style=\"background-image: url('"+g.image+"')\"");m&&(m=c(m));w=k+"ico "+k+"i-"+(this.settings.icon||"none");s="-"!==l?'<i class="'+w+'"'+v+"></i>\u00a0":"";l=d(this.encode(b(l)));
r=d(this.encode(b(r)));return'<div id="'+f+'" class="'+this.classes+'" tabindex="-1">'+s+("-"!==l?'<span id="'+f+'-text" class="'+k+'text">'+l+"</span>":"")+(m?'<div id="'+f+'-shortcut" class="'+k+'menu-shortcut">'+m+"</div>":"")+(g.menu?'<div class="'+k+'caret"></div>':"")+(r?'<div class="'+k+'menu-item-link">'+r+"</div>":"")+"</div>"},postRender:function(){var c=this,a=c.settings,b=a.textStyle;"function"===typeof b&&(b=b.call(this));if(b){var e=c.getEl("text");e&&(e.setAttribute("style",b),c._textStyle=
b)}c.on("mouseenter click",function(b){b.control===c&&(a.menu||"click"!==b.type?(c.showMenu(),b.aria&&c.menu.focus(!0)):(c.fire("select"),d.requestAnimationFrame(function(){c.parent().hideAll()})))});c._super();return c},hover:function(){this.parent().items().each(function(c){c.classes.remove("selected")});this.classes.toggle("selected",!0);return this},active:function(c){var a=this._textStyle;if(a){var b=this.getEl("text");b.setAttribute("style",a);c&&(b.style.color="",b.style.backgroundColor="")}"undefined"!=
typeof c&&this.aria("checked",c);return this._super(c)},remove:function(){this._super();this.menu&&this.menu.remove()}})});k("tinymce.ui.Menu","tinymce.core.Env tinymce.core.util.Delay tinymce.core.util.Tools tinymce.ui.FloatPanel tinymce.ui.MenuItem tinymce.ui.Throbber".split(" "),function(g,f,e,d,c,a){return d.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(a){a.autohide=!0;a.constrainToViewport=!0;"function"===typeof a.items&&
(a.itemsFactory=a.items,a.items=[]);if(a.itemDefaults)for(var c=a.items,d=c.length;d--;)c[d]=e.extend({},a.itemDefaults,c[d]);this._super(a);this.classes.add("menu");a.animate&&11!==g.ie&&this.classes.add("animate")},repaint:function(){this.classes.toggle("menu-align",!0);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){this.hideAll();this.fire("select")},load:function(){function b(){c.throbber&&(c.throbber.hide(),c.throbber=null)}var c=
this,d;c.settings.itemsFactory&&(c.throbber||(c.throbber=new a(c.getEl("body"),!0),0===c.items().length?(c.throbber.show(),c.fire("loading")):c.throbber.show(100,function(){c.items().remove();c.fire("loading")}),c.on("hide close",b)),c.requestTime=d=(new Date).getTime(),c.settings.itemsFactory(function(a){0===a.length?c.hide():c.requestTime===d&&(c.getEl().style.width="",c.getEl("body").style.width="",b(),c.items().remove(),c.getEl("body").innerHTML="",c.add(a),c.renderNew(),c.fire("loaded"))}))},
hideAll:function(){this.find("menuitem").exec("hideMenu");return this._super()},preRender:function(){var a=this;a.items().each(function(c){c=c.settings;if(c.icon||c.image||c.selectable)return a._hasIcons=!0,!1});if(a.settings.itemsFactory)a.on("postrender",function(){a.settings.itemsFactory&&a.load()});a.on("show hide",function(c){c.control===a&&("show"===c.type?f.setTimeout(function(){a.classes.add("in")},0):a.classes.remove("in"))});return a._super()}})});k("tinymce.ui.ListBox",["tinymce.ui.MenuButton",
"tinymce.ui.Menu"],function(g,f){return g.extend({init:function(e){function d(a){for(var f=0;f<a.length;f++){if(b=a[f].selected||e.value===a[f].value)return h=h||a[f].text,c.state.set("value",a[f].value),!0;if(a[f].menu&&d(a[f].menu))return!0}}var c=this,a,b,h,f;c._super(e);e=c.settings;if(c._values=a=e.values)"undefined"!=typeof e.value&&d(a),!b&&0<a.length&&(h=a[0].text,c.state.set("value",a[0].value)),c.state.set("menu",a);c.state.set("text",e.text||h);c.classes.add("listbox");c.on("select",function(a){var b=
a.control;f&&(a.lastControl=f);e.multiple?b.active(!b.active()):c.value(a.control.value());f=b})},bindStates:function(){function e(a,b){a instanceof f&&a.items().each(function(a){a.hasMenus()||a.active(a.value()===b)})}function d(a,b){var c;if(a)for(var e=0;e<a.length;e++){if(a[e].value===b)return a[e];if(a[e].menu&&(c=d(a[e].menu,b)))return c}}var c=this;c.on("show",function(a){e(a.control,c.value())});c.state.on("change:value",function(a){(a=d(c.state.get("menu"),a.value))?c.text(a.text):c.text(c.settings.text)});
return c._super()}})});k("tinymce.ui.Radio",["tinymce.ui.Checkbox"],function(g){return g.extend({Defaults:{classes:"radio",role:"radio"}})});k("tinymce.ui.ResizeHandle",["tinymce.ui.Widget","tinymce.ui.DragHelper"],function(g,f){return g.extend({renderHtml:function(){var e=this.classPrefix;this.classes.add("resizehandle");"both"==this.settings.direction&&this.classes.add("resizehandle-both");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},
postRender:function(){var e=this;e._super();e.resizeDragHelper=new f(this._id,{start:function(){e.fire("ResizeStart")},drag:function(d){"both"!=e.settings.direction&&(d.deltaX=0);e.fire("Resize",d)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){this.resizeDragHelper&&this.resizeDragHelper.destroy();return this._super()}})});k("tinymce.ui.SelectBox",["tinymce.ui.Widget"],function(g){function f(e){var d="";if(e)for(var c=0;c<e.length;c++)d+='<option value="'+e[c]+'">'+e[c]+"</option>";return d}
return g.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var d=this;d._super(e);d.settings.size&&(d.size=d.settings.size);d.settings.options&&(d._options=d.settings.options);d.on("keydown",function(c){var a;13==c.keyCode&&(c.preventDefault(),d.parents().reverse().each(function(b){if(b.toJSON)return a=b,!1}),d.fire("submit",{data:a.toJSON()}))})},options:function(e){if(!arguments.length)return this.state.get("options");this.state.set("options",e);return this},renderHtml:function(){var e,
d="";e=f(this._options);this.size&&(d=' size = "'+this.size+'"');return'<select id="'+this._id+'" class="'+this.classes+'"'+d+">"+e+"</select>"},bindStates:function(){var e=this;e.state.on("change:options",function(d){e.getEl().innerHTML=f(d.value)});return e._super()}})});k("tinymce.ui.Slider",["tinymce.ui.Widget","tinymce.ui.DragHelper","tinymce.ui.DomUtils"],function(g,f,e){function d(a,b,c){a<b&&(a=b);a>c&&(a=c);return a}function c(a,b){var c,d,f,g;"v"==a.settings.orientation?(f="top",d="height",
c="h"):(f="left",d="width",c="w");g=a.getEl("handle");c=((a.layoutRect()[c]||100)-e.getSize(g)[d])*((b-a._minValue)/(a._maxValue-a._minValue))+"px";g.style[f]=c;g.style.height=a.layoutRect().h+"px";g.setAttribute("aria-valuenow",b);f=""+a.settings.previewFilter(b);g.setAttribute("aria-valuetext",f);g.setAttribute("aria-valuemin",a._minValue);g.setAttribute("aria-valuemax",a._maxValue)}return g.extend({init:function(a){a.previewFilter||(a.previewFilter=function(a){return Math.round(100*a)/100});this._super(a);
this.classes.add("slider");"v"==a.orientation&&this.classes.add("vertical");this._minValue=a.minValue||0;this._maxValue=a.maxValue||100;this._initValue=this.state.get("value")},renderHtml:function(){var a=this._id;return'<div id="'+a+'" class="'+this.classes+'"><div id="'+a+'-handle" class="'+this.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var a=this,b,c,g,k,p,l;b=a._minValue;c=a._maxValue;"v"==
a.settings.orientation?(g="screenY",k="top",p="height",l="h"):(g="screenX",k="left",p="width",l="w");a._super();(function(b,c){function e(f){var h;h=a.value();h=((h+b)/(c-b)+0.05*f)*(c-b)-b;h=d(h,b,c);a.value(h);a.fire("dragstart",{value:h});a.fire("drag",{value:h});a.fire("dragend",{value:h})}a.on("keydown",function(a){switch(a.keyCode){case 37:case 38:e(-1);break;case 39:case 40:e(1)}})})(b,c,a.getEl("handle"));(function(b,c,h){var r,s,u,t,y;a._dragHelper=new f(a._id,{handle:a._id+"-handle",start:function(b){r=
b[g];s=parseInt(a.getEl("handle").style[k],10);u=(a.layoutRect()[l]||100)-e.getSize(h)[p];a.fire("dragstart",{value:y})},drag:function(e){t=d(s+(e[g]-r),0,u);h.style[k]=t+"px";y=b+t/u*(c-b);a.value(y);a.tooltip().text(""+a.settings.previewFilter(y)).show().moveRel(h,"bc tc");a.fire("drag",{value:y})},stop:function(){a.tooltip().hide();a.fire("dragend",{value:y})}})})(b,c,a.getEl("handle"))},repaint:function(){this._super();c(this,this.value())},bindStates:function(){var a=this;a.state.on("change:value",
function(b){c(a,b.value)});return a._super()}})});k("tinymce.ui.Spacer",["tinymce.ui.Widget"],function(g){return g.extend({renderHtml:function(){this.classes.add("spacer");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})});k("tinymce.ui.SplitButton",["global!window","tinymce.core.dom.DomQuery","tinymce.ui.DomUtils","tinymce.ui.MenuButton"],function(g,f,e,d){return d.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var c=this.getEl(),
a=this.layoutRect(),b;this._super();b=c.firstChild;c=c.lastChild;f(b).css({width:a.w-e.getSize(c).width,height:a.h-2});f(c).css({height:a.h-2});return this},activeMenu:function(c){f(this.getEl().lastChild).toggleClass(this.classPrefix+"active",c)},renderHtml:function(){var c=this._id,a=this.classPrefix,b,d=this.state.get("icon"),e=this.state.get("text"),f=this.settings,k="";(b=f.image)?(d="none","string"!=typeof b&&(b=g.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="";d=
f.icon?a+"ico "+a+"i-"+d:"";e&&(this.classes.add("btn-has-text"),k='<span class="'+a+'txt">'+this.encode(e)+"</span>");return'<div id="'+c+'" class="'+this.classes+'" role="button"'+("boolean"===typeof f.active?' aria-pressed="'+f.active+'"':"")+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(d?'<i class="'+d+'"'+b+"></i>":"")+k+'</button><button type="button" class="'+a+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?(d?"\u00a0":"")+this._menuBtnText:"")+' <i class="'+
a+'caret"></i></button></div>'},postRender:function(){var c=this.settings.onclick;this.on("click",function(a){var b=a.target;if(a.control==this)for(;b;){if(a.aria&&"down"!=a.aria.key||"BUTTON"==b.nodeName&&-1==b.className.indexOf("open")){a.stopImmediatePropagation();c&&c.call(this,a);break}b=b.parentNode}});delete this.settings.onclick;return this._super()}})});k("tinymce.ui.StackLayout",["tinymce.ui.FlowLayout"],function(g){return g.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",
endClass:"break"},isNative:function(){return!0}})});k("tinymce.ui.TabPanel",["tinymce.ui.Panel","tinymce.core.dom.DomQuery","tinymce.ui.DomUtils"],function(g,f,e){return g.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(d){var c;this.activeTabId&&(c=this.getEl(this.activeTabId),f(c).removeClass(this.classPrefix+"active"),c.setAttribute("aria-selected","false"));this.activeTabId="t"+d;c=this.getEl("t"+d);c.setAttribute("aria-selected","true");f(c).addClass(this.classPrefix+
"active");this.items()[d].show().fire("showtab");this.reflow();this.items().each(function(a,b){d!=b&&a.hide()})},renderHtml:function(){var d=this,c=d._layout,a="",b=d.classPrefix;d.preRender();c.preRender(d);d.items().each(function(c,e){var f=d._id+"-t"+e;c.aria("role","tabpanel");c.aria("labelledby",f);a+='<div id="'+f+'" class="'+b+'tab" unselectable="on" role="tab" aria-controls="'+c._id+'" aria-selected="false" tabIndex="-1">'+d.encode(c.settings.title)+"</div>"});return'<div id="'+d._id+'" class="'+
d.classes+'" hidefocus="1" tabindex="-1"><div id="'+d._id+'-head" class="'+b+'tabs" role="tablist">'+a+'</div><div id="'+d._id+'-body" class="'+d.bodyClasses+'">'+c.renderHtml(d)+"</div></div>"},postRender:function(){var d=this;d._super();d.settings.activeTab=d.settings.activeTab||0;d.activateTab(d.settings.activeTab);this.on("click",function(c){var a=c.target.parentNode;if(a&&a.id==d._id+"-head")for(var b=a.childNodes.length;b--;)a.childNodes[b]==c.target&&d.activateTab(b)})},initLayoutRect:function(){var d,
c,a;c=e.getSize(this.getEl("head")).width;c=0>c?0:c;a=0;this.items().each(function(b){c=Math.max(c,b.layoutRect().minW);a=Math.max(a,b.layoutRect().minH)});this.items().each(function(b){b.settings.x=0;b.settings.y=0;b.settings.w=c;b.settings.h=a;b.layoutRect({x:0,y:0,w:c,h:a})});var b=e.getSize(this.getEl("head")).height;this.settings.minWidth=c;this.settings.minHeight=a+b;d=this._super();d.deltaH+=b;d.innerH=d.h-d.deltaH;return d}})});k("tinymce.ui.TextBox",["global!document","tinymce.core.util.Tools",
"tinymce.ui.DomUtils","tinymce.ui.Widget"],function(g,f,e,d){return d.extend({init:function(c){var a=this;a._super(c);a.classes.add("textbox");c.multiline?a.classes.add("multiline"):(a.on("keydown",function(b){var c;13==b.keyCode&&(b.preventDefault(),a.parents().reverse().each(function(a){if(a.toJSON)return c=a,!1}),a.fire("submit",{data:c.toJSON()}))}),a.on("keyup",function(b){a.state.set("value",b.target.value)}))},repaint:function(){var c,a,b,d;b=0;var e;c=this.getEl().style;a=this._layoutRect;
e=this._lastRepaintRect||{};!this.settings.multiline&&g.all&&(!g.documentMode||8>=g.documentMode)&&(c.lineHeight=a.h-b+"px");b=this.borderBox;d=b.left+b.right+8;b=b.top+b.bottom+(this.settings.multiline?8:0);a.x!==e.x&&(c.left=a.x+"px",e.x=a.x);a.y!==e.y&&(c.top=a.y+"px",e.y=a.y);a.w!==e.w&&(c.width=a.w-d+"px",e.w=a.w);a.h!==e.h&&(c.height=a.h-b+"px",e.h=a.h);this._lastRepaintRect=e;this.fire("repaint",{},!1);return this},renderHtml:function(){var c=this.settings,a,b;a={id:this._id,hidefocus:"1"};
f.each("rows spellcheck maxLength size readonly min max step list pattern placeholder required multiple".split(" "),function(b){a[b]=c[b]});this.disabled()&&(a.disabled="disabled");c.subtype&&(a.type=c.subtype);b=e.create(c.multiline?"textarea":"input",a);b.value=this.state.get("value");b.className=this.classes;return b.outerHTML},value:function(c){if(arguments.length)return this.state.set("value",c),this;this.state.get("rendered")&&this.state.set("value",this.getEl().value);return this.state.get("value")},
postRender:function(){var c=this;c.getEl().value=c.state.get("value");c._super();c.$el.on("change",function(a){c.state.set("value",a.target.value);c.fire("change",a)})},bindStates:function(){var c=this;c.state.on("change:value",function(a){c.getEl().value!=a.value&&(c.getEl().value=a.value)});c.state.on("change:disabled",function(a){c.getEl().disabled=a.value});return c._super()},remove:function(){this.$el.off();this._super()}})});k("tinymce.ui.Api","tinymce.core.ui.Factory tinymce.core.util.Tools tinymce.ui.AbsoluteLayout tinymce.ui.BrowseButton tinymce.ui.Button tinymce.ui.ButtonGroup tinymce.ui.Checkbox tinymce.ui.Collection tinymce.ui.ColorBox tinymce.ui.ColorButton tinymce.ui.ColorPicker tinymce.ui.ComboBox tinymce.ui.Container tinymce.ui.Control tinymce.ui.DragHelper tinymce.ui.DropZone tinymce.ui.ElementPath tinymce.ui.FieldSet tinymce.ui.FilePicker tinymce.ui.FitLayout tinymce.ui.FlexLayout tinymce.ui.FloatPanel tinymce.ui.FlowLayout tinymce.ui.Form tinymce.ui.FormatControls tinymce.ui.FormItem tinymce.ui.GridLayout tinymce.ui.Iframe tinymce.ui.InfoBox tinymce.ui.KeyboardNavigation tinymce.ui.Label tinymce.ui.Layout tinymce.ui.ListBox tinymce.ui.Menu tinymce.ui.MenuBar tinymce.ui.MenuButton tinymce.ui.MenuItem tinymce.ui.MessageBox tinymce.ui.Movable tinymce.ui.Notification tinymce.ui.Panel tinymce.ui.PanelButton tinymce.ui.Path tinymce.ui.Progress tinymce.ui.Radio tinymce.ui.ReflowQueue tinymce.ui.Resizable tinymce.ui.ResizeHandle tinymce.ui.Scrollable tinymce.ui.SelectBox tinymce.ui.Selector tinymce.ui.Slider tinymce.ui.Spacer tinymce.ui.SplitButton tinymce.ui.StackLayout tinymce.ui.TabPanel tinymce.ui.TextBox tinymce.ui.Throbber tinymce.ui.Toolbar tinymce.ui.Tooltip tinymce.ui.Widget tinymce.ui.Window".split(" "),
function(g,f,e,d,c,a,b,h,k,n,p,l,w,v,m,r,s,u,t,y,x,z,B,A,H,K,C,E,F,G,D,I,L,M,N,Q,J,O,S,T,U,V,W,X,Y,Z,$,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa){var R=function(){return{Selector:da,Collection:h,ReflowQueue:Z,Control:v,Factory:g,KeyboardNavigation:G,Container:w,DragHelper:m,Scrollable:ba,Panel:U,Movable:S,Resizable:$,FloatPanel:z,Window:oa,MessageBox:O,Tooltip:ma,Widget:na,Progress:X,Notification:T,Layout:I,AbsoluteLayout:e,Button:c,ButtonGroup:a,Checkbox:b,ComboBox:l,ColorBox:k,PanelButton:V,
ColorButton:n,ColorPicker:p,Path:W,ElementPath:s,FormItem:K,Form:A,FieldSet:u,FilePicker:t,FitLayout:y,FlexLayout:x,FlowLayout:B,FormatControls:H,GridLayout:C,Iframe:E,InfoBox:F,Label:D,Toolbar:la,MenuBar:N,MenuButton:Q,MenuItem:J,Throbber:ka,Menu:M,ListBox:L,Radio:Y,ResizeHandle:aa,SelectBox:ca,Slider:ea,Spacer:fa,SplitButton:ga,StackLayout:ha,TabPanel:ia,TextBox:ja,DropZone:r,BrowseButton:d}};return{appendTo:function(a){a.ui?f.each(R(),function(b,c){a.ui[c]=b}):a.ui=R()},registerToFactory:function(){f.each(R(),
function(a,b){g.add(b,a)})}}});k("tinymce.themes.modern.Theme",["global!window","tinymce.core.ThemeManager","tinymce.themes.modern.api.ThemeApi","tinymce.ui.Api","tinymce.ui.FormatControls"],function(g,f,e,d,c){d.registerToFactory();d.appendTo(g.tinymce?g.tinymce:{});f.add("modern",function(a){c.setup(a);return e.get(a)});return function(){}});O("tinymce.themes.modern.Theme")()})();
