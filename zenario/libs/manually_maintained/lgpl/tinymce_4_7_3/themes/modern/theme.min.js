'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(H){var B=0;return function(){return B<H.length?{done:!1,value:H[B++]}:{done:!0}}};$jscomp.arrayIterator=function(H){return{next:$jscomp.arrayIteratorImpl(H)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(H,B,L){if(H==Array.prototype||H==Object.prototype)return H;H[B]=L.value;return H};$jscomp.getGlobal=function(H){H=["object"==typeof globalThis&&globalThis,H,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var B=0;B<H.length;++B){var L=H[B];if(L&&L.Math==Math)return L}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(H,B){var L=$jscomp.propertyToPolyfillSymbol[B];if(null==L)return H[B];L=H[L];return void 0!==L?L:H[B]};
$jscomp.polyfill=function(H,B,L,J){B&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(H,B,L,J):$jscomp.polyfillUnisolated(H,B,L,J))};$jscomp.polyfillUnisolated=function(H,B,L,J){L=$jscomp.global;H=H.split(".");for(J=0;J<H.length-1;J++){var m=H[J];if(!(m in L))return;L=L[m]}H=H[H.length-1];J=L[H];B=B(J);B!=J&&null!=B&&$jscomp.defineProperty(L,H,{configurable:!0,writable:!0,value:B})};
$jscomp.polyfillIsolated=function(H,B,L,J){var m=H.split(".");H=1===m.length;J=m[0];J=!H&&J in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var h=0;h<m.length-1;h++){var e=m[h];if(!(e in J))return;J=J[e]}m=m[m.length-1];L=$jscomp.IS_SYMBOL_NATIVE&&"es6"===L?J[m]:null;B=B(L);null!=B&&(H?$jscomp.defineProperty($jscomp.polyfills,m,{configurable:!0,writable:!0,value:B}):B!==L&&($jscomp.propertyToPolyfillSymbol[m]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(m):$jscomp.POLYFILL_PREFIX+m,m=
$jscomp.propertyToPolyfillSymbol[m],$jscomp.defineProperty(J,m,{configurable:!0,writable:!0,value:B})))};$jscomp.initSymbol=function(){};$jscomp.initSymbolIterator=function(){};$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(H){H={next:H};H[Symbol.iterator]=function(){return this};return H};
$jscomp.iteratorFromArray=function(H,B){H instanceof String&&(H+="");var L=0,J={next:function(){if(L<H.length){var m=L++;return{value:B(m,H[m]),done:!1}}J.next=function(){return{done:!0,value:void 0}};return J.next()}};J[Symbol.iterator]=function(){return J};return J};$jscomp.polyfill("Array.prototype.values",function(H){return H?H:function(){return $jscomp.iteratorFromArray(this,function(B,L){return L})}},"es8","es3");
(function(){var H={},B=function(m,h,e){if("string"!==typeof m)throw"module id must be a string";if(void 0===h)throw"no dependencies for "+m;if(void 0===e)throw"no definition function for "+m;H[m]={deps:h,defn:e,instance:void 0}},L=function(m){var h=H[m];if(void 0===h)throw"module ["+m+"] was undefined";if(void 0===h.instance){for(var e=H[m],f=e.deps,c=e.defn,a=f.length,b=Array(a),d=0;d<a;++d)b[d]=L(f[d]);f=c.apply(null,b);if(void 0===f)throw"module ["+m+"] returned undefined";e.instance=f}return h.instance},
J=function(m,h){B(m,[],function(){return h})};J("global!window",window);J("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);B("tinymce.core.ThemeManager",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.ThemeManager")});B("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.EditorManager")});B("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.util.Tools")});B("tinymce.themes.modern.api.Settings",
["tinymce.core.EditorManager","tinymce.core.util.Tools"],function(m,h){var e=function(c){return c.getParam("menubar")},f=function(c,a){for(var b=[],d=1;10>d;d++){var g=c["toolbar"+d];if(!g)break;b.push(g)}c=c.toolbar?[c.toolbar]:[a];return 0<b.length?b:c};return{isBrandingEnabled:function(c){return c.getParam("branding",!0)},hasMenubar:function(c){return!1!==e(c)},getMenubar:e,hasStatusbar:function(c){return c.getParam("statusbar",!0)},getToolbarSize:function(c){return c.getParam("toolbar_items_size")},
getResize:function(c){c=c.getParam("resize","vertical");return!1===c?"none":"both"===c?"both":"vertical"},isReadOnly:function(c){return c.getParam("readonly",!1)},getFixedToolbarContainer:function(c){return c.getParam("fixed_toolbar_container")},getInlineToolbarPositionHandler:function(c){return c.getParam("inline_toolbar_position_handler")},getMenu:function(c){return c.getParam("menu")},getRemovedMenuItems:function(c){return c.getParam("removed_menuitems","")},getMinWidth:function(c){return c.getParam("min_width",
100)},getMinHeight:function(c){return c.getParam("min_height",100)},getMaxWidth:function(c){return c.getParam("max_width",65535)},getMaxHeight:function(c){return c.getParam("max_height",65535)},getSkinUrl:function(c){var a=c.settings,b=a.skin;a=a.skin_url;!1!==b&&(b=b?b:"lightgray",a=a?c.documentBaseURI.toAbsolute(a):m.baseURL+"/skins/"+b);return a},isSkinDisabled:function(c){return!1===c.settings.skin},isInline:function(c){return c.getParam("inline",!1)},getToolbars:function(c){var a=c.getParam("toolbar");
return!1===a?[]:h.isArray(a)?h.grep(a,function(b){return 0<b.length}):f(c.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image")}}});B("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.dom.DOMUtils")});B("tinymce.core.ui.Factory",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.ui.Factory")});B("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],
function(m){return m("tinymce.util.I18n")});B("tinymce.themes.modern.api.Events",[],function(){return{fireSkinLoaded:function(m){return m.fire("SkinLoaded")},fireResizeEditor:function(m){return m.fire("ResizeEditor")},fireBeforeRenderUI:function(m){return m.fire("BeforeRenderUI")}}});B("tinymce.themes.modern.ui.A11y",[],function(){var m=function(h,e){return function(){var f=h.find(e)[0];f&&f.focus(!0)}};return{addKeys:function(h,e){h.shortcuts.add("Alt+F9","",m(e,"menubar"));h.shortcuts.add("Alt+F10,F10",
"",m(e,"toolbar"));h.shortcuts.add("Alt+F11","",m(e,"elementpath"));e.on("cancel",function(){h.focus()})}}});B("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.Env")});B("tinymce.core.geom.Rect",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.geom.Rect")});B("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.util.Delay")});J("global!Array",Array);J("global!Error",Error);B("ephox.katamari.api.Fun",
["global!Array","global!Error"],function(m,h){var e=function(a){return function(){return a}},f=e(!1),c=e(!0);return{noop:function(){},compose:function(a,b){return function(){return a(b.apply(null,arguments))}},constant:e,identity:function(a){return a},tripleEquals:function(a,b){return a===b},curry:function(a){for(var b=new m(arguments.length-1),d=1;d<arguments.length;d++)b[d-1]=arguments[d];return function(){for(var g=new m(arguments.length),l=0;l<g.length;l++)g[l]=arguments[l];g=b.concat(g);return a.apply(null,
g)}},not:function(a){return function(){return!a.apply(null,arguments)}},die:function(a){return function(){throw new h(a);}},apply:function(a){return a()},call:function(a){a()},never:f,always:c}});J("global!Object",Object);B("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(m,h){var e=m.never,f=m.always,c=function(){return a},a=function(){var d=function(p){return p.isNone()},g=function(p){return p()},l=function(p){return p};d={fold:function(p,r){return p()},is:e,isSome:e,
isNone:f,getOr:l,getOrThunk:g,getOrDie:function(p){throw Error(p||"error: getOrDie called on none.");},or:l,orThunk:g,map:c,ap:c,each:function(){},bind:c,flatten:c,exists:e,forall:f,filter:c,equals:d,equals_:d,toArray:function(){return[]},toString:m.constant("none()")};h.freeze&&h.freeze(d);return d}(),b=function(d){var g=function(){return d},l=function(){return r},p=function(v){return v(d)},r={fold:function(v,z){return z(d)},is:function(v){return d===v},isSome:f,isNone:e,getOr:g,getOrThunk:g,getOrDie:g,
or:l,orThunk:l,map:function(v){return b(v(d))},ap:function(v){return v.fold(c,function(z){return b(z(d))})},each:function(v){v(d)},bind:p,flatten:g,exists:p,forall:p,filter:function(v){return v(d)?r:a},equals:function(v){return v.is(d)},equals_:function(v,z){return v.fold(e,function(y){return z(d,y)})},toArray:function(){return[d]},toString:function(){return"some("+d+")"}};return r};return{some:b,none:c,from:function(d){return null===d||void 0===d?a:b(d)}}});B("tinymce.themes.modern.alien.UiContainer",
["ephox.katamari.api.Option","tinymce.core.Env","tinymce.core.dom.DOMUtils"],function(m,h,e){return{getUiContainerDelta:function(){var f=h.container;if(f&&"static"!==e.DOM.getStyle(f,"position",!0)){var c=e.DOM.getPos(f);return m.some({x:f.scrollLeft-c.x,y:f.scrollTop-c.y})}return m.none()}}});B("tinymce.themes.modern.ui.Toolbar",["tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.themes.modern.api.Settings"],function(m,h,e){var f=function(c,a,b){var d=[],g;if(a)return h.each(a.split(/[ ,]/),
function(l){var p=function(){var r=c.selection;l.settings.stateSelector&&r.selectorChanged(l.settings.stateSelector,function(v){l.active(v)},!0);l.settings.disabledStateSelector&&r.selectorChanged(l.settings.disabledStateSelector,function(v){l.disabled(v)})};if("|"===l)g=null;else if(g||(g={type:"buttongroup",items:[]},d.push(g)),c.buttons[l])if(l=c.buttons[l],"function"===typeof l&&(l=l()),l.type=l.type||"button",l.size=b,l=m.create(l),g.items.push(l),c.initialized)p();else c.on("init",p)}),{type:"toolbar",
layout:"flow",items:d}};return{createToolbar:f,createToolbars:function(c,a){var b=[];h.each(e.getToolbars(c),function(d){d&&b.push(f(c,d,a))});if(b.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:b}}}});B("tinymce.themes.modern.ui.ContextToolbars","tinymce.core.Env tinymce.core.dom.DOMUtils tinymce.core.geom.Rect tinymce.core.ui.Factory tinymce.core.util.Delay tinymce.core.util.Tools tinymce.themes.modern.alien.UiContainer tinymce.themes.modern.api.Settings tinymce.themes.modern.ui.Toolbar".split(" "),
function(m,h,e,f,c,a,b,d,g){var l=h.DOM,p=function(n){return{left:n.x,top:n.y,width:n.w,height:n.h,right:n.x+n.w,bottom:n.y+n.h}},r=function(n){a.each(n.contextToolbars,function(u){u.panel&&u.panel.hide()})},v=function(n,u){n.moveTo(u.left,u.top)},z=function(n,u,k){u=u?u.substr(0,2):"";a.each({t:"down",b:"up"},function(t,q){n.classes.toggle("arrow-"+t,k(q,u.substr(0,1)))});a.each({l:"left",r:"right"},function(t,q){n.classes.toggle("arrow-"+t,k(q,u.substr(1,1)))})},y=function(n,u,k,t,q,x){x=p({x:u,
y:k,w:x.w,h:x.h});n&&(x=n({elementRect:p(t),contentAreaRect:p(q),panelRect:x}));return x};return{addContextualToolbars:function(n){var u,k=function(C){var E=l.getPos(n.getContentAreaContainer());C=n.dom.getRect(C);var F=n.dom.getRoot();"BODY"===F.nodeName&&(C.x-=F.ownerDocument.documentElement.scrollLeft||F.scrollLeft,C.y-=F.ownerDocument.documentElement.scrollTop||F.scrollTop);C.x+=E.x;C.y+=E.y;return C},t=function(C,E){var F=d.getInlineToolbarPositionHandler(n);if(!n.removed)if(C&&C.toolbar.panel){var I=
C.toolbar.panel;E&&I.show();var G=k(C.element);E=l.getRect(I.getEl());var K=l.getRect(n.getContentAreaContainer()||n.getBody());var N=b.getUiContainerDelta().getOr({x:0,y:0});G.x+=N.x;G.y+=N.y;E.x+=N.x;E.y+=N.y;K.x+=N.x;K.y+=N.y;"inline"!==l.getStyle(C.element,"display",!0)&&(N=C.element.getBoundingClientRect(),G.w=N.width,G.h=N.height);n.inline||(K.w=n.getDoc().documentElement.offsetWidth);n.selection.controlSelection.isResizable(C.element)&&25>G.w&&(G=e.inflate(G,0,8));C=e.findBestRelativePosition(E,
G,K,"bc-tc tc-bc tl-bl bl-tl tr-br br-tr".split(" "));G=e.clamp(G,K);C?(N=e.relativePosition(E,G,C),v(I,y(F,N.x,N.y,G,K,E))):(K.h+=E.h,(G=e.intersect(K,G))?(C=e.findBestRelativePosition(E,G,K,["bc-tc","bl-tl","br-tr"]))?(N=e.relativePosition(E,G,C),v(I,y(F,N.x,N.y,G,K,E))):v(I,y(F,G.x,G.y,G,K,E)):I.hide());z(I,C,function(O,Q){return O===Q})}else r(n)},q=function(C){return function(){c.requestAnimationFrame(function(){n.selection&&t(D(n.selection.getNode()),C)})}},x=function(){if(!u){var C=q(!0);u=
n.selection.getScrollContainer()||n.getWin();l.bind(u,"scroll",C);l.bind(m.container,"scroll",C);n.on("remove",function(){l.unbind(u,"scroll",C);l.unbind(m.container,"scroll",C)})}},w=function(C){if(C.toolbar.panel)C.toolbar.panel.show();else{x();var E=f.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:g.createToolbar(n,C.toolbar.items),oncancel:function(){n.focus()}});
C.toolbar.panel=E;E.renderTo().reflow()}t(C)},A=function(){a.each(n.contextToolbars||[],function(C){C.panel&&C.panel.hide()})},D=function(C){var E,F=n.contextToolbars||[];var I=n.$(C).parents().add(C);for(C=I.length-1;0<=C;C--)for(E=F.length-1;0<=E;E--)if(F[E].predicate(I[C]))return{toolbar:F[E],element:I[C]};return null};n.on("click keyup setContent ObjectResized",function(C){("setcontent"!==C.type||C.selection)&&c.setEditorTimeout(n,function(){var E;(E=D(n.selection.getNode()))?(A(),w(E)):A()})});
n.on("blur hide contextmenu",A);n.on("ObjectResizeStart",function(){var C=D(n.selection.getNode());C&&C.toolbar.panel&&C.toolbar.panel.hide()});n.on("ResizeEditor ResizeWindow",q(!0));n.on("nodeChange",q(!1));n.on("remove",function(){a.each(n.contextToolbars||[],function(C){C.panel&&C.panel.remove()});n.contextToolbars={}});n.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var C=D(n.selection.getNode());C&&C.toolbar.panel&&C.toolbar.panel.items()[0].focus()})}}});J("global!String",String);
B("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(m,h,e,f){var c=function(){var n=h.prototype.indexOf,u=function(t,q){return n.call(t,q)},k=function(t,q){a:{for(var x=0,w=t.length;x<w;++x)if(t[x]===q){t=x;break a}t=-1}return t};return void 0===n?k:u}(),a=function(n,u){return-1<c(n,u)},b=function(n,u){for(var k=n.length,t=new h(k),q=0;q<k;q++)t[q]=u(n[q],q,n);return t},d=function(n,u){for(var k=0,t=n.length;k<t;k++)u(n[k],k,n)},g=function(n,
u){for(var k=n.length-1;0<=k;k--)u(n[k],k,n)},l=function(n,u){for(var k=[],t=0,q=n.length;t<q;t++){var x=n[t];u(x,t,n)&&k.push(x)}return k},p=function(n,u){for(var k=0,t=n.length;k<t;k++)if(u(n[k],k,n))return m.some(k);return m.none()},r=h.prototype.push,v=function(n){for(var u=[],k=0,t=n.length;k<t;++k){if(!h.prototype.isPrototypeOf(n[k]))throw new e("Arr.flatten item "+k+" was not an array, input: "+n);r.apply(u,n[k])}return u},z=function(n,u){for(var k=0,t=n.length;k<t;++k)if(!0!==u(n[k],k,n))return!1;
return!0},y=h.prototype.slice;return{map:b,each:d,eachr:g,partition:function(n,u){for(var k=[],t=[],q=0,x=n.length;q<x;q++){var w=n[q];(u(w,q,n)?k:t).push(w)}return{pass:k,fail:t}},filter:l,groupBy:function(n,u){if(0===n.length)return[];for(var k=u(n[0]),t=[],q=[],x=0,w=n.length;x<w;x++){var A=n[x],D=u(A);D!==k&&(t.push(q),q=[]);k=D;q.push(A)}0!==q.length&&t.push(q);return t},indexOf:function(n,u){n=c(n,u);return-1===n?m.none():m.some(n)},foldr:function(n,u,k){g(n,function(t){k=u(k,t)});return k},
foldl:function(n,u,k){d(n,function(t){k=u(k,t)});return k},find:function(n,u){for(var k=0,t=n.length;k<t;k++){var q=n[k];if(u(q,k,n))return m.some(q)}return m.none()},findIndex:p,flatten:v,bind:function(n,u){n=b(n,u);return v(n)},forall:z,exists:function(n,u){return p(n,u).isSome()},contains:a,equal:function(n,u){return n.length===u.length&&z(n,function(k,t){return k===u[t]})},reverse:function(n){n=y.call(n,0);n.reverse();return n},chunk:function(n,u){for(var k=[],t=0;t<n.length;t+=u){var q=n.slice(t,
t+u);k.push(q)}return k},difference:function(n,u){return l(n,function(k){return!a(u,k)})},mapToObject:function(n,u){for(var k={},t=0,q=n.length;t<q;t++){var x=n[t];k[f(x)]=u(x,t)}return k},pure:function(n){return[n]},sort:function(n,u){n=y.call(n,0);n.sort(u);return n},range:function(n,u){for(var k=[],t=0;t<n;t++)k.push(u(t));return k},head:function(n){return 0===n.length?m.none():m.some(n[0])},last:function(n){return 0===n.length?m.none():m.some(n[n.length-1])}}});B("tinymce.themes.modern.ui.Menubar",
["ephox.katamari.api.Arr","tinymce.core.util.Tools","tinymce.themes.modern.api.Settings"],function(m,h,e){var f={file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},
format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck"},table:{title:"Table"},help:{title:"Help"}},c=function(){return{name:"|",item:{text:"|"}}},a=function(p,r){r=r?{name:p,item:r}:null;return"|"===p?c():r},b=function(p,r){return m.findIndex(p,function(v){return v.name===r}).isSome()},d=function(p){return p&&"|"===p.item.text},g=function(p,r){p=
m.filter(p,function(v){return!1===r.hasOwnProperty(v.name)});p=m.filter(p,function(v,z,y){return!d(v)||!d(y[z-1])});return m.filter(p,function(v,z,y){return!d(v)||0<z&&z<y.length-1})},l=function(p,r,v,z){if(r){r=r[z];var y=!0}else r=f[z];if(r){var n={text:r.title};var u=[];h.each((r.items||"").split(/[ ,]/),function(k){(k=a(k,p[k]))&&u.push(k)});y||h.each(p,function(k,t){k.context!==z||b(u,t)||("before"===k.separator&&u.push(c()),k.prependToContext?u.unshift(a(t,k)):u.push(a(t,k)),"after"===k.separator&&
u.push(c()))});n.menu=m.map(g(u,v),function(k){return k.item});if(!n.menu.length)return null}return n};return{createMenuButtons:function(p){var r=[],v=[],z=e.getMenu(p);if(z)for(y in z)v.push(y);else for(y in f)v.push(y);var y=h.makeMap(e.getRemovedMenuItems(p).split(/[ ,]/));z=e.getMenubar(p);v="string"===typeof z?z.split(/[ ,]/):v;for(z=0;z<v.length;z++){var n=v[z];(n=l(p.menuItems,e.getMenu(p),y,n))&&r.push(n)}return r}}});B("tinymce.themes.modern.ui.Resize",["tinymce.core.dom.DOMUtils","tinymce.themes.modern.api.Events",
"tinymce.themes.modern.api.Settings"],function(m,h,e){var f=m.DOM,c=function(a,b,d){var g=a.getContainer();var l=a.getContentAreaContainer().firstChild;var p=g.clientWidth;var r=l.clientWidth;null!==b&&(b=Math.max(e.getMinWidth(a),b),b=Math.min(e.getMaxWidth(a),b),f.setStyle(g,"width",b+(p-r)),f.setStyle(l,"width",b));d=Math.max(e.getMinHeight(a),d);d=Math.min(e.getMaxHeight(a),d);f.setStyle(l,"height",d);h.fireResizeEditor(a)};return{resizeTo:c,resizeBy:function(a,b,d){var g=a.getContentAreaContainer();
c(a,g.clientWidth+b,g.clientHeight+d)}}});B("tinymce.themes.modern.ui.Sidebar",["tinymce.core.Env","tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.themes.modern.api.Events"],function(m,h,e,f){var c=function(p){return{element:function(){return p}}},a=function(p,r,v){(p=p.settings[v])&&p(c(r.getEl("body")))},b=function(p,r,v){e.each(v,function(z){var y=r.items().filter("#"+z.name)[0];y&&y.visible()&&z.name!==p&&(a(z,y,"onhide"),y.visible(!1))})},d=function(p){p.items().each(function(r){r.active(!1)})},
g=function(p,r){return e.grep(p,function(v){return v.name===r})[0]},l=function(p,r,v){return function(z){z=z.control;var y=z.parents().filter("panel")[0],n=y.find("#"+r)[0],u=g(v,r);b(r,y,v);d(z.parent());n&&n.visible()?(a(u,n,"onhide"),n.hide(),z.active(!1)):(n?n.show():(n=h.create({type:"container",name:r,layout:"stack",classes:"sidebar-panel",html:""}),y.prepend(n),a(u,n,"onrender")),a(u,n,"onshow"),z.active(!0));f.fireResizeEditor(p)}};return{hasSidebar:function(p){return(!m.ie||11<=m.ie)&&p.sidebars?
0<p.sidebars.length:!1},createSidebar:function(p){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:e.map(p.sidebars,function(r){var v=r.settings;return{type:"button",icon:v.icon,image:v.image,tooltip:v.tooltip,onclick:l(p,r.name,p.sidebars)}})}]}}}});B("tinymce.themes.modern.ui.SkinLoaded",["tinymce.themes.modern.api.Events"],function(m){return{fireSkinLoaded:function(h){var e=function(){h._skinLoaded=!0;m.fireSkinLoaded(h)};
return function(){if(h.initialized)e();else h.on("init",e)}}}});B("tinymce.themes.modern.modes.Iframe","tinymce.core.dom.DOMUtils tinymce.core.ui.Factory tinymce.core.util.I18n tinymce.core.util.Tools tinymce.themes.modern.api.Events tinymce.themes.modern.api.Settings tinymce.themes.modern.ui.A11y tinymce.themes.modern.ui.ContextToolbars tinymce.themes.modern.ui.Menubar tinymce.themes.modern.ui.Resize tinymce.themes.modern.ui.Sidebar tinymce.themes.modern.ui.SkinLoaded tinymce.themes.modern.ui.Toolbar".split(" "),
function(m,h,e,f,c,a,b,d,g,l,p,r,v){var z=m.DOM,y=function(k){return function(t){k.find("*").disabled("readonly"===t.mode)}},n=function(k){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:k,html:""}},u=function(k){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[n("0"),p.createSidebar(k)]}};return{render:function(k,t,q){var x,w,A;!1===a.isSkinDisabled(k)&&q.skinUiCss?z.styleSheetLoader.load(q.skinUiCss,r.fireSkinLoaded(k)):r.fireSkinLoaded(k)();
var D=t.panel=h.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[!1===a.hasMenubar(k)?null:{type:"menubar",border:"0 0 1 0",items:g.createMenuButtons(k)},v.createToolbars(k,a.getToolbarSize(k))]},p.hasSidebar(k)?u(k):n("1 0 0 0")]});"none"!==a.getResize(k)&&(A={type:"resizehandle",direction:a.getResize(k),onResizeStart:function(){var C=k.getContentAreaContainer().firstChild;x=C.clientWidth;
w=C.clientHeight},onResize:function(C){"both"===a.getResize(k)?l.resizeTo(k,x+C.deltaX,w+C.deltaY):l.resizeTo(k,null,w+C.deltaY)}});a.hasStatusbar(k)&&(t=e.translate(["Powered by {0}",'<a href="https://www.tinymce.com/?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce" rel="noopener" target="_blank">tinymce</a>']),t=a.isBrandingEnabled(k)?{type:"label",classes:"branding",html:" "+t}:null,D.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,
items:[{type:"elementpath",editor:k},A,t]}));c.fireBeforeRenderUI(k);k.on("SwitchMode",y(D));D.renderBefore(q.targetNode).reflow();a.isReadOnly(k)&&k.setMode("readonly");q.width&&z.setStyle(D.getEl(),"width",q.width);k.on("remove",function(){D.remove();D=null});b.addKeys(k,D);d.addContextualToolbars(k);return{iframeContainer:D.find("#iframe")[0].getEl(),editorContainer:D.getEl()}}}});J("global!document",document);B("tinymce.core.dom.DomQuery",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.dom.DomQuery")});
B("tinymce.ui.DomUtils",["global!document","tinymce.core.dom.DOMUtils","tinymce.core.Env","tinymce.core.util.Tools"],function(m,h,e,f){var c=0,a={id:function(){return"mceu_"+c++},create:function(b,d,g){var l=m.createElement(b);h.DOM.setAttribs(l,d);"string"===typeof g?l.innerHTML=g:f.each(g,function(p){p.nodeType&&l.appendChild(p)});return l},createFragment:function(b){return h.DOM.createFragment(b)},getWindowSize:function(){return h.DOM.getViewPort()},getSize:function(b){if(b.getBoundingClientRect){var d=
b.getBoundingClientRect();var g=Math.max(d.width||d.right-d.left,b.offsetWidth);b=Math.max(d.height||d.bottom-d.bottom,b.offsetHeight)}else g=b.offsetWidth,b=b.offsetHeight;return{width:g,height:b}},getPos:function(b,d){return h.DOM.getPos(b,d||a.getContainer())},getContainer:function(){return e.container?e.container:m.body},getViewPort:function(b){return h.DOM.getViewPort(b)},get:function(b){return m.getElementById(b)},addClass:function(b,d){return h.DOM.addClass(b,d)},removeClass:function(b,d){return h.DOM.removeClass(b,
d)},hasClass:function(b,d){return h.DOM.hasClass(b,d)},toggleClass:function(b,d,g){return h.DOM.toggleClass(b,d,g)},css:function(b,d,g){return h.DOM.setStyle(b,d,g)},getRuntimeStyle:function(b,d){return h.DOM.getStyle(b,d,!0)},on:function(b,d,g,l){return h.DOM.bind(b,d,g,l)},off:function(b,d,g){return h.DOM.unbind(b,d,g)},fire:function(b,d,g){return h.DOM.fire(b,d,g)},innerHtml:function(b,d){h.DOM.setHTML(b,d)}};return a});B("tinymce.ui.Movable",["global!document","global!window","tinymce.ui.DomUtils"],
function(m,h,e){function f(c,a,b){var d=e.getViewPort();var g=e.getPos(a);var l=g.x;g=g.y;c.state.get("fixed")&&"static"==e.getRuntimeStyle(m.body,"position")&&(l-=d.x,g-=d.y);c=c.getEl();var p=e.getSize(c);c=p.width;d=p.height;p=e.getSize(a);a=p.width;p=p.height;b=(b||"").split("");"b"===b[0]&&(g+=p);"r"===b[1]&&(l+=a);"c"===b[0]&&(g+=Math.round(p/2));"c"===b[1]&&(l+=Math.round(a/2));"b"===b[3]&&(g-=d);"r"===b[4]&&(l-=c);"c"===b[3]&&(g-=Math.round(d/2));"c"===b[4]&&(l-=Math.round(c/2));return{x:l,
y:g,w:c,h:d}}return{testMoveRel:function(c,a){for(var b=e.getViewPort(),d=0;d<a.length;d++){var g=f(this,c,a[d]);if(this.state.get("fixed")){if(0<g.x&&g.x+g.w<b.w&&0<g.y&&g.y+g.h<b.h)return a[d]}else if(g.x>b.x&&g.x+g.w<b.w+b.x&&g.y>b.y&&g.y+g.h<b.h+b.y)return a[d]}return a[0]},moveRel:function(c,a){"string"!=typeof a&&(a=this.testMoveRel(c,a));c=f(this,c,a);return this.moveTo(c.x,c.y)},moveBy:function(c,a){var b=this.layoutRect();this.moveTo(b.x+c,b.y+a);return this},moveTo:function(c,a){function b(l,
p,r){return 0>l?0:l+r>p?(l=p-r,0>l?0:l):l}if(this.settings.constrainToViewport){var d=e.getViewPort(h),g=this.layoutRect();c=b(c,d.w+d.x,g.w);a=b(a,d.h+d.y,g.h)}this.state.get("rendered")?this.layoutRect({x:c,y:a}).repaint():(this.settings.x=c,this.settings.y=a);this.fire("move",{x:c,y:a});return this}}});B("tinymce.core.util.Class",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.util.Class")});B("tinymce.core.util.EventDispatcher",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.util.EventDispatcher")});
B("tinymce.ui.BoxUtils",["global!document"],function(m){return{parseBox:function(h){if(h){if("number"===typeof h)return h=h||0,{top:h,left:h,bottom:h,right:h};h=h.split(" ");var e=h.length;1===e?h[1]=h[2]=h[3]=h[0]:2===e?(h[2]=h[0],h[3]=h[1]):3===e&&(h[3]=h[1]);return{top:parseInt(h[0],10)||0,right:parseInt(h[1],10)||0,bottom:parseInt(h[2],10)||0,left:parseInt(h[3],10)||0}}},measureBox:function(h,e){function f(a){var b=m.defaultView;return b?(a=a.replace(/[A-Z]/g,function(d){return"-"+d}),b.getComputedStyle(h,
null).getPropertyValue(a)):h.currentStyle[a]}function c(a){a=parseFloat(f(a),10);return isNaN(a)?0:a}return{top:c(e+"TopWidth"),right:c(e+"RightWidth"),bottom:c(e+"BottomWidth"),left:c(e+"LeftWidth")}}}});B("tinymce.ui.ClassList",["tinymce.core.util.Tools"],function(m){function h(){}function e(f){this.cls=[];this.cls._map={};this.onchange=f||h;this.prefix=""}m.extend(e.prototype,{add:function(f){f&&!this.contains(f)&&(this.cls._map[f]=!0,this.cls.push(f),this._change());return this},remove:function(f){if(this.contains(f)){for(var c=
0;c<this.cls.length&&this.cls[c]!==f;c++);this.cls.splice(c,1);delete this.cls._map[f];this._change()}return this},toggle:function(f,c){var a=this.contains(f);a!==c&&(a?this.remove(f):this.add(f),this._change());return this},contains:function(f){return!!this.cls._map[f]},_change:function(){delete this.clsValue;this.onchange.call(this)}});e.prototype.toString=function(){if(this.clsValue)return this.clsValue;var f="";for(var c=0;c<this.cls.length;c++)0<c&&(f+=" "),f+=this.prefix+this.cls[c];return f};
return e});B("tinymce.ui.Selector",["tinymce.core.util.Class"],function(m){function h(d){for(var g=[],l=d.length,p;l--;)p=d[l],p.__checked||(g.push(p),p.__checked=1);for(l=g.length;l--;)delete g[l].__checked;return g}var e=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?::(.+))?/i,f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=/^\s*|\s*$/g,a,b=m.extend({init:function(d){function g(u){if(u)return u=
u.toLowerCase(),function(k){return"*"===u||k.type===u}}function l(u){if(u)return function(k){return k._name===u}}function p(u){if(u)return u=u.split("."),function(k){for(var t=u.length;t--;)if(!k.classes.contains(u[t]))return!1;return!0}}function r(u,k,t){if(u)return function(q){q=q[u]?q[u]():"";return k?"="===k?q===t:"*="===k?0<=q.indexOf(t):"~="===k?0<=(" "+q+" ").indexOf(" "+t+" "):"!="===k?q!=t:"^="===k?0===q.indexOf(t):"$="===k?q.substr(q.length-t.length)===t:!1:!!t}}function v(u){if(u){u=/(?:not\((.+)\))|(.+)/i.exec(u);
if(!u[1])return u=u[2],function(t,q,x){return"first"===u?0===q:"last"===u?q===x-1:"even"===u?0===q%2:"odd"===u?1===q%2:t[u]?t[u]():!1};var k=y(u[1],[]);return function(t){return!n(t,k)}}}function z(u,k,t){function q(x){x&&k.push(x)}u=e.exec(u.replace(c,""));q(g(u[1]));q(l(u[2]));q(p(u[3]));q(r(u[4],u[5],u[6]));q(v(u[7]));k.pseudo=!!u[7];k.direct=t;return k}function y(u,k){var t=[],q;do if(f.exec(""),q=f.exec(u))if(u=q[3],t.push(q[1]),q[2]){var x=q[3];break}while(q);x&&y(x,k);u=[];for(x=0;x<t.length;x++)">"!=
t[x]&&u.push(z(t[x],[],">"===t[x-1]));k.push(u);return k}var n=this.match;this._selectors=y(d,[])},match:function(d,g){var l,p,r,v,z,y;g=g||this._selectors;var n=0;for(l=g.length;n<l;n++){var u=g[n];var k=u.length;var t=d;var q=0;for(p=k-1;0<=p;p--)for(v=u[p];t;){if(v.pseudo){var x=t.parent().items();for(z=y=x.length;z--&&x[z]!==t;);}x=0;for(r=v.length;x<r;x++)if(!v[x](t,z,y)){x=r+1;break}if(x===r){q++;break}else if(p===k-1)break;t=t.parent()}if(q===k)return!0}return!1},find:function(d){function g(z,
y,n){var u,k,t=y[n];var q=0;for(u=z.length;q<u;q++){var x=z[q];var w=0;for(k=t.length;w<k;w++)if(!t[w](x,q,u)){w=k+1;break}if(w===k)n==y.length-1?l.push(x):x.items&&g(x.items(),y,n+1);else if(t.direct)break;x.items&&g(x.items(),y,n)}}var l=[],p,r=this._selectors;if(d.items){var v=0;for(p=r.length;v<p;v++)g(d.items(),r[v],0);1<p&&(l=h(l))}a||(a=b.Collection);return new a(l)}});return b});B("tinymce.ui.Collection",["tinymce.core.util.Tools","tinymce.ui.Selector","tinymce.core.util.Class"],function(m,
h,e){var f=Array.prototype.push,c=Array.prototype.slice;var a={length:0,init:function(d){d&&this.add(d)},add:function(d){m.isArray(d)?f.apply(this,d):d instanceof b?this.add(d.toArray()):f.call(this,d);return this},set:function(d){var g=this.length;this.length=0;this.add(d);for(d=this.length;d<g;d++)delete this[d];return this},filter:function(d){var g,l=[];if("string"===typeof d){d=new h(d);var p=function(z){return d.match(z)}}else p=d;var r=0;for(g=this.length;r<g;r++){var v=this[r];p(v)&&l.push(v)}return new b(l)},
slice:function(){return new b(c.apply(this,arguments))},eq:function(d){return-1===d?this.slice(d):this.slice(d,+d+1)},each:function(d){m.each(this,d);return this},toArray:function(){return m.toArray(this)},indexOf:function(d){for(var g=this.length;g--&&this[g]!==d;);return g},reverse:function(){return new b(m.toArray(this).reverse())},hasClass:function(d){return this[0]?this[0].classes.contains(d):!1},prop:function(d,g){var l;if(void 0!==g)return this.each(function(p){if(p[d])p[d](g)}),this;if((l=
this[0])&&l[d])return l[d]()},exec:function(d){var g=m.toArray(arguments).slice(1);this.each(function(l){l[d]&&l[d].apply(l,g)});return this},remove:function(){for(var d=this.length;d--;)this[d].remove();return this},addClass:function(d){return this.each(function(g){g.classes.add(d)})},removeClass:function(d){return this.each(function(g){g.classes.remove(d)})}};m.each("fire on off show hide append prepend before after reflow".split(" "),function(d){a[d]=function(){var g=m.toArray(arguments);this.each(function(l){d in
l&&l[d].apply(l,g)});return this}});m.each("text name disabled active selected checked visible parent value data".split(" "),function(d){a[d]=function(g){return this.prop(d,g)}});var b=e.extend(a);return h.Collection=b});B("tinymce.ui.data.Binding",[],function(){function m(h){this.create=h.create}m.create=function(h,e){return new m({create:function(f,c){function a(d){f.set(c,d.value)}f.on("change:"+c,function(d){h.set(e,d.value)});h.on("change:"+e,a);var b=f._bindings;b||(b=f._bindings=[],f.on("destroy",
function(){for(var d=b.length;d--;)b[d]()}));b.push(function(){h.off("change:"+e,a)});return h.get(e)}})};return m});B("tinymce.core.util.Observable",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.util.Observable")});B("tinymce.ui.data.ObservableObject",["tinymce.ui.data.Binding","tinymce.core.util.Class","tinymce.core.util.Observable","tinymce.core.util.Tools"],function(m,h,e,f){function c(a,b){var d;if(a===b)return!0;if(null===a||null===b||"object"!==typeof a||"object"!==typeof b)return a===
b;if(f.isArray(b)){if(a.length!==b.length)return!1;for(d=a.length;d--;)if(!c(a[d],b[d]))return!1}if(0<a.nodeType||0<b.nodeType)return a===b;var g={};for(d in b){if(!c(a[d],b[d]))return!1;g[d]=!0}for(d in a)if(!g[d]&&!c(a[d],b[d]))return!1;return!0}return h.extend({Mixins:[e],init:function(a){var b;a=a||{};for(b in a){var d=a[b];d instanceof m&&(a[b]=d.create(this,b))}this.data=a},set:function(a,b){var d,g=this.data[a];b instanceof m&&(b=b.create(this,a));if("object"===typeof a){for(d in a)this.set(d,
a[d]);return this}c(g,b)||(this.data[a]=b,b={target:this,name:a,value:b,oldValue:g},this.fire("change:"+a,b),this.fire("change",b));return this},get:function(a){return this.data[a]},has:function(a){return a in this.data},bind:function(a){return m.create(this,a)},destroy:function(){this.fire("destroy")}})});B("tinymce.ui.ReflowQueue",["global!document","tinymce.core.util.Delay"],function(m,h){var e={},f;return{add:function(c){(c=c.parent())&&c._layout&&!c._layout.isNative()&&(e[c._id]||(e[c._id]=c),
f||(f=!0,h.requestAnimationFrame(function(){var a;f=!1;for(a in e){var b=e[a];b.state.get("rendered")&&b.reflow()}e={}},m.body)))},remove:function(c){e[c._id]&&delete e[c._id]}}});B("tinymce.ui.Control","global!document tinymce.core.dom.DomQuery tinymce.core.util.Class tinymce.core.util.EventDispatcher tinymce.core.util.Tools tinymce.ui.BoxUtils tinymce.ui.ClassList tinymce.ui.Collection tinymce.ui.data.ObservableObject tinymce.ui.DomUtils tinymce.ui.ReflowQueue".split(" "),function(m,h,e,f,c,a,b,
d,g,l,p){function r(k){k._eventDispatcher||(k._eventDispatcher=new f({scope:k,toggleEvent:function(t,q){q&&f.isNative(t)&&(k._nativeEvents||(k._nativeEvents={}),k._nativeEvents[t]=!0,k.state.get("rendered")&&v(k))}}));return k._eventDispatcher}function v(k){function t(G){var K=k.getParentCtrl(G.target);K&&K.fire(G.type,G)}function q(){var G=I._lastHoverCtrl;G&&(G.fire("mouseleave",{target:G.getEl()}),G.parents().each(function(K){K.fire("mouseleave",{target:K.getEl()})}),I._lastHoverCtrl=null)}function x(G){var K=
k.getParentCtrl(G.target);G=I._lastHoverCtrl;var N=0,O;if(K!==G){I._lastHoverCtrl=K;var Q=K.parents().toArray().reverse();Q.push(K);if(G){K=G.parents().toArray().reverse();K.push(G);for(N=0;N<K.length&&Q[N]===K[N];N++);for(O=K.length-1;O>=N;O--)G=K[O],G.fire("mouseleave",{target:G.getEl()})}for(O=N;O<Q.length;O++)K=Q[O],K.fire("mouseenter",{target:K.getEl()})}}function w(G){G.preventDefault();"mousewheel"==G.type?(G.deltaY=-.025*G.wheelDelta,G.wheelDeltaX&&(G.deltaX=-.025*G.wheelDeltaX)):(G.deltaX=
0,G.deltaY=G.detail);k.fire("wheel",G)}var A,D,C;if(D=k._nativeEvents){var E=k.parents().toArray();E.unshift(k);var F=0;for(A=E.length;!I&&F<A;F++)var I=E[F]._eventsRoot;I||(I=E[E.length-1]||k);k._eventsRoot=I;A=F;for(F=0;F<A;F++)E[F]._eventsRoot=I;F=I._delegates;F||(F=I._delegates={});for(C in D){if(!D)return!1;if("wheel"===C)if(z)h(k.getEl()).on("mousewheel",w);else h(k.getEl()).on("DOMMouseScroll",w);else"mouseenter"===C||"mouseleave"===C?I._hasMouseEnter||(h(I.getEl()).on("mouseleave",q).on("mouseover",
x),I._hasMouseEnter=1):F[C]||(h(I.getEl()).on(C,t),F[C]=!0),D[C]=!1}}}var z="onmousewheel"in m,y,n=0,u={Statics:{classPrefix:"mce-"},isRtl:function(){return y.rtl},classPrefix:"mce-",init:function(k){function t(A){var D;A=A.split(" ");for(D=0;D<A.length;D++)q.classes.add(A[D])}var q=this,x,w;q.settings=k=c.extend({},q.Defaults,k);q._id=k.id||"mceu_"+n++;q._aria={role:k.role};q._elmCache={};q.$=h;q.state=new g({visible:!0,active:!1,disabled:!1,value:""});q.data=new g(k.data);q.classes=new b(function(){q.state.get("rendered")&&
(q.getEl().className=this.toString())});q.classes.prefix=q.classPrefix;if(x=k.classes)q.Defaults&&(w=q.Defaults.classes)&&x!=w&&t(w),t(x);c.each("title text name visible disabled active value".split(" "),function(A){if(A in k)q[A](k[A])});q.on("click",function(){if(q.disabled())return!1});q.settings=k;q.borderBox=a.parseBox(k.border);q.paddingBox=a.parseBox(k.padding);q.marginBox=a.parseBox(k.margin);k.hidden&&q.hide()},Properties:"parent,name",getContainerElm:function(){return l.getContainer()},
getParentCtrl:function(k){for(var t,q=this.getRoot().controlIdLookup;k&&q&&!(t=q[k.id]);)k=k.parentNode;return t},initLayoutRect:function(){var k=this.settings,t=this.getEl();var q=this.borderBox=this.borderBox||a.measureBox(t,"border");this.paddingBox=this.paddingBox||a.measureBox(t,"padding");this.marginBox=this.marginBox||a.measureBox(t,"margin");var x=l.getSize(t);var w=k.minWidth;var A=k.minHeight;t=w||x.width;var D=A||x.height;x=k.width;var C=k.height;var E=k.autoResize;E="undefined"!=typeof E?
E:!x&&!C;x=x||t;C=C||D;var F=q.left+q.right;q=q.top+q.bottom;var I=k.maxWidth||65535,G=k.maxHeight||65535;this._layoutRect=k={x:k.x||0,y:k.y||0,w:x,h:C,deltaW:F,deltaH:q,contentW:x-F,contentH:C-q,innerW:x-F,innerH:C-q,startMinWidth:w||0,startMinHeight:A||0,minW:Math.min(t,I),minH:Math.min(D,G),maxW:I,maxH:G,autoResize:E,scrollW:0};this._lastLayoutRect={};return k},layoutRect:function(k){var t=this._layoutRect;t||(t=this.initLayoutRect());if(k){var q=t.deltaW;var x=t.deltaH;void 0!==k.x&&(t.x=k.x);
void 0!==k.y&&(t.y=k.y);void 0!==k.minW&&(t.minW=k.minW);void 0!==k.minH&&(t.minH=k.minH);var w=k.w;void 0!==w&&(w=w<t.minW?t.minW:w,w=w>t.maxW?t.maxW:w,t.w=w,t.innerW=w-q);w=k.h;void 0!==w&&(w=w<t.minH?t.minH:w,w=w>t.maxH?t.maxH:w,t.h=w,t.innerH=w-x);w=k.innerW;void 0!==w&&(w=w<t.minW-q?t.minW-q:w,w=w>t.maxW-q?t.maxW-q:w,t.innerW=w,t.w=w+q);w=k.innerH;void 0!==w&&(w=w<t.minH-x?t.minH-x:w,w=w>t.maxH-x?t.maxH-x:w,t.innerH=w,t.h=w+x);void 0!==k.contentW&&(t.contentW=k.contentW);void 0!==k.contentH&&
(t.contentH=k.contentH);k=this._lastLayoutRect;if(k.x!==t.x||k.y!==t.y||k.w!==t.w||k.h!==t.h)(w=y.repaintControls)&&w.map&&!w.map[this._id]&&(w.push(this),w.map[this._id]=!0),k.x=t.x,k.y=t.y,k.w=t.w,k.h=t.h;return this}return t},repaint:function(){var k;var t=m.createRange?function(E){return E}:Math.round;var q=this.getEl().style;var x=this._layoutRect;var w=this._lastRepaintRect||{};var A=this.borderBox;var D=A.left+A.right;A=A.top+A.bottom;x.x!==w.x&&(q.left=t(x.x)+"px",w.x=x.x);x.y!==w.y&&(q.top=
t(x.y)+"px",w.y=x.y);x.w!==w.w&&(D=t(x.w-D),q.width=(0<=D?D:0)+"px",w.w=x.w);x.h!==w.h&&(D=t(x.h-A),q.height=(0<=D?D:0)+"px",w.h=x.h);if(this._hasBody&&x.innerW!==w.innerW){D=t(x.innerW);if(k=this.getEl("body")){var C=k.style;C.width=(0<=D?D:0)+"px"}w.innerW=x.innerW}if(this._hasBody&&x.innerH!==w.innerH){D=t(x.innerH);if(k=k||this.getEl("body"))C=C||k.style,C.height=(0<=D?D:0)+"px";w.innerH=x.innerH}this._lastRepaintRect=w;this.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=
null;l.css(this.getEl(),{width:"",height:""});this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null;this.initLayoutRect()},on:function(k,t){var q=this;r(q).on(k,function(x){var w,A;return"string"!=typeof x?x:function(D){w||q.parentsAndSelf().each(function(C){var E=C.settings.callbacks;if(E&&(w=E[x]))return A=C,!1});if(w)return w.call(A,D);D.action=x;this.fire("execute",D)}}(t));return q},off:function(k,t){r(this).off(k,t);return this},fire:function(k,t,q){t=t||{};t.control||(t.control=
this);t=r(this).fire(k,t);if(!1!==q&&this.parent)for(q=this.parent();q&&!t.isPropagationStopped();)q.fire(k,t,!1),q=q.parent();return t},hasEventListeners:function(k){return r(this).has(k)},parents:function(k){var t,q=new d;for(t=this.parent();t;t=t.parent())q.add(t);k&&(q=q.filter(k));return q},parentsAndSelf:function(k){return(new d(this)).add(this.parents(k))},next:function(){var k=this.parent().items();return k[k.indexOf(this)+1]},prev:function(){var k=this.parent().items();return k[k.indexOf(this)-
1]},innerHtml:function(k){this.$el.html(k);return this},getEl:function(k){k=k?this._id+"-"+k:this._id;this._elmCache[k]||(this._elmCache[k]=h("#"+k)[0]);return this._elmCache[k]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(k){}return this},blur:function(){this.getEl().blur();return this},aria:function(k,t){var q=this.getEl(this.ariaTarget);if("undefined"===typeof t)return this._aria[k];this._aria[k]=t;this.state.get("rendered")&&
q.setAttribute("role"==k?k:"aria-"+k,t);return this},encode:function(k,t){!1!==t&&(k=this.translate(k));return(k||"").replace(/[&<>"]/g,function(q){return"&#"+q.charCodeAt(0)+";"})},translate:function(k){return y.translate?y.translate(k):k},before:function(k){var t=this.parent();t&&t.insert(k,t.items().indexOf(this),!0);return this},after:function(k){var t=this.parent();t&&t.insert(k,t.items().indexOf(this));return this},remove:function(){var k=this,t=k.getEl(),q=k.parent(),x;if(k.items){var w=k.items().toArray();
for(x=w.length;x--;)w[x].remove()}if(q&&q.items){var A=[];q.items().each(function(D){D!==k&&A.push(D)});q.items().set(A);q._lastRect=null}k._eventsRoot&&k._eventsRoot==k&&h(t).off();(q=k.getRoot().controlIdLookup)&&delete q[k._id];t&&t.parentNode&&t.parentNode.removeChild(t);k.state.set("rendered",!1);k.state.destroy();k.fire("remove");return k},renderBefore:function(k){h(k).before(this.renderHtml());this.postRender();return this},renderTo:function(k){h(k||this.getContainerElm()).append(this.renderHtml());
this.postRender();return this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var k=this,t=k.settings,q,x;k.$el=h(k.getEl());k.state.set("rendered",!0);for(x in t)if(0===x.indexOf("on"))k.on(x.substr(2),t[x]);if(k._eventsRoot){for(q=k.parent();!w&&q;q=q.parent())var w=q._eventsRoot;if(w)for(x in w._nativeEvents)k._nativeEvents[x]=!0}v(k);t.style&&(q=k.getEl())&&(q.setAttribute("style",t.style),
q.style.cssText=t.style);k.settings.border&&(t=k.borderBox,k.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));t=k.getRoot();t.controlIdLookup||(t.controlIdLookup={});t.controlIdLookup[k._id]=k;for(var A in k._aria)k.aria(A,k._aria[A]);!1===k.state.get("visible")&&(k.getEl().style.display="none");k.bindStates();k.state.on("change:visible",function(D){D=D.value;var C;k.state.get("rendered")&&(k.getEl().style.display=!1===D?"none":
"",k.getEl().getBoundingClientRect());if(C=k.parent())C._lastRect=null;k.fire(D?"show":"hide");p.add(k)});k.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(k){var t=this.getEl(),q=t.parentNode,x,w;var A=t;for(x=w=0;A&&A!=q&&A.nodeType;)x+=A.offsetLeft||0,w+=A.offsetTop||0,A=A.offsetParent;A=t.offsetWidth;t=t.offsetHeight;var D=q.clientWidth;var C=q.clientHeight;"end"==k?(x-=D-A,w-=C-t):"center"==k&&(x-=D/2-A/2,w-=C/2-t/2);q.scrollLeft=x;q.scrollTop=w;return this},getRoot:function(){for(var k=
this,t,q=[];k;){if(k.rootControl){t=k.rootControl;break}q.push(k);t=k;k=k.parent()}t||(t=this);for(k=q.length;k--;)q[k].rootControl=t;return t},reflow:function(){p.remove(this);var k=this.parent();k&&k._layout&&!k._layout.isNative()&&k.reflow();return this}};c.each("text title visible disabled active value".split(" "),function(k){u[k]=function(t){if(0===arguments.length)return this.state.get(k);"undefined"!=typeof t&&this.state.set(k,t);return this}});return y=e.extend(u)});B("tinymce.ui.KeyboardNavigation",
["global!document"],function(m){return function(h){function e(q){return(q=q||k)&&1===q.nodeType?q.getAttribute("role"):null}function f(q){for(var x=q||k;x=x.parentNode;)if(q=e(x))return q}function c(q){var x=k;if(x&&1===x.nodeType)return x.getAttribute("aria-"+q)}function a(q){q=q.tagName.toUpperCase();return"INPUT"==q||"TEXTAREA"==q||"SELECT"==q}function b(q){function x(A){if(1==A.nodeType&&"none"!=A.style.display&&!A.disabled){(a(A)&&!A.hidden||A.getAttribute("data-mce-tabstop")||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(e(A)))&&
w.push(A);for(var D=0;D<A.childNodes.length;D++)x(A.childNodes[D])}}var w=[];x(q||u.getEl());return w}function d(q){q=q||t;var x=q.parents().toArray();x.unshift(q);for(q=0;q<x.length;q++){var w=x[q];if(w.settings.ariaRoot)break}return w}function g(q,x){0>q?q=x.length-1:q>=x.length&&(q=0);x[q]&&x[q].focus();return q}function l(q,x){var w=-1,A=d();x=x||b(A.getEl());for(var D=0;D<x.length;D++)x[D]===k&&(w=D);A.lastAriaIndex=g(w+q,x)}function p(){"tablist"==f()?l(-1,b(k.parentNode)):t.parent().submenu?
t.fire("cancel"):l(-1)}function r(){var q=e(),x=f();"tablist"==x?l(1,b(k.parentNode)):"menuitem"==q&&"menu"==x&&c("haspopup")?n():l(1)}function v(){l(-1)}function z(){var q=e(),x=f();"menuitem"==q&&"menubar"==x?n():"button"==q&&c("haspopup")?n({key:"down"}):l(1)}function y(q){"tablist"==f()?(q=b(t.getEl("body"))[0])&&q.focus():l(q.shiftKey?-1:1)}function n(q){q=q||{};t.fire("click",{target:k,aria:q})}var u=h.root;try{var k=m.activeElement}catch(q){k=m.body}var t=u.getParentCtrl(k);u.on("keydown",
function(q){function x(w,A){a(k)||k.getAttribute("data-mce-tabstop")||"slider"!==e(k)&&!1!==A(w)&&w.preventDefault()}if(!q.isDefaultPrevented())switch(q.keyCode){case 37:x(q,p);break;case 39:x(q,r);break;case 38:x(q,v);break;case 40:x(q,z);break;case 27:t.fire("cancel");break;case 14:case 13:case 32:x(q,n);break;case 9:!1!==y(q)&&q.preventDefault()}});u.on("focusin",function(q){k=q.target;t=q.control});return{focusFirst:function(q){q=d(q);var x=b(q.getEl());q.settings.ariaRemember&&"lastAriaIndex"in
q?g(q.lastAriaIndex,x):g(0,x)}}}});B("tinymce.ui.Container","tinymce.ui.Control tinymce.ui.Collection tinymce.ui.Selector tinymce.core.ui.Factory tinymce.ui.KeyboardNavigation tinymce.core.util.Tools tinymce.core.dom.DomQuery tinymce.ui.ClassList tinymce.ui.ReflowQueue".split(" "),function(m,h,e,f,c,a,b,d,g){var l={};return m.extend({init:function(p){var r=this;r._super(p);p=r.settings;p.fixed&&r.state.set("fixed",!0);r._items=new h;r.isRtl()&&r.classes.add("rtl");r.bodyClasses=new d(function(){r.state.get("rendered")&&
(r.getEl("body").className=this.toString())});r.bodyClasses.prefix=r.classPrefix;r.classes.add("container");r.bodyClasses.add("container-body");p.containerCls&&r.classes.add(p.containerCls);r._layout=f.create((p.layout||"")+"layout");r.settings.items?r.add(r.settings.items):r.add(r.render());r._hasBody=!0},items:function(){return this._items},find:function(p){p=l[p]=l[p]||new e(p);return p.find(this)},add:function(p){this.items().add(this.create(p)).parent(this);return this},focus:function(p){var r;
if(p&&(p=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)){p.focusFirst(this);return}p=this.find("*");this.statusbar&&p.add(this.statusbar.items());p.each(function(v){if(v.settings.autofocus)return r=null,!1;v.canFocus&&(r=r||v)});r&&r.focus();return this},replace:function(p,r){var v=this.items();for(var z=v.length;z--;)if(v[z]===p){v[z]=r;break}0<=z&&((v=r.getEl())&&v.parentNode.removeChild(v),(v=p.getEl())&&v.parentNode.removeChild(v));r.parent(this)},create:function(p){var r=this,v,z=[];
a.isArray(p)||(p=[p]);a.each(p,function(y){y&&(y instanceof m||("string"==typeof y&&(y={type:y}),v=a.extend({},r.settings.defaults,y),y.type=v.type=v.type||y.type||r.settings.defaultType||(v.defaults?v.defaults.type:null),y=f.create(v)),z.push(y))});return z},renderNew:function(){var p=this;p.items().each(function(r,v){r.parent(p);if(!r.state.get("rendered")){var z=p.getEl("body");z.hasChildNodes()&&v<=z.childNodes.length-1?b(z.childNodes[v]).before(r.renderHtml()):b(z).append(r.renderHtml());r.postRender();
g.add(r)}});p._layout.applyClasses(p.items().filter(":visible"));p._lastRect=null;return p},append:function(p){return this.add(p).renderNew()},prepend:function(p){this.items().set(this.create(p).concat(this.items().toArray()));return this.renderNew()},insert:function(p,r,v){p=this.create(p);var z=this.items();!v&&r<z.length-1&&(r+=1);0<=r&&r<z.length&&(v=z.slice(0,r).toArray(),r=z.slice(r).toArray(),z.set(v.concat(p,r)));return this.renderNew()},fromJSON:function(p){for(var r in p)this.find("#"+r).value(p[r]);
return this},toJSON:function(){var p={};this.find("*").each(function(r){var v=r.name();r=r.value();v&&"undefined"!=typeof r&&(p[v]=r)});return p},renderHtml:function(){var p=this._layout,r=this.settings.role;this.preRender();p.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'"'+(r?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+p.renderHtml(this)+"</div></div>"},postRender:function(){this.items().exec("postRender");
this._super();this._layout.postRender(this);this.state.set("rendered",!0);this.settings.style&&this.$el.css(this.settings.style);if(this.settings.border){var p=this.borderBox;this.$el.css({"border-top-width":p.top,"border-right-width":p.right,"border-bottom-width":p.bottom,"border-left-width":p.left})}this.parent()||(this.keyboardNav=new c({root:this}));return this},initLayoutRect:function(){var p=this._super();this._layout.recalc(this);return p},recalc:function(){var p=this._layoutRect,r=this._lastRect;
if(!r||r.w!=p.w||r.h!=p.h)return this._layout.recalc(this),p=this.layoutRect(),this._lastRect={x:p.x,y:p.y,w:p.w,h:p.h},!0},reflow:function(){var p;g.remove(this);if(this.visible()){m.repaintControls=[];m.repaintControls.map={};this.recalc();for(p=m.repaintControls.length;p--;)m.repaintControls[p].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint();m.repaintControls=[]}return this}})});B("tinymce.ui.DragHelper",["global!document","global!window","tinymce.core.dom.DomQuery"],
function(m,h,e){function f(c){var a;if(c.changedTouches){var b="screenX screenY pageX pageY clientX clientY".split(" ");for(a=0;a<b.length;a++)c[b[a]]=c.changedTouches[0][b[a]]}}return function(c,a){var b,d=a.document||m,g,l,p;a=a||{};var r=function(z){f(z);if(z.button!==g)return v(z);z.deltaX=z.screenX-l;z.deltaY=z.screenY-p;z.preventDefault();a.drag(z)};var v=function(z){f(z);e(d).off("mousemove touchmove",r).off("mouseup touchend",v);b.remove();a.stop&&a.stop(z)};this.destroy=function(){e(d.getElementById(a.handle||
c)).off()};e(d.getElementById(a.handle||c)).on("mousedown touchstart",function(z){var y=Math.max;var n=d.documentElement;var u=d.body;var k=y(n.scrollWidth,u.scrollWidth);var t=y(n.clientWidth,u.clientWidth);var q=y(n.offsetWidth,u.offsetWidth);var x=y(n.scrollHeight,u.scrollHeight);var w=y(n.clientHeight,u.clientHeight);n=y(n.offsetHeight,u.offsetHeight);k=k<q?t:k;x=x<n?w:x;f(z);z.preventDefault();g=z.button;w=d.getElementById(a.handle||c);l=z.screenX;p=z.screenY;w=h.getComputedStyle?h.getComputedStyle(w,
null).getPropertyValue("cursor"):w.runtimeStyle.cursor;b=e("<div></div>").css({position:"absolute",top:0,left:0,width:k,height:x,zIndex:2147483647,opacity:1E-4,cursor:w}).appendTo(d.body);e(d).on("mousemove touchmove",r).on("mouseup touchend",v);a.start(z)})}});B("tinymce.ui.Scrollable",["tinymce.core.dom.DomQuery","tinymce.ui.DragHelper"],function(m,h){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function e(){function a(l,p,r,v,z,y){var n;if(n=c.getEl("scroll"+
l)){var u=p.toLowerCase();var k=r.toLowerCase();m(c.getEl("absend")).css(u,c.layoutRect()[v]-1);z?(m(n).css("display","block"),v=c.getEl("body"),l=c.getEl("scroll"+l+"t"),z=v["client"+r]-4,z-=d&&g?n["client"+y]:0,r=v["scroll"+r],r=z/r,y={},y[u]=v["offset"+p]+2,y[k]=z,m(n).css(y),y={},y[u]=v["scroll"+p]*r,y[k]=z*r,m(l).css(y)):m(n).css("display","none")}}var b=c.getEl("body");var d=b.scrollWidth>b.clientWidth;var g=b.scrollHeight>b.clientHeight;a("h","Left","Width","contentW",d,"Height");a("v","Top",
"Height","contentH",g,"Width")}function f(){function a(b,d,g,l,p){var r,v=c._id+"-scroll"+b,z=c.classPrefix;m(c.getEl()).append('<div id="'+v+'" class="'+z+"scrollbar "+z+"scrollbar-"+b+'"><div id="'+v+'t" class="'+z+'scrollbar-thumb"></div></div>');c.draghelper=new h(v+"t",{start:function(){r=c.getEl("body")["scroll"+d];m("#"+v).addClass(z+"active")},drag:function(y){var n=c.layoutRect();var u=n.contentW>n.innerW;n=n.contentH>n.innerH;var k=c.getEl("body")["client"+g]-4;k-=u&&n?c.getEl("scroll"+
b)["client"+p]:0;u=k/c.getEl("body")["scroll"+g];c.getEl("body")["scroll"+d]=r+y["delta"+l]/u},stop:function(){m("#"+v).removeClass(z+"active")}})}c.classes.add("scroll");a("v","Top","Height","Y","Width");a("h","Left","Width","X","Height")}var c=this;c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,f(),c.on("wheel",function(a){var b=c.getEl("body");b.scrollLeft+=10*(a.deltaX||0);b.scrollTop+=10*a.deltaY;e()}),m(c.getEl("body")).on("scroll",e)),e())}}});B("tinymce.ui.Panel",["tinymce.ui.Container",
"tinymce.ui.Scrollable"],function(m,h){return m.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[h],renderHtml:function(){var e=this._layout,f=this.settings.html;this.preRender();e.preRender(this);"undefined"==typeof f?f='<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+e.renderHtml(this)+"</div>":("function"==typeof f&&(f=f.call(this)),this._hasBody=!1);return'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+
f+"</div>"}})});B("tinymce.ui.Resizable",["tinymce.ui.DomUtils"],function(m){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(h,e){if(1>=h||1>=e){var f=m.getWindowSize();h=1>=h?h*f.w:h;e=1>=e?e*f.h:e}this._layoutRect.autoResize=!1;return this.layoutRect({minW:h,minH:e,w:h,h:e}).reflow()},resizeBy:function(h,e){var f=this.layoutRect();return this.resizeTo(f.w+h,f.h+e)}}});B("tinymce.ui.FloatPanel","global!document global!window tinymce.core.dom.DomQuery tinymce.core.util.Delay tinymce.ui.DomUtils tinymce.ui.Movable tinymce.ui.Panel tinymce.ui.Resizable".split(" "),
function(m,h,e,f,c,a,b,d){function g(){y||(y=function(w){if(2!=w.button)for(var A=k.length;A--;){var D=k[A],C=D.getParentCtrl(w.target),E;if((E=D.settings.autohide)&&!(E=!C)){a:{E=C;for(var F=D;E;){if(E==F){E=!0;break a}E=E.parent()}E=void 0}E=!E&&D.parent()!==C}E&&(w=D.fire("autohide",{target:w.target}),w.isDefaultPrevented()||D.hide())}},e(m).on("click touchstart",y))}function l(){n||(n=function(){var w;for(w=k.length;w--;)r(k[w])},e(h).on("scroll",n))}function p(){if(!u){var w=m.documentElement,
A=w.clientWidth,D=w.clientHeight;u=function(){m.all&&A==w.clientWidth&&D==w.clientHeight||(A=w.clientWidth,D=w.clientHeight,x.hideAll())};e(h).on("resize",u)}}function r(w){function A(C,E){for(var F,I=0;I<k.length;I++)if(k[I]!=w)for(F=k[I].parent();F&&(F=F.parent());)F==w&&k[I].fixed(C).moveBy(0,E).repaint()}var D=c.getViewPort().y;w.settings.autofix&&(w.state.get("fixed")?w._autoFixY>D&&(w.fixed(!1).layoutRect({y:w._autoFixY}).repaint(),A(!1,w._autoFixY-D)):(w._autoFixY=w.layoutRect().y,w._autoFixY<
D&&(w.fixed(!0).layoutRect({y:0}).repaint(),A(!0,D-w._autoFixY))))}function v(w,A){var D=(x.zIndex||65535)+(zenarioAB.isOpen?3E5:0);if(w)t.push(A);else for(w=t.length;w--;)t[w]===A&&t.splice(w,1);if(t.length)for(w=0;w<t.length;w++){if(t[w].modal){D++;var C=t[w]}t[w].getEl().style.zIndex=D;t[w].zIndex=D;D++}A=e("#"+A.classPrefix+"modal-block",A.getContainerElm())[0];C?e(A).css("z-index",C.zIndex-1):A&&(A.parentNode.removeChild(A),q=!1);x.currentZIndex=D}function z(w){var A;for(A=k.length;A--;)k[A]===
w&&k.splice(A,1);for(A=t.length;A--;)t[A]===w&&t.splice(A,1)}var y,n,u,k=[],t=[],q,x=b.extend({Mixins:[a,d],init:function(w){var A=this;A._super(w);A._eventsRoot=A;A.classes.add("floatpanel");w.autohide&&(g(),p(),k.push(A));w.autofix&&(l(),A.on("move",function(){r(this)}));A.on("postrender show",function(D){if(D.control==A){var C=A.classPrefix;if(A.modal&&!q){var E=e("#"+C+"modal-block",A.getContainerElm());E[0]||(E=e('<div id="'+C+'modal-block" class="'+C+"reset "+C+'fade"></div>').appendTo(A.getContainerElm()));
f.setTimeout(function(){E.addClass(C+"in");e(A.getEl()).addClass(C+"in")});q=!0}v(!0,A)}});A.on("show",function(){A.parents().each(function(D){if(D.state.get("fixed"))return A.fixed(!0),!1})});w.popover&&(A._preBodyHtml='<div class="'+A.classPrefix+'arrow"></div>',A.classes.add("popover").add("bottom").add(A.isRtl()?"end":"start"));A.aria("label",w.ariaLabel);A.aria("labelledby",A._id);A.aria("describedby",A.describedBy||A._id+"-none")},fixed:function(w){if(this.state.get("fixed")!=w){if(this.state.get("rendered")){var A=
c.getViewPort();w?this.layoutRect().y-=A.y:this.layoutRect().y+=A.y}this.classes.toggle("fixed",w);this.state.set("fixed",w)}return this},show:function(){var w,A=this._super();for(w=k.length;w--&&k[w]!==this;);-1===w&&k.push(this);return A},hide:function(){z(this);v(!1,this);return this._super()},hideAll:function(){x.hideAll()},close:function(){this.fire("close").isDefaultPrevented()||(this.remove(),v(!1,this));return this},remove:function(){z(this);this._super()},postRender:function(){this.settings.bodyRole&&
this.getEl("body").setAttribute("role",this.settings.bodyRole);return this._super()}});x.hideAll=function(){for(var w=k.length;w--;){var A=k[w];A&&A.settings.autohide&&(A.hide(),k.splice(w,1))}};return x});B("tinymce.themes.modern.modes.Inline","global!document tinymce.core.Env tinymce.core.dom.DOMUtils tinymce.core.ui.Factory tinymce.themes.modern.api.Events tinymce.themes.modern.api.Settings tinymce.themes.modern.ui.A11y tinymce.themes.modern.ui.ContextToolbars tinymce.themes.modern.ui.Menubar tinymce.themes.modern.ui.SkinLoaded tinymce.themes.modern.ui.Toolbar tinymce.ui.FloatPanel".split(" "),
function(m,h,e,f,c,a,b,d,g,l,p,r){return{render:function(v,z,y){var n,u,k=e.DOM,t=a.getFixedToolbarContainer(v);t&&(u=k.select(t)[0]);var q=function(){if(n&&n.moveRel&&n.visible()&&!n._fixed){var D=v.selection.getScrollContainer(),C=v.getBody(),E=0,F=0;D&&(F=k.getPos(C),D=k.getPos(D),E=Math.max(0,D.x-F.x),F=Math.max(0,D.y-F.y));n.fixed(!1).moveRel(C,v.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(E,F)}},x=function(){n&&(n.show(),q(),k.addClass(v.getBody(),"mce-edit-focus"))},w=function(){n&&
(n.hide(),r.hideAll(),k.removeClass(v.getBody(),"mce-edit-focus"))},A=function(){n?n.visible()||x():(n=z.panel=f.create({type:u?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!(!u||h.container),fixed:!(!u||h.container),border:1,items:[!1===a.hasMenubar(v)?null:{type:"menubar",border:"0 0 1 0",items:g.createMenuButtons(v)},p.createToolbars(v,a.getToolbarSize(v))]}),c.fireBeforeRenderUI(v),u?n.renderTo(u).reflow():
n.renderTo().reflow(),b.addKeys(v,n),x(),d.addContextualToolbars(v),v.on("nodeChange",q),v.on("activate",x),v.on("deactivate",w),v.nodeChanged())};v.settings.content_editable=!0;v.on("focus",function(){!1===a.isSkinDisabled(v)&&y.skinUiCss?k.styleSheetLoader.load(y.skinUiCss,A,A):A()});v.on("blur hide",w);v.on("remove",function(){n&&(n.remove(),n=null)});!1===a.isSkinDisabled(v)&&y.skinUiCss?k.styleSheetLoader.load(y.skinUiCss,l.fireSkinLoaded(v)):l.fireSkinLoaded(v)();return{}}}});B("tinymce.themes.modern.modes.ZenarioInlineUI",
"tinymce.core.dom.DOMUtils tinymce.core.ui.Factory tinymce.core.util.Tools tinymce.themes.modern.ui.A11y tinymce.themes.modern.ui.ContextToolbars tinymce.themes.modern.ui.Menubar tinymce.themes.modern.ui.Resize tinymce.themes.modern.ui.Sidebar tinymce.themes.modern.ui.SkinLoaded tinymce.themes.modern.ui.Toolbar".split(" "),function(m,h,e,f,c,a,b,d,g,l){var p=m.DOM,r=function(z){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:z,html:""}},v=function(z){return{type:"panel",
layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[r("0"),d.createSidebar(z)]}};return{render:function(z,y,n){var u=z.settings;zenario.getContainerIdFromEl(n.targetNode);var k=document.getElementById("zenario_at_toolbars");n.skinUiCss&&p.styleSheetLoader.load(n.skinUiCss,g.fireSkinLoaded(z));y=y.panel=h.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===u.menubar?null:{type:"menubar",border:"0 0 1 0",items:a.createMenuButtons(z)},
l.createToolbars(z,u.toolbar_items_size),d.hasSidebar(z)?v(z):r("1 0 0 0")]});z.fire("BeforeRenderUI");k.innerHTML="";y.renderTo(k).reflow();f.addKeys(z,y);u.content_editable=!0;return{}}}});B("tinymce.ui.Throbber",["tinymce.core.dom.DomQuery","tinymce.ui.Control","tinymce.core.util.Delay"],function(m,h,e){return function(f,c){var a=this,b,d=h.classPrefix,g;a.show=function(l,p){function r(){b&&(m(f).append('<div class="'+d+"throbber"+(c?" "+d+"throbber-inline":"")+'"></div>'),p&&p())}a.hide();b=!0;
l?g=e.setTimeout(r,l):r();return a};a.hide=function(){var l=f.lastChild;e.clearTimeout(g);l&&-1!=l.className.indexOf("throbber")&&l.parentNode.removeChild(l);b=!1;return a}}});B("tinymce.themes.modern.ui.ProgressState",["tinymce.ui.Throbber"],function(m){return{setup:function(h,e){var f;h.on("ProgressState",function(c){f=f||new m(e.panel.getEl("body"));c.state?f.show(c.time):f.hide()})}}});B("tinymce.themes.modern.ui.Render",["tinymce.themes.modern.api.Settings","tinymce.themes.modern.modes.Iframe",
"tinymce.themes.modern.modes.Inline","tinymce.themes.modern.modes.ZenarioInlineUI","tinymce.themes.modern.ui.ProgressState"],function(m,h,e,f,c){return{renderUI:function(a,b,d){var g=m.getSkinUrl(a);g&&(d.skinUiCss=g+"/skin.min.css",a.contentCSS.push(g+"/content"+(a.inline?".inline":"")+".min.css"));c.setup(a,b);return a.settings.zenario_inline_ui?f.render(a,b,d):m.isInline(a)?e.render(a,b,d):h.render(a,b,d)}}});J("global!setTimeout",setTimeout);B("tinymce.ui.Tooltip",["tinymce.ui.Control","tinymce.ui.Movable"],
function(m,h){return m.extend({Mixins:[h],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;e.state.on("change:text",function(f){e.getEl().lastChild.innerHTML=e.encode(f.value)});return e._super()},repaint:function(){var e=this.getEl().style;
var f=this._layoutRect;e.left=f.x+"px";e.top=f.y+"px";e.zIndex=131070+(zenarioAB.isOpen?3E5:0)}})});B("tinymce.ui.Widget",["tinymce.ui.Control","tinymce.ui.Tooltip"],function(m,h){var e,f=m.extend({init:function(c){var a=this;a._super(c);c=a.settings;a.canFocus=!0;c.tooltip&&!1!==f.tooltips&&(a.on("mouseenter",function(b){var d=a.tooltip().moveTo(-65535);b.control==a?(b=d.text(c.tooltip).show().testMoveRel(a.getEl(),["bc-tc","bc-tl","bc-tr"]),d.classes.toggle("tooltip-n","bc-tc"==b),d.classes.toggle("tooltip-nw",
"bc-tl"==b),d.classes.toggle("tooltip-ne","bc-tr"==b),d.moveRel(a.getEl(),b)):d.hide()}),a.on("mouseleave mousedown click",function(){a.tooltip().hide()}));a.aria("label",c.ariaLabel||c.tooltip)},tooltip:function(){e||(e=new h({type:"tooltip"}),e.renderTo());return e},postRender:function(){var c=this.settings;this._super();this.parent()||!c.width&&!c.height||(this.initLayoutRect(),this.repaint());c.autofocus&&this.focus()},bindStates:function(){function c(d){b.aria("disabled",d);b.classes.toggle("disabled",
d)}function a(d){b.aria("pressed",d);b.classes.toggle("active",d)}var b=this;b.state.on("change:disabled",function(d){c(d.value)});b.state.on("change:active",function(d){a(d.value)});b.state.get("disabled")&&c(!0);b.state.get("active")&&a(!0);return b._super()},remove:function(){this._super();e&&(e.remove(),e=null)}});return f});B("tinymce.ui.Progress",["tinymce.ui.Widget"],function(m){return m.extend({Defaults:{value:0},init:function(h){this._super(h);this.classes.add("progress");this.settings.filter||
(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var h=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+h+'bar-container"><div class="'+h+'bar"></div></div><div class="'+h+'text">0%</div></div>'},postRender:function(){this._super();this.value(this.settings.value);return this},bindStates:function(){function h(f){f=e.settings.filter(f);e.getEl().lastChild.innerHTML=f+"%";e.getEl().firstChild.firstChild.style.width=f+"%"}var e=this;
e.state.on("change:value",function(f){h(f.value)});h(e.state.get("value"));return e._super()}})});B("tinymce.ui.Notification",["tinymce.ui.Control","tinymce.ui.Movable","tinymce.ui.Progress","tinymce.core.util.Delay"],function(m,h,e,f){var c=function(a,b){a.getEl().lastChild.textContent=b+(a.progressBar?" "+a.progressBar.value()+"%":"")};return m.extend({Mixins:[h],Defaults:{classes:"widget notification"},init:function(a){var b=this;b._super(a);b.maxWidth=a.maxWidth;a.text&&b.text(a.text);a.icon&&
(b.icon=a.icon);a.color&&(b.color=a.color);a.type&&b.classes.add("notification-"+a.type);a.timeout&&(0>a.timeout||0<a.timeout)&&!a.closeButton?b.closeButton=!1:(b.classes.add("has-close"),b.closeButton=!0);a.progressBar&&(b.progressBar=new e);b.on("click",function(d){-1!=d.target.className.indexOf(b.classPrefix+"close")&&b.close()})},renderHtml:function(){var a=this.classPrefix,b="",d="",g="";this.icon&&(b='<i class="'+a+"ico "+a+"i-"+this.icon+'"></i>');var l=' style="max-width: '+this.maxWidth+
"px;"+(this.color?"background-color: "+this.color+';"':'"');this.closeButton&&(d='<button type="button" class="'+a+'close" aria-hidden="true">\u00d7</button>');this.progressBar&&(g=this.progressBar.renderHtml());return'<div id="'+this._id+'" class="'+this.classes+'"'+l+' role="presentation">'+b+'<div class="'+a+'notification-inner">'+this.state.get("text")+"</div>"+g+d+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},
postRender:function(){var a=this;f.setTimeout(function(){a.$el.addClass(a.classPrefix+"in");c(a,a.state.get("text"))},100);return a._super()},bindStates:function(){var a=this;a.state.on("change:text",function(b){a.getEl().firstChild.innerHTML=b.value;c(a,b.value)});a.progressBar&&(a.progressBar.bindStates(),a.progressBar.state.on("change:value",function(b){c(a,a.state.get("text"))}));return a._super()},close:function(){this.fire("close").isDefaultPrevented()||this.remove();return this},repaint:function(){var a=
this.getEl().style;var b=this._layoutRect;a.left=b.x+"px";a.top=b.y+"px";a.zIndex=65534}})});B("tinymce.ui.NotificationManagerImpl",["ephox.katamari.api.Arr","global!setTimeout","tinymce.core.util.Tools","tinymce.ui.DomUtils","tinymce.ui.Notification"],function(m,h,e,f,c){return function(a){var b=function(p){return p.inline?p.getElement():p.getContentAreaContainer()},d=function(){var p=b(a);return f.getSize(p).width},g=function(p){m.each(p,function(r){r.moveTo(0,0)})},l=function(p){if(0<p.length){var r=
p.slice(0,1)[0],v=b(a);r.moveRel(v,"tc-tc");m.each(p,function(z,y){0<y&&z.moveRel(p[y-1].getEl(),"bc-tc")})}};return{open:function(p,r){p=e.extend(p,{maxWidth:d()});var v=new c(p);v.args=p;0<p.timeout&&(v.timer=h(function(){v.close();r()},p.timeout));v.on("close",function(){r()});v.renderTo();return v},close:function(p){p.close()},reposition:function(p){g(p);l(p)},getArgs:function(p){return p.args}}}});B("tinymce.ui.Window","global!document global!setTimeout global!window tinymce.core.dom.DomQuery tinymce.core.Env tinymce.core.util.Delay tinymce.ui.BoxUtils tinymce.ui.DomUtils tinymce.ui.DragHelper tinymce.ui.FloatPanel tinymce.ui.Panel".split(" "),
function(m,h,e,f,c,a,b,d,g,l,p){function r(y){var n=f("meta[name=viewport]")[0],u;!1!==c.overrideViewPort&&(n||(n=m.createElement("meta"),n.setAttribute("name","viewport"),m.getElementsByTagName("head")[0].appendChild(n)),(u=n.getAttribute("content"))&&"undefined"!=typeof z&&(z=u),n.setAttribute("content",y?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":z))}var v=[],z="";l=l.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",
callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(y){var n=this;n._super(y);n.isRtl()&&n.classes.add("rtl");n.classes.add("window");n.bodyClasses.add("window-body");n.state.set("fixed",!0);y.buttons&&(n.statusbar=new p({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:y.buttons}),n.statusbar.classes.add("foot"),n.statusbar.parent(n));n.on("click",function(u){var k=
n.classPrefix+"close";(d.hasClass(u.target,k)||d.hasClass(u.target.parentNode,k))&&n.close()});n.on("cancel",function(){n.close()});n.aria("describedby",n.describedBy||n._id+"-none");n.aria("label",y.title);n._fullscreen=!1},recalc:function(){var y=this.statusbar;this._fullscreen&&(this.layoutRect(d.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH);this._super();var n=this.layoutRect();if(this.settings.title&&!this._fullscreen){var u=n.headerW;if(u>n.w){var k=n.x-Math.max(0,u/
2);this.layoutRect({w:u,x:k});k=!0}}y&&(y.layoutRect({w:this.layoutRect().innerW}).recalc(),u=y.layoutRect().minW+n.deltaW,u>n.w&&(k=n.x-Math.max(0,u-n.w),this.layoutRect({w:u,x:k}),k=!0));k&&this.recalc()},initLayoutRect:function(){var y=this._super(),n=0;if(this.settings.title&&!this._fullscreen){var u=this.getEl("head");u=d.getSize(u);y.headerW=u.width;y.headerH=u.height;n+=y.headerH}this.statusbar&&(n+=this.statusbar.layoutRect().h);y.deltaH+=n;y.minH+=n;y.h+=n;n=d.getWindowSize();y.x=this.settings.x||
Math.max(0,n.w/2-y.w/2);y.y=this.settings.y||Math.max(0,n.h/2-y.h/2);return y},renderHtml:function(){var y=this._layout,n=this._id,u=this.classPrefix,k=this.settings,t="",q="",x=k.html;this.preRender();y.preRender(this);k.title&&(t='<div id="'+n+'-head" class="'+u+'window-head"><div id="'+n+'-title" class="'+u+'title">'+this.encode(k.title)+'</div><div id="'+n+'-dragh" class="'+u+'dragh"></div><button type="button" class="'+u+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>');
k.url&&(x='<iframe src="'+k.url+'" tabindex="-1"></iframe>');"undefined"==typeof x&&(x=y.renderHtml(this));this.statusbar&&(q=this.statusbar.renderHtml());return'<div id="'+n+'" class="'+this.classes+'" hidefocus="1"><div class="'+this.classPrefix+'reset" role="application">'+t+'<div id="'+n+'-body" class="'+this.bodyClasses+'">'+x+"</div>"+q+"</div></div>"},fullscreen:function(y){var n=this,u=m.documentElement,k,t=n.classPrefix;if(y!=n._fullscreen){f(e).on("resize",function(){if(n._fullscreen)if(k)n._timer||
(n._timer=a.setTimeout(function(){var A=d.getWindowSize();n.moveTo(0,0).resizeTo(A.w,A.h);n._timer=0},50));else{var x=(new Date).getTime();var w=d.getWindowSize();n.moveTo(0,0).resizeTo(w.w,w.h);50<(new Date).getTime()-x&&(k=!0)}});var q=n.layoutRect();(n._fullscreen=y)?(n._initial={x:q.x,y:q.y,w:q.w,h:q.h},n.borderBox=b.parseBox("0"),n.getEl("head").style.display="none",q.deltaH-=q.headerH+2,f([u,m.body]).addClass(t+"fullscreen"),n.classes.add("fullscreen"),y=d.getWindowSize(),n.moveTo(0,0).resizeTo(y.w,
y.h)):(n.borderBox=b.parseBox(n.settings.border),n.getEl("head").style.display="",q.deltaH+=q.headerH,f([u,m.body]).removeClass(t+"fullscreen"),n.classes.remove("fullscreen"),n.moveTo(n._initial.x,n._initial.y).resizeTo(n._initial.w,n._initial.h))}return n.reflow()},postRender:function(){var y,n,u=this;h(function(){u.classes.add("in");u.fire("open")},0);u._super();u.statusbar&&u.statusbar.postRender();u.focus();this.dragHelper=new g(u._id+"-dragh",{start:function(){y=u.layoutRect().x;n=u.layoutRect().y},
drag:function(k){u.moveTo(y+k.deltaX,n+k.deltaY)}});u.on("submit",function(k){k.isDefaultPrevented()||u.close()});v.push(u);r(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){this.dragHelper.destroy();this._super();this.statusbar&&this.statusbar.remove();var y=this.classPrefix;var n;a:{for(n=0;n<v.length;n++)if(v[n]._fullscreen){n=!0;break a}n=!1}n&&f([m.documentElement,m.body]).removeClass(y+"fullscreen");for(y=v.length;y--;)v[y]===this&&v.splice(y,1);r(0<
v.length)},getContentWindow:function(){var y=this.getEl().getElementsByTagName("iframe")[0];return y?y.contentWindow:null}});(function(){if(!c.desktop){var y=e.innerWidth,n=e.innerHeight;a.setInterval(function(){var u=e.innerWidth,k=e.innerHeight;if(y!=u||n!=k)y=u,n=k,f(e).trigger("resize")},100)}f(e).on("resize",function(){var u,k=d.getWindowSize();for(u=0;u<v.length;u++){var t=v[u].layoutRect();v[u].moveTo(v[u].settings.x||Math.max(0,k.w/2-t.w/2),v[u].settings.y||Math.max(0,k.h/2-t.h/2))}})})();
return l});B("tinymce.ui.MessageBox",["global!document","tinymce.ui.Window"],function(m,h){var e=h.extend({init:function(f){f={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(f)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(f){function c(d,g,l){return{type:"button",text:d,subtype:l?"primary":"",onClick:function(p){p.control.parents()[1].close();
a(g)}}}var a=f.callback||function(){};switch(f.buttons){case e.OK_CANCEL:var b=[c("Ok",!0,!0),c("Cancel",!1)];break;case e.YES_NO:case e.YES_NO_CANCEL:b=[c("Yes",1,!0),c("No",0)];f.buttons==e.YES_NO_CANCEL&&b.push(c("Cancel",-1));break;default:b=[c("Ok",!0,!0)]}return(new h({padding:20,x:f.x,y:f.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:b,title:f.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:f.text},onPostRender:function(){this.aria("describedby",
this.items()[0]._id)},onClose:f.onClose,onCancel:function(){a(!1)}})).renderTo(m.body).reflow()},alert:function(f,c){"string"==typeof f&&(f={text:f});f.callback=c;return e.msgBox(f)},confirm:function(f,c){"string"==typeof f&&(f={text:f});f.callback=c;f.buttons=e.OK_CANCEL;return e.msgBox(f)}}});return e});B("tinymce.ui.WindowManagerImpl",["tinymce.ui.Window","tinymce.ui.MessageBox"],function(m,h){return function(e){return{open:function(f,c,a){f.title=f.title||" ";f.url=f.url||f.file;f.url&&(f.width=
parseInt(f.width||320,10),f.height=parseInt(f.height||240,10));f.body&&(f.items={defaults:f.defaults,type:f.bodyType||"form",items:f.body,data:f.data,callbacks:f.commands});f.url||f.buttons||(f.buttons=[{text:"Ok",subtype:"primary",onclick:function(){b.find("form")[0].submit()}},{text:"Cancel",onclick:function(){b.close()}}]);var b=new m(f);b.on("close",function(){a(b)});if(f.data)b.on("postRender",function(){this.find("*").each(function(d){var g=d.name();g in f.data&&d.value(f.data[g])})});b.features=
f||{};b.params=c||{};return b=b.renderTo().reflow()},alert:function(f,c,a){var b=h.alert(f,function(){c()});b.on("close",function(){a(b)});return b},confirm:function(f,c,a){var b=h.confirm(f,function(d){c(d)});b.on("close",function(){a(b)});return b},close:function(f){f.close()},getParams:function(f){return f.params},setParams:function(f,c){f.params=c}}}});B("tinymce.themes.modern.api.ThemeApi",["tinymce.themes.modern.ui.Render","tinymce.themes.modern.ui.Resize","tinymce.ui.NotificationManagerImpl",
"tinymce.ui.WindowManagerImpl"],function(m,h,e,f){return{get:function(c){return{renderUI:function(a){return m.renderUI(c,this,a)},resizeTo:function(a,b){return h.resizeTo(c,a,b)},resizeBy:function(a,b){return h.resizeBy(c,a,b)},getNotificationManagerImpl:function(){return e(c)},getWindowManagerImpl:function(){return f(c)}}}}});B("tinymce.ui.Layout",["tinymce.core.util.Class","tinymce.core.util.Tools"],function(m,h){return m.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=
h.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var f=this.settings,c,a;var b=f.firstControlClass;var d=f.lastControlClass;e.each(function(g){g.classes.remove(b).remove(d).add(f.controlClass);g.visible()&&(c||(c=g),a=g)});c&&c.classes.add(b);a&&a.classes.add(d)},renderHtml:function(e){var f="";this.applyClasses(e.items());e.items().each(function(c){f+=c.renderHtml()});return f},recalc:function(){},postRender:function(){},
isNative:function(){return!1}})});B("tinymce.ui.AbsoluteLayout",["tinymce.ui.Layout"],function(m){return m.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(h){h.items().filter(":visible").each(function(e){var f=e.settings;e.layoutRect({x:f.x,y:f.y,w:f.w,h:f.h});e.recalc&&e.recalc()})},renderHtml:function(h){return'<div id="'+h._id+'-absend" class="'+h.classPrefix+'abs-end"></div>'+this._super(h)}})});B("tinymce.ui.Button",["global!document","global!window",
"tinymce.ui.Widget"],function(m,h,e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(f){var c=this;c._super(f);f=c.settings;var a=c.settings.size;c.on("click mousedown",function(b){b.preventDefault()});c.on("touchstart",function(b){c.fire("click",b);b.preventDefault()});f.subtype&&c.classes.add(f.subtype);a&&c.classes.add("btn-"+a);f.icon&&c.icon(f.icon)},icon:function(f){if(!arguments.length)return this.state.get("icon");this.state.set("icon",f);return this},repaint:function(){var f=
this.getEl().firstChild;f&&(f=f.style,f.width=f.height="100%");this._super()},renderHtml:function(){var f=this._id,c=this.classPrefix,a=this.state.get("icon"),b,d=this.state.get("text"),g="",l=this.settings;(b=l.image)?(a="none","string"!=typeof b&&(b=h.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="";d&&(this.classes.add("btn-has-text"),g='<span class="'+c+'txt">'+this.encode(d)+"</span>");a=a?c+"ico "+c+"i-"+a:"";return'<div id="'+f+'" class="'+this.classes+'" tabindex="-1"'+
("boolean"===typeof l.active?' aria-pressed="'+l.active+'"':"")+'><button id="'+f+'-button" role="presentation" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+b+"></i>":"")+g+"</button></div>"},bindStates:function(){function f(d){var g=a("span."+b,c.getEl());d?(g[0]||(a("button:first",c.getEl()).append('<span class="'+b+'"></span>'),g=a("span."+b,c.getEl())),g.html(c.encode(d))):g.remove();c.classes.toggle("btn-has-text",!!d)}var c=this,a=c.$,b=c.classPrefix+"txt";c.state.on("change:text",function(d){f(d.value)});
c.state.on("change:icon",function(d){d=d.value;var g=c.classPrefix;d=(c.settings.icon=d)?g+"ico "+g+"i-"+c.settings.icon:"";g=c.getEl().firstChild;var l=g.getElementsByTagName("i")[0];d?(l&&l==g.firstChild||(l=m.createElement("i"),g.insertBefore(l,g.firstChild)),l.className=d):l&&g.removeChild(l);f(c.state.get("text"))});return c._super()}})});J("global!RegExp",RegExp);B("tinymce.ui.BrowseButton",["tinymce.ui.Button","tinymce.core.util.Tools","tinymce.ui.DomUtils","tinymce.core.dom.DomQuery","global!RegExp"],
function(m,h,e,f,c){return m.extend({init:function(a){a=h.extend({text:"Browse...",multiple:!1,accept:null},a);this._super(a);this.classes.add("browsebutton");a.multiple&&this.classes.add("multiple")},postRender:function(){var a=this,b=e.create("input",{type:"file",id:a._id+"-browse",accept:a.settings.accept});a._super();f(b).on("change",function(d){var g=d.target.files;a.value=function(){return g.length?a.settings.multiple?g:g[0]:null};d.preventDefault();g.length&&a.fire("change",d)});f(b).on("click",
function(d){d.stopPropagation()});f(a.getEl("button")).on("click",function(d){d.stopPropagation();b.click()});a.getEl().appendChild(b)},remove:function(){f(this.getEl("button")).off();f(this.getEl("input")).off();this._super()}})});B("tinymce.ui.ButtonGroup",["tinymce.ui.Container"],function(m){return m.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var h=this._layout;this.classes.add("btn-group");this.preRender();h.preRender(this);return'<div id="'+this._id+'" class="'+
this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+h.renderHtml(this)+"</div></div>"}})});B("tinymce.ui.Checkbox",["global!document","tinymce.ui.Widget"],function(m,h){return h.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var f=this;f._super(e);f.on("click mousedown",function(c){c.preventDefault()});f.on("click",function(c){c.preventDefault();f.disabled()||f.checked(!f.checked())});f.checked(f.settings.checked)},checked:function(e){if(!arguments.length)return this.state.get("checked");
this.state.set("checked",e);return this},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this._id,f=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+f+"ico "+f+'i-checkbox"></i><span id="'+e+'-al" class="'+f+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){function e(c){f.classes.toggle("checked",c);f.aria("checked",c)}var f=
this;f.state.on("change:text",function(c){f.getEl("al").firstChild.data=f.translate(c.value)});f.state.on("change:checked change:value",function(c){f.fire("change");e(c.value)});f.state.on("change:icon",function(c){c=c.value;var a=f.classPrefix;if("undefined"==typeof c)return f.settings.icon;c=(f.settings.icon=c)?a+"ico "+a+"i-"+f.settings.icon:"";a=f.getEl().firstChild;var b=a.getElementsByTagName("i")[0];c?(b&&b==a.firstChild||(b=m.createElement("i"),a.insertBefore(b,a.firstChild)),b.className=
c):b&&a.removeChild(b)});f.state.get("checked")&&e(!0);return f._super()}})});B("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.util.VK")});B("tinymce.ui.ComboBox","global!document tinymce.core.dom.DomQuery tinymce.core.ui.Factory tinymce.core.util.Tools tinymce.core.util.VK tinymce.ui.DomUtils tinymce.ui.Widget".split(" "),function(m,h,e,f,c,a,b){return b.extend({init:function(d){var g=this;g._super(d);d=g.settings;g.classes.add("combobox");g.subinput=!0;
g.ariaTarget="inp";d.menu=d.menu||d.values;d.menu&&(d.icon="caret");g.on("click",function(l){var p=l.target,r=g.getEl();if(h.contains(r,p)||p==r)for(;p&&p!=r;)p.id&&-1!=p.id.indexOf("-open")&&(g.fire("action"),d.menu&&(g.showMenu(),l.aria&&g.menu.items()[0].focus())),p=p.parentNode});g.on("keydown",function(l){var p;13==l.keyCode&&"INPUT"===l.target.nodeName&&(l.preventDefault(),g.parents().reverse().each(function(r){if(r.toJSON)return p=r,!1}),g.fire("submit",{data:p.toJSON()}))});g.on("keyup",function(l){if("INPUT"==
l.target.nodeName){var p=g.state.get("value"),r=l.target.value;r!==p&&(g.state.set("value",r),g.fire("autocomplete",l))}});g.on("mouseover",function(l){var p=g.tooltip().moveTo(-65535);if(g.statusLevel()&&-1!==l.target.className.indexOf(g.classPrefix+"status")){var r=g.statusMessage()||"Ok";r=p.text(r).show().testMoveRel(l.target,["bc-tc","bc-tl","bc-tr"]);p.classes.toggle("tooltip-n","bc-tc"==r);p.classes.toggle("tooltip-nw","bc-tl"==r);p.classes.toggle("tooltip-ne","bc-tr"==r);p.moveRel(l.target,
r)}})},statusLevel:function(d){0<arguments.length&&this.state.set("statusLevel",d);return this.state.get("statusLevel")},statusMessage:function(d){0<arguments.length&&this.state.set("statusMessage",d);return this.state.get("statusMessage")},showMenu:function(){var d=this,g=d.settings;d.menu||(g=g.menu||[],g.length?g={type:"menu",items:g}:g.type=g.type||"menu",d.menu=e.create(g).parent(d).renderTo(d.getContainerElm()),d.fire("createmenu"),d.menu.reflow(),d.menu.on("cancel",function(l){l.control===
d.menu&&d.focus()}),d.menu.on("show hide",function(l){l.control.items().each(function(p){p.active(p.value()==d.value())})}).fire("show"),d.menu.on("select",function(l){d.value(l.control.value())}),d.on("focusin",function(l){"INPUT"==l.target.tagName.toUpperCase()&&d.menu.hide()}),d.aria("expanded",!0));d.menu.show();d.menu.layoutRect({w:d.layoutRect().w});d.menu.moveRel(d.getEl(),d.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var d=this.getEl(),
g=this.getEl("open"),l=this.layoutRect(),p,r=0;d=d.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(r=parseInt(a.getRuntimeStyle(d,"padding-right"),10)-parseInt(a.getRuntimeStyle(d,"padding-left"),10));g=g?l.w-a.getSize(g).width-10:l.w-10;m.all&&(!m.documentMode||8>=m.documentMode)&&(p=this.layoutRect().h-2+"px");h(d).css({width:g-r,lineHeight:p});this._super();return this},postRender:function(){var d=this;h(this.getEl("inp")).on("change",function(g){d.state.set("value",g.target.value);
d.fire("change",g)});return d._super()},renderHtml:function(){var d=this._id,g=this.settings,l=this.classPrefix,p=this.state.get("value")||"",r,v="",z="";"spellcheck"in g&&(z+=' spellcheck="'+g.spellcheck+'"');g.maxLength&&(z+=' maxlength="'+g.maxLength+'"');g.size&&(z+=' size="'+g.size+'"');g.subtype&&(z+=' type="'+g.subtype+'"');var y='<i id="'+d+'-status" class="mce-status mce-ico" style="display: none"></i>';this.disabled()&&(z+=' disabled="disabled"');(r=g.icon)&&"caret"!=r&&(r=l+"ico "+l+"i-"+
g.icon);var n=this.state.get("text");if(r||n)v='<div id="'+d+'-open" class="'+l+"btn "+l+'open" tabIndex="-1" role="button"><button id="'+d+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=r?'<i class="'+r+'"></i>':'<i class="'+l+'caret"></i>')+(n?(r?" ":"")+n:"")+"</button></div>",this.classes.add("has-open");return'<div id="'+d+'" class="'+this.classes+'"><input id="'+d+'-inp" class="'+l+'textbox" value="'+this.encode(p,!1)+'" hidefocus="1"'+z+' placeholder="'+this.encode(g.placeholder)+
'" />'+y+v+"</div>"},value:function(d){if(arguments.length)return this.state.set("value",d),this;this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value);return this.state.get("value")},showAutoComplete:function(d,g){var l=this;if(0===d.length)l.hideMenu();else{var p=function(r,v){return function(){l.fire("selectitem",{title:v,value:r})}};l.menu?l.menu.items().remove():l.menu=e.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(l).renderTo();f.each(d,function(r){l.menu.add({text:r.title,
url:r.previewUrl,match:g,classes:"menu-item-ellipsis",onclick:p(r.value,r.title)})});l.menu.renderNew();l.hideMenu();l.menu.on("cancel",function(r){r.control.parent()===l.menu&&(r.stopPropagation(),l.focus(),l.hideMenu())});l.menu.on("select",function(){l.focus()});d=l.layoutRect().w;l.menu.layoutRect({w:d,minW:0,maxW:d});l.menu.reflow();l.menu.show();l.menu.moveRel(l.getEl(),l.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var d=
this;d.state.on("change:value",function(l){d.getEl("inp").value!=l.value&&(d.getEl("inp").value=l.value)});d.state.on("change:disabled",function(l){d.getEl("inp").disabled=l.value});d.state.on("change:statusLevel",function(l){var p=d.getEl("status"),r=d.classPrefix;l=l.value;a.css(p,"display","none"===l?"none":"");a.toggleClass(p,r+"i-checkmark","ok"===l);a.toggleClass(p,r+"i-warning","warn"===l);a.toggleClass(p,r+"i-error","error"===l);d.classes.toggle("has-status","none"!==l);d.repaint()});a.on(d.getEl("status"),
"mouseleave",function(){d.tooltip().hide()});d.on("cancel",function(l){d.menu&&d.menu.visible()&&(l.stopPropagation(),d.hideMenu())});var g=function(l,p){p&&0<p.items().length&&p.items().eq(l)[0].focus()};d.on("keydown",function(l){var p=l.keyCode;"INPUT"===l.target.nodeName&&(p===c.DOWN?(l.preventDefault(),d.fire("autocomplete"),g(0,d.menu)):p===c.UP&&(l.preventDefault(),g(-1,d.menu)))});return d._super()},remove:function(){h(this.getEl("inp")).off();this.menu&&this.menu.remove();this._super()}})});
B("tinymce.ui.ColorBox",["tinymce.ui.ComboBox"],function(m){return m.extend({init:function(h){var e=this;h.spellcheck=!1;h.onaction&&(h.icon="none");e._super(h);e.classes.add("colorbox");e.on("change keyup postrender",function(){e.repaintColor(e.value())})},repaintColor:function(h){var e=this.getEl("open");if(e=e?e.getElementsByTagName("i")[0]:null)try{e.style.background=h}catch(f){}},bindStates:function(){var h=this;h.state.on("change:value",function(e){h.state.get("rendered")&&h.repaintColor(e.value)});
return h._super()}})});B("tinymce.ui.PanelButton",["tinymce.ui.Button","tinymce.ui.FloatPanel"],function(m,h){return m.extend({showPanel:function(){var e=this,f=e.settings;e.classes.add("opened");if(e.panel)e.panel.show();else{var c=f.panel;c.type&&(c={layout:"grid",items:c});c.role=c.role||"dialog";c.popover=!0;c.autohide=!0;c.ariaRoot=!0;e.panel=(new h(c)).on("hide",function(){e.classes.remove("opened")}).on("cancel",function(a){a.stopPropagation();e.focus();e.hidePanel()}).parent(e).renderTo(e.getContainerElm());
e.panel.fire("show");e.panel.reflow()}f=e.panel.testMoveRel(e.getEl(),f.popoverAlign||(e.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl"]));e.panel.classes.toggle("start","bc-tl"===f);e.panel.classes.toggle("end","bc-tr"===f);e.panel.moveRel(e.getEl(),f)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var e=this;e.aria("haspopup",!0);e.on("click",function(f){f.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!f.aria)))});return e._super()},
remove:function(){this.panel&&(this.panel.remove(),this.panel=null);return this._super()}})});B("tinymce.ui.ColorButton",["tinymce.ui.PanelButton","tinymce.core.dom.DOMUtils"],function(m,h){var e=h.DOM;return m.extend({init:function(f){this._super(f);this.classes.add("splitbtn");this.classes.add("colorbutton")},color:function(f){return f?(this._color=f,this.getEl("preview").style.backgroundColor=f,this):this._color},resetColor:function(){this._color=null;this.getEl("preview").style.backgroundColor=
null;return this},renderHtml:function(){var f=this._id,c=this.classPrefix,a=this.state.get("text"),b=this.settings.icon?c+"ico "+c+"i-"+this.settings.icon:"",d=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"",g="";a&&(this.classes.add("btn-has-text"),g='<span class="'+c+'txt">'+this.encode(a)+"</span>");return'<div id="'+f+'" class="'+this.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+
(b?'<i class="'+b+'"'+d+"></i>":"")+'<span id="'+f+'-preview" class="'+c+'preview"></span>'+g+'</button><button type="button" class="'+c+'open" hidefocus="1" tabindex="-1"> <i class="'+c+'caret"></i></button></div>'},postRender:function(){var f=this,c=f.settings.onclick;f.on("click",function(a){a.aria&&"down"===a.aria.key||a.control!=f||e.getParent(a.target,"."+f.classPrefix+"open")||(a.stopImmediatePropagation(),c.call(f,a))});delete f.settings.onclick;return f._super()}})});B("tinymce.core.util.Color",
["global!tinymce.util.Tools.resolve"],function(m){return m("tinymce.util.Color")});B("tinymce.ui.ColorPicker",["tinymce.ui.Widget","tinymce.ui.DragHelper","tinymce.ui.DomUtils","tinymce.core.util.Color"],function(m,h,e,f){return m.extend({Defaults:{classes:"widget colorpicker"},init:function(c){this._super(c)},postRender:function(){function c(n,u){var k=e.getPos(n);var t=u.pageX-k.x;u=u.pageY-k.y;t=Math.max(0,Math.min(t/n.clientWidth,1));u=Math.max(0,Math.min(u/n.clientHeight,1));return{x:t,y:u}}
function a(n,u){e.css(v,{top:(360-n.h)/360*100+"%"});u||e.css(y,{left:n.s+"%",top:100-n.v+"%"});z.style.background=(new f({s:100,v:100,h:n.h})).toHex();g.color().parse({s:n.s,v:n.v,h:n.h})}function b(n){n=c(z,n);p.s=100*n.x;p.v=100*(1-n.y);a(p);g.fire("change")}function d(n){n=c(r,n);p=l.toHsv();p.h=360*(1-n.y);a(p,!0);g.fire("change")}var g=this,l=g.color(),p;var r=g.getEl("h");var v=g.getEl("hp");var z=g.getEl("sv");var y=g.getEl("svp");g._repaint=function(){p=l.toHsv();a(p)};g._super();g._svdraghelper=
new h(g._id+"-sv",{start:b,drag:b});g._hdraghelper=new h(g._id+"-h",{start:d,drag:d});g._repaint()},rgb:function(){return this.color().toRgb()},value:function(c){if(arguments.length)this.color().parse(c),this._rendered&&this._repaint();else return this.color().toHex()},color:function(){this._color||(this._color=new f);return this._color},renderHtml:function(){var c=this._id,a=this.classPrefix,b,d="";var g="#ff0000 #ff0080 #ff00ff #8000ff #0000ff #0080ff #00ffff #00ff80 #00ff00 #80ff00 #ffff00 #ff8000 #ff0000".split(" ");
var l=0;for(b=g.length-1;l<b;l++)d+='<div class="'+a+'colorpicker-h-chunk" style="height:'+100/b+"%;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+g[l]+",endColorstr="+g[l+1]+");-ms-filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+g[l]+",endColorstr="+g[l+1]+')"></div>';return'<div id="'+c+'" class="'+this.classes+'"><div id="'+c+'-sv" class="'+a+'colorpicker-sv"><div class="'+a+'colorpicker-overlay1"><div class="'+a+'colorpicker-overlay2"><div id="'+
c+'-svp" class="'+a+'colorpicker-selector1"><div class="'+a+'colorpicker-selector2"></div></div></div></div></div><div id="'+(c+'-h" class="'+a+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+d+'<div id="'+c+'-hp" class="'+a+'colorpicker-h-marker"></div></div></div>')}})});
B("tinymce.ui.DropZone",["tinymce.ui.Widget","tinymce.core.util.Tools","tinymce.ui.DomUtils","global!RegExp"],function(m,h,e,f){return m.extend({init:function(c){c=h.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},c);this._super(c);this.classes.add("dropzone");c.multiple&&this.classes.add("multiple")},renderHtml:function(){var c=this.settings;var a=e.create("div",{id:this._id,hidefocus:"1"},"<span>"+this.translate(c.text)+"</span>");c.height&&e.css(a,"height",c.height+"px");
c.width&&e.css(a,"width",c.width+"px");a.className=this.classes;return a.outerHTML},postRender:function(){var c=this,a=function(d){d.preventDefault();c.classes.toggle("dragenter");c.getEl().className=c.classes},b=function(d){var g=c.settings.accept;if("string"!==typeof g)return d;var l=new f("("+g.split(/\s*,\s*/).join("|")+")$","i");return h.grep(d,function(p){return l.test(p.name)})};c._super();c.$el.on("dragover",function(d){d.preventDefault()});c.$el.on("dragenter",a);c.$el.on("dragleave",a);
c.$el.on("drop",function(d){d.preventDefault();if(!c.state.get("disabled")){var g=b(d.dataTransfer.files);c.value=function(){return g.length?c.settings.multiple?g:g[0]:null};g.length&&c.fire("change",d)}})},remove:function(){this.$el.off();this._super()}})});B("tinymce.ui.Path",["tinymce.ui.Widget"],function(m){return m.extend({init:function(h){var e=this;h.delimiter||(h.delimiter="\u00bb");e._super(h);e.classes.add("path");e.canFocus=!0;e.on("click",function(f){var c;(c=f.target.getAttribute("data-index"))&&
e.fire("select",{value:e.row()[c],index:c})});e.row(e.settings.row)},focus:function(){this.getEl().firstChild.focus();return this},row:function(h){if(!arguments.length)return this.state.get("row");this.state.set("row",h);return this},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var h=this;h.state.on("change:row",function(e){h.innerHtml(h._getDataPathHtml(e.value))});return h._super()},_getDataPathHtml:function(h){h=
h||[];var e,f="",c=this.classPrefix;var a=0;for(e=h.length;a<e;a++)f+=(0<a?'<div class="'+c+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+c+"path-item"+(a==e-1?" "+c+"last":"")+'" data-index="'+a+'" tabindex="-1" id="'+this._id+"-"+a+'" aria-level="'+(a+1)+'">'+h[a].name+"</div>";f||(f='<div class="'+c+'path-item">\u00a0</div>');return f}})});B("tinymce.ui.ElementPath",["tinymce.ui.Path"],function(m){return m.extend({postRender:function(){var h=
this,e=h.settings.editor;!1!==e.settings.elementpath&&(h.on("select",function(f){e.focus();e.selection.select(this.row()[f.index].element);e.nodeChanged()}),e.on("nodeChange",function(f){var c=[];f=f.parents;for(var a=f.length;a--;){var b;if(b=1==f[a].nodeType){a:{b=f[a];if(1===b.nodeType){if("BR"==b.nodeName||b.getAttribute("data-mce-bogus")){b=!0;break a}if("bookmark"===b.getAttribute("data-mce-type")){b=!0;break a}}b=!1}b=!b}if(b&&(b=e.fire("ResolveName",{name:f[a].nodeName.toLowerCase(),target:f[a]}),
b.isDefaultPrevented()||c.push({name:b.name,element:f[a]}),b.isPropagationStopped()))break}h.row(c)}));return h._super()}})});B("tinymce.ui.FormItem",["tinymce.ui.Container"],function(m){return m.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var h=this._layout,e=this.classPrefix;this.classes.add("formitem");h.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+
e+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+h.renderHtml(this)+"</div></div>"}})});B("tinymce.ui.Form",["tinymce.ui.Container","tinymce.ui.FormItem","tinymce.core.util.Tools"],function(m,h,e){return m.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var f=this,c=f.items();
f.settings.formItemDefaults||(f.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}});c.each(function(a){var b;if(b=a.settings.label)b=new h(e.extend({items:{type:"label",id:a._id+"-l",text:b,flex:0,forId:a._id,disabled:a.disabled()}},f.settings.formItemDefaults)),b.type="formitem",a.aria("labelledby",a._id+"-l"),"undefined"==typeof a.settings.flex&&(a.settings.flex=1),f.replace(a,b),b.add(a)})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();
this.fromJSON(this.settings.data)},bindStates:function(){function f(){var a=0,b=[];if(!1!==c.settings.labelGapCalc){var d="children"==c.settings.labelGapCalc?c.find("formitem"):c.items();d.filter("formitem").each(function(l){l=l.items()[0];var p=l.getEl().clientWidth;a=p>a?p:a;b.push(l)});var g=c.settings.labelGap||0;for(d=b.length;d--;)b[d].settings.minWidth=a+g}}var c=this;c._super();c.on("show",f);f()}})});B("tinymce.ui.FieldSet",["tinymce.ui.Form"],function(m){return m.extend({Defaults:{containerCls:"fieldset",
layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var h=this._layout,e=this.classPrefix;this.preRender();h.preRender(this);return'<fieldset id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+e+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+h.renderHtml(this)+
"</div></fieldset>"}})});J("global!Date",Date);J("global!Math",Math);B("ephox.katamari.api.Id",["global!Date","global!Math","global!String"],function(m,h,e){var f=0;return{generate:function(c){var a=(new m).getTime(),b=h.floor(1E9*h.random());f++;return c+"_"+b+f+e(a)}}});B("global!console",[],function(){"undefined"===typeof console&&(console={log:function(){}});return console});B("ephox.sugar.api.node.Element",["ephox.katamari.api.Fun","global!Error","global!console","global!document"],function(m,
h,e,f){var c=function(a){if(null===a||void 0===a)throw new h("Node cannot be null or undefined");return{dom:m.constant(a)}};return{fromHtml:function(a,b){b=(b||f).createElement("div");b.innerHTML=a;if(!b.hasChildNodes()||1<b.childNodes.length)throw e.error("HTML does not have a single root node",a),"HTML must have a single root node";return c(b.childNodes[0])},fromTag:function(a,b){a=(b||f).createElement(a);return c(a)},fromText:function(a,b){a=(b||f).createTextNode(a);return c(a)},fromDom:c}});B("ephox.katamari.api.Thunk",
[],function(){return{cached:function(m){var h=!1,e;return function(){h||(h=!0,e=m.apply(null,arguments));return e}}}});B("ephox.sugar.api.node.NodeTypes",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}});B("ephox.sugar.api.node.Node",["ephox.sugar.api.node.NodeTypes"],function(m){var h=function(b){return b.dom().nodeName.toLowerCase()},e=function(b){return b.dom().nodeType},
f=function(b){return function(d){return e(d)===b}},c=f(m.ELEMENT),a=f(m.TEXT);f=f(m.DOCUMENT);return{name:h,type:e,value:function(b){return b.dom().nodeValue},isElement:c,isText:a,isDocument:f,isComment:function(b){return e(b)===m.COMMENT||"#comment"===h(b)}}});B("ephox.sugar.api.node.Body",["ephox.katamari.api.Thunk","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","global!document"],function(m,h,e,f){var c=function(a){a=a.dom().body;if(null===a||void 0===a)throw"Body is not available yet";
return h.fromDom(a)};return{body:m.cached(function(){return c(h.fromDom(f))}),getBody:c,inBody:function(a){a=e.isText(a)?a.dom().parentNode:a.dom();return void 0!==a&&null!==a&&a.ownerDocument.body.contains(a)}}});B("ephox.katamari.api.Type",["global!Array","global!String"],function(m,h){var e=function(f){return function(c){if(null===c)c="null";else{var a=typeof c;c="object"===a&&m.prototype.isPrototypeOf(c)?"array":"object"===a&&h.prototype.isPrototypeOf(c)?"string":a}return c===f}};return{isString:e("string"),
isObject:e("object"),isArray:e("array"),isNull:e("null"),isBoolean:e("boolean"),isUndefined:e("undefined"),isFunction:e("function"),isNumber:e("number")}});B("ephox.katamari.data.Immutable",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!Array","global!Error"],function(m,h,e,f){return function(){var c=arguments;return function(){for(var a=new e(arguments.length),b=0;b<a.length;b++)a[b]=arguments[b];if(c.length!==a.length)throw new f('Wrong number of arguments to struct. Expected "['+c.length+
']", got '+a.length+" arguments");var d={};m.each(c,function(g,l){d[g]=h.constant(a[l])});return d}}});B("ephox.katamari.api.Obj",["ephox.katamari.api.Option","global!Object"],function(m,h){var e=function(){var d=h.keys,g=function(l){var p=[],r;for(r in l)l.hasOwnProperty(r)&&p.push(r);return p};return void 0===d?g:d}(),f=function(d,g){for(var l=e(d),p=0,r=l.length;p<r;p++){var v=l[p];g(d[v],v,d)}},c=function(d,g){var l={};f(d,function(p,r){p=g(p,r,d);l[p.k]=p.v});return l},a=function(d,g){var l=
[];f(d,function(p,r){l.push(g(p,r))});return l},b=function(d){return a(d,function(g){return g})};return{bifilter:function(d,g){var l={},p={};f(d,function(r,v){(g(r,v)?l:p)[v]=r});return{t:l,f:p}},each:f,map:function(d,g){return c(d,function(l,p,r){return{k:p,v:g(l,p,r)}})},mapToArray:a,tupleMap:c,find:function(d,g){for(var l=e(d),p=0,r=l.length;p<r;p++){var v=l[p],z=d[v];if(g(z,v,d))return m.some(z)}return m.none()},keys:e,values:b,size:function(d){return b(d).length}}});B("ephox.katamari.util.BagUtils",
["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!Error"],function(m,h,e){var f=function(c){return c.slice(0).sort()};return{sort:f,reqMessage:function(c,a){throw new e("All required keys ("+f(c).join(", ")+") were not specified. Specified keys were: "+f(a).join(", ")+".");},unsuppMessage:function(c){throw new e("Unsupported keys for object: "+f(c).join(", "));},validateStrArr:function(c,a){if(!h.isArray(a))throw new e("The "+c+" fields must be an array. Was: "+a+".");m.each(a,function(b){if(!h.isString(b))throw new e("The value "+
b+" in the "+c+" fields was not a string.");})},invalidTypeMessage:function(c,a){throw new e("All values need to be of type: "+a+". Keys ("+f(c).join(", ")+") were not.");},checkDupes:function(c){var a=f(c);m.find(a,function(b,d){return d<a.length-1&&b===a[d+1]}).each(function(b){throw new e("The field: "+b+" occurs more than once in the combined fields: ["+a.join(", ")+"].");})}}});B("ephox.katamari.data.MixedBag","ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Obj ephox.katamari.api.Option ephox.katamari.util.BagUtils global!Error global!Object".split(" "),
function(m,h,e,f,c,a,b){return function(d,g){var l=d.concat(g);if(0===l.length)throw new a("You must specify at least one required or optional field.");c.validateStrArr("required",d);c.validateStrArr("optional",g);c.checkDupes(l);return function(p){var r=e.keys(p);m.forall(d,function(y){return m.contains(r,y)})||c.reqMessage(d,r);var v=m.filter(r,function(y){return!m.contains(l,y)});0<v.length&&c.unsuppMessage(v);var z={};m.each(d,function(y){z[y]=h.constant(p[y])});m.each(g,function(y){z[y]=h.constant(b.prototype.hasOwnProperty.call(p,
y)?f.some(p[y]):f.none())});return z}}});B("ephox.katamari.api.Struct",["ephox.katamari.data.Immutable","ephox.katamari.data.MixedBag"],function(m,h){return{immutable:m,immutableBag:h}});B("ephox.sugar.alien.Recurse",[],function(){return{toArray:function(m,h){var e=[],f=function(c){e.push(c);return h(c)};m=h(m);do m=m.bind(f);while(m.isSome());return e}}});B("ephox.katamari.api.Global",[],function(){return"undefined"!==typeof window?window:Function("return this;")()});B("ephox.katamari.api.Resolve",
["ephox.katamari.api.Global"],function(m){var h=function(f,c){c=void 0!==c?c:m;for(var a=0;a<f.length&&void 0!==c&&null!==c;++a)c=c[f[a]];return c},e=function(f,c){var a=void 0!==c?c:m;for(c=0;c<f.length;++c){var b=f[c];if(void 0===a[b]||null===a[b])a[b]={};a=a[b]}return a};return{path:h,resolve:function(f,c){f=f.split(".");return h(f,c)},forge:e,namespace:function(f,c){f=f.split(".");return e(f,c)}}});B("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],function(m){return{getOrDie:function(h,
e){e=m.resolve(h,e);if(void 0===e)throw h+" not available on this browser";return e}}});B("ephox.sand.api.Node",["ephox.sand.util.Global"],function(m){return{documentPositionPreceding:function(h,e){var f=m.getOrDie("Node").DOCUMENT_POSITION_PRECEDING;return 0!==(h.compareDocumentPosition(e)&f)},documentPositionContainedBy:function(h,e){var f=m.getOrDie("Node").DOCUMENT_POSITION_CONTAINED_BY;return 0!==(h.compareDocumentPosition(e)&f)}}});J("global!Number",Number);B("ephox.sand.detect.Version",["ephox.katamari.api.Arr",
"global!Number","global!String"],function(m,h,e){var f=function(){return c(0,0)},c=function(a,b){return{major:a,minor:b}};return{nu:c,detect:function(a,b){b=e(b).toLowerCase();if(0===a.length)a=f();else{a:{for(var d=0;d<a.length;d++){var g=a[d];if(g.test(b)){a=g;break a}}a=void 0}a=a?c(h(b.replace(a,"$1")),h(b.replace(a,"$2"))):{major:0,minor:0}}return a},unknown:f}});B("ephox.sand.core.Browser",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(m,h){var e=function(c,a){return function(){return a===
c}},f=function(c){var a=c.current;return{current:a,version:c.version,isEdge:e("Edge",a),isChrome:e("Chrome",a),isIE:e("IE",a),isOpera:e("Opera",a),isFirefox:e("Firefox",a),isSafari:e("Safari",a)}};return{unknown:function(){return f({current:void 0,version:h.unknown()})},nu:f,edge:m.constant("Edge"),chrome:m.constant("Chrome"),ie:m.constant("IE"),opera:m.constant("Opera"),firefox:m.constant("Firefox"),safari:m.constant("Safari")}});B("ephox.sand.core.OperatingSystem",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],
function(m,h){var e=function(c,a){return function(){return a===c}},f=function(c){var a=c.current;return{current:a,version:c.version,isWindows:e("Windows",a),isiOS:e("iOS",a),isAndroid:e("Android",a),isOSX:e("OSX",a),isLinux:e("Linux",a),isSolaris:e("Solaris",a),isFreeBSD:e("FreeBSD",a)}};return{unknown:function(){return f({current:void 0,version:h.unknown()})},nu:f,windows:m.constant("Windows"),ios:m.constant("iOS"),android:m.constant("Android"),linux:m.constant("Linux"),osx:m.constant("OSX"),solaris:m.constant("Solaris"),
freebsd:m.constant("FreeBSD")}});B("ephox.sand.detect.DeviceType",["ephox.katamari.api.Fun"],function(m){return function(h,e,f){var c=h.isiOS()&&!0===/ipad/i.test(f),a=h.isiOS()&&!c,b=h.isAndroid()&&3===h.version.major,d=h.isAndroid()&&4===h.version.major;b=c||b||d&&!0===/mobile/i.test(f);var g=(d=h.isiOS()||h.isAndroid())&&!b;e=e.isSafari()&&h.isiOS()&&!1===/safari/i.test(f);return{isiPad:m.constant(c),isiPhone:m.constant(a),isTablet:m.constant(b),isPhone:m.constant(g),isTouch:m.constant(d),isAndroid:h.isAndroid,
isiOS:h.isiOS,isWebView:m.constant(e)}}});B("ephox.sand.detect.UaString",["ephox.katamari.api.Arr","ephox.sand.detect.Version","global!String"],function(m,h,e){var f=function(c,a){var b=e(a).toLowerCase();return m.find(c,function(d){return d.search(b)})};return{detectBrowser:function(c,a){return f(c,a).map(function(b){var d=h.detect(b.versionRegexes,a);return{current:b.name,version:d}})},detectOs:function(c,a){return f(c,a).map(function(b){var d=h.detect(b.versionRegexes,a);return{current:b.name,
version:d}})}}});B("ephox.katamari.str.StrAppend",[],function(){return{addToStart:function(m,h){return h+m},addToEnd:function(m,h){return m+h},removeFromStart:function(m,h){return m.substring(h)},removeFromEnd:function(m,h){return m.substring(0,m.length-h)}}});B("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],function(m,h){return{first:function(e,f){return e.substr(0,f)},last:function(e,f){return e.substr(e.length-f,e.length)},head:function(e){return""===e?m.none():m.some(e.substr(0,
1))},tail:function(e){return""===e?m.none():m.some(e.substring(1))}}});B("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],function(m,h,e){var f=function(b,d,g){return""===d?!0:b.length<d.length?!1:b.substr(g,g+d.length)===d},c=function(b,d){return f(b,d,0)},a=function(b,d){return f(b,d,b.length-d.length)};return{supplant:function(b,d){return b.replace(/\${([^{}]*)}/g,function(g,l){l=d[l];var p=typeof l;return"string"===p||"number"===p?l:
g})},startsWith:c,removeLeading:function(b,d){return c(b,d)?m.removeFromStart(b,d.length):b},removeTrailing:function(b,d){return a(b,d)?m.removeFromEnd(b,d.length):b},ensureLeading:function(b,d){return c(b,d)?b:m.addToStart(b,d)},ensureTrailing:function(b,d){return a(b,d)?b:m.addToEnd(b,d)},endsWith:a,contains:function(b,d){return-1!==b.indexOf(d)},trim:function(b){return b.replace(/^\s+|\s+$/g,"")},lTrim:function(b){return b.replace(/^\s+/g,"")},rTrim:function(b){return b.replace(/\s+$/g,"")},capitalize:function(b){return h.head(b).bind(function(d){return h.tail(b).map(function(g){return d.toUpperCase()+
g})}).getOr(b)}}});B("ephox.sand.info.PlatformInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Strings"],function(m,h){var e=/.*?version\/ ?([0-9]+)\.([0-9]+).*/,f=function(c){return function(a){return h.contains(a,c)}};e=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(c){return h.contains(c,"edge/")&&h.contains(c,"chrome")&&h.contains(c,"safari")&&h.contains(c,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,e],search:function(c){return h.contains(c,
"chrome")&&!h.contains(c,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(c){return h.contains(c,"msie")||h.contains(c,"trident")}},{name:"Opera",versionRegexes:[e,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:f("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/ ?([0-9]+)\.([0-9]+).*/],search:f("firefox")},{name:"Safari",versionRegexes:[e,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(c){return(h.contains(c,"safari")||h.contains(c,
"mobile/"))&&h.contains(c,"applewebkit")}}];f=[{name:"Windows",search:f("win"),versionRegexes:[/.*?windows nt ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(c){return h.contains(c,"iphone")||h.contains(c,"ipad")},versionRegexes:[/.*?version\/ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:f("android"),versionRegexes:[/.*?android ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:f("os x"),versionRegexes:[/.*?os x ?([0-9]+)_([0-9]+).*/]},
{name:"Linux",search:f("linux"),versionRegexes:[]},{name:"Solaris",search:f("sunos"),versionRegexes:[]},{name:"FreeBSD",search:f("freebsd"),versionRegexes:[]}];return{browsers:m.constant(e),oses:m.constant(f)}});B("ephox.sand.core.PlatformDetection",["ephox.sand.core.Browser","ephox.sand.core.OperatingSystem","ephox.sand.detect.DeviceType","ephox.sand.detect.UaString","ephox.sand.info.PlatformInfo"],function(m,h,e,f,c){return{detect:function(a){var b=c.browsers(),d=c.oses();b=f.detectBrowser(b,a).fold(m.unknown,
m.nu);d=f.detectOs(d,a).fold(h.unknown,h.nu);a=e(d,b,a);return{browser:b,os:d,deviceType:a}}}});J("global!navigator",navigator);B("ephox.sand.api.PlatformDetection",["ephox.katamari.api.Thunk","ephox.sand.core.PlatformDetection","global!navigator"],function(m,h,e){return{detect:m.cached(function(){return h.detect(e.userAgent)})}});B("ephox.sugar.api.search.Selectors","ephox.katamari.api.Arr ephox.katamari.api.Option ephox.sugar.api.node.Element ephox.sugar.api.node.NodeTypes global!Error global!document".split(" "),
function(m,h,e,f,c,a){var b=f.ELEMENT,d=f.DOCUMENT;return{all:function(g,l){l=void 0===l?a:l.dom();return l.nodeType!==b&&l.nodeType!==d||0===l.childElementCount?[]:m.map(l.querySelectorAll(g),e.fromDom)},is:function(g,l){g=g.dom();if(g.nodeType!==b)return!1;if(void 0!==g.matches)return g.matches(l);if(void 0!==g.msMatchesSelector)return g.msMatchesSelector(l);if(void 0!==g.webkitMatchesSelector)return g.webkitMatchesSelector(l);if(void 0!==g.mozMatchesSelector)return g.mozMatchesSelector(l);throw new c("Browser lacks native selectors");
},one:function(g,l){l=void 0===l?a:l.dom();return l.nodeType!==b&&l.nodeType!==d||0===l.childElementCount?h.none():h.from(l.querySelector(g)).map(e.fromDom)}}});B("ephox.sugar.api.dom.Compare",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sand.api.Node","ephox.sand.api.PlatformDetection","ephox.sugar.api.search.Selectors"],function(m,h,e,f,c){var a=function(g,l){return g.dom()===l.dom()},b=function(g,l){g=g.dom();l=l.dom();return g===l?!1:g.contains(l)},d=function(g,l){return e.documentPositionContainedBy(g.dom(),
l.dom())};f=f.detect().browser.isIE()?d:b;return{eq:a,isEqualNode:function(g,l){return g.dom().isEqualNode(l.dom())},member:function(g,l){return m.exists(l,h.curry(a,g))},contains:f,is:c.is}});B("ephox.sugar.api.search.Traverse","ephox.katamari.api.Type ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Option ephox.katamari.api.Struct ephox.sugar.alien.Recurse ephox.sugar.api.dom.Compare ephox.sugar.api.node.Element".split(" "),function(m,h,e,f,c,a,b,d){var g=function(n){return d.fromDom(n.dom().ownerDocument)},
l=function(n){n=n.dom();return f.from(n.parentNode).map(d.fromDom)},p=function(n){n=n.dom();return f.from(n.previousSibling).map(d.fromDom)},r=function(n){n=n.dom();return f.from(n.nextSibling).map(d.fromDom)},v=function(n){n=n.dom();return h.map(n.childNodes,d.fromDom)},z=function(n,u){n=n.dom().childNodes;return f.from(n[u]).map(d.fromDom)},y=c.immutable("element","offset");return{owner:g,defaultView:function(n){n=n.dom().ownerDocument.defaultView;return d.fromDom(n)},documentElement:function(n){n=
g(n);return d.fromDom(n.dom().documentElement)},parent:l,findIndex:function(n){return l(n).bind(function(u){u=v(u);return h.findIndex(u,function(k){return b.eq(n,k)})})},parents:function(n,u){u=m.isFunction(u)?u:e.constant(!1);var k=n.dom();for(n=[];null!==k.parentNode&&void 0!==k.parentNode;){k=k.parentNode;var t=d.fromDom(k);n.push(t);if(!0===u(t))break}return n},siblings:function(n){return l(n).map(v).map(function(u){return h.filter(u,function(k){return!b.eq(n,k)})}).getOr([])},prevSibling:p,offsetParent:function(n){n=
n.dom();return f.from(n.offsetParent).map(d.fromDom)},prevSiblings:function(n){return h.reverse(a.toArray(n,p))},nextSibling:r,nextSiblings:function(n){return a.toArray(n,r)},children:v,child:z,firstChild:function(n){return z(n,0)},lastChild:function(n){return z(n,n.dom().childNodes.length-1)},childNodesCount:function(n,u){return n.dom().childNodes.length},leaf:function(n,u){var k=v(n);return 0<k.length&&u<k.length?y(k[u],0):y(n,u)}}});B("ephox.sugar.api.search.PredicateFilter",["ephox.katamari.api.Arr",
"ephox.sugar.api.node.Body","ephox.sugar.api.search.Traverse"],function(m,h,e){var f=function(c,a){var b=[];m.each(e.children(c),function(d){a(d)&&(b=b.concat([d]));b=b.concat(f(d,a))});return b};return{all:function(c){return f(h.body(),c)},ancestors:function(c,a,b){return m.filter(e.parents(c,b),a)},siblings:function(c,a){return m.filter(e.siblings(c),a)},children:function(c,a){return m.filter(e.children(c),a)},descendants:f}});B("ephox.sugar.api.search.SelectorFilter",["ephox.sugar.api.search.PredicateFilter",
"ephox.sugar.api.search.Selectors"],function(m,h){return{all:function(e){return h.all(e)},ancestors:function(e,f,c){return m.ancestors(e,function(a){return h.is(a,f)},c)},siblings:function(e,f){return m.siblings(e,function(c){return h.is(c,f)})},children:function(e,f){return m.children(e,function(c){return h.is(c,f)})},descendants:function(e,f){return h.all(f,e)}}});B("tinymce.ui.content.LinkTargets","ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Id ephox.sugar.api.node.Element ephox.sugar.api.search.SelectorFilter tinymce.core.dom.DOMUtils tinymce.core.util.Tools".split(" "),
function(m,h,e,f,c,a,b){var d=b.trim;a=function(q){return function(x){return!x||1!==x.nodeType||x.contentEditable!==q&&x.getAttribute("data-mce-contenteditable")!==q?!1:!0}};var g=a("true"),l=a("false"),p=function(q,x,w,A,D){return{type:q,title:x,url:w,level:A,attach:D}},r=function(q,x){return m.map(c.descendants(f.fromDom(x),q),function(w){return w.dom()})},v=function(q){return q&&"A"===q.nodeName&&(q.id||q.name)&&z(q)},z=function(q){var x;a:{for(x=q;x=x.parentNode;){var w=x.contentEditable;if(w&&
"inherit"!==w){x=g(x);break a}}x=!1}return x&&!l(q)},y=function(q){return q&&/^(H[1-6])$/.test(q.nodeName)&&z(q)},n=function(q){return q&&/^(H[1-6])$/.test(q.nodeName)?parseInt(q.nodeName.substr(1),10):0},u=function(q){var x=q.id?q.id:e.generate("h");return p("header",q.innerText||q.textContent,"#"+x,n(q),function(){q.id=x})},k=function(q){var x=q.id||q.name;q=q.innerText||q.textContent;return p("anchor",q?q:"#"+x,"#"+x,0,h.noop)},t=function(q){return 0<d(q.title).length};return{find:function(q){q=
r("h1,h2,h3,h4,h5,h6,a:not([href])",q);return m.filter(m.map(m.filter(q,y),u).concat(m.map(m.filter(q,v),k)),t)}}});B("tinymce.ui.FilePicker","ephox.katamari.api.Arr ephox.katamari.api.Fun global!window tinymce.ui.content.LinkTargets tinymce.core.EditorManager tinymce.ui.ComboBox tinymce.core.util.Tools".split(" "),function(m,h,e,f,c,a,b){var d={},g=function(u){return{title:u.title,value:{title:{raw:u.title},url:u.url,attach:u.attach}}},l=function(u,k){return{title:u,value:{title:u,url:k,attach:h.noop}}},
p=function(u,k){return!m.exists(k,function(t){return t.url===u})},r=function(u,k,t){u=k in u?u[k]:t;return!1===u?null:u},v=function(u,k,t,q){var x={title:"-"},w=function(E){E=E.hasOwnProperty(t)?E[t]:[];E=m.filter(E,function(F){return p(F,k)});return b.map(E,function(F){return{title:F,value:{title:F,url:F,attach:h.noop}}})},A=function(E){var F=m.filter(k,function(I){return I.type===E});return b.map(F,g)},D=function(){var E=A("anchor"),F=r(q,"anchor_top","#top"),I=r(q,"anchor_bottom","#bottom");null!==
F&&E.unshift(l("<top>",F));null!==I&&E.push(l("<bottom>",I));return E},C=function(E){return m.foldl(E,function(F,I){return 0===F.length||0===I.length?F.concat(I):F.concat(x,I)},[])};return!1===q.typeahead_urls?[]:"file"===t?C([z(u,w(d)),z(u,A("header")),z(u,D())]):z(u,w(d))},z=function(u,k){var t=u.toLowerCase();k=b.grep(k,function(q){return-1!==q.title.toLowerCase().indexOf(t)});return 1===k.length&&k[0].title===u?[]:k},y=function(u,k,t,q){var x=function(w){var A=k.enable_autocompletes?f.find(t):
[];A=k.enable_autocompletes?v(w,A,q,k):[];u.showAutoComplete(A,w)};u.on("autocomplete",function(){x(u.value())});u.on("selectitem",function(w){w=w.value;u.value(w.url);var A=w.title;A=A.raw?A.raw:A;"image"===q?u.fire("change",{meta:{alt:A,attach:w.attach}}):u.fire("change",{meta:{text:A,attach:w.attach}});u.focus()});u.on("click",function(w){0===u.value().length&&"INPUT"===w.target.nodeName&&x("")});u.on("PostRender",function(){u.getRoot().on("submit",function(w){if(!w.isDefaultPrevented()){w=u.value();
var A=d[q];/^https?/.test(w)&&(A?-1===m.indexOf(A,w)&&(d[q]=A.slice(0,5).concat(w)):d[q]=[w])}})})},n=function(u,k,t){var q=k.filepicker_validator_handler;if(q){var x=function(w){0===w.length?u.statusLevel("none"):q({url:w,type:t},function(A){var D=A.status;A=A.message;D="valid"===D?{status:"ok",message:A}:"unknown"===D?{status:"warn",message:A}:"invalid"===D?{status:"warn",message:A}:{status:"none",message:""};u.statusMessage(D.message);u.statusLevel(D.status)})};u.state.on("change:value",function(w){x(w.value)})}};
return a.extend({Statics:{clearHistory:function(){d={}}},init:function(u){var k=this,t=e.tinymce?e.tinymce.activeEditor:c.activeEditor,q=t.settings,x,w,A=u.filetype;u.spellcheck=!1;(w=q.file_picker_types||q.file_browser_callback_types)&&(w=b.makeMap(w,/[, ]/));if(!w||w[A]){var D=q.file_picker_callback;!D||w&&!w[A]?(D=q.file_browser_callback,!D||w&&!w[A]||(x=function(){D(k.getEl("inp").id,k.value(),A,e)})):x=function(){var C=k.fire("beforecall").meta;C=b.extend({filetype:A},C);D.call(t,function(E,
F){k.value(E).fire("change",{meta:F})},k.value(),C)}}x&&(u.icon="browse",u.onaction=x);k._super(u);y(k,q,t.getBody(),A);n(k,q,A)}})});B("tinymce.ui.FitLayout",["tinymce.ui.AbsoluteLayout"],function(m){return m.extend({recalc:function(h){var e=h.layoutRect(),f=h.paddingBox;h.items().filter(":visible").each(function(c){c.layoutRect({x:f.left,y:f.top,w:e.innerW-f.right-f.left,h:e.innerH-f.top-f.bottom});c.recalc&&c.recalc()})}})});B("tinymce.ui.FlexLayout",["tinymce.ui.AbsoluteLayout"],function(m){return m.extend({recalc:function(h){var e,
f,c=[],a,b=Math.max,d=Math.min;var g=h.items().filter(":visible");var l=h.layoutRect();var p=h.paddingBox;var r=h.settings;var v=h.isRtl()?r.direction||"row-reversed":r.direction;var z=r.align;var y=h.isRtl()?r.pack||"end":r.pack;r=r.spacing||0;if("row-reversed"==v||"column-reverse"==v)g=g.set(g.toArray().reverse()),v=v.split("-")[0];if("column"==v){var n="y";var u="h";var k="minH";var t="maxH";var q="innerH";var x="top";var w="deltaH";var A="contentH";var D="left";var C="w";var E="x";var F="innerW";
var I="minW";var G="right";var K="deltaW";var N="contentW"}else n="x",u="w",k="minW",t="maxW",q="innerW",x="left",w="deltaW",A="contentW",D="top",C="h",E="y",F="innerH",I="minH",G="bottom",K="deltaH",N="contentH";var O=l[q]-p[x]-p[x];v=a=f=0;for(e=g.length;v<e;v++){var Q=g[v];var P=Q.layoutRect();var R=Q.settings;R=R.flex;O-=v<e-1?r:0;0<R&&(f+=R,P[t]&&c.push(Q),P.flex=R);O-=P[k];R=p[D]+P[I]+p[G];R>a&&(a=R)}var M={};M[k]=0>O?l[k]-O+l[w]:l[q]-O+l[w];M[I]=a+l[K];M[A]=l[q]-O;M[N]=a;M.minW=d(M.minW,l.maxW);
M.minH=d(M.minH,l.maxH);M.minW=b(M.minW,l.startMinWidth);M.minH=b(M.minH,l.startMinHeight);if(!l.autoResize||M.minW==l.minW&&M.minH==l.minH){h=O/f;v=0;for(e=c.length;v<e;v++)Q=c[v],P=Q.layoutRect(),Q=P[t],R=P[k]+P.flex*h,R>Q?(O-=P[t]-P[k],f-=P.flex,P.flex=0,P.maxFlexSize=Q):P.maxFlexSize=0;h=O/f;c=p[x];M={};0===f&&("end"==y?c=O+p[x]:"center"==y?(c=Math.round(l[q]/2-(l[q]-O)/2)+p[x],0>c&&(c=p[x])):"justify"==y&&(c=p[x],r=Math.floor(O/(g.length-1))));M[E]=p[D];v=0;for(e=g.length;v<e;v++)Q=g[v],P=Q.layoutRect(),
R=P.maxFlexSize||P[k],"center"===z?M[E]=Math.round(l[F]/2-P[C]/2):"stretch"===z?(M[C]=b(P[I]||0,l[F]-p[D]-p[G]),M[E]=p[D]):"end"===z&&(M[E]=l[F]-P[C]-p.top),0<P.flex&&(R+=P.flex*h),M[u]=R,M[n]=c,Q.layoutRect(M),Q.recalc&&Q.recalc(),c+=R+r}else if(M.w=M.minW,M.h=M.minH,h.layoutRect(M),this.recalc(h),null===h._lastRect&&(g=h.parent()))g._lastRect=null,g.recalc()}})});B("tinymce.ui.FlowLayout",["tinymce.ui.Layout"],function(m){return m.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",
endClass:"break"},recalc:function(h){h.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})});B("ephox.sugar.impl.ClosestOrAncestor",["ephox.katamari.api.Type","ephox.katamari.api.Option"],function(m,h){return function(e,f,c,a,b){return e(c,a)?h.some(c):m.isFunction(b)&&b(c)?h.none():f(c,a,b)}});B("ephox.sugar.api.search.PredicateFind","ephox.katamari.api.Type ephox.katamari.api.Arr ephox.katamari.api.Fun ephox.katamari.api.Option ephox.sugar.api.node.Body ephox.sugar.api.dom.Compare ephox.sugar.api.node.Element ephox.sugar.impl.ClosestOrAncestor".split(" "),
function(m,h,e,f,c,a,b,d){var g=function(r,v,z){r=r.dom();for(z=m.isFunction(z)?z:e.constant(!1);r.parentNode;){r=r.parentNode;var y=b.fromDom(r);if(v(y))return f.some(y);if(z(y))break}return f.none()},l=function(r,v){return h.find(r.dom().childNodes,e.compose(v,b.fromDom)).map(b.fromDom)},p=function(r,v){var z=function(y){for(var n=0;n<y.childNodes.length;n++){if(v(b.fromDom(y.childNodes[n])))return f.some(b.fromDom(y.childNodes[n]));var u=z(y.childNodes[n]);if(u.isSome())return u}return f.none()};
return z(r.dom())};return{first:function(r){return p(c.body(),r)},ancestor:g,closest:function(r,v,z){return d(function(y){return v(y)},g,r,v,z)},sibling:function(r,v){var z=r.dom();return z.parentNode?l(b.fromDom(z.parentNode),function(y){return!a.eq(r,y)&&v(y)}):f.none()},child:l,descendant:p}});B("ephox.sugar.api.search.SelectorFind",["ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Selectors","ephox.sugar.impl.ClosestOrAncestor"],function(m,h,e){var f=function(c,a,b){return m.ancestor(c,
function(d){return h.is(d,a)},b)};return{first:function(c){return h.one(c)},ancestor:f,sibling:function(c,a){return m.sibling(c,function(b){return h.is(b,a)})},child:function(c,a){return m.child(c,function(b){return h.is(b,a)})},descendant:function(c,a){return h.one(a,c)},closest:function(c,a,b){return e(h.is,f,c,a,b)}}});B("tinymce.ui.editorui.FormatUtils",[],function(){return{toggleFormat:function(m,h){return function(){m.execCommand("mceToggleFormat",!1,h)}},postRenderFormat:function(m,h){return function(){var e=
this;if(m.formatter)m.formatter.formatChanged(h,function(f){e.active(f)});else m.on("init",function(){m.formatter.formatChanged(h,function(f){e.active(f)})})}}}});B("tinymce.ui.editorui.Align",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(m,h){return{register:function(e){e.addMenuItem("align",{text:"Align",menu:[{text:"Left",icon:"alignleft",onclick:h.toggleFormat(e,"alignleft")},{text:"Center",icon:"aligncenter",onclick:h.toggleFormat(e,"aligncenter")},{text:"Right",icon:"alignright",
onclick:h.toggleFormat(e,"alignright")},{text:"Justify",icon:"alignjustify",onclick:h.toggleFormat(e,"alignjustify")}]});m.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(f,c){e.addButton(c,{active:!1,tooltip:f[0],cmd:f[1],onPostRender:h.postRenderFormat(e,c)})})}}});B("tinymce.ui.fmt.FontInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Option",
"ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","tinymce.core.dom.DOMUtils"],function(m,h,e,f,c){var a=function(d,g){return h.from(c.DOM.getStyle(g,d,!0))},b=function(d){return function(g,l){return h.from(l).map(e.fromDom).filter(f.isElement).bind(function(p){var r;a:{for(r=p.dom();r!==g;){if(r.style[d]){r=r.style[d];r=""!==r?h.some(r):h.none();break a}r=r.parentNode}r=h.none()}return r.or(a(d,p.dom()))}).getOr("")}};return{getFontSize:b("fontSize"),getFontFamily:m.compose(function(d){return d.replace(/['"]/g,
"").replace(/,\s+/g,",")},b("fontFamily")),toPt:function(d,g){return/[0-9.]+px$/.test(d)?(d=72*parseInt(d,10)/96,g=Math.pow(10,g||0),Math.round(d*g)/g+"pt"):d}}});B("tinymce.ui.editorui.FontSelect",["tinymce.core.util.Tools","tinymce.ui.fmt.FontInfo"],function(m,h){var e=function(g){return g?g.split(",")[0]:""},f=function(g,l){var p;m.each(g,function(r){r.value.toLowerCase()===l.toLowerCase()&&(p=r.value)});m.each(g,function(r){p||e(r.value).toLowerCase()!==e(l).toLowerCase()||(p=r.value)});return p},
c=function(g,l){return function(){var p=this;g.on("init nodeChange",function(r){r=h.getFontFamily(g.getBody(),r.element);var v=f(l,r);p.value(v?v:null);!v&&r&&p.text(e(r))})}},a=function(g){g=g.replace(/;$/,"").split(";");for(var l=g.length;l--;)g[l]=g[l].split("=");return g},b=function(g){g=a(g.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
return m.map(g,function(l){return{text:{raw:l[0]},value:l[1],textStyle:-1===l[1].indexOf("dings")?"font-family:"+l[1]:""}})},d=function(g){g.addButton("fontselect",function(){var l=b(g);return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:l,fixedWidth:!0,onPostRender:c(g,l),onselect:function(p){p.control.settings.value&&g.execCommand("FontName",!1,p.control.settings.value)}}})};return{register:function(g){d(g)}}});B("tinymce.ui.editorui.FontSizeSelect",["tinymce.core.util.Tools",
"tinymce.ui.fmt.FontInfo"],function(m,h){var e=function(b,d,g){var l;m.each(b,function(p){p.value===g?l=g:p.value===d&&(l=d)});return l},f=function(b,d){return function(){var g=this;b.on("init nodeChange",function(l){var p;if(l=h.getFontSize(b.getBody(),l.element))for(p=3;!v&&0<=p;p--){var r=h.toPt(l,p);var v=e(d,r,l)}g.value(v?v:null);v||g.text(r)})}},c=function(b){return m.map((b.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(d){var g=d,l=d;d=d.split("=");1<
d.length&&(g=d[0],l=d[1]);return{text:g,value:l}})},a=function(b){b.addButton("fontsizeselect",function(){var d=c(b);return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:d,fixedWidth:!0,onPostRender:f(b,d),onclick:function(g){g.control.settings.value&&b.execCommand("FontSize",!1,g.control.settings.value)}}})};return{register:function(b){a(b)}}});B("tinymce.ui.editorui.FormatSelect",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(m,h){var e=function(a,b,d){return function(){var g=
this;a.on("nodeChange",function(l){var p=a.formatter,r=null;m.each(l.parents,function(v){m.each(b,function(z){d?p.matchNode(v,d,{value:z.value})&&(r=z.value):p.matchNode(v,z.value)&&(r=z.value);if(r)return!1});if(r)return!1});g.value(r)})}},f=function(a,b){return function(){var d=[];m.each(b,function(g){d.push({text:g[0],value:g[1],textStyle:function(){return a.formatter.getCssText(g[1])}})});return{type:"listbox",text:b[0][0],values:d,fixedWidth:!0,onselect:function(g){g.control&&(g=g.control.value(),
h.toggleFormat(a,g)())},onPostRender:e(a,d)}}},c=function(a,b){return m.map(b,function(d){return{text:d[0],onclick:h.toggleFormat(a,d[1]),textStyle:function(){return a.formatter.getCssText(d[1])}}})};return{register:function(a){var b=a.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre";b=b.replace(/;$/,"").split(";");for(var d=b.length;d--;)b[d]=b[d].split("=");a.addMenuItem("blockformats",{text:"Blocks",menu:c(a,b)});
a.addButton("formatselect",f(a,b))}}});B("tinymce.ui.editorui.Formats",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(m,h){var e=function(b,d){var g=d.length;m.each(d,function(l){l.menu&&(l.hidden=0===e(b,l.menu));var p=l.format;p&&(l.hidden=!b.formatter.canApply(p));l.hidden&&g--});return g},f=function(b,d){var g=d.items().length;d.items().each(function(l){l.menu&&l.visible(0<f(b,l.menu));!l.menu&&l.settings.menu&&l.visible(0<e(b,l.settings.menu));var p=l.settings.format;
p&&l.visible(b.formatter.canApply(p));l.visible()||g--});return g},c=function(b){var d=0,g=[],l=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",
icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",
icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],p=function(r){var v=[];if(r)return m.each(r,function(z){var y={text:z.title,icon:z.icon};if(z.items)y.menu=p(z.items);else{var n=z.format||"custom"+d++;z.format||(z.name=n,g.push(z));y.format=n;y.cmd=z.cmd}v.push(y)}),v};b.on("init",function(){m.each(g,function(r){b.formatter.register(r.name,r)})});return{type:"menu",items:b.settings.style_formats_merge?b.settings.style_formats?p(l.concat(b.settings.style_formats)):
p(l):p(b.settings.style_formats||l),onPostRender:function(r){b.fire("renderFormatsMenu",{control:r.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return b.formatter.getCssText(this.settings.format)},onPostRender:function(){var r=this;r.parent().on("show",function(){var v;if(v=r.settings.format)r.disabled(!b.formatter.canApply(v)),r.active(b.formatter.match(v));(v=r.settings.cmd)&&r.active(b.queryCommandState(v))})},onclick:function(){this.settings.format&&h.toggleFormat(b,
this.settings.format)();this.settings.cmd&&b.execCommand(this.settings.cmd)}}}},a=function(b,d){b.addButton("styleselect",{type:"menubutton",text:"Formats",menu:d,onShowMenu:function(){b.settings.style_formats_autohide&&f(b,this.menu)}})};return{register:function(b){var d=c(b);b.addMenuItem("formats",{text:"Formats",menu:d});a(b,d)}}});B("tinymce.ui.editorui.InsertButton",["ephox.katamari.api.Arr","tinymce.core.util.Tools"],function(m,h){var e=function(g,l){if("string"===typeof l)var p=l.split(" ");
else if(h.isArray(l))return m.flatten(h.map(l,function(r){return e(g,r)}));l=h.grep(p,function(r){return"|"===r||r in g.menuItems});return h.map(l,function(r){return"|"===r?{text:"-"}:g.menuItems[r]})},f=function(g){return g&&"-"===g.text},c=function(g){g=m.filter(g,function(l,p,r){return!f(l)||!f(r[p-1])});return m.filter(g,function(l,p,r){return!f(l)||0<p&&p<r.length-1})},a=function(g,l){var p=[{text:"-"}];g=h.grep(g.menuItems,function(r){return r.context===l});h.each(g,function(r){"before"===r.separator&&
p.push({text:"|"});r.prependToContext?p.unshift(r):p.push(r);"after"===r.separator&&p.push({text:"|"})});return p},b=function(g){var l=g.settings.insert_button_items;return l?c(e(g,l)):c(a(g,"insert"))},d=function(g){g.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(b(g));this.menu.renderNew()}})};return{register:function(g){d(g)}}});B("tinymce.ui.editorui.SimpleControls",["tinymce.core.util.Tools","tinymce.ui.editorui.FormatUtils"],function(m,h){var e=
function(b){m.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(d,g){b.addButton(g,{active:!1,tooltip:d,onPostRender:h.postRenderFormat(b,g),onclick:h.toggleFormat(b,g)})})},f=function(b){m.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids",
"mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(d,g){b.addButton(g,{tooltip:d[0],cmd:d[1]})})},c=function(b){m.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(d,g){b.addButton(g,{active:!1,tooltip:d[0],cmd:d[1],onPostRender:h.postRenderFormat(b,g)})})},a=function(b){m.each({bold:["Bold","Bold","Meta+B"],italic:["Italic",
"Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(d,g){b.addMenuItem(g,{text:d[0],icon:g,shortcut:d[2],cmd:d[1]})});b.addMenuItem("codeformat",
{text:"Code",icon:"code",onclick:h.toggleFormat(b,"code")})};return{register:function(b){e(b);f(b);c(b);a(b)}}});B("tinymce.ui.editorui.UndoRedo",[],function(){var m=function(h,e){return function(){var f=this,c=function(){var a="redo"===e?"hasRedo":"hasUndo";return h.undoManager?h.undoManager[a]():!1};f.disabled(!c());h.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){f.disabled(h.readonly||!c())})}};return{register:function(h){h.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",
onPostRender:m(h,"undo"),cmd:"undo"});h.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:m(h,"redo"),cmd:"redo"});h.addButton("undo",{tooltip:"Undo",onPostRender:m(h,"undo"),cmd:"undo"});h.addButton("redo",{tooltip:"Redo",onPostRender:m(h,"redo"),cmd:"redo"})}}});B("tinymce.ui.editorui.VisualAid",[],function(){var m=function(h){return function(){var e=this;h.on("VisualAid",function(f){e.active(f.hasVisual)});e.active(h.hasVisual)}};return{register:function(h){h.addMenuItem("visualaid",
{text:"Visual aids",selectable:!0,onPostRender:m(h),cmd:"mceToggleVisualAid"})}}});B("tinymce.ui.FormatControls","ephox.katamari.api.Fun ephox.sugar.api.node.Element ephox.sugar.api.search.SelectorFind global!document tinymce.core.EditorManager tinymce.core.Env tinymce.ui.Control tinymce.ui.FloatPanel tinymce.ui.Widget tinymce.ui.editorui.Align tinymce.ui.editorui.FontSelect tinymce.ui.editorui.FontSizeSelect tinymce.ui.editorui.FormatSelect tinymce.ui.editorui.Formats tinymce.ui.editorui.InsertButton tinymce.ui.editorui.SimpleControls tinymce.ui.editorui.UndoRedo tinymce.ui.editorui.VisualAid".split(" "),
function(m,h,e,f,c,a,b,d,g,l,p,r,v,z,y,n,u,k){var t=function(){g.tooltips=!a.iOS;b.translate=function(w){return c.translate(w)}},q=function(w){w.settings.ui_container&&(a.container=e.descendant(h.fromDom(f.body),w.settings.ui_container).fold(m.constant(null),function(A){return A.dom()}))},x=function(w){w.on("mousedown",function(){d.hideAll()})};return{setup:function(w){w.rtl&&(b.rtl=!0);x(w);q(w);t(w);v.register(w);l.register(w);n.register(w);u.register(w);r.register(w);p.register(w);z.register(w);
k.register(w);y.register(w)}}});B("tinymce.ui.GridLayout",["tinymce.ui.AbsoluteLayout"],function(m){return m.extend({recalc:function(h){var e,f,c=[],a=[];var b=h.settings;var d=h.items().filter(":visible");var g=h.layoutRect();var l=b.columns||Math.ceil(Math.sqrt(d.length));var p=Math.ceil(d.length/l);var r=b.spacingH||b.spacing||0;var v=b.spacingV||b.spacing||0;var z=b.alignH||b.align;var y=b.alignV||b.align;var n=h.paddingBox;var u="reverseRows"in b?b.reverseRows:h.isRtl();z&&"string"==typeof z&&
(z=[z]);y&&"string"==typeof y&&(y=[y]);for(f=0;f<l;f++)c.push(0);for(e=0;e<p;e++)a.push(0);for(e=0;e<p;e++)for(f=0;f<l;f++){var k=d[e*l+f];if(!k)break;var t=k.layoutRect();k=t.minW;t=t.minH;c[f]=k>c[f]?k:c[f];a[e]=t>a[e]?t:a[e]}t=g.innerW-n.left-n.right;for(f=k=0;f<l;f++)k+=c[f]+(0<f?r:0),t-=(0<f?r:0)+c[f];var q=g.innerH-n.top-n.bottom;for(e=f=0;e<p;e++)f+=a[e]+(0<e?v:0),q-=(0<e?v:0)+a[e];k+=n.left+n.right;f+=n.top+n.bottom;e={};e.minW=k+(g.w-g.innerW);e.minH=f+(g.h-g.innerH);e.contentW=e.minW-g.deltaW;
e.contentH=e.minH-g.deltaH;e.minW=Math.min(e.minW,g.maxW);e.minH=Math.min(e.minH,g.maxH);e.minW=Math.max(e.minW,g.startMinWidth);e.minH=Math.max(e.minH,g.startMinHeight);if(!g.autoResize||e.minW==g.minW&&e.minH==g.minH){g.autoResize&&(e=h.layoutRect(e),e.contentW=e.minW-g.deltaW,e.contentH=e.minH-g.deltaH);h="start"==b.packV?0:0<q?Math.floor(q/p):0;e=0;if(b=b.flexWidths)for(f=0;f<b.length;f++)e+=b[f];else e=l;e=t/e;for(f=0;f<l;f++)c[f]+=b?b[f]*e:e;q=n.top;for(e=0;e<p;e++){g=n.left;b=a[e]+h;for(f=
0;f<l;f++){t=u?e*l+l-1-f:e*l+f;k=d[t];if(!k)break;var x=k.settings;t=k.layoutRect();var w=Math.max(c[f],t.startMinWidth);t.x=g;t.y=q;var A=x.alignH||(z?z[f]||z[0]:null);"center"==A?t.x=g+w/2-t.w/2:"right"==A?t.x=g+w-t.w:"stretch"==A&&(t.w=w);A=x.alignV||(y?y[f]||y[0]:null);"center"==A?t.y=q+b/2-t.h/2:"bottom"==A?t.y=q+b-t.h:"stretch"==A&&(t.h=b);k.layoutRect(t);g+=w+r;k.recalc&&k.recalc()}q+=b+v}}else if(e.w=e.minW,e.h=e.minH,h.layoutRect(e),this.recalc(h),null===h._lastRect&&(p=h.parent()))p._lastRect=
null,p.recalc()}})});B("tinymce.ui.Iframe",["tinymce.ui.Widget","tinymce.core.util.Delay"],function(m,h){return m.extend({renderHtml:function(){this.classes.add("iframe");this.canFocus=!1;return'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,f){var c=this,a=this.getEl().contentWindow.document.body;a?(a.innerHTML=e,f&&f()):h.setTimeout(function(){c.html(e)});
return this}})});B("tinymce.ui.InfoBox",["tinymce.ui.Widget"],function(m){return m.extend({init:function(h){this._super(h);this.classes.add("widget").add("infobox");this.canFocus=!1},severity:function(h){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(h)},help:function(h){this.state.set("help",h)},renderHtml:function(){var h=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+
'<button role="button" tabindex="-1"><i class="'+h+"ico "+h+'i-help"></i></button></div></div>'},bindStates:function(){var h=this;h.state.on("change:text",function(e){h.getEl("body").firstChild.data=h.encode(e.value);h.state.get("rendered")&&h.updateLayoutRect()});h.state.on("change:help",function(e){h.classes.toggle("has-help",e.value);h.state.get("rendered")&&h.updateLayoutRect()});return h._super()}})});B("tinymce.ui.Label",["tinymce.ui.Widget","tinymce.ui.DomUtils"],function(m,h){return m.extend({init:function(e){this._super(e);
this.classes.add("widget").add("label");this.canFocus=!1;e.multiline&&this.classes.add("autoscroll");e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();this.settings.multiline&&(h.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,h.getSize(this.getEl()).height));return e},repaint:function(){this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+
"px");return this._super()},severity:function(e){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(e)},renderHtml:function(){var e,f=this.settings.forId,c=this.settings.html?this.settings.html:this.encode(this.state.get("text"));!f&&(e=this.settings.forName)&&(e=this.getRoot().find("#"+e)[0])&&(f=e._id);return f?'<label id="'+this._id+'" class="'+this.classes+'"'+(f?' for="'+f+'"':"")+">"+c+"</label>":'<span id="'+this._id+'" class="'+this.classes+
'">'+c+"</span>"},bindStates:function(){var e=this;e.state.on("change:text",function(f){e.innerHtml(e.encode(f.value));e.state.get("rendered")&&e.updateLayoutRect()});return e._super()}})});B("tinymce.ui.Toolbar",["tinymce.ui.Container"],function(m){return m.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(h){this._super(h);this.classes.add("toolbar")},postRender:function(){this.items().each(function(h){h.classes.add("toolbar-item")});return this._super()}})});B("tinymce.ui.MenuBar",
["tinymce.ui.Toolbar"],function(m){return m.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})});B("tinymce.ui.MenuButton",["global!window","tinymce.core.ui.Factory","tinymce.ui.Button","tinymce.ui.MenuBar"],function(m,h,e,f){var c=e.extend({init:function(a){this._renderOpen=!0;this._super(a);a=this.settings;this.classes.add("menubtn");a.fixedWidth&&this.classes.add("fixed-width");this.aria("haspopup",!0);this.state.set("menu",a.menu||this.render())},
showMenu:function(a){var b=this;if(b.menu&&b.menu.visible()&&!1!==a)return b.hideMenu();b.menu||(a=b.state.get("menu")||[],b.classes.add("opened"),a.length?a={type:"menu",animate:!0,items:a}:(a.type=a.type||"menu",a.animate=!0),b.menu=a.renderTo?a.parent(b).show().renderTo():h.create(a).parent(b).renderTo(),b.fire("createmenu"),b.menu.reflow(),b.menu.on("cancel",function(d){d.control.parent()===b.menu&&(d.stopPropagation(),b.focus(),b.hideMenu())}),b.menu.on("select",function(){b.focus()}),b.menu.on("show hide",
function(d){d.control===b.menu&&(b.activeMenu("show"==d.type),b.classes.toggle("opened","show"==d.type));b.aria("expanded","show"==d.type)}).fire("show"));b.menu.show();b.menu.layoutRect({w:b.layoutRect().w});b.menu.moveRel(b.getEl(),b.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);b.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(a){a.hideMenu&&a.hideMenu()}),this.menu.hide())},activeMenu:function(a){this.classes.toggle("active",a)},renderHtml:function(){var a=this._id,
b=this.classPrefix,d=this.settings.icon,g,l=this.state.get("text"),p="";(g=this.settings.image)?(d="none","string"!=typeof g&&(g=m.getSelection?g[0]:g[1]),g=" style=\"background-image: url('"+g+"')\""):g="";l&&(this.classes.add("btn-has-text"),p='<span class="'+b+'txt">'+this.encode(l)+"</span>");d=this.settings.icon?b+"ico "+b+"i-"+d:"";this.aria("role",this.parent()instanceof f?"menuitem":"button");return'<div id="'+a+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+a+'"><button id="'+
a+'-open" role="presentation" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+g+"></i>":"")+p+' <i class="'+b+'caret"></i></button></div>'},postRender:function(){var a=this;a.on("click",function(b){var d;if(d=b.control===a)a:{d=b.target;for(var g=a.getEl();d;){if(g===d){d=!0;break a}d=d.parentNode}d=!1}d&&(a.focus(),a.showMenu(!b.aria),b.aria&&a.menu.items().filter(":visible")[0].focus())});a.on("mouseenter",function(b){var d=b.control;b=a.parent();var g;d&&b&&d instanceof c&&d.parent()==b&&(b.items().filter("MenuButton").each(function(l){l.hideMenu&&
l!=d&&(l.menu&&l.menu.visible()&&(g=!0),l.hideMenu())}),g&&(d.focus(),d.showMenu()))});return a._super()},bindStates:function(){var a=this;a.state.on("change:menu",function(){a.menu&&a.menu.remove();a.menu=null});return a._super()},remove:function(){this._super();this.menu&&this.menu.remove()}});return c});B("tinymce.ui.MenuItem",["tinymce.ui.Widget","tinymce.core.ui.Factory","tinymce.core.Env","tinymce.core.util.Delay"],function(m,h,e,f){return m.extend({Defaults:{border:0,role:"menuitem"},init:function(c){this._super(c);
c=this.settings;this.classes.add("menu-item");c.menu&&this.classes.add("menu-item-expand");c.preview&&this.classes.add("menu-item-preview");var a=this.state.get("text");if("-"===a||"|"===a)this.classes.add("menu-item-sep"),this.aria("role","separator"),this.state.set("text","-");c.selectable&&(this.aria("role","menuitemcheckbox"),this.classes.add("menu-item-checkbox"),c.icon="selected");c.preview||c.selectable||this.classes.add("menu-item-normal");this.on("mousedown",function(b){b.preventDefault()});
c.menu&&!c.ariaHideMenu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var c=this,a=c.settings,b,d=c.parent();d.items().each(function(g){g!==c&&g.hideMenu()});a.menu&&((b=c.menu)?b.show():(b=a.menu,b.length?b={type:"menu",animate:!0,items:b}:(b.type=b.type||"menu",b.animate=!0),d.settings.itemDefaults&&(b.itemDefaults=d.settings.itemDefaults),b=c.menu=h.create(b).parent(c).renderTo(),b.reflow(),b.on("cancel",function(g){g.stopPropagation();c.focus();
b.hide()}),b.on("show hide",function(g){g.control.items&&g.control.items().each(function(l){l.active(l.settings.selected)})}).fire("show"),b.on("hide",function(g){g.control===b&&c.classes.remove("selected")}),b.submenu=!0),b._parentMenu=d,b.classes.add("menu-sub"),a=b.testMoveRel(c.getEl(),c.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]),b.moveRel(c.getEl(),a),b.rel=a,a="menu-sub-"+a,b.classes.remove(b._lastRel).add(a),b._lastRel=a,c.classes.add("selected"),c.aria("expanded",
!0))},hideMenu:function(){this.menu&&(this.menu.items().each(function(c){c.hideMenu&&c.hideMenu()}),this.menu.hide(),this.aria("expanded",!1));return this},renderHtml:function(){function c(k){var t,q;var x=e.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"};k=k.split("+");for(t=0;t<k.length;t++)(q=x[k[t].toLowerCase()])&&(k[t]=q);return k.join("+")}function a(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(k){var t=l.match||"";return t?k.replace(new RegExp(a(t),
"gi"),function(q){return"!mce~match["+q+"]mce~match!"}):k}function d(k){return k.replace(new RegExp(a("!mce~match["),"g"),"<b>").replace(new RegExp(a("]mce~match!"),"g"),"</b>")}var g=this._id,l=this.settings,p=this.classPrefix,r=this.state.get("text"),v=this.settings.icon,z="",y=l.shortcut,n=this.encode(l.url),u="";v&&this.parent().classes.add("menu-has-icons");l.image&&(z=" style=\"background-image: url('"+l.image+"')\"");y&&(y=c(y));v=p+"ico "+p+"i-"+(this.settings.icon||"none");u="-"!==r?'<i class="'+
v+'"'+z+"></i>\u00a0":"";r=d(this.encode(b(r)));n=d(this.encode(b(n)));return'<div id="'+g+'" class="'+this.classes+'" tabindex="-1">'+u+("-"!==r?'<span id="'+g+'-text" class="'+p+'text">'+r+"</span>":"")+(y?'<div id="'+g+'-shortcut" class="'+p+'menu-shortcut">'+y+"</div>":"")+(l.menu?'<div class="'+p+'caret"></div>':"")+(n?'<div class="'+p+'menu-item-link">'+n+"</div>":"")+"</div>"},postRender:function(){var c=this,a=c.settings,b=a.textStyle;"function"===typeof b&&(b=b.call(this));if(b){var d=c.getEl("text");
d&&(d.setAttribute("style",b),c._textStyle=b)}c.on("mouseenter click",function(g){g.control===c&&(a.menu||"click"!==g.type?(c.showMenu(),g.aria&&c.menu.focus(!0)):(c.fire("select"),f.requestAnimationFrame(function(){c.parent().hideAll()})))});c._super();return c},hover:function(){this.parent().items().each(function(c){c.classes.remove("selected")});this.classes.toggle("selected",!0);return this},active:function(c){var a=this._textStyle;if(a){var b=this.getEl("text");b.setAttribute("style",a);c&&(b.style.color=
"",b.style.backgroundColor="")}"undefined"!=typeof c&&this.aria("checked",c);return this._super(c)},remove:function(){this._super();this.menu&&this.menu.remove()}})});B("tinymce.ui.Menu","tinymce.core.Env tinymce.core.util.Delay tinymce.core.util.Tools tinymce.ui.FloatPanel tinymce.ui.MenuItem tinymce.ui.Throbber".split(" "),function(m,h,e,f,c,a){return f.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(b){b.autohide=!0;
b.constrainToViewport=!0;"function"===typeof b.items&&(b.itemsFactory=b.items,b.items=[]);if(b.itemDefaults)for(var d=b.items,g=d.length;g--;)d[g]=e.extend({},b.itemDefaults,d[g]);this._super(b);this.classes.add("menu");b.animate&&11!==m.ie&&this.classes.add("animate")},repaint:function(){this.classes.toggle("menu-align",!0);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){this.hideAll();this.fire("select")},load:function(){function b(){d.throbber&&
(d.throbber.hide(),d.throbber=null)}var d=this,g;d.settings.itemsFactory&&(d.throbber||(d.throbber=new a(d.getEl("body"),!0),0===d.items().length?(d.throbber.show(),d.fire("loading")):d.throbber.show(100,function(){d.items().remove();d.fire("loading")}),d.on("hide close",b)),d.requestTime=g=(new Date).getTime(),d.settings.itemsFactory(function(l){0===l.length?d.hide():d.requestTime===g&&(d.getEl().style.width="",d.getEl("body").style.width="",b(),d.items().remove(),d.getEl("body").innerHTML="",d.add(l),
d.renderNew(),d.fire("loaded"))}))},hideAll:function(){this.find("menuitem").exec("hideMenu");return this._super()},preRender:function(){var b=this;b.items().each(function(d){d=d.settings;if(d.icon||d.image||d.selectable)return b._hasIcons=!0,!1});if(b.settings.itemsFactory)b.on("postrender",function(){b.settings.itemsFactory&&b.load()});b.on("show hide",function(d){d.control===b&&("show"===d.type?h.setTimeout(function(){b.classes.add("in")},0):b.classes.remove("in"))});return b._super()}})});B("tinymce.ui.ListBox",
["tinymce.ui.MenuButton","tinymce.ui.Menu"],function(m,h){return m.extend({init:function(e){function f(l){for(var p=0;p<l.length;p++){if(b=l[p].selected||e.value===l[p].value)return g=g||l[p].text,c.state.set("value",l[p].value),!0;if(l[p].menu&&f(l[p].menu))return!0}}var c=this,a,b,d;c._super(e);e=c.settings;if(c._values=a=e.values){"undefined"!=typeof e.value&&f(a);if(!b&&0<a.length){var g=a[0].text;c.state.set("value",a[0].value)}c.state.set("menu",a)}c.state.set("text",e.text||g);c.classes.add("listbox");
c.on("select",function(l){var p=l.control;d&&(l.lastControl=d);e.multiple?p.active(!p.active()):c.value(l.control.value());d=p})},bindStates:function(){function e(a,b){a instanceof h&&a.items().each(function(d){d.hasMenus()||d.active(d.value()===b)})}function f(a,b){var d;if(a)for(var g=0;g<a.length;g++){if(a[g].value===b)return a[g];if(a[g].menu&&(d=f(a[g].menu,b)))return d}}var c=this;c.on("show",function(a){e(a.control,c.value())});c.state.on("change:value",function(a){(a=f(c.state.get("menu"),
a.value))?c.text(a.text):c.text(c.settings.text)});return c._super()}})});B("tinymce.ui.Radio",["tinymce.ui.Checkbox"],function(m){return m.extend({Defaults:{classes:"radio",role:"radio"}})});B("tinymce.ui.ResizeHandle",["tinymce.ui.Widget","tinymce.ui.DragHelper"],function(m,h){return m.extend({renderHtml:function(){var e=this.classPrefix;this.classes.add("resizehandle");"both"==this.settings.direction&&this.classes.add("resizehandle-both");this.canFocus=!1;return'<div id="'+this._id+'" class="'+
this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var e=this;e._super();e.resizeDragHelper=new h(this._id,{start:function(){e.fire("ResizeStart")},drag:function(f){"both"!=e.settings.direction&&(f.deltaX=0);e.fire("Resize",f)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){this.resizeDragHelper&&this.resizeDragHelper.destroy();return this._super()}})});B("tinymce.ui.SelectBox",["tinymce.ui.Widget"],function(m){function h(e){var f="";if(e)for(var c=0;c<
e.length;c++)f+='<option value="'+e[c]+'">'+e[c]+"</option>";return f}return m.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var f=this;f._super(e);f.settings.size&&(f.size=f.settings.size);f.settings.options&&(f._options=f.settings.options);f.on("keydown",function(c){var a;13==c.keyCode&&(c.preventDefault(),f.parents().reverse().each(function(b){if(b.toJSON)return a=b,!1}),f.fire("submit",{data:a.toJSON()}))})},options:function(e){if(!arguments.length)return this.state.get("options");
this.state.set("options",e);return this},renderHtml:function(){var e="";var f=h(this._options);this.size&&(e=' size = "'+this.size+'"');return'<select id="'+this._id+'" class="'+this.classes+'"'+e+">"+f+"</select>"},bindStates:function(){var e=this;e.state.on("change:options",function(f){e.getEl().innerHTML=h(f.value)});return e._super()}})});B("tinymce.ui.Slider",["tinymce.ui.Widget","tinymce.ui.DragHelper","tinymce.ui.DomUtils"],function(m,h,e){function f(a,b,d){a<b&&(a=b);a>d&&(a=d);return a}function c(a,
b){if("v"==a.settings.orientation){var d="top";var g="height";var l="h"}else d="left",g="width",l="w";var p=a.getEl("handle");l=((a.layoutRect()[l]||100)-e.getSize(p)[g])*((b-a._minValue)/(a._maxValue-a._minValue))+"px";p.style[d]=l;p.style.height=a.layoutRect().h+"px";p.setAttribute("aria-valuenow",b);b=""+a.settings.previewFilter(b);p.setAttribute("aria-valuetext",b);p.setAttribute("aria-valuemin",a._minValue);p.setAttribute("aria-valuemax",a._maxValue)}return m.extend({init:function(a){a.previewFilter||
(a.previewFilter=function(b){return Math.round(100*b)/100});this._super(a);this.classes.add("slider");"v"==a.orientation&&this.classes.add("vertical");this._minValue=a.minValue||0;this._maxValue=a.maxValue||100;this._initValue=this.state.get("value")},renderHtml:function(){var a=this._id;return'<div id="'+a+'" class="'+this.classes+'"><div id="'+a+'-handle" class="'+this.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},
postRender:function(){var a=this;var b=a._minValue;var d=a._maxValue;if("v"==a.settings.orientation){var g="screenY";var l="top";var p="height";var r="h"}else g="screenX",l="left",p="width",r="w";a._super();(function(v,z){function y(n){var u=a.value();u=((u+v)/(z-v)+.05*n)*(z-v)-v;u=f(u,v,z);a.value(u);a.fire("dragstart",{value:u});a.fire("drag",{value:u});a.fire("dragend",{value:u})}a.on("keydown",function(n){switch(n.keyCode){case 37:case 38:y(-1);break;case 39:case 40:y(1)}})})(b,d,a.getEl("handle"));
(function(v,z,y){var n,u,k,t,q;a._dragHelper=new h(a._id,{handle:a._id+"-handle",start:function(x){n=x[g];u=parseInt(a.getEl("handle").style[l],10);k=(a.layoutRect()[r]||100)-e.getSize(y)[p];a.fire("dragstart",{value:q})},drag:function(x){t=f(u+(x[g]-n),0,k);y.style[l]=t+"px";q=v+t/k*(z-v);a.value(q);a.tooltip().text(""+a.settings.previewFilter(q)).show().moveRel(y,"bc tc");a.fire("drag",{value:q})},stop:function(){a.tooltip().hide();a.fire("dragend",{value:q})}})})(b,d,a.getEl("handle"))},repaint:function(){this._super();
c(this,this.value())},bindStates:function(){var a=this;a.state.on("change:value",function(b){c(a,b.value)});return a._super()}})});B("tinymce.ui.Spacer",["tinymce.ui.Widget"],function(m){return m.extend({renderHtml:function(){this.classes.add("spacer");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})});B("tinymce.ui.SplitButton",["global!window","tinymce.core.dom.DomQuery","tinymce.ui.DomUtils","tinymce.ui.MenuButton"],function(m,h,e,f){return f.extend({Defaults:{classes:"widget btn splitbtn",
role:"button"},repaint:function(){var c=this.getEl(),a=this.layoutRect();this._super();var b=c.firstChild;c=c.lastChild;h(b).css({width:a.w-e.getSize(c).width,height:a.h-2});h(c).css({height:a.h-2});return this},activeMenu:function(c){h(this.getEl().lastChild).toggleClass(this.classPrefix+"active",c)},renderHtml:function(){var c=this._id,a=this.classPrefix,b,d=this.state.get("icon"),g=this.state.get("text"),l=this.settings,p="";(b=l.image)?(d="none","string"!=typeof b&&(b=m.getSelection?b[0]:b[1]),
b=" style=\"background-image: url('"+b+"')\""):b="";d=l.icon?a+"ico "+a+"i-"+d:"";g&&(this.classes.add("btn-has-text"),p='<span class="'+a+'txt">'+this.encode(g)+"</span>");return'<div id="'+c+'" class="'+this.classes+'" role="button"'+("boolean"===typeof l.active?' aria-pressed="'+l.active+'"':"")+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(d?'<i class="'+d+'"'+b+"></i>":"")+p+'</button><button type="button" class="'+a+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?
(d?"\u00a0":"")+this._menuBtnText:"")+' <i class="'+a+'caret"></i></button></div>'},postRender:function(){var c=this.settings.onclick;this.on("click",function(a){var b=a.target;if(a.control==this)for(;b;){if(a.aria&&"down"!=a.aria.key||"BUTTON"==b.nodeName&&-1==b.className.indexOf("open")){a.stopImmediatePropagation();c&&c.call(this,a);break}b=b.parentNode}});delete this.settings.onclick;return this._super()}})});B("tinymce.ui.StackLayout",["tinymce.ui.FlowLayout"],function(m){return m.extend({Defaults:{containerClass:"stack-layout",
controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})});B("tinymce.ui.TabPanel",["tinymce.ui.Panel","tinymce.core.dom.DomQuery","tinymce.ui.DomUtils"],function(m,h,e){return m.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(f){if(this.activeTabId){var c=this.getEl(this.activeTabId);h(c).removeClass(this.classPrefix+"active");c.setAttribute("aria-selected","false")}this.activeTabId="t"+f;c=this.getEl("t"+f);c.setAttribute("aria-selected",
"true");h(c).addClass(this.classPrefix+"active");this.items()[f].show().fire("showtab");this.reflow();this.items().each(function(a,b){f!=b&&a.hide()})},renderHtml:function(){var f=this,c=f._layout,a="",b=f.classPrefix;f.preRender();c.preRender(f);f.items().each(function(d,g){g=f._id+"-t"+g;d.aria("role","tabpanel");d.aria("labelledby",g);a+='<div id="'+g+'" class="'+b+'tab" unselectable="on" role="tab" aria-controls="'+d._id+'" aria-selected="false" tabIndex="-1">'+f.encode(d.settings.title)+"</div>"});
return'<div id="'+f._id+'" class="'+f.classes+'" hidefocus="1" tabindex="-1"><div id="'+f._id+'-head" class="'+b+'tabs" role="tablist">'+a+'</div><div id="'+f._id+'-body" class="'+f.bodyClasses+'">'+c.renderHtml(f)+"</div></div>"},postRender:function(){var f=this;f._super();f.settings.activeTab=f.settings.activeTab||0;f.activateTab(f.settings.activeTab);this.on("click",function(c){var a=c.target.parentNode;if(a&&a.id==f._id+"-head")for(var b=a.childNodes.length;b--;)a.childNodes[b]==c.target&&f.activateTab(b)})},
initLayoutRect:function(){var f=e.getSize(this.getEl("head")).width;f=0>f?0:f;var c=0;this.items().each(function(d){f=Math.max(f,d.layoutRect().minW);c=Math.max(c,d.layoutRect().minH)});this.items().each(function(d){d.settings.x=0;d.settings.y=0;d.settings.w=f;d.settings.h=c;d.layoutRect({x:0,y:0,w:f,h:c})});var a=e.getSize(this.getEl("head")).height;this.settings.minWidth=f;this.settings.minHeight=c+a;var b=this._super();b.deltaH+=a;b.innerH=b.h-b.deltaH;return b}})});B("tinymce.ui.TextBox",["global!document",
"tinymce.core.util.Tools","tinymce.ui.DomUtils","tinymce.ui.Widget"],function(m,h,e,f){return f.extend({init:function(c){var a=this;a._super(c);a.classes.add("textbox");c.multiline?a.classes.add("multiline"):(a.on("keydown",function(b){var d;13==b.keyCode&&(b.preventDefault(),a.parents().reverse().each(function(g){if(g.toJSON)return d=g,!1}),a.fire("submit",{data:d.toJSON()}))}),a.on("keyup",function(b){a.state.set("value",b.target.value)}))},repaint:function(){var c=0;var a=this.getEl().style;var b=
this._layoutRect;var d=this._lastRepaintRect||{};!this.settings.multiline&&m.all&&(!m.documentMode||8>=m.documentMode)&&(a.lineHeight=b.h-c+"px");c=this.borderBox;var g=c.left+c.right+8;c=c.top+c.bottom+(this.settings.multiline?8:0);b.x!==d.x&&(a.left=b.x+"px",d.x=b.x);b.y!==d.y&&(a.top=b.y+"px",d.y=b.y);b.w!==d.w&&(a.width=b.w-g+"px",d.w=b.w);b.h!==d.h&&(a.height=b.h-c+"px",d.h=b.h);this._lastRepaintRect=d;this.fire("repaint",{},!1);return this},renderHtml:function(){var c=this.settings;var a={id:this._id,
hidefocus:"1"};h.each("rows spellcheck maxLength size readonly min max step list pattern placeholder required multiple".split(" "),function(d){a[d]=c[d]});this.disabled()&&(a.disabled="disabled");c.subtype&&(a.type=c.subtype);var b=e.create(c.multiline?"textarea":"input",a);b.value=this.state.get("value");b.className=this.classes;return b.outerHTML},value:function(c){if(arguments.length)return this.state.set("value",c),this;this.state.get("rendered")&&this.state.set("value",this.getEl().value);return this.state.get("value")},
postRender:function(){var c=this;c.getEl().value=c.state.get("value");c._super();c.$el.on("change",function(a){c.state.set("value",a.target.value);c.fire("change",a)})},bindStates:function(){var c=this;c.state.on("change:value",function(a){c.getEl().value!=a.value&&(c.getEl().value=a.value)});c.state.on("change:disabled",function(a){c.getEl().disabled=a.value});return c._super()},remove:function(){this.$el.off();this._super()}})});B("tinymce.ui.Api","tinymce.core.ui.Factory tinymce.core.util.Tools tinymce.ui.AbsoluteLayout tinymce.ui.BrowseButton tinymce.ui.Button tinymce.ui.ButtonGroup tinymce.ui.Checkbox tinymce.ui.Collection tinymce.ui.ColorBox tinymce.ui.ColorButton tinymce.ui.ColorPicker tinymce.ui.ComboBox tinymce.ui.Container tinymce.ui.Control tinymce.ui.DragHelper tinymce.ui.DropZone tinymce.ui.ElementPath tinymce.ui.FieldSet tinymce.ui.FilePicker tinymce.ui.FitLayout tinymce.ui.FlexLayout tinymce.ui.FloatPanel tinymce.ui.FlowLayout tinymce.ui.Form tinymce.ui.FormatControls tinymce.ui.FormItem tinymce.ui.GridLayout tinymce.ui.Iframe tinymce.ui.InfoBox tinymce.ui.KeyboardNavigation tinymce.ui.Label tinymce.ui.Layout tinymce.ui.ListBox tinymce.ui.Menu tinymce.ui.MenuBar tinymce.ui.MenuButton tinymce.ui.MenuItem tinymce.ui.MessageBox tinymce.ui.Movable tinymce.ui.Notification tinymce.ui.Panel tinymce.ui.PanelButton tinymce.ui.Path tinymce.ui.Progress tinymce.ui.Radio tinymce.ui.ReflowQueue tinymce.ui.Resizable tinymce.ui.ResizeHandle tinymce.ui.Scrollable tinymce.ui.SelectBox tinymce.ui.Selector tinymce.ui.Slider tinymce.ui.Spacer tinymce.ui.SplitButton tinymce.ui.StackLayout tinymce.ui.TabPanel tinymce.ui.TextBox tinymce.ui.Throbber tinymce.ui.Toolbar tinymce.ui.Tooltip tinymce.ui.Widget tinymce.ui.Window".split(" "),
function(m,h,e,f,c,a,b,d,g,l,p,r,v,z,y,n,u,k,t,q,x,w,A,D,C,E,F,I,G,K,N,O,Q,P,R,M,V,W,X,Y,Z,aa,ba,ca,da,ea,fa,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va){var T=function(){return{Selector:ka,Collection:d,ReflowQueue:ea,Control:z,Factory:m,KeyboardNavigation:K,Container:v,DragHelper:y,Scrollable:ia,Panel:Z,Movable:X,Resizable:fa,FloatPanel:w,Window:va,MessageBox:W,Tooltip:ta,Widget:ua,Progress:ca,Notification:Y,Layout:O,AbsoluteLayout:e,Button:c,ButtonGroup:a,Checkbox:b,ComboBox:r,ColorBox:g,PanelButton:aa,
ColorButton:l,ColorPicker:p,Path:ba,ElementPath:u,FormItem:E,Form:D,FieldSet:k,FilePicker:t,FitLayout:q,FlexLayout:x,FlowLayout:A,FormatControls:C,GridLayout:F,Iframe:I,InfoBox:G,Label:N,Toolbar:sa,MenuBar:R,MenuButton:M,MenuItem:V,Throbber:ra,Menu:P,ListBox:Q,Radio:da,ResizeHandle:ha,SelectBox:ja,Slider:la,Spacer:ma,SplitButton:na,StackLayout:oa,TabPanel:pa,TextBox:qa,DropZone:n,BrowseButton:f}};return{appendTo:function(S){S.ui?h.each(T(),function(U,wa){S.ui[wa]=U}):S.ui=T()},registerToFactory:function(){h.each(T(),
function(S,U){m.add(U,S)})}}});B("tinymce.themes.modern.Theme",["global!window","tinymce.core.ThemeManager","tinymce.themes.modern.api.ThemeApi","tinymce.ui.Api","tinymce.ui.FormatControls"],function(m,h,e,f,c){f.registerToFactory();f.appendTo(m.tinymce?m.tinymce:{});h.add("modern",function(a){c.setup(a);return e.get(a)});return function(){}});L("tinymce.themes.modern.Theme")()})();
