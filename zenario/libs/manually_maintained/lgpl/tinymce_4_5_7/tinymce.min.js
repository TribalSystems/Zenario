(function(pa,ba){function ua(l,h){for(var e,d=[],c=0;c<l.length;++c){if(!(e=qa[l[c]]))a:{e=pa;for(var f=l[c].split(/[.\/]/),a=0;a<f.length;++a){if(!e[f[a]]){e=void 0;break a}e=e[f[a]]}}if(!e)throw"module definition dependecy not found: "+l[c];d.push(e)}h.apply(null,d)}function x(l,h,e){if("string"!==typeof l)throw"invalid module definition, module id must be defined and be a string";if(h===ba)throw"invalid module definition, dependencies must be specified";if(e===ba)throw"invalid module definition, definition function must be specified";
ua(h,function(){qa[l]=e.apply(null,arguments)})}var qa={};x("tinymce/geom/Rect",[],function(){function l(f,a,b){var d,e,r,s;d=a.x;e=a.y;r=f.w;f=f.h;s=a.w;a=a.h;b=(b||"").split("");"b"===b[0]&&(e+=a);"r"===b[1]&&(d+=s);"c"===b[0]&&(e+=c(a/2));"c"===b[1]&&(d+=c(s/2));"b"===b[3]&&(e-=f);"r"===b[4]&&(d-=r);"c"===b[3]&&(e-=c(f/2));"c"===b[4]&&(d-=c(r/2));return h(d,e,r,f)}function h(c,a,b,d){return{x:c,y:a,w:b,h:d}}var e=Math.min,d=Math.max,c=Math.round;return{inflate:function(c,a,b){return h(c.x-a,c.y-
b,c.w+2*a,c.h+2*b)},relativePosition:l,findBestRelativePosition:function(c,a,b,d){var e,r;for(r=0;r<d.length;r++)if(e=l(c,a,d[r]),e.x>=b.x&&e.x+e.w<=b.w+b.x&&e.y>=b.y&&e.y+e.h<=b.h+b.y)return d[r];return null},intersect:function(c,a){var b,k,q,r;b=d(c.x,a.x);k=d(c.y,a.y);q=e(c.x+c.w,a.x+a.w);r=e(c.y+c.h,a.y+a.h);return 0>q-b||0>r-k?null:h(b,k,q-b,r-k)},clamp:function(c,a,b){var k,e,r,s,m,g;r=c.x;s=c.y;m=c.x+c.w;g=c.y+c.h;k=a.x+a.w;e=a.y+a.h;c=d(0,a.x-r);a=d(0,a.y-s);k=d(0,m-k);e=d(0,g-e);r+=c;s+=
a;b&&(m+=c,g+=a,r-=k,s-=e);return h(r,s,m-k-r,g-e-s)},create:h,fromClientRect:function(c){return h(c.left,c.top,c.width,c.height)}}});x("tinymce/util/Promise",[],function(){function l(a,b){return function(){a.apply(b,arguments)}}function h(a){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof a)throw new TypeError("not a function");this._value=this._state=null;this._deferreds=[];b(a,l(d,this),l(c,this))}function e(a){var b=this;null===this._state?
this._deferreds.push(a):k(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)(b._state?a.resolve:a.reject)(b._value);else{var g;try{g=c(b._value)}catch(f){a.reject(f);return}a.resolve(g)}})}function d(a){try{if(a===this)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"===typeof a||"function"===typeof a)){var k=a.then;if("function"===typeof k){b(l(k,a),l(d,this),l(c,this));return}}this._state=!0;this._value=a;f.call(this)}catch(m){c.call(this,m)}}function c(a){this._state=
!1;this._value=a;f.call(this)}function f(){for(var a=0,b=this._deferreds.length;a<b;a++)e.call(this,this._deferreds[a]);this._deferreds=null}function a(a,b,c,g){this.onFulfilled="function"===typeof a?a:null;this.onRejected="function"===typeof b?b:null;this.resolve=c;this.reject=g}function b(a,b,c){var g=!1;try{a(function(a){g||(g=!0,b(a))},function(a){g||(g=!0,c(a))})}catch(f){g||(g=!0,c(f))}}if(window.Promise)return window.Promise;var k=h.immediateFn||"function"===typeof setImmediate&&setImmediate||
function(a){setTimeout(a,1)},q=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};h.prototype["catch"]=function(a){return this.then(null,a)};h.prototype.then=function(b,c){var f=this;return new h(function(g,d){e.call(f,new a(b,c,g,d))})};h.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&q(arguments[0])?arguments[0]:arguments);return new h(function(b,c){function g(d,k){try{if(k&&("object"===typeof k||"function"===typeof k)){var e=k.then;if("function"===
typeof e){e.call(k,function(a){g(d,a)},c);return}}a[d]=k;0===--f&&b(a)}catch(u){c(u)}}if(0===a.length)return b([]);for(var f=a.length,d=0;d<a.length;d++)g(d,a[d])})};h.resolve=function(a){return a&&"object"===typeof a&&a.constructor===h?a:new h(function(b){b(a)})};h.reject=function(a){return new h(function(b,c){c(a)})};h.race=function(a){return new h(function(b,c){for(var g=0,f=a.length;g<f;g++)a[g].then(b,c)})};return h});x("tinymce/util/Delay",["tinymce/util/Promise"],function(l){function h(a,b){function c(a){window.setTimeout(a,
0)}var f,d=window.requestAnimationFrame,e=["ms","moz","webkit"];for(f=0;f<e.length&&!d;f++)d=window[e[f]+"RequestAnimationFrame"];d||(d=c);d(a,b)}function e(a,b){"number"!=typeof b&&(b=0);return setTimeout(a,b)}function d(a,b){"number"!=typeof b&&(b=1);return setInterval(a,b)}function c(a,b){var c,f;f=function(){var f=arguments;clearTimeout(c);c=e(function(){a.apply(this,f)},b)};f.stop=function(){clearTimeout(c)};return f}var f;return{requestAnimationFrame:function(a,b){f?f.then(a):f=(new l(function(a){b||
(b=document.body);h(a,b)})).then(a)},setTimeout:e,setInterval:d,setEditorTimeout:function(a,b,c){return e(function(){a.removed||b()},c)},setEditorInterval:function(a,b,c){var f;return f=d(function(){a.removed?clearInterval(f):b()},c)},debounce:c,throttle:c,clearInterval:function(a){return clearInterval(a)},clearTimeout:function(a){return clearTimeout(a)}}});x("tinymce/Env",[],function(){var l=navigator,h=l.userAgent,e,d,c,f,a,b,k,q,r,s,m;e=window.opera&&window.opera.buildNumber;k=/Android/.test(h);
d=/WebKit/.test(h);c=(c=!d&&!e&&/MSIE/gi.test(h)&&/Explorer/gi.test(l.appName))&&/MSIE (\w+)\./.exec(h)[1];f=-1==h.indexOf("Trident/")||-1==h.indexOf("rv:")&&-1==l.appName.indexOf("Netscape")?!1:11;l=-1==h.indexOf("Edge/")||c||f?!1:12;c=c||f||l;f=!d&&!f&&/Gecko/.test(h);a=-1!=h.indexOf("Mac");b=/(iPad|iPhone)/.test(h);q="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL;r=("matchMedia"in window?matchMedia("only screen and (max-device-width: 480px)").matches:!1)&&(k||
b);s=("matchMedia"in window?matchMedia("only screen and (min-width: 800px)").matches:!1)&&(k||b);m=-1!=h.indexOf("Windows Phone");l&&(d=!1);h=!b||q||534<=h.match(/AppleWebKit\/(\d*)/)[1];return{opera:e,webkit:d,ie:c,gecko:f,mac:a,iOS:b,android:k,contentEditable:h,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=c,range:window.getSelection&&"Range"in window,documentMode:c&&!l?document.documentMode||7:10,fileApi:q,ceFalse:!1===c||8<c,canHaveCSP:!1===
c||11<c,desktop:!r&&!s,windowsPhone:m}});x("tinymce/dom/EventUtils",["tinymce/util/Delay","tinymce/Env"],function(l,h){function e(a,b,c,f){a.addEventListener?a.addEventListener(b,c,f||!1):a.attachEvent&&a.attachEvent("on"+b,c)}function d(a,b,c,f){a.removeEventListener?a.removeEventListener(b,c,f||!1):a.detachEvent&&a.detachEvent("on"+b,c)}function c(a,b){var c,f=b;(c=a.path)&&0<c.length&&(f=c[0]);a.deepPath&&(c=a.deepPath())&&0<c.length&&(f=c[0]);return f}function f(a,b){function g(){return!1}function f(){return!0}
var d,k=b||{};for(d in a)r[d]||(k[d]=a[d]);k.target||(k.target=k.srcElement||document);h.experimentalShadowDom&&(k.target=c(a,k.target));if(a&&q.test(a.type)&&void 0===a.pageX&&void 0!==a.clientX){var e=k.target.ownerDocument||document;d=e.documentElement;e=e.body;k.pageX=a.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0);k.pageY=a.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)}k.preventDefault=function(){k.isDefaultPrevented=f;a&&
(a.preventDefault?a.preventDefault():a.returnValue=!1)};k.stopPropagation=function(){k.isPropagationStopped=f;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)};k.stopImmediatePropagation=function(){k.isImmediatePropagationStopped=f;k.stopPropagation()};k.isDefaultPrevented||(k.isDefaultPrevented=g,k.isPropagationStopped=g,k.isImmediatePropagationStopped=g);"undefined"==typeof k.metaKey&&(k.metaKey=!1);return k}function a(a,b,c){function f(){c.domLoaded||(c.domLoaded=!0,b(t))}function k(){if("complete"===
p.readyState||"interactive"===p.readyState&&p.body)d(p,"readystatechange",k),f()}function q(){try{p.documentElement.doScroll("left")}catch(a){l.setTimeout(q);return}f()}var p=a.document,t={type:"ready"};c.domLoaded?b(t):(p.addEventListener?"complete"===p.readyState?f():e(a,"DOMContentLoaded",f):(e(p,"readystatechange",k),p.documentElement.doScroll&&a.self===a.top&&q()),e(a,"load",f))}function b(){function b(a,c){var f,d,k,e;if(f=(f=g[c])&&f[a.type])for(d=0,k=f.length;d<k&&((e=f[d])&&!1===e.func.call(e.scope,
a)&&a.preventDefault(),!a.isImmediatePropagationStopped());d++);}var c=this,g={},n,v,q,p,t;v=k+(+new Date).toString(32);p="onmouseenter"in document.documentElement;q="onfocusin"in document.documentElement;t={mouseenter:"mouseover",mouseleave:"mouseout"};n=1;c.domLoaded=!1;c.events=g;c.bind=function(d,k,z,y){function r(a){b(f(a||N.event),B)}var B,h,l,F,C,I,K,N=window;if(d&&3!==d.nodeType&&8!==d.nodeType){d[v]?B=d[v]:(B=n++,d[v]=B,g[B]={});y=y||d;k=k.split(" ");for(l=k.length;l--;)F=k[l],I=r,C=K=!1,
"DOMContentLoaded"===F&&(F="ready"),c.domLoaded&&"ready"===F&&"complete"==d.readyState?z.call(y,f({type:F})):(p||(C=t[F])&&(I=function(a){var c,g;c=a.currentTarget;if((g=a.relatedTarget)&&c.contains)g=c.contains(g);else for(;g&&g!==c;)g=g.parentNode;g||(a=f(a||N.event),a.type="mouseout"===a.type?"mouseleave":"mouseenter",a.target=c,b(a,B))}),q||"focusin"!==F&&"focusout"!==F||(K=!0,C="focusin"===F?"focus":"blur",I=function(a){a=f(a||N.event);a.type="focus"===a.type?"focusin":"focusout";b(a,B)}),(h=
g[B][F])?"ready"===F&&c.domLoaded?z({type:F}):h.push({func:z,scope:y}):(g[B][F]=h=[{func:z,scope:y}],h.fakeName=C,h.capture=K,h.nativeHandler=I,"ready"===F?a(d,I,c):e(d,C||F,I,K)));d=h=0;return z}};c.unbind=function(a,b,f){var k,e,n,p,t,q;if(!a||3===a.nodeType||8===a.nodeType)return c;if(k=a[v]){q=g[k];if(b)for(b=b.split(" "),n=b.length;n--;){if(t=b[n],e=q[t]){if(f)for(p=e.length;p--;)if(e[p].func===f){var s=e.nativeHandler,w=e.fakeName,r=e.capture;e=e.slice(0,p).concat(e.slice(p+1));e.nativeHandler=
s;e.fakeName=w;e.capture=r;q[t]=e}f&&0!==e.length||(delete q[t],d(a,e.fakeName||t,e.nativeHandler,e.capture))}}else{for(t in q)e=q[t],d(a,e.fakeName||t,e.nativeHandler,e.capture);q={}}for(t in q)return c;delete g[k];try{delete a[v]}catch(h){a[v]=null}}return c};c.fire=function(a,g,d){if(!a||3===a.nodeType||8===a.nodeType)return c;d=f(null,d);d.type=g;d.target=a;do(g=a[v])&&b(d,g),a=a.parentNode||a.ownerDocument||a.defaultView||a.parentWindow;while(a&&!d.isPropagationStopped());return c};c.clean=function(a){var b,
g,f=c.unbind;if(!a||3===a.nodeType||8===a.nodeType)return c;a[v]&&f(a);a.getElementsByTagName||(a=a.document);if(a&&a.getElementsByTagName)for(f(a),g=a.getElementsByTagName("*"),b=g.length;b--;)a=g[b],a[v]&&f(a);return c};c.destroy=function(){g={}};c.cancel=function(a){a&&(a.preventDefault(),a.stopImmediatePropagation());return!1}}var k="mce-data-",q=/^(?:mouse|contextmenu)|click/,r={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};b.Event=new b;b.Event.bind(window,
"ready",function(){});return b});x("tinymce/dom/Sizzle",[],function(){function l(a,b,c,g){var f,d,k,e,n;(b?b.ownerDocument||b:M)!==K&&I(b);b=b||K;c=c||[];if(!a||"string"!==typeof a)return c;if(1!==(e=b.nodeType)&&9!==e)return[];if(R&&!g){if(f=va.exec(a))if(k=f[1])if(9===e)if((d=b.getElementById(k))&&d.parentNode){if(d.id===k)return c.push(d),c}else return c;else{if(b.ownerDocument&&(d=b.ownerDocument.getElementById(k))&&x(b,d)&&d.id===k)return c.push(d),c}else{if(f[2])return Y.apply(c,b.getElementsByTagName(a)),
c;if((k=f[3])&&u.getElementsByClassName)return Y.apply(c,b.getElementsByClassName(k)),c}if(u.qsa&&(!E||!E.test(a))){d=f=O;k=b;n=9===e&&a;if(1===e&&"object"!==b.nodeName.toLowerCase()){e=J(a);(f=b.getAttribute("id"))?d=f.replace(wa,"\\$&"):b.setAttribute("id",d);d="[id='"+d+"'] ";for(k=e.length;k--;)e[k]=d+s(e[k]);k=sa.test(a)&&q(b.parentNode)||b;n=e.join(",")}if(n)try{return Y.apply(c,k.querySelectorAll(n)),c}catch(m){}finally{f||b.removeAttribute("id")}}}return G(a.replace(ga,"$1"),b,c,g)}function h(){function a(c,
g){b.push(c+" ")>A.cacheLength&&delete a[b.shift()];return a[c+" "]=g}var b=[];return a}function e(a){a[O]=!0;return a}function d(a){var b=K.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function c(a,b){for(var c=a.split("|"),g=a.length;g--;)A.attrHandle[c[g]]=b}function f(a,b){var c=b&&a,g=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||da)-(~a.sourceIndex||da);if(g)return g;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}
function a(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function b(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){b=+b;return e(function(c,g){for(var f,d=a([],c.length,b),k=d.length;k--;)c[f=d[k]]&&(c[f]=!(g[f]=c[f]))})})}function q(a){return a&&typeof a.getElementsByTagName!==V&&a}function r(){}function s(a){for(var b=0,c=a.length,g="";b<c;b++)g+=a[b].value;return g}function m(a,
b,c){var g=b.dir,f=c&&"parentNode"===g,d=T++;return b.first?function(b,c,d){for(;b=b[g];)if(1===b.nodeType||f)return a(b,c,d)}:function(b,c,k){var e,n,m=[U,d];if(k)for(;b=b[g];){if((1===b.nodeType||f)&&a(b,c,k))return!0}else for(;b=b[g];)if(1===b.nodeType||f){n=b[O]||(b[O]={});if((e=n[g])&&e[0]===U&&e[1]===d)return m[2]=e[2];n[g]=m;if(m[2]=a(b,c,k))return!0}}}function g(a){return 1<a.length?function(b,c,g){for(var f=a.length;f--;)if(!a[f](b,c,g))return!1;return!0}:a[0]}function n(a,b,c,g,f){for(var d,
k=[],e=0,n=a.length,m=null!=b;e<n;e++)if(d=a[e])if(!c||c(d,g,f))k.push(d),m&&b.push(e);return k}function v(a,b,c,g,f,d){g&&!g[O]&&(g=v(g));f&&!f[O]&&(f=v(f,d));return e(function(d,k,e,m){var p,y,u=[],z=[],t=k.length,v;if(!(v=d)){v=b||"*";for(var B=e.nodeType?[e]:e,q=[],s=0,w=B.length;s<w;s++)l(v,B[s],q);v=q}v=!a||!d&&b?v:n(v,u,a,e,m);B=c?f||(d?a:t||g)?[]:k:v;c&&c(v,B,e,m);if(g)for(p=n(B,z),g(p,[],e,m),e=p.length;e--;)if(y=p[e])B[z[e]]=!(v[z[e]]=y);if(d){if(f||a){if(f){p=[];for(e=B.length;e--;)(y=
B[e])&&p.push(v[e]=y);f(null,B=[],p,m)}for(e=B.length;e--;)(y=B[e])&&-1<(p=f?ca.call(d,y):u[e])&&(d[p]=!(k[p]=y))}}else B=n(B===k?B.splice(t,B.length):B),f?f(null,k,B,m):Y.apply(k,B)})}function w(a){var b,c,f,d=a.length,k=A.relative[a[0].type];c=k||A.relative[" "];for(var e=k?1:0,n=m(function(a){return a===b},c,!0),p=m(function(a){return-1<ca.call(b,a)},c,!0),y=[function(a,c,g){return!k&&(g||c!==H)||((b=c).nodeType?n(a,c,g):p(a,c,g))}];e<d;e++)if(c=A.relative[a[e].type])y=[m(g(y),c)];else{c=A.filter[a[e].type].apply(null,
a[e].matches);if(c[O]){for(f=++e;f<d&&!A.relative[a[f].type];f++);return v(1<e&&g(y),1<e&&s(a.slice(0,e-1).concat({value:" "===a[e-2].type?"*":""})).replace(ga,"$1"),c,e<f&&w(a.slice(e,f)),f<d&&w(a=a.slice(f)),f<d&&s(a))}y.push(c)}return g(y)}function p(a,b){var c=0<b.length,g=0<a.length,f=function(f,d,k,e,m){var p,y,u,z=0,t="0",v=f&&[],B=[],q=H,s=f||g&&A.find.TAG("*",m),w=U+=null==q?1:Math.random()||0.1,r=s.length;for(m&&(H=d!==K&&d);t!==r&&null!=(p=s[t]);t++){if(g&&p){for(y=0;u=a[y++];)if(u(p,d,
k)){e.push(p);break}m&&(U=w)}c&&((p=!u&&p)&&z--,f&&v.push(p))}z+=t;if(c&&t!==z){for(y=0;u=b[y++];)u(v,B,d,k);if(f){if(0<z)for(;t--;)v[t]||B[t]||(B[t]=aa.call(e));B=n(B)}Y.apply(e,B);m&&!f&&0<B.length&&1<z+b.length&&l.uniqueSort(e)}m&&(U=w,H=q);return v};return c?e(f):f}var t,u,A,z,y,J,B,G,H,F,C,I,K,N,R,E,S,L,x,O="sizzle"+-new Date,M=window.document,U=0,T=0,D=h(),Q=h(),W=h(),X=function(a,b){a===b&&(C=!0);return 0},V=typeof ba,da=-2147483648,ea={}.hasOwnProperty,P=[],aa=P.pop,fa=P.push,Y=P.push,ha=
P.slice,ca=P.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},ga=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ma=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ja=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ia=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),$=RegExp(":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
na=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,oa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]"),PSEUDO:RegExp("^:((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},ta=/^(?:input|select|textarea|button)$/i,xa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,va=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,wa=/'|\\/g,ka=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),la=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{Y.apply(P=ha.call(M.childNodes),M.childNodes),P[M.childNodes.length].nodeType}catch(ya){Y={apply:P.length?function(a,b){fa.apply(a,ha.call(b))}:
function(a,b){for(var c=a.length,g=0;a[c++]=b[g++];);a.length=c-1}}}u=l.support={};y=l.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};I=l.setDocument=function(a){var b,c=a?a.ownerDocument||a:M;a=c.defaultView;if(c===K||9!==c.nodeType||!c.documentElement)return K;K=c;N=c.documentElement;R=!y(c);var g;if(g=a){a:{try{b=a.top;break a}catch(k){}b=null}g=a!==b}g&&(a.addEventListener?a.addEventListener("unload",function(){I()},!1):a.attachEvent&&a.attachEvent("onunload",
function(){I()}));u.attributes=d(function(a){a.className="i";return!a.getAttribute("className")});u.getElementsByTagName=d(function(a){a.appendChild(c.createComment(""));return!a.getElementsByTagName("*").length});u.getElementsByClassName=ra.test(c.getElementsByClassName);u.getById=d(function(a){N.appendChild(a).id=O;return!c.getElementsByName||!c.getElementsByName(O).length});u.getById?(A.find.ID=function(a,b){if(typeof b.getElementById!==V&&R){var c=b.getElementById(a);return c&&c.parentNode?[c]:
[]}},A.filter.ID=function(a){var b=a.replace(ka,la);return function(a){return a.getAttribute("id")===b}}):(delete A.find.ID,A.filter.ID=function(a){var b=a.replace(ka,la);return function(a){return(a=typeof a.getAttributeNode!==V&&a.getAttributeNode("id"))&&a.value===b}});A.find.TAG=u.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==V)return b.getElementsByTagName(a)}:function(a,b){var c,g=[],f=0,d=b.getElementsByTagName(a);if("*"===a){for(;c=d[f++];)1===c.nodeType&&g.push(c);
return g}return d};A.find.CLASS=u.getElementsByClassName&&function(a,b){if(R)return b.getElementsByClassName(a)};S=[];E=[];if(u.qsa=ra.test(c.querySelectorAll))d(function(a){a.innerHTML="<select msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&E.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||E.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll(":checked").length||E.push(":checked")}),d(function(a){var b=c.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&E.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||E.push(":enabled",":disabled");a.querySelectorAll("*,:x");E.push(",.*:")});(u.matchesSelector=ra.test(L=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&
d(function(a){u.disconnectedMatch=L.call(a,"div");L.call(a,"[s!='']:x");S.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});E=E.length&&RegExp(E.join("|"));S=S.length&&RegExp(S.join("|"));
x=(b=ra.test(N.compareDocumentPosition))||ra.test(N.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,g=b&&b.parentNode;return a===g||!!(g&&1===g.nodeType&&(c.contains?c.contains(g):a.compareDocumentPosition&&a.compareDocumentPosition(g)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};X=b?function(a,b){if(a===b)return C=!0,0;var g=!a.compareDocumentPosition-!b.compareDocumentPosition;if(g)return g;g=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):
1;return g&1||!u.sortDetached&&b.compareDocumentPosition(a)===g?a===c||a.ownerDocument===M&&x(M,a)?-1:b===c||b.ownerDocument===M&&x(M,b)?1:F?ca.call(F,a)-ca.call(F,b):0:g&4?-1:1}:function(a,b){if(a===b)return C=!0,0;var g,d=0;g=a.parentNode;var k=b.parentNode,e=[a],n=[b];if(!g||!k)return a===c?-1:b===c?1:g?-1:k?1:F?ca.call(F,a)-ca.call(F,b):0;if(g===k)return f(a,b);for(g=a;g=g.parentNode;)e.unshift(g);for(g=b;g=g.parentNode;)n.unshift(g);for(;e[d]===n[d];)d++;return d?f(e[d],n[d]):e[d]===M?-1:n[d]===
M?1:0};return c};l.matches=function(a,b){return l(a,null,null,b)};l.matchesSelector=function(a,b){(a.ownerDocument||a)!==K&&I(a);b=b.replace(ia,"='$1']");if(u.matchesSelector&&R&&!(S&&S.test(b)||E&&E.test(b)))try{var c=L.call(a,b);if(c||u.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(g){}return 0<l(b,K,null,[a]).length};l.contains=function(a,b){(a.ownerDocument||a)!==K&&I(a);return x(a,b)};l.attr=function(a,b){(a.ownerDocument||a)!==K&&I(a);var c=A.attrHandle[b.toLowerCase()],
c=c&&ea.call(A.attrHandle,b.toLowerCase())?c(a,b,!R):ba;return c!==ba?c:u.attributes||!R?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};l.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};l.uniqueSort=function(a){var b,c=[],g=0,f=0;C=!u.detectDuplicates;F=!u.sortStable&&a.slice(0);a.sort(X);if(C){for(;b=a[f++];)b===a[f]&&(g=c.push(f));for(;g--;)a.splice(c[g],1)}F=null;return a};z=l.getText=function(a){var b,c="",g=0;b=a.nodeType;if(!b)for(;b=a[g++];)c+=
z(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=z(a)}else if(3===b||4===b)return a.nodeValue;return c};A=l.selectors={cacheLength:50,createPseudo:e,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ka,la);a[3]=(a[3]||a[4]||a[5]||"").replace(ka,la);"~="===a[2]&&
(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||l.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&l.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(oa.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&$.test(c)&&(b=J(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=
a.replace(ka,la).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=D[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&D(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(g){g=l.attr(g,a);if(null==g)return"!="===b;if(!b)return!0;g+="";return"="===b?g===c:"!="===b?
g!==c:"^="===b?c&&0===g.indexOf(c):"*="===b?c&&-1<g.indexOf(c):"$="===b?c&&g.slice(-c.length)===c:"~="===b?-1<(" "+g+" ").indexOf(c):"|="===b?g===c||g.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,c,g,f){var d="nth"!==a.slice(0,3),k="last"!==a.slice(-4),e="of-type"===b;return 1===g&&0===f?function(a){return!!a.parentNode}:function(b,c,n){var m,p,y,u,z;c=d!==k?"nextSibling":"previousSibling";var t=b.parentNode,v=e&&b.nodeName.toLowerCase();n=!n&&!e;if(t){if(d){for(;c;){for(p=b;p=p[c];)if(e?p.nodeName.toLowerCase()===
v:1===p.nodeType)return!1;z=c="only"===a&&!z&&"nextSibling"}return!0}z=[k?t.firstChild:t.lastChild];if(k&&n)for(n=t[O]||(t[O]={}),m=n[a]||[],u=m[0]===U&&m[1],y=m[0]===U&&m[2],p=u&&t.childNodes[u];p=++u&&p&&p[c]||(y=u=0)||z.pop();){if(1===p.nodeType&&++y&&p===b){n[a]=[U,u,y];break}}else if(n&&(m=(b[O]||(b[O]={}))[a])&&m[0]===U)y=m[1];else for(;(p=++u&&p&&p[c]||(y=u=0)||z.pop())&&((e?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++y||(n&&((p[O]||(p[O]={}))[a]=[U,y]),p!==b)););y-=f;return y===g||0===
y%g&&0<=y/g}}},PSEUDO:function(a,b){var c,g=A.pseudos[a]||A.setFilters[a.toLowerCase()]||l.error("unsupported pseudo: "+a);return g[O]?g(b):1<g.length?(c=[a,a,"",b],A.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var f,d=g(a,b),k=d.length;k--;)f=ca.call(a,d[k]),a[f]=!(c[f]=d[k])}):function(a){return g(a,0,c)}):g}},pseudos:{not:e(function(a){var b=[],c=[],g=B(a.replace(ga,"$1"));return g[O]?e(function(a,b,c,f){f=g(a,null,f,[]);for(var d=a.length;d--;)if(c=f[d])a[d]=!(b[d]=c)}):function(a,
f,d){b[0]=a;g(b,null,d,c);return!c.pop()}}),has:e(function(a){return function(b){return 0<l(a,b).length}}),contains:e(function(a){a=a.replace(ka,la);return function(b){return-1<(b.textContent||b.innerText||z(b)).indexOf(a)}}),lang:e(function(a){na.test(a||"")||l.error("unsupported lang: "+a);a=a.replace(ka,la).toLowerCase();return function(b){var c;do if(c=R?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);
return!1}}),target:function(a){var b=window.location&&window.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===N},focus:function(a){return a===K.activeElement&&(!K.hasFocus||K.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;
return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!A.pseudos.empty(a)},header:function(a){return xa.test(a.nodeName)},input:function(a){return ta.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:k(function(){return[0]}),
last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:k(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};A.pseudos.nth=A.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[t]=a(t);for(t in{submit:!0,reset:!0})A.pseudos[t]=b(t);r.prototype=A.filters=
A.pseudos;A.setFilters=new r;J=l.tokenize=function(a,b){var c,g,f,d,k,e,n;if(k=Q[a+" "])return b?0:k.slice(0);k=a;e=[];for(n=A.preFilter;k;){if(!c||(g=ma.exec(k)))g&&(k=k.slice(g[0].length)||k),e.push(f=[]);c=!1;if(g=ja.exec(k))c=g.shift(),f.push({value:c,type:g[0].replace(ga," ")}),k=k.slice(c.length);for(d in A.filter)!(g=oa[d].exec(k))||n[d]&&!(g=n[d](g))||(c=g.shift(),f.push({value:c,type:d,matches:g}),k=k.slice(c.length));if(!c)break}return b?k.length:k?l.error(a):Q(a,e).slice(0)};B=l.compile=
function(a,b){var c,g=[],f=[],d=W[a+" "];if(!d){b||(b=J(a));for(c=b.length;c--;)d=w(b[c]),d[O]?g.push(d):f.push(d);d=W(a,p(f,g));d.selector=a}return d};G=l.select=function(a,b,c,g){var f,d,k,e,n="function"===typeof a&&a,m=!g&&J(a=n.selector||a);c=c||[];if(1===m.length){d=m[0]=m[0].slice(0);if(2<d.length&&"ID"===(k=d[0]).type&&u.getById&&9===b.nodeType&&R&&A.relative[d[1].type]){b=(A.find.ID(k.matches[0].replace(ka,la),b)||[])[0];if(!b)return c;n&&(b=b.parentNode);a=a.slice(d.shift().value.length)}for(f=
oa.needsContext.test(a)?0:d.length;f--;){k=d[f];if(A.relative[e=k.type])break;if(e=A.find[e])if(g=e(k.matches[0].replace(ka,la),sa.test(d[0].type)&&q(b.parentNode)||b)){d.splice(f,1);a=g.length&&s(d);if(!a)return Y.apply(c,g),c;break}}}(n||B(a,m))(g,b,!R,c,sa.test(a)&&q(b.parentNode)||b);return c};u.sortStable=O.split("").sort(X).join("")===O;u.detectDuplicates=!!C;I();u.sortDetached=d(function(a){return a.compareDocumentPosition(K.createElement("div"))&1});d(function(a){a.innerHTML="<a href='#'></a>";
return"#"===a.firstChild.getAttribute("href")})||c("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});u.attributes&&d(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||c("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});d(function(a){return null==a.getAttribute("disabled")})||c("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(a,b,c){var g;if(!c)return!0===a[b]?b.toLowerCase():(g=a.getAttributeNode(b))&&g.specified?g.value:null});return l});x("tinymce/util/Arr",[],function(){function l(d,c,f){var a,b;if(!d)return 0;f=f||d;if(d.length!==ba)for(a=0,b=d.length;a<b;a++){if(!1===c.call(f,d[a],a,d))return 0}else for(a in d)if(d.hasOwnProperty(a)&&!1===c.call(f,d[a],a,d))return 0;return 1}function h(d,c,f){var a,b;a=0;for(b=d.length;a<b;a++)if(c.call(f,d[a],a,d))return a;return-1}var e=Array.isArray||function(d){return"[object Array]"===
Object.prototype.toString.call(d)};return{isArray:e,toArray:function(d){var c=d,f,a;if(!e(d))for(c=[],f=0,a=d.length;f<a;f++)c[f]=d[f];return c},each:l,map:function(d,c){var f=[];l(d,function(a,b){f.push(c(a,b,d))});return f},filter:function(d,c){var f=[];l(d,function(a,b){c&&!c(a,b,d)||f.push(a)});return f},indexOf:function(d,c){var f,a;if(d)for(f=0,a=d.length;f<a;f++)if(d[f]===c)return f;return-1},reduce:function(d,c,f,a){var b=0;for(3>arguments.length&&(f=d[0]);b<d.length;b++)f=c.call(a,f,d[b],
b);return f},findIndex:h,find:function(d,c,f){c=h(d,c,f);return-1!==c?d[c]:ba},last:function(d){return d[d.length-1]}}});x("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(l,h){function e(a){return null===a||a===ba?"":(""+a).replace(f,"")}function d(a,b){return b?"array"==b&&h.isArray(a)?!0:typeof a==b:a!==ba}function c(a,b,f,d){d=d||this;a&&(f&&(a=a[f]),h.each(a,function(a,e){if(!1===b.call(d,a,e,f))return!1;c(a,b,f,d)}))}var f=/^\s*|\s*$/g;return{trim:e,isArray:h.isArray,is:d,toArray:h.toArray,
makeMap:function(a,b,c){a=a||[];"string"==typeof a&&(a=a.split(b||","));c=c||{};for(b=a.length;b--;)c[a[b]]={};return c},each:h.each,map:h.map,grep:h.filter,inArray:h.indexOf,hasOwn:function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},extend:function(a,b){var c,f,d,e=arguments,m;c=1;for(f=e.length;c<f;c++)for(d in b=e[c],b)b.hasOwnProperty(d)&&(m=b[d],m!==ba&&(a[d]=m));return a},create:function(a,b,c){var f,d,e,m,g,n=0;a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a);e=a[3].match(/(^|\.)(\w+)$/i)[2];
d=this.createNS(a[3].replace(/\.\w+$/,""),c);if(!d[e])if("static"==a[2]){if(d[e]=b,this.onCreate)this.onCreate(a[2],a[3],d[e])}else b[e]||(b[e]=function(){},n=1),d[e]=b[e],this.extend(d[e].prototype,b),a[5]&&(f=this.resolve(a[5]).prototype,m=a[5].match(/\.(\w+)$/i)[1],g=d[e],d[e]=n?function(){return f[m].apply(this,arguments)}:function(){this.parent=f[m];return g.apply(this,arguments)},d[e].prototype[e]=d[e],this.each(f,function(a,b){d[e].prototype[b]=f[b]}),this.each(b,function(a,b){f[b]?d[e].prototype[b]=
function(){this.parent=f[b];return a.apply(this,arguments)}:b!=e&&(d[e].prototype[b]=a)})),this.each(b["static"],function(a,b){d[e][b]=a})},walk:c,createNS:function(a,b){var c,d;b=b||window;a=a.split(".");for(c=0;c<a.length;c++)d=a[c],b[d]||(b[d]={}),b=b[d];return b},resolve:function(a,b){var c,d;b=b||window;a=a.split(".");c=0;for(d=a.length;c<d&&(b=b[a[c]],b);c++);return b},explode:function(a,b){return!a||d(a,"array")?a:h.map(a.split(b||","),e)},_addCacheSuffix:function(a){var b=l.cacheSuffix;b&&
(a+=(-1===a.indexOf("?")?"?":"&")+b);return a}}});x("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(l,h,e,d){function c(a){return"undefined"!==typeof a}function f(a,b){var c,g,d;b=b||p;d=b.createElement("div");c=b.createDocumentFragment();for(d.innerHTML=a;g=d.firstChild;)c.appendChild(g);return c}function a(b,c,g,d){var e;if("string"===typeof c)c=f(c,m(b[0]));else if(c.length&&!c.nodeType){c=k.makeArray(c);if(d)for(e=c.length-1;0<=
e;e--)a(b,c[e],g,d);else for(e=0;e<c.length;e++)a(b,c[e],g,d);return b}if(c.nodeType)for(e=b.length;e--;)g.call(b[e],c);return b}function b(a,b,c){var g,d;b=k(b)[0];a.each(function(){c&&g==this.parentNode||(g=this.parentNode,d=b.cloneNode(!1),this.parentNode.insertBefore(d,this));d.appendChild(this)});return a}function k(a,b){return new k.fn.init(a,b)}function q(a){return null===a||a===y?"":(""+a).replace(K,"")}function r(a,b){var c,g,d;if(a)if(c=a.length,void 0===c)for(g in a){if(a.hasOwnProperty(g)&&
(d=a[g],!1===b.call(d,g,d)))break}else for(g=0;g<c&&(d=a[g],!1!==b.call(d,g,d));g++);return a}function s(a,b){var c=[];r(a,function(a,g){b(g,a)&&c.push(g)});return c}function m(a){return a?9==a.nodeType?a:a.ownerDocument:p}function g(a,b,c){var g=[];a=a[b];for("string"!=typeof c&&c instanceof k&&(c=c[0]);a&&9!==a.nodeType;){if(c!==ba){if(a===c)break;if("string"==typeof c&&k(a).is(c))break}1===a.nodeType&&g.push(a);a=a[b]}return g}function n(a,b,c,g){var d=[];for(g instanceof k&&(g=g[0]);a;a=a[b])if(!c||
a.nodeType===c){if(g!==ba){if(a===g)break;if("string"==typeof g&&k(a).is(g))break}d.push(a)}return d}function v(a,b,c){for(a=a[b];a;a=a[b])if(a.nodeType==c)return a;return null}function w(a,b,c){r(c,function(c,g){a[c]=a[c]||{};a[c][b]=g})}var p=document,t=Array.prototype.push,u=Array.prototype.slice,A=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,z=l.Event,y,J=e.makeMap("children,contents,next,prev"),B=e.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),G=e.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected",
" "),H={"for":"htmlFor","class":"className",readonly:"readOnly"},F={"float":"cssFloat"},C={},I={},K=/^\s*|\s*$/g;k.fn=k.prototype={constructor:k,selector:"",context:null,length:0,init:function(a,b){var c,g;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(b&&b.nodeType)this.context=b;else{if(b)return k(a).attr(b);this.context=b=document}if("string"===typeof a)if(this.selector=a,c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:A.exec(a))if(c[1])for(g=
f(a,m(b)).firstChild;g;)t.call(this,g),g=g.nextSibling;else{g=m(b).getElementById(c[2]);if(!g)return this;if(g.id!==c[2])return this.find(a);this.length=1;this[0]=g}else return k(b).find(a);else this.add(a,!1);return this},toArray:function(){return e.toArray(this)},add:function(a,b){var c,g;if("string"===typeof a)return this.add(k(a));if(!1!==b)for(c=k.unique(this.toArray().concat(k.makeArray(a))),this.length=c.length,g=0;g<c.length;g++)this[g]=c[g];else t.apply(this,k.makeArray(a));return this},
attr:function(a,b){var g=this,d;if("object"===typeof a)r(a,function(a,b){g.attr(a,b)});else if(c(b))this.each(function(){var c;1===this.nodeType&&((c=C[a])&&c.set?c.set(this,b):null===b?this.removeAttribute(a,2):this.setAttribute(a,b,2))});else{if(g[0]&&1===g[0].nodeType){if((d=C[a])&&d.get)return d.get(g[0],a);if(G[a])return g.prop(a)?a:y;b=g[0].getAttribute(a,2);null===b&&(b=y)}return b}return g},removeAttr:function(a){return this.attr(a,null)},prop:function(a,b){var g=this;a=H[a]||a;if("object"===
typeof a)r(a,function(a,b){g.prop(a,b)});else if(c(b))this.each(function(){1==this.nodeType&&(this[a]=b)});else return g[0]&&g[0].nodeType&&a in g[0]?g[0][a]:b;return g},css:function(a,b){function g(a){return a.replace(/-(\D)/g,function(a,b){return b.toUpperCase()})}function d(a){return a.replace(/[A-Z]/g,function(a){return"-"+a})}var f=this,e,k;if("object"===typeof a)r(a,function(a,b){f.css(a,b)});else if(c(b))a=g(a),"number"!==typeof b||B[a]||(b+="px"),f.each(function(){var c=this.style;if((k=I[a])&&
k.set)k.set(this,b);else{try{this.style[F[a]||a]=b}catch(g){}if(null===b||""===b)c.removeProperty?c.removeProperty(d(a)):c.removeAttribute(a)}});else{e=f[0];if((k=I[a])&&k.get)return k.get(e);if(e.ownerDocument.defaultView)try{return e.ownerDocument.defaultView.getComputedStyle(e,null).getPropertyValue(d(a))}catch(n){return y}else if(e.currentStyle)return e.currentStyle[g(a)]}return f},remove:function(){for(var a,b=this.length;b--;)a=this[b],z.clean(a),a.parentNode&&a.parentNode.removeChild(a);return this},
empty:function(){for(var a,b=this.length;b--;)for(a=this[b];a.firstChild;)a.removeChild(a.firstChild);return this},html:function(a){var b;if(c(a)){b=this.length;try{for(;b--;)this[b].innerHTML=a}catch(g){k(this[b]).empty().append(a)}return this}return this[0]?this[0].innerHTML:""},text:function(a){var b;if(c(a)){for(b=this.length;b--;)"innerText"in this[b]?this[b].innerText=a:this[0].textContent=a;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return a(this,
arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(a)})},prepend:function(){return a(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(a,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?a(this,arguments,function(a){this.parentNode.insertBefore(a,this)}):this},after:function(){return this[0]&&this[0].parentNode?a(this,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)},
!0):this},appendTo:function(a){k(a).append(this);return this},prependTo:function(a){k(a).prepend(this);return this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return b(this,a)},wrapAll:function(a){return b(this,a,!0)},wrapInner:function(a){this.each(function(){k(this).contents().wrapAll(a)});return this},unwrap:function(){return this.parent().each(function(){k(this).replaceWith(this.childNodes)})},clone:function(){var a=[];this.each(function(){a.push(this.cloneNode(!0))});
return k(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(a,b){var c=this;if("string"!=typeof a)return c;-1!==a.indexOf(" ")?r(a.split(" "),function(){c.toggleClass(this,b)}):c.each(function(c,g){var d,f;f=g&&a&&-1!==(" "+g.className+" ").indexOf(" "+a+" ");f!==b&&(d=g.className,g.className=f?q((" "+d+" ").replace(" "+a+" "," ")):g.className+(d?" "+a:a))});return c},hasClass:function(a){return this[0]&&a&&-1!==(" "+
this[0].className+" ").indexOf(" "+a+" ")},each:function(a){return r(this,a)},on:function(a,b){return this.each(function(){z.bind(this,a,b)})},off:function(a,b){return this.each(function(){z.unbind(this,a,b)})},trigger:function(a){return this.each(function(){"object"==typeof a?z.fire(this,a.type,a):z.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new k(u.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):
this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(a){var b,c,g=[];b=0;for(c=this.length;b<c;b++)k.find(a,this[b],g);return k(g)},filter:function(a){return"function"==typeof a?k(s(this.toArray(),function(b,c){return a(c,b)})):k(k.filter(a,this.toArray()))},closest:function(a){var b=[];a instanceof k&&(a=a[0]);this.each(function(c,g){for(;g;){if("string"==typeof a&&k(g).is(a)){b.push(g);break}else if(g==a){b.push(g);break}g=g.parentNode}});return k(b)},
offset:function(a){var b,c,g=0,d=0;if(!a){if(b=this[0])a=b.ownerDocument,c=a.documentElement,b.getBoundingClientRect&&(d=b.getBoundingClientRect(),g=d.left+(c.scrollLeft||a.body.scrollLeft)-c.clientLeft,d=d.top+(c.scrollTop||a.body.scrollTop)-c.clientTop);return{left:g,top:d}}return this.css(a)},push:t,sort:[].sort,splice:[].splice};e.extend(k,{extend:e.extend,makeArray:function(a){return a&&a==a.window||a.nodeType?[a]:e.toArray(a)},inArray:function(a,b){var c;if(b.indexOf)return b.indexOf(a);for(c=
b.length;c--;)if(b[c]===a)return c;return-1},isArray:e.isArray,each:r,trim:q,grep:s,find:h,expr:h.selectors,unique:h.uniqueSort,text:h.getText,contains:h.contains,filter:function(a,b,c){var g=b.length;for(c&&(a=":not("+a+")");g--;)1!=b[g].nodeType&&b.splice(g,1);return b=1===b.length?k.find.matchesSelector(b[0],a)?[b[0]]:[]:k.find.matches(a,b)}});r({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return g(a,"parentNode")},next:function(a){return v(a,"nextSibling",
1)},prev:function(a){return v(a,"previousSibling",1)},children:function(a){return n(a.firstChild,"nextSibling",1)},contents:function(a){return e.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(a,b){k.fn[a]=function(c){var g=[];this.each(function(){var a=b.call(g,this,c,g);a&&(k.isArray(a)?g.push.apply(g,a):g.push(a))});1<this.length&&(J[a]||(g=k.unique(g)),0===a.indexOf("parents")&&(g=g.reverse()));g=k(g);return c?g.filter(c):g}});r({parentsUntil:function(a,
b){return g(a,"parentNode",b)},nextUntil:function(a,b){return n(a,"nextSibling",1,b).slice(1)},prevUntil:function(a,b){return n(a,"previousSibling",1,b).slice(1)}},function(a,b){k.fn[a]=function(c,g){var d=[];this.each(function(){var a=b.call(d,this,c,d);a&&(k.isArray(a)?d.push.apply(d,a):d.push(a))});1<this.length&&(d=k.unique(d),0===a.indexOf("parents")||"prevUntil"===a)&&(d=d.reverse());d=k(d);return g?d.filter(g):d}});k.fn.is=function(a){return!!a&&0<this.filter(a).length};k.fn.init.prototype=
k.fn;k.overrideDefaults=function(a){function b(g,d){c=c||a();0===arguments.length&&(g=c.element);d||(d=c.context);return new b.fn.init(g,d)}var c;k.extend(b,this);return b};d.ie&&8>d.ie&&(w(C,"get",{maxlength:function(a){a=a.maxLength;return 2147483647===a?y:a},size:function(a){a=a.size;return 20===a?y:a},"class":function(a){return a.className},style:function(a){a=a.style.cssText;return 0===a.length?y:a}}),w(C,"set",{"class":function(a,b){a.className=b},style:function(a,b){a.style.cssText=b}}));d.ie&&
9>d.ie&&(F["float"]="styleFloat",w(I,"set",{opacity:function(a,b){var c=a.style;null===b||""===b?c.removeAttribute("filter"):(c.zoom=1,c.filter="alpha(opacity="+100*b+")")}}));k.attrHooks=C;k.cssHooks=I;return k});x("tinymce/html/Styles",[],function(){return function(l,h){function e(a,b,c,d){function f(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+f(b)+f(c)+f(d)}var d=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
f=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,b,k={},q,r,s;l=l||{};h&&(r=h.getValidStyles(),s=h.getInvalidStyles());q="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(b=0;b<q.length;b++)k[q[b]]="\ufeff"+b,k["\ufeff"+b]=q[b];return{toHex:function(a){return a.replace(d,e)},parse:function(m){function g(a,c,g){var d,f,e,k;if(d=s[a+"-top"+c])if(f=s[a+"-right"+c])if(e=s[a+"-bottom"+c])if(k=s[a+"-left"+c]){d=[d,f,e,k];for(b=d.length-1;b--&&d[b]===d[b+1];);-1<b&&g||(s[a+c]=-1==b?d[0]:d.join(" "),delete s[a+"-top"+c],
delete s[a+"-right"+c],delete s[a+"-bottom"+c],delete s[a+"-left"+c])}}function n(a){var b=s[a],c;if(b){b=b.split(" ");for(c=b.length;c--;)if(b[c]!==b[0])return!1;s[a]=b[0];return!0}}function v(a,b,c,g){n(b)&&n(c)&&n(g)&&(s[a]=s[b]+" "+s[c]+" "+s[g],delete s[b],delete s[c],delete s[g])}function q(a){r=!0;return k[a]}function p(a,b){r&&(a=a.replace(/\uFEFF[0-9]/g,function(a){return k[a]}));b||(a=a.replace(/\\([\'\";:])/g,"$1"));return a}function t(a){return String.fromCharCode(parseInt(a.slice(1),
16))}function u(a,b,c,g,d,f){if(d=d||f)return d=p(d),"'"+d.replace(/\'/g,"\\'")+"'";b=p(b||c||g);if(!l.allow_script_urls&&(a=b.replace(/[\s\r\n]+/g,""),/(java|vb)script:/i.test(a)||!l.allow_svg_data_urls&&/^data:image\/svg/i.test(a)))return"";B&&(b=B.call(h,b,"style"));return"url('"+b.replace(/\'/g,"\\'")+"')"}var s={},z,y,r,B=l.url_converter,h=l.url_converter_scope||this;if(m){m=m.replace(/[\u0000-\u001F]/g,"");for(m=m.replace(/\\[\"\';:\uFEFF]/g,q).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,
q)});z=f.exec(m);)if(f.lastIndex=z.index+z[0].length,y=z[1].replace(a,"").toLowerCase(),z=z[2].replace(a,""),y&&z&&(y=y.replace(/\\[0-9a-f]+/gi,t),z=z.replace(/\\[0-9a-f]+/gi,t),-1===y.indexOf("\ufeff")&&-1===y.indexOf('"')&&(l.allow_script_urls||"behavior"!=y&&!/expression\s*\(|\/\*|\*\//.test(z)))){if("font-weight"===y&&"700"===z)z="bold";else if("color"===y||"background-color"===y)z=z.toLowerCase();z=z.replace(d,e);z=z.replace(c,u);s[y]=r?p(z,!0):z}g("border","",!0);g("border","-width");g("border",
"-color");g("border","-style");g("padding","");g("margin","");v("border","border-width","border-style","border-color");"medium none"===s.border&&delete s.border;"none"===s["border-image"]&&delete s["border-image"]}return s},serialize:function(a,b){function c(b){var g,d,e,k;if(g=r[b])for(d=0,e=g.length;d<e;d++)b=g[d],(k=a[b])&&(f+=(0<f.length?" ":"")+b+": "+k+";")}function d(a,b){var c;return(c=s["*"])&&c[a]?!1:(c=s[b])&&c[a]?!1:!0}var f="",e,k;if(b&&r)c("*"),c(b);else for(e in a)k=a[e],!k||s&&!d(e,
b)||(f+=(0<f.length?" ":"")+e+": "+k+";");return f}}}});x("tinymce/dom/TreeWalker",[],function(){return function(l,h){function e(c,d,a,b){if(c){if(!b&&c[d])return c[d];if(c!=h){if(d=c[a])return d;for(c=c.parentNode;c&&c!=h;c=c.parentNode)if(d=c[a])return d}}}var d=l;this.current=function(){return d};this.next=function(c){return d=e(d,"firstChild","nextSibling",c)};this.prev=function(c){return d=e(d,"lastChild","previousSibling",c)};this.prev2=function(c){a:{var f;if(d){f=d.previousSibling;if(h&&f===
h){d=void 0;break a}if(f){if(!c)for(c=f.lastChild;c;c=c.lastChild)if(!c.lastChild){d=c;break a}d=f;break a}if((f=d.parentNode)&&f!==h){d=f;break a}}d=void 0}return d}}});x("tinymce/dom/Range",["tinymce/util/Tools"],function(l){function h(e){function d(a,b){r(z,a,b)}function c(a,b){r(y,a,b)}function f(a){d(a.parentNode,C(a))}function a(a){c(a.parentNode,C(a)+1)}function b(){return s(u)}function k(a,b){var c;if(3==a.nodeType||0>b)return a;for(c=a.firstChild;c&&0<b;)--b,c=c.nextSibling;return c?c:a}
function q(a,b,c,g){var d,f;if(a==c)return b==g?0:b<g?-1:1;for(d=c;d&&d.parentNode!=a;)d=d.parentNode;if(d){f=0;for(c=a.firstChild;c!=d&&f<b;)f++,c=c.nextSibling;return b<=f?-1:1}for(d=a;d&&d.parentNode!=c;)d=d.parentNode;if(d){f=0;for(c=c.firstChild;c!=d&&f<g;)f++,c=c.nextSibling;return f<g?-1:1}for(b=e.findCommonAncestor(a,c);a&&a.parentNode!=b;)a=a.parentNode;a||(a=b);for(g=c;g&&g.parentNode!=b;)g=g.parentNode;g||(g=b);if(a==g)return 0;for(c=b.firstChild;c;){if(c==a)return-1;if(c==g)return 1;c=
c.nextSibling}}function r(a,b,c){a?(p[B]=b,p[J]=c):(p[G]=b,p[H]=c);for(b=p[G];b.parentNode;)b=b.parentNode;for(c=p[B];c.parentNode;)c=c.parentNode;c==b?0<q(p[B],p[J],p[G],p[H])&&p.collapse(a):p.collapse(a);p.collapsed=p[B]==p[G]&&p[J]==p[H];p.commonAncestorContainer=e.findCommonAncestor(p[B],p[G])}function s(a){var b,c=0,d=0,f;if(p[B]==p[G])return m(a);b=p[G];for(f=b.parentNode;f;b=f,f=f.parentNode){if(f==p[B]){var e=b;f=d=c=c=f=b=void 0;a!=A&&(b=t.createDocumentFragment());f=g(e,a);b&&b.appendChild(f);
c=C(e);c-=p[J];if(!(0>=c))for(f=e.previousSibling;0<c;)d=f.previousSibling,f=w(f,a),b&&b.insertBefore(f,b.firstChild),--c,f=d;a!=u&&(p.setEndBefore(e),p.collapse(y));a=b;return a}++c}b=p[B];for(f=b.parentNode;f;b=f,f=f.parentNode){if(f==p[G]){e=b;f=d=c=f=c=b=void 0;a!=A&&(b=t.createDocumentFragment());f=n(e,a);b&&b.appendChild(f);c=C(e);++c;c=p[H]-c;for(f=e.nextSibling;f&&0<c;)d=f.nextSibling,f=w(f,a),b&&b.appendChild(f),--c,f=d;a!=u&&(p.setStartAfter(e),p.collapse(z));return b}++d}d-=c;for(b=p[B];0<
d;)b=b.parentNode,d--;for(c=p[G];0>d;)c=c.parentNode,d++;d=b.parentNode;for(f=c.parentNode;d!=f;d=d.parentNode,f=f.parentNode)b=d,c=f;var k;a!=A&&(e=t.createDocumentFragment());k=n(b,a);e&&e.appendChild(k);d=C(b);f=C(c);++d;d=f-d;for(k=b.nextSibling;0<d;)f=k.nextSibling,k=w(k,a),e&&e.appendChild(k),k=f,--d;k=g(c,a);e&&e.appendChild(k);a!=u&&(p.setStartAfter(b),p.collapse(z));return e}function m(a){var b,c,g,d,f;a!=A&&(b=t.createDocumentFragment());if(p[J]==p[H])return b;if(3==p[B].nodeType){c=p[B].nodeValue;
g=c.substring(p[J],p[H]);a!=u&&(c=p[B],d=p[J],f=p[H]-p[J],0===d&&f>=c.nodeValue.length-1?c.parentNode.removeChild(c):c.deleteData(d,f),p.collapse(z));if(a==A)return;0<g.length&&b.appendChild(t.createTextNode(g));return b}c=k(p[B],p[J]);for(g=p[H]-p[J];c&&0<g;)d=c.nextSibling,c=w(c,a),b&&b.appendChild(c),--g,c=d;a!=u&&p.collapse(z);return b}function g(a,b){var c=k(p[G],p[H]-1),g,d,f,e=c!=p[G];if(c==a)return v(c,e,y,b);g=c.parentNode;for(d=v(g,y,y,b);g;){for(;c;)f=c.previousSibling,c=v(c,e,y,b),b!=
A&&d.insertBefore(c,d.firstChild),e=z,c=f;if(g==a)return d;c=g.previousSibling;g=g.parentNode;f=v(g,y,y,b);b!=A&&f.appendChild(d);d=f}}function n(a,b){var c=k(p[B],p[J]),g=c!=p[B],d,f,e;if(c==a)return v(c,g,z,b);d=c.parentNode;for(f=v(d,y,z,b);d;){for(;c;)e=c.nextSibling,c=v(c,g,z,b),b!=A&&f.appendChild(c),g=z,c=e;if(d==a)return f;c=d.nextSibling;d=d.parentNode;e=v(d,y,z,b);b!=A&&e.appendChild(f);f=e}}function v(a,b,c,g){var d;if(b)return w(a,g);if(3==a.nodeType){b=a.nodeValue;c?(d=p[J],c=b.substring(d),
b=b.substring(0,d)):(d=p[H],c=b.substring(0,d),b=b.substring(d));g!=u&&(a.nodeValue=b);if(g==A)return;a=e.clone(a,y);a.nodeValue=c;return a}if(g!=A)return e.clone(a,y)}function w(a,b){if(b!=A)return b==u?e.clone(a,z):a;a.parentNode.removeChild(a)}var p=this,t=e.doc,u=1,A=2,z=!0,y=!1,J="startOffset",B="startContainer",G="endContainer",H="endOffset",F=l.extend,C=e.nodeIndex;F(p,{startContainer:t,startOffset:0,endContainer:t,endOffset:0,collapsed:z,commonAncestorContainer:t,START_TO_START:0,START_TO_END:1,
END_TO_END:2,END_TO_START:3,setStart:d,setEnd:c,setStartBefore:f,setStartAfter:function(a){d(a.parentNode,C(a)+1)},setEndBefore:function(a){c(a.parentNode,C(a))},setEndAfter:a,collapse:function(a){a?(p[G]=p[B],p[H]=p[J]):(p[B]=p[G],p[J]=p[H]);p.collapsed=z},selectNode:function(b){f(b);a(b)},selectNodeContents:function(a){d(a,0);c(a,1===a.nodeType?a.childNodes.length:a.nodeValue.length)},compareBoundaryPoints:function(a,b){var c=p[B],g=p[J],d=p[G],f=p[H],e=b.startContainer,k=b.startOffset,n=b.endContainer,
m=b.endOffset;if(0===a)return q(c,g,e,k);if(1===a)return q(d,f,e,k);if(2===a)return q(d,f,n,m);if(3===a)return q(c,g,n,m)},deleteContents:function(){s(A)},extractContents:function(){return s(0)},cloneContents:b,insertNode:function(a){var b=this[B],c=this[J],g;3!==b.nodeType&&4!==b.nodeType||!b.nodeValue?(0<b.childNodes.length&&(g=b.childNodes[c]),g?b.insertBefore(a,g):3==b.nodeType?e.insertAfter(a,b):b.appendChild(a)):c?c>=b.nodeValue.length?e.insertAfter(a,b):(c=b.splitText(c),b.parentNode.insertBefore(a,
c)):b.parentNode.insertBefore(a,b)},surroundContents:function(a){var b=p.extractContents();p.insertNode(a);a.appendChild(b);p.selectNode(a)},cloneRange:function(){return F(new h(e),{startContainer:p[B],startOffset:p[J],endContainer:p[G],endOffset:p[H],collapsed:p.collapsed,commonAncestorContainer:p.commonAncestorContainer})},toStringIE:function(){return e.create("body",null,b()).outerText}});return p}h.prototype.toString=function(){return this.toStringIE()};return h});x("tinymce/html/Entities",["tinymce/util/Tools"],
function(l){function h(a,b){var d,f,e,k={};if(a){a=a.split(",");b=b||10;for(d=0;d<a.length;d+=2)f=String.fromCharCode(parseInt(a[d],b)),c[f]||(e="&"+a[d+1]+";",k[f]=e,k[e]=f);return k}}var e=l.makeMap,d,c,f,a=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k=/[<>&\"\']/g,q=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,r={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",
137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};c={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"};f={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};d=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);var s={encodeRaw:function(d,g){return d.replace(g?a:b,function(a){return c[a]||a})},encodeAllRaw:function(a){return(""+a).replace(k,function(a){return c[a]||a})},encodeNumeric:function(d,g){return d.replace(g?a:b,function(a){return 1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":c[a]||"&#"+a.charCodeAt(0)+";"})},encodeNamed:function(f,g,e){e=e||d;return f.replace(g?a:b,function(a){return c[a]||e[a]||a})},getEncodeFunc:function(f,g){function k(d,f){return d.replace(f?
a:b,function(a){return c[a]||g[a]||"&#"+a.charCodeAt(0)+";"||a})}function v(a,b){return s.encodeNamed(a,b,g)}g=h(g)||d;f=e(f.replace(/\+/g,","));return f.named&&f.numeric?k:f.named?g?v:s.encodeNamed:f.numeric?s.encodeNumeric:s.encodeRaw},decode:function(a){return a.replace(q,function(a,b){if(b)return b="x"===b.charAt(0).toLowerCase()?parseInt(b.substr(1),16):parseInt(b,10),65535<b?(b-=65536,String.fromCharCode(55296+(b>>10),56320+(b&1023))):r[b]||String.fromCharCode(b);var c;(c=f[a])||(c=d[a])||(c=
document.createElement("div"),c.innerHTML=a,c=c.textContent||c.innerText||a);return c})}};return s});x("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(l,h){return function(e,d){function c(a){e.getElementsByTagName("head")[0].appendChild(a)}var f=0,a={},b;d=d||{};b=d.maxLoadTime||5E3;this.load=function(d,q,r){function s(){for(var a=A.passed,b=a.length;b--;)a[b]();A.status=2;A.passed=[];A.failed=[]}function m(){for(var a=A.failed,b=a.length;b--;)a[b]();A.status=3;
A.passed=[];A.failed=[]}function g(){var a=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(a&&536>a[1])}function n(a,c){a()||((new Date).getTime()-u<b?h.setTimeout(c):m())}function v(){n(function(){for(var a=e.styleSheets,b,c=a.length;c--;)if(b=a[c],(b=b.ownerNode?b.ownerNode:b.owningElement)&&b.id===p.id)return s(),!0},v)}function w(){n(function(){try{var a=t.sheet.cssRules;s();return!!a}catch(b){}},w)}var p,t,u,A;d=l._addCacheSuffix(d);a[d]?A=a[d]:(A={passed:[],failed:[]},a[d]=A);q&&A.passed.push(q);
r&&A.failed.push(r);if(1!=A.status)if(2==A.status)s();else if(3==A.status)m();else{A.status=1;p=e.createElement("link");p.rel="stylesheet";p.type="text/css";p.id="u"+f++;p.async=!1;p.defer=!1;u=(new Date).getTime();if("onload"in p&&!g())p.onload=v,p.onerror=m;else{if(0<navigator.userAgent.indexOf("Firefox")){t=e.createElement("style");t.textContent='@import "'+d+'"';w();c(t);return}v()}c(p);p.href=d}}}});x("tinymce/dom/DOMUtils","tinymce/dom/Sizzle tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/EventUtils tinymce/dom/TreeWalker tinymce/dom/Range tinymce/html/Entities tinymce/Env tinymce/util/Tools tinymce/dom/StyleSheetLoader".split(" "),
function(l,h,e,d,c,f,a,b,k,q){function r(a,b){var c={},g=b.keep_values,d;d={set:function(c,g,d){b.url_converter&&(g=b.url_converter.call(b.url_converter_scope||a,g,d,c[0]));c.attr("data-mce-"+d,g).attr(d,g)},get:function(a,b){return a.attr("data-mce-"+b)||a.attr(b)}};c={style:{set:function(a,b){null!==b&&"object"===typeof b?a.css(b):(g&&a.attr("data-mce-style",b),a.attr("style",b))},get:function(b){var c=b.attr("data-mce-style")||b.attr("style");return c=a.serializeStyle(a.parseStyle(c),b[0].nodeName)}}};
g&&(c.href=c.src=d);return c}function s(a,b){var c=b.attr("style");(c=a.serializeStyle(a.parseStyle(c),b[0].nodeName))||(c=null);b.attr("data-mce-style",c)}function m(a,b){var c=0,g,d;if(a)for(g=a.nodeType,a=a.previousSibling;a;a=a.previousSibling)if(d=a.nodeType,!b||3!=d||d!=g&&a.nodeValue.length)c++,g=d;return c}function g(a,b){var c=this,g;c.doc=a;c.win=window;c.files={};c.counter=0;c.stdMode=!t||8<=a.documentMode;c.boxModel=!t||"CSS1Compat"==a.compatMode||c.stdMode;c.styleSheetLoader=new q(a);
c.boundEvents=[];c.settings=b=b||{};c.schema=b.schema;c.styles=new e({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema);c.fixDoc(a);c.events=b.ownEvents?new d(b.proxy):d.Event;c.attrHooks=r(c,b);g=b.schema?b.schema.getBlockElements():{};c.$=h.overrideDefaults(function(){return{context:a,element:c.getRoot()}});c.isBlock=function(a){if(!a)return!1;var b=a.nodeType;return b?!(1!==b||!g[a.nodeName]):!!g[a]}}var n=k.each,v=k.is,w=k.grep,p=k.trim,t=b.ie,u=/^([a-z0-9],?)+$/i,
A=/^[ \t\r\n]*$/;g.prototype={$$:function(a){"string"==typeof a&&(a=this.get(a));return this.$(a)},root:null,fixDoc:function(a){var b=this.settings,c;if(t&&b.schema)for(c in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(b){a.createElement(b)}),b.schema.getCustomElements())a.createElement(c)},clone:function(a,b){var c=this,g,d;if(!t||1!==a.nodeType||b)return a.cloneNode(b);d=c.doc;
return b?g.firstChild:(g=d.createElement(a.nodeName),n(c.getAttribs(a),function(b){c.setAttrib(g,b.nodeName,c.getAttrib(a,b.nodeName))}),g)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(a){var b;a=a?a:this.win;b=a.document;b=this.boxModel?b.documentElement:b.body;return{x:a.pageXOffset||b.scrollLeft,y:a.pageYOffset||b.scrollTop,w:a.innerWidth||b.clientWidth,h:a.innerHeight||b.clientHeight}},getRect:function(a){var b;a=this.get(a);b=this.getPos(a);a=this.getSize(a);
return{x:b.x,y:b.y,w:a.w,h:a.h}},getSize:function(a){var b,c;a=this.get(a);b=this.getStyle(a,"width");c=this.getStyle(a,"height");-1===b.indexOf("px")&&(b=0);-1===c.indexOf("px")&&(c=0);return{w:parseInt(b,10)||a.offsetWidth||a.clientWidth,h:parseInt(c,10)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,b,c,!1)},getParents:function(a,b,c,g){var d=this,f,e=[];a=d.get(a);g=g===ba;c=c||("BODY"!=d.getRoot().nodeName?d.getRoot().parentNode:null);v(b,"string")&&(f=b,
b="*"===b?function(a){return 1==a.nodeType}:function(a){return d.is(a,f)});for(;a&&a!=c&&a.nodeType&&9!==a.nodeType;){if(!b||b(a))if(g)e.push(a);else return a;a=a.parentNode}return g?e:null},get:function(a){var b;return a&&this.doc&&"string"==typeof a&&(b=a,(a=this.doc.getElementById(a))&&a.id!==b)?this.doc.getElementsByName(b)[1]:a},getNext:function(a,b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(a,b){return l(a,this.get(b)||
this.settings.root_element||this.doc,[])},is:function(a,b){var c;if(a.length===ba){if("*"===b)return 1==a.nodeType;if(u.test(b)){b=b.toLowerCase().split(/,/);a=a.nodeName.toLowerCase();for(c=b.length-1;0<=c;c--)if(b[c]==a)return!0;return!1}}if(a.nodeType&&1!=a.nodeType)return!1;c=a.nodeType?[a]:a;return 0<l(b,c[0].ownerDocument||c[0],null,c).length},add:function(a,b,c,g,d){var f=this;return this.run(a,function(a){var e;e=v(b,"string")?f.doc.createElement(b):b;f.setAttribs(e,c);g&&(g.nodeType?e.appendChild(g):
f.setHTML(e,g));return d?e:a.appendChild(e)})},create:function(a,b,c){return this.add(this.doc.createElement(a),a,b,c,1)},createHTML:function(a,b,c){var g,d;g="<"+a;for(d in b)b.hasOwnProperty(d)&&null!==b[d]&&"undefined"!=typeof b[d]&&(g+=" "+d+'="'+this.encode(b[d])+'"');return"undefined"!=typeof c?g+">"+c+"</"+a+">":g+" />"},createFragment:function(a){var b;b=this.doc;var c;c=b.createElement("div");b=b.createDocumentFragment();a&&(c.innerHTML=a);for(;a=c.firstChild;)b.appendChild(a);return b},
remove:function(a,b){a=this.$$(a);b?a.each(function(){for(var a;a=this.firstChild;)3==a.nodeType&&0===a.data.length?this.removeChild(a):this.parentNode.insertBefore(a,this)}).remove():a.remove();return 1<a.length?a.toArray():a[0]},setStyle:function(a,b,c){a=this.$$(a).css(b,c);this.settings.update_styles&&s(this,a)},getStyle:function(a,c,g){a=this.$$(a);if(g)return a.css(c);c=c.replace(/-(\D)/g,function(a,b){return b.toUpperCase()});"float"==c&&(c=b.ie&&12>b.ie?"styleFloat":"cssFloat");return a[0]&&
a[0].style?a[0].style[c]:ba},setStyles:function(a,b){a=this.$$(a).css(b);this.settings.update_styles&&s(this,a)},removeAllAttribs:function(a){return this.run(a,function(a){var b,c=a.attributes;for(b=c.length-1;0<=b;b--)a.removeAttributeNode(c.item(b))})},setAttrib:function(a,b,c){var g,d,f=this.settings;""===c&&(c=null);a=this.$$(a);g=a.attr(b);if(a.length&&((d=this.attrHooks[b])&&d.set?d.set(a,c,b):a.attr(b,c),g!=c&&f.onSetAttrib))f.onSetAttrib({attrElm:a,attrName:b,attrValue:c})},setAttribs:function(a,
b){var c=this;c.$$(a).each(function(a,g){n(b,function(a,b){c.setAttrib(g,b,a)})})},getAttrib:function(a,b,c){var g;a=this.$$(a);a.length&&(g=(g=this.attrHooks[b])&&g.get?g.get(a,b):a.attr(b));"undefined"==typeof g&&(g=c||"");return g},getPos:function(a,b){var c=0,g=0,d;d=this.doc;var f=d.body;a=this.get(a);b=b||f;if(a){if(b===f&&a.getBoundingClientRect&&"static"===h(f).css("position"))return g=a.getBoundingClientRect(),b=this.boxModel?d.documentElement:f,c=g.left+(d.documentElement.scrollLeft||f.scrollLeft)-
b.clientLeft,g=g.top+(d.documentElement.scrollTop||f.scrollTop)-b.clientTop,{x:c,y:g};for(d=a;d&&d!=b&&d.nodeType;)c+=d.offsetLeft||0,g+=d.offsetTop||0,d=d.offsetParent;for(d=a.parentNode;d&&d!=b&&d.nodeType;)c-=d.scrollLeft||0,g-=d.scrollTop||0,d=d.parentNode}return{x:c,y:g}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(a,b){return this.styles.serialize(a,b)},addStyle:function(a){var b=this.doc,c,d;if(this!==g.DOM&&b===document){c=(c=g.DOM.addedStyles)||[];if(c[a])return;
c[a]=!0;g.DOM.addedStyles=c}d=b.getElementById("mceDefaultStyles");d||(d=b.createElement("style"),d.id="mceDefaultStyles",d.type="text/css",c=b.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d));d.styleSheet?d.styleSheet.cssText+=a:d.appendChild(b.createTextNode(a))},loadCSS:function(a){var b=this,c=b.doc,d;b!==g.DOM&&c===document?g.DOM.loadCSS(a):(a||(a=""),d=c.getElementsByTagName("head")[0],n(a.split(","),function(a){var g;a=k._addCacheSuffix(a);b.files[a]||
(b.files[a]=!0,g=b.create("link",{rel:"stylesheet",href:a}),t&&c.documentMode&&c.recalc&&(g.onload=function(){c.recalc&&c.recalc();g.onload=null}),d.appendChild(g))}))},addClass:function(a,b){this.$$(a).addClass(b)},removeClass:function(a,b){this.toggleClass(a,b,!1)},hasClass:function(a,b){return this.$$(a).hasClass(b)},toggleClass:function(a,b,c){this.$$(a).toggleClass(b,c).each(function(){""===this.className&&h(this).attr("class",null)})},show:function(a){this.$$(a).show()},hide:function(a){this.$$(a).hide()},
isHidden:function(a){return"none"==this.$$(a).css("display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(a,b){a=this.$$(a);t?a.each(function(a,c){if(!1!==c.canHaveHTML){for(;c.firstChild;)c.removeChild(c.firstChild);try{c.innerHTML="<br>"+b,c.removeChild(c.firstChild)}catch(g){h("<div></div>").html("<br>"+b).contents().slice(1).appendTo(c)}return b}}):a.html(b)},getOuterHTML:function(a){a=this.get(a);return 1==a.nodeType&&"outerHTML"in a?a.outerHTML:h("<div></div>").append(h(a).clone()).html()},
setOuterHTML:function(a,b){var c=this;c.$$(a).each(function(){try{if("outerHTML"in this){this.outerHTML=b;return}}catch(a){}c.remove(h(this).html(b),!0)})},decode:a.decode,encode:a.encodeAllRaw,insertAfter:function(a,b){b=this.get(b);return this.run(a,function(a){var c,g;c=b.parentNode;(g=b.nextSibling)?c.insertBefore(a,g):c.appendChild(a);return a})},replace:function(a,b,c){return this.run(b,function(b){v(b,"array")&&(a=a.cloneNode(!0));c&&n(w(b.childNodes),function(b){a.appendChild(b)});return b.parentNode.replaceChild(a,
b)})},rename:function(a,b){var c=this,g;a.nodeName!=b.toUpperCase()&&(g=c.create(b),n(c.getAttribs(a),function(b){c.setAttrib(g,b.nodeName,c.getAttrib(a,b.nodeName))}),c.replace(g,a,1));return g||a},findCommonAncestor:function(a,b){for(var c=a,g;c;){for(g=b;g&&c!=g;)g=g.parentNode;if(c==g)break;c=c.parentNode}return!c&&a.ownerDocument?a.ownerDocument.documentElement:c},toHex:function(a){return this.styles.toHex(k.trim(a))},run:function(a,b,c){var g=this,d;"string"===typeof a&&(a=g.get(a));if(!a)return!1;
c=c||this;return a.nodeType||!a.length&&0!==a.length?b.call(c,a):(d=[],n(a,function(a,f){a&&("string"==typeof a&&(a=g.get(a)),d.push(b.call(c,a,f)))}),d)},getAttribs:function(a){var b;a=this.get(a);if(!a)return[];if(t){b=[];if("OBJECT"==a.nodeName)return a.attributes;"OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"});a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(a){b.push({specified:1,
nodeName:a})});return b}return a.attributes},isEmpty:function(a,b){var g,d,f,e,k,n,p=0;if(a=a.firstChild){k=new c(a,a.parentNode);b=b||(this.schema?this.schema.getNonEmptyElements():null);e=this.schema?this.schema.getWhiteSpaceElements():{};do{f=a.nodeType;if(1===f){if(g=a.getAttribute("data-mce-bogus")){a=k.next("all"===g);continue}n=a.nodeName.toLowerCase();if(b&&b[n]){if("br"===n){p++;a=k.next();continue}return!1}d=this.getAttribs(a);for(g=d.length;g--;)if(n=d[g].nodeName,"name"===n||"data-mce-bookmark"===
n)return!1}if(8==f||3===f&&!A.test(a.nodeValue)||3===f&&a.parentNode&&e[a.parentNode.nodeName]&&A.test(a.nodeValue))return!1;a=k.next()}while(a)}return 1>=p},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new f(this)},nodeIndex:m,split:function(a,b,c){function g(a){var b,c=a.childNodes,f=a.nodeType;if(1!=f||"bookmark"!=a.getAttribute("data-mce-type")){for(b=c.length-1;0<=b;b--)g(c[b]);if(9!=f){if(3==f&&0<a.nodeValue.length){b=p(a.nodeValue).length;if(!(c=!d.isBlock(a.parentNode))&&
!(c=0<b)){if(b=0===b)b=a.nextSibling&&"SPAN"==a.nextSibling.nodeName,b=a.previousSibling&&"SPAN"==a.previousSibling.nodeName&&b;c=b}if(c)return}else if(1==f&&(c=a.childNodes,1==c.length&&c[0]&&1==c[0].nodeType&&"bookmark"==c[0].getAttribute("data-mce-type")&&a.parentNode.insertBefore(c[0],a),c.length||/^(br|hr|input|img)$/i.test(a.nodeName)))return;d.remove(a)}return a}}var d=this,f=d.createRng(),e,k;if(a&&b)return f.setStart(a.parentNode,d.nodeIndex(a)),f.setEnd(b.parentNode,d.nodeIndex(b)),e=f.extractContents(),
f=d.createRng(),f.setStart(b.parentNode,d.nodeIndex(b)+1),f.setEnd(a.parentNode,d.nodeIndex(a)+1),f=f.extractContents(),k=a.parentNode,k.insertBefore(g(e),a),c?k.insertBefore(c,a):k.insertBefore(b,a),k.insertBefore(g(f),a),d.remove(a),c||b},bind:function(a,b,c,g){if(k.isArray(a)){for(var d=a.length;d--;)a[d]=this.bind(a[d],b,c,g);return a}!this.settings.collect||a!==this.doc&&a!==this.win||this.boundEvents.push([a,b,c,g]);return this.events.bind(a,b,c,g||this)},unbind:function(a,b,c){var g;if(k.isArray(a)){for(g=
a.length;g--;)a[g]=this.unbind(a[g],b,c);return a}if(this.boundEvents&&(a===this.doc||a===this.win))for(g=this.boundEvents.length;g--;){var d=this.boundEvents[g];a!=d[0]||b&&b!=d[1]||c&&c!=d[2]||this.events.unbind(d[0],d[1],d[2])}return this.events.unbind(a,b,c)},fire:function(a,b,c){return this.events.fire(a,b,c)},getContentEditable:function(a){var b;return a&&1==a.nodeType?(b=a.getAttribute("data-mce-contenteditable"))&&"inherit"!==b?b:"inherit"!==a.contentEditable?a.contentEditable:null:null},
getContentEditableParent:function(a){for(var b=this.getRoot(),c=null;a&&a!==b&&(c=this.getContentEditable(a),null===c);a=a.parentNode);return c},destroy:function(){if(this.boundEvents){for(var a=this.boundEvents.length;a--;){var b=this.boundEvents[a];this.events.unbind(b[0],b[1],b[2])}this.boundEvents=null}l.setDocument&&l.setDocument();this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(a,b){for(;a;){if(b===a)return!0;a=a.parentNode}return!1},dumpRng:function(a){return"startContainer: "+
a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(a,b,c){var g=this,d=b;if(a)for("string"==typeof d&&(d=function(a){return g.is(a,b)}),a=a[c];a;a=a[c])if(d(a))return a;return null}};g.DOM=new g(document);g.nodeIndex=m;return g});x("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(l,h){function e(){function b(b,c,f){function e(){k.remove(u);m&&(m.onreadystatechange=m.onload=
m=null);c()}var k=d,m,u;u=k.uniqueId();m=document.createElement("script");m.id=u;m.type="text/javascript";m.src=h._addCacheSuffix(b);"onreadystatechange"in m?m.onreadystatechange=function(){/loaded|complete/.test(m.readyState)&&e()}:m.onload=e;m.onerror=function(){a(f)?f():"undefined"!==typeof console&&console.log&&console.log("Failed to load script: "+b)};(document.getElementsByTagName("head")[0]||document.body).appendChild(m)}var e={},q=[],r={},s=[],m=0;this.isDone=function(a){return 2==e[a]};this.markDone=
function(a){e[a]=2};this.add=this.load=function(a,b,c,d){void 0==e[a]&&(q.push(a),e[a]=0);b&&(r[a]||(r[a]=[]),r[a].push({success:b,failure:d,scope:c||this}))};this.remove=function(a){delete e[a];delete r[a]};this.loadQueue=function(a,b,c){this.loadScripts(q,a,b,c)};this.loadScripts=function(g,d,v,q){function p(b,g){c(r[g],function(c){a(c[b])&&c[b].call(c.scope)});r[g]=void 0}var t,u=[];s.push({success:d,failure:q,scope:v||this});t=function(){var d=f(g);g.length=0;c(d,function(a){2===e[a]?p("success",
a):3===e[a]?p("failure",a):1!==e[a]&&(e[a]=1,m++,b(a,function(){e[a]=2;m--;p("success",a);t()},function(){e[a]=3;m--;u.push(a);p("failure",a);t()}))});m||(c(s,function(b){0===u.length?a(b.success)&&b.success.call(b.scope):a(b.failure)&&b.failure.call(b.scope,u)}),s.length=0)};t()}}var d=l.DOM,c=h.each,f=h.grep,a=function(a){return"function"===typeof a};e.ScriptLoader=new e;return e});x("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(l,h){function e(){this.items=[];
this.urls={};this.lookup={}}var d=h.each;e.prototype={get:function(c){return this.lookup[c]?this.lookup[c].instance:ba},dependencies:function(c){var d;this.lookup[c]&&(d=this.lookup[c].dependencies);return d||[]},requireLangPack:function(c,d){var a=e.language;if(a&&!1!==e.languageLoad){if(d)if(d=","+d+",",-1!=d.indexOf(","+a.substr(0,2)+","))a=a.substr(0,2);else if(-1==d.indexOf(","+a+","))return;l.ScriptLoader.add(this.urls[c]+"/langs/"+a+".js")}},add:function(c,d,a){this.items.push(d);this.lookup[c]=
{instance:d,dependencies:a};return d},remove:function(c){delete this.urls[c];delete this.lookup[c]},createUrl:function(c,d){return"object"===typeof d?d:{prefix:c.prefix,resource:d,suffix:c.suffix}},addComponents:function(c,f){var a=this.urls[c];d(f,function(b){l.ScriptLoader.add(a+"/"+b)})},load:function(c,f,a,b,k){function q(){var e=r.dependencies(c);d(e,function(a){a=r.createUrl(f,a);r.load(a.resource,a,ba,ba)});a&&(b?a.call(b):a.call(l))}var r=this,s=f;r.urls[c]||("object"===typeof f&&(s=f.prefix+
f.resource+f.suffix),0!==s.indexOf("/")&&-1==s.indexOf("://")&&(s=e.baseURL+"/"+s),r.urls[c]=s.substring(0,s.lastIndexOf("/")),r.lookup[c]?q():l.ScriptLoader.add(s,q,b,k))}};e.PluginManager=new e;e.ThemeManager=new e;return e});x("tinymce/dom/NodeType",[],function(){function l(c){return function(d){return!!d&&d.nodeType==c}}function h(c){c=c.toLowerCase().split(" ");return function(d){var a;if(d&&d.nodeType)for(a=d.nodeName.toLowerCase(),d=0;d<c.length;d++)if(a===c[d])return!0;return!1}}function e(c){return function(f){return!d(f)||
f.contentEditable!==c&&f.getAttribute("data-mce-contenteditable")!==c?!1:!0}}var d=l(1);return{isText:l(3),isElement:d,isComment:l(8),isBr:h("br"),isContentEditableTrue:e("true"),isContentEditableFalse:e("false"),matchNodeNames:h,hasPropValue:function(c,f){return function(a){return d(a)&&a[c]===f}},hasAttributeValue:function(c,f){return function(a){return d(a)&&a.getAttribute(c)===f}},matchStyleValues:function(c,f){f=f.toLowerCase().split(" ");return function(a){var b,e;if(d(a))for(b=0;b<f.length;b++)if(e=
getComputedStyle(a,null).getPropertyValue(c),e===f[b])return!0;return!1}},isBogus:function(c){return d(c)&&c.hasAttribute("data-mce-bogus")}}});x("tinymce/text/Zwsp",[],function(){return{isZwsp:function(l){return"\ufeff"==l},ZWSP:"\ufeff",trim:function(l){return l.replace(RegExp("\ufeff","g"),"")}}});x("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(l,h){function e(a){s(a)&&(a=a.parentNode);return r(a)&&a.hasAttribute("data-mce-caret")}function d(a){return s(a)&&
h.isZwsp(a.data)}function c(a){return e(a)||d(a)}function f(a){try{return a.nodeValue}catch(b){return""}}function a(){var a=document.createElement("br");a.setAttribute("data-mce-bogus","1");return a}function b(a){return a.firstChild!==a.lastChild||!l.isBr(a.firstChild)}function k(a){return s(a)&&a.data[0]==h.ZWSP}function q(a){return s(a)&&a.data[a.data.length-1]==h.ZWSP}var r=l.isElement,s=l.isText;return{isCaretContainer:c,isCaretContainerBlock:e,isCaretContainerInline:d,showCaretContainerBlock:function(a){if(a&&
a.hasAttribute("data-mce-caret")){var b=a.getElementsByTagName("br"),b=b[b.length-1];l.isBogus(b)&&b.parentNode.removeChild(b);a.removeAttribute("data-mce-caret");a.removeAttribute("data-mce-bogus");a.removeAttribute("style");a.removeAttribute("_moz_abspos");return a}return null},insertInline:function(a,b){var d,f,e;f=a.ownerDocument.createTextNode(h.ZWSP);e=a.parentNode;if(b){d=a.previousSibling;if(s(d)){if(c(d))return d;if(q(d))return d.splitText(d.data.length-1)}e.insertBefore(f,a)}else{d=a.nextSibling;
if(s(d)){if(c(d))return d;if(k(d))return d.splitText(1),d}a.nextSibling?e.insertBefore(f,a.nextSibling):e.appendChild(f)}return f},insertBlock:function(b,c,d){var f;b=c.ownerDocument.createElement(b);b.setAttribute("data-mce-caret",d?"before":"after");b.setAttribute("data-mce-bogus","all");b.appendChild(a());f=c.parentNode;d?f.insertBefore(b,c):c.nextSibling?f.insertBefore(b,c.nextSibling):f.appendChild(b);return b},hasContent:b,remove:function(a){if(r(a)&&c(a))if(b(a))a.removeAttribute("data-mce-caret");
else{var d=a.parentNode;d&&d.removeChild(a)}s(a)&&(d=h.trim(f(a)),0===d.length?(d=a.parentNode)&&d.removeChild(a):a.nodeValue=d)},startsWithCaretContainer:k,endsWithCaretContainer:q}});x("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/dom/Range","tinymce/caret/CaretContainer"],function(l,h,e,d,c){function f(a){return m(a)||g(a)}function a(a,b){var c=a.childNodes;b--;b>c.length-1?b=c.length-1:0>b&&(b=0);return c[b]||a}function b(a,b,c){for(;a&&
a!==b;){if(c(a))return a;a=a.parentNode}return null}function k(a){return"_mce_caret"===a.id}function q(c){this.walk=function(b,d){function g(a){var b;b=a[0];3===b.nodeType&&b===n&&m>=b.nodeValue.length&&a.splice(0,1);b=a[a.length-1];0===r&&0<a.length&&b===q&&3===b.nodeType&&a.splice(a.length-1,1);return a}function f(a,b,c){for(var d=[];a&&a!=c;a=a[b])d.push(a);return d}function e(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function k(a,b,c){var e=c?"nextSibling":"previousSibling";
C=a;for(I=C.parentNode;C&&C!=b;C=I)I=C.parentNode,K=f(C==a?C:C[e],e),K.length&&(c||K.reverse(),d(g(K)))}var n=b.startContainer,m=b.startOffset,q=b.endContainer,r=b.endOffset,h,l,C,I,K;l=c.select("td[data-mce-selected],th[data-mce-selected]");if(0<l.length)s(l,function(a){d([a])});else{1==n.nodeType&&n.hasChildNodes()&&(n=n.childNodes[m]);1==q.nodeType&&q.hasChildNodes()&&(q=a(q,r));if(n==q)return d(g([n]));h=c.findCommonAncestor(n,q);for(C=n;C;C=C.parentNode){if(C===q)return k(n,h,!0);if(C===h)break}for(C=
q;C;C=C.parentNode){if(C===n)return k(q,h);if(C===h)break}l=e(n,h)||n;h=e(q,h)||q;k(n,l,!0);K=f(l==n?l:l.nextSibling,"nextSibling",h==q?h.nextSibling:h);K.length&&d(g(K));k(q,h)}};this.split=function(a){var b=a.startContainer,c=a.startOffset,d=a.endContainer;a=a.endOffset;b==d&&3==b.nodeType?0<c&&c<b.nodeValue.length&&(d=b.splitText(c),b=d.previousSibling,a>c?(b=d=d.splitText(a-c).previousSibling,a=d.nodeValue.length,c=0):a=0):(3==b.nodeType&&0<c&&c<b.nodeValue.length&&(b=b.splitText(c),c=0),3==d.nodeType&&
0<a&&a<d.nodeValue.length&&(d=d.splitText(a).previousSibling,a=d.nodeValue.length));return{startContainer:b,startOffset:c,endContainer:d,endOffset:a}};this.normalize=function(a){function d(p){function m(a,b){for(var d=new h(a,c.getParent(a.parentNode,c.isBlock)||F);a=d[b?"prev":"next"]();)if("BR"===a.nodeName)return!0}function q(a){for(;a&&a!=F;){if(g(a))return!0;a=a.parentNode}return!1}function s(a,d){var g,p;d=d||r;g=c.getParent(d.parentNode,c.isBlock)||F;if(a&&"BR"==d.nodeName&&N&&c.isEmpty(g))r=
d.parentNode,l=c.nodeIndex(d),f=!0;else{for(g=new h(d,g);C=g[a?"prev":"next"]();){if(!(p="false"===c.getContentEditableParent(C))){p=C;var m=c.getRoot();p=n(p)&&!1===(null!==b(p,m,k))}if(p)return;if(3===C.nodeType&&0<C.nodeValue.length){r=C;l=a?C.nodeValue.length:0;f=!0;return}if(c.isBlock(C)||I[C.nodeName.toLowerCase()])return;p=C}e&&p&&(r=p,f=!0,l=0)}}var r,l,H,F=c.getRoot(),C,I,K,N;r=a[(p?"start":"end")+"Container"];l=a[(p?"start":"end")+"Offset"];N=1==r.nodeType&&l===r.childNodes.length;I=c.schema.getNonEmptyElements();
K=p;if(!n(r)){1==r.nodeType&&l>r.childNodes.length-1&&(K=!1);9===r.nodeType&&(r=c.getRoot(),l=0);if(r===F){if(K&&(C=r.childNodes[0<l?l-1:0])&&(n(C)||I[C.nodeName]||"TABLE"==C.nodeName))return;if(r.hasChildNodes()){l=Math.min(!K&&0<l?l-1:l,r.childNodes.length-1);r=r.childNodes[l];l=0;if(!e&&r===F.lastChild&&"TABLE"===r.nodeName||q(r)||n(r))return;if(r.hasChildNodes()&&!/TABLE/.test(r.nodeName)){C=r;H=new h(r,F);do{if(g(C)||n(C)){f=!1;break}if(3===C.nodeType&&0<C.nodeValue.length){l=K?0:C.nodeValue.length;
r=C;f=!0;break}if(I[C.nodeName.toLowerCase()]&&(!C||!/^(TD|TH|CAPTION)$/.test(C.nodeName))){l=c.nodeIndex(C);r=C.parentNode;"IMG"!=C.nodeName||K||l++;f=!0;break}}while(C=K?H.next():H.prev())}}}e&&(3===r.nodeType&&0===l&&s(!0),1===r.nodeType&&((C=r.childNodes[l])||(C=r.childNodes[l-1]),!C||"BR"!==C.nodeName||C.previousSibling&&"A"==C.previousSibling.nodeName||m(C)||m(C,!0)||s(!0,C)));K&&!e&&3===r.nodeType&&l===r.nodeValue.length&&s(!1);if(f)a["set"+(p?"Start":"End")](r,l)}}var f,e;e=a.collapsed;d(!0);
e||d();f&&e&&a.collapse(!0);return f}}function r(a,b,c){var d,g;d=c.elementFromPoint(a,b);g=c.body.createTextRange();d&&"HTML"!=d.tagName||(d=c.body);g.moveToElementText(d);c=l.toArray(g.getClientRects());c=c.sort(function(a,c){a=Math.abs(Math.max(a.top-b,a.bottom-b));c=Math.abs(Math.max(c.top-b,c.bottom-b));return a-c});if(0<c.length){b=(c[0].bottom+c[0].top)/2;try{return g.moveToPoint(a,b),g.collapse(!0),g}catch(f){}}return null}var s=l.each,m=e.isContentEditableTrue,g=e.isContentEditableFalse,
n=c.isCaretContainer;q.compareRanges=function(a,b){if(a&&b)if(a.item||a.duplicate){if(a.item&&b.item&&a.item(0)===b.item(0)||a.isEqual&&b.isEqual&&b.isEqual(a))return!0}else return a.startContainer==b.startContainer&&a.startOffset==b.startOffset;return!1};q.getCaretRangeFromPoint=function(a,c,d){var e;if(d.caretPositionFromPoint)a=d.caretPositionFromPoint(a,c),e=d.createRange(),e.setStart(a.offsetNode,a.offset),e.collapse(!0);else if(d.caretRangeFromPoint)e=d.caretRangeFromPoint(a,c);else if(d.body.createTextRange){e=
d.body.createTextRange();try{e.moveToPoint(a,c),e.collapse(!0)}catch(k){e=r(a,c,d)}d=d.body;a=e&&e.parentElement?e.parentElement():null;return g(b(a,d,f))?null:e}return e};q.getSelectedNode=function(a){var b=a.startContainer,c=a.startOffset;return b.hasChildNodes()&&a.endOffset==c+1?b.childNodes[c]:null};q.getNode=function(a,b){1==a.nodeType&&a.hasChildNodes()&&(b>=a.childNodes.length&&(b=a.childNodes.length-1),a=a.childNodes[b]);return a};return q});x("tinymce/NodeChange",["tinymce/dom/RangeUtils",
"tinymce/Env","tinymce/util/Delay"],function(l,h,e){return function(d){var c,f=[];if(!("onselectionchange"in d.getDoc()))d.on("NodeChange Click MouseUp KeyUp Focus",function(a){var b;b=d.selection.getRng();b={startContainer:b.startContainer,startOffset:b.startOffset,endContainer:b.endContainer,endOffset:b.endOffset};"nodechange"!=a.type&&l.compareRanges(b,c)||d.fire("SelectionChange");c=b});d.on("contextmenu",function(){d.fire("SelectionChange")});d.on("SelectionChange",function(){var a=d.selection.getStart(!0);
if(h.range||!d.selection.isCollapsed()){var b;a:{var c;c=d.$(a).parentsUntil(d.getBody()).add(a);if(c.length===f.length){for(b=c.length;0<=b&&c[b]===f[b];b--);if(-1===b){f=c;b=!0;break a}}f=c;b=!1}!b&&d.dom.isChildOf(a,d.getBody())&&d.nodeChanged({selectionChange:!0})}});d.on("MouseUp",function(a){a.isDefaultPrevented()||("IMG"==d.selection.getNode().nodeName?e.setEditorTimeout(d,function(){d.nodeChanged()}):d.nodeChanged())});this.nodeChanged=function(a){var b=d.selection,c,f,e;d.initialized&&b&&
!d.settings.disable_nodechange&&!d.readonly&&(e=d.getBody(),c=b.getStart()||e,c.ownerDocument==d.getDoc()&&d.dom.isChildOf(c,e)||(c=e),"IMG"==c.nodeName&&b.isCollapsed()&&(c=c.parentNode),f=[],d.dom.getParent(c,function(a){if(a===e)return!0;f.push(a)}),a=a||{},a.element=c,a.parents=f,d.fire("NodeChange",a))}}});x("tinymce/html/Node",[],function(){function l(c,d,a){var b;b=a?"lastChild":"firstChild";a=a?"prev":"next";if(c[b])return c[b];if(c!==d){if(b=c[a])return b;for(c=c.parent;c&&c!==d;c=c.parent)if(b=
c[a])return b}}function h(c,d){this.name=c;this.type=d;1===d&&(this.attributes=[],this.attributes.map={})}var e=/^[ \t\r\n]*$/,d={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};h.prototype={replace:function(c){c.parent&&c.remove();this.insert(c,this);this.remove();return this},attr:function(c,d){var a,b;if("string"!==typeof c){for(b in c)this.attr(b,c[b]);return this}if(a=this.attributes){if(void 0!==d){if(null===d){if(c in a.map)for(delete a.map[c],b=a.length;b--;)if(a[b].name===
c){a.splice(b,1);break}return this}if(c in a.map)for(b=a.length;b--;){if(a[b].name===c){a[b].value=d;break}}else a.push({name:c,value:d});a.map[c]=d;return this}return a.map[c]}},clone:function(){var c=new h(this.name,this.type),d,a,b,e,q;if(b=this.attributes){q=[];q.map={};d=0;for(a=b.length;d<a;d++)e=b[d],"id"!==e.name&&(q[q.length]={name:e.name,value:e.value},q.map[e.name]=e.value);c.attributes=q}c.value=this.value;c.shortEnded=this.shortEnded;return c},wrap:function(c){this.parent.insert(c,this);
c.append(this);return this},unwrap:function(){var c,d;for(c=this.firstChild;c;)d=c.next,this.insert(c,this,!0),c=d;this.remove()},remove:function(){var c=this.parent,d=this.next,a=this.prev;if(c){if(c.firstChild===this){if(c.firstChild=d)d.prev=null}else a.next=d;if(c.lastChild===this){if(c.lastChild=a)a.next=null}else d.prev=a;this.parent=this.next=this.prev=null}return this},append:function(c){var d;c.parent&&c.remove();(d=this.lastChild)?(d.next=c,c.prev=d,this.lastChild=c):this.lastChild=this.firstChild=
c;c.parent=this;return c},insert:function(c,d,a){var b;c.parent&&c.remove();b=d.parent||this;a?(d===b.firstChild?b.firstChild=c:d.prev.next=c,c.prev=d.prev,c.next=d,d.prev=c):(d===b.lastChild?b.lastChild=c:d.next.prev=c,c.next=d.next,c.prev=d,d.next=c);c.parent=b;return c},getAll:function(c){var d,a=[];for(d=this.firstChild;d;d=l(d,this))d.name===c&&a.push(d);return a},empty:function(){var c,d,a;if(this.firstChild){c=[];for(a=this.firstChild;a;a=l(a,this))c.push(a);for(d=c.length;d--;)a=c[d],a.parent=
a.firstChild=a.lastChild=a.next=a.prev=null}this.firstChild=this.lastChild=null;return this},isEmpty:function(c,d){var a=this.firstChild,b,k;d=d||{};if(a){do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(c[a.name])return!1;for(b=a.attributes.length;b--;)if(k=a.attributes[b].name,"name"===k||0===k.indexOf("data-mce-bookmark"))return!1}if(8===a.type||3===a.type&&!e.test(a.value)||3===a.type&&a.parent&&d[a.parent.name]&&e.test(a.value))return!1}while(a=l(a,this))}return!0},walk:function(c){return l(this,
null,c)}};h.create=function(c,f){var a,b;a=new h(c,d[c]||1);if(f)for(b in f)a.attr(b,f[b]);return a};return h});x("tinymce/html/Schema",["tinymce/util/Tools"],function(l){function h(a,b){return(a=l.trim(a))?a.split(b||" "):[]}function e(a,d){function g(a,b,c){function d(a,b){var c={},g,f;g=0;for(f=a.length;g<f;g++)c[a[g]]=b||{};return c}var g,e;c=c||[];b=b||"";"string"===typeof c&&(c=h(c));a=h(a);for(g=a.length;g--;)e=h([q,b].join(" ")),e={attributes:d(e),attributesOrder:e,children:d(c,f)},k[a[g]]=
e}function e(a,b){var c,d,g,f;a=h(a);c=a.length;for(b=h(b);c--;)for(d=k[a[c]],g=0,f=b.length;g<f;g++)d.attributes[b[g]]={},d.attributesOrder.push(b[g])}var k={},q,p,t,u;if(c[a])return c[a];q="id accesskey class dir lang style tabindex title";eventAttributes=h("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting");
p="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul";t="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment";d.allow_events&&(q=q.concat(q,eventAttributes));"html4"!=a&&(q+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",p+=" article aside details dialog figure header footer hgroup section nav",t+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen");
"html5-strict"!=a&&(q+=" xml:lang",t=[t,"acronym applet basefont big font strike tt"].join(" "),b(h("acronym applet basefont big font strike tt"),function(a){g(a,"",t)}),p=[p,"center dir isindex noframes"].join(" "),u=[p,t].join(" "),b(h("center dir isindex noframes"),function(a){g(a,"",u)}));u=u||[p,t].join(" ");g("html","manifest","head body");g("head","","base command link meta noscript script style title");g("title hr noscript br");g("base","href target");g("link","href rel media hreflang type sizes hreflang");
g("meta","name http-equiv content charset");g("style","media type scoped");g("script","src async defer type charset");g("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",u);g("address dt dd div caption","",u);g("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",t);g("blockquote","cite",u);g("ol","reversed start type",
"li");g("ul","","li");g("li","value",u);g("dl","","dt dd");g("a","href target rel media hreflang type",t);g("q","cite",t);g("ins del","cite datetime",u);g("img","src sizes srcset alt usemap ismap width height");g("iframe","src name width height",u);g("embed","src type width height");g("object","data type typemustmatch name usemap form width height",[u,"param"].join(" "));g("param","name value");g("map","name",[u,"area"].join(" "));g("area","alt coords shape href target rel media hreflang type");g("table",
"border","caption colgroup thead tfoot tbody tr"+("html4"==a?" col":""));g("colgroup","span","col");g("col","span");g("tbody thead tfoot","","tr");g("tr","","td th");g("td","colspan rowspan headers",u);g("th","colspan rowspan headers scope abbr",u);g("form","accept-charset action autocomplete enctype method name novalidate target",u);g("fieldset","disabled form name",[u,"legend"].join(" "));g("label","form for",t);g("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");
g("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==a?u:t);g("select","disabled form multiple name required size","option optgroup");g("optgroup","disabled label","option");g("option","disabled label selected value");g("textarea","cols dirname disabled form maxlength name readonly required rows wrap");g("menu","type label",[u,"li"].join(" "));g("noscript","",u);"html4"!=a&&(g("wbr"),g("ruby","",[t,"rt rp"].join(" ")),g("figcaption","",u),
g("mark rt rp summary bdi","",t),g("canvas","width height",u),g("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[u,"track source"].join(" ")),g("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[u,"track source"].join(" ")),g("picture","","img source"),g("source","src srcset type media sizes"),g("track","kind src srclang label default"),g("datalist","",[t,"option"].join(" ")),g("article section nav aside header footer",
"",u),g("hgroup","","h1 h2 h3 h4 h5 h6"),g("figure","",[u,"figcaption"].join(" ")),g("time","datetime",t),g("dialog","open",u),g("command","type label icon disabled checked radiogroup command"),g("output","for form name",t),g("progress","value max",t),g("meter","value min max low high optimum",t),g("details","open",[u,"summary"].join(" ")),g("keygen","autofocus challenge disabled form keytype name"));"html5-strict"!=a&&(e("script","language xml:space"),e("style","xml:space"),e("object","declare classid code codebase codetype archive standby align border hspace vspace"),
e("embed","align name hspace vspace"),e("param","valuetype type"),e("a","charset name rev shape coords"),e("br","clear"),e("applet","codebase archive code object alt name width height align hspace vspace"),e("img","name longdesc align border hspace vspace"),e("iframe","longdesc frameborder marginwidth marginheight scrolling align"),e("font basefont","size color face"),e("input","usemap align"),e("select","onchange"),e("textarea"),e("h1 h2 h3 h4 h5 h6 div p legend caption","align"),e("ul","type compact"),
e("li","type"),e("ol dl menu dir","compact"),e("pre","width xml:space"),e("hr","align noshade size width"),e("isindex","prompt"),e("table","summary width frame rules cellspacing cellpadding align bgcolor"),e("col","width align char charoff valign"),e("colgroup","width align char charoff valign"),e("thead","align char charoff valign"),e("tr","align char charoff valign bgcolor"),e("th","axis align char charoff valign nowrap bgcolor width height"),e("form","accept"),e("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),
e("tfoot","align char charoff valign"),e("tbody","align char charoff valign"),e("area","nohref"),e("body","background bgcolor text link vlink alink"));"html4"!=a&&(e("input button select textarea","autofocus"),e("input textarea","placeholder"),e("a","download"),e("link script img","crossorigin"),e("iframe","sandbox seamless allowfullscreen"));b(h("a form meter progress dfn"),function(a){k[a]&&delete k[a].children[a]});delete k.caption.children.table;delete k.script;return c[a]=k}function d(c,d){var g;
c&&(g={},"string"==typeof c&&(c={"*":c}),b(c,function(b,c){g[c]=g[c.toUpperCase()]="map"==d?a(b,/[, ]/):q(b,/[, ]/)}));return g}var c={},f={},a=l.makeMap,b=l.each,k=l.extend,q=l.explode,r=l.inArray;return function(f){function m(b,d,g){var e=f[b];e?e=a(e,/[, ]/,a(e.toUpperCase(),/[, ]/)):(e=c[b],e||(e=a(d," ",a(d.toUpperCase()," ")),e=k(e,g),c[b]=e));return e}function g(b){var c,d,g,f,e,k,n,p,m,u,q,v,s,y,B,w,l,z,J=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,G=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
H=/[*?+]/;if(b)for(b=h(b,","),t["@"]&&(w=t["@"].attributes,l=t["@"].attributesOrder),c=0,d=b.length;c<d;c++)if(e=J.exec(b[c])){y=e[1];m=e[2];B=e[3];p=e[5];v={};s=[];k={attributes:v,attributesOrder:s};"#"===y&&(k.paddEmpty=!0);"-"===y&&(k.removeEmpty=!0);"!"===e[4]&&(k.removeEmptyAttrs=!0);if(w){for(z in w)v[z]=w[z];s.push.apply(s,l)}if(p)for(p=h(p,"|"),g=0,f=p.length;g<f;g++)if(e=G.exec(p[g]))n={},q=e[1],u=e[2].replace(/::/g,":"),y=e[3],e=e[4],"!"===q&&(k.attributesRequired=k.attributesRequired||
[],k.attributesRequired.push(u),n.required=!0),"-"===q?(delete v[u],s.splice(r(s,u),1)):(y&&("="===y&&(k.attributesDefault=k.attributesDefault||[],k.attributesDefault.push({name:u,value:e}),n.defaultValue=e),":"===y&&(k.attributesForced=k.attributesForced||[],k.attributesForced.push({name:u,value:e}),n.forcedValue=e),"<"===y&&(n.validValues=a(e,"?"))),H.test(u)?(k.attributePatterns=k.attributePatterns||[],n.pattern=RegExp("^"+u.replace(/([?+*])/g,".$1")+"$"),k.attributePatterns.push(n)):(v[u]||s.push(u),
v[u]=n));w||"@"!=m||(w=v,l=s);B&&(k.outputName=m,t[B]=k);H.test(m)?(k.pattern=RegExp("^"+m.replace(/([?+*])/g,".$1")+"$"),A.push(k)):t[m]=k}}function n(a){t={};A=[];g(a);b(J,function(a,b){u[b]=a.children})}function v(a){var d=/^(~)?(.+)$/;a&&(c.text_block_elements=c.block_elements=null,b(h(a,","),function(a){a=d.exec(a);var c="~"===a[1],g=c?"span":"div",f=a[2];u[f]=u[g];S[f]=g;c||(I[f.toUpperCase()]={},I[f]={});t[f]||(a=t[g],a=k({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,t[f]=a);b(u,function(a,
b){a[g]&&(u[b]=a=k({},u[b]),a[f]=a[g])})}))}function w(a){var d=/^([+\-]?)(\w+)\[([^\]]+)\]$/;c[f.schema]=null;a&&b(h(a,","),function(a){a=d.exec(a);var c,g;a&&(c=(g=a[1])?u[a[2]]:u[a[2]]={"#comment":{}},c=u[a[2]],b(h(a[3],"|"),function(a){"-"===g?delete c[a]:c[a]={}}))})}function p(a){var b=t[a],c;if(b)return b;for(c=A.length;c--;)if(b=A[c],b.pattern.test(a))return b}var t={},u={},A=[],l,y,J,B,G,H,F,C,I,K,N,x,E,S={},L={};f=f||{};J=e(f.schema,f);!1===f.verify_html&&(f.valid_elements="*[*]");l=d(f.valid_styles);
y=d(f.invalid_styles,"map");C=d(f.valid_classes,"map");B=m("whitespace_elements","pre script noscript style textarea video audio iframe object code");G=m("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");H=m("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");F=m("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");
K=m("non_empty_elements","td th iframe video audio object script pre code",H);N=m("move_caret_before_on_enter_elements","table",K);x=m("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");I=m("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",x);E=m("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");
b((f.special||"script noscript style textarea").split(" "),function(a){L[a]=RegExp("</"+a+"[^>]*>","gi")});f.valid_elements?n(f.valid_elements):(b(J,function(a,b){t[b]={attributes:a.attributes,attributesOrder:a.attributesOrder};u[b]=a.children}),"html5"!=f.schema&&b(h("strong/b em/i"),function(a){a=h(a,"/");t[a[1]].outputName=a[0]}),b(h("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){t[a]&&(t[a].removeEmpty=!0)}),b(h("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),
function(a){t[a].paddEmpty=!0}),b(h("span"),function(a){t[a].removeEmptyAttrs=!0}));v(f.custom_elements);w(f.valid_children);g(f.extended_valid_elements);w("+ol[ul|ol],+ul[ul|ol]");b({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(a,b){t[b]&&(t[b].parentsRequired=h(a))});f.invalid_elements&&b(q(f.invalid_elements),function(a){t[a]&&delete t[a]});p("span")||g("span[!data-mce-type|*]");
this.children=u;this.getValidStyles=function(){return l};this.getInvalidStyles=function(){return y};this.getValidClasses=function(){return C};this.getBoolAttrs=function(){return F};this.getBlockElements=function(){return I};this.getTextBlockElements=function(){return x};this.getTextInlineElements=function(){return E};this.getShortEndedElements=function(){return H};this.getSelfClosingElements=function(){return G};this.getNonEmptyElements=function(){return K};this.getMoveCaretBeforeOnEnterElements=
function(){return N};this.getWhiteSpaceElements=function(){return B};this.getSpecialElements=function(){return L};this.isValidChild=function(a,b){var c=u[a];return!(!c||!c[b])};this.isValid=function(a,b){var c,d;if(c=p(a))if(b){if(c.attributes[b])return!0;if(c=c.attributePatterns)for(d=c.length;d--;)if(c[d].pattern.test(a))return!0}else return!0;return!1};this.getElementRule=p;this.getCustomElements=function(){return S};this.addValidElements=g;this.setValidElements=n;this.addCustomElements=v;this.addValidChildren=
w;this.elements=t}});x("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(l,h,e){function d(a,b,c){var d=1,f,e;e=a.getShortEndedElements();a=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(a.lastIndex=c;f=a.exec(b);){c=a.lastIndex;if("/"===f[1])d--;else if(!f[1]){if(f[2]in e)continue;d++}if(0===d)break}return c}function c(a,b){function c(){}var q=this;a=a||{};q.schema=b=b||new l;!1!==a.fix_self_closing&&
(a.fix_self_closing=!0);f("comment cdata text start end pi doctype".split(" "),function(b){b&&(q[b]=a[b]||c)});q.parse=function(c){function f(a){var b,c;for(b=t.length;b--&&t[b].name!==a;);if(0<=b){for(c=t.length-1;c>=b;c--)a=t[c],a.valid&&g.end(a.name);t.length=b}}function k(b,c,d,g,f){b=/[\s\u0000-\u001F]+/g;c=c.toLowerCase();d=c in H?c:D(d||g||f||"");if(F&&!J&&0!==c.indexOf("data-")){g=x[c];if(!g&&E){for(f=E.length;f--&&(g=E[f],!g.pattern.test(c)););-1===f&&(g=null)}if(!g||g.validValues&&!(d in
g.validValues))return}if(W[c]&&!a.allow_script_urls){b=d.replace(b,"");try{b=decodeURIComponent(b)}catch(e){b=unescape(b)}if(X.test(b)||!a.allow_html_data_urls&&V.test(b)&&!/^data:image\//i.test(b))return}u.map[c]=d;u.push({name:c,value:d})}var g=this,n,q=0,w,p,t=[],u,A,l,y,J,B,G,H,F,C,I,K,N,x,E,S,L,Z,O,M,U,T=0,D=h.decode,Q,W=e.makeMap("src,href,data,background,formaction,poster"),X=/((java|vb)script|mhtml):/i,V=/^data:/i;O=RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))",
"g");M=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;G=b.getShortEndedElements();Z=a.self_closing_elements||b.getSelfClosingElements();H=b.getBoolAttrs();F=a.validate;B=a.remove_internals;Q=a.fix_self_closing;for(U=b.getSpecialElements();n=O.exec(c);){q<n.index&&g.text(D(c.substr(q,n.index-q)));if(w=n[6])w=w.toLowerCase(),":"===w.charAt(0)&&(w=w.substr(1)),f(w);else if(w=n[7]){w=w.toLowerCase();":"===w.charAt(0)&&(w=w.substr(1));q=w in G;Q&&Z[w]&&0<t.length&&t[t.length-
1].name===w&&f(w);if(!F||(C=b.getElementRule(w))){I=!0;F&&(x=C.attributes,E=C.attributePatterns);(N=n[8])?((J=-1!==N.indexOf("data-mce-type"))&&B&&(I=!1),u=[],u.map={},N.replace(M,k)):(u=[],u.map={});if(F&&!J){p=C.attributesRequired;S=C.attributesDefault;L=C.attributesForced;(A=C.removeEmptyAttrs)&&!u.length&&(I=!1);if(L)for(A=L.length;A--;)K=L[A],y=K.name,K=K.value,"{$uid}"===K&&(K="mce_"+T++),u.map[y]=K,u.push({name:y,value:K});if(S)for(A=S.length;A--;)K=S[A],y=K.name,y in u.map||(K=K.value,"{$uid}"===
K&&(K="mce_"+T++),u.map[y]=K,u.push({name:y,value:K}));if(p){for(A=p.length;A--&&!(p[A]in u.map););-1===A&&(I=!1)}if(K=u.map["data-mce-bogus"]){if("all"===K){q=d(b,c,O.lastIndex);O.lastIndex=q;continue}I=!1}}I&&g.start(w,u,q)}else I=!1;if(p=U[w]){p.lastIndex=q=n.index+n[0].length;(n=p.exec(c))?(I&&(l=c.substr(q,n.index-q)),q=n.index+n[0].length):(l=c.substr(q),q=c.length);I&&(0<l.length&&g.text(l,!0),g.end(w));O.lastIndex=q;continue}q||(N&&N.indexOf("/")==N.length-1?I&&g.end(w):t.push({name:w,valid:I}))}else(w=
n[1])?(">"===w.charAt(0)&&(w=" "+w),a.allow_conditional_comments||"[if"!==w.substr(0,3).toLowerCase()||(w=" "+w),g.comment(w)):(w=n[2])?g.cdata(w):(w=n[3])?g.doctype(w):(w=n[4])&&g.pi(w,n[5]);q=n.index+n[0].length}q<c.length&&g.text(D(c.substr(q)));for(A=t.length-1;0<=A;A--)w=t[A],w.valid&&g.end(w.name)}}var f=e.each;c.findEndTag=d;return c});x("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(l,h,e,d){var c=d.makeMap,f=d.each,
a=d.explode,b=d.extend,k=function(a,b){a.padd_empty_with_br?b.empty().append(new l("br","1")).shortEnded=!0:b.empty().append(new l("#text","3")).value="\u00a0"};return function(q,r){function s(a){var b,d,g,f,e,k,n,q,v,s,h,w,K,x;h=c("tr,td,th,tbody,thead,tfoot,table");v=r.getNonEmptyElements();s=r.getWhiteSpaceElements();w=r.getTextBlockElements();K=r.getSpecialElements();for(b=0;b<a.length;b++)if(d=a[b],d.parent&&!d.fixed)if(w[d.name]&&"li"==d.parent.name){for(g=d.next;g;){if(w[g.name])g.name="li",
g.fixed=!0,d.parent.insert(g,d.parent);else break;g=g.next}d.unwrap(d)}else{f=[d];for(g=d.parent;g&&!r.isValidChild(g.name,d.name)&&!h[g.name];g=g.parent)f.push(g);if(g&&1<f.length){f.reverse();e=k=m.filterNode(f[0].clone());for(q=0;q<f.length-1;q++){r.isValidChild(k.name,f[q].name)?(n=m.filterNode(f[q].clone()),k.append(n)):n=k;for(k=f[q].firstChild;k&&k!=f[q+1];)x=k.next,n.append(k),k=x;k=n}e.isEmpty(v,s)?g.insert(d,f[0],!0):(g.insert(e,f[0],!0),g.insert(d,e));g=f[0];(g.isEmpty(v,s)||g&&g.firstChild===
g.lastChild&&"br"===g.firstChild.name)&&g.empty().remove()}else d.parent&&("li"===d.name?(g=d.prev,!g||"ul"!==g.name&&"ul"!==g.name?(g=d.next,!g||"ul"!==g.name&&"ul"!==g.name?d.wrap(m.filterNode(new l("ul",1))):g.insert(d,g.firstChild,!0)):g.append(d)):r.isValidChild(d.parent.name,"div")&&r.isValidChild("div",d.name)?d.wrap(m.filterNode(new l("div",1))):K[d.name]?d.empty().remove():d.unwrap())}}var m=this,g={},n=[],v={},w={};q=q||{};q.validate="validate"in q?q.validate:!0;q.root_name=q.root_name||
"body";m.schema=r=r||new h;m.filterNode=function(a){var b,c,d;c in g&&((d=v[c])?d.push(a):v[c]=[a]);for(b=n.length;b--;)c=n[b].name,c in a.attributes.map&&((d=w[c])?d.push(a):w[c]=[a]);return a};m.addNodeFilter=function(b,c){f(a(b),function(a){var b=g[a];b||(g[a]=b=[]);b.push(c)})};m.addAttributeFilter=function(b,c){f(a(b),function(a){var b;for(b=0;b<n.length;b++)if(n[b].name===a){n[b].callbacks.push(c);return}n.push({name:a,callbacks:[c]})})};m.parse=function(a,d){function f(){function a(c){c&&((b=
c.firstChild)&&3==b.type&&(b.value=b.value.replace(R,"")),(b=c.lastChild)&&3==b.type&&(b.value=b.value.replace(L,"")))}var b=J.firstChild,c,d;if(r.isValidChild(J.name,D.toLowerCase())){for(;b;)c=b.next,3==b.type||1==b.type&&"p"!==b.name&&!x[b.name]&&!b.attr("data-mce-type")?(d||(d=m(D,1),d.attr(q.forced_root_block_attrs),J.insert(d,b)),d.append(b)):(a(d),d=null),b=c;a(d)}}function m(a,b){var c=new l(a,b),d;a in g&&((d=v[a])?d.push(c):v[a]=[c]);return c}function h(a){var b,c=r.getBlockElements();for(a=
a.prev;a&&3===a.type;){b=a.value.replace(L,"");if(0<b.length){a.value=b;break}if(b=a.next){if(3==b.type&&b.value.length){a=a.prev;continue}if(!c[b.name]&&"script"!=b.name&&"style"!=b.name){a=a.prev;continue}}b=a.prev;a.remove();a=b}}var y,J,B,G,H,F,C,I,K,x,R,E=[],S,L,Z,O,M,U,T,D;d=d||{};v={};w={};x=b(c("script,style,head,html,body,title,meta,param"),r.getBlockElements());T=r.getNonEmptyElements();U=r.children;K=q.validate;D="forced_root_block"in d?d.forced_root_block:q.forced_root_block;M=r.getWhiteSpaceElements();
R=/^[ \t\r\n]+/;L=/[ \t\r\n]+$/;Z=/[ \t\r\n]+/g;O=/^[ \t\r\n]+$/;y=new e({validate:K,allow_script_urls:q.allow_script_urls,allow_conditional_comments:q.allow_conditional_comments,self_closing_elements:function(a){var b,c={};for(b in a)"li"!==b&&"p"!=b&&(c[b]=a[b]);return c}(r.getSelfClosingElements()),cdata:function(a){B.append(m("#cdata",4)).value=a},text:function(a,b){var c;S||(a=a.replace(Z," "),B.lastChild&&x[B.lastChild.name]&&(a=a.replace(R,"")));0!==a.length&&(c=m("#text",3),c.raw=!!b,B.append(c).value=
a)},comment:function(a){B.append(m("#comment",8)).value=a},pi:function(a,b){B.append(m(a,7)).value=b;h(B)},doctype:function(a){B.append(m("#doctype",10)).value=a;h(B)},start:function(a,b,c){var d,g,f;if(d=K?r.getElementRule(a):{}){d=m(d.outputName||a,1);d.attributes=b;d.shortEnded=c;B.append(d);(g=U[B.name])&&U[d.name]&&!g[d.name]&&E.push(d);for(g=n.length;g--;)f=n[g].name,f in b.map&&((I=w[f])?I.push(d):w[f]=[d]);x[a]&&h(d);c||(B=d);!S&&M[a]&&(S=!0)}},end:function(a){var b,c,d,g;if(c=K?r.getElementRule(a):
{}){if(x[a]&&!S){if((b=B.firstChild)&&3===b.type)if(d=b.value.replace(R,""),0<d.length)b.value=d;else for(g=b.next,b.remove(),b=g;b&&3===b.type;)d=b.value,g=b.next,(0===d.length||O.test(d))&&b.remove(),b=g;if((b=B.lastChild)&&3===b.type)if(d=b.value.replace(L,""),0<d.length)b.value=d;else for(g=b.prev,b.remove(),b=g;b&&3===b.type;)d=b.value,g=b.prev,(0===d.length||O.test(d))&&b.remove(),b=g}S&&M[a]&&(S=!1);if((c.removeEmpty||c.paddEmpty)&&B.isEmpty(T,M))if(c.paddEmpty)k(q,B);else if(!B.attributes.map.name&&
!B.attributes.map.id){a=B.parent;x[B.name]?B.empty().remove():B.unwrap();B=a;return}B=B.parent}}},r);J=B=new l(d.context||q.root_name,11);y.parse(a);K&&E.length&&(d.context?d.invalid=!0:s(E));D&&("body"==J.name||d.isRootContent)&&f();if(!d.invalid){for(C in v){I=g[C];y=v[C];for(F=y.length;F--;)y[F].parent||y.splice(F,1);G=0;for(H=I.length;G<H;G++)I[G](y,C,d)}G=0;for(H=n.length;G<H;G++)if(I=n[G],I.name in w){y=w[I.name];for(F=y.length;F--;)y[F].parent||y.splice(F,1);F=0;for(C=I.callbacks.length;F<
C;F++)I.callbacks[F](y,I.name,d)}}return J};q.remove_trailing_brs&&m.addNodeFilter("br",function(a){var c,d=a.length,g,f=b({},r.getBlockElements()),e=r.getNonEmptyElements(),n,m,v,h=r.getNonEmptyElements();f.body=1;for(c=0;c<d;c++)if(g=a[c],n=g.parent,f[g.parent.name]&&g===n.lastChild){for(m=g.prev;m;){v=m.name;if("span"!==v||"bookmark"!==m.attr("data-mce-type")){if("br"!==v)break;if("br"===v){g=null;break}}m=m.prev}g&&(g.remove(),n.isEmpty(e,h)&&(g=r.getElementRule(n.name))&&(g.removeEmpty?n.remove():
g.paddEmpty&&k(q,n)))}else{for(m=g;n&&n.firstChild===m&&n.lastChild===m;){m=n;if(f[n.name])break;n=n.parent}m===n&&!0!==q.padd_empty_with_br&&(n=new l("#text",3),n.value="\u00a0",g.replace(n))}});q.allow_unsafe_link_target||m.addAttributeFilter("href",function(a){function b(a){var c=RegExp("("+k.replace(" ","|")+")","g");a&&(a=d.trim(a.replace(c,"")));return a?a:null}function c(a,d){var g;g=d?(g=b(a))?[g,k].join(" "):k:b(a);return g}for(var g=a.length,f,e,k="noopener noreferrer";g--;)f=a[g],e=f.attr("rel"),
"a"===f.name&&f.attr("rel",c(e,"_blank"==f.attr("target")))});q.allow_html_in_named_anchor||m.addAttributeFilter("id,name",function(a){for(var b=a.length,c,d,g,f;b--;)if(f=a[b],"a"===f.name&&f.firstChild&&!f.attr("href")){g=f.parent;c=f.lastChild;do d=c.prev,g.insert(c,f),c=d;while(c)}});q.fix_list_elements&&m.addNodeFilter("ul,ol",function(a){for(var b=a.length,c,d;b--;)if(c=a[b],d=c.parent,"ul"===d.name||"ol"===d.name)c.prev&&"li"===c.prev.name?c.prev.append(c):(d=new l("li",1),d.attr("style","list-style-type: none"),
c.wrap(d))});q.validate&&r.getValidClasses()&&m.addAttributeFilter("class",function(a){for(var b=a.length,c,d,g,f,e,k=r.getValidClasses(),n,m;b--;){c=a[b];d=c.attr("class").split(" ");e="";for(g=0;g<d.length;g++)f=d[g],m=!1,(n=k["*"])&&n[f]&&(m=!0),n=k[c.name],!m&&n&&n[f]&&(m=!0),m&&(e&&(e+=" "),e+=f);e.length||(e=null);c.attr("class",e)}})}});x("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(l,h){var e=h.makeMap;return function(d){var c=[],f,a,b,k,q;d=d||{};f=d.indent;
a=e(d.indent_before||"");b=e(d.indent_after||"");k=l.getEncodeFunc(d.entity_encoding||"raw",d.entities);q="html"==d.element_format;return{start:function(d,e,m){var g,n,v;f&&a[d]&&0<c.length&&(g=c[c.length-1],0<g.length&&"\n"!==g&&c.push("\n"));c.push("<",d);if(e)for(g=0,n=e.length;g<n;g++)v=e[g],c.push(" ",v.name,'="',k(v.value,!0),'"');c[c.length]=!m||q?">":" />";m&&f&&b[d]&&0<c.length&&(g=c[c.length-1],0<g.length&&"\n"!==g&&c.push("\n"))},end:function(a){c.push("</",a,">");f&&b[a]&&0<c.length&&
(a=c[c.length-1],0<a.length&&"\n"!==a&&c.push("\n"))},text:function(a,b){0<a.length&&(c[c.length]=b?a:k(a))},cdata:function(a){c.push("<![CDATA[",a,"]]\x3e")},comment:function(a){c.push("\x3c!--",a,"--\x3e")},pi:function(a,b){b?c.push("<?",a," ",k(b),"?>"):c.push("<?",a,"?>");f&&c.push("\n")},doctype:function(a){c.push("<!DOCTYPE",a,">",f?"\n":"")},reset:function(){c.length=0},getContent:function(){return c.join("").replace(/\n$/,"")}}}});x("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],
function(l,h){return function(e,d){var c=new l(e);e=e||{};e.validate="validate"in e?e.validate:!0;this.schema=d=d||new h;this.writer=c;this.serialize=function(f){function a(f){var e=b[f.type],h,m,g,n,v,w,p,t;if(e)e(f);else{e=f.name;h=f.shortEnded;m=f.attributes;if(k&&m&&1<m.length&&(v=[],v.map={},t=d.getElementRule(f.name))){w=0;for(p=t.attributesOrder.length;w<p;w++)g=t.attributesOrder[w],g in m.map&&(n=m.map[g],v.map[g]=n,v.push({name:g,value:n}));w=0;for(p=m.length;w<p;w++)g=m[w].name,g in v.map||
(n=m.map[g],v.map[g]=n,v.push({name:g,value:n}));m=v}c.start(f.name,m,h);if(!h){if(f=f.firstChild){do a(f);while(f=f.next)}c.end(e)}}}var b,k;k=e.validate;b={3:function(a){c.text(a.value,a.raw)},8:function(a){c.comment(a.value)},7:function(a){c.pi(a.name,a.value)},10:function(a){c.doctype(a.value)},4:function(a){c.cdata(a.value)},11:function(b){if(b=b.firstChild){do a(b);while(b=b.next)}}};c.reset();if(1!=f.type||e.inner)b[11](f);else a(f);return c.getContent()}}});x("tinymce/dom/Serializer","tinymce/dom/DOMUtils tinymce/html/DomParser tinymce/html/SaxParser tinymce/html/Entities tinymce/html/Serializer tinymce/html/Node tinymce/html/Schema tinymce/Env tinymce/util/Tools tinymce/text/Zwsp".split(" "),
function(l,h,e,d,c,f,a,b,k,q){function r(a){var b;(a=a.lastChild)&&"br"===a.name&&(b=a.prev)&&"br"===b.name&&(a.remove(),b.remove())}var s=k.each,m=k.trim,g=l.DOM;return function(f,v){function w(a){var b=RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+z.join("|")+')="[^"]+"'].join("|"),"gi");return a=q.trim(a.replace(b,""))}function p(a){var b=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c,d,g,f,k=v.schema;a=w(a);for(f=k.getShortEndedElements();c=b.exec(a);)d=b.lastIndex,g=c[0].length,
c=f[c[1]]?d:e.findEndTag(k,a,d),a=a.substring(0,d-g)+a.substring(c),b.lastIndex=d-g;return a}var t,u,l,z=["data-mce-selected"];v&&(t=v.dom,u=v.schema);t=t||g;u=u||new a(f);f.entity_encoding=f.entity_encoding||"named";f.remove_trailing_brs="remove_trailing_brs"in f?f.remove_trailing_brs:!0;l=new h(f,u);l.addAttributeFilter("data-mce-tabindex",function(a,b){for(var c=a.length,d;c--;)d=a[c],d.attr("tabindex",d.attributes.map["data-mce-tabindex"]),d.attr(b,null)});l.addAttributeFilter("src,href,style",
function(a,b){for(var c=a.length,d,g,e="data-mce-"+b,k=f.url_converter,m=f.url_converter_scope;c--;)d=a[c],g=d.attributes.map[e],void 0!==g?(d.attr(b,0<g.length?g:null),d.attr(e,null)):(g=d.attributes.map[b],"style"===b?g=t.serializeStyle(t.parseStyle(g),d.name):k&&(g=k.call(m,g,b,d.name)),d.attr(b,0<g.length?g:null))});l.addAttributeFilter("class",function(a){for(var b=a.length,c,d;b--;)if(c=a[b],d=c.attr("class"))d=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",0<d.length?
d:null)});l.addAttributeFilter("data-mce-type",function(a,b,c){b=a.length;for(var d;b--;)d=a[b],"bookmark"!==d.attributes.map["data-mce-type"]||c.cleanup||d.remove()});l.addNodeFilter("noscript",function(a){for(var b=a.length,c;b--;)if(c=a[b].firstChild)c.value=d.decode(c.value)});l.addNodeFilter("script,style",function(a,b){function c(a){return a.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((\x3c!--)?(\s*\/\/)?\s*<!\[CDATA\[|(\x3c!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*\x3c!--|\/\*\s*\x3c!--\s*\*\/)\s*[\r\n]*/gi,
"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(--\x3e)?|\s*\/\/\s*\]\]>(--\x3e)?|\/\/\s*(--\x3e)?|\]\]>|\/\*\s*--\x3e\s*\*\/|\s*--\x3e\s*)\s*$/g,"")}for(var d=a.length,g,f,e;d--;)g=a[d],f=g.firstChild?g.firstChild.value:"","script"===b?((e=g.attr("type"))&&g.attr("type","mce-no/type"==e?null:e.replace(/^mce\-/,"")),0<f.length&&(g.firstChild.value="// <![CDATA[\n"+c(f)+"\n// ]]\x3e")):0<f.length&&(g.firstChild.value="\x3c!--\n"+c(f)+"\n--\x3e")});l.addNodeFilter("#comment",function(a){for(var b=a.length,c;b--;)c=
a[b],0===c.value.indexOf("[CDATA[")?(c.name="#cdata",c.type=4,c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===c.value.indexOf("mce:protected ")&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))});l.addNodeFilter("xml:namespace,input",function(a,b){for(var c=a.length,d;c--;)d=a[c],7===d.type?d.remove():1===d.type&&("input"!==b||"type"in d.attributes.map||d.attr("type","text"))});l.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",
function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)});return{schema:u,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:function(a,d){var g,e,k,p;b.ie&&0<t.select("script,style,select,map").length?(g=a.innerHTML,a=a.cloneNode(!1),t.setHTML(a,g)):a=a.cloneNode(!0);g=document.implementation;g.createHTMLDocument&&(e=g.createHTMLDocument(""),s("BODY"==a.nodeName?a.childNodes:[a],function(a){e.body.appendChild(e.importNode(a,!0))}),a="BODY"!=a.nodeName?e.body.firstChild:
e.body,k=t.doc,t.doc=e);d=d||{};d.format=d.format||"html";d.selection&&(d.forced_root_block="");d.no_events||(d.node=a,this.onPreProcess(d));p=l.parse(m(d.getInner?a.innerHTML:t.getOuterHTML(a)),d);r(p);g=new c(f,u);d.content=g.serialize(p);d.cleanup||(d.content=q.trim(d.content),d.content=d.content.replace(/\uFEFF/g,""));if(!d.no_events)this.onPostProcess(d);k&&(t.doc=k);d.node=null;return d.content},addRules:function(a){u.addValidElements(a)},setRules:function(a){u.setValidElements(a)},onPreProcess:function(a){v&&
v.fire("PreProcess",a)},onPostProcess:function(a){v&&v.fire("PostProcess",a)},addTempAttr:function(a){-1===k.inArray(z,a)&&(l.addAttributeFilter(a,function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)}),z.push(a))},trimHtml:w,getTrimmedContent:function(){return p(v.getBody().innerHTML)},trimContent:p}}});x("tinymce/dom/TridentSelection",[],function(){return function(l){function h(c,a){var b,d=0,e,h,s,m,g,n=-1,v;b=c.duplicate();b.collapse(a);v=b.parentElement();if(v.ownerDocument===l.dom.doc){for(;"false"===
v.contentEditable;)v=v.parentNode;if(!v.hasChildNodes())return{node:v,inside:1};s=v.children;for(e=s.length-1;d<=e;)if(g=Math.floor((d+e)/2),m=s[g],b.moveToElementText(m),n=b.compareEndPoints(a?"StartToStart":"EndToEnd",c),0<n)e=g-1;else if(0>n)d=g+1;else return{node:m};if(0>n)for(m?b.collapse(!1):(b.moveToElementText(v),b.collapse(!0),m=v,h=!0),d=0;0!==b.compareEndPoints(a?"StartToStart":"StartToEnd",c)&&0!==b.move("character",1)&&v==b.parentElement();)d++;else for(b.collapse(!0),d=0;0!==b.compareEndPoints(a?
"StartToStart":"StartToEnd",c)&&0!==b.move("character",-1)&&v==b.parentElement();)d++;return{node:m,position:n,offset:d,inside:h}}}var e=this,d=l.dom,c=!1;this.getBookmark=function(c){function a(a){var b,c,g,f,e=[];b=a.parentNode;for(c=d.getRoot().parentNode;b!=c&&9!==b.nodeType;){g=b.children;for(f=g.length;f--;)if(a===g[f]){e.push(f);break}a=b;b=b.parentNode}return e}function b(b){if(b=h(e,b))return{position:b.position,offset:b.offset,indexes:a(b.node),inside:b.inside}}var e=l.getRng(),q={};2===
c&&(e.item?q.start={ctrl:!0,indexes:a(e.item(0))}:(q.start=b(!0),l.isCollapsed()||(q.end=b())));return q};this.moveToBookmark=function(c){function a(a){var b,c,g,f;b=d.getRoot();for(c=a.length-1;0<=c;c--)f=b.children,g=a[c],g<=f.length-1&&(b=f[g]);return b}function b(b){var d=c[b?"start":"end"],m,g,n;d&&(m=0<d.position,g=q.createTextRange(),g.moveToElementText(a(d.indexes)),n=d.offset,void 0!==n?(g.collapse(d.inside||m),g.moveStart("character",m?-n:n)):g.collapse(b),e.setEndPoint(b?"StartToStart":
"EndToStart",g),b&&e.collapse(!0))}var e,q=d.doc.body;c.start&&(c.start.ctrl?(e=q.createControlRange(),e.addElement(a(c.start.indexes))):(e=q.createTextRange(),b(!0),b()),e.select())};this.addRange=function(f){function a(a){var f,e,k,p,v;k=d.create("a");f=a?q:s;e=a?h:m;p=b.duplicate();if(f==g||f==g.documentElement)f=n,e=0;3==f.nodeType?(f.parentNode.insertBefore(k,f),p.moveToElementText(k),p.moveStart("character",e),d.remove(k),b.setEndPoint(a?"StartToStart":"EndToEnd",p)):(v=f.childNodes,v.length?
(e>=v.length?d.insertAfter(k,v[v.length-1]):f.insertBefore(k,v[e]),p.moveToElementText(k)):f.canHaveHTML&&(f.innerHTML="<span>&#xFEFF;</span>",k=f.firstChild,p.moveToElementText(k),p.collapse(c)),b.setEndPoint(a?"StartToStart":"EndToEnd",p),d.remove(k))}var b,e,q,h,s,m,g=l.dom.doc,n=g.body,v,w;q=f.startContainer;h=f.startOffset;s=f.endContainer;m=f.endOffset;b=n.createTextRange();if(q==s&&1==q.nodeType){if(h==m&&!q.hasChildNodes()){if(q.canHaveHTML){(f=q.previousSibling)&&!f.hasChildNodes()&&d.isBlock(f)?
f.innerHTML="&#xFEFF;":f=null;q.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>";b.moveToElementText(q.lastChild);b.select();d.doc.selection.clear();q.innerHTML="";f&&(f.innerHTML="");return}h=d.nodeIndex(q);q=q.parentNode}if(h==m-1)try{if(w=q.childNodes[h],e=n.createControlRange(),e.addElement(w),e.select(),v=l.getRng(),v.item&&w===v.item(0))return}catch(p){}}a(!0);a();b.select()};this.getRangeAt=function(){function c(d){var f=h(a,d),e,k,m=0,q;e=f.node;k=f.offset;if(f.inside&&!e.hasChildNodes())b[d?
"setStart":"setEnd"](e,0);else if(void 0===k)b[d?"setStartBefore":"setEndAfter"](e);else{if(0>f.position){f=f.inside?e.firstChild:e.nextSibling;if(!f){b[d?"setStartAfter":"setEndAfter"](e);return}if(!k){if(3==f.nodeType)b[d?"setStart":"setEnd"](f,0);else b[d?"setStartBefore":"setEndBefore"](f);return}for(;f;){if(3==f.nodeType&&(q=f.nodeValue,m+=q.length,m>=k)){e=f;m-=k;m=q.length-m;break}f=f.nextSibling}}else{f=e.previousSibling;if(!f)return b[d?"setStartBefore":"setEndBefore"](e);if(!k){if(3==e.nodeType)b[d?
"setStart":"setEnd"](f,e.nodeValue.length);else b[d?"setStartAfter":"setEndAfter"](f);return}for(;f;){if(3==f.nodeType&&(m+=f.nodeValue.length,m>=k)){e=f;m-=k;break}f=f.previousSibling}}b[d?"setStart":"setEnd"](e,m)}}var a=l.getRng(),b=d.createRng(),k,q,r,s;k=a.item?a.item(0):a.parentElement();if(k.ownerDocument!=d.doc)return b;q=l.isCollapsed();if(a.item)return b.setStart(k.parentNode,d.nodeIndex(k)),b.setEnd(b.startContainer,b.startOffset+1),b;try{c(!0),q||c()}catch(m){if(-2147024809==m.number)s=
e.getBookmark(2),r=a.duplicate(),r.collapse(!0),k=r.parentElement(),q||(r=a.duplicate(),r.collapse(!1),r=r.parentElement(),r.innerHTML=r.innerHTML),k.innerHTML=k.innerHTML,e.moveToBookmark(s),a=l.getRng(),c(!0),q||c();else throw m;}return b}}});x("tinymce/util/VK",["tinymce/Env"],function(l){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(h){return h.shiftKey||h.ctrlKey||h.altKey||this.metaKeyPressed(h)},metaKeyPressed:function(h){return l.mac?
h.metaKey:h.ctrlKey&&!h.altKey}}});x("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(l,h,e,d,c){function f(c,d){for(;d&&d!=c;){if(b(d)||a(d))return d;d=d.parentNode}return null}var a=c.isContentEditableFalse,b=c.isContentEditableTrue;return function(b,c){function r(a){var b=c.settings.object_resizing;if(!1===b||d.iOS)return!1;"string"!=typeof b&&(b="table,img,div");return"false"===a.getAttribute("data-mce-resize")||
a==c.getBody()?!1:c.dom.is(a,b)}function s(a){var b,d,g;b=a.screenX-K;d=a.screenY-x;M=b*C[2]+S;U=d*C[3]+L;M=5>M?5:M;U=5>U?5:U;if("IMG"==B.nodeName&&!1!==c.settings.resize_img_proportional?!l.modifierPressed(a):l.modifierPressed(a)||"IMG"==B.nodeName&&0!==C[2]*C[3])W(b)>W(d)?(U=X(M*Z),M=X(U/Z)):(M=X(U/Z),U=X(M*Z));y.setStyles(G,{width:M,height:U});a=C.startPos.x+b;g=C.startPos.y+d;a=0<a?a:0;g=0<g?g:0;y.setStyles(H,{left:a,top:g,display:"block"});H.innerHTML=M+" &times; "+U;0>C[2]&&G.clientWidth<=M&&
y.setStyle(G,"left",R+(S-M));0>C[3]&&G.clientHeight<=U&&y.setStyle(G,"top",E+(L-U));b=V.scrollWidth-da;d=V.scrollHeight-ea;0!==b+d&&y.setStyles(H,{left:a-b,top:g-d});O||(c.fire("ObjectResizeStart",{target:B,width:S,height:L}),O=!0)}function m(){function a(b,d){d&&(B.style[b]||!c.schema.isValid(B.nodeName.toLowerCase(),b)?y.setStyle(B,b,d):y.setAttrib(B,b,d))}O=!1;a("width",M);a("height",U);y.unbind(T,"mousemove",s);y.unbind(T,"mouseup",m);D!=T&&(y.unbind(D,"mousemove",s),y.unbind(D,"mouseup",m));
y.remove(G);y.remove(H);Q&&"TABLE"!=B.nodeName||g(B);c.fire("ObjectResized",{target:B,width:M,height:U});y.setAttrib(B,"style",y.getAttrib(B,"style"));c.nodeChanged()}function g(a,b,g){var f,e,k;n();u();f=y.getPos(a,V);R=f.x;E=f.y;f=a.getBoundingClientRect();e=f.width||f.right-f.left;k=f.height||f.bottom-f.top;B!=a&&(t(),B=a,M=U=0);f=c.fire("ObjectSelected",{target:a});r(a)&&!f.isDefaultPrevented()?J(F,function(a,c){function f(b){K=b.screenX;x=b.screenY;S=B.clientWidth;L=B.clientHeight;Z=L/S;C=a;
a.startPos={x:e*a[0]+R,y:k*a[1]+E};da=V.scrollWidth;ea=V.scrollHeight;G=B.cloneNode(!0);y.addClass(G,"mce-clonedresizable");y.setAttrib(G,"data-mce-bogus","all");G.contentEditable=!1;G.unSelectabe=!0;y.setStyles(G,{left:R,top:E,margin:0});G.removeAttribute("data-mce-selected");V.appendChild(G);y.bind(T,"mousemove",s);y.bind(T,"mouseup",m);D!=T&&(y.bind(D,"mousemove",s),y.bind(D,"mouseup",m));H=y.add(V,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},S+" &times; "+L)}var n;b?c==b&&f(g):((n=
y.get("mceResizeHandle"+c))&&y.remove(n),n=y.add(V,"div",{id:"mceResizeHandle"+c,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+c+"-resize; margin:0; padding:0"}),d.ie&&(n.contentEditable=!1),y.bind(n,"mousedown",function(a){a.stopImmediatePropagation();a.preventDefault();f(a)}),a.elm=n,y.setStyles(n,{left:e*a[0]+R-n.offsetWidth/2,top:k*a[1]+E-n.offsetHeight/2}))}):n();B.setAttribute("data-mce-selected","1")}function n(){var a,b;u();B&&B.removeAttribute("data-mce-selected");
for(a in F)if(b=y.get("mceResizeHandle"+a))y.unbind(b),y.remove(b)}function v(a){function d(a,b){if(a){do if(a===b)return!0;while(a=a.parentNode)}}var f;if(!O&&!c.removed){J(y.select("img[data-mce-selected],hr[data-mce-selected]"),function(a){a.removeAttribute("data-mce-selected")});f="mousedown"==a.type?a.target:b.getNode();f=y.$(f).closest(Q?"table":"table,img,hr")[0];if(d(f,V)&&(A(),a=b.getStart(!0),d(a,f)&&d(b.getEnd(!0),f)&&(!Q||f!=a&&"IMG"!==a.nodeName))){g(f);return}n()}}function w(a){a=a.srcElement;
var b,d,f,e,k,m;b=a.getBoundingClientRect();k=I.clientX-b.left;m=I.clientY-b.top;for(d in F)if(b=F[d],f=a.offsetWidth*b[0],e=a.offsetHeight*b[1],8>W(f-k)&&8>W(e-m)){C=b;break}O=!0;c.fire("ObjectResizeStart",{target:B,width:B.clientWidth,height:B.clientHeight});c.getDoc().selection.empty();g(a,d,I)}function p(b){var d=b.srcElement;if(a(f(c.getBody(),d)))b.preventDefault?b.preventDefault():b.returnValue=!1;else if(d!=B)if(c.fire("ObjectSelected",{target:d}),t(),0===d.id.indexOf("mceResizeHandle"))b.returnValue=
!1;else if("IMG"==d.nodeName||"TABLE"==d.nodeName)n(),(B=d)&&d.attachEvent&&d.attachEvent("onresizestart",w)}function t(){B&&B.detachEvent&&B.detachEvent("onresizestart",w)}function u(){for(var a in F){var b=F[a];b.elm&&(y.unbind(b.elm),delete b.elm)}}function A(){try{c.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(a){}}function z(a){var b;if(Q){b=T.body.createControlRange();try{return b.addElement(a),b.select(),!0}catch(c){}}}var y=c.dom,J=h.each,B,G,H,F,C,I,K,x,R,E,S,L,Z,O,M,U,T=c.getDoc(),
D=document,Q=d.ie&&11>d.ie,W=Math.abs,X=Math.round,V=c.getBody(),da,ea;F={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};c.contentStyles.push(".mce-content-body div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: "+(zenarioAB.isOpen?31E4:1E4)+"}.mce-content-body .mce-resizehandle:hover {background: #000}.mce-content-body img[data-mce-selected],.mce-content-body hr[data-mce-selected] {outline: 1px solid black;resize: none}.mce-content-body .mce-clonedresizable {position: absolute;"+
(d.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: "+(zenarioAB.isOpen?31E4:1E4)+"}.mce-content-body .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");c.on("init",function(){Q?(c.on("ObjectResized",function(a){"TABLE"!=a.target.nodeName&&(n(),
z(a.target))}),V&&V.attachEvent&&V.attachEvent("oncontrolselect",p),c.on("mousedown",function(a){I=a})):(A(),11<=d.ie&&(c.on("mousedown click",function(b){var d=b.target,g=d.nodeName;O||!/^(TABLE|IMG|HR)$/.test(g)||a(f(c.getBody(),d))||(c.selection.select(d,"TABLE"==g),"mousedown"==b.type&&c.nodeChanged())}),c.dom.bind(V,"mscontrolselect",function(b){function d(a){e.setEditorTimeout(c,function(){c.selection.select(a)})}a(f(c.getBody(),b.target))?(b.preventDefault(),d(b.target)):/^(TABLE|IMG|HR)$/.test(b.target.nodeName)&&
(b.preventDefault(),"IMG"==b.target.tagName&&d(b.target))})));var b=e.throttle(function(a){c.composing||v(a)});c.on("nodechange ResizeEditor ResizeWindow drop",b);c.on("keyup compositionend",function(a){B&&"TABLE"==B.nodeName&&b(a)});c.on("hide blur",n)});c.on("remove",u);return{isResizable:r,showResizeRect:g,hideResizeRect:n,updateResizeRect:v,controlSelect:z,destroy:function(){B=G=null;Q&&(t(),V&&V.detachEvent&&V.detachEvent("oncontrolselect",p))}}}});x("tinymce/util/Fun",[],function(){function l(e){var d=
h.call(arguments);return d.length-1>=e.length?e.apply(this,d.slice(1)):function(){var c=d.concat([].slice.call(arguments));return l.apply(this,c)}}var h=[].slice;return{constant:function(e){return function(){return e}},negate:function(e){return function(d){return!e(d)}},and:function(){var e=h.call(arguments);return function(d){for(var c=0;c<e.length;c++)if(!e[c](d))return!1;return!0}},or:function(){var e=h.call(arguments);return function(d){for(var c=0;c<e.length;c++)if(e[c](d))return!0;return!1}},
curry:l,compose:function(e,d){return function(c){return e(d(c))}},noop:function(){}}});x("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(l,h,e){function d(a){return g(a)?!1:q(a)?r(a.parentNode)?!1:!0:s(a)||k(a)||m(a)||b(a)}function c(c,d){for(c=c.parentNode;c&&c!=d;c=c.parentNode){if(b(c))return!1;if(a(c))break}return!0}function f(c){return b(c)?!0!==h.reduce(c.getElementsByTagName("*"),function(b,c){return b||a(c)},!1):!1}var a=l.isContentEditableTrue,
b=l.isContentEditableFalse,k=l.isBr,q=l.isText,r=l.matchNodeNames("script style textarea"),s=l.matchNodeNames("img input textarea hr iframe video audio object"),m=l.matchNodeNames("table"),g=e.isCaretContainer;return{isCaretCandidate:d,isInEditable:c,isAtomic:function(a){return s(a)||f(a)},isEditableCaretCandidate:function(a,b){return d(a)&&c(a,b)}}});x("tinymce/geom/ClientRect",[],function(){function l(a){return a?{left:f(a.left),top:f(a.top),bottom:f(a.bottom),right:f(a.right),width:f(a.width),
height:f(a.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function h(a,b){return a.bottom<b.top?!0:a.top>b.bottom?!1:0<=b.top-a.bottom&&b.top-a.bottom<=Math.min(a.height,b.height)/2}function e(a,b){return a.top>b.bottom?!0:a.bottom<b.top?!1:0<=b.bottom-a.top&&b.bottom-a.top<=Math.min(a.height,b.height)/2}function d(a,b){return a.left<b.left}function c(a,b){return a.right>b.right}var f=Math.round;return{clone:l,collapse:function(a,b){a=l(a);b||(a.left+=a.width);a.right=a.left;a.width=0;
return a},isEqual:function(a,b){return a.left===b.left&&a.top===b.top&&a.bottom===b.bottom&&a.right===b.right},isAbove:h,isBelow:e,isLeft:d,isRight:c,compare:function(a,b){return h(a,b)?-1:e(a,b)?1:d(a,b)?-1:c(a,b)?1:0},containsXY:function(a,b,c){return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom}}});x("tinymce/text/ExtendingChar",[],function(){var l=RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");
return{isExtendingChar:function(h){return"string"==typeof h&&768<=h.charCodeAt(0)&&l.test(h)}}});x("tinymce/caret/CaretPosition","tinymce/util/Fun tinymce/dom/NodeType tinymce/dom/DOMUtils tinymce/dom/RangeUtils tinymce/caret/CaretCandidate tinymce/geom/ClientRect tinymce/text/ExtendingChar".split(" "),function(l,h,e,d,c,f,a){function b(a){return"createRange"in a?a.createRange():e.DOM.createRng()}function k(a){return a&&/[\r\n\t ]/.test(a)}function q(a){var b=a.startContainer,c=a.startOffset;return k(a.toString())&&
w(b.parentNode)&&(a=b.data,k(a[c-1])||k(a[c+1]))?!0:!1}function r(c){function d(a){var c;c=a.getClientRects();c=0<c.length?f.clone(c[0]):f.clone(a.getBoundingClientRect());if(t(a)&&0===c.left){var g=a.ownerDocument;c=b(g);var g=g.createTextNode("\u00a0"),e=a.parentNode;e.insertBefore(g,a);c.setStart(g,0);c.setEnd(g,1);a=f.clone(c.getBoundingClientRect());e.removeChild(g);return a}return c}function e(a,b){a=f.collapse(a,b);a.width=1;a.right=a.left+1;return a}function k(a){0===a.height||0<u.length&&
f.isEqual(a,u[u.length-1])||u.push(a)}function n(c,g){var f=b(c.ownerDocument);if(g<c.data.length){if(a.isExtendingChar(c.data[g]))return u;if(a.isExtendingChar(c.data[g-1])&&(f.setStart(c,g),f.setEnd(c,g+1),!q(f)))return k(e(d(f),!1)),u}0<g&&(f.setStart(c,g-1),f.setEnd(c,g),q(f)||k(e(d(f),!1)));g<c.data.length&&(f.setStart(c,g),f.setEnd(c,g+1),q(f)||k(e(d(f),!0)))}var u=[],h;if(p(c.container()))return n(c.container(),c.offset()),u;if(m(c.container()))if(c.isAtEnd())h=A(c.container(),c.offset()),
p(h)&&n(h,h.data.length),v(h)&&!t(h)&&k(e(d(h),!1));else{h=A(c.container(),c.offset());p(h)&&n(h,0);if(v(h)&&c.isAtEnd())return k(e(d(h),!1)),u;c=A(c.container(),c.offset()-1);v(c)&&!t(c)&&(g(c)||g(h)||!v(h))&&k(e(d(c),!1));v(h)&&k(e(d(h),!0))}return u}function s(a,c,d){function g(){d||(d=r(new s(a,c)));return d}return{container:l.constant(a),offset:l.constant(c),toRange:function(){var d;d=b(a.ownerDocument);d.setStart(a,c);d.setEnd(a,c);return d},getClientRects:g,isVisible:function(){return 0<g().length},
isAtStart:function(){p(a);return 0===c},isAtEnd:function(){return p(a)?c>=a.data.length:c>=a.childNodes.length},isEqual:function(b){return b&&a===b.container()&&c===b.offset()},getNode:function(b){return A(a,b?c-1:c)}}}var m=h.isElement;c=c.isCaretCandidate;var g=h.matchStyleValues("display","block table"),n=h.matchStyleValues("float","left right"),v=l.and(m,c,l.negate(n)),w=l.negate(h.matchStyleValues("white-space","pre pre-line pre-wrap")),p=h.isText,t=h.isBr,u=e.nodeIndex,A=d.getNode;s.fromRangeStart=
function(a){return new s(a.startContainer,a.startOffset)};s.fromRangeEnd=function(a){return new s(a.endContainer,a.endOffset)};s.after=function(a){return new s(a.parentNode,u(a)+1)};s.before=function(a){return new s(a.parentNode,u(a))};return s});x("tinymce/caret/CaretBookmark",["tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/caret/CaretPosition"],function(l,h,e,d,c){function f(a){a=a.parentNode;return v(a)?f(a):a}function a(b){return b?d.reduce(b.childNodes,
function(b,c){v(c)&&"BR"!=c.nodeName?b=b.concat(a(c)):b.push(c);return b},[]):[]}function b(a,b){for(;(a=a.previousSibling)&&n(a);)b+=a.data.length;return b}function k(a){return function(b){return a===b}}function q(b){var c,g,e;c=a(f(b));g=d.findIndex(c,k(b),b);c=c.slice(0,g+1);e=d.reduce(c,function(a,b,d){n(b)&&n(c[d-1])&&a++;return a},0);c=d.filter(c,l.matchNodeNames(b.nodeName));g=d.findIndex(c,k(b),b);return g-e}function r(a){return(n(a)?"text()":a.nodeName.toLowerCase())+"["+q(a)+"]"}function s(a,
b,c){var d=[];for(b=b.parentNode;!(b==a||c&&c(b));b=b.parentNode)d.push(b);return d}function m(b,c,g){var f=a(b),f=d.filter(f,function(a,b){return!n(a)||!n(f[b-1])}),f=d.filter(f,l.matchNodeNames(c));return f[g]}function g(a,b){for(var d=a,g=0,f;n(d);){f=d.data.length;if(b>=g&&b<=g+f){a=d;b-=g;break}if(!n(d.nextSibling)){a=d;b=f;break}g+=f;d=d.nextSibling}b>a.data.length&&(b=a.data.length);return new c(a,b)}var n=l.isText,v=l.isBogus,w=h.nodeIndex;return{create:function(a,c){var g,f,k=[],m;g=c.container();
f=c.offset();n(g)?m=b(g,f):(g=g.childNodes,f>=g.length?(m="after",f=g.length-1):m="before",g=g[f]);k.push(r(g));f=s(a,g);f=d.filter(f,e.negate(l.isBogus));k=k.concat(d.map(f,function(a){return r(a)}));return k.reverse().join("/")+","+m},resolve:function(a,b){var f,e;if(!b)return null;f=b.split(",");b=f[0].split("/");e=1<f.length?f[1]:"before";f=d.reduce(b,function(a,b){b=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);if(!b)return null;"text()"===b[1]&&(b[1]="#text");return m(a,b[1],parseInt(b[2],10))},a);return f?
n(f)?g(f,parseInt(e,10)):(e="after"===e?w(f)+1:w(f),new c(f.parentNode,e)):null}}});x("tinymce/dom/BookmarkManager","tinymce/Env tinymce/util/Tools tinymce/caret/CaretContainer tinymce/caret/CaretBookmark tinymce/caret/CaretPosition tinymce/dom/NodeType tinymce/dom/RangeUtils".split(" "),function(l,h,e,d,c,f,a){function b(b){var r=b.dom;this.getBookmark=function(s,m){function g(a,b){var c=0;h.each(r.select(a),function(a){if("all"!==a.getAttribute("data-mce-bogus")){if(a==b)return!1;c++}});return c}
function n(a){function b(c){var d,g;g=c?"start":"end";d=a[g+"Container"];g=a[g+"Offset"];1==d.nodeType&&"TR"==d.nodeName&&(d=d.childNodes,d=d[Math.min(c?g:g-1,d.length-1)])&&(g=c?0:d.childNodes.length,a["set"+(c?"Start":"End")](d,g))}b(!0);b();return a}function v(a){function c(a,b){var g=a[b?"startContainer":"endContainer"],f=a[b?"startOffset":"endOffset"],e=[],k,n=0;if(3==g.nodeType){if(m)for(k=g.previousSibling;k&&3==k.nodeType;k=k.previousSibling)f+=k.nodeValue.length;e.push(f)}else k=g.childNodes,
f>=k.length&&k.length&&(n=1,f=Math.max(0,k.length-1)),e.push(r.nodeIndex(k[f],m)+n);for(;g&&g!=d;g=g.parentNode)e.push(r.nodeIndex(g,m));return e}var d=r.getRoot(),g={};g.start=c(a,!0);b.isCollapsed()||(g.end=c(a));return g}function l(b){function c(b,d){var g;if(f.isElement(b)&&(b=a.getNode(b,d),k(b)))return b;if(e.isCaretContainer(b)){f.isText(b)&&e.isCaretContainerBlock(b)&&(b=b.parentNode);g=b.previousSibling;if(k(g))return g;g=b.nextSibling;if(k(g))return g}}return c(b.startContainer,b.startOffset)||
c(b.endContainer,b.endOffset)}var p,t,u,A,z;if(2==s)return t=(z=b.getNode())?z.nodeName:null,p=b.getRng(),k(z)||"IMG"==t?{name:t,index:g(t,z)}:b.tridentSel?b.tridentSel.getBookmark(s):(z=l(p))?(t=z.tagName,{name:t,index:g(t,z)}):v(p);if(3==s)return p=b.getRng(),{start:d.create(r.getRoot(),c.fromRangeStart(p)),end:d.create(r.getRoot(),c.fromRangeEnd(p))};if(s)return{rng:b.getRng()};p=b.getRng();u=r.uniqueId();A=b.isCollapsed();if(p.duplicate||p.item){if(p.item)return z=p.item(0),t=z.nodeName,{name:t,
index:g(t,z)};t=p.duplicate();try{p.collapse(),p.pasteHTML('<span data-mce-type="bookmark" id="'+u+'_start" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'),A||(t.collapse(!1),p.moveToElementText(t.parentElement()),0===p.compareEndPoints("StartToEnd",t)&&t.move("character",-1),t.pasteHTML('<span data-mce-type="bookmark" id="'+u+'_end" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'))}catch(y){return null}}else{z=b.getNode();t=z.nodeName;if("IMG"==t)return{name:t,index:g(t,z)};t=
n(p.cloneRange());A||(t.collapse(!1),t.insertNode(r.create("span",{"data-mce-type":"bookmark",id:u+"_end",style:"overflow:hidden;line-height:0px"},"&#xFEFF;")));p=n(p);p.collapse(!0);p.insertNode(r.create("span",{"data-mce-type":"bookmark",id:u+"_start",style:"overflow:hidden;line-height:0px"},"&#xFEFF;"))}b.moveToBookmark({id:u,keep:1});return{id:u}};this.moveToBookmark=function(a){function c(b){var d=a[b?"start":"end"],g,f,e;if(d){e=d[0];f=p;for(g=d.length-1;1<=g;g--){f=f.childNodes;if(d[g]>f.length-
1)return;f=f[d[g]]}3===f.nodeType&&(e=Math.min(d[0],f.nodeValue.length));1===f.nodeType&&(e=Math.min(d[0],f.childNodes.length));b?k.setStart(f,e):k.setEnd(f,e)}return!0}function g(b){var c=r.get(a.id+"_"+b),d,g,f;f=a.keep;if(c&&(d=c.parentNode,"start"==b?(f?(d=c.firstChild,g=1):g=r.nodeIndex(c),t=u=d,A=z=g):(f?(d=c.firstChild,g=1):g=r.nodeIndex(c),u=d,z=g),!f)){f=c.previousSibling;d=c.nextSibling;for(h.each(h.grep(c.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,
""))});c=r.get(a.id+"_"+b);)r.remove(c,1);f&&d&&f.nodeType==d.nodeType&&3==f.nodeType&&!l.opera&&(g=f.nodeValue.length,f.appendData(d.nodeValue),r.remove(d),"start"==b?(t=u=f,A=z=g):(u=f,z=g))}}function f(a){!r.isBlock(a)||a.innerHTML||l.ie||(a.innerHTML='<br data-mce-bogus="1" />');return a}function e(){var b,c;b=r.createRng();c=d.resolve(r.getRoot(),a.start);b.setStart(c.container(),c.offset());c=d.resolve(r.getRoot(),a.end);b.setEnd(c.container(),c.offset());return b}var k,p,t,u,A,z;if(a)if(h.isArray(a.start)){k=
r.createRng();p=r.getRoot();if(b.tridentSel)return b.tridentSel.moveToBookmark(a);c(!0)&&c()&&b.setRng(k)}else"string"==typeof a.start?b.setRng(e(a)):a.id?(g("start"),g("end"),t&&(k=r.createRng(),k.setStart(f(t),A),k.setEnd(f(u),z),b.setRng(k))):a.name?b.select(r.select(a.name)[a.index]):a.rng&&b.setRng(a.rng)}}var k=f.isContentEditableFalse;b.isBookmarkNode=function(a){return a&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")};return b});x("tinymce/dom/Selection","tinymce/dom/TreeWalker tinymce/dom/TridentSelection tinymce/dom/ControlSelection tinymce/dom/RangeUtils tinymce/dom/BookmarkManager tinymce/dom/NodeType tinymce/Env tinymce/util/Tools tinymce/caret/CaretPosition".split(" "),
function(l,h,e,d,c,f,a,b,k){function q(a,b,d,f){this.dom=a;this.win=b;this.serializer=d;this.editor=f;this.bookmarkManager=new c(this);this.controlSelection=new e(this,f);this.win.getSelection||(this.tridentSel=new h(this))}var r=b.each,s=b.trim,m=a.ie;q.prototype={setCursorLocation:function(a,b){var c=this.dom.createRng();a?(c.setStart(a,b),c.setEnd(a,b),this.setRng(c),this.collapse(!1)):(this._moveEndPoint(c,this.editor.getBody(),!0),this.setRng(c))},getContent:function(a){var b=this.getRng(),c=
this.dom.create("body"),d=this.getSel(),f,e;a=a||{};f=e="";a.get=!0;a.format=a.format||"html";a.selection=!0;this.editor.fire("BeforeGetContent",a);if("text"==a.format)return this.isCollapsed()?"":b.text||(d.toString?d.toString():"");b.cloneContents?(b=b.cloneContents())&&c.appendChild(b):b.item!==ba||b.htmlText!==ba?(c.innerHTML="<br>"+(b.item?b.item(0).outerHTML:b.htmlText),c.removeChild(c.firstChild)):c.innerHTML=b.toString();/^\s/.test(c.innerHTML)&&(f=" ");/\s+$/.test(c.innerHTML)&&(e=" ");a.getInner=
!0;a.content=this.isCollapsed()?"":f+this.serializer.serialize(c,a)+e;this.editor.fire("GetContent",a);return a.content},setContent:function(a,b){var c=this.getRng(),d,f=this.win.document,e;b=b||{format:"html"};b.set=!0;b.selection=!0;b.content=a;b.no_events||this.editor.fire("BeforeSetContent",b);a=b.content;if(c.insertNode){a+='<span id="__caret">_</span>';c.startContainer==f&&c.endContainer==f?f.body.innerHTML=a:(c.deleteContents(),0===f.body.childNodes.length?f.body.innerHTML=a:c.createContextualFragment?
c.insertNode(c.createContextualFragment(a)):(d=f.createDocumentFragment(),e=f.createElement("div"),d.appendChild(e),e.outerHTML=a,c.insertNode(d)));d=this.dom.get("__caret");c=f.createRange();c.setStartBefore(d);c.setEndBefore(d);this.setRng(c);this.dom.remove("__caret");try{this.setRng(c)}catch(k){}}else c.item&&(f.execCommand("Delete",!1,null),c=this.getRng()),/^\s+/.test(a)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+a),this.dom.remove("__mce_tmp")):c.pasteHTML(a);b.no_events||this.editor.fire("SetContent",
b)},getStart:function(a){var b=this.getRng(),c;if(b.duplicate||b.item){if(b.item)return b.item(0);c=b.duplicate();c.collapse(1);c=c.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());for(b=a=b.parentElement();a=a.parentNode;)if(a==c){c=b;break}return c}c=b.startContainer;1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||(c=c.childNodes[Math.min(c.childNodes.length-1,b.startOffset)]));return c&&3==c.nodeType?c.parentNode:c},getEnd:function(a){var b=this.getRng(),c,d;if(b.duplicate||
b.item){if(b.item)return b.item(0);b=b.duplicate();b.collapse(0);c=b.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());return c&&"BODY"==c.nodeName?c.lastChild||c:c}c=b.endContainer;d=b.endOffset;1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||(c=c.childNodes[0<d?d-1:d]));return c&&3==c.nodeType?c.parentNode:c},getBookmark:function(a,b){return this.bookmarkManager.getBookmark(a,b)},moveToBookmark:function(a){return this.bookmarkManager.moveToBookmark(a)},select:function(a,
b){var c=this.dom,d=c.createRng();this.lastFocusBookmark=null;if(a){if(!b&&this.controlSelection.controlSelect(a))return;c=c.nodeIndex(a);d.setStart(a.parentNode,c);d.setEnd(a.parentNode,c+1);b&&(this._moveEndPoint(d,a,!0),this._moveEndPoint(d,a));this.setRng(d)}return a},isCollapsed:function(){var a=this.getRng(),b=this.getSel();return!a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!b||a.collapsed},collapse:function(a){var b=this.getRng(),c;b.item&&(c=b.item(0),b=this.win.document.body.createTextRange(),
b.moveToElementText(c));b.collapse(!!a);this.setRng(b)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(a){function b(a,c,d){try{return c.compareBoundaryPoints(a,d)}catch(g){return-1}}var c,d,f,e;if(!this.win)return null;e=this.win.document;if("undefined"===typeof e||null===e)return null;if(!a&&this.lastFocusBookmark)return f=this.lastFocusBookmark,f.startContainer?(d=e.createRange(),d.setStart(f.startContainer,f.startOffset),d.setEnd(f.endContainer,
f.endOffset)):d=f,d;if(a&&this.tridentSel)return this.tridentSel.getRangeAt(0);try{if(c=this.getSel())d=0<c.rangeCount?c.getRangeAt(0):c.createRange?c.createRange():e.createRange()}catch(k){}a=this.editor.fire("GetSelectionRange",{range:d});if(a.range!==d)return a.range;if(m&&d&&d.setStart&&e.selection){try{f=e.selection.createRange()}catch(h){}f&&f.item&&(f=f.item(0),d=e.createRange(),d.setStartBefore(f),d.setEndAfter(f))}d||(d=e.createRange?e.createRange():e.body.createTextRange());d.setStart&&
9===d.startContainer.nodeType&&d.collapsed&&(f=this.dom.getRoot(),d.setStart(f,0),d.setEnd(f,0));this.selectedRange&&this.explicitRange&&(0===b(d.START_TO_START,d,this.selectedRange)&&0===b(d.END_TO_END,d,this.selectedRange)?d=this.explicitRange:this.explicitRange=this.selectedRange=null);return d},setRng:function(b,c){var d,f;if(b)if(b.select){this.explicitRange=null;try{b.select()}catch(e){}}else if(!this.tridentSel){d=this.getSel();f=this.editor.fire("SetSelectionRange",{range:b});b=f.range;if(d){this.explicitRange=
b;try{d.removeAllRanges(),d.addRange(b)}catch(k){}!1===c&&d.extend&&(d.collapse(b.endContainer,b.endOffset),d.extend(b.startContainer,b.startOffset));this.selectedRange=0<d.rangeCount?d.getRangeAt(0):null}!b.collapsed&&b.startContainer==b.endContainer&&d.setBaseAndExtent&&!a.ie&&2>b.endOffset-b.startOffset&&b.startContainer.hasChildNodes()&&(f=b.startContainer.childNodes[b.startOffset])&&"IMG"==f.tagName&&(d.setBaseAndExtent(b.startContainer,b.startOffset,b.endContainer,b.endOffset),d.anchorNode===
b.startContainer&&d.focusNode===b.endContainer||d.setBaseAndExtent(f,0,f,1));this.editor.fire("AfterSetSelectionRange",{range:b})}else if(b.cloneRange)try{this.tridentSel.addRange(b)}catch(m){}},setNode:function(a){this.setContent(this.dom.getOuterHTML(a));return a},getNode:function(){function a(b,c){for(var d=b;b&&3===b.nodeType&&0===b.length;)b=c?b.nextSibling:b.previousSibling;return b||d}var b=this.getRng(),c,d,f,e,k,m=this.dom.getRoot();if(!b)return m;d=b.startContainer;f=b.endContainer;e=b.startOffset;
k=b.endOffset;if(b.setStart)return c=b.commonAncestorContainer,!b.collapsed&&(d==f&&2>k-e&&d.hasChildNodes()&&(c=d.childNodes[e]),3===d.nodeType&&3===f.nodeType&&(d=d.length===e?a(d.nextSibling,!0):d.parentNode,f=0===k?a(f.previousSibling,!1):f.parentNode,d&&d===f))?d:c&&3==c.nodeType?c.parentNode:c;c=b.item?b.item(0):b.parentElement();c.ownerDocument!==this.win.document&&(c=m);return c},getSelectedBlocks:function(a,b){var c=this.dom,d,f,e=[];f=c.getRoot();a=c.getParent(a||this.getStart(),c.isBlock);
b=c.getParent(b||this.getEnd(),c.isBlock);a&&a!=f&&e.push(a);if(a&&b&&a!=b){d=a;for(var k=new l(a,f);(d=k.next())&&d!=b;)c.isBlock(d)&&e.push(d)}b&&a!=b&&b!=f&&e.push(b);return e},isForward:function(){var a=this.dom,b=this.getSel(),c;if(!b||!b.anchorNode||!b.focusNode)return!0;c=a.createRng();c.setStart(b.anchorNode,b.anchorOffset);c.collapse(!0);a=a.createRng();a.setStart(b.focusNode,b.focusOffset);a.collapse(!0);return 0>=c.compareBoundaryPoints(c.START_TO_START,a)},normalize:function(){var b=this.getRng();
a.range&&(new d(this.dom)).normalize(b)&&this.setRng(b,this.isForward());return b},selectorChanged:function(a,b){var c=this,d;c.selectorChangedData||(c.selectorChangedData={},d={},c.editor.on("NodeChange",function(a){var b=a.element,g=c.dom,f=g.getParents(b,null,g.getRoot()),e={};r(c.selectorChangedData,function(a,b){r(f,function(c){if(g.is(c,b))return d[b]||(r(a,function(a){a(!0,{node:c,selector:b,parents:f})}),d[b]=a),e[b]=a,!1})});r(d,function(a,c){e[c]||(delete d[c],r(a,function(a){a(!1,{node:b,
selector:c,parents:f})}))})}));c.selectorChangedData[a]||(c.selectorChangedData[a]=[]);c.selectorChangedData[a].push(b);return c},getScrollContainer:function(){for(var a,b=this.dom.getRoot();b&&"BODY"!=b.nodeName;){if(b.scrollHeight>b.clientHeight){a=b;break}b=b.parentNode}return a},scrollIntoView:function(a,b){function c(a){for(var b=0,d=0;a&&a.nodeType;)b+=a.offsetLeft||0,d+=a.offsetTop||0,a=a.offsetParent;return{x:b,y:d}}var d,e;d=this.dom;e=d.getRoot();var k,m;k=0;if(f.isElement(a)){!1===b&&(k=
a.offsetHeight);if("BODY"!=e.nodeName&&(e=this.getScrollContainer())){d=c(a).y-c(e).y+k;m=e.clientHeight;k=e.scrollTop;if(d<k||d+25>k+m)e.scrollTop=d<k?d:d-m+25;return}e=d.getViewPort(this.editor.getWin());d=d.getPos(a).y+k;k=e.y;m=e.h;(d<e.y||d+25>k+m)&&this.editor.getWin().scrollTo(0,d<k?d:d-m+25)}},placeCaretAt:function(a,b){this.setRng(d.getCaretRangeFromPoint(a,b,this.editor.getDoc()))},_moveEndPoint:function(b,c,d){var f=c,e=new l(c,f),k=this.dom.schema.getNonEmptyElements();do{if(3==c.nodeType&&
0!==s(c.nodeValue).length){d?b.setStart(c,0):b.setEnd(c,c.nodeValue.length);return}if(k[c.nodeName]&&!/^(TD|TH)$/.test(c.nodeName)){d?b.setStartBefore(c):"BR"==c.nodeName?b.setEndBefore(c):b.setEndAfter(c);return}if(a.ie&&11>a.ie&&this.dom.isBlock(c)&&this.dom.isEmpty(c)){d?b.setStart(c,0):b.setEnd(c,0);return}}while(c=d?e.next():e.prev());"BODY"==f.nodeName&&(d?b.setStart(f,0):b.setEnd(f,f.childNodes.length))},getBoundingClientRect:function(){var a=this.getRng();return a.collapsed?k.fromRangeStart(a).getClientRects()[0]:
a.getBoundingClientRect()},destroy:function(){this.win=null;this.controlSelection.destroy()}};return q});x("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(l,h){var e=h.each;return function(d){this.compare=function(c,f){function a(a){var b={};e(d.getAttribs(a),function(c){c=c.nodeName.toLowerCase();0!==c.indexOf("_")&&"style"!==c&&0!==c.indexOf("data-")&&(b[c]=d.getAttrib(a,c))});return b}function b(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d)){c=b[d];if("undefined"==
typeof c||a[d]!=c)return!1;delete b[d]}for(d in b)if(b.hasOwnProperty(d))return!1;return!0}return c.nodeName==f.nodeName&&b(a(c),a(f))&&b(d.parseStyle(d.getAttrib(c,"style")),d.parseStyle(d.getAttrib(f,"style")))?!l.isBookmarkNode(c)&&!l.isBookmarkNode(f):!1}}});x("tinymce/fmt/Preview",["tinymce/dom/DOMUtils","tinymce/util/Tools","tinymce/html/Schema"],function(l,h,e){function d(a,c){function d(a){n="string"===typeof a?{name:a,classes:[],attrs:{}}:a;a=b.create(n.name);var c=n;c.classes.length&&b.addClass(a,
c.classes.join(" "));b.setAttribs(a,c.attrs);return a}function f(a,b){var c="string"!==typeof a?a.nodeName.toLowerCase():a;return(c=w.getElementRule(c).parentsRequired)&&c.length?b&&-1!==h.inArray(c,b)?b:c[0]:!1}function m(a,c,g){var e,k,n,q=c.length&&c[0],l=q&&q.name;if(n=f(a,l))l==n?(k=c[0],c=c.slice(1)):k=n;else if(q)k=c[0],c=c.slice(1);else if(!g)return a;k&&(e=d(k),e.appendChild(a));g&&(e||(e=b.create("div"),e.appendChild(a)),h.each(g,function(b){b=d(b);e.insertBefore(b,a)}));return m(e,c,k&&
k.siblings)}var g,n,l,w=c&&c.schema||new e({});return a&&a.length?(n=a[0],g=d(n),l=b.create("div"),l.appendChild(m(g,a.slice(1),n.siblings)),l):""}function c(a){var b,c={classes:[],attrs:{}};a=c.selector=h.trim(a);"*"!==a&&(b=a.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(a,b,d,f,e){switch(b){case "#":c.attrs.id=d;break;case ".":c.classes.push(d);break;case ":":-1!==h.inArray(["checked","disabled","enabled","read-only","required"],d)&&(c.attrs[d]=d)}"["==f&&(a=e.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&
(c.attrs[a[1]]=a[2]);return""}));c.name=b||"div";return c}function f(a){if(!a||"string"!==typeof a)return[];a=a.split(/\s*,\s*/)[0];a=a.replace(/\s*(~\+|~|\+|>)\s*/g,"$1");return h.map(a.split(/(?:>|\s+(?![^\[\]]+\]))/),function(a){a=h.map(a.split(/(?:~\+|~|\+)/),c);var b=a.pop();a.length&&(b.siblings=a);return b}).reverse()}var a=h.each,b=l.DOM;return{getCssText:function(c,e){var h,l,m,g="",n,v;v=c.settings.preview_styles;if(!1===v)return"";"string"!==typeof v&&(v="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");
if("string"==typeof e){e=c.formatter.get(e);if(!e)return;e=e[0]}if("preview"in e&&(v=e.preview,!1===v))return"";h=e.block||e.inline||"span";l=f(e.selector);l.length?(l[0].name||(l[0].name=h),h=e.selector,l=d(l,c)):l=d([h],c);m=b.select(h,l)[0]||l.firstChild;a(e.styles,function(a,c){(a=a.replace(/%(\w+)/g,""))&&b.setStyle(m,c,a)});a(e.attributes,function(a,c){(a=a.replace(/%(\w+)/g,""))&&b.setAttrib(m,c,a)});a(e.classes,function(a){a=a.replace(/%(\w+)/g,"");b.hasClass(m,a)||b.addClass(m,a)});c.fire("PreviewFormats");
b.setStyles(l,{position:"absolute",left:-65535});c.getBody().appendChild(l);n=b.getStyle(c.getBody(),"fontSize",!0);n=/px$/.test(n)?parseInt(n,10):0;a(v.split(" "),function(a){var d=b.getStyle(m,a,!0);if("background-color"==a&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(d)&&(d=b.getStyle(c.getBody(),a,!0),"#ffffff"==b.toHex(d).toLowerCase()))return;if("color"!=a||"#000000"!=b.toHex(d).toLowerCase()){if("font-size"==a&&/em|%$/.test(d)){if(0===n)return;d=parseFloat(d,10)/(/%$/.test(d)?100:1);d=d*n+"px"}"border"==
a&&d&&(g+="padding:0 2px;");g+=a+":"+d+";"}});c.fire("AfterPreviewFormats");b.remove(l);return g},parseSelector:f,selectorToHtml:function(a,b){return d(f(a),b)}}});x("tinymce/fmt/Hooks",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/DomQuery"],function(l,h,e){var d={},c=l.filter,f=l.each;(function(a,b){d[a]||(d[a]=[]);d[a].push(b)})("pre",function(a){function b(a){return q(a.previousSibling)&&-1!=l.indexOf(r,a.previousSibling)}var d=a.selection.getRng(),q,r;q=h.matchNodeNames("pre");d.collapsed||
(r=a.selection.getSelectedBlocks(),f(c(c(r,q),b),function(a){var b=a.previousSibling;e(a).remove();e(b).append("<br><br>").append(a.childNodes)}))});return{postProcess:function(a,b){f(d[a],function(a){a(b)})}}});x("tinymce/Formatter","tinymce/dom/TreeWalker tinymce/dom/RangeUtils tinymce/dom/BookmarkManager tinymce/dom/ElementUtils tinymce/util/Fun tinymce/util/Tools tinymce/fmt/Preview tinymce/fmt/Hooks".split(" "),function(l,h,e,d,c,f,a,b){return function(k){function q(a){a.nodeType&&(a=a.nodeName);
return!!k.schema.getTextBlockElements()[a.toLowerCase()]}function r(a,b){return D.getParents(a,b,D.getRoot())}function s(a){return 1===a.nodeType&&"_mce_caret"===a.id}function m(a){return a?T[a]:T}function g(a,b){a&&("string"!==typeof a?$(a,function(a,b){g(b,a)}):(b=b.length?b:[b],$(b,function(a){a.deep===ca&&(a.deep=!a.selector);a.split===ca&&(a.split=!a.selector||a.inline);a.remove===ca&&a.selector&&!a.inline&&(a.remove="none");a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0);"string"===typeof a.classes&&
(a.classes=a.classes.split(/\s+/))}),T[a]=b))}function n(a,b){var c=m(b);if(c)for(var d=0;d<c.length;d++)if(!1===c[d].inherit&&D.is(a,c[d].selector))return!0;return!1}function v(a){var b;k.dom.getParent(a,function(a){return(b=k.dom.getStyle(a,"text-decoration"))&&"none"!==b});return b}function w(a){var b;1===a.nodeType&&a.parentNode&&1===a.parentNode.nodeType&&(b=v(a.parentNode),k.dom.getStyle(a,"color")&&b?k.dom.setStyle(a,"text-decoration",b):k.dom.getStyle(a,"text-decoration")===b&&k.dom.setStyle(a,
"text-decoration",null))}function p(a,c,d){function f(a,b){b=b||t;if(a){if(b.onformat)b.onformat(a,b,c,d);$(b.styles,function(b,d){D.setStyle(a,d,I(b,c))});if(b.styles){var g=D.getAttrib(a,"style");g&&a.setAttribute("data-mce-style",g)}$(b.attributes,function(b,d){D.setAttrib(a,d,I(b,c))});$(b.classes,function(b){b=I(b,c);D.hasClass(a,b)||D.addClass(a,b)})}}function g(a,b){var c=!1;if(!t.selector)return!1;$(a,function(a){if(!("collapsed"in a&&a.collapsed!==v)&&D.is(b,a.selector)&&!s(b))return f(b,
a),c=!0,!1});return c}function e(){var a=k.selection.getRng(),b=a.startContainer,c=a.endContainer;if(b!=c&&0===a.endOffset){a:{c=new l(c);for(d=c.prev2();d;d=c.prev2()){if(3==d.nodeType&&0<d.data.length){b=d;break a}if(1<d.childNodes.length||d==b||"BR"==d.tagName){b=d;break a}}b=void 0}a.setEnd(b,3==b.nodeType?b.data.length:b.childNodes.length)}return a}function n(b,d,e){var k=[],m,l,r=!0;m=t.inline||t.block;l=D.create(m);f(l);W.walk(b,function(b){function d(b){var p,v,B,w;w=r;p=b.nodeName.toLowerCase();
v=b.parentNode.nodeName.toLowerCase();1===b.nodeType&&ga(b)&&(w=r,r="true"===ga(b),B=!0);if(y(p,"br"))n=0,t.block&&D.remove(b);else if(t.wrapper&&u(b,a,c))n=0;else if(r&&!B&&t.block&&!t.wrapper&&q(p)&&X(v,m))b=D.rename(b,m),f(b),k.push(b),n=0;else{if(t.selector){var A=g(h,b);if(!t.inline||A){n=0;return}}!r||B||!X(m,p)||!X(v,m)||!e&&3===b.nodeType&&1===b.nodeValue.length&&65279===b.nodeValue.charCodeAt(0)||s(b)||t.inline&&V(b)?(n=0,$(na(b.childNodes),d),B&&(r=w),n=0):(n||(n=D.clone(l,fa),b.parentNode.insertBefore(n,
b),k.push(n)),n.appendChild(b))}}var n;$(b,d)});!0===t.links&&$(k,function(a){function b(a){"A"===a.nodeName&&f(a,t);$(na(a.childNodes),b)}b(a)});$(k,function(b){function d(a){var b=0;$(a.childNodes,function(a){x(a)||ia(a)||b++});return b}function g(a){var b=!1;$(a.childNodes,function(a){if(B(a))return b=a,!1});return b}function e(a,b){do{if(1!==d(a))break;a=g(a);if(!a)break;else if(b(a))return a}while(a);return null}function m(a){var b,c;(b=g(a))&&!ia(b)&&z(b,t)&&(c=D.clone(b,fa),f(c),D.replace(c,
a,Y),D.remove(b,1));return c||a}var n;n=d(b);if((1<k.length||!V(b))&&0===n)D.remove(b,1);else if(t.inline||t.wrapper)t.exact||1!==n||(b=m(b)),$(h,function(a){$(D.select(a.inline,b),function(b){ia(b)||E(a,c,b,a.exact?b:null)})}),u(b.parentNode,a,c)&&E(t,c,b)&&(b=0),t.merge_with_parents&&D.getParent(b.parentNode,function(d){if(u(d,a,c))return E(t,c,b)&&(b=0),Y}),V(b)||F(b,"fontSize")||(n=e(b,G("fontSize")))&&p("fontsize",{value:F(n,"fontSize")},b),b&&!1!==t.merge_siblings&&(b=Z(L(b),b),b=Z(b,L(b,Y)))})}
var h=m(a),t=h[0],r,v=!d&&Q.isCollapsed();if("false"===ga(Q.getNode())){d=Q.getNode();r=0;for(var A=h.length;r<A;r++)if(h[r].ceFalseOverride&&D.is(d,h[r].selector)){f(d,h[r]);break}}else if(t){if(d)d.nodeType?g(h,d)||(r=D.createRng(),r.setStartBefore(d),r.setEndAfter(d),n(R(r,h),null,!0)):n(d,null,!0);else if(v&&t.inline&&!D.select("td[data-mce-selected],th[data-mce-selected]").length)M("apply",a,c);else{A=k.selection.getNode();da||!h[0].defaultBlock||D.getParent(A,D.isBlock)||p(h[0].defaultBlock);
k.selection.setRng(e());r=Q.getBookmark();n(R(Q.getRng(Y),h),r);if(t.styles){if(t.styles.color||t.styles.textDecoration)oa(A,w,"childNodes"),w(A);t.styles.backgroundColor&&J(A,G("fontSize"),H("backgroundColor",I(t.styles.backgroundColor,c)))}Q.moveToBookmark(r);U(Q.getRng(Y));k.nodeChanged()}b.postProcess(a,k)}}function t(a,b,c,d){function f(a){var c,d,g,e,k;1===a.nodeType&&ga(a)&&(e=l,l="true"===ga(a),k=!0);c=na(a.childNodes);if(l&&!k)for(d=0,g=p.length;d<g&&!E(p[d],b,a,a);d++);if(q.deep&&c.length){d=
0;for(g=c.length;d<g;d++)f(c[d]);k&&(l=e)}}function g(c){var f;$(r(c.parentNode).reverse(),function(c){var g;f||"_start"==c.id||"_end"==c.id||(g=u(c,a,b,d))&&!1!==g.split&&(f=c)});return f}function e(a){var c=g(a),d=a,f,k,m,n,h,u;if(c){u=c.parentNode;for(f=d.parentNode;f&&f!=u;f=f.parentNode){k=D.clone(f,fa);for(h=0;h<p.length;h++)if(E(p[h],b,k,k)){k=0;break}k&&(m&&k.appendChild(m),n||(n=k),m=k)}q.mixed&&V(c)||(d=D.split(c,d));m&&(a.parentNode.insertBefore(m,a),n.appendChild(a))}return d}function n(a){var b=
D.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];ia(c)&&(c=c[a?"firstChild":"lastChild"]);3==c.nodeType&&0===c.data.length&&(c=a?b.previousSibling||b.nextSibling:b.nextSibling||b.previousSibling);D.remove(b,!0);return c}function h(a){var b,c,d=a.commonAncestorContainer;a=R(a,p,Y);if(q.split){b=O(a,Y);c=O(a);if(b!=c){/^(TR|TH|TD)$/.test(b.nodeName)&&b.firstChild&&(b="TR"==b.nodeName?b.firstChild.firstChild||b:b.firstChild||b);d&&/^T(HEAD|BODY|FOOT|R)$/.test(d.nodeName)&&/^(TH|TD)$/.test(c.nodeName)&&
c.firstChild&&(c=c.firstChild||c);if(D.isChildOf(b,c)&&!V(c)&&!/^(TH|TD)$/.test(b.nodeName)&&!/^(TH|TD)$/.test(c.nodeName)){b=N(b,"span",{id:"_start","data-mce-type":"bookmark"});e(b);b=n(Y);return}b=N(b,"span",{id:"_start","data-mce-type":"bookmark"});c=N(c,"span",{id:"_end","data-mce-type":"bookmark"});e(b);e(c);b=n(Y);c=n()}else b=c=e(b);a.startContainer=b.parentNode?b.parentNode:b;a.startOffset=ea(b);a.endContainer=c.parentNode?c.parentNode:c;a.endOffset=ea(c)+1}W.walk(a,function(a){$(a,function(a){f(a);
1===a.nodeType&&"underline"===k.dom.getStyle(a,"text-decoration")&&a.parentNode&&"underline"===v(a.parentNode)&&E({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,a)})})}var p=m(a),q=p[0],t,l=!0;if(c)c.nodeType?(t=D.createRng(),t.setStartBefore(c),t.setEndAfter(c),h(t)):h(c);else if("false"===ga(Q.getNode())){c=Q.getNode();t=0;for(var s=p.length;t<s&&(!p[t].ceFalseOverride||!E(p[t],b,c,c));t++);}else Q.isCollapsed()&&q.inline&&!D.select("td[data-mce-selected],th[data-mce-selected]").length?
M("remove",a,b,d):(c=Q.getBookmark(),h(Q.getRng(Y)),Q.moveToBookmark(c),q.inline&&A(a,b,Q.getStart())&&U(Q.getRng(!0)),k.nodeChanged())}function u(a,b,c,d){function f(a,b,g){var e,k,m=b[g];if(b.onmatch)return b.onmatch(a,b,g);if(m)if(m.length===ca)for(e in m){if(m.hasOwnProperty(e)&&(k="attributes"===g?D.getAttrib(a,e):F(a,e),d&&!k&&!b.exact||(!d||b.exact)&&!y(k,C(I(m[e],c),e))))return}else for(e=0;e<m.length&&("attributes"===g?!D.getAttrib(a,m[e]):!F(a,m[e]));e++);return b}var g=m(b),e;if(g&&a)for(e=
0;e<g.length;e++)if(b=g[e],z(a,b)&&f(a,b,"attributes")&&f(a,b,"styles")){if(g=b.classes)for(e=0;e<g.length;e++)if(!D.hasClass(a,g[e]))return;return b}}function A(a,b,c){function d(c){var f=D.getRoot();if(c===f)return!1;c=D.getParent(c,function(c){return n(c,a)?!0:c.parentNode===f||!!u(c,a,b,!0)});return u(c,a,b)}var f;if(c)return d(c);c=Q.getNode();if(d(c))return Y;f=Q.getStart();return f!=c&&d(f)?Y:fa}function z(a,b){if(y(a,b.inline)||y(a,b.block))return Y;if(b.selector)return 1==a.nodeType&&D.is(a,
b.selector)}function y(a,b){a=a||"";b=b||"";a=""+(a.nodeName||a);b=""+(b.nodeName||b);return a.toLowerCase()==b.toLowerCase()}function J(a,b,c){$(a.childNodes,function(a){B(a)&&(b(a)&&c(a),a.hasChildNodes()&&J(a,b,c))})}function B(a){return 1==a.nodeType&&!ia(a)&&!x(a)&&!s(a)}function G(a){return c.curry(function(a,b){return!(!b||!F(b,a))},a)}function H(a,b){return c.curry(function(a,b,c){D.setStyle(c,a,b)},a,b)}function F(a,b){return C(D.getStyle(a,b),b)}function C(a,b){if("color"==b||"backgroundColor"==
b)a=D.toHex(a);"fontWeight"==b&&700==a&&(a="bold");"fontFamily"==b&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,","));return""+a}function I(a,b){"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a}));return a}function x(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)}function N(a,b,c){b=D.create(b,c);a.parentNode.insertBefore(b,a);b.appendChild(a);return b}function R(a,b,c){function d(a){var c,f,g,e;c=f=a?p:t;g=a?"previousSibling":"nextSibling";e=D.getRoot();
if(3==c.nodeType&&!x(c)&&(a?0<u:s<c.nodeValue.length))return c;for(;;){if(!b[0].block_expand&&V(f))return f;for(a=f[g];a;a=a[g])if(!(ia(a)||x(a)||"BR"==a.nodeName&&a.getAttribute("data-mce-bogus")&&!a.nextSibling))return f;if(f==e||f.parentNode==e){c=f;break}f=f.parentNode}return c}function f(a,b){for(b===ca&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)(a=a.childNodes[b])&&(b=3===a.nodeType?a.length:a.childNodes.length);return{node:a,offset:b}}function g(a){for(var b=a;b;){if(1===
b.nodeType&&ga(b))return"false"===ga(b)?b:a;b=b.parentNode}return a}function e(a,b,d){function f(a,b){var g,e;e=a.nodeValue;"undefined"==typeof b&&(b=d?e.length:0);d?(g=e.lastIndexOf(" ",b),e=e.lastIndexOf("\u00a0",b),g=g>e?g:e,-1===g||c||g++):(g=e.indexOf(" ",b),e=e.indexOf("\u00a0",b),g=-1!==g&&(-1===e||g<e)?g:e);return g}var g,m;if(3===a.nodeType){b=f(a,b);if(-1!==b)return{container:a,offset:b};m=a}for(a=new l(a,D.getParent(a,V)||k.getBody());g=a[d?"prev":"next"]();)if(3===g.nodeType){if(m=g,b=
f(g),-1!==b)return{container:g,offset:b}}else if(V(g))break;if(m)return b=d?0:m.length,{container:m,offset:b}}function m(c,d){var f,g,e,k;3==c.nodeType&&0===c.nodeValue.length&&c[d]&&(c=c[d]);f=r(c);for(g=0;g<f.length;g++)for(e=0;e<b.length;e++)if(k=b[e],!("collapsed"in k&&k.collapsed!==a.collapsed)&&D.is(f[g],k.selector))return f[g];return c}function n(a,c){var d,f=D.getRoot();b[0].wrapper||(d=D.getParent(a,b[0].block,f));d||(d=D.getParent(3==a.nodeType?a.parentNode:a,function(a){return a!=f&&q(a)}));
d&&b[0].wrapper&&(d=r(d,"ul,ol").reverse()[0]||d);if(!d)for(d=a;d[c]&&!V(d[c])&&(d=d[c],!y(d,"br")););return d||a}var h,p=a.startContainer,u=a.startOffset,t=a.endContainer,s=a.endOffset;1==p.nodeType&&p.hasChildNodes()&&(h=p.childNodes.length-1,p=p.childNodes[u>h?h:u],3==p.nodeType&&(u=0));1==t.nodeType&&t.hasChildNodes()&&(h=t.childNodes.length-1,t=t.childNodes[s>h?h:s-1],3==t.nodeType&&(s=t.nodeValue.length));p=g(p);t=g(t);if(ia(p.parentNode)||ia(p))p=ia(p)?p:p.parentNode,p=p.nextSibling||p,3==
p.nodeType&&(u=0);if(ia(t.parentNode)||ia(t))t=ia(t)?t:t.parentNode,t=t.previousSibling||t,3==t.nodeType&&(s=t.length);if(b[0].inline){if(a.collapsed){if(h=e(p,u,!0))p=h.container,u=h.offset;if(h=e(t,s))t=h.container,s=h.offset}h=f(t,s);if(h.node){for(;h.node&&0===h.offset&&h.node.previousSibling;)h=f(h.node.previousSibling);h.node&&0<h.offset&&3===h.node.nodeType&&" "===h.node.nodeValue.charAt(h.offset-1)&&1<h.offset&&(t=h.node,t.splitText(h.offset-1))}}if(b[0].inline||b[0].block_expand)b[0].inline&&
3==p.nodeType&&0!==u||(p=d(!0)),b[0].inline&&3==t.nodeType&&s!==t.nodeValue.length||(t=d());b[0].selector&&b[0].expand!==fa&&!b[0].inline&&(p=m(p,"previousSibling"),t=m(t,"nextSibling"));if(b[0].block||b[0].selector)p=n(p,"previousSibling"),t=n(t,"nextSibling"),b[0].block&&(V(p)||(p=d(!0)),V(t)||(t=d()));1==p.nodeType&&(u=ea(p),p=p.parentNode);1==t.nodeType&&(s=ea(t)+1,t=t.parentNode);return{startContainer:p,startOffset:u,endContainer:t,endOffset:s}}function E(a,b,c,d){var f,g,e;if(!(z(c,a)||a.links&&
"A"==c.tagName))return fa;if("all"!=a.remove)for($(a.styles,function(f,g){f=C(I(f,b),g);"number"===typeof g&&(g=f,d=0);(a.remove_similar||!d||y(F(d,g),f))&&D.setStyle(c,g,"");e=1}),e&&""===D.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style")),$(a.attributes,function(a,f){var g;a=I(a,b);"number"===typeof f&&(f=a,d=0);if(!d||y(D.getAttrib(d,f),a)){if("class"==f&&(a=D.getAttrib(c,f))&&(g="",$(a.split(/\s+/),function(a){/mce\-\w+/.test(a)&&(g+=(g?" ":"")+a)}),g)){D.setAttrib(c,
f,g);return}"class"==f&&c.removeAttribute("className");aa.test(f)&&c.removeAttribute("data-mce-"+f);c.removeAttribute(f)}}),$(a.classes,function(a){a=I(a,b);d&&!D.hasClass(d,a)||D.removeClass(c,a)}),g=D.getAttribs(c),f=0;f<g.length;f++){var k=g[f].nodeName;if(0!==k.indexOf("_")&&0!==k.indexOf("data-"))return fa}if("none"!=a.remove)return S(c,a),Y}function S(a,b){function c(a,b,d){a=L(a,b,d);return!a||"BR"==a.nodeName||V(a)}var d=a.parentNode,f;b.block&&(da?d==D.getRoot()&&(b.list_block&&y(a,b.list_block)||
$(na(a.childNodes),function(a){X(da,a.nodeName.toLowerCase())?f?f.appendChild(a):(f=N(a,da),D.setAttribs(f,k.settings.forced_root_block_attrs)):f=0})):V(a)&&!V(d)&&(c(a,fa)||c(a.firstChild,Y,1)||a.insertBefore(D.create("br"),a.firstChild),c(a,Y)||c(a.lastChild,fa,1)||a.appendChild(D.create("br"))));b.selector&&b.inline&&!y(b.inline,a)||D.remove(a,1)}function L(a,b,c){if(a)for(b=b?"nextSibling":"previousSibling",a=c?a:a[b];a;a=a[b])if(1==a.nodeType||!x(a))return a}function Z(a,b){function c(a,b){for(f=
a;f&&(3!=f.nodeType||0===f.nodeValue.length);f=f[b])if(1==f.nodeType&&!ia(f))return f;return a}var f,g;g=new d(D);if(a&&b&&(a=c(a,"previousSibling"),b=c(b,"nextSibling"),g.compare(a,b))){for(f=a.nextSibling;f&&f!=b;)g=f,f=f.nextSibling,a.appendChild(g);D.remove(b);$(na(b.childNodes),function(b){a.appendChild(b)});return a}return b}function O(a,b){var c,d,f;c=a[b?"startContainer":"endContainer"];d=a[b?"startOffset":"endOffset"];1==c.nodeType&&(f=c.childNodes.length-1,!b&&d&&d--,c=c.childNodes[d>f?
f:d]);3===c.nodeType&&b&&d>=c.nodeValue.length&&(c=(new l(c,k.getBody())).next()||c);3!==c.nodeType||b||0!==d||(c=(new l(c,k.getBody())).prev()||c);return c}function M(a,b,c,d){function f(a){var b=D.create("span",{id:y,"data-mce-bogus":!0,style:B?"color:red":""});a&&b.appendChild(k.getDoc().createTextNode(P));return b}function g(a,b){for(;a;){if(3===a.nodeType&&a.nodeValue!==P||1<a.childNodes.length)return!1;b&&1===a.nodeType&&b.push(a);a=a.firstChild}return!0}function e(a){for(;a;){if(a.id===y)return a;
a=a.parentNode}}function h(a){var b;if(a)for(b=new l(a,a),a=b.current();a;a=b.next())if(3===a.nodeType)return a}function n(a,b){var c,d;if(a)d=Q.getRng(!0),g(a)?(!1!==b&&(d.setStartBefore(a),d.setEndBefore(a)),D.remove(a)):(c=h(a),c.nodeValue.charAt(0)===P&&(c.deleteData(0,1),d.startContainer==c&&0<d.startOffset&&d.setStart(c,d.startOffset-1),d.endContainer==c&&0<d.endOffset&&d.setEnd(c,d.endOffset-1)),D.remove(a,1)),Q.setRng(d);else if(a=e(Q.getStart()),!a)for(;a=D.get(y);)n(a,!1)}function r(){var a,
d,g,k,n;a=Q.getRng(!0);k=a.startOffset;n=a.startContainer.nodeValue;(d=e(Q.getStart()))&&(g=h(d));var u=/[^\s\u00a0\u00ad\u200b\ufeff]/;n&&0<k&&k<n.length&&u.test(n.charAt(k))&&u.test(n.charAt(k-1))?(d=Q.getBookmark(),a.collapse(!0),a=R(a,m(b)),a=W.split(a),p(b,c,a),Q.moveToBookmark(d)):(d&&g.nodeValue===P||(d=f(!0),g=d.firstChild,a.insertNode(d),k=1),p(b,c,d),Q.setCursorLocation(g,k))}function s(){var a=Q.getRng(!0),g,e,k,n,p,h=[];g=a.startContainer;e=a.startOffset;k=g;3==g.nodeType&&(e!=g.nodeValue.length&&
(n=!0),k=k.parentNode);for(;k;){if(u(k,b,c,d)){p=k;break}k.nextSibling&&(n=!0);h.push(k);k=k.parentNode}if(p)if(n)k=Q.getBookmark(),a.collapse(!0),a=R(a,m(b),!0),a=W.split(a),t(b,c,a),Q.moveToBookmark(k);else{k=a=f();for(g=h.length-1;0<=g;g--)k.appendChild(D.clone(h[g],!1)),k=k.firstChild;k.appendChild(D.doc.createTextNode(P));k=k.firstChild;(h=D.getParent(p,q))&&D.isEmpty(h)?p.parentNode.replaceChild(a,p):D.insertAfter(a,p);Q.setCursorLocation(k,1);D.isEmpty(p)&&D.remove(p)}}function v(){var a;(a=
e(Q.getStart()))&&!D.isEmpty(a)&&oa(a,function(a){1!=a.nodeType||a.id===y||D.isEmpty(a)||D.setAttrib(a,"data-mce-bogus",null)},"childNodes")}var y="_mce_caret",B=k.settings.caret_debug;k._hasCaretEvents||(ja=function(){var a=[],b;if(g(e(Q.getStart()),a))for(b=a.length;b--;)D.setAttrib(a[b],"data-mce-bogus","1")},ma=function(a){a=a.keyCode;n();8==a&&Q.isCollapsed()&&Q.getStart().innerHTML==P&&n(e(Q.getStart()));37!=a&&39!=a||n(e(Q.getStart()));v()},k.on("SetContent",function(a){a.selection&&v()}),
k._hasCaretEvents=!0);"apply"==a?r():s()}function U(a){var b=a.startContainer,c=a.startOffset,d,f;if(a.startContainer!=a.endContainer||!a.startContainer.childNodes[a.startOffset]||!/^(IMG)$/.test(a.startContainer.childNodes[a.startOffset].nodeName))if(3==b.nodeType&&c>=b.nodeValue.length&&(c=ea(b),b=b.parentNode,d=!0),1==b.nodeType)for(f=b.childNodes,b=f[Math.min(c,f.length-1)],b=new l(b,D.getParent(b,D.isBlock)),(c>f.length-1||d)&&b.next(),c=b.current();c;c=b.next())if(3==c.nodeType&&!x(c)){d=D.create("a",
{"data-mce-bogus":"all"},P);c.parentNode.insertBefore(d,c);a.setStart(c,0);Q.setRng(a);D.remove(d);break}}var T={},D=k.dom,Q=k.selection,W=new h(D),X=k.schema.isValidChild,V=D.isBlock,da=k.settings.forced_root_block,ea=D.nodeIndex,P="\ufeff",aa=/^(src|href|style)$/,fa=!1,Y=!0,ha,ca,ga=D.getContentEditable,ma,ja,ia=e.isBookmarkNode,$=f.each,na=f.grep,oa=f.walk,ta=f.extend;ta(this,{get:m,register:g,unregister:function(a){a&&T[a]&&delete T[a];return T},apply:p,remove:t,toggle:function(a,b,c){var d=m(a);
!A(a,b,c)||"toggle"in d[0]&&!d[0].toggle?p(a,b,c):t(a,b,c)},match:A,matchAll:function(a,b){var c,d=[],f={};c=Q.getStart();D.getParent(c,function(c){var g,e;for(g=0;g<a.length;g++)e=a[g],!f[e]&&u(c,e,b)&&(f[e]=!0,d.push(e))},D.getRoot());return d},matchNode:u,canApply:function(a){a=m(a);var b,c,d,f;if(a)for(b=Q.getStart(),b=r(b),d=a.length-1;0<=d;d--){f=a[d].selector;if(!f||a[d].defaultBlock)return Y;for(c=b.length-1;0<=c;c--)if(D.is(b[c],f))return Y}return fa},formatChanged:function(a,b,c){var d;
ha||(ha={},d={},k.on("NodeChange",function(a){var b=r(a.element),c={},b=f.grep(b,function(a){return 1==a.nodeType&&!a.getAttribute("data-mce-bogus")});$(ha,function(a,f){$(b,function(g){if(u(g,f,{},a.similar))return d[f]||($(a,function(a){a(!0,{node:g,format:f,parents:b})}),d[f]=a),c[f]=a,!1;if(n(g,f))return!1})});$(d,function(f,g){c[g]||(delete d[g],$(f,function(c){c(!1,{node:a.element,format:g,parents:b})}))})}));$(a.split(","),function(a){ha[a]||(ha[a]=[],ha[a].similar=c);ha[a].push(b)});return this},
getCssText:function(b){return a.getCssText(k,b)}});(function(){g({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},
{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",
marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},
inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",
styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},
onformat:function(a,b,c){$(c,function(b,c){D.setAttrib(a,c,b)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]});$("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(a){g(a,{block:a,remove:"all"})});g(k.settings.formats)})();
(function(){k.addShortcut("meta+b","bold_desc","Bold");k.addShortcut("meta+i","italic_desc","Italic");k.addShortcut("meta+u","underline_desc","Underline");for(var a=1;6>=a;a++)k.addShortcut("access+"+a,"",["FormatBlock",!1,"h"+a]);k.addShortcut("access+7","",["FormatBlock",!1,"p"]);k.addShortcut("access+8","",["FormatBlock",!1,"div"]);k.addShortcut("access+9","",["FormatBlock",!1,"address"])})();k.on("BeforeGetContent",function(a){ja&&"raw"!=a.format&&ja()});k.on("mouseup keydown",function(a){ma&&
ma(a)})}});x("tinymce/undo/Diff",[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(l,h){var e=l.length+h.length+2,d=Array(e),c=Array(e),f=function(b,e,q,r,s){var m;a:{var g=e-b,n=r-q;if(0===g||0===n)m=null;else{m=g-n;g=n+g;g=(0===g%2?g:g+1)/2;d[1+g]=b;c[1+g]=e+1;for(n=0;n<=g;++n){for(var v=-n;v<=n;v+=2){var w=v+g;d[w]=v===-n||v!=n&&d[w-1]<d[w+1]?d[w+1]:d[w-1]+1;for(var p=d[w],t=p-b+q-v;p<e&&t<r&&l[p]===h[t];)d[w]=++p,++t;if(0!=m%2&&m-n<=v&&v<=m+n&&c[w-m]<=d[w]){m=a(c[w-m],v+b-q,e,r);break a}}for(v=
m-n;v<=m+n;v+=2){w=v+g-m;c[w]=v===m-n||v!=m+n&&c[w+1]<=c[w-1]?c[w+1]-1:c[w-1];p=c[w]-1;for(t=p-b+q-v;p>=b&&t>=q&&l[p]===h[t];)c[w]=p--,t--;if(0===m%2&&-n<=v&&v<=n&&c[w]<=d[w+m]){m=a(c[w],v+b-q,e,r);break a}}}m=void 0}}if(null===m||m.start===e&&m.diag===e-r||m.end===b&&m.diag===b-q)for(m=b,g=q;m<e||g<r;)m<e&&g<r&&l[m]===h[g]?(s.push([0,l[m]]),++m,++g):e-b>r-q?(s.push([2,l[m]]),++m):(s.push([1,h[g]]),++g);else{f(b,m.start,q,m.start-m.diag,s);for(b=m.start;b<m.end;++b)s.push([0,l[b]]);f(m.end,e,m.end-
m.diag,r,s)}},a=function(a,c,d,f){for(var e=a;e-c<f&&e<d&&l[e]===h[e-c];)++e;return{start:a,end:e,diag:c}},e=[];f(0,l.length,0,h.length,e);return e}}});x("tinymce/undo/Fragments",["tinymce/util/Arr","tinymce/html/Entities","tinymce/undo/Diff"],function(l,h,e){var d=function(c){return 1===c.nodeType?c.outerHTML:3===c.nodeType?h.encodeRaw(c.data,!1):8===c.nodeType?"\x3c!--"+c.data+"--\x3e":""},c=function(c,a){var b=0;l.each(c,function(c){if(c[0]===e.KEEP)b++;else if(c[0]===e.INSERT){var d=b,f=c[1],
h;h=document.createElement("div");c=document.createDocumentFragment();f&&(h.innerHTML=f);for(;f=h.firstChild;)c.appendChild(f);a.hasChildNodes()&&d<a.childNodes.length?(d=a.childNodes[d],d.parentNode.insertBefore(c,d)):a.appendChild(c);b++}else c[0]===e.DELETE&&(d=b,a.hasChildNodes()&&d<a.childNodes.length&&(d=a.childNodes[d],d.parentNode.removeChild(d)))})};return{read:function(c){return l.map(c.childNodes,d)},write:function(f,a){var b=l.map(a.childNodes,d);c(e.diff(b,f),a);return a}}});x("tinymce/undo/Levels",
["tinymce/util/Arr","tinymce/undo/Fragments"],function(l,h){var e=function(c){return{type:"fragmented",fragments:c,content:"",bookmark:null,beforeBookmark:null}},d=function(c){return{type:"complete",fragments:null,content:c,bookmark:null,beforeBookmark:null}},c=function(c){return"fragmented"===c.type?c.fragments.join(""):c.content};return{createFragmentedLevel:e,createCompleteLevel:d,createFromEditor:function(c){var a,b;a=h.read(c.getBody());b=l.map(a,function(a){return c.serializer.trimContent(a)});
a=b.join("");return-1!==a.indexOf("</iframe>")?e(b):d(a)},applyToEditor:function(c,a,b){"fragmented"===a.type?h.write(a.fragments,c.getBody()):c.setContent(a.content,{format:"raw"});c.selection.moveToBookmark(b?a.beforeBookmark:a.bookmark)},isEq:function(d,a){return c(d)===c(a)}}});x("tinymce/UndoManager",["tinymce/util/VK","tinymce/util/Tools","tinymce/undo/Levels"],function(l,h,e){return function(d){function c(b){a.typing=!1;a.add({},b)}function f(){a.typing&&(a.typing=!1,a.add())}var a=this,b=
0,k=[],q,l,s=0;d.on("init",function(){a.add()});d.on("BeforeExecCommand",function(b){b=b.command;"Undo"!==b&&"Redo"!==b&&"mceRepaint"!==b&&(f(),a.beforeChange())});d.on("ExecCommand",function(a){var b=a.command;"Undo"!==b&&"Redo"!==b&&"mceRepaint"!==b&&c(a)});d.on("ObjectResizeStart Cut",function(){a.beforeChange()});d.on("SaveContent ObjectResized blur",c);d.on("DragEnd",c);d.on("KeyUp",function(b){var f=b.keyCode;if(!b.isDefaultPrevented()){if(33<=f&&36>=f||37<=f&&40>=f||45===f||b.ctrlKey)c(),d.nodeChanged();
46!==f&&8!==f||d.nodeChanged();l&&a.typing&&(d.isDirty()||(b=k[0]&&!e.isEq(e.createFromEditor(d),k[0]),d.setDirty(b),d.isDirty()&&d.fire("change",{level:k[0],lastLevel:null})),d.fire("TypingUndo"),l=!1,d.nodeChanged())}});d.on("KeyDown",function(b){var d=b.keyCode;if(!b.isDefaultPrevented())if(33<=d&&36>=d||37<=d&&40>=d||45===d)a.typing&&c(b);else{var f=b.ctrlKey&&!b.altKey||b.metaKey;!(16>d||20<d)||224===d||91===d||a.typing||f||(a.beforeChange(),a.typing=!0,a.add({},b),l=!0)}});d.on("MouseDown",
function(b){a.typing&&c(b)});d.addShortcut("meta+z","","Undo");d.addShortcut("meta+y,meta+shift+z","","Redo");d.on("AddUndo Undo Redo ClearUndos",function(a){a.isDefaultPrevented()||d.nodeChanged()});return a={data:k,typing:!1,beforeChange:function(){s||(q=d.selection.getBookmark(2,!0))},add:function(a,c){var f;f=d.settings;var l;l=e.createFromEditor(d);a=a||{};a=h.extend(a,l);if(s||d.removed)return null;l=k[b];if(d.fire("BeforeAddUndo",{level:a,lastLevel:l,originalEvent:c}).isDefaultPrevented()||
l&&e.isEq(l,a))return null;k[b]&&(k[b].beforeBookmark=q);if(f.custom_undo_redo_levels&&k.length>f.custom_undo_redo_levels){for(f=0;f<k.length-1;f++)k[f]=k[f+1];k.length--;b=k.length}a.bookmark=d.selection.getBookmark(2,!0);b<k.length-1&&(k.length=b+1);k.push(a);b=k.length-1;f={level:a,lastLevel:l,originalEvent:c};d.fire("AddUndo",f);0<b&&(d.setDirty(!0),d.fire("change",f));return a},undo:function(){var c;a.typing&&(a.add(),a.typing=!1);0<b&&(c=k[--b],e.applyToEditor(d,c,!0),d.setDirty(!0),d.fire("undo",
{level:c}));return c},redo:function(){var a;b<k.length-1&&(a=k[++b],e.applyToEditor(d,a,!1),d.setDirty(!0),d.fire("redo",{level:a}));return a},clear:function(){k=[];b=0;a.typing=!1;a.data=k;d.fire("ClearUndos")},hasUndo:function(){return 0<b||a.typing&&k[0]&&!e.isEq(e.createFromEditor(d),k[0])},hasRedo:function(){return b<k.length-1&&!a.typing},transact:function(b){f();a.beforeChange();try{s++,b()}finally{s--}return a.add()},extra:function(c,f){var h,q;a.transact(c)&&(q=k[b].bookmark,h=k[b-1],e.applyToEditor(d,
h,!0),a.transact(f)&&(k[b-1].beforeBookmark=q))}}}});x("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/caret/CaretContainer","tinymce/Env"],function(l,h,e,d){var c=d.ie&&11>d.ie;return function(f){function a(a){function v(a){return a&&b.isBlock(a)&&!/^(TD|TH|CAPTION|FORM)$/.test(a.nodeName)&&!/^(fixed|absolute)/i.test(a.style.position)&&"true"!==b.getContentEditable(a)}function w(a){var c;b.isBlock(a)&&(c=k.getRng(),a.appendChild(b.create("span",null,"\u00a0")),k.select(a),
a.lastChild.outerHTML="",k.setRng(c))}function p(a){var c=[],d;if(a){for(;a=a.firstChild;){if(b.isBlock(a))return;1!=a.nodeType||m[a.nodeName.toLowerCase()]||c.push(a)}for(d=c.length;d--;)a=c[d],!a.hasChildNodes()||a.firstChild==a.lastChild&&""===a.firstChild.nodeValue?b.remove(a):"A"==a.nodeName&&" "===(a.innerText||a.textContent)&&b.remove(a)}}function t(a){var c,f,e,m=a,h;if(a){d.ie&&9>d.ie&&L&&L.firstChild&&L.firstChild==L.lastChild&&"BR"==L.firstChild.tagName&&b.remove(L.firstChild);if(/^(LI|DT|DD)$/.test(a.nodeName)){a:{for(c=
a.firstChild;c;){if(1==c.nodeType||3==c.nodeType&&c.data&&/[\r\n\s]/.test(c.data))break a;c=c.nextSibling}c=void 0}c&&/^(UL|OL|DL)$/.test(c.nodeName)&&a.insertBefore(b.doc.createTextNode("\u00a0"),a.firstChild)}e=b.createRng();d.ie||a.normalize();if(a.hasChildNodes()){for(c=new l(a,a);f=c.current();){if(3==f.nodeType){e.setStart(f,0);e.setEnd(f,0);break}if(g[f.nodeName.toLowerCase()]){e.setStartBefore(f);e.setEndBefore(f);break}m=f;c.next()}f||(e.setStart(m,0),e.setEnd(m,0))}else if("BR"==a.nodeName)if(a.nextSibling&&
b.isBlock(a.nextSibling)){if(!Z||9>Z)h=b.create("br"),a.parentNode.insertBefore(h,a);e.setStartBefore(a);e.setEndBefore(a)}else e.setStartAfter(a),e.setEndAfter(a);else e.setStart(a,0),e.setEnd(a,0);k.setRng(e);b.remove(h);k.scrollIntoView(a)}}function u(a){var c=q.forced_root_block;c&&c.toLowerCase()===a.tagName.toLowerCase()&&b.setAttribs(a,q.forced_root_block_attrs)}function A(a){a.innerHTML=c?"":'<br data-mce-bogus="1">'}function z(a){var d=E,f,g,e=s.getTextInlineElements();a||"TABLE"==D?(a=b.create(a||
W),u(a)):a=L.cloneNode(!1);g=a;if(!1!==q.keep_styles){do e[d.nodeName]&&"_mce_caret"!=d.id&&(f=d.cloneNode(!1),b.setAttrib(f,"id",""),a.hasChildNodes()?f.appendChild(a.firstChild):g=f,a.appendChild(f));while((d=d.parentNode)&&d!=R)}c||(g.innerHTML='<br data-mce-bogus="1">');return a}function y(a){var b,c;if(3==E.nodeType&&(a?0<S:S<E.nodeValue.length))return!1;if(E.parentNode==L&&X&&!a||a&&1==E.nodeType&&E==L.firstChild)return!0;if("TABLE"===E.nodeName||E.previousSibling&&"TABLE"==E.previousSibling.nodeName)return X&&
!a||!X&&a;b=new l(E,L);for(3==E.nodeType&&(a&&0===S?b.prev():a||S!=E.nodeValue.length||b.next());c=b.current();){if(1===c.nodeType){if(!c.getAttribute("data-mce-bogus")&&(c=c.nodeName.toLowerCase(),m[c]&&"br"!==c))return!1}else if(3===c.nodeType&&!/^[ \t\r\n]*$/.test(c.nodeValue))return!1;a?b.prev():b.next()}return!0}function J(a,c){var d,g,e,k,m=W||"P";g=b.getParent(a,b.isBlock);if(!g||!v(g)){g=g||R;d=g==f.getBody()||g&&/^(TD|TH|CAPTION)$/.test(g.nodeName)?g.nodeName.toLowerCase():g.parentNode.nodeName.toLowerCase();
if(!g.hasChildNodes())return d=b.create(m),u(d),g.appendChild(d),x.setStart(d,0),x.setEnd(d,0),d;for(k=a;k.parentNode!=g;)k=k.parentNode;for(;k&&!b.isBlock(k);)e=k,k=k.previousSibling;if(e&&s.isValidChild(d,m.toLowerCase())){d=b.create(m);u(d);e.parentNode.insertBefore(d,e);for(k=e;k&&!b.isBlock(k);)g=k.nextSibling,d.appendChild(k),k=g;x.setStart(a,c);x.setEnd(a,c)}}return a}function B(){function a(b){for(var c=T[b?"firstChild":"lastChild"];c&&1!=c.nodeType;)c=c[b?"nextSibling":"previousSibling"];
return c===L}function c(){var a=T.parentNode;return/^(LI|DT|DD)$/.test(a.nodeName)?a:T}if(T!=f.getBody()){var d=T.parentNode.nodeName;/^(OL|UL|LI)$/.test(d)&&(W="LI");M=W?z(W):b.create("BR");a(!0)&&a()?"LI"==d?b.insertAfter(M,c()):b.replace(M,T):a(!0)?"LI"==d?(b.insertAfter(M,c()),M.appendChild(b.doc.createTextNode(" ")),M.appendChild(T)):T.parentNode.insertBefore(M,T):a()?(b.insertAfter(M,c()),w(M)):(T=c(),N=x.cloneRange(),N.setStartAfter(L),N.setEndAfter(T),U=N.extractContents(),"LI"==W&&"LI"==
U.firstChild.nodeName?(M=U.firstChild,b.insertAfter(U,T)):(b.insertAfter(U,T),b.insertAfter(M,T)));b.remove(L);t(M);r.add()}}function G(){f.execCommand("InsertLineBreak",!1,a)}function H(a){do 3===a.nodeType&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;while(a)}function F(a){for(var c=b.getRoot(),d;a!==c&&"false"!==b.getContentEditable(a);)"true"===b.getContentEditable(a)&&(d=a),a=a.parentNode;return a!==c?d:c}function C(a){var d;c||(a.normalize(),(d=a.lastChild)&&!/^(left|right)$/gi.test(b.getStyle(d,
"float",!0))||b.add(a,"br"))}function I(){M=/^(H[1-6]|PRE|FIGURE)$/.test(D)&&"HGROUP"!=Q?z(W):z();q.end_container_on_empty_block&&v(T)&&b.isEmpty(L)?M=b.split(T,L):b.insertAfter(M,L);t(M)}var x,N,R,E,S,L,Z,O,M,U,T,D,Q,W,X;x=k.getRng(!0);if(!a.isDefaultPrevented())if(x.collapsed){if((new h(b)).normalize(x),E=x.startContainer,S=x.startOffset,W=(W=(q.force_p_newlines?"p":"")||q.forced_root_block)?W.toUpperCase():"",Z=b.doc.documentMode,O=a.shiftKey,1==E.nodeType&&E.hasChildNodes()&&(X=S>E.childNodes.length-
1,E=E.childNodes[Math.min(S,E.childNodes.length-1)]||E,S=X&&3==E.nodeType?E.nodeValue.length:0),R=F(E))if(r.beforeChange(),b.isBlock(R)||R==b.getRoot()){if(W&&!O||!W&&O)E=J(E,S);T=(L=b.getParent(E,b.isBlock))?b.getParent(L.parentNode,b.isBlock):null;D=L?L.nodeName.toUpperCase():"";Q=T?T.nodeName.toUpperCase():"";"LI"!=Q||a.ctrlKey||(L=T,D=Q);f.undoManager.typing&&(f.undoManager.typing=!1,f.undoManager.add());if(/^(LI|DT|DD)$/.test(D)){if(!W&&O){G();return}if(b.isEmpty(L)){B();return}}if("PRE"==D&&
!1!==q.br_in_pre){if(!O){G();return}}else if(!W&&!O&&"LI"!=D||W&&O){G();return}W&&L===f.getBody()||(W=W||"P",e.isCaretContainerBlock(L)?(M=e.showCaretContainerBlock(L),b.isEmpty(L)&&A(L),t(M)):y()?I():y(!0)?(M=L.parentNode.insertBefore(z(),L),w(M),t(L)):(N=x.cloneRange(),N.setEndAfter(L),U=N.extractContents(),H(U),M=U.firstChild,b.insertAfter(U,L),p(M),C(L),b.isEmpty(L)&&A(L),M.normalize(),b.isEmpty(M)?(b.remove(M),I()):t(M)),b.setAttrib(M,"id",""),f.fire("NewBlock",{newBlock:M}),r.typing=!1,r.add())}else W&&
!O||G()}else f.execCommand("Delete")}var b=f.dom,k=f.selection,q=f.settings,r=f.undoManager,s=f.schema,m=s.getNonEmptyElements(),g=s.getMoveCaretBeforeOnEnterElements();f.on("keydown",function(b){13==b.keyCode&&!1!==a(b)&&b.preventDefault()})}});x("tinymce/ForceBlocks",[],function(){return function(l){function h(){var b=c.getStart(),k=l.getBody(),h,r,s,m,g,n,v,w,p,t,u;u=e.forced_root_block;if(b&&1===b.nodeType&&u){for(;b&&b!=k;){if(a[b.nodeName])return;b=b.parentNode}h=c.getRng();if(h.setStart){r=
h.startContainer;s=h.startOffset;m=h.endContainer;g=h.endOffset;try{p=l.getDoc().activeElement===k}catch(A){}}else h.item&&(b=h.item(0),h=l.getDoc().body.createTextRange(),h.moveToElementText(b)),p=h.parentElement().ownerDocument===l.getDoc(),b=h.duplicate(),b.collapse(!0),s=-1*b.move("character",-16777215),b.collapsed||(b=h.duplicate(),b.collapse(!1),g=-1*b.move("character",-16777215)-s);b=k.firstChild;for(t=k.nodeName.toLowerCase();b;)(3===b.nodeType||1==b.nodeType&&!a[b.nodeName])&&f.isValidChild(t,
u.toLowerCase())?3===b.nodeType&&0===b.nodeValue.length?(v=b,b=b.nextSibling,d.remove(v)):(n||(n=d.create(u,l.settings.forced_root_block_attrs),b.parentNode.insertBefore(n,b),w=!0),v=b,b=b.nextSibling,n.appendChild(v)):(n=null,b=b.nextSibling);if(w&&p){if(h.setStart)h.setStart(r,s),h.setEnd(m,g),c.setRng(h);else try{h=l.getDoc().body.createTextRange(),h.moveToElementText(k),h.collapse(!0),h.moveStart("character",s),0<g&&h.moveEnd("character",g),h.select()}catch(z){}l.nodeChanged()}}}var e=l.settings,
d=l.dom,c=l.selection,f=l.schema,a=f.getBlockElements();if(e.forced_root_block)l.on("NodeChange",h)}});x("tinymce/caret/CaretUtils","tinymce/util/Fun tinymce/dom/TreeWalker tinymce/dom/NodeType tinymce/caret/CaretPosition tinymce/caret/CaretContainer tinymce/caret/CaretCandidate".split(" "),function(l,h,e,d,c,f){function a(a,b){for(var c;c=a(b);)if(!w(c))return c;return null}function b(a,b){for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(m(a))return a;return b}function k(a,b){for(;a&&a!=b;){if(n(a))return a;
a=a.parentNode}return null}function q(a,b){var c=b.ownerDocument.createRange();a?(c.setStartBefore(b),c.setEndBefore(b)):(c.setStartAfter(b),c.setEndAfter(b));return c}function r(a,b,c){var d;for(d=a?"previousSibling":"nextSibling";c&&c!=b;){a=c[d];v(a)&&(a=a[d]);if(g(a)){if(k(a,b)==k(c,b))return a;break}if(u(a))break;c=c.parentNode}return null}function s(a,b){var c=g,d;var f;b?(d=b.container(),f=b.offset(),d=t(d)?d.childNodes[f+a]:null):d=null;return c(d)}var m=e.isContentEditableTrue,g=e.isContentEditableFalse,
n=e.matchStyleValues("display","block table table-cell table-caption"),v=c.isCaretContainer,w=c.isCaretContainerBlock,p=l.curry,t=e.isElement,u=f.isCaretCandidate,A=p(q,!0),z=p(q,!1);return{isForwards:function(a){return 0<a},isBackwards:function(a){return 0>a},findNode:function(b,c,d,f,e){f=new h(b,f);if(0>c){if(g(b)||w(b))if(b=a(f.prev,!0),d(b))return b;for(;b=a(f.prev,e);)if(d(b))return b}if(0<c){if(g(b)||w(b))if(b=a(f.next,!0),d(b))return b;for(;b=a(f.next,e);)if(d(b))return b}return null},getEditingHost:b,
getParentBlock:k,isInSameBlock:function(a,b,c){return k(a.container(),c)==k(b.container(),c)},isInSameEditingHost:function(a,c,d){return b(a.container(),d)==b(c.container(),d)},isBeforeContentEditableFalse:p(s,0),isAfterContentEditableFalse:p(s,-1),normalizeRange:function(a,b,d){var f,k,m,h=p(r,!0,b),n=p(r,!1,b);f=d.startContainer;k=d.startOffset;if(c.isCaretContainerBlock(f)){t(f)||(f=f.parentNode);m=f.getAttribute("data-mce-caret");if("before"==m&&(b=f.nextSibling,g(b)))return A(b);if("after"==
m&&(b=f.previousSibling,g(b)))return z(b)}if(!d.collapsed)return d;if(e.isText(f)){if(v(f)){if(1===a){if(b=n(f))return A(b);if(b=h(f))return z(b)}if(-1===a){if(b=h(f))return z(b);if(b=n(f))return A(b)}return d}if(c.endsWithCaretContainer(f)&&k>=f.data.length-1)return 1===a&&(b=n(f))?A(b):d;if(c.startsWithCaretContainer(f)&&1>=k)return-1===a&&(b=h(f))?z(b):d;if(k===f.data.length)return(b=n(f))?A(b):d;if(0===k&&(b=h(f)))return z(b)}return d}}});x("tinymce/caret/CaretWalker","tinymce/dom/NodeType tinymce/caret/CaretCandidate tinymce/caret/CaretPosition tinymce/caret/CaretUtils tinymce/util/Arr tinymce/util/Fun".split(" "),
function(l,h,e,d,c,f){function a(a,b){for(var c=[];a&&a!=b;)c.push(a),a=a.parentNode;return c}function b(a,b){if(g(a)){if(v(b.previousSibling)&&!r(b.previousSibling))return e.before(b);if(r(b))return e(b,0)}if(n(a)){if(v(b.nextSibling)&&!r(b.nextSibling))return e.after(b);if(r(b))return e(b,b.data.length)}return n(a)?m(b)?e.before(b):e.after(b):e.before(b)}function k(m,h,A){var z,y,J;if(!s(A)||!h)return null;J=h;z=J.container();y=J.offset();if(r(z)){if(n(m)&&0<y)return e(z,--y);if(g(m)&&y<z.length)return e(z,
++y);h=z}else{if(n(m)&&0<y&&(h=z.hasChildNodes()&&y-1<z.childNodes.length?z.childNodes[y-1]:null,v(h)))return!w(h)&&(m=d.findNode(h,m,p,h))?r(m)?e(m,m.data.length):e.after(m):r(h)?e(h,h.data.length):e.before(h);if(g(m)&&y<z.childNodes.length&&(h=z.hasChildNodes()&&y<z.childNodes.length?z.childNodes[y]:null,v(h)))return z=h,z=l.isBr(z)?(J=k(1,e.after(z),A))?!d.isInSameBlock(e.before(z),e.before(J),A):!1:!1,z?k(m,e.after(h),A):!w(h)&&(m=d.findNode(h,m,p,h))?r(m)?e(m,0):e.before(m):r(h)?e(h,0):e.after(h);
h=J.getNode()}if(g(m)&&J.isAtEnd()||n(m)&&J.isAtStart())if(h=d.findNode(h,m,f.constant(!0),A,!0),p(h))return b(m,h);h=d.findNode(h,m,p,A);return!(A=c.last(c.filter(a(z,A),q)))||h&&A.contains(h)?h?b(m,h):null:J=g(m)?e.after(A):e.before(A)}var q=l.isContentEditableFalse,r=l.isText,s=l.isElement,m=l.isBr,g=d.isForwards,n=d.isBackwards,v=h.isCaretCandidate,w=h.isAtomic,p=h.isEditableCaretCandidate;return function(a){return{next:function(b){return k(1,b,a)},prev:function(b){return k(-1,b,a)}}}});x("tinymce/InsertList",
["tinymce/util/Tools","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition"],function(l,h,e){var d=function(a,b,c){b=b.serialize(c);a=a.createFragment(b);b=a.firstChild;c=a.lastChild;b&&"META"===b.nodeName&&b.parentNode.removeChild(b);c&&"mce_marker"===c.id&&c.parentNode.removeChild(c);return a},c=function(a){return l.grep(a.childNodes,function(a){return"LI"===a.nodeName})},f=function(a){return 0<a.length&&!a[a.length-1].firstChild?a.slice(0,-1):a},a=function(a,b){var c=a.getParent(b,a.isBlock);
return c&&"LI"===c.nodeName?c:null},b=function(a,b){var c=b.cloneRange(),d=b.cloneRange();c.setStartBefore(a);d.setEndAfter(a);return[c.cloneContents(),d.cloneContents()]},k=function(a,b){var c=e.before(a);return(c=(new h(b)).next(c))?c.toRange():null},q=function(a,b){var c=e.after(a);return(c=(new h(b)).prev(c))?c.toRange():null},r=function(a,c,d,f){f=b(a,f);var e=a.parentNode;e.insertBefore(f[0],a);l.each(c,function(b){e.insertBefore(b,a)});e.insertBefore(f[1],a);e.removeChild(a);return q(c[c.length-
1],d)},s=function(a,b,c){var d=a.parentNode;l.each(b,function(b){d.insertBefore(b,a)});return k(a,c)},m=function(a,b,c,d){d.insertAfter(b.reverse(),a);return q(b[0],c)};return{isListFragment:function(a){var b=a.firstChild;a=a.lastChild;b&&"meta"===b.name&&(b=b.next);a&&"mce_marker"===a.attr("id")&&(a=a.prev);return b&&b===a?"ul"===b.name||"ol"===b.name:!1},insertAtCaret:function(b,k,l,q){b=d(k,b,q);var p=a(k,l.startContainer);b=f(c(b.firstChild));q=k.getRoot();var t=function(b){var c=e.fromRangeStart(l),
d=new h(k.getRoot());return(b=1===b?d.prev(c):d.next(c))?a(k,b.getNode())!==p:!0};return t(1)?s(p,b,q):t(2)?m(p,b,q,k):r(p,b,q,l)},isParentBlockLi:function(b,c){return!!a(b,c)},trimListItems:f,listItems:c}});x("tinymce/InsertContent","tinymce/Env tinymce/util/Tools tinymce/html/Serializer tinymce/caret/CaretWalker tinymce/caret/CaretPosition tinymce/dom/ElementUtils tinymce/dom/NodeType tinymce/InsertList".split(" "),function(l,h,e,d,c,f,a,b){var k=a.matchNodeNames("td th"),q=function(a,b,c){if("all"===
c.getAttribute("data-mce-bogus"))c.parentNode.insertBefore(a.dom.createFragment(b),c);else{var d=c.firstChild,f=c.lastChild;!d||d===f&&"BR"===d.nodeName?a.dom.setHTML(c,b):a.selection.setContent(b)}},r=function(a,m,g){function n(a){var b,c;b=x.getRng(!0);c=b.startContainer;b=b.startOffset;3==c.nodeType&&(0<b?a=a.replace(/^&nbsp;/," "):c.previousSibling&&3==c.previousSibling.nodeType||(a=a.replace(/^ /,"&nbsp;")),b<c.length?a=a.replace(/&nbsp;(<br>|)$/," "):c.nextSibling&&3==c.nextSibling.nodeType||
(a=a.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;")));return a}function r(){var a,b,c;a=x.getRng(!0);b=a.startContainer;c=a.startOffset;3==b.nodeType&&a.collapsed&&("\u00a0"===b.data[c]?(b.deleteData(c,1),/[\u00a0| ]$/.test(m)||(m+=" ")):"\u00a0"===b.data[c-1]&&(b.deleteData(c-1,1),/[\u00a0| ]$/.test(m)||(m=" "+m)))}function w(){if(C){var b=a.getBody(),c=new f(N);h.each(N.select("*[data-mce-fragment]"),function(a){for(var d=a.parentNode;d&&d!=b;d=d.parentNode)I[a.nodeName.toLowerCase()]&&c.compare(d,a)&&
N.remove(a,!0)})}}function p(a){for(;a=a.walk();)1===a.type&&a.attr("data-mce-fragment","1")}function t(a){h.each(a.getElementsByTagName("*"),function(a){a.removeAttribute("data-mce-fragment")})}function u(b){function f(b){for(var c=a.getBody();b&&b!==c;b=b.parentNode)if("false"===a.dom.getContentEditable(b))return b;return null}function g(b){b=c.fromRangeStart(b);if(b=(new d(a.getBody())).next(b))return b.toRange()}var e,m;b&&(x.scrollIntoView(b),(e=f(b))?(N.remove(b),x.select(e)):(G=N.createRng(),
(H=b.previousSibling)&&3==H.nodeType?(G.setStart(H,H.nodeValue.length),l.ie||(F=b.nextSibling)&&3==F.nodeType&&(H.appendData(F.data),F.parentNode.removeChild(F))):(G.setStartBefore(b),G.setEndBefore(b)),e=N.getParent(b,N.isBlock),N.remove(b),e&&N.isEmpty(e)&&(a.$(e).empty(),G.setStart(e,0),G.setEnd(e,0),k(e)||e.getAttribute("data-mce-fragment")||!(m=g(G))?N.add(e,N.create("br",{"data-mce-bogus":"1"})):(G=m,N.remove(e))),x.setRng(G)))}var A,z,y,J,B,G,H,F,C,I=a.schema.getTextInlineElements(),x=a.selection,
N=a.dom;/^ | $/.test(m)&&(m=n(m));A=a.parser;C=g.merge;z=new e({validate:a.settings.validate},a.schema);B={content:m,format:"html",selection:!0};a.fire("BeforeSetContent",B);m=B.content;-1==m.indexOf("{$caret}")&&(m+="{$caret}");m=m.replace(/\{\$caret\}/,'<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');G=x.getRng();y=G.startContainer||(G.parentElement?G.parentElement():null);var R=a.getBody();y===R&&x.isCollapsed()&&N.isBlock(R.firstChild)&&R.firstChild&&!a.schema.getShortEndedElements()[R.firstChild.nodeName]&&
N.isEmpty(R.firstChild)&&(G=N.createRng(),G.setStart(R.firstChild,0),G.setEnd(R.firstChild,0),x.setRng(G));x.isCollapsed()||(a.selection.setRng(a.selection.getRng()),a.getDoc().execCommand("Delete",!1,null),r());y=x.getNode();R={context:y.nodeName.toLowerCase(),data:g.data};J=A.parse(m,R);if(!0===g.paste&&b.isListFragment(J)&&b.isParentBlockLi(N,y))G=b.insertAtCaret(z,N,a.selection.getRng(!0),J),a.selection.setRng(G),a.fire("SetContent",B);else{p(J);H=J.lastChild;if("mce_marker"==H.attr("id"))for(g=
H,H=H.prev;H;H=H.walk(!0))if(3==H.type||!N.isBlock(H.name)){a.schema.isValidChild(H.parent.name,"span")&&H.parent.insert(g,H,"br"===H.name);break}a._selectionOverrides.showBlockCaretContainer(y);if(R.invalid){x.setContent('<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');y=x.getNode();g=a.getBody();for(9==y.nodeType?y=H=g:H=y;H!==g;)y=H,H=H.parentNode;m=y==g?g.innerHTML:N.getOuterHTML(y);m=z.serialize(A.parse(m.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return z.serialize(J)})));
y==g?N.setHTML(g,m):N.setOuterHTML(y,m)}else m=z.serialize(J),q(a,m,y);w();u(N.get("mce_marker"));t(a.getBody());a.fire("SetContent",B);a.addVisual()}};return{insertAtCaret:function(a,b){var c,d;"string"!==typeof b?(d=h.extend({paste:b.paste,data:{paste:b.paste}},b),c=b.content):(c=b,d={});r(a,c,d)}}});x("tinymce/EditorCommands","tinymce/Env tinymce/util/Tools tinymce/dom/RangeUtils tinymce/dom/TreeWalker tinymce/InsertContent tinymce/dom/NodeType".split(" "),function(l,h,e,d,c,f){var a=h.each,b=
h.extend,k=h.map,q=h.inArray,r=h.explode,s=l.ie&&11>l.ie,m=!1;return function(g){function h(a){var b;if(!g.quirks.isHidden()){a=a.toLowerCase();if(b=z.state[a])return b(a);try{return g.getDoc().queryCommandState(a)}catch(c){}return!1}}function v(b,c){c=c||"exec";a(b,function(b,d){a(d.toLowerCase().split(","),function(a){z[c][a]=b})})}function w(a,b,c){b===ba&&(b=m);c===ba&&(c=null);return g.getDoc().execCommand(a,b,c)}function p(a,b){A.toggle(a,b?{value:b}:ba);g.nodeChanged()}var t,u,A,z={state:{},
exec:{},value:{}},y=g.settings,J;g.on("PreInit",function(){t=g.dom;u=g.selection;y=g.settings;A=g.formatter});b(this,{execCommand:function(b,c,d,f){var e,k=0;/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(b)||f&&f.skip_focus||g.focus();f=g.fire("BeforeExecCommand",{command:b,ui:c,value:d});if(f.isDefaultPrevented())return!1;e=b.toLowerCase();if(f=z.exec[e])return f(e,c,d),g.fire("ExecCommand",{command:b,ui:c,value:d}),!0;a(g.plugins,function(a){if(a.execCommand&&a.execCommand(b,
c,d))return g.fire("ExecCommand",{command:b,ui:c,value:d}),k=!0,!1});if(k)return k;if(g.theme&&g.theme.execCommand&&g.theme.execCommand(b,c,d))return g.fire("ExecCommand",{command:b,ui:c,value:d}),!0;try{k=g.getDoc().execCommand(b,c,d)}catch(m){}return k?(g.fire("ExecCommand",{command:b,ui:c,value:d}),!0):!1},queryCommandState:h,queryCommandValue:function(a){var b;if(!g.quirks.isHidden()){a=a.toLowerCase();if(b=z.value[a])return b(a);try{return g.getDoc().queryCommandValue(a)}catch(c){}}},queryCommandSupported:function(a){a=
a.toLowerCase();if(z.exec[a])return!0;try{return g.getDoc().queryCommandSupported(a)}catch(b){}return!1},addCommands:v,addCommand:function(a,b,c){a=a.toLowerCase();z.exec[a]=function(a,d,f,e){return b.call(c||g,d,f,e)}},addQueryStateHandler:function(a,b,c){a=a.toLowerCase();z.state[a]=function(){return b.call(c||g)}},addQueryValueHandler:function(a,b,c){a=a.toLowerCase();z.value[a]=function(){return b.call(c||g)}},hasCustomCommand:function(a){a=a.toLowerCase();return!!z.exec[a]}});v({"mceResetDesignMode,mceBeginUndoLevel":function(){},
"mceEndUndoLevel,mceAddUndoLevel":function(){g.undoManager.add()},"Cut,Copy,Paste":function(a){var b=g.getDoc(),c;try{w(a)}catch(d){c=!0}"paste"!==a||b.queryCommandEnabled(a)||(c=!0);if(c||!b.queryCommandSupported(a))a=g.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),l.mac&&(a=a.replace(/Ctrl\+/g,"\u2318+")),g.notificationManager.open({text:a,type:"error"})},unlink:function(){if(u.isCollapsed()){var a=g.dom.getParent(g.selection.getStart(),
"a");a&&g.dom.remove(a,!0)}else A.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(b){var c=b.substring(7);"full"==c&&(c="justify");a(["left","center","right","justify"],function(a){c!=a&&A.remove("align"+a)});"none"!=c&&p("align"+c)},"InsertUnorderedList,InsertOrderedList":function(a){var b;w(a);if(a=t.getParent(u.getNode(),"ol,ul"))b=a.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(b.nodeName)&&(J=u.getBookmark(void 0),t.split(b,a),u.moveToBookmark(J))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){p(a)},
"ForeColor,HiliteColor,FontName":function(a,b,c){p(a,c)},FontSize:function(a,b,c){var d;1<=c&&7>=c&&(d=r(y.font_size_style_values),c=(b=r(y.font_size_classes))?b[c-1]||c:d[c-1]||c);p(a,c)},RemoveFormat:function(a){A.remove(a)},mceBlockQuote:function(){p("blockquote")},FormatBlock:function(a,b,c){return p(c||"p")},mceCleanup:function(){var a=u.getBookmark();g.setContent(g.getContent({cleanup:!0}),{cleanup:!0});u.moveToBookmark(a)},mceRemoveNode:function(a,b,c){a=c||u.getNode();a!=g.getBody()&&(J=u.getBookmark(void 0),
g.dom.remove(a,!0),u.moveToBookmark(J))},mceSelectNodeDepth:function(a,b,c){var d=0;t.getParent(u.getNode(),function(a){if(1==a.nodeType&&d++==c)return u.select(a),m},g.getBody())},mceSelectNode:function(a,b,c){u.select(c)},mceInsertContent:function(a,b,d){c.insertAtCaret(g,d)},mceInsertRawHTML:function(a,b,c){u.setContent("tiny_mce_marker");g.setContent(g.getContent().replace(/tiny_mce_marker/g,function(){return c}))},mceToggleFormat:function(a,b,c){p(c)},mceSetContent:function(a,b,c){g.setContent(c)},
"Indent,Outdent":function(b){var c,d,f;c=y.indentation;d=/[a-z%]+$/i.exec(c);c=parseInt(c,10);h("InsertUnorderedList")||h("InsertOrderedList")?w(b):(y.forced_root_block||t.getParent(u.getNode(),t.isBlock)||A.apply("div"),a(u.getSelectedBlocks(),function(a){if("false"!==t.getContentEditable(a)&&"LI"!==a.nodeName){var e=g.getParam("indent_use_margin",!1)?"margin":"padding",e="TABLE"===a.nodeName?"margin":e,e=e+("rtl"==t.getStyle(a,"direction",!0)?"Right":"Left");"outdent"==b?(f=Math.max(0,parseInt(a.style[e]||
0,10)-c),t.setStyle(a,e,f?f+d:"")):(f=parseInt(a.style[e]||0,10)+c+d,t.setStyle(a,e,f))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){g.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){g.hasVisual=!g.hasVisual;g.addVisual()},mceReplaceContent:function(a,b,c){g.execCommand("mceInsertContent",!1,c.replace(/\{\$selection\}/g,u.getContent({format:"text"})))},mceInsertLink:function(a,b,c){"string"==typeof c&&(c={href:c});a=t.getParent(u.getNode(),"a");c.href=c.href.replace(" ",
"%20");a&&c.href||A.remove("link");c.href&&A.apply("link",c,a)},selectAll:function(){var a=t.getRoot(),b;if(u.getRng().setStart){if(a=t.getParent(u.getStart(),f.isContentEditableTrue))b=t.createRng(),b.selectNodeContents(a),u.setRng(b)}else b=u.getRng(),b.item||(b.moveToElementText(a),b.select())},"delete":function(){w("Delete");var a=g.getBody();t.isEmpty(a)&&(g.setContent(""),a.firstChild&&t.isBlock(a.firstChild)?g.selection.setCursorLocation(a.firstChild,0):g.selection.setCursorLocation(a,0))},
mceNewDocument:function(){g.setContent("")},InsertLineBreak:function(a,b,c){var f;a=u.getRng(!0);(new e(t)).normalize(a);var k=a.startOffset,m=a.startContainer;1==m.nodeType&&m.hasChildNodes()&&(b=k>m.childNodes.length-1,m=m.childNodes[Math.min(k,m.childNodes.length-1)]||m,k=b&&3==m.nodeType?m.nodeValue.length:0);var h=t.getParent(m,t.isBlock);b=h?h.nodeName.toUpperCase():"";var p=h?t.getParent(h.parentNode,t.isBlock):null,n=p?p.nodeName.toUpperCase():"";c=c&&c.ctrlKey;"LI"!=n||c||(h=p,b=n);if(m&&
3==m.nodeType&&k>=m.nodeValue.length){if(c=!s){a:{c=new d(m,h);for(k=g.schema.getNonEmptyElements();m=c.next();)if(k[m.nodeName.toLowerCase()]||0<m.length){c=!0;break a}c=void 0}c=!c}c&&(c=t.create("br"),a.insertNode(c),a.setStartAfter(c),a.setEndAfter(c),f=!0)}c=t.create("br");a.insertNode(c);m=t.doc.documentMode;s&&"PRE"==b&&(!m||8>m)&&c.parentNode.insertBefore(t.doc.createTextNode("\r"),c);b=t.create("span",{},"&nbsp;");c.parentNode.insertBefore(b,c);u.scrollIntoView(b);t.remove(b);f?(a.setStartBefore(c),
a.setEndBefore(c)):(a.setStartAfter(c),a.setEndAfter(c));u.setRng(a);g.undoManager.add();return!0}});v({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var b="align"+a.substring(7);a=u.isCollapsed()?[t.getParent(u.getNode(),t.isBlock)]:u.getSelectedBlocks();a=k(a,function(a){return!!A.matchNode(a,b)});return-1!==q(a,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return A.match(a)},mceBlockQuote:function(){return A.match("blockquote")},Outdent:function(){var a;
return y.inline_styles&&((a=t.getParent(u.getStart(),t.isBlock))&&0<parseInt(a.style.paddingLeft,10)||(a=t.getParent(u.getEnd(),t.isBlock))&&0<parseInt(a.style.paddingLeft,10))?!0:h("InsertUnorderedList")||h("InsertOrderedList")||!y.inline_styles&&!!t.getParent(u.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var b=t.getParent(u.getNode(),"ul,ol");return b&&("insertunorderedlist"===a&&"UL"===b.tagName||"insertorderedlist"===a&&"OL"===b.tagName)}},"state");v({"FontSize,FontName":function(a){var b=
0,c;if(c=t.getParent(u.getNode(),"span"))b="fontsize"==a?c.style.fontSize:c.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase();return b}},"value");v({Undo:function(){g.undoManager.undo()},Redo:function(){g.undoManager.redo()}})}});x("tinymce/util/URI",["tinymce/util/Tools"],function(l){function h(a,b){var f=this,l,r;a=d(a);b=f.settings=b||{};l=b.base_uri;if(/^([\w\-]+):([^\/]{2})/i.test(a)||/^\s*#/.test(a))f.source=a;else{var s=0===a.indexOf("//");0!==a.indexOf("/")||s||(a=(l?
l.protocol||"http":"http")+"://mce_host"+a);/^[\w\-]*:?\/\//.test(a)||(r=b.base_uri?b.base_uri.path:(new h(location.href)).directory,""===b.base_uri.protocol?a="//mce_host"+f.toAbsPath(r,a):(a=/([^#?]*)([#?]?.*)/.exec(a),a=(l&&l.protocol||"http")+"://mce_host"+f.toAbsPath(r,a[1])+a[2]));a=a.replace(/@@/g,"(mce_at)");a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a);
e(c,function(b,c){var d=a[c];d&&(d=d.replace(/\(mce_at\)/g,"@@"));f[b]=d});l&&(f.protocol||(f.protocol=l.protocol),f.userInfo||(f.userInfo=l.userInfo),f.port||"mce_host"!==f.host||(f.port=l.port),f.host&&"mce_host"!==f.host||(f.host=l.host),f.source="");s&&(f.protocol="")}}var e=l.each,d=l.trim,c="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),f={ftp:21,http:80,https:443,mailto:25};h.prototype={setPath:function(a){a=/^(.*?)\/?(\w+)?$/.exec(a);
this.path=a[0];this.directory=a[1];this.file=a[2];this.source="";this.getURI()},toRelative:function(a){var b;if("./"===a)return a;a=new h(a,{base_uri:this});if("mce_host"!=a.host&&this.host!=a.host&&a.host||this.port!=a.port||this.protocol!=a.protocol&&""!==a.protocol)return a.getURI();b=this.getURI();var c=a.getURI();if(b==c||"/"==b.charAt(b.length-1)&&b.substr(0,b.length-1)==c)return b;b=this.toRelPath(this.path,a.path);a.query&&(b+="?"+a.query);a.anchor&&(b+="#"+a.anchor);return b},toAbsolute:function(a,
b){a=new h(a,{base_uri:this});return a.getURI(b&&this.isSameOrigin(a))},isSameOrigin:function(a){if(this.host==a.host&&this.protocol==a.protocol){if(this.port==a.port)return!0;var b=f[this.protocol];if(b&&(this.port||b)==(a.port||b))return!0}return!1},toRelPath:function(a,b){var c,d=0,f="",e,m;a=a.substring(0,a.lastIndexOf("/"));a=a.split("/");c=b.split("/");if(a.length>=c.length)for(e=0,m=a.length;e<m;e++)if(e>=c.length||a[e]!=c[e]){d=e+1;break}if(a.length<c.length)for(e=0,m=c.length;e<m;e++)if(e>=
a.length||a[e]!=c[e]){d=e+1;break}if(1===d)return b;e=0;for(m=a.length-(d-1);e<m;e++)f+="../";e=d-1;for(m=c.length;e<m;e++)f=e!=d-1?f+("/"+c[e]):f+c[e];return f},toAbsPath:function(a,b){var c,d=0,f=[],h;h=/\/$/.test(b)?"/":"";a=a.split("/");b=b.split("/");e(a,function(a){a&&f.push(a)});a=f;c=b.length-1;for(f=[];0<=c;c--)0!==b[c].length&&"."!==b[c]&&(".."===b[c]?d++:0<d?d--:f.push(b[c]));c=a.length-d;c=0>=c?f.reverse().join("/"):a.slice(0,c).join("/")+"/"+f.reverse().join("/");0!==c.indexOf("/")&&
(c="/"+c);h&&c.lastIndexOf("/")!==c.length-1&&(c+=h);return c},getURI:function(a){var b;if(!this.source||a)b="",a||(b=this.protocol?b+(this.protocol+"://"):b+"//",this.userInfo&&(b+=this.userInfo+"@"),this.host&&(b+=this.host),this.port&&(b+=":"+this.port)),this.path&&(b+=this.path),this.query&&(b+="?"+this.query),this.anchor&&(b+="#"+this.anchor),this.source=b;return this.source}};h.parseDataUri=function(a){var b,c;a=decodeURIComponent(a).split(",");(c=/data:([^;]+)/.exec(a[0]))&&(b=c[1]);return{type:b,
data:a[1]}};h.getDocumentBaseUrl=function(a){a=0!==a.protocol.indexOf("http")&&"file:"!==a.protocol?a.href:a.protocol+"//"+a.host+a.pathname;/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));return a};return h});x("tinymce/util/Class",["tinymce/util/Tools"],function(l){function h(){}var e=l.each,d=l.extend,c,f;h.extend=c=function(a){function b(){var a,b,c;if(!f&&(this.init&&this.init.apply(this,arguments),b=this.Mixins))for(a=b.length;a--;)c=
b[a],c.init&&c.init.apply(this,arguments)}function k(){return this}function h(a,b){return function(){var c=this._super,d;this._super=l[a];d=b.apply(this,arguments);this._super=c;return d}}var l=this.prototype,s,m,g;f=!0;s=new this;f=!1;a.Mixins&&(e(a.Mixins,function(b){for(var c in b)"init"!==c&&(a[c]=b[c])}),l.Mixins&&(a.Mixins=l.Mixins.concat(a.Mixins)));a.Methods&&e(a.Methods.split(","),function(b){a[b]=k});a.Properties&&e(a.Properties.split(","),function(b){var c="_"+b;a[b]=function(a){return void 0!==
a?(this[c]=a,this):this[c]}});a.Statics&&e(a.Statics,function(a,c){b[c]=a});a.Defaults&&l.Defaults&&(a.Defaults=d({},l.Defaults,a.Defaults));for(m in a)g=a[m],s[m]="function"==typeof g&&l[m]?h(m,g):g;b.prototype=s;b.constructor=b;b.extend=c;return b};return h});x("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(l){function h(d){function c(){return!1}function f(){return!0}function a(a,b,d,f){var h,p;!1===b&&(b=c);if(b)for(b={func:b},f&&l.extend(b,f),h=a.toLowerCase().split(" "),p=h.length;p--;)a=
h[p],f=r[a],f||(f=r[a]=[],s(a,!0)),d?f.unshift(b):f.push(b);return e}function b(a,b){var c,d,f,h,l;if(a)for(h=a.toLowerCase().split(" "),c=h.length;c--;){a=h[c];d=r[a];if(!a){for(f in r)s(f,!1),delete r[f];break}if(d){if(b)for(l=d.length;l--;)d[l].func===b&&(d=d.slice(0,l).concat(d.slice(l+1)),r[a]=d);else d.length=0;d.length||(s(a,!1),delete r[a])}}else{for(a in r)s(a,!1);r={}}return e}var e=this,h,r={},s;d=d||{};h=d.scope||e;s=d.toggleEvent||c;e.fire=function(a,e){var k,l,s,p;a=a.toLowerCase();
e=e||{};e.type=a;e.target||(e.target=h);e.preventDefault||(e.preventDefault=function(){e.isDefaultPrevented=f},e.stopPropagation=function(){e.isPropagationStopped=f},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=f},e.isDefaultPrevented=c,e.isPropagationStopped=c,e.isImmediatePropagationStopped=c);d.beforeFire&&d.beforeFire(e);if(k=r[a])for(l=0,s=k.length;l<s;l++){p=k[l];p.once&&b(a,p.func);if(e.isImmediatePropagationStopped()){e.stopPropagation();break}if(!1===p.func.call(h,
e)){e.preventDefault();break}}return e};e.on=a;e.off=b;e.once=function(b,c,d){return a(b,c,d,{once:!0})};e.has=function(a){a=a.toLowerCase();return!(!r[a]||0===r[a].length)}}var e=l.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend",
" ");h.isNative=function(d){return!!e[d.toLowerCase()]};return h});x("tinymce/data/Binding",[],function(){function l(h){this.create=h.create}l.create=function(h,e){return new l({create:function(d,c){function f(a){d.set(c,a.value)}var a;d.on("change:"+c,function(a){h.set(e,a.value)});h.on("change:"+e,f);a=d._bindings;a||(a=d._bindings=[],d.on("destroy",function(){for(var b=a.length;b--;)a[b]()}));a.push(function(){h.off("change:"+e,f)});return h.get(e)}})};return l});x("tinymce/util/Observable",["tinymce/util/EventDispatcher"],
function(l){function h(e){e._eventDispatcher||(e._eventDispatcher=new l({scope:e,toggleEvent:function(d,c){l.isNative(d)&&e.toggleNativeEvent&&e.toggleNativeEvent(d,c)}}));return e._eventDispatcher}return{fire:function(e,d,c){if(this.removed&&"remove"!==e)return d;d=h(this).fire(e,d,c);if(!1!==c&&this.parent)for(c=this.parent();c&&!d.isPropagationStopped();)c.fire(e,d,!1),c=c.parent();return d},on:function(e,d,c){return h(this).on(e,d,c)},off:function(e,d){return h(this).off(e,d)},once:function(e,
d){return h(this).once(e,d)},hasEventListeners:function(e){return h(this).has(e)}}});x("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(l,h,e,d){function c(f,a){var b,e;if(f===a)return!0;if(null===f||null===a||"object"!==typeof f||"object"!==typeof a)return f===a;if(d.isArray(a)){if(f.length!==a.length)return!1;for(b=f.length;b--;)if(!c(f[b],a[b]))return!1}if(0<f.nodeType||0<a.nodeType)return f===a;e={};for(b in a){if(!c(f[b],
a[b]))return!1;e[b]=!0}for(b in f)if(!e[b]&&!c(f[b],a[b]))return!1;return!0}return e.extend({Mixins:[h],init:function(c){var a,b;c=c||{};for(a in c)b=c[a],b instanceof l&&(c[a]=b.create(this,a));this.data=c},set:function(d,a){var b,e=this.data[d];a instanceof l&&(a=a.create(this,d));if("object"===typeof d){for(b in d)this.set(b,d[b]);return this}c(e,a)||(this.data[d]=a,b={target:this,name:d,value:a,oldValue:e},this.fire("change:"+d,b),this.fire("change",b));return this},get:function(c){return this.data[c]},
has:function(c){return c in this.data},bind:function(c){return l.create(this,c)},destroy:function(){this.fire("destroy")}})});x("tinymce/ui/Selector",["tinymce/util/Class"],function(l){function h(a){for(var c=[],d=a.length,f;d--;)f=a[d],f.__checked||(c.push(f),f.__checked=1);for(d=c.length;d--;)delete c[d].__checked;return c}var e=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
c=/^\s*|\s*$/g,f,a=l.extend({init:function(a){function f(a){if(a)return a=a.toLowerCase(),function(b){return"*"===a||b.type===a}}function h(a){if(a)return function(b){return b._name===a}}function l(a){if(a)return a=a.split("."),function(b){for(var c=a.length;c--;)if(!b.classes.contains(a[c]))return!1;return!0}}function s(a,b,c){if(a)return function(d){d=d[a]?d[a]():"";return b?"="===b?d===c:"*="===b?0<=d.indexOf(c):"~="===b?0<=(" "+d+" ").indexOf(" "+c+" "):"!="===b?d!=c:"^="===b?0===d.indexOf(c):
"$="===b?d.substr(d.length-c.length)===c:!1:!!c}}function m(a){var b;if(a){a=/(?:not\((.+)\))|(.+)/i.exec(a);if(!a[1])return a=a[2],function(b,c,d){return"first"===a?0===c:"last"===a?c===d-1:"even"===a?0===c%2:"odd"===a?1===c%2:b[a]?b[a]():!1};b=n(a[1],[]);return function(a){return!v(a,b)}}}function g(a,b,d){function g(a){a&&b.push(a)}a=e.exec(a.replace(c,""));g(f(a[1]));g(h(a[2]));g(l(a[3]));g(s(a[4],a[5],a[6]));g(m(a[7]));b.pseudo=!!a[7];b.direct=d;return b}function n(a,b){var c=[],f,e;do if(d.exec(""),
e=d.exec(a))if(a=e[3],c.push(e[1]),e[2]){f=e[3];break}while(e);f&&n(f,b);a=[];for(f=0;f<c.length;f++)">"!=c[f]&&a.push(g(c[f],[],">"===c[f-1]));b.push(a);return b}var v=this.match;this._selectors=n(a,[])},match:function(a,c){var d,f,e,m,g,h,l,w,p,t,u,A;c=c||this._selectors;d=0;for(f=c.length;d<f;d++){g=c[d];m=g.length;A=a;u=0;for(e=m-1;0<=e;e--)for(w=g[e];A;){if(w.pseudo)for(h=A.parent().items(),p=t=h.length;p--&&h[p]!==A;);h=0;for(l=w.length;h<l;h++)if(!w[h](A,p,t)){h=l+1;break}if(h===l){u++;break}else if(e===
m-1)break;A=A.parent()}if(u===m)return!0}return!1},find:function(b){function c(a,b,f){var e,m,h,l,r,s=b[f];e=0;for(m=a.length;e<m;e++){r=a[e];h=0;for(l=s.length;h<l;h++)if(!s[h](r,e,m)){h=l+1;break}if(h===l)f==b.length-1?d.push(r):r.items&&c(r.items(),b,f+1);else if(s.direct)break;r.items&&c(r.items(),b,f)}}var d=[],e,l,m=this._selectors;if(b.items){e=0;for(l=m.length;e<l;e++)c(b.items(),m[e],0);1<l&&(d=h(d))}f||(f=a.Collection);return new f(d)}});return a});x("tinymce/ui/Collection",["tinymce/util/Tools",
"tinymce/ui/Selector","tinymce/util/Class"],function(l,h,e){var d,c,f=Array.prototype.push,a=Array.prototype.slice;c={length:0,init:function(a){a&&this.add(a)},add:function(a){l.isArray(a)?f.apply(this,a):a instanceof d?this.add(a.toArray()):f.call(this,a);return this},set:function(a){var c=this.length;this.length=0;this.add(a);for(a=this.length;a<c;a++)delete this[a];return this},filter:function(a){var c,f,e=[],l,m;"string"===typeof a?(a=new h(a),m=function(c){return a.match(c)}):m=a;c=0;for(f=this.length;c<
f;c++)l=this[c],m(l)&&e.push(l);return new d(e)},slice:function(){return new d(a.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){l.each(this,a);return this},toArray:function(){return l.toArray(this)},indexOf:function(a){for(var c=this.length;c--&&this[c]!==a;);return c},reverse:function(){return new d(l.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].classes.contains(a):!1},prop:function(a,c){var d;if(void 0!==c)return this.each(function(d){if(d[a])d[a](c)}),
this;if((d=this[0])&&d[a])return d[a]()},exec:function(a){var c=l.toArray(arguments).slice(1);this.each(function(d){d[a]&&d[a].apply(d,c)});return this},remove:function(){for(var a=this.length;a--;)this[a].remove();return this},addClass:function(a){return this.each(function(c){c.classes.add(a)})},removeClass:function(a){return this.each(function(c){c.classes.remove(a)})}};l.each("fire on off show hide append prepend before after reflow".split(" "),function(a){c[a]=function(){var c=l.toArray(arguments);
this.each(function(d){a in d&&d[a].apply(d,c)});return this}});l.each("text name disabled active selected checked visible parent value data".split(" "),function(a){c[a]=function(c){return this.prop(a,c)}});d=e.extend(c);return h.Collection=d});x("tinymce/ui/DomUtils",["tinymce/Env","tinymce/util/Tools","tinymce/dom/DOMUtils"],function(l,h,e){var d=0,c={id:function(){return"mceu_"+d++},create:function(c,a,b){var d=document.createElement(c);e.DOM.setAttribs(d,a);"string"===typeof b?d.innerHTML=b:h.each(b,
function(a){a.nodeType&&d.appendChild(a)});return d},createFragment:function(c){return e.DOM.createFragment(c)},getWindowSize:function(){return e.DOM.getViewPort()},getSize:function(c){var a;if(c.getBoundingClientRect){var b=c.getBoundingClientRect();a=Math.max(b.width||b.right-b.left,c.offsetWidth);c=Math.max(b.height||b.bottom-b.bottom,c.offsetHeight)}else a=c.offsetWidth,c=c.offsetHeight;return{width:a,height:c}},getPos:function(d,a){return e.DOM.getPos(d,a||c.getContainer())},getContainer:function(){return l.container?
l.container:document.body},getViewPort:function(c){return e.DOM.getViewPort(c)},get:function(c){return document.getElementById(c)},addClass:function(c,a){return e.DOM.addClass(c,a)},removeClass:function(c,a){return e.DOM.removeClass(c,a)},hasClass:function(c,a){return e.DOM.hasClass(c,a)},toggleClass:function(c,a,b){return e.DOM.toggleClass(c,a,b)},css:function(c,a,b){return e.DOM.setStyle(c,a,b)},getRuntimeStyle:function(c,a){return e.DOM.getStyle(c,a,!0)},on:function(c,a,b,d){return e.DOM.bind(c,
a,b,d)},off:function(c,a,b){return e.DOM.unbind(c,a,b)},fire:function(c,a,b){return e.DOM.fire(c,a,b)},innerHtml:function(c,a){e.DOM.setHTML(c,a)}};return c});x("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(l){var h;if(l){if("number"===typeof l)return l=l||0,{top:l,left:l,bottom:l,right:l};l=l.split(" ");h=l.length;1===h?l[1]=l[2]=l[3]=l[0]:2===h?(l[2]=l[0],l[3]=l[1]):3===h&&(l[3]=l[1]);return{top:parseInt(l[0],10)||0,right:parseInt(l[1],10)||0,bottom:parseInt(l[2],10)||0,left:parseInt(l[3],
10)||0}}},measureBox:function(l,h){function e(c){var d=document.defaultView;return d?(c=c.replace(/[A-Z]/g,function(a){return"-"+a}),d.getComputedStyle(l,null).getPropertyValue(c)):l.currentStyle[c]}function d(c){c=parseFloat(e(c),10);return isNaN(c)?0:c}return{top:d(h+"TopWidth"),right:d(h+"RightWidth"),bottom:d(h+"BottomWidth"),left:d(h+"LeftWidth")}}}});x("tinymce/ui/ClassList",["tinymce/util/Tools"],function(l){function h(){}function e(d){this.cls=[];this.cls._map={};this.onchange=d||h;this.prefix=
""}l.extend(e.prototype,{add:function(d){d&&!this.contains(d)&&(this.cls._map[d]=!0,this.cls.push(d),this._change());return this},remove:function(d){if(this.contains(d)){for(var c=0;c<this.cls.length&&this.cls[c]!==d;c++);this.cls.splice(c,1);delete this.cls._map[d];this._change()}return this},toggle:function(d,c){var f=this.contains(d);f!==c&&(f?this.remove(d):this.add(d),this._change());return this},contains:function(d){return!!this.cls._map[d]},_change:function(){delete this.clsValue;this.onchange.call(this)}});
e.prototype.toString=function(){var d;if(this.clsValue)return this.clsValue;d="";for(var c=0;c<this.cls.length;c++)0<c&&(d+=" "),d+=this.prefix+this.cls[c];return d};return e});x("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(l){var h={},e;return{add:function(d){(d=d.parent())&&d._layout&&!d._layout.isNative()&&(h[d._id]||(h[d._id]=d),e||(e=!0,l.requestAnimationFrame(function(){var c,d;e=!1;for(c in h)d=h[c],d.state.get("rendered")&&d.reflow();h={}},document.body)))},remove:function(d){h[d._id]&&
delete h[d._id]}}});x("tinymce/ui/Control","tinymce/util/Class tinymce/util/Tools tinymce/util/EventDispatcher tinymce/data/ObservableObject tinymce/ui/Collection tinymce/ui/DomUtils tinymce/dom/DomQuery tinymce/ui/BoxUtils tinymce/ui/ClassList tinymce/ui/ReflowQueue".split(" "),function(l,h,e,d,c,f,a,b,k,q){function r(a){a._eventDispatcher||(a._eventDispatcher=new e({scope:a,toggleEvent:function(b,c){c&&e.isNative(b)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[b]=!0,a.state.get("rendered")&&
s(a))}}));return a._eventDispatcher}function s(b){function c(a){var d=b.getParentCtrl(a.target);d&&d.fire(a.type,a)}function d(){var a=n._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(a){a.fire("mouseleave",{target:a.getEl()})}),n._lastHoverCtrl=null)}function f(a){var c=b.getParentCtrl(a.target);a=n._lastHoverCtrl;var d=0,e,g;if(c!==a){n._lastHoverCtrl=c;g=c.parents().toArray().reverse();g.push(c);if(a){c=a.parents().toArray().reverse();c.push(a);for(d=0;d<c.length&&
g[d]===c[d];d++);for(e=c.length-1;e>=d;e--)a=c[e],a.fire("mouseleave",{target:a.getEl()})}for(e=d;e<g.length;e++)c=g[e],c.fire("mouseenter",{target:c.getEl()})}}function e(a){a.preventDefault();"mousewheel"==a.type?(a.deltaY=-0.025*a.wheelDelta,a.wheelDeltaX&&(a.deltaX=-0.025*a.wheelDeltaX)):(a.deltaX=0,a.deltaY=a.detail);b.fire("wheel",a)}var k,h,l,n,r,q;if(r=b._nativeEvents){l=b.parents().toArray();l.unshift(b);k=0;for(h=l.length;!n&&k<h;k++)n=l[k]._eventsRoot;n||(n=l[l.length-1]||b);b._eventsRoot=
n;h=k;for(k=0;k<h;k++)l[k]._eventsRoot=n;k=n._delegates;k||(k=n._delegates={});for(q in r){if(!r)return!1;if("wheel"!==q||g)"mouseenter"===q||"mouseleave"===q?n._hasMouseEnter||(a(n.getEl()).on("mouseleave",d).on("mouseover",f),n._hasMouseEnter=1):k[q]||(a(n.getEl()).on(q,c),k[q]=!0),r[q]=!1;else if(m)a(b.getEl()).on("mousewheel",e);else a(b.getEl()).on("DOMMouseScroll",e)}}}var m="onmousewheel"in document,g=!1,n,v=0,w={Statics:{classPrefix:"mce-"},isRtl:function(){return n.rtl},classPrefix:"mce-",
init:function(c){function f(a){var b;a=a.split(" ");for(b=0;b<a.length;b++)e.classes.add(a[b])}var e=this,g,m;e.settings=c=h.extend({},e.Defaults,c);e._id=c.id||"mceu_"+v++;e._aria={role:c.role};e._elmCache={};e.$=a;e.state=new d({visible:!0,active:!1,disabled:!1,value:""});e.data=new d(c.data);e.classes=new k(function(){e.state.get("rendered")&&(e.getEl().className=this.toString())});e.classes.prefix=e.classPrefix;if(g=c.classes)e.Defaults&&(m=e.Defaults.classes)&&g!=m&&f(m),f(g);h.each("title text name visible disabled active value".split(" "),
function(a){if(a in c)e[a](c[a])});e.on("click",function(){if(e.disabled())return!1});e.settings=c;e.borderBox=b.parseBox(c.border);e.paddingBox=b.parseBox(c.padding);e.marginBox=b.parseBox(c.margin);c.hidden&&e.hide()},Properties:"parent,name",getContainerElm:function(){return f.getContainer()},getParentCtrl:function(a){for(var b,c=this.getRoot().controlIdLookup;a&&c&&!(b=c[a.id]);)a=a.parentNode;return b},initLayoutRect:function(){var a=this.settings,c,d=this.getEl(),e,g,k,m,h,l;c=this.borderBox=
this.borderBox||b.measureBox(d,"border");this.paddingBox=this.paddingBox||b.measureBox(d,"padding");this.marginBox=this.marginBox||b.measureBox(d,"margin");e=f.getSize(d);h=a.minWidth;l=a.minHeight;d=h||e.width;k=l||e.height;e=a.width;g=a.height;m=a.autoResize;m="undefined"!=typeof m?m:!e&&!g;e=e||d;g=g||k;var n=c.left+c.right;c=c.top+c.bottom;var r=a.maxWidth||65535,q=a.maxHeight||65535;this._layoutRect=a={x:a.x||0,y:a.y||0,w:e,h:g,deltaW:n,deltaH:c,contentW:e-n,contentH:g-c,innerW:e-n,innerH:g-
c,startMinWidth:h||0,startMinHeight:l||0,minW:Math.min(d,r),minH:Math.min(k,q),maxW:r,maxH:q,autoResize:m,scrollW:0};this._lastLayoutRect={};return a},layoutRect:function(a){var b=this._layoutRect,c,d,f;b||(b=this.initLayoutRect());if(a){d=b.deltaW;f=b.deltaH;void 0!==a.x&&(b.x=a.x);void 0!==a.y&&(b.y=a.y);void 0!==a.minW&&(b.minW=a.minW);void 0!==a.minH&&(b.minH=a.minH);c=a.w;void 0!==c&&(c=c<b.minW?b.minW:c,c=c>b.maxW?b.maxW:c,b.w=c,b.innerW=c-d);c=a.h;void 0!==c&&(c=c<b.minH?b.minH:c,c=c>b.maxH?
b.maxH:c,b.h=c,b.innerH=c-f);c=a.innerW;void 0!==c&&(c=c<b.minW-d?b.minW-d:c,c=c>b.maxW-d?b.maxW-d:c,b.innerW=c,b.w=c+d);c=a.innerH;void 0!==c&&(c=c<b.minH-f?b.minH-f:c,c=c>b.maxH-f?b.maxH-f:c,b.innerH=c,b.h=c+f);void 0!==a.contentW&&(b.contentW=a.contentW);void 0!==a.contentH&&(b.contentH=a.contentH);a=this._lastLayoutRect;if(a.x!==b.x||a.y!==b.y||a.w!==b.w||a.h!==b.h)(c=n.repaintControls)&&c.map&&!c.map[this._id]&&(c.push(this),c.map[this._id]=!0),a.x=b.x,a.y=b.y,a.w=b.w,a.h=b.h;return this}return b},
repaint:function(){var a,b,c,d,f,e,g,k;k=document.createRange?function(a){return a}:Math.round;a=this.getEl().style;d=this._layoutRect;g=this._lastRepaintRect||{};f=this.borderBox;e=f.left+f.right;f=f.top+f.bottom;d.x!==g.x&&(a.left=k(d.x)+"px",g.x=d.x);d.y!==g.y&&(a.top=k(d.y)+"px",g.y=d.y);d.w!==g.w&&(e=k(d.w-e),a.width=(0<=e?e:0)+"px",g.w=d.w);d.h!==g.h&&(e=k(d.h-f),a.height=(0<=e?e:0)+"px",g.h=d.h);if(this._hasBody&&d.innerW!==g.innerW){e=k(d.innerW);if(c=this.getEl("body"))b=c.style,b.width=
(0<=e?e:0)+"px";g.innerW=d.innerW}if(this._hasBody&&d.innerH!==g.innerH){e=k(d.innerH);if(c=c||this.getEl("body"))b=b||c.style,b.height=(0<=e?e:0)+"px";g.innerH=d.innerH}this._lastRepaintRect=g;this.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null;f.css(this.getEl(),{width:"",height:""});this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null;this.initLayoutRect()},on:function(a,b){var c=this;r(c).on(a,function(a){var b,d;return"string"!=typeof a?a:function(f){b||
c.parentsAndSelf().each(function(c){var f=c.settings.callbacks;if(f&&(b=f[a]))return d=c,!1});if(b)return b.call(d,f);f.action=a;this.fire("execute",f)}}(b));return c},off:function(a,b){r(this).off(a,b);return this},fire:function(a,b,c){b=b||{};b.control||(b.control=this);b=r(this).fire(a,b);if(!1!==c&&this.parent)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),c=c.parent();return b},hasEventListeners:function(a){return r(this).has(a)},parents:function(a){var b,d=new c;for(b=this.parent();b;b=
b.parent())d.add(b);a&&(d=d.filter(a));return d},parentsAndSelf:function(a){return(new c(this)).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},innerHtml:function(a){this.$el.html(a);return this},getEl:function(b){b=b?this._id+"-"+b:this._id;this._elmCache[b]||(this._elmCache[b]=a("#"+b)[0]);return this._elmCache[b]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},
focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){this.getEl().blur();return this},aria:function(a,b){var c=this.getEl(this.ariaTarget);if("undefined"===typeof b)return this._aria[a];this._aria[a]=b;this.state.get("rendered")&&c.setAttribute("role"==a?a:"aria-"+a,b);return this},encode:function(a,b){!1!==b&&(a=this.translate(a));return(a||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},translate:function(a){return n.translate?n.translate(a):a},before:function(a){var b=
this.parent();b&&b.insert(a,b.items().indexOf(this),!0);return this},after:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this));return this},remove:function(){var b=this,c=b.getEl(),d=b.parent(),f,e;if(b.items){var g=b.items().toArray();for(e=g.length;e--;)g[e].remove()}d&&d.items&&(f=[],d.items().each(function(a){a!==b&&f.push(a)}),d.items().set(f),d._lastRect=null);b._eventsRoot&&b._eventsRoot==b&&a(c).off();(d=b.getRoot().controlIdLookup)&&delete d[b._id];c&&c.parentNode&&c.parentNode.removeChild(c);
b.state.set("rendered",!1);b.state.destroy();b.fire("remove");return b},renderBefore:function(b){a(b).before(this.renderHtml());this.postRender();return this},renderTo:function(b){a(b||this.getContainerElm()).append(this.renderHtml());this.postRender();return this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var b=this,c=b.settings,d,f,e;b.$el=a(b.getEl());b.state.set("rendered",!0);for(f in c)if(0===
f.indexOf("on"))b.on(f.substr(2),c[f]);if(b._eventsRoot){for(d=b.parent();!e&&d;d=d.parent())e=d._eventsRoot;if(e)for(f in e._nativeEvents)b._nativeEvents[f]=!0}s(b);c.style&&(d=b.getEl())&&(d.setAttribute("style",c.style),d.style.cssText=c.style);b.settings.border&&(c=b.borderBox,b.$el.css({"border-top-width":c.top,"border-right-width":c.right,"border-bottom-width":c.bottom,"border-left-width":c.left}));c=b.getRoot();c.controlIdLookup||(c.controlIdLookup={});c.controlIdLookup[b._id]=b;for(var g in b._aria)b.aria(g,
b._aria[g]);!1===b.state.get("visible")&&(b.getEl().style.display="none");b.bindStates();b.state.on("change:visible",function(a){a=a.value;var c;b.state.get("rendered")&&(b.getEl().style.display=!1===a?"none":"",b.getEl().getBoundingClientRect());if(c=b.parent())c._lastRect=null;b.fire(a?"show":"hide");q.add(b)});b.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(a){var b=this.getEl(),c=b.parentNode,d,f,e,g,k;e=b;for(d=f=0;e&&e!=c&&e.nodeType;)d+=e.offsetLeft||0,f+=e.offsetTop||
0,e=e.offsetParent;e=b.offsetWidth;b=b.offsetHeight;g=c.clientWidth;k=c.clientHeight;"end"==a?(d-=g-e,f-=k-b):"center"==a&&(d-=g/2-e/2,f-=k/2-b/2);c.scrollLeft=d;c.scrollTop=f;return this},getRoot:function(){for(var a=this,b,c=[];a;){if(a.rootControl){b=a.rootControl;break}c.push(a);b=a;a=a.parent()}b||(b=this);for(a=c.length;a--;)c[a].rootControl=b;return b},reflow:function(){q.remove(this);var a=this.parent();a._layout&&!a._layout.isNative()&&a.reflow();return this}};h.each("text title visible disabled active value".split(" "),
function(a){w[a]=function(b){if(0===arguments.length)return this.state.get(a);"undefined"!=typeof b&&this.state.set(a,b);return this}});return n=l.extend(w)});x("tinymce/ui/Factory",[],function(){var l={},h;return{add:function(e,d){l[e.toLowerCase()]=d},has:function(e){return!!l[e.toLowerCase()]},create:function(e,d){var c,f;if(!h){f=tinymce.ui;for(c in f)l[c.toLowerCase()]=f[c];h=!0}"string"==typeof e?(d=d||{},d.type=e):(d=e,e=d.type);e=e.toLowerCase();c=l[e];if(!c)throw Error("Could not find control by type: "+
e);c=new c(d);c.type=e;return c}}});x("tinymce/ui/KeyboardNavigation",[],function(){return function(l){function h(a){return(a=a||w)&&1===a.nodeType?a.getAttribute("role"):null}function e(a){for(var b=a||w;b=b.parentNode;)if(a=h(b))return a}function d(a){var b=w;if(b&&1===b.nodeType)return b.getAttribute("aria-"+a)}function c(a){a=a.tagName.toUpperCase();return"INPUT"==a||"TEXTAREA"==a||"SELECT"==a}function f(a){function b(a){if(1==a.nodeType&&"none"!=a.style.display&&!a.disabled){var f;f=c(a)&&!a.hidden?
!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(h(a))?!0:!1;f&&d.push(a);for(f=0;f<a.childNodes.length;f++)b(a.childNodes[f])}}var d=[];b(a||v.getEl());return d}function a(a){var b,c;a=a||p;c=a.parents().toArray();c.unshift(a);for(a=0;a<c.length&&(b=c[a],!b.settings.ariaRoot);a++);return b}function b(a,b){0>a?a=b.length-1:a>=b.length&&(a=0);b[a]&&b[a].focus();return a}function k(c,d){var e=-1,g=a();d=d||f(g.getEl());for(var k=0;k<d.length;k++)d[k]===w&&(e=k);g.lastAriaIndex=
b(e+c,d)}function q(){"tablist"==e()?k(-1,f(w.parentNode)):p.parent().submenu?p.fire("cancel"):k(-1)}function r(){var a=h(),b=e();"tablist"==b?k(1,f(w.parentNode)):"menuitem"==a&&"menu"==b&&d("haspopup")?n():k(1)}function s(){k(-1)}function m(){var a=h(),b=e();"menuitem"==a&&"menubar"==b?n():"button"==a&&d("haspopup")?n({key:"down"}):k(1)}function g(a){"tablist"==e()?(a=f(p.getEl("body"))[0])&&a.focus():k(a.shiftKey?-1:1)}function n(a){a=a||{};p.fire("click",{target:w,aria:a})}var v=l.root,w,p;try{w=
document.activeElement}catch(t){w=document.body}p=v.getParentCtrl(w);v.on("keydown",function(a){function b(a,d){c(w)||"slider"!==h(w)&&!1!==d(a)&&a.preventDefault()}if(!a.isDefaultPrevented())switch(a.keyCode){case 37:b(a,q);break;case 39:b(a,r);break;case 38:b(a,s);break;case 40:b(a,m);break;case 27:p.fire("cancel");break;case 14:case 13:case 32:b(a,n);break;case 9:!1!==g(a)&&a.preventDefault()}});v.on("focusin",function(a){w=a.target;p=a.control});return{focusFirst:function(c){c=a(c);var d=f(c.getEl());
c.settings.ariaRemember&&"lastAriaIndex"in c?b(c.lastAriaIndex,d):b(0,d)}}}});x("tinymce/ui/Container","tinymce/ui/Control tinymce/ui/Collection tinymce/ui/Selector tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/util/Tools tinymce/dom/DomQuery tinymce/ui/ClassList tinymce/ui/ReflowQueue".split(" "),function(l,h,e,d,c,f,a,b,k){var q={};return l.extend({init:function(a){var c=this;c._super(a);a=c.settings;a.fixed&&c.state.set("fixed",!0);c._items=new h;c.isRtl()&&c.classes.add("rtl");c.bodyClasses=
new b(function(){c.state.get("rendered")&&(c.getEl("body").className=this.toString())});c.bodyClasses.prefix=c.classPrefix;c.classes.add("container");c.bodyClasses.add("container-body");a.containerCls&&c.classes.add(a.containerCls);c._layout=d.create((a.layout||"")+"layout");c.settings.items?c.add(c.settings.items):c.add(c.render());c._hasBody=!0},items:function(){return this._items},find:function(a){a=q[a]=q[a]||new e(a);return a.find(this)},add:function(a){this.items().add(this.create(a)).parent(this);
return this},focus:function(a){var b;if(a&&(a=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)){a.focusFirst(this);return}a=this.find("*");this.statusbar&&a.add(this.statusbar.items());a.each(function(a){if(a.settings.autofocus)return b=null,!1;a.canFocus&&(b=b||a)});b&&b.focus();return this},replace:function(a,b){var c;c=this.items();for(var d=c.length;d--;)if(c[d]===a){c[d]=b;break}0<=d&&((c=b.getEl())&&c.parentNode.removeChild(c),(c=a.getEl())&&c.parentNode.removeChild(c));b.parent(this)},
create:function(a){var b=this,c,e=[];f.isArray(a)||(a=[a]);f.each(a,function(a){a&&(a instanceof l||("string"==typeof a&&(a={type:a}),c=f.extend({},b.settings.defaults,a),a.type=c.type=c.type||a.type||b.settings.defaultType||(c.defaults?c.defaults.type:null),a=d.create(c)),e.push(a))});return e},renderNew:function(){var b=this;b.items().each(function(c,d){var f;c.parent(b);c.state.get("rendered")||(f=b.getEl("body"),f.hasChildNodes()&&d<=f.childNodes.length-1?a(f.childNodes[d]).before(c.renderHtml()):
a(f).append(c.renderHtml()),c.postRender(),k.add(c))});b._layout.applyClasses(b.items().filter(":visible"));b._lastRect=null;return b},append:function(a){return this.add(a).renderNew()},prepend:function(a){this.items().set(this.create(a).concat(this.items().toArray()));return this.renderNew()},insert:function(a,b,c){var d;a=this.create(a);d=this.items();!c&&b<d.length-1&&(b+=1);0<=b&&b<d.length&&(c=d.slice(0,b).toArray(),b=d.slice(b).toArray(),d.set(c.concat(a,b)));return this.renderNew()},fromJSON:function(a){for(var b in a)this.find("#"+
b).value(a[b]);return this},toJSON:function(){var a={};this.find("*").each(function(b){var c=b.name();b=b.value();c&&"undefined"!=typeof b&&(a[c]=b)});return a},renderHtml:function(){var a=this._layout,b=this.settings.role;this.preRender();a.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'"'+(b?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+a.renderHtml(this)+"</div></div>"},postRender:function(){var a;
this.items().exec("postRender");this._super();this._layout.postRender(this);this.state.set("rendered",!0);this.settings.style&&this.$el.css(this.settings.style);this.settings.border&&(a=this.borderBox,this.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));this.parent()||(this.keyboardNav=new c({root:this}));return this},initLayoutRect:function(){var a=this._super();this._layout.recalc(this);return a},recalc:function(){var a=
this._layoutRect,b=this._lastRect;if(!b||b.w!=a.w||b.h!=a.h)return this._layout.recalc(this),a=this.layoutRect(),this._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0},reflow:function(){var a;k.remove(this);if(this.visible()){l.repaintControls=[];l.repaintControls.map={};this.recalc();for(a=l.repaintControls.length;a--;)l.repaintControls[a].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint();l.repaintControls=[]}return this}})});x("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],
function(l){function h(e){var d,c;if(e.changedTouches)for(d="screenX screenY pageX pageY clientX clientY".split(" "),c=0;c<d.length;c++)e[d[c]]=e.changedTouches[0][d[c]]}return function(e,d){var c,f=d.document||document,a,b,k,q,r;d=d||{};k=function(c){h(c);if(c.button!==a)return b(c);c.deltaX=c.screenX-q;c.deltaY=c.screenY-r;c.preventDefault();d.drag(c)};b=function(a){h(a);l(f).off("mousemove touchmove",k).off("mouseup touchend",b);c.remove();d.stop&&d.stop(a)};this.destroy=function(){l(f.getElementById(d.handle||
e)).off()};l(f.getElementById(d.handle||e)).on("mousedown touchstart",function(s){var m,g,n,v,w,p,t,u=Math.max;n=f.documentElement;v=f.body;m=u(n.scrollWidth,v.scrollWidth);w=u(n.clientWidth,v.clientWidth);p=u(n.offsetWidth,v.offsetWidth);g=u(n.scrollHeight,v.scrollHeight);t=u(n.clientHeight,v.clientHeight);n=u(n.offsetHeight,v.offsetHeight);m=m<p?w:m;g=g<n?t:g;h(s);s.preventDefault();a=s.button;t=f.getElementById(d.handle||e);q=s.screenX;r=s.screenY;t=window.getComputedStyle?window.getComputedStyle(t,
null).getPropertyValue("cursor"):t.runtimeStyle.cursor;c=l("<div></div>").css({position:"absolute",top:0,left:0,width:m,height:g,zIndex:2147483647,opacity:1E-4,cursor:t}).appendTo(f.body);l(f).on("mousemove touchmove",k).on("mouseup touchend",b);d.start(s)})}});x("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(l,h){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function e(){function a(a,e,h,g,n,q){var w,p,t;if(w=c.getEl("scroll"+
a))p=e.toLowerCase(),t=h.toLowerCase(),l(c.getEl("absend")).css(p,c.layoutRect()[g]-1),n?(l(w).css("display","block"),g=c.getEl("body"),a=c.getEl("scroll"+a+"t"),n=g["client"+h]-2*f,n-=b&&d?w["client"+q]:0,h=g["scroll"+h],h=n/h,q={},q[p]=g["offset"+e]+f,q[t]=n,l(w).css(q),q={},q[p]=g["scroll"+e]*h,q[t]=n*h,l(a).css(q)):l(w).css("display","none")}var b,d,e;e=c.getEl("body");b=e.scrollWidth>e.clientWidth;d=e.scrollHeight>e.clientHeight;a("h","Left","Width","contentW",b,"Height");a("v","Top","Height",
"contentH",d,"Width")}function d(){function a(a,d,e,r,s){var m,g=c._id+"-scroll"+a,n=c.classPrefix;l(c.getEl()).append('<div id="'+g+'" class="'+n+"scrollbar "+n+"scrollbar-"+a+'"><div id="'+g+'t" class="'+n+'scrollbar-thumb"></div></div>');c.draghelper=new h(g+"t",{start:function(){m=c.getEl("body")["scroll"+d];l("#"+g).addClass(n+"active")},drag:function(g){var h,l,n;l=c.layoutRect();h=l.contentW>l.innerW;l=l.contentH>l.innerH;n=c.getEl("body")["client"+e]-2*f;n-=h&&l?c.getEl("scroll"+a)["client"+
s]:0;h=n/c.getEl("body")["scroll"+e];c.getEl("body")["scroll"+d]=m+g["delta"+r]/h},stop:function(){l("#"+g).removeClass(n+"active")}})}c.classes.add("scroll");a("v","Top","Height","Y","Width");a("h","Left","Width","X","Height")}var c=this,f=2;c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,d(),c.on("wheel",function(a){var b=c.getEl("body");b.scrollLeft+=10*(a.deltaX||0);b.scrollTop+=10*a.deltaY;e()}),l(c.getEl("body")).on("scroll",e)),e())}}});x("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],
function(l,h){return l.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[h],renderHtml:function(){var e=this._layout,d=this.settings.html;this.preRender();e.preRender(this);"undefined"==typeof d?d='<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+e.renderHtml(this)+"</div>":("function"==typeof d&&(d=d.call(this)),this._hasBody=!1);return'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+d+"</div>"}})});x("tinymce/ui/Movable",
["tinymce/ui/DomUtils"],function(l){function h(e,d,c){var f,a,b,k;b=l.getViewPort();f=l.getPos(d);a=f.x;f=f.y;e.state.get("fixed")&&"static"==l.getRuntimeStyle(document.body,"position")&&(a-=b.x,f-=b.y);e=e.getEl();k=l.getSize(e);e=k.width;b=k.height;k=l.getSize(d);d=k.width;k=k.height;c=(c||"").split("");"b"===c[0]&&(f+=k);"r"===c[1]&&(a+=d);"c"===c[0]&&(f+=Math.round(k/2));"c"===c[1]&&(a+=Math.round(d/2));"b"===c[3]&&(f-=b);"r"===c[4]&&(a-=e);"c"===c[3]&&(f-=Math.round(b/2));"c"===c[4]&&(a-=Math.round(e/
2));return{x:a,y:f,w:e,h:b}}return{testMoveRel:function(e,d){for(var c=l.getViewPort(),f=0;f<d.length;f++){var a=h(this,e,d[f]);if(this.state.get("fixed")){if(0<a.x&&a.x+a.w<c.w&&0<a.y&&a.y+a.h<c.h)return d[f]}else if(a.x>c.x&&a.x+a.w<c.w+c.x&&a.y>c.y&&a.y+a.h<c.h+c.y)return d[f]}return d[0]},moveRel:function(e,d){"string"!=typeof d&&(d=this.testMoveRel(e,d));var c=h(this,e,d);return this.moveTo(c.x,c.y)},moveBy:function(e,d){var c=this.layoutRect();this.moveTo(c.x+e,c.y+d);return this},moveTo:function(e,
d){function c(a,c,d){return 0>a?0:a+d>c?(a=c-d,0>a?0:a):a}if(this.settings.constrainToViewport){var f=l.getViewPort(window),a=this.layoutRect();e=c(e,f.w+f.x,a.w);d=c(d,f.h+f.y,a.h)}this.state.get("rendered")?this.layoutRect({x:e,y:d}).repaint():(this.settings.x=e,this.settings.y=d);this.fire("move",{x:e,y:d});return this}}});x("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(l){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(h,
e){if(1>=h||1>=e){var d=l.getWindowSize();h=1>=h?h*d.w:h;e=1>=e?e*d.h:e}this._layoutRect.autoResize=!1;return this.layoutRect({minW:h,minH:e,w:h,h:e}).reflow()},resizeBy:function(h,e){var d=this.layoutRect();return this.resizeTo(d.w+h,d.h+e)}}});x("tinymce/ui/FloatPanel","tinymce/ui/Panel tinymce/ui/Movable tinymce/ui/Resizable tinymce/ui/DomUtils tinymce/dom/DomQuery tinymce/util/Delay".split(" "),function(l,h,e,d,c,f){function a(){m||(m=function(a){if(2!=a.button)for(var b=v.length;b--;){var c=
v[b],d=c.getParentCtrl(a.target);if(c.settings.autohide){var f;if(f=d){a:{f=d;for(var e=c;f;){if(f==e){f=!0;break a}f=f.parent()}f=void 0}f=f||c.parent()===d}f||(a=c.fire("autohide",{target:a.target}),a.isDefaultPrevented()||c.hide())}}},c(document).on("click touchstart",m))}function b(){g||(g=function(){var a;for(a=v.length;a--;)q(v[a])},c(window).on("scroll",g))}function k(){if(!n){var a=document.documentElement,b=a.clientWidth,d=a.clientHeight;n=function(){document.all&&b==a.clientWidth&&d==a.clientHeight||
(b=a.clientWidth,d=a.clientHeight,t.hideAll())};c(window).on("resize",n)}}function q(a){function b(c,d){for(var f,e=0;e<v.length;e++)if(v[e]!=a)for(f=v[e].parent();f&&(f=f.parent());)f==a&&v[e].fixed(c).moveBy(0,d).repaint()}var c=d.getViewPort().y;a.settings.autofix&&(a.state.get("fixed")?a._autoFixY>c&&(a.fixed(!1).layoutRect({y:a._autoFixY}).repaint(),b(!1,a._autoFixY-c)):(a._autoFixY=a.layoutRect().y,a._autoFixY<c&&(a.fixed(!0).layoutRect({y:0}).repaint(),b(!0,c-a._autoFixY))))}function r(a,b){var d,
f=(t.zIndex||65535)+(zenarioAB.isOpen?3E5:0),e;if(a)w.push(b);else for(d=w.length;d--;)w[d]===b&&w.splice(d,1);if(w.length)for(d=0;d<w.length;d++)w[d].modal&&(f++,e=w[d]),w[d].getEl().style.zIndex=f,w[d].zIndex=f,f++;d=c("#"+b.classPrefix+"modal-block",b.getContainerElm())[0];e?c(d).css("z-index",e.zIndex-1):d&&(d.parentNode.removeChild(d),p=!1);t.currentZIndex=f}function s(a){var b;for(b=v.length;b--;)v[b]===a&&v.splice(b,1);for(b=w.length;b--;)w[b]===a&&w.splice(b,1)}var m,g,n,v=[],w=[],p,t=l.extend({Mixins:[h,
e],init:function(d){var e=this;e._super(d);e._eventsRoot=e;e.classes.add("floatpanel");d.autohide&&(a(),k(),v.push(e));d.autofix&&(b(),e.on("move",function(){q(this)}));e.on("postrender show",function(a){if(a.control==e){var b,d=e.classPrefix;e.modal&&!p&&(b=c("#"+d+"modal-block",e.getContainerElm()),b[0]||(b=c('<div id="'+d+'modal-block" class="'+d+"reset "+d+'fade"></div>').appendTo(e.getContainerElm())),f.setTimeout(function(){b.addClass(d+"in");c(e.getEl()).addClass(d+"in")}),p=!0);r(!0,e)}});
e.on("show",function(){e.parents().each(function(a){if(a.state.get("fixed"))return e.fixed(!0),!1})});d.popover&&(e._preBodyHtml='<div class="'+e.classPrefix+'arrow"></div>',e.classes.add("popover").add("bottom").add(e.isRtl()?"end":"start"));e.aria("label",d.ariaLabel);e.aria("labelledby",e._id);e.aria("describedby",e.describedBy||e._id+"-none")},fixed:function(a){if(this.state.get("fixed")!=a){if(this.state.get("rendered")){var b=d.getViewPort();a?this.layoutRect().y-=b.y:this.layoutRect().y+=b.y}this.classes.toggle("fixed",
a);this.state.set("fixed",a)}return this},show:function(){var a,b=this._super();for(a=v.length;a--&&v[a]!==this;);-1===a&&v.push(this);return b},hide:function(){s(this);r(!1,this);return this._super()},hideAll:function(){t.hideAll()},close:function(){this.fire("close").isDefaultPrevented()||(this.remove(),r(!1,this));return this},remove:function(){s(this);this._super()},postRender:function(){this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole);return this._super()}});
t.hideAll=function(){for(var a=v.length;a--;){var b=v[a];b&&b.settings.autohide&&(b.hide(),v.splice(a,1))}};return t});x("tinymce/ui/Window","tinymce/ui/FloatPanel tinymce/ui/Panel tinymce/ui/DomUtils tinymce/dom/DomQuery tinymce/ui/DragHelper tinymce/ui/BoxUtils tinymce/Env tinymce/util/Delay".split(" "),function(l,h,e,d,c,f,a,b){function k(b){var c=d("meta[name=viewport]")[0],f;!1!==a.overrideViewPort&&(c||(c=document.createElement("meta"),c.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(c)),
(f=c.getAttribute("content"))&&"undefined"!=typeof r&&(r=f),c.setAttribute("content",b?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":r))}var q=[],r="";l=l.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(a){var b=this;b._super(a);b.isRtl()&&b.classes.add("rtl");b.classes.add("window");b.bodyClasses.add("window-body");
b.state.set("fixed",!0);a.buttons&&(b.statusbar=new h({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:b.isRtl()?"start":"end",defaults:{type:"button"},items:a.buttons}),b.statusbar.classes.add("foot"),b.statusbar.parent(b));b.on("click",function(a){var c=b.classPrefix+"close";(e.hasClass(a.target,c)||e.hasClass(a.target.parentNode,c))&&b.close()});b.on("cancel",function(){b.close()});b.aria("describedby",b.describedBy||b._id+"-none");b.aria("label",a.title);b._fullscreen=
!1},recalc:function(){var a=this.statusbar,b,c,d;this._fullscreen&&(this.layoutRect(e.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH);this._super();b=this.layoutRect();this.settings.title&&!this._fullscreen&&(c=b.headerW,c>b.w&&(d=b.x-Math.max(0,c/2),this.layoutRect({w:c,x:d}),d=!0));a&&(a.layoutRect({w:this.layoutRect().innerW}).recalc(),c=a.layoutRect().minW+b.deltaW,c>b.w&&(d=b.x-Math.max(0,c-b.w),this.layoutRect({w:c,x:d}),d=!0));d&&this.recalc()},initLayoutRect:function(){var a=
this._super(),b=0,c;this.settings.title&&!this._fullscreen&&(c=this.getEl("head"),c=e.getSize(c),a.headerW=c.width,a.headerH=c.height,b+=a.headerH);this.statusbar&&(b+=this.statusbar.layoutRect().h);a.deltaH+=b;a.minH+=b;a.h+=b;b=e.getWindowSize();a.x=this.settings.x||Math.max(0,b.w/2-a.w/2);a.y=this.settings.y||Math.max(0,b.h/2-a.h/2);return a},renderHtml:function(){var a=this._layout,b=this._id,c=this.classPrefix,d=this.settings,f="",e="",k=d.html;this.preRender();a.preRender(this);d.title&&(f=
'<div id="'+b+'-head" class="'+c+'window-head"><div id="'+b+'-title" class="'+c+'title">'+this.encode(d.title)+'</div><div id="'+b+'-dragh" class="'+c+'dragh"></div><button type="button" class="'+c+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>');d.url&&(k='<iframe src="'+d.url+'" tabindex="-1"></iframe>');"undefined"==typeof k&&(k=a.renderHtml(this));this.statusbar&&(e=this.statusbar.renderHtml());return'<div id="'+b+'" class="'+this.classes+'" hidefocus="1"><div class="'+
this.classPrefix+'reset" role="application">'+f+'<div id="'+b+'-body" class="'+this.bodyClasses+'">'+k+"</div>"+e+"</div></div>"},fullscreen:function(a){var c=this,g=document.documentElement,k,h=c.classPrefix,l;a!=c._fullscreen&&(d(window).on("resize",function(){var a;if(c._fullscreen)if(k)c._timer||(c._timer=b.setTimeout(function(){var a=e.getWindowSize();c.moveTo(0,0).resizeTo(a.w,a.h);c._timer=0},50));else{a=(new Date).getTime();var d=e.getWindowSize();c.moveTo(0,0).resizeTo(d.w,d.h);50<(new Date).getTime()-
a&&(k=!0)}}),l=c.layoutRect(),(c._fullscreen=a)?(c._initial={x:l.x,y:l.y,w:l.w,h:l.h},c.borderBox=f.parseBox("0"),c.getEl("head").style.display="none",l.deltaH-=l.headerH+2,d([g,document.body]).addClass(h+"fullscreen"),c.classes.add("fullscreen"),a=e.getWindowSize(),c.moveTo(0,0).resizeTo(a.w,a.h)):(c.borderBox=f.parseBox(c.settings.border),c.getEl("head").style.display="",l.deltaH+=l.headerH,d([g,document.body]).removeClass(h+"fullscreen"),c.classes.remove("fullscreen"),c.moveTo(c._initial.x,c._initial.y).resizeTo(c._initial.w,
c._initial.h)));return c.reflow()},postRender:function(){var a,b,d=this;setTimeout(function(){d.classes.add("in");d.fire("open")},0);d._super();d.statusbar&&d.statusbar.postRender();d.focus();this.dragHelper=new c(d._id+"-dragh",{start:function(){a=d.layoutRect().x;b=d.layoutRect().y},drag:function(c){d.moveTo(a+c.deltaX,b+c.deltaY)}});d.on("submit",function(a){a.isDefaultPrevented()||d.close()});q.push(d);k(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var a;
this.dragHelper.destroy();this._super();this.statusbar&&this.statusbar.remove();a=this.classPrefix;var b;a:{for(b=0;b<q.length;b++)if(q[b]._fullscreen){b=!0;break a}b=!1}b&&d([document.documentElement,document.body]).removeClass(a+"fullscreen");for(a=q.length;a--;)q[a]===this&&q.splice(a,1);k(0<q.length)},getContentWindow:function(){var a=this.getEl().getElementsByTagName("iframe")[0];return a?a.contentWindow:null}});(function(){if(!a.desktop){var c=window.innerWidth,f=window.innerHeight;b.setInterval(function(){var a=
window.innerWidth,b=window.innerHeight;if(c!=a||f!=b)c=a,f=b,d(window).trigger("resize")},100)}d(window).on("resize",function(){var a,b=e.getWindowSize(),c;for(a=0;a<q.length;a++)c=q[a].layoutRect(),q[a].moveTo(q[a].settings.x||Math.max(0,b.w/2-c.w/2),q[a].settings.y||Math.max(0,b.h/2-c.h/2))})})();return l});x("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(l){var h=l.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,
buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){function d(a,b,c){return{type:"button",text:a,subtype:c?"primary":"",onClick:function(a){a.control.parents()[1].close();f(b)}}}var c,f=e.callback||function(){};switch(e.buttons){case h.OK_CANCEL:c=[d("Ok",!0,!0),d("Cancel",!1)];break;case h.YES_NO:case h.YES_NO_CANCEL:c=[d("Yes",1,!0),d("No",0)];e.buttons==
h.YES_NO_CANCEL&&c.push(d("Cancel",-1));break;default:c=[d("Ok",!0,!0)]}return(new l({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:c,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){f(!1)}})).renderTo(document.body).reflow()},alert:function(e,d){"string"==typeof e&&(e={text:e});e.callback=
d;return h.msgBox(e)},confirm:function(e,d){"string"==typeof e&&(e={text:e});e.callback=d;e.buttons=h.OK_CANCEL;return h.msgBox(e)}}});return h});x("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(l,h){return function(e){function d(){if(a.length)return a[a.length-1]}function c(a){e.fire("OpenWindow",{win:a})}function f(a){e.fire("CloseWindow",{win:a})}var a=[];this.windows=a;e.on("remove",function(){for(var b=a.length;b--;)a[b].close()});this.open=function(b,d){var h;
e.editorManager.setActive(e);b.title=b.title||" ";b.url=b.url||b.file;b.url&&(b.width=parseInt(b.width||320,10),b.height=parseInt(b.height||240,10));b.body&&(b.items={defaults:b.defaults,type:b.bodyType||"form",items:b.body,data:b.data,callbacks:b.commands});b.url||b.buttons||(b.buttons=[{text:"Ok",subtype:"primary",onclick:function(){h.find("form")[0].submit()}},{text:"Cancel",onclick:function(){h.close()}}]);h=new l(b);a.push(h);h.on("close",function(){for(var b=a.length;b--;)a[b]===h&&a.splice(b,
1);a.length||e.focus();f(h)});if(b.data)h.on("postRender",function(){this.find("*").each(function(a){var c=a.name();c in b.data&&a.value(b.data[c])})});h.features=b||{};h.params=d||{};1===a.length&&e.nodeChanged();h=h.renderTo().reflow();c(h);return h};this.alert=function(a,d,l){var r;r=h.alert(a,function(){d?d.call(l||this):e.focus()});r.on("close",function(){f(r)});c(r)};this.confirm=function(a,d,e){var l;l=h.confirm(a,function(a){d.call(e||this,a)});l.on("close",function(){f(l)});c(l)};this.close=
function(){d()&&d().close()};this.getParams=function(){return d()?d().params:null};this.setParams=function(a){d()&&(d().params=a)};this.getWindows=function(){return a}}});x("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(l,h){return l.extend({Mixins:[h],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+
this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;e.state.on("change:text",function(d){e.getEl().lastChild.innerHTML=e.encode(d.value)});return e._super()},repaint:function(){var e,d;e=this.getEl().style;d=this._layoutRect;e.left=d.x+"px";e.top=d.y+"px";e.zIndex=131070+(zenarioAB.isOpen?3E5:0)}})});x("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(l,h){var e,d=l.extend({init:function(c){var f=this;f._super(c);c=f.settings;f.canFocus=!0;c.tooltip&&
!1!==d.tooltips&&(f.on("mouseenter",function(a){var b=f.tooltip().moveTo(-65535);a.control==f?(a=b.text(c.tooltip).show().testMoveRel(f.getEl(),["bc-tc","bc-tl","bc-tr"]),b.classes.toggle("tooltip-n","bc-tc"==a),b.classes.toggle("tooltip-nw","bc-tl"==a),b.classes.toggle("tooltip-ne","bc-tr"==a),b.moveRel(f.getEl(),a)):b.hide()}),f.on("mouseleave mousedown click",function(){f.tooltip().hide()}));f.aria("label",c.ariaLabel||c.tooltip)},tooltip:function(){e||(e=new h({type:"tooltip"}),e.renderTo());
return e},postRender:function(){var c=this.settings;this._super();this.parent()||!c.width&&!c.height||(this.initLayoutRect(),this.repaint());c.autofocus&&this.focus()},bindStates:function(){function c(b){a.aria("disabled",b);a.classes.toggle("disabled",b)}function d(b){a.aria("pressed",b);a.classes.toggle("active",b)}var a=this;a.state.on("change:disabled",function(a){c(a.value)});a.state.on("change:active",function(a){d(a.value)});a.state.get("disabled")&&c(!0);a.state.get("active")&&d(!0);return a._super()},
remove:function(){this._super();e&&(e.remove(),e=null)}});return d});x("tinymce/ui/Progress",["tinymce/ui/Widget"],function(l){return l.extend({Defaults:{value:0},init:function(h){this._super(h);this.classes.add("progress");this.settings.filter||(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var h=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+h+'bar-container"><div class="'+h+'bar"></div></div><div class="'+h+'text">0%</div></div>'},
postRender:function(){this._super();this.value(this.settings.value);return this},bindStates:function(){function h(d){d=e.settings.filter(d);e.getEl().lastChild.innerHTML=d+"%";e.getEl().firstChild.firstChild.style.width=d+"%"}var e=this;e.state.on("change:value",function(d){h(d.value)});h(e.state.get("value"));return e._super()}})});x("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress","tinymce/util/Delay"],function(l,h,e,d){return l.extend({Mixins:[h],Defaults:{classes:"widget notification"},
init:function(c){var d=this;d._super(c);c.text&&d.text(c.text);c.icon&&(d.icon=c.icon);c.color&&(d.color=c.color);c.type&&d.classes.add("notification-"+c.type);c.timeout&&(0>c.timeout||0<c.timeout)&&!c.closeButton?d.closeButton=!1:(d.classes.add("has-close"),d.closeButton=!0);c.progressBar&&(d.progressBar=new e);d.on("click",function(a){-1!=a.target.className.indexOf(d.classPrefix+"close")&&d.close()})},renderHtml:function(){var c=this.classPrefix,d="",a="",b="",e="";this.icon&&(d='<i class="'+c+
"ico "+c+"i-"+this.icon+'"></i>');this.color&&(e=' style="background-color: '+this.color+'"');this.closeButton&&(a='<button type="button" class="'+c+'close" aria-hidden="true">\u00d7</button>');this.progressBar&&(b=this.progressBar.renderHtml());return'<div id="'+this._id+'" class="'+this.classes+'"'+e+' role="presentation">'+d+'<div class="'+c+'notification-inner">'+this.state.get("text")+"</div>"+b+a+"</div>"},postRender:function(){var c=this;d.setTimeout(function(){c.$el.addClass(c.classPrefix+
"in")});return c._super()},bindStates:function(){var c=this;c.state.on("change:text",function(d){c.getEl().childNodes[1].innerHTML=d.value});c.progressBar&&c.progressBar.bindStates();return c._super()},close:function(){this.fire("close").isDefaultPrevented()||this.remove();return this},repaint:function(){var c,d;c=this.getEl().style;d=this._layoutRect;c.left=d.x+"px";c.top=d.y+"px";c.zIndex=65534}})});x("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay","tinymce/util/Tools"],
function(l,h,e){return function(d){function c(){if(b.length)return b[b.length-1]}function f(){if(0<b.length){var a=b.slice(0,1)[0],c=d.inline?d.getElement():d.getContentAreaContainer();a.moveRel(c,"tc-tc");if(1<b.length)for(a=1;a<b.length;a++)b[a].moveRel(b[a-1].getEl(),"bc-tc")}}function a(a,b){if(b.progressBar||b.timeout)return null;var c=e.grep(a,function(a){return b.type===a.settings.type&&b.text===a.settings.text});return 0===c.length?null:c[0]}var b=[];this.notifications=b;d.on("remove",function(){for(var a=
b.length;a--;)b[a].close()});d.on("ResizeEditor",f);d.on("ResizeWindow",function(){h.requestAnimationFrame(function(){for(var a=0;a<b.length;a++)b[a].moveTo(0,0);f()})});this.open=function(c){if(!d.removed){var e;d.editorManager.setActive(d);var h=a(b,c);null===h?(e=new l(c),b.push(e),0<c.timeout&&(e.timer=setTimeout(function(){e.close()},c.timeout)),e.on("close",function(){var a=b.length;for(e.timer&&d.getWin().clearTimeout(e.timer);a--;)b[a]===e&&b.splice(a,1);f()}),e.renderTo(),f()):e=h;return e}};
this.close=function(){c()&&c().close()};this.getNotifications=function(){return b};d.on("SkinLoaded",function(){var a=d.settings.service_message;a&&d.notificationManager.open({text:a,type:"warning",timeout:0,icon:""})})}});x("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(l){return{create:function(h,e,d){for(var c=[];e&&e!=h;e=e.parentNode)c.push(l.nodeIndex(e,d));return c},resolve:function(h,e){var d,c;c=h;for(d=e.length-1;0<=d;d--){c=c.childNodes;if(e[d]>c.length-1)return null;c=c[e[d]]}return c}}});
x("tinymce/util/Quirks","tinymce/util/VK tinymce/dom/RangeUtils tinymce/dom/TreeWalker tinymce/dom/NodePath tinymce/html/Node tinymce/html/Entities tinymce/Env tinymce/util/Tools tinymce/util/Delay tinymce/caret/CaretContainer tinymce/caret/CaretPosition tinymce/caret/CaretWalker".split(" "),function(l,h,e,d,c,f,a,b,k,q,r,s){return function(m){function g(a,b){try{m.getDoc().execCommand(a,!1,b)}catch(c){}}function n(){var a=m.getDoc().documentMode;return a?a:6}function v(a){var b;a.dataTransfer&&(m.selection.isCollapsed()&&
"IMG"==a.target.tagName&&aa.select(a.target),b=m.selection.getContent(),0<b.length&&(b=ja+escape(m.id)+","+escape(b),a.dataTransfer.setData(ia,b)))}function w(a){return a.dataTransfer&&(a=a.dataTransfer.getData(ia))&&0<=a.indexOf(ja)?(a=a.substr(ja.length).split(","),{id:unescape(a[0]),html:unescape(a[1])}):null}function p(a){m.queryCommandSupported("mceInsertClipboardContent")?m.execCommand("mceInsertClipboardContent",!1,{content:a}):m.execCommand("mceInsertContent",!1,a)}function t(){function a(b){var c=
u.schema.getBlockElements(),d=m.getBody();if("BR"!=b.nodeName)return!1;for(;b!=d&&!c[b.nodeName];b=b.parentNode)if(b.nextSibling)return!1;return!0}function c(a,b){var d;for(d=a.nextSibling;d&&d!=b;d=d.nextSibling)if((3!=d.nodeType||0!==V.trim(d.data).length)&&d!==b)return!1;return d===b}function f(b,c,d){var g;if(u.isChildOf(b,m.getBody()))for(g=u.schema.getNonEmptyElements(),b=new e(d||b,b);d=b[c?"next":"prev"]();)if(g[d.nodeName]&&!a(d)||3==d.nodeType&&0<d.data.length)return d}function g(a,b){var d,
e,k,l,n,q;if(!a.collapsed)return a;n=a.startContainer;q=a.startOffset;if(3==n.nodeType)if(b){if(q<n.data.length)return a}else if(0<q)return a;d=h.getNode(n,q);k=u.getParent(d,u.isBlock);e=f(m.getBody(),b,d);l=u.getParent(e,u.isBlock);n=1===n.nodeType&&q>n.childNodes.length-1;if(!d||!e)return a;if(l&&k!=l)if(b){if(!c(k,l))return a;1==d.nodeType?"BR"==d.nodeName?a.setStartBefore(d):a.setStartAfter(d):a.setStart(d,d.data.length);1==e.nodeType?a.setEnd(e,0):a.setEndBefore(e)}else{if(!c(l,k))return a;
1==e.nodeType?"BR"==e.nodeName?a.setStartBefore(e):a.setStartAfter(e):a.setStart(e,e.data.length);1==d.nodeType?n?a.setEndAfter(d):a.setEndBefore(d):a.setEndBefore(d)}return a}function n(a){var b=y.getRng(),b=g(b,a);a:{a=b;var c,d,e;if(!a.collapsed&&(b=u.getParent(h.getNode(a.startContainer,a.startOffset),u.isBlock),c=u.getParent(h.getNode(a.endContainer,a.endOffset),u.isBlock),d=m.schema.getTextBlockElements(),b!=c&&d[b.nodeName]&&d[c.nodeName]&&"false"!==u.getContentEditable(b)&&"false"!==u.getContentEditable(c))){a.deleteContents();
d=f(b,!1);e=f(c,!0);u.isEmpty(c)||V(b).append(c.childNodes);V(c).remove();d?1==d.nodeType?"BR"==d.nodeName?(a.setStartBefore(d),a.setEndBefore(d)):(a.setStartAfter(d),a.setEndAfter(d)):(a.setStart(d,d.data.length),a.setEnd(d,d.data.length)):e&&(1==e.nodeType?(a.setStartBefore(e),a.setEndBefore(e)):(a.setStart(e,0),a.setEnd(e,0)));y.setRng(a);a=!0;break a}a=void 0}if(a)return!0}function q(a,c){function e(a,d){p=V(d).parents().filter(function(a,b){return!!m.schema.getTextInlineElements()[b.nodeName]});
k=a.cloneNode(!1);p=b.map(p,function(a){a=a.cloneNode(!1);k.hasChildNodes()&&a.appendChild(k.firstChild);k.appendChild(a);k.appendChild(a);return a});return p.length?(n=u.create("br"),p[0].appendChild(n),u.replace(k,a),c.setStartBefore(n),c.setEndBefore(n),m.selection.setRng(c),n):null}var f,g,k,h,l,n,p;if(c.collapsed&&(f=c.startContainer,l=c.startOffset,(g=u.getParent(f,u.isBlock))&&m.schema.getTextBlockElements()[g.tagName]))if(1==f.nodeType){if(f=f.childNodes[l],!f||"BR"==f.tagName)if(h=a?g.nextSibling:
g.previousSibling,u.isEmpty(g)&&h&&m.schema.getTextBlockElements()[h.tagName]&&u.isEmpty(h)&&e(g,f))return u.remove(h),!0}else if(3==f.nodeType){f=d.create(g,f);h=g.cloneNode(!0);f=d.resolve(h,f);if(a){if(l>=f.data.length)return;f.deleteData(l,1)}else{if(0>=l)return;f.deleteData(l-1,1)}if(u.isEmpty(h))return e(g,f)}}function r(a){var c,d,f;n(a)||(b.each(m.getBody().getElementsByTagName("*"),function(a){"SPAN"==a.tagName&&a.setAttribute("mce-data-marked",1);!a.hasAttribute("data-mce-style")&&a.hasAttribute("style")&&
m.dom.setAttrib(a,"style",m.dom.getAttrib(a,"style"))}),c=new B(function(){}),c.observe(m.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),m.getDoc().execCommand(a?"ForwardDelete":"Delete",!1,null),d=m.selection.getRng(),f=d.startContainer.parentNode,b.each(c.takeRecords(),function(a){if(u.isChildOf(a.target,m.getBody())){if("style"==a.attributeName){var c=a.target.getAttribute("data-mce-style");c?a.target.setAttribute("style",c):a.target.removeAttribute("style")}b.each(a.addedNodes,
function(a){if("SPAN"==a.nodeName&&!a.getAttribute("mce-data-marked")){var b,c;a==f&&(b=d.startOffset,c=a.firstChild);u.remove(a,!0);c&&(d.setStart(c,b),d.setEnd(c,b),m.selection.setRng(d))}})}}),c.disconnect(),b.each(m.dom.select("span[mce-data-marked]"),function(a){a.removeAttribute("mce-data-marked")}))}function t(a){m.undoManager.transact(function(){r(a)})}var s=m.getDoc(),u=m.dom,y=m.selection,B=window.MutationObserver,A,z;B||(A=!0,B=function(){function a(b){b=b.relatedNode||b.target;c.push({target:b,
addedNodes:[b]})}function b(a){c.push({target:a.relatedNode||a.target,attributeName:a.attrName})}var c=[],d;this.observe=function(c){d=c;d.addEventListener("DOMSubtreeModified",a,!1);d.addEventListener("DOMNodeInsertedIntoDocument",a,!1);d.addEventListener("DOMNodeInserted",a,!1);d.addEventListener("DOMAttrModified",b,!1)};this.disconnect=function(){d.removeEventListener("DOMSubtreeModified",a,!1);d.removeEventListener("DOMNodeInsertedIntoDocument",a,!1);d.removeEventListener("DOMNodeInserted",a,
!1);d.removeEventListener("DOMAttrModified",b,!1)};this.takeRecords=function(){return c}});m.on("keydown",function(a){var b=a.keyCode==ea,c=a.ctrlKey||a.metaKey;if(!a.isDefaultPrevented()&&(b||a.keyCode==da)){var d=m.selection.getRng(),f=d.startContainer,e=d.startOffset;b&&a.shiftKey||(q(b,d)?a.preventDefault():!c&&d.collapsed&&3==f.nodeType&&(b?e<f.data.length:0<e)||(a.preventDefault(),c&&m.selection.getSel().modify("extend",b?"forward":"backward",a.metaKey?"lineboundary":"word"),r(b)))}});m.on("keypress",
function(a){if(!a.isDefaultPrevented()&&!y.isCollapsed()&&31<a.charCode&&!l.metaKeyPressed(a)){var b,c,d,f;b=m.selection.getRng();d=String.fromCharCode(a.charCode);a.preventDefault();a=V(b.startContainer).parents().filter(function(a,b){return!!m.schema.getTextInlineElements()[b.nodeName]});r(!0);a=a.filter(function(a,b){return!V.contains(m.getBody(),b)});a.length?(c=u.createFragment(),a.each(function(a,b){b=b.cloneNode(!1);c.hasChildNodes()?b.appendChild(c.firstChild):f=b;c.appendChild(b);c.appendChild(b)}),
f.appendChild(m.getDoc().createTextNode(d)),d=u.getParent(b.startContainer,u.isBlock),u.isEmpty(d)?V(d).empty().append(c):b.insertNode(c),b.setStart(f.firstChild,1),b.setEnd(f.firstChild,1),m.selection.setRng(b)):m.selection.setContent(d)}});m.addCommand("Delete",function(){r()});m.addCommand("ForwardDelete",function(){r(!0)});A||(m.on("dragstart",function(a){z=y.getRng();v(a)}),m.on("drop",function(a){if(!a.isDefaultPrevented()){var b=w(a);b&&(a.preventDefault(),k.setEditorTimeout(m,function(){var c=
h.getCaretRangeFromPoint(a.x,a.y,s);z&&(y.setRng(z),z=null,t());y.setRng(c);p(b.html)}))}}),m.on("cut",function(a){a.isDefaultPrevented()||!a.clipboardData||m.selection.isCollapsed()||(a.preventDefault(),a.clipboardData.clearData(),a.clipboardData.setData("text/html",m.selection.getContent()),a.clipboardData.setData("text/plain",m.selection.getContent({format:"text"})),k.setEditorTimeout(m,function(){t(!0)}))}))}function u(){m.shortcuts.add("meta+a",null,"SelectAll")}function A(){m.settings.content_editable||
P.bind(m.getDoc(),"mousedown mouseup",function(a){var b;a.target==m.getDoc().documentElement&&(b=aa.getRng(),m.getBody().focus(),"mousedown"==a.type?q.isCaretContainer(b.startContainer)||aa.placeCaretAt(a.clientX,a.clientY):aa.setRng(b))})}function z(){m.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===da&&m.getBody().getElementsByTagName("hr").length&&aa.isCollapsed()&&0===aa.getRng(!0).startOffset){var b=aa.getNode(),c=b.previousSibling;"HR"==b.nodeName?(P.remove(b),a.preventDefault()):
c&&c.nodeName&&"hr"===c.nodeName.toLowerCase()&&(P.remove(c),a.preventDefault())}})}function y(){if(!window.Range.prototype.getClientRects)m.on("mousedown",function(a){if(!a.isDefaultPrevented()&&"HTML"===a.target.nodeName){var b=m.getBody();b.blur();k.setEditorTimeout(m,function(){b.focus()})}})}function x(){m.on("click",function(a){var b=a.target;/^(IMG|HR)$/.test(b.nodeName)&&"false"!==P.getContentEditableParent(b)&&(a.preventDefault(),aa.select(b),m.nodeChanged());"A"==b.nodeName&&P.hasClass(b,
"mce-item-anchor")&&(a.preventDefault(),aa.select(b))})}function B(){function a(){var b=P.getAttribs(aa.getStart().cloneNode(!1));return function(){var a=aa.getStart();a!==m.getBody()&&(P.setAttrib(a,"style",null),X(b,function(b){a.setAttributeNode(b.cloneNode(!0))}))}}function b(){return!aa.isCollapsed()&&P.getParent(aa.getStart(),P.isBlock)!=P.getParent(aa.getEnd(),P.isBlock)}m.on("keypress",function(c){var d;if(!c.isDefaultPrevented()&&(8==c.keyCode||46==c.keyCode)&&b())return d=a(),m.getDoc().execCommand("delete",
!1,null),d(),c.preventDefault(),!1});P.bind(m.getDoc(),"cut",function(c){var d;!c.isDefaultPrevented()&&b()&&(d=a(),k.setEditorTimeout(m,function(){d()}))})}function G(){m.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===da&&aa.isCollapsed()&&0===aa.getRng(!0).startOffset){var b=aa.getNode().previousSibling;if(b&&b.nodeName&&"table"===b.nodeName.toLowerCase())return a.preventDefault(),!1}})}function H(){7<n()||(g("RespectVisibilityInDesign",!0),m.contentStyles.push(".mceHideBrInPre pre br {display: none}"),
P.addClass(m.getBody(),"mceHideBrInPre"),Y.addNodeFilter("pre",function(a){for(var b=a.length,d,f,e,g;b--;)for(d=a[b].getAll("br"),f=d.length;f--;)e=d[f],(g=e.prev)&&3===g.type&&"\n"!=g.value.charAt(g.value-1)?g.value+="\n":e.parent.insert(new c("#text",3),e,!0).value="\n"}),ha.addNodeFilter("pre",function(a){for(var b=a.length,c,d,f;b--;)for(c=a[b].getAll("br"),d=c.length;d--;)f=c[d],(f=f.prev)&&3==f.type&&(f.value=f.value.replace(/\r?\n$/,""))}))}function F(){P.bind(m.getBody(),"mouseup",function(){var a,
b=aa.getNode();if("IMG"==b.nodeName){if(a=P.getStyle(b,"width"))P.setAttrib(b,"width",a.replace(/[^0-9%]+/g,"")),P.setStyle(b,"width","");if(a=P.getStyle(b,"height"))P.setAttrib(b,"height",a.replace(/[^0-9%]+/g,"")),P.setStyle(b,"height","")}})}function C(){function a(){g("StyleWithCSS",!1);g("enableInlineTableEditing",!1);fa.object_resizing||g("enableObjectResizing",!1)}if(!fa.readonly)m.on("BeforeExecCommand MouseDown",a)}function I(){function a(){X(P.select("a"),function(a){var b=a.parentNode,
c=P.getRoot();if(b.lastChild===a){for(;b&&!P.isBlock(b);){if(b.parentNode.lastChild!==b||b===c)return;b=b.parentNode}P.add(b,"br",{"data-mce-bogus":1})}})}m.on("SetContent ExecCommand",function(b){"setcontent"!=b.type&&"mceInsertLink"!==b.command||a()})}function K(){if(fa.forced_root_block)m.on("init",function(){g("DefaultParagraphSeparator",fa.forced_root_block)})}function N(){m.on("keydown",function(a){var b;a.isDefaultPrevented()||a.keyCode!=da||(b=m.getDoc().selection.createRange())&&b.item&&
(a.preventDefault(),m.undoManager.beforeChange(),P.remove(b.item(0)),m.undoManager.add())})}function R(){var a;10<=n()&&(a="",X("p div h1 h2 h3 h4 h5 h6".split(" "),function(b,c){a+=(0<c?",":"")+b+":empty"}),m.contentStyles.push(a+"{padding-right: 1px !important}"))}function E(){9>n()&&(Y.addNodeFilter("noscript",function(a){for(var b=a.length,c,d;b--;)c=a[b],(d=c.firstChild)&&c.attr("data-mce-innertext",d.value)}),ha.addNodeFilter("noscript",function(a){for(var b=a.length,d,e,g;b--;)if(d=a[b],e=
a[b].firstChild)e.value=f.decode(e.value);else if(g=d.attributes.map["data-mce-innertext"])d.attr("data-mce-innertext",null),e=new c("#text",3),e.value=g,e.raw=!0,d.append(e)}))}function S(){function a(b,c){var d=f.createTextRange();try{d.moveToPoint(b,c)}catch(e){d=null}return d}function b(d){if(d.button){if(d=a(d.x,d.y))0<d.compareEndPoints("StartToStart",g)?d.setEndPoint("StartToStart",g):d.setEndPoint("EndToEnd",g),d.select()}else c()}function c(){var a=d.selection.createRange();g&&!a.item&&0===
a.compareEndPoints("StartToEnd",a)&&g.select();P.unbind(d,"mouseup",c);P.unbind(d,"mousemove",b);g=e=0}var d=P.doc,f=d.body,e,g,k;d.documentElement.unselectable=!0;P.bind(d,"mousedown contextmenu",function(f){"HTML"===f.target.nodeName&&(e&&c(),k=d.documentElement,!(k.scrollHeight>k.clientHeight)&&(e=1,g=a(f.x,f.y)))&&(P.bind(d,"mouseup",c),P.bind(d,"mousemove",b),P.getRoot().focus(),g.select())})}function L(){m.on("keyup focusin mouseup",function(a){65==a.keyCode&&l.metaKeyPressed(a)||aa.normalize()},
!0)}function Z(){if(!m.inline)m.on("keydown",function(){document.activeElement==document.body&&m.getWin().focus()})}function O(){m.inline||(m.contentStyles.push("body {min-height: 150px}"),m.on("click",function(b){"HTML"==b.target.nodeName&&(11<a.ie?m.getBody().focus():(b=m.selection.getRng(),m.getBody().focus(),m.selection.setRng(b),m.selection.normalize(),m.nodeChanged()))}))}function M(){if(a.mac)m.on("keydown",function(a){!l.metaKeyPressed(a)||a.shiftKey||37!=a.keyCode&&39!=a.keyCode||(a.preventDefault(),
m.selection.getSel().modify("move",37==a.keyCode?"backward":"forward","lineboundary"))})}function U(){m.on("click",function(a){var b=a.target;do if("A"===b.tagName){a.preventDefault();break}while(b=b.parentNode)});m.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function T(){m.on("init",function(){m.dom.bind(m.getBody(),"submit",function(a){a.preventDefault()})})}function D(){Y.addNodeFilter("br",function(a){for(var b=a.length;b--;)"Apple-interchange-newline"==a[b].attr("class")&&
a[b].remove()})}function Q(){m.on("dragstart",function(a){v(a)});m.on("drop",function(a){if(!a.isDefaultPrevented()){var b=w(a);b&&b.id!=m.id&&(a.preventDefault(),a=h.getCaretRangeFromPoint(a.x,a.y,m.getDoc()),aa.setRng(a),p(b.html))}})}function W(){function a(b){var c=new s(b.getBody()),d=b.selection.getRng(),f=r.fromRangeStart(d),e=r.fromRangeEnd(d),d=c.prev(f),c=c.next(e);return!b.selection.isCollapsed()&&(!d||d.isAtStart()&&f.isEqual(d))&&(!c||c.isAtEnd()&&f.isEqual(c))}m.on("keypress",function(b){!b.isDefaultPrevented()&&
!aa.isCollapsed()&&31<b.charCode&&!l.metaKeyPressed(b)&&a(m)&&(b.preventDefault(),m.setContent(String.fromCharCode(b.charCode)),m.selection.select(m.getBody(),!0),m.selection.collapse(!1),m.nodeChanged())});m.on("keydown",function(b){var c=b.keyCode;b.isDefaultPrevented()||c!=ea&&c!=da||!a(m)||(b.preventDefault(),m.setContent(""),m.nodeChanged())})}var X=b.each,V=m.$,da=l.BACKSPACE,ea=l.DELETE,P=m.dom,aa=m.selection,fa=m.settings,Y=m.parser,ha=m.serializer,ca=a.gecko,ga=a.ie,ma=a.webkit,ja="data:text/mce-internal,",
ia=ga?"Text":"URL";(function(){m.on("keydown",function(a){var b,c,d,f;if(!a.isDefaultPrevented()&&a.keyCode==l.BACKSPACE&&(a=aa.getRng(),b=a.startContainer,c=a.startOffset,d=P.getRoot(),f=b,a.collapsed&&0===c)){for(;f&&f.parentNode&&f.parentNode.firstChild==f&&f.parentNode!=d;)f=f.parentNode;"BLOCKQUOTE"===f.tagName&&(m.formatter.toggle("blockquote",null,f),a=P.createRng(),a.setStart(b,0),a.setEnd(b,0),aa.setRng(a))}})})();(function(){function a(b){var c=P.create("body");b=b.cloneContents();c.appendChild(b);
return aa.serializer.serialize(c,{format:"html"})}m.on("keydown",function(b){var c=b.keyCode,d;if(!b.isDefaultPrevented()&&(c==ea||c==da)&&(d=m.selection.isCollapsed(),c=m.getBody(),!d||P.isEmpty(c))){if(d=!d){d=m.selection.getRng();if(d.setStart){d=a(d);var f=P.createRng();f.selectNode(m.getBody());f=a(f);d=d===f}else d.item?d=!1:(f=d.duplicate(),f.moveToElementText(m.getBody()),d=h.compareRanges(d,f));d=!d}d||(b.preventDefault(),m.setContent(""),c.firstChild&&P.isBlock(c.firstChild)?m.selection.setCursorLocation(c.firstChild,
0):m.selection.setCursorLocation(c,0),m.nodeChanged())}})})();a.windowsPhone||L();ma&&(W(),t(),A(),x(),K(),T(),G(),D(),a.iOS?(Z(),O(),U()):u());ga&&11>a.ie&&(z(),document.body.setAttribute("role","application"),H(),F(),N(),R(),E(),S());11<=a.ie&&(O(),G());a.ie&&(u(),g("AutoUrlDetect",!1),Q());ca&&(W(),z(),y(),B(),C(),I(),m.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),M(),G());return{refreshContentEditable:function(){},isHidden:function(){var a;
if(!ca)return 0;a=m.selection.getSel();return!a||!a.rangeCount||0===a.rangeCount}}}});x("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(l,h,e){function d(a,c){return"selectionchange"==c?a.getDoc():!a.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(c)?a.getDoc().documentElement:a.settings.event_root?(a.eventRoot||(a.eventRoot=f.select(a.settings.event_root)[0]),a.eventRoot):a.getBody()}function c(b,c){var e=d(b,c),h;b.delegates||
(b.delegates={});b.delegates[c]||(b.settings.event_root?(a||(a={},b.editorManager.on("removeEditor",function(){var c;if(!b.editorManager.activeEditor&&a){for(c in a)b.dom.unbind(d(b,c));a=null}})),a[c]||(h=function(a){for(var d=a.target,e=b.editorManager.editors,h=e.length;h--;){var l=e[h].getBody();if(l===d||f.isChildOf(d,l))e[h].hidden||e[h].readonly||e[h].fire(c,a)}},a[c]=h,f.bind(e,c,h))):(h=function(a){b.hidden||b.readonly||b.fire(c,a)},f.bind(e,c,h),b.delegates[c]=h))}var f=h.DOM,a;h={bindPendingEventDelegates:function(){var a=
this;e.each(a._pendingNativeEvents,function(d){c(a,d)})},toggleNativeEvent:function(a,f){"focus"!=a&&"blur"!=a&&(f?this.initialized?c(this,a):this._pendingNativeEvents?this._pendingNativeEvents.push(a):this._pendingNativeEvents=[a]:this.initialized&&(this.dom.unbind(d(this,a),a,this.delegates[a]),delete this.delegates[a]))},unbindAllNativeEvents:function(){var a;if(this.delegates){for(a in this.delegates)this.dom.unbind(d(this,a),a,this.delegates[a]);delete this.delegates}this.inline||(this.getBody().onload=
null,this.dom.unbind(this.getWin()),this.dom.unbind(this.getDoc()));this.dom.unbind(this.getBody());this.dom.unbind(this.getContainer())}};return h=e.extend({},l,h)});x("tinymce/Mode",[],function(){function l(d,c,f){try{d.getDoc().execCommand(c,!1,f)}catch(a){}}function h(d){var c,f;c=d.getBody();f=function(a){0<d.dom.getParents(a.target,"a").length&&a.preventDefault()};d.dom.bind(c,"click",f);return{unbind:function(){d.dom.unbind(c,"click",f)}}}function e(d,c){d._clickBlocker&&(d._clickBlocker.unbind(),
d._clickBlocker=null);c?(d._clickBlocker=h(d),d.selection.controlSelection.hideResizeRect(),d.readonly=!0,d.getBody().contentEditable=!1):(d.readonly=!1,d.getBody().contentEditable=!0,l(d,"StyleWithCSS",!1),l(d,"enableInlineTableEditing",!1),l(d,"enableObjectResizing",!1),d.focus(),d.nodeChanged())}return{setMode:function(d,c){if(c!=(d.readonly?"readonly":"design")){if(d.initialized)e(d,"readonly"==c);else d.on("init",function(){e(d,"readonly"==c)});d.fire("SwitchMode",{mode:c})}}}});x("tinymce/Shortcuts",
["tinymce/util/Tools","tinymce/Env"],function(l,h){var e=l.each,d=l.explode,c={f9:120,f10:121,f11:122},f=l.makeMap("alt,ctrl,shift,meta,access");return function(a){function b(a){var b,k={};e(d(a,"+"),function(a){a in f?k[a]=!0:/^[0-9]{2,}$/.test(a)?k.keyCode=parseInt(a,10):(k.charCode=a.charCodeAt(0),k.keyCode=c[a]||a.toUpperCase().charCodeAt(0))});a=[k.keyCode];for(b in f)k[b]?a.push(b):k[b]=!1;k.id=a.join(",");k.access&&(k.alt=!0,h.mac?k.ctrl=!0:k.shift=!0);k.meta&&(h.mac?k.meta=!0:(k.ctrl=!0,k.meta=
!1));return k}function k(c,f,e,k){c=l.map(d(c,">"),b);c[c.length-1]=l.extend(c[c.length-1],{func:e,scope:k||a});return l.extend(c[0],{desc:a.translate(f),subpatterns:c.slice(1)})}function q(a,b){return b&&b.ctrl==a.ctrlKey&&b.meta==a.metaKey&&b.alt==a.altKey&&b.shift==a.shiftKey?a.keyCode==b.keyCode||a.charCode&&a.charCode==b.charCode?(a.preventDefault(),!0):!1:!1}var r={},s=[];a.on("keyup keypress keydown",function(a){(a.altKey||a.ctrlKey||a.metaKey||"keydown"===a.type&&112<=a.keyCode&&123>=a.keyCode)&&
!a.isDefaultPrevented()&&(e(r,function(b){if(q(a,b))return s=b.subpatterns.slice(0),"keydown"==a.type&&b.func&&b.func.call(b.scope),!0}),q(a,s[0])&&(1===s.length&&"keydown"==a.type&&s[0].func&&s[0].func.call(s[0].scope),s.shift()))});this.add=function(b,c,f,h){var q;q=f;"string"===typeof f?f=function(){a.execCommand(q,!1,null)}:l.isArray(q)&&(f=function(){a.execCommand(q[0],q[1],q[2])});e(d(l.trim(b.toLowerCase())),function(a){a=k(a,c,f,h);r[a.id]=a});return!0};this.remove=function(a){a=k(a);return r[a.id]?
(delete r[a.id],!0):!1}}});x("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(l,h,e){return function(d,c){function f(a){var b;b={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[a.blob().type.toLowerCase()]||"dat";return a.filename()+"."+b}function a(a,b,d,f){var e,g;e=new XMLHttpRequest;e.open("POST",c.url);e.withCredentials=c.credentials;e.upload.onprogress=function(a){f(100*(a.loaded/a.total))};e.onerror=function(){d("Image upload failed due to a XHR Transport error. Code: "+
e.status)};e.onload=function(){var a;if(200!=e.status)d("HTTP Error: "+e.status);else if((a=JSON.parse(e.responseText))&&"string"==typeof a.location){var f;f=c.basePath;a=a.location;f=f?f.replace(/\/$/,"")+"/"+a.replace(/^\//,""):a;b(f)}else d("Invalid JSON: "+e.responseText)};g=new FormData;g.append("file",a.blob(),a.filename());e.send(g)}function b(){return new l(function(a){a([])})}function k(a,b){return{url:"",blobInfo:a,status:!1,error:b}}function q(a,b){h.each(g[a],function(a){a(b)});delete g[a]}
function r(a,b,c){d.markPending(a.blobUri());return new l(function(g){var h,l,m=function(){};try{l=function(a){0>a||100<a||(h||(h=c()),h.progressBar.value(a))},b({id:a.id,blob:a.blob,base64:a.base64,filename:e.constant(f(a))},function(b){h&&(h.close(),l=m);d.markUploaded(a.blobUri(),b);q(a.blobUri(),{url:b,blobInfo:a,status:!0});g({url:b,blobInfo:a,status:!0})},function(b){h&&(h.close(),l=m);d.removeFailed(a.blobUri());q(a.blobUri(),k(a,b));g(k(a,b))},l)}catch(r){g(k(a,r.message))}})}function s(a){var b=
a.blobUri();return new l(function(a){g[b]=g[b]||[];g[b].push(a)})}function m(a,b){a=h.grep(a,function(a){return!d.isUploaded(a.blobUri())});return l.all(h.map(a,function(a){return d.isPending(a.blobUri())?s(a):r(a,c.handler,b)}))}var g={};c=h.extend({credentials:!1,handler:a},c);return{upload:function(d,f){return c.url||c.handler!==a?m(d,f):b()}}}});x("tinymce/file/Conversions",["tinymce/util/Promise"],function(l){function h(c){return new l(function(d){var a=new XMLHttpRequest;a.open("GET",c,!0);
a.responseType="blob";a.onload=function(){200==this.status&&d(this.response)};a.send()})}function e(c){var d,a;c=decodeURIComponent(c).split(",");(a=/data:([^;]+)/.exec(c[0]))&&(d=a[1]);return{type:d,data:c[1]}}function d(c){return new l(function(d){var a,b,k;c=e(c);try{a=atob(c.data)}catch(h){d(new Blob([]));return}b=new Uint8Array(a.length);for(k=0;k<b.length;k++)b[k]=a.charCodeAt(k);d(new Blob([b],{type:c.type}))})}return{uriToBlob:function(c){return 0===c.indexOf("blob:")?h(c):0===c.indexOf("data:")?
d(c):null},blobToDataUri:function(c){return new l(function(d){var a=new FileReader;a.onloadend=function(){d(a.result)};a.readAsDataURL(c)})},parseDataUri:e}});x("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun","tinymce/file/Conversions","tinymce/Env"],function(l,h,e,d,c){var f=0;return function(a,b){var k={};return{findAll:function(q,r){function s(a,c){var e,k;0===a.src.indexOf("blob:")?(k=b.getByUri(a.src))?c({image:a,blobInfo:k}):d.uriToBlob(a.src).then(function(h){d.blobToDataUri(h).then(function(l){e=
d.parseDataUri(l).data;k=b.create("blobid"+f++,h,e);b.add(k);c({image:a,blobInfo:k})})}):(e=d.parseDataUri(a.src).data,(k=b.findFirst(function(a){return a.base64()===e}))?c({image:a,blobInfo:k}):d.uriToBlob(a.src).then(function(d){k=b.create("blobid"+f++,d,e);b.add(k);c({image:a,blobInfo:k})}))}var m;r||(r=e.constant(!0));m=h.filter(q.getElementsByTagName("img"),function(b){var d=b.src;return!c.fileApi||b.hasAttribute("data-mce-bogus")||b.hasAttribute("data-mce-placeholder")||!d||d==c.transparentSrc?
!1:0===d.indexOf("blob:")?!a.isUploaded(d):0===d.indexOf("data:")?r(b):!1});m=h.map(m,function(a){var b;if(k[a.src])return new l(function(b){k[a.src].then(function(c){b({image:a,blobInfo:c.blobInfo})})});b=(new l(function(b){s(a,b)})).then(function(a){delete k[a.image.src];return a})["catch"](function(b){delete k[a.src];return b});return k[a.src]=b});return l.all(m)}}}});x("tinymce/file/BlobCache",["tinymce/util/Arr","tinymce/util/Fun"],function(l,h){return function(){function e(a){return d(function(b){return b.id()===
a})}function d(a){return l.filter(c,a)[0]}var c=[],f=h.constant;return{create:function(a,b,c,d){return{id:f(a),filename:f(d||a),blob:f(b),base64:f(c),blobUri:f(URL.createObjectURL(b))}},add:function(a){e(a.id())||c.push(a)},get:e,getByUri:function(a){return d(function(b){return b.blobUri()==a})},findFirst:d,removeByUri:function(a){c=l.filter(c,function(b){return b.blobUri()===a?(URL.revokeObjectURL(b.blobUri()),!1):!0})},destroy:function(){l.each(c,function(a){URL.revokeObjectURL(a.blobUri())});c=
[]}}}});x("tinymce/file/UploadStatus",[],function(){return function(){function l(e){return e in h}var h={};return{hasBlobUri:l,getResultUri:function(e){return(e=h[e])?e.resultUri:null},isPending:function(e){return l(e)?1===h[e].status:!1},isUploaded:function(e){return l(e)?2===h[e].status:!1},markPending:function(e){h[e]={status:1,resultUri:null}},markUploaded:function(e,d){h[e]={status:2,resultUri:d}},removeFailed:function(e){delete h[e]},destroy:function(){h={}}}}});x("tinymce/ErrorReporter",["tinymce/AddOnManager"],
function(l){var h=l.PluginManager,e=function(d,c){if(d._skinLoaded)d.notificationManager.open({type:"error",text:c});else d.on("SkinLoaded",function(){d.notificationManager.open({type:"error",text:c})})};return{pluginLoadError:function(d,c){var f;a:{for(f in h.urls)if(h.urls[f]+"/plugin"+d.suffix+".js"===c)break a;f=null}e(d,f?"Failed to load plugin: "+f+" from url "+c:"Failed to load plugin url: "+c)},uploadError:function(d,c){e(d,"Failed to upload image: "+c)}}});x("tinymce/EditorUpload","tinymce/util/Arr tinymce/file/Uploader tinymce/file/ImageScanner tinymce/file/BlobCache tinymce/file/UploadStatus tinymce/ErrorReporter".split(" "),
function(l,h,e,d,c,f){return function(a){function b(b){return function(c){return a.selection?b(c):[]}}function k(a,b,c){var d=0;do d=a.indexOf(b,d),-1!==d&&(a=a.substring(0,d)+c+a.substr(d+b.length),d+=c.length-b.length+1);while(-1!==d);return a}function q(a,b,c){a=k(a,'src="'+b+'"','src="'+c+'"');return a=k(a,'data-mce-src="'+b+'"','data-mce-src="'+c+'"')}function r(b,c){l.each(a.undoManager.data,function(a){"fragmented"===a.type?a.fragments=l.map(a.fragments,function(a){return q(a,b,c)}):a.content=
q(a.content,b,c)})}function s(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function m(c){t||(t=new h(z,{url:A.images_upload_url,basePath:A.images_upload_base_path,credentials:A.images_upload_credentials,handler:A.images_upload_handler}));return v().then(b(function(d){var e;e=l.map(d,function(a){return a.blobInfo});return t.upload(e,s).then(b(function(b){b=l.map(b,function(b,c){var e=d[c].image;if(b.status&&!1!==a.settings.images_replace_blob_uris){var g=
b.url;p.removeByUri(e.src);r(e.src,g);a.$(e).attr({src:A.images_reuse_filename?g+("?"+(new Date).getTime()):g,"data-mce-src":a.convertURL(g,"src")})}else b.error&&f.uploadError(a,b.error);return{element:e,status:b.status}});c&&c(b);return b}))}))}function g(a){if(!1!==A.automatic_uploads)return m(a)}function n(a){return A.images_dataimg_filter?A.images_dataimg_filter(a):!0}function v(){u||(u=new e(z,p));return u.findAll(a.getBody(),n).then(b(function(a){l.each(a,function(a){r(a.image.src,a.blobInfo.blobUri());
a.image.src=a.blobInfo.blobUri();a.image.removeAttribute("data-mce-src")});return a}))}function w(b){return b.replace(/src="(blob:[^"]+)"/g,function(b,c){var d=z.getResultUri(c);if(d)return'src="'+d+'"';(d=p.getByUri(c))||(d=l.reduce(a.editorManager.editors,function(a,b){return a||b.editorUpload.blobCache.getByUri(c)},null));return d?'src="data:'+d.blob().type+";base64,"+d.base64()+'"':b})}var p=new d,t,u,A=a.settings,z=new c;a.on("setContent",function(){!1!==a.settings.automatic_uploads?g():v()});
a.on("RawSaveContent",function(a){a.content=w(a.content)});a.on("getContent",function(a){a.source_view||"raw"==a.format||(a.content=w(a.content))});a.on("PostRender",function(){a.parser.addNodeFilter("img",function(a){l.each(a,function(a){var b=a.attr("src");p.getByUri(b)||(b=z.getResultUri(b))&&a.attr("src",b)})})});return{blobCache:p,uploadImages:m,uploadImagesAuto:g,scanForImages:v,destroy:function(){p.destroy();z.destroy();u=t=null}}}});x("tinymce/caret/FakeCaret","tinymce/caret/CaretContainer tinymce/caret/CaretPosition tinymce/dom/NodeType tinymce/dom/RangeUtils tinymce/dom/DomQuery tinymce/geom/ClientRect tinymce/util/Delay".split(" "),
function(l,h,e,d,c,f,a){var b=e.isContentEditableFalse;return function(d,e){function h(){var a,b,f,e,q;a=c("*[contentEditable=false]",d);for(e=0;e<a.length;e++)b=a[e],f=b.previousSibling,l.endsWithCaretContainer(f)&&(q=f.data,1==q.length?f.parentNode.removeChild(f):f.deleteData(q.length-1,1)),f=b.nextSibling,l.startsWithCaretContainer(f)&&(q=f.data,1==q.length?f.parentNode.removeChild(f):f.deleteData(0,1));n&&(l.remove(n),n=null);g&&(g.remove(),g=null);clearInterval(m)}function s(){m=a.setInterval(function(){c("div.mce-visual-caret",
d).toggleClass("mce-visual-caret-hidden")},500)}var m,g,n;return{show:function(a,m){var p;h();if(e(m)){n=l.insertBlock("p",m,a);p=f.collapse(m.getBoundingClientRect(),a);var t,u;"BODY"==d.tagName?(t=d.ownerDocument.documentElement,u=d.scrollLeft||t.scrollLeft,t=d.scrollTop||t.scrollTop):(t=d.getBoundingClientRect(),u=d.scrollLeft-t.left,t=d.scrollTop-t.top);p.left+=u;p.right+=u;p.top+=t;p.bottom+=t;p.width=1;u=m.offsetWidth-m.clientWidth;0<u&&(a&&(u*=-1),p.left+=u,p.right+=u);c(n).css("top",p.top);
g=c('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(p).appendTo(d);a&&g.addClass("mce-visual-caret-before");s();p=m.ownerDocument.createRange();p.setStart(n,0);p.setEnd(n,0)}else n=l.insertInline(m,a),p=m.ownerDocument.createRange(),b(n.nextSibling)?(p.setStart(n,0),p.setEnd(n,0)):(p.setStart(n,1),p.setEnd(n,1));return p},hide:h,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},
destroy:function(){a.clearInterval(m)}}}});x("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(l,h,e){function d(c){function f(a){return l.map(a,function(a){a=e.clone(a);a.node=c;return a})}if(l.isArray(c))return l.reduce(c,function(a,c){return a.concat(d(c))},[]);if(h.isElement(c))return f(c.getClientRects());if(h.isText(c)){var a=c.ownerDocument.createRange();a.setStart(c,0);a.setEnd(c,c.data.length);return f(a.getClientRects())}}return{getClientRects:d}});
x("tinymce/caret/LineWalker","tinymce/util/Fun tinymce/util/Arr tinymce/dom/Dimensions tinymce/caret/CaretCandidate tinymce/caret/CaretUtils tinymce/caret/CaretWalker tinymce/caret/CaretPosition tinymce/geom/ClientRect".split(" "),function(l,h,e,d,c,f,a,b){function k(a,b,f,e){for(;(e=c.findNode(e,a,d.isEditableCaretCandidate,b))&&!f(e););}function q(a,b,c,d,f,l){function q(d){var k,l;l=e.getClientRects(d);-1==a&&(l=l.reverse());for(d=0;d<l.length;d++)if(k=l[d],!c(k,z)){0<s.length&&b(k,h.last(s))&&
r++;k.line=r;if(f(k))return!0;s.push(k)}}var r=0,s=[],z;z=h.last(l.getClientRects());if(!z)return s;l=l.getNode();q(l);k(a,d,q,l);return s}l=l.curry;var r=l(q,-1,b.isAbove,b.isBelow),s=l(q,1,b.isBelow,b.isAbove);return{upUntil:r,downUntil:s,positionsUntil:function(c,d,e,k){var l=new f(d),q;d=[];var r=0,s,A;1==c?(c=l.next,l=b.isBelow,q=b.isAbove,k=a.after(k)):(c=l.prev,l=b.isAbove,q=b.isBelow,k=a.before(k));A=h.last(k.getClientRects());do if(k.isVisible()&&(s=h.last(k.getClientRects()),!q(s,A))){0<
d.length&&l(s,h.last(d))&&r++;s=b.clone(s);s.position=k;s.line=r;if(e(s))break;d.push(s)}while(k=c(k));return d},isAboveLine:l(function(a,b){return b.line>a}),isLine:l(function(a,b){return b.line===a})}});x("tinymce/caret/LineUtils","tinymce/util/Fun tinymce/util/Arr tinymce/dom/NodeType tinymce/dom/Dimensions tinymce/geom/ClientRect tinymce/caret/CaretUtils tinymce/caret/CaretCandidate".split(" "),function(l,h,e,d,c,f,a){function b(a,b){return h.reduce(a,function(a,c){var d,f;d=Math.min(Math.abs(a.left-
b),Math.abs(a.right-b));f=Math.min(Math.abs(c.left-b),Math.abs(c.right-b));return b>=c.left&&b<=c.right?c:b>=a.left&&b<=a.right?a:f==d&&r(c.node)||f<d?c:a})}function k(b,c,d,f){for(;(f=s(f,b,a.isEditableCaretCandidate,c))&&!d(f););}function q(a,b){function f(a,c){var g;g=h.filter(d.getClientRects(c),function(c){return!a(c,b)});e=e.concat(g);return 0===g.length}var e=[];e.push(b);k(-1,a,m(f,c.isAbove),b.node);k(1,a,m(f,c.isBelow),b.node);return e}var r=e.isContentEditableFalse,s=f.findNode,m=l.curry;
return{findClosestClientRect:b,findLineNodeRects:q,closestCaret:function(a,c,f){var e;e=d.getClientRects(h.filter(h.toArray(a.getElementsByTagName("*")),r));e=h.filter(e,function(a){return f>=a.top&&f<=a.bottom});return(e=b(e,c))&&(e=b(q(a,e),c))&&r(e.node)?{node:e.node,before:Math.abs(e.left-c)<Math.abs(e.right-c)}:null}}});x("tinymce/dom/MousePosition",[],function(){var l=function(h){var e,d;d=h.getBoundingClientRect();e=h.ownerDocument;h=e.documentElement;e=e.defaultView;return{top:d.top+e.pageYOffset-
h.clientTop,left:d.left+e.pageXOffset-h.clientLeft}};return{calc:function(h,e){var d,c,f=h.inline?l(h.getBody()):{left:0,top:0},a;a=h.getBody();a=h.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0};if(e.target.ownerDocument!==h.getDoc()){c=l(h.getContentAreaContainer());var b;b=h.getBody();var k=h.getDoc().documentElement;d={left:b.scrollLeft,top:b.scrollTop};b={left:b.scrollLeft||k.scrollLeft,top:b.scrollTop||k.scrollTop};b=h.inline?d:b;d=e.pageX-c.left+b.left;c=e.pageY-c.top+b.top}else d=
e.pageX,c=e.pageY;return{pageX:d-f.left+a.left,pageY:c-f.top+a.top}}}});x("tinymce/DragDropOverrides","tinymce/dom/NodeType tinymce/util/Arr tinymce/util/Fun tinymce/util/Delay tinymce/dom/DOMUtils tinymce/dom/MousePosition".split(" "),function(l,h,e,d,c,f){var a=l.isContentEditableFalse,b=l.isContentEditableTrue,k=function(b,c,d){return c===d||b.dom.isChildOf(c,d)||a(c)?!1:!0},q=function(a){a=a.cloneNode(!0);a.removeAttribute("data-mce-selected");return a},r=function(c,d){return function(f){if(0===
f.button){var g=h.find(d.dom.getParents(f.target),e.or(a,b)),k=d.getBody();if(a(g)&&g!==k){var k=d.dom.getPos(g),l=d.getBody(),m=d.getDoc().documentElement;c.element=g;c.screenX=f.screenX;c.screenY=f.screenY;c.maxX=(d.inline?l.scrollWidth:m.offsetWidth)-2;c.maxY=(d.inline?l.scrollHeight:m.offsetHeight)-2;c.relX=f.pageX-k.x;c.relY=f.pageY-k.y;c.width=g.offsetWidth;c.height=g.offsetHeight;f=c.width;k=c.height;g=g.cloneNode(!0);d.dom.setStyles(g,{width:f,height:k});d.dom.setAttrib(g,"data-mce-selected",
null);l=d.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});d.dom.setStyles(l,{position:"absolute",opacity:0.5,overflow:"hidden",border:0,padding:0,margin:0,width:f,height:k});d.dom.setStyles(g,{margin:0,boxSizing:"border-box"});l.appendChild(g);c.ghost=l}}}},s=function(a,b){var c=d.throttle(function(a,c){b._selectionOverrides.hideFakeCaret();b.selection.placeCaretAt(a,c)},0);return function(d){var e,g;e=Math.max(Math.abs(d.screenX-a.screenX),
Math.abs(d.screenY-a.screenY));if(a.element&&!a.dragging&&10<e){if(b.fire("dragstart",{target:a.element}).isDefaultPrevented())return;a.dragging=!0;b.focus()}if(a.dragging){g=f.calc(b,d);e=g.pageX-a.relX;g=g.pageY+5;var k=a.ghost,h=b.getBody();k.parentNode!==h&&h.appendChild(k);var k=a.ghost,h=a.width,l=a.height,m=a.maxX,q=a.maxY,n=0,r=0;k.style.left=e+"px";k.style.top=g+"px";e+h>m&&(n=e+h-m);g+l>q&&(r=g+l-q);k.style.width=h-n+"px";k.style.height=l-r+"px";c(d.clientX,d.clientY)}}},m=function(a){a=
a.getSel().getRangeAt(0).startContainer;return 3===a.nodeType?a.parentNode:a},g=function(a,b){return function(c){if(a.dragging&&k(b,m(b.selection),a.element)){var d=q(a.element);c=b.fire("drop",{targetClone:d,clientX:c.clientX,clientY:c.clientY});c.isDefaultPrevented()||(d=c.targetClone,b.undoManager.transact(function(){var c=a.element;c&&c.parentNode&&c.parentNode.removeChild(c);b.insertContent(b.dom.getOuterHTML(d));b._selectionOverrides.hideFakeCaret()}))}v(a)}},n=function(a,b){return function(){v(a);
a.dragging&&b.fire("dragend")}},v=function(a){a.dragging=!1;a.element=null;(a=a.ghost)&&a.parentNode&&a.parentNode.removeChild(a)},w=function(a){var b={},d,f,e,k,h,l;d=c.DOM;l=document;f=r(b,a);e=s(b,a);k=g(b,a);h=n(b,a);a.on("mousedown",f);a.on("mousemove",e);a.on("mouseup",k);d.bind(l,"mousemove",e);d.bind(l,"mouseup",h);a.on("remove",function(){d.unbind(l,"mousemove",e);d.unbind(l,"mouseup",h)})},p=function(b){b.on("drop",function(c){var d="undefined"!==typeof c.clientX?b.getDoc().elementFromPoint(c.clientX,
c.clientY):null;(a(d)||a(b.dom.getContentEditableParent(d)))&&c.preventDefault()})};return{init:function(a){w(a);p(a)}}});x("tinymce/SelectionOverrides","tinymce/Env tinymce/caret/CaretWalker tinymce/caret/CaretPosition tinymce/caret/CaretContainer tinymce/caret/CaretUtils tinymce/caret/FakeCaret tinymce/caret/LineWalker tinymce/caret/LineUtils tinymce/dom/NodeType tinymce/dom/RangeUtils tinymce/geom/ClientRect tinymce/util/VK tinymce/util/Fun tinymce/util/Arr tinymce/util/Delay tinymce/DragDropOverrides".split(" "),
function(l,h,e,d,c,f,a,b,k,q,r,s,m,g,n,v){function w(a,b){for(;(b=a(b))&&!b.isVisible(););return b}var p=m.curry,t=k.isContentEditableTrue,u=k.isContentEditableFalse,A=k.isElement,z=c.isAfterContentEditableFalse,y=c.isBeforeContentEditableFalse,x=q.getSelectedNode;return function(q){function G(a){return q.dom.isBlock(a)}function H(a){a&&q.selection.setRng(a)}function F(a,b,c){if(q.fire("ShowCaret",{target:b,direction:a,before:c}).isDefaultPrevented())return null;q.selection.scrollIntoView(b,-1===
a);return Y.show(c,b)}function C(a){if(q.fire("BeforeObjectSelected",{target:a}).isDefaultPrevented())return null;var b=a.ownerDocument.createRange();b.selectNode(a);return b}function I(a,b){b=c.normalizeRange(a,ea,b);return-1==a?e.fromRangeStart(b):e.fromRangeEnd(b)}function K(a,b,f,e){var g,h;if(!e.collapsed&&(g=x(e),u(g)))return F(a,g,-1==a);h=d.isCaretContainerBlock(e.startContainer);g=I(a,e);if(f(g))return C(g.getNode(-1==a));g=b(g);if(!g)return h?e:null;if(f(g))return F(a,g.getNode(-1==a),1==
a);b=b(g);return f(b)&&(f=g,e=c.isInSameBlock(f,b),f=!e&&k.isBr(f.getNode())?!0:e,f)?F(a,b.getNode(-1==a),1==a):h?Z(g.toRange()):null}function N(a,b){var c,d;if(b.collapsed&&q.settings.forced_root_block&&(c=q.dom.getParent(b.startContainer,"PRE"))&&(d=1==a?aa(e.fromRangeStart(b)):fa(e.fromRangeStart(b)),!d)){d=q.dom.create(q.settings.forced_root_block);if(!l.ie||11<=l.ie)d.innerHTML='<br data-mce-bogus="1">';1==a?q.$(c).after(d):q.$(c).before(d);q.selection.select(d,!0);q.selection.collapse()}}function R(a,
b,c,d){return(b=K(a,b,c,d))?b:(b=N(a,d))?b:null}function E(c,d,f){var e;a:{var k,h;e=x(f);k=I(c,f);d=d(ea,a.isAboveLine(1),k);h=g.filter(d,a.isLine(1));d=g.last(k.getClientRects());y(k)&&(e=k.getNode());z(k)&&(e=k.getNode(!0));if(d)if(d=d.left,(k=b.findClosestClientRect(h,d))&&u(k.node))e=Math.abs(d-k.left),d=Math.abs(d-k.right),e=F(c,k.node,e<d);else{if(e){e=a.positionsUntil(c,ea,a.isAboveLine(1),e);if(k=b.findClosestClientRect(g.filter(e,a.isLine(1)),d)){e=Z(k.position.toRange());break a}if(k=g.last(g.filter(e,
a.isLine(0)))){e=Z(k.position.toRange());break a}}e=void 0}else e=null}return e?e:(e=N(c,f))?e:null}function S(a){a.hasAttribute("data-mce-caret")&&(d.showCaretContainerBlock(a),H(q.selection.getRng()),q.selection.scrollIntoView(a[0],void 0))}function L(a){a=c.normalizeRange(1,ea,a);a=e.fromRangeStart(a);if(u(a.getNode()))return F(1,a.getNode(),!a.isAtEnd());if(u(a.getNode(!0)))return F(1,a.getNode(!0),!1);a=q.dom.getParent(a.getNode(),m.or(u,t));return u(a)?F(1,a,!1):null}function Z(a){var b;return a&&
a.collapsed?(b=L(a))?b:a:a}function O(a){var b,c,f,g;if(!u(a))return null;u(a.previousSibling)&&(f=a.previousSibling);(c=fa(e.before(a)))||(b=aa(e.after(a)));b&&A(b.getNode())&&(g=b.getNode());d.remove(a.previousSibling);d.remove(a.nextSibling);q.dom.remove(a);if(q.dom.isEmpty(q.getBody()))q.setContent(""),q.focus();else return f?e.after(f).toRange():g?e.before(g).toRange():c?c.toRange():b?b.toRange():null}function M(a){var b=q.schema.getTextBlockElements();return a.nodeName in b}function U(a,b,c){var d=
q.dom,f,g;f=d.getParent(b.getNode(),d.isBlock);g=d.getParent(c.getNode(),d.isBlock);if(-1===a){if(a=c.getNode(!0),z(c)&&G(a))return M(f)?(q.dom.isEmpty(f)&&d.remove(f),e.after(a).toRange()):O(c.getNode(!0))}else if(a=b.getNode(),y(b)&&G(a))return M(g)?(q.dom.isEmpty(g)&&d.remove(g),e.before(a).toRange()):O(b.getNode());if(f===g||!M(f)||!M(g))return null;for(;b=f.firstChild;)g.appendChild(b);q.dom.remove(f);return c.toRange()}function T(a,b,c,f){var e;if(!f.collapsed&&(e=x(f),u(e)))return Z(O(e));
e=I(a,f);if(c(e)&&d.isCaretContainerBlock(f.startContainer))return(a=-1==a?P.prev(e):P.next(e))?Z(a.toRange()):f;if(b(e))return Z(O(e.getNode(-1==a)));f=-1==a?P.prev(e):P.next(e);if(b(f))return-1===a?U(a,e,f):U(a,f,e)}function D(){function c(a,b){if(!1===a.isDefaultPrevented()){var d=b(q.selection.getRng());d&&(a.preventDefault(),H(d))}}function f(a){for(var b=q.getBody();a&&a!=b;){if(t(a)||u(a))return a;a=a.parentNode}return null}function k(a,b,c){return c.collapsed?!1:g.reduce(c.getClientRects(),
function(c,d){return c||r.containsXY(d,a,b)},!1)}function m(){var a,b=f(q.selection.getNode());t(b)&&G(b)&&q.dom.isEmpty(b)&&(a=q.dom.create("br",{"data-mce-bogus":"1"}),q.$(b).empty().append(a),q.selection.setRng(e.before(a).toRange()))}var w=p(R,1,aa,y),A=p(R,-1,fa,z),x=p(T,1,y,z),P=p(T,-1,z,y),I=p(E,-1,a.upUntil),J=p(E,1,a.downUntil);q.on("mouseup",function(){var a=q.selection.getRng();a.collapsed&&H(L(a))});q.on("click",function(a){var b;if(b=f(a.target))u(b)&&(a.preventDefault(),q.focus()),t(b)&&
q.dom.isChildOf(b,q.selection.getNode())&&V()});q.on("blur NewBlock",function(){V();da()});(function(a){var b=!1;a.on("touchstart",function(){b=!1});a.on("touchmove",function(){b=!0});a.on("touchend",function(a){var c=f(a.target);u(c)&&!b&&(a.preventDefault(),X(C(c)))})})(q);q.on("mousedown",function(a){var c;if(c=f(a.target))u(c)?(a.preventDefault(),X(C(c))):k(a.clientX,a.clientY,q.selection.getRng())||q.selection.placeCaretAt(a.clientX,a.clientY);else if(V(),da(),c=b.closestCaret(ea,a.clientX,a.clientY)){var d=
c.node,g=q.dom.getParent(a.target,q.dom.isBlock),d=q.dom.getParent(d,q.dom.isBlock),l;(l=!g)||(l=q.dom.getParent(g,q.dom.isBlock),d=q.dom.getParent(d,q.dom.isBlock),(d=l===d)||(d=new h(g),g.firstChild?(g=e.before(g.firstChild),g=(g=d.next(g))&&!y(g)&&!z(g)):g=!1,d=!g),l=d);l&&(a.preventDefault(),q.getBody().focus(),H(F(1,c.node,c.before)))}});q.on("keydown",function(a){if(!s.modifierPressed(a))switch(a.keyCode){case s.RIGHT:c(a,w);break;case s.DOWN:c(a,J);break;case s.LEFT:c(a,A);break;case s.UP:c(a,
I);break;case s.DELETE:c(a,x);break;case s.BACKSPACE:c(a,P);break;default:var b;if(b=u(q.selection.getNode()))b=112<=a.keyCode&&123>=a.keyCode?!1:!0;b&&a.preventDefault()}});q.on("keyup compositionstart",function(a){var b=ga("*[data-mce-caret]")[0];b&&("compositionstart"==a.type?(a.preventDefault(),a.stopPropagation(),S(b)):d.hasContent(b)&&S(b));var c;switch(a.keyCode){case s.DELETE:c=m();break;case s.BACKSPACE:c=m()}c&&a.preventDefault()},!0);q.on("cut",function(){var a=q.selection.getNode();u(a)&&
n.setEditorTimeout(q,function(){H(Z(O(a)))})});q.on("getSelectionRange",function(a){var b=a.range;ca&&(ca.parentNode?(b=b.cloneRange(),b.selectNode(ca),a.range=b):ca=null)});q.on("setSelectionRange",function(a){var b;if(b=X(a.range))a.range=b});q.on("AfterSetSelectionRange",function(a){a=a.range;W(a.startContainer)||W(a.endContainer)||da();q.dom.hasClass(a.startContainer.parentNode,"mce-offscreen-selection")||V()});q.on("focus",function(){n.setEditorTimeout(q,function(){q.selection.setRng(Z(q.selection.getRng()))},
0)});q.on("copy",function(a){var b=a.clipboardData;if(!a.isDefaultPrevented()&&a.clipboardData&&!l.ie){var c;if(c=(c=q.dom.get(ha))?c.getElementsByTagName("*")[0]:c)a.preventDefault(),b.clearData(),b.setData("text/html",c.outerHTML),b.setData("text/plain",c.outerText)}});v.init(q)}function Q(){var a=q.contentStyles;a.push(Y.getCss());a.push(".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}")}
function W(a){return d.isCaretContainer(a)||d.startsWithCaretContainer(a)||d.endsWithCaretContainer(a)}function X(a){var b,c=q.$,d=q.dom,f,e,g;if(!a)return null;if(a.collapsed){if(!W(a.startContainer)&&!W(a.endContainer)){b=I(1,a);if(u(b.getNode()))return F(1,b.getNode(),!b.isAtEnd());if(u(b.getNode(!0)))return F(1,b.getNode(!0),!1)}return null}e=a.startContainer;f=a.startOffset;a=a.endOffset;3==e.nodeType&&0==f&&u(e.parentNode)&&(e=e.parentNode,f=d.nodeIndex(e),e=e.parentNode);if(1!=e.nodeType)return null;
a==f+1&&(b=e.childNodes[f]);if(!u(b))return null;g=e=b.cloneNode(!0);a=q.fire("ObjectSelected",{target:b,targetClone:g});if(a.isDefaultPrevented())return null;g=a.targetClone;f=c("#"+ha);0===f.length&&(f=c('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",ha),f.appendTo(q.getBody()));a=q.dom.createRng();g===e&&l.ie?(f.empty().append('<p style="font-size: 0" data-mce-bogus="all">\u00a0</p>').append(g),a.setStartAfter(f[0].firstChild.firstChild),a.setEndAfter(g)):(f.empty().append("\u00a0").append(g).append("\u00a0"),
a.setStart(f[0].firstChild,1),a.setEnd(f[0].lastChild,0));f.css({top:d.getPos(b,q.getBody()).y});f[0].focus();c=q.selection.getSel();c.removeAllRanges();c.addRange(a);q.$("*[data-mce-selected]").removeAttr("data-mce-selected");b.setAttribute("data-mce-selected",1);ca=b;da();return a}function V(){ca&&(ca.removeAttribute("data-mce-selected"),q.$("#"+ha).remove(),ca=null)}function da(){Y.hide()}var ea=q.getBody(),P=new h(ea),aa=p(w,P.next),fa=p(w,P.prev),Y=new f(q.getBody(),G),ha="sel-"+q.dom.uniqueId(),
ca,ga=q.$;l.ceFalse&&(D(),Q());return{showBlockCaretContainer:S,hideFakeCaret:da,destroy:function(){Y.destroy();ca=null}}}});x("tinymce/util/Uuid",[],function(){var l=0,h=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()};return{uuid:function(e){return e+l++ +h()}}});x("tinymce/ui/Sidebar",[],function(){return{add:function(l,h,e){var d=l.sidebars?l.sidebars:[];d.push({name:h,settings:e});l.sidebars=d}}});x("tinymce/Editor",
"tinymce/dom/DOMUtils tinymce/dom/DomQuery tinymce/AddOnManager tinymce/NodeChange tinymce/html/Node tinymce/dom/Serializer tinymce/html/Serializer tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/dom/ScriptLoader tinymce/dom/EventUtils tinymce/WindowManager tinymce/NotificationManager tinymce/html/Schema tinymce/html/DomParser tinymce/util/Quirks tinymce/Env tinymce/util/Tools tinymce/util/Delay tinymce/EditorObservable tinymce/Mode tinymce/Shortcuts tinymce/EditorUpload tinymce/SelectionOverrides tinymce/util/Uuid tinymce/ui/Sidebar tinymce/ErrorReporter".split(" "),
function(l,h,e,d,c,f,a,b,k,q,r,s,m,g,n,v,w,p,t,u,A,z,y,x,B,G,H,F,C,I,K,N){function R(a,b,c){var d=this,f,k,l;f=d.documentBaseUrl=c.documentBaseURL;k=c.baseURI;l=c.defaultSettings;b=Z({id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:f,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",
font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
validate:!0,entity_encoding:"named",url_converter:d.convertURL,url_converter_scope:d,ie7_compat:!0},l,b);l&&l.external_plugins&&b.external_plugins&&(b.external_plugins=Z({},l.external_plugins,b.external_plugins));d.settings=b;e.language=b.language||"en";e.languageLoad=b.language_load;e.baseURL=c.baseURL;d.id=b.id=a;d.setDirty(!1);d.plugins={};d.documentBaseURI=new g(b.document_base_url||f,{base_uri:k});d.baseURI=k;d.contentCSS=[];d.contentStyles=[];d.shortcuts=new H(d);d.loadedCSS={};d.editorCommands=
new m(d);d.suffix=c.suffix;d.editorManager=c;d.inline=b.inline;d.settings.content_editable=d.inline;b.cache_suffix&&(z.cacheSuffix=b.cache_suffix.replace(/^[\?\&]+/,""));!1===b.override_viewport&&(z.overrideViewPort=!1);c.fire("SetupEditor",d);d.execCallback("setup",d);d.$=h.overrideDefaults(function(){return{context:d.inline?d.getBody():d.getDoc(),element:d.getBody()}})}var E=l.DOM,S=e.ThemeManager,L=e.PluginManager,Z=y.extend,O=y.each,M=y.explode,U=y.inArray,T=y.trim,D=y.resolve,Q=v.Event,W=z.gecko,
X=z.ie;R.prototype={render:function(){function a(){E.unbind(window,"ready",a);c.render()}function b(){var a=n.ScriptLoader;d.language&&"en"!=d.language&&!d.language_url&&(d.language_url=c.editorManager.baseURL+"/langs/"+d.language+".js");d.language_url&&a.add(d.language_url);if(d.theme&&"function"!=typeof d.theme&&"-"!=d.theme.charAt(0)&&!S.urls[d.theme]){var f=d.theme_url,f=f?c.documentBaseURI.toAbsolute(f):"themes/"+d.theme+"/theme"+e+".js";S.load(d.theme,f)}y.isArray(d.plugins)&&(d.plugins=d.plugins.join(" "));
O(d.external_plugins,function(a,b){L.load(b,a);d.plugins+=" "+b});O(d.plugins.split(/[ ,]/),function(a){(a=T(a))&&!L.urls[a]&&("-"==a.charAt(0)?(a=a.substr(1,a.length),a=L.dependencies(a),O(a,function(a){a=L.createUrl({prefix:"plugins/",resource:a,suffix:"/plugin"+e+".js"},a);L.load(a.resource,a)})):L.load(a,{prefix:"plugins/",resource:a,suffix:"/plugin"+e+".js"}))});a.loadQueue(function(){c.removed||c.init()},c,function(a){N.pluginLoadError(c,a[0]);c.removed||c.init()})}var c=this,d=c.settings,f=
c.id,e=c.suffix;if(!Q.domLoaded)E.bind(window,"ready",a);else if(c.getElement()&&z.contentEditable){d.inline?c.inline=!0:(c.orgVisibility=c.getElement().style.visibility,c.getElement().style.visibility="hidden");var g=c.getElement().form||E.getParent(f,"form");g&&(c.formElement=g,d.hidden_input&&!/TEXTAREA|INPUT/i.test(c.getElement().nodeName)&&(E.insertAfter(E.create("input",{type:"hidden",name:f}),f),c.hasHiddenInput=!0),c.formEventDelegate=function(a){c.fire(a.type,a)},E.bind(g,"submit reset",
c.formEventDelegate),c.on("reset",function(){c.setContent(c.startContent,{format:"raw"})}),!d.submit_patch||g.submit.nodeType||g.submit.length||g._mceOldSubmit||(g._mceOldSubmit=g.submit,g.submit=function(){c.editorManager.triggerSave();c.setDirty(!1);return g._mceOldSubmit(g)}));c.windowManager=new w(c);c.notificationManager=new p(c);if("xml"==d.encoding)c.on("GetContent",function(a){a.save&&(a.content=E.encode(a.content))});if(d.add_form_submit_trigger)c.on("submit",function(){c.initialized&&c.save()});
d.add_unload_trigger&&(c._beforeUnload=function(){!c.initialized||c.destroyed||c.isHidden()||c.save({format:"raw",no_events:!0,set_dirty:!1})},c.editorManager.on("BeforeUnload",c._beforeUnload));c.editorManager.add(c);b()}},init:function(){function a(c){var d=L.get(c),f;f=L.urls[c]||b.documentBaseUrl.replace(/\/$/,"");c=T(c);d&&-1===U(l,c)&&(O(L.dependencies(c),function(b){a(b)}),b.plugins[c]||(d=new d(b,f,b.$),b.plugins[c]=d,d.init&&(d.init(b,f),l.push(c))))}var b=this,c=b.settings,d=b.getElement(),
f,e,g,k,h,l=[];b.rtl=c.rtl_ui||b.editorManager.i18n.rtl;b.editorManager.i18n.setCode(c.language);c.aria_label=c.aria_label||E.getAttrib(d,"aria-label",b.getLang("aria.rich_text_area"));b.fire("ScriptsLoaded");c.theme&&("function"!=typeof c.theme?(c.theme=c.theme.replace(/-/,""),g=S.get(c.theme),b.theme=new g(b,S.urls[c.theme]),b.theme.init&&b.theme.init(b,S.urls[c.theme]||b.documentBaseUrl.replace(/\/$/,""),b.$)):b.theme=c.theme);O(c.plugins.replace(/\-/g,"").split(/[ ,]/),a);c.render_ui&&b.theme&&
(b.orgDisplay=d.style.display,"function"!=typeof c.theme?(f=c.width||d.style.width||d.offsetWidth,e=c.height||d.style.height||d.offsetHeight,g=c.min_height||100,h=/^[0-9\.]+(|px)$/i,h.test(""+f)&&(f=Math.max(parseInt(f,10),100)),h.test(""+e)&&(e=Math.max(parseInt(e,10),g)),f=b.theme.renderUI({targetNode:d,width:f,height:e,deltaWidth:c.delta_width,deltaHeight:c.delta_height}),c.content_editable||(e=(f.iframeHeight||e)+("number"==typeof e?f.deltaHeight||0:""),e<g&&(e=g))):(f=c.theme(b,d),f.editorContainer.nodeType&&
(f.editorContainer.id=f.editorContainer.id||b.id+"_parent"),f.iframeContainer.nodeType&&(f.iframeContainer.id=f.iframeContainer.id||b.id+"_iframecontainer"),e=f.iframeHeight||d.offsetHeight),b.editorContainer=f.editorContainer);c.content_css&&O(M(c.content_css),function(a){b.contentCSS.push(b.documentBaseURI.toAbsolute(a))});c.content_style&&b.contentStyles.push(c.content_style);if(c.content_editable)return d=e=f=null,b.initContentBody();b.iframeHTML=c.doctype+"<html><head>";c.document_base_url!=
b.documentBaseUrl&&(b.iframeHTML+='<base href="'+b.documentBaseURI.getURI()+'" />');!z.caretAfter&&c.ie7_compat&&(b.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />');b.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';if(!/#$/.test(document.location.href))for(d=0;d<b.contentCSS.length;d++)g=b.contentCSS[d],b.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+y._addCacheSuffix(g)+'" />',b.loadedCSS[g]=!0;d=c.body_id||"tinymce";-1!=d.indexOf("=")&&
(d=b.getParam("body_id","","hash"),d=d[b.id]||d);g=c.body_class||"";-1!=g.indexOf("=")&&(g=b.getParam("body_class","","hash"),g=g[b.id]||"");c.content_security_policy&&(b.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+c.content_security_policy+'" />');b.iframeHTML+='</head><body id="'+d+'" class="mce-content-body '+g+'" data-id="'+b.id+'"><br></body></html>';c='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+b.id+
'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&z.ie&&12>z.ie&&(k=c);var m=E.create("iframe",{id:b.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:b.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:e,display:"block"}});m.onload=function(){m.onload=null;b.fire("load")};E.setAttrib(m,"src",k||'javascript:""');b.contentAreaContainer=
f.iframeContainer;b.iframeElement=m;e=E.add(f.iframeContainer,m);if(X)try{b.getDoc()}catch(q){e.src=k=c}f.editorContainer&&(E.get(f.editorContainer).style.display=b.orgDisplay,b.hidden=E.isHidden(f.editorContainer));b.getElement().style.display="none";E.setAttrib(b.id,"aria-hidden",!0);k||b.initContentBody();d=e=f=null},initContentBody:function(a){var e=this,g=e.settings,h=e.getElement(),m=e.getDoc(),n;g.inline||(e.getElement().style.visibility=e.orgVisibility);a||g.content_editable||(m.open(),m.write(e.iframeHTML),
m.close());g.content_editable&&(e.on("remove",function(){var a=this.getBody();E.removeClass(a,"mce-content-body");E.removeClass(a,"mce-edit-focus");E.setAttrib(a,"contentEditable",null)}),E.addClass(h,"mce-content-body"),e.contentDocument=m=g.content_document||document,e.contentWindow=g.content_window||window,e.bodyElement=h,g.content_document=g.content_window=null,g.root_name=h.nodeName.toLowerCase());a=e.getBody();a.disabled=!0;e.readonly=g.readonly;e.readonly||(e.inline&&"static"==E.getStyle(a,
"position",!0)&&(a.style.position="relative"),a.contentEditable=e.getParam("content_editable_state",!0));a.disabled=!1;e.editorUpload=new F(e);e.schema=new t(g);e.dom=new l(m,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:g.force_hex_style_colors,class_filter:g.class_filter,update_styles:!0,root_element:e.inline?e.getBody():null,collect:g.content_editable,schema:e.schema,onSetAttrib:function(a){e.fire("SetAttrib",a)}});e.parser=new u(g,e.schema);e.parser.addAttributeFilter("src,href,style,tabindex",
function(a,b){for(var c=a.length,d,f=e.dom,g,k;c--;)d=a[c],g=d.attr(b),k="data-mce-"+b,d.attributes.map[k]||0===g.indexOf("data:")||0===g.indexOf("blob:")||("style"===b?(g=f.serializeStyle(f.parseStyle(g),d.name),g.length||(g=null),d.attr(k,g),d.attr(b,g)):"tabindex"===b?(d.attr(k,g),d.attr(b,null)):d.attr(k,e.convertURL(g,b,d.name)))});e.parser.addNodeFilter("script",function(a){for(var b=a.length,c,d;b--;)c=a[b],d=c.attr("type")||"no/type",0!==d.indexOf("mce-")&&c.attr("type","mce-"+d)});e.parser.addNodeFilter("#cdata",
function(a){for(var b=a.length,c;b--;)c=a[b],c.type=8,c.name="#comment",c.value="[CDATA["+c.value+"]]"});e.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var b=a.length,d,f=e.schema.getNonEmptyElements();b--;)d=a[b],d.isEmpty(f)&&0===d.getAll("br").length&&(d.append(new c("br",1)).shortEnded=!0)});e.serializer=new f(g,e);e.selection=new b(e.dom,e.getWin(),e.serializer,e);e.formatter=new k(e);e.undoManager=new q(e);e.forceBlocks=new s(e);e.enterKey=new r(e);e._nodeChangeDispatcher=
new d(e);e._selectionOverrides=new C(e);e.fire("PreInit");g.browser_spellcheck||g.gecko_spellcheck||(m.body.spellcheck=!1,E.setAttrib(a,"spellcheck","false"));e.quirks=new A(e);e.fire("PostRender");g.directionality&&(a.dir=g.directionality);g.nowrap&&(a.style.whiteSpace="nowrap");if(g.protect)e.on("BeforeSetContent",function(a){O(g.protect,function(b){a.content=a.content.replace(b,function(a){return"\x3c!--mce:protected "+escape(a)+"--\x3e"})})});e.on("SetContent",function(){e.addVisual(e.getBody())});
if(g.padd_empty_editor)e.on("PostProcess",function(a){a.content=a.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")});e.load({initial:!0,format:"html"});e.startContent=e.getContent({format:"raw"});e.initialized=!0;e.bindPendingEventDelegates();e.fire("init");e.focus(!0);e.nodeChanged({initial:!0});e.execCallback("init_instance_callback",e);e.on("compositionstart compositionend",function(a){e.composing="compositionstart"===a.type});0<e.contentStyles.length&&
(n="",O(e.contentStyles,function(a){n+=a+"\r\n"}),e.dom.addStyle(n));O(e.contentCSS,function(a){e.loadedCSS[a]||(e.dom.loadCSS(a),e.loadedCSS[a]=!0)});g.auto_focus&&x.setEditorTimeout(e,function(){var a;a=!0===g.auto_focus?e:e.editorManager.get(g.auto_focus);a.destroyed||a.focus()},100);h=m=a=null},focus:function(a){function b(a){return c.dom.getParent(a,function(a){return"true"===c.dom.getContentEditable(a)})}var c=this,d=c.selection,e=c.settings.content_editable,f,g=c.getDoc(),k=c.getBody();if(!a){a=
d.getRng();a.item&&(f=a.item(0));c.quirks.refreshContentEditable();a=b(d.getNode());if(c.$.contains(k,a)){a.focus();d.normalize();c.editorManager.setActive(c);return}e||(z.opera||c.getBody().focus(),c.getWin().focus());if(W||e){if(k.setActive)try{k.setActive()}catch(h){k.focus()}else k.focus();e&&d.normalize()}f&&f.ownerDocument==g&&(a=g.body.createControlRange(),a.addElement(f),a.select())}c.editorManager.setActive(c)},execCallback:function(a){var b=this.settings[a],c;if(b)return this.callbackLookup&&
(c=this.callbackLookup[a])&&(b=c.func,c=c.scope),"string"===typeof b&&(c=(c=b.replace(/\.\w+$/,""))?D(c):0,b=D(b),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]={func:b,scope:c}),b.apply(c||this,Array.prototype.slice.call(arguments,1))},translate:function(a){var b=this.settings.language||"en",c=this.editorManager.i18n;if(!a)return"";a=c.data[b+"."+a]||a.replace(/\{\#([^\}]+)\}/g,function(a,d){return c.data[b+"."+d]||"{#"+d+"}"});return this.editorManager.translate(a)},getLang:function(a,
b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(b!==ba?b:"{#"+a+"}")},getParam:function(a,b,c){a=a in this.settings?this.settings[a]:b;var d;return"hash"===c?(d={},"string"===typeof a?O(0<a.indexOf("=")?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(a){a=a.split("=");1<a.length?d[T(a[0])]=T(a[1]):d[T(a[0])]=T(a)}):d=a,d):a},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});
b.text||b.icon||(b.icon=a);c.buttons=c.buttons||{};b.tooltip=b.tooltip||b.title;c.buttons[a]=b},addSidebar:function(a,b){return K.add(this,a,b)},addMenuItem:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});c.menuItems=c.menuItems||{};c.menuItems[a]=b},addContextToolbar:function(a,b){var c=this,d;c.contextToolbars=c.contextToolbars||[];"string"==typeof a&&(d=a,a=function(a){return c.dom.is(a,d)});c.contextToolbars.push({id:I.uuid("mcet"),predicate:a,items:b})},addCommand:function(a,
b,c){this.editorCommands.addCommand(a,b,c)},addQueryStateHandler:function(a,b,c){this.editorCommands.addQueryStateHandler(a,b,c)},addQueryValueHandler:function(a,b,c){this.editorCommands.addQueryValueHandler(a,b,c)},addShortcut:function(a,b,c,d){this.shortcuts.add(a,b,c,d)},execCommand:function(a,b,c,d){return this.editorCommands.execCommand(a,b,c,d)},queryCommandState:function(a){return this.editorCommands.queryCommandState(a)},queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a)},
queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(E.show(this.getContainer()),E.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var a=this.getDoc();this.hidden||(X&&a&&!this.inline&&a.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable=!1,this==this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(E.hide(this.getContainer()),
E.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(a,b){this.fire("ProgressState",{state:a,time:b})},load:function(a){var b=this.getElement(),c;if(b)return a=a||{},a.load=!0,c=this.setContent(b.value!==ba?b.value:b.innerHTML,a),a.element=b,a.no_events||this.fire("LoadContent",a),a.element=null,c},save:function(a){var b=this,c=b.getElement(),d,e;if(c&&b.initialized)return a=a||{},a.save=!0,a.element=c,
d=a.content=b.getContent(a),a.no_events||b.fire("SaveContent",a),"raw"==a.format&&b.fire("RawSaveContent",a),d=a.content,/TEXTAREA|INPUT/i.test(c.nodeName)?c.value=d:(b.inline||(c.innerHTML=d),(e=E.getParent(b.id,"form"))&&O(e.elements,function(a){if(a.name==b.id)return a.value=d,!1})),a.element=c=null,!1!==a.set_dirty&&b.setDirty(!1),d},setContent:function(b,c){var d=this.getBody(),e,f;c=c||{};c.format=c.format||"html";c.set=!0;c.content=b;c.no_events||this.fire("BeforeSetContent",c);b=c.content;
0===b.length||/^\s+$/.test(b)?(f=X&&11>X?"":'<br data-mce-bogus="1">',"TABLE"==d.nodeName?b="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(d.nodeName)&&(b="<li>"+f+"</li>"),(e=this.settings.forced_root_block)&&this.schema.isValidChild(d.nodeName.toLowerCase(),e.toLowerCase())?b=this.dom.createHTML(e,this.settings.forced_root_block_attrs,f):X||b||(b='<br data-mce-bogus="1">'),this.dom.setHTML(d,b),this.fire("SetContent",c)):("raw"!==c.format&&(b=(new a({validate:this.validate},this.schema)).serialize(this.parser.parse(b,
{isRootContent:!0}))),c.content=T(b),this.dom.setHTML(d,c.content),c.no_events||this.fire("SetContent",c));return c.content},getContent:function(a){var b;b=this.getBody();a=a||{};a.format=a.format||"html";a.get=!0;a.getInner=!0;a.no_events||this.fire("BeforeGetContent",a);b="raw"==a.format?y.trim(this.serializer.getTrimmedContent()):"text"==a.format?b.innerText||b.textContent:this.serializer.serialize(b,a);a.content="text"!=a.format?T(b):b;a.no_events||this.fire("GetContent",a);return a.content},
insertContent:function(a,b){b&&(a=Z({content:a},b));this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return!this.isNotDirty},setDirty:function(a){var b=!this.isNotDirty;this.isNotDirty=!a;a&&a!=b&&this.fire("dirty")},setMode:function(a){G.setMode(this,a)},getContainer:function(){this.container||(this.container=E.get(this.editorContainer||this.id+"_parent"));return this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){this.targetElm||
(this.targetElm=E.get(this.id));return this.targetElm},getWin:function(){var a;!this.contentWindow&&(a=this.iframeElement)&&(this.contentWindow=a.contentWindow);return this.contentWindow},getDoc:function(){var a;!this.contentDocument&&(a=this.getWin())&&(this.contentDocument=a.document);return this.contentDocument},getBody:function(){var a=this.getDoc();return this.bodyElement||(a?a.body:null)},convertURL:function(a,b,c){var d=this.settings;return d.urlconverter_callback?this.execCallback("urlconverter_callback",
a,c,!0,b):!d.convert_urls||c&&"LINK"==c.nodeName||0===a.indexOf("file:")||0===a.length?a:d.relative_urls?this.documentBaseURI.toRelative(a):a=this.documentBaseURI.toAbsolute(a,d.remove_script_host)},addVisual:function(a){var b=this,c=b.settings,d=b.dom,e;a=a||b.getBody();b.hasVisual===ba&&(b.hasVisual=c.visual);O(d.select("table,a",a),function(a){var f;switch(a.nodeName){case "TABLE":e=c.visual_table_class||"mce-item-table";(f=d.getAttrib(a,"border"))&&"0"!=f||!b.hasVisual?d.removeClass(a,e):d.addClass(a,
e);break;case "A":d.getAttrib(a,"href",!1)||(f=d.getAttrib(a,"name")||a.id,e=c.visual_anchor_class||"mce-item-anchor",f&&b.hasVisual?d.addClass(a,e):d.removeClass(a,e))}});b.fire("VisualAid",{element:a,hasVisual:b.hasVisual})},remove:function(){this.removed||(this.save(),this.removed=1,this.unbindAllNativeEvents(),this.hasHiddenInput&&E.remove(this.getElement().nextSibling),this.inline||(X&&10>X&&this.getDoc().execCommand("SelectAll",!1,null),E.setStyle(this.id,"display",this.orgDisplay),this.getBody().onload=
null),this.fire("remove"),this.editorManager.remove(this),E.remove(this.getContainer()),this._selectionOverrides.destroy(),this.editorUpload.destroy(),this.destroy())},destroy:function(a){if(!this.destroyed)if(a||this.removed){a||(this.editorManager.off("beforeunload",this._beforeUnload),this.theme&&this.theme.destroy&&this.theme.destroy(),this.selection.destroy(),this.dom.destroy());if(a=this.formElement)a._mceOldSubmit&&(a.submit=a._mceOldSubmit,a._mceOldSubmit=null),E.unbind(a,"submit reset",this.formEventDelegate);
this.iframeElement=this.targetElm=this.bodyElement=this.contentDocument=this.contentWindow=this.contentAreaContainer=this.formElement=this.container=this.editorContainer=null;this.selection&&(this.selection=this.selection.win=this.selection.dom=this.selection.dom.doc=null);this.destroyed=1}else this.remove()},uploadImages:function(a){return this.editorUpload.uploadImages(a)},_scanForImages:function(){return this.editorUpload.scanForImages()}};Z(R.prototype,B);return R});x("tinymce/util/I18n",["tinymce/util/Tools"],
function(l){var h={},e="en";return{setCode:function(d){d&&(e=d,this.rtl=this.data[d]?"rtl"===this.data[d]._dir:!1)},getCode:function(){return e},rtl:!1,add:function(d,c){var e=h[d];e||(h[d]=e={});for(var a in c)e[a]=c[a];this.setCode(d)},translate:function(d){function c(a){return l.is(a,"function")?Object.prototype.toString.call(a):f(a)?"":""+a}function f(a){return""===a||null===a||l.is(a,"undefined")}function a(a){a=c(a);return l.hasOwn(b,a)?c(b[a]):a}var b=h[e]||{};if(f(d))return"";if(l.is(d,"object")&&
l.hasOwn(d,"raw"))return c(d.raw);if(l.is(d,"array")){var k=d.slice(1);d=a(d[0]).replace(/\{([0-9]+)\}/g,function(a,b){return l.hasOwn(k,b)?c(k[b]):a})}return a(d).replace(/{context:\w+}$/,"")},data:h}});x("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(l,h,e){function d(d){function l(){try{return document.activeElement}catch(a){return document.body}}d.on("AddEditor",function(s){var m=s.editor;m.on("init",function(){if(m.inline||e.ie){if("onbeforedeactivate"in
document&&9>e.ie)m.dom.bind(m.getBody(),"beforedeactivate",function(a){if(a.target==m.getBody())try{m.lastRng=m.selection.getRng()}catch(b){}});else m.on("nodechange mouseup keyup",function(a){var b=l();"nodechange"==a.type&&a.selectionChange||(b&&b.id==m.id+"_ifr"&&(b=m.getBody()),m.dom.isChildOf(b,m.getBody())&&(m.lastRng=m.selection.getRng()))});e.webkit&&!c&&(c=function(){var a=d.activeEditor;a&&a.selection&&(a=a.selection.getRng())&&!a.collapsed&&(m.lastRng=a)},b.bind(document,"selectionchange",
c))}});m.on("setcontent",function(){m.lastRng=null});m.on("mousedown",function(){m.selection.lastFocusBookmark=null});m.on("focusin",function(){var a=d.focusedEditor;if(m.selection.lastFocusBookmark){var b=m.selection.lastFocusBookmark,c;b.startContainer?(c=m.getDoc().createRange(),c.setStart(b.startContainer,b.startOffset),c.setEnd(b.endContainer,b.endOffset)):c=b;m.selection.lastFocusBookmark=null;m.selection.setRng(c)}a!=m&&(a&&a.fire("blur",{focusedEditor:m}),d.setActive(m),d.focusedEditor=m,
m.fire("focus",{blurredEditor:a}),m.focus(!0));m.lastRng=null});m.on("focusout",function(){h.setEditorTimeout(m,function(){var a=d.focusedEditor;k(m,l())||a!=m||(m.fire("blur",{focusedEditor:null}),d.focusedEditor=null,m.selection&&(m.selection.lastFocusBookmark=null))})});f||(f=function(a){var b=d.activeEditor;a=a.target;if(b&&a.ownerDocument==document){if(b.selection&&a!=b.getBody()){var c=b.selection,e;e=b.dom;var f=b.lastRng;e=f&&f.startContainer?e.isChildOf(f.startContainer,e.getRoot())&&e.isChildOf(f.endContainer,
e.getRoot())?{startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset}:void 0:f;c.lastFocusBookmark=e}a==document.body||k(b,a)||d.focusedEditor!=b||(b.fire("blur",{focusedEditor:null}),d.focusedEditor=null)}},b.bind(document,"focusin",f));m.inline&&!a&&(a=function(a){var b=d.activeEditor,c=b.dom;b.inline&&c&&!c.isChildOf(a.target,b.getBody())&&(a=b.selection.getRng(),a.collapsed||(b.lastRng=a))},b.bind(document,"mouseup",a))});d.on("RemoveEditor",
function(e){d.focusedEditor==e.editor&&(d.focusedEditor=null);d.activeEditor||(b.unbind(document,"selectionchange",c),b.unbind(document,"focusin",f),b.unbind(document,"mouseup",a),c=f=a=null)})}var c,f,a,b=l.DOM,k=function(a,c){var e=a?a.settings.custom_ui_selector:"";return null!==b.getParent(c,function(b){return d.isEditorUIElement(b)||(e?a.dom.is(b,e):!1)})};d.isEditorUIElement=function(a){return-1!==a.className.toString().indexOf("mce-")};d._isUIElement=k;return d});x("tinymce/EditorManager",
"tinymce/Editor tinymce/dom/DomQuery tinymce/dom/DOMUtils tinymce/util/URI tinymce/Env tinymce/util/Tools tinymce/util/Promise tinymce/util/Observable tinymce/util/I18n tinymce/FocusManager tinymce/AddOnManager".split(" "),function(l,h,e,d,c,f,a,b,k,q,r){function s(a){w(A.editors,function(b){"scroll"===a.type?b.fire("ScrollWindow",a):b.fire("ResizeWindow",a)})}function m(a,b){if(b!==z){if(b)h(window).on("resize scroll",s);else h(window).off("resize scroll",s);z=b}}function g(a){var b=A.editors,c;
delete b[a.id];for(var d=0;d<b.length;d++)if(b[d]==a){b.splice(d,1);c=!0;break}A.activeEditor==a&&(A.activeEditor=b[0]);A.focusedEditor==a&&(A.focusedEditor=null);return c}var n=e.DOM,v=f.explode,w=f.each,p=f.extend,t=0,u,A,z=!1;A={$:h,majorVersion:"4",minorVersion:"5.7",releaseDate:"2017-04-25",editors:[],i18n:k,activeEditor:null,setup:function(){var a,b,c="",e;b=d.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(b)&&(b=b.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(b)||
(b+="/"));if(e=window.tinymce||window.tinyMCEPreInit)a=e.base||e.baseURL,c=e.suffix;else{for(var f=document.getElementsByTagName("script"),g=0;g<f.length;g++){e=f[g].src;var k=e.substring(e.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(e)){-1!=k.indexOf(".min")&&(c=".min");a=e.substring(0,e.lastIndexOf("/"));break}}!a&&document.currentScript&&(e=document.currentScript.src,-1!=e.indexOf(".min")&&(c=".min"),a=e.substring(0,e.lastIndexOf("/")))}this.baseURL=(new d(b)).toAbsolute(a);
this.documentBaseURL=b;this.baseURI=new d(this.baseURL);this.suffix=c;this.focusManager=new q(this)},overrideDefaults:function(a){var b;if(b=a.base_url)this.baseURL=(new d(this.documentBaseURL)).toAbsolute(b.replace(/\/+$/,"")),this.baseURI=new d(this.baseURL);if(b=a.suffix)this.suffix=b;this.defaultSettings=a;a=a.plugin_base_urls;for(var c in a)r.PluginManager.urls[c]=a[c]},init:function(b){function c(a){var b=a.id;b||(b=(b=a.name)&&!n.get(b)?a.name:n.uniqueId(),a.setAttribute("id",b));return b}
function d(a){var c=b[a];if(c)return c.apply(m,Array.prototype.slice.call(arguments,2))}function e(a){var b,c=[];if(a.types)return w(a.types,function(a){c=c.concat(n.select(a.selector))}),c;if(a.selector)return n.select(a.selector);if(a.target)return[a.target];switch(a.mode){case "exact":b=a.elements||"";0<b.length&&w(v(b),function(a){var b;(b=n.get(a))?c.push(b):w(document.forms,function(b){w(b.elements,function(b){b.name===a&&(a="mce_editor_"+t++,n.setAttrib(b,"id",a),c.push(b))})})});break;case "textareas":case "specific_textareas":w(n.select("textarea"),
function(b){a.editor_deselector&&(a.editor_deselector.constructor===RegExp?a.editor_deselector.test(b.className):n.hasClass(b,a.editor_deselector))||(!a.editor_selector||(a.editor_selector.constructor===RegExp?a.editor_selector.test(b.className):n.hasClass(b,a.editor_selector)))&&c.push(b)})}return c}function k(){function a(b,c,d){b=new l(b,c,m);t.push(b);b.on("init",function(){++q===v.length&&s(t)});b.targetElm=b.targetElm||d;b.render()}var q=0,t=[],v;n.unbind(window,"ready",k);d("onpageload");v=
h.unique(e(b));b.types?w(b.types,function(d){f.each(v,function(e){return n.is(e,d.selector)?(a(c(e),p({},b,d),e),!1):!0})}):(f.each(v,function(a){(a=m.get(a.id))&&a.initialized&&!(a.getContainer()||a.getBody()).parentNode&&(g(a),a.unbindAllNativeEvents(),a.destroy(!0),a.removed=!0)}),v=f.grep(v,function(a){return!m.get(a.id)}),w(v,function(d){b.inline&&d.tagName.toLowerCase()in r?window.console&&!window.test&&window.console.log("Could not initialize inline editor on invalid inline target element",
d):a(c(d),b,d)}))}var m=this,q,r;r=f.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var s=function(a){q=a};m.settings=b;n.bind(window,"ready",k);return new a(function(a){q?a(q):s=function(b){a(b)}})},get:function(a){return arguments.length?a in this.editors?this.editors[a]:null:this.editors},add:function(a){var b=this,c=b.editors;c[a.id]=a;
c.push(a);m(c,!0);b.activeEditor=a;b.fire("AddEditor",{editor:a});u||(u=function(){b.fire("BeforeUnload")},n.bind(window,"beforeunload",u));return a},createEditor:function(a,b){return this.add(new l(a,b,this))},remove:function(a){var b=this,c=b.editors,d;if(a)if("string"==typeof a)a=a.selector||a,w(n.select(a),function(a){(d=c[a.id])&&b.remove(d)});else{d=a;if(!c[d.id])return null;g(d)&&b.fire("RemoveEditor",{editor:d});c.length||n.unbind(window,"beforeunload",u);d.remove();m(c,0<c.length);return d}else for(a=
c.length-1;0<=a;a--)b.remove(c[a])},execCommand:function(a,b,c){var d=this.get(c);switch(a){case "mceAddEditor":return this.get(c)||(new l(c,this.settings,this)).render(),!0;case "mceRemoveEditor":return d&&d.remove(),!0;case "mceToggleEditor":if(!d)return this.execCommand("mceAddEditor",0,c),!0;d.isHidden()?d.show():d.hide();return!0}return this.activeEditor?this.activeEditor.execCommand(a,b,c):!1},triggerSave:function(){w(this.editors,function(a){a.save()})},addI18n:function(a,b){k.add(a,b)},translate:function(a){return k.translate(a)},
setActive:function(a){var b=this.activeEditor;this.activeEditor!=a&&(b&&b.fire("deactivate",{relatedTarget:a}),a.fire("activate",{relatedTarget:b}));this.activeEditor=a}};p(A,b);A.setup();return window.tinymce=window.tinyMCE=A});x("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(l,h){var e=h.each,d=h.explode;l.on("AddEditor",function(c){var f=c.editor;f.on("preInit",function(){function a(a,b){e(b,function(b,c){b&&l.setStyle(a,c,b)});l.rename(a,"span")}function b(a){l=
f.dom;s.convert_fonts_to_spans&&e(l.select("font,u,strike",a.node),function(a){c[a.nodeName.toLowerCase()](l,a)})}var c,h,l,s=f.settings;s.inline_styles&&(h=d(s.font_size_legacy_values),c={font:function(b,c){a(c,{backgroundColor:c.style.backgroundColor,color:c.color,fontFamily:c.face,fontSize:h[parseInt(c.size,10)-1]})},u:function(b,c){"html4"===f.settings.schema&&a(c,{textDecoration:"underline"})},strike:function(b,c){a(c,{textDecoration:"line-through"})}},f.on("PreProcess SetContent",b))})})});
x("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(l,h){var e={send:function(d){function c(){!d.async||4==f.readyState||1E4<a++?(d.success&&1E4>a&&200==f.status?d.success.call(d.success_scope,""+f.responseText,f,d):d.error&&d.error.call(d.error_scope,1E4<a?"TIMED_OUT":"GENERAL",f,d),f=null):setTimeout(c,10)}var f,a=0;d.scope=d.scope||this;d.success_scope=d.success_scope||d.scope;d.error_scope=d.error_scope||d.scope;d.async=!1===d.async?!1:!0;d.data=d.data||"";e.fire("beforeInitialize",
{settings:d});if(f=new XMLHttpRequest){f.overrideMimeType&&f.overrideMimeType(d.content_type);f.open(d.type||(d.data?"POST":"GET"),d.url,d.async);d.crossDomain&&(f.withCredentials=!0);d.content_type&&f.setRequestHeader("Content-Type",d.content_type);d.requestheaders&&h.each(d.requestheaders,function(a){f.setRequestHeader(a.key,a.value)});f.setRequestHeader("X-Requested-With","XMLHttpRequest");f=e.fire("beforeSend",{xhr:f,settings:d}).xhr;f.send(d.data);if(!d.async)return c();setTimeout(c,10)}}};h.extend(e,
l);return e});x("tinymce/util/JSON",[],function(){function l(h,e){var d,c,f,a;e=e||'"';if(null===h)return"null";f=typeof h;if("string"==f)return c="\bb\tt\nn\ff\rr\"\"''\\\\",e+h.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(a,f){if('"'===e&&"'"===a)return a;d=c.indexOf(f);if(d+1)return"\\"+c.charAt(d+1);a=f.charCodeAt().toString(16);return"\\u"+"0000".substring(a.length)+a})+e;if("object"==f){if(h.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(h)){d=0;for(c="[";d<h.length;d++)c+=
(0<d?",":"")+l(h[d],e);return c+"]"}c="{";for(a in h)h.hasOwnProperty(a)&&(c+="function"!=typeof h[a]?(1<c.length?","+e:e)+a+e+":"+l(h[a],e):"");return c+"}"}return""+h}return{serialize:l,parse:function(h){try{return window[String.fromCharCode(101)+"val"]("("+h+")")}catch(e){}}}});x("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(l,h,e){function d(d){this.settings=c({},d);this.count=0}var c=e.extend;d.sendRPC=function(c){return(new d).send(c)};d.prototype=
{send:function(d){var a=d.error,b=d.success;d=c(this.settings,d);d.success=function(c,e){c=l.parse(c);"undefined"==typeof c&&(c={error:"JSON Parse error."});c.error?a.call(d.error_scope||d.scope,c.error,e):b.call(d.success_scope||d.scope,c.result)};d.error=function(b,c){a&&a.call(d.error_scope||d.scope,b,c)};d.data=l.serialize({id:d.id||"c"+this.count++,method:d.method,params:d.params});d.content_type="application/json";h.send(d)}};return d});x("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(l){return{callbacks:{},
count:0,send:function(h){var e=this,d=l.DOM,c=h.count!==ba?h.count:e.count,f="tinymce_jsonp_"+c;e.callbacks[c]=function(a){d.remove(f);delete e.callbacks[c];h.callback(a)};d.add(d.doc.body,"script",{id:f,src:h.url,type:"text/javascript"});e.count++}}});x("tinymce/util/LocalStorage",[],function(){function l(){f=[];for(var a in c)f.push(a);e.length=f.length}function h(){var e,f="";if(b){for(var k in c)e=c[k],f+=(f?",":"")+k.length.toString(32)+","+k+","+e.length.toString(32)+","+e;d.setAttribute(a,
f);try{d.save(a)}catch(h){}l()}}var e,d,c,f,a,b;try{if(window.localStorage)return localStorage}catch(k){}a="tinymce";d=document.documentElement;(b=!!d.addBehavior)&&d.addBehavior("#default#userData");e={key:function(a){return f[a]},getItem:function(a){return a in c?c[a]:null},setItem:function(a,b){c[a]=""+b;h()},removeItem:function(a){delete c[a];h()},clear:function(){c={};h()}};(function(){function e(a){var b;b=a!==ba?g+a:k.indexOf(",",g);if(-1===b||b>k.length)return null;a=k.substring(g,b);g=b+
1;return a}var f,k,h,g=0;c={};if(b){d.load(a);k=d.getAttribute(a)||"";do{h=e();if(null===h)break;f=e(parseInt(h,32)||0);if(null!==f){h=e();if(null===h)break;h=e(parseInt(h,32)||0);f&&(c[f]=h)}}while(null!==f);l()}})();return e});x("tinymce/Compat","tinymce/dom/DOMUtils tinymce/dom/EventUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/util/Tools tinymce/Env".split(" "),function(l,h,e,d,c,f){var a=window.tinymce;a.DOM=l.DOM;a.ScriptLoader=e.ScriptLoader;a.PluginManager=d.PluginManager;a.ThemeManager=
d.ThemeManager;a.dom=a.dom||{};a.dom.Event=h.Event;c.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(b){a[b]=c[b]});c.each(["isOpera","isWebKit","isIE","isGecko","isMac"],function(b){a[b]=f[b.substr(2).toLowerCase()]});return{}});x("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(l,h){return l.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=
h.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var d=this.settings,c,f,a,b;c=d.firstControlClass;f=d.lastControlClass;e.each(function(e){e.classes.remove(c).remove(f).add(d.controlClass);e.visible()&&(a||(a=e),b=e)});a&&a.classes.add(c);b&&b.classes.add(f)},renderHtml:function(e){var d="";this.applyClasses(e.items());e.items().each(function(c){d+=c.renderHtml()});return d},recalc:function(){},postRender:function(){},isNative:function(){return!1}})});
x("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(l){return l.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(h){h.items().filter(":visible").each(function(e){var d=e.settings;e.layoutRect({x:d.x,y:d.y,w:d.w,h:d.h});e.recalc&&e.recalc()})},renderHtml:function(h){return'<div id="'+h._id+'-absend" class="'+h.classPrefix+'abs-end"></div>'+this._super(h)}})});x("tinymce/ui/Button",["tinymce/ui/Widget"],function(l){return l.extend({Defaults:{classes:"widget btn",
role:"button"},init:function(h){var e=this,d;e._super(h);h=e.settings;d=e.settings.size;e.on("click mousedown",function(c){c.preventDefault()});e.on("touchstart",function(c){e.fire("click",c);c.preventDefault()});h.subtype&&e.classes.add(h.subtype);d&&e.classes.add("btn-"+d);h.icon&&e.icon(h.icon)},icon:function(h){if(!arguments.length)return this.state.get("icon");this.state.set("icon",h);return this},repaint:function(){var h=this.getEl().firstChild;h&&(h=h.style,h.width=h.height="100%");this._super()},
renderHtml:function(){var h=this._id,e=this.classPrefix,d=this.state.get("icon"),c,f=this.state.get("text"),a="";(c=this.settings.image)?(d="none","string"!=typeof c&&(c=window.getSelection?c[0]:c[1]),c=" style=\"background-image: url('"+c+"')\""):c="";f&&(this.classes.add("btn-has-text"),a='<span class="'+e+'txt">'+this.encode(f)+"</span>");d=d?e+"ico "+e+"i-"+d:"";return'<div id="'+h+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+h+'"><button role="presentation" type="button" tabindex="-1">'+
(d?'<i class="'+d+'"'+c+"></i>":"")+a+"</button></div>"},bindStates:function(){function h(f){var a=d("span."+c,e.getEl());f?(a[0]||(d("button:first",e.getEl()).append('<span class="'+c+'"></span>'),a=d("span."+c,e.getEl())),a.html(e.encode(f))):a.remove();e.classes.toggle("btn-has-text",!!f)}var e=this,d=e.$,c=e.classPrefix+"txt";e.state.on("change:text",function(c){h(c.value)});e.state.on("change:icon",function(c){c=c.value;var a=e.classPrefix;c=(e.settings.icon=c)?a+"ico "+a+"i-"+e.settings.icon:
"";var a=e.getEl().firstChild,b=a.getElementsByTagName("i")[0];c?(b&&b==a.firstChild||(b=document.createElement("i"),a.insertBefore(b,a.firstChild)),b.className=c):b&&a.removeChild(b);h(e.state.get("text"))});return e._super()}})});x("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(l){return l.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var h=this._layout;this.classes.add("btn-group");this.preRender();h.preRender(this);return'<div id="'+this._id+'" class="'+
this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+h.renderHtml(this)+"</div></div>"}})});x("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(l){return l.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(h){var e=this;e._super(h);e.on("click mousedown",function(d){d.preventDefault()});e.on("click",function(d){d.preventDefault();e.disabled()||e.checked(!e.checked())});e.checked(e.settings.checked)},checked:function(h){if(!arguments.length)return this.state.get("checked");
this.state.set("checked",h);return this},value:function(h){return arguments.length?this.checked(h):this.checked()},renderHtml:function(){var h=this._id,e=this.classPrefix;return'<div id="'+h+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+h+'-al" tabindex="-1"><i class="'+e+"ico "+e+'i-checkbox"></i><span id="'+h+'-al" class="'+e+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){function h(d){e.classes.toggle("checked",d);e.aria("checked",d)}var e=
this;e.state.on("change:text",function(d){e.getEl("al").firstChild.data=e.translate(d.value)});e.state.on("change:checked change:value",function(d){e.fire("change");h(d.value)});e.state.on("change:icon",function(d){d=d.value;var c=e.classPrefix;if("undefined"==typeof d)return e.settings.icon;d=(e.settings.icon=d)?c+"ico "+c+"i-"+e.settings.icon:"";var c=e.getEl().firstChild,f=c.getElementsByTagName("i")[0];d?(f&&f==c.firstChild||(f=document.createElement("i"),c.insertBefore(f,c.firstChild)),f.className=
d):f&&c.removeChild(f)});e.state.get("checked")&&h(!0);return e._super()}})});x("tinymce/ui/ComboBox","tinymce/ui/Widget tinymce/ui/Factory tinymce/ui/DomUtils tinymce/dom/DomQuery tinymce/util/VK tinymce/util/Tools".split(" "),function(l,h,e,d,c,f){return l.extend({init:function(a){var b=this;b._super(a);a=b.settings;b.classes.add("combobox");b.subinput=!0;b.ariaTarget="inp";a.menu=a.menu||a.values;a.menu&&(a.icon="caret");b.on("click",function(c){var e=c.target,f=b.getEl();if(d.contains(f,e)||e==
f)for(;e&&e!=f;)e.id&&-1!=e.id.indexOf("-open")&&(b.fire("action"),a.menu&&(b.showMenu(),c.aria&&b.menu.items()[0].focus())),e=e.parentNode});b.on("keydown",function(a){var c;13==a.keyCode&&"INPUT"===a.target.nodeName&&(a.preventDefault(),b.parents().reverse().each(function(a){if(a.toJSON)return c=a,!1}),b.fire("submit",{data:c.toJSON()}))});b.on("keyup",function(a){if("INPUT"==a.target.nodeName){var c=b.state.get("value"),d=a.target.value;d!==c&&(b.state.set("value",d),b.fire("autocomplete",a))}});
b.on("mouseover",function(a){var c=b.tooltip().moveTo(-65535);if(b.statusLevel()&&-1!==a.target.className.indexOf(b.classPrefix+"status")){var d=b.statusMessage()||"Ok",d=c.text(d).show().testMoveRel(a.target,["bc-tc","bc-tl","bc-tr"]);c.classes.toggle("tooltip-n","bc-tc"==d);c.classes.toggle("tooltip-nw","bc-tl"==d);c.classes.toggle("tooltip-ne","bc-tr"==d);c.moveRel(a.target,d)}})},statusLevel:function(a){0<arguments.length&&this.state.set("statusLevel",a);return this.state.get("statusLevel")},
statusMessage:function(a){0<arguments.length&&this.state.set("statusMessage",a);return this.state.get("statusMessage")},showMenu:function(){var a=this,b=a.settings;a.menu||(b=b.menu||[],b.length?b={type:"menu",items:b}:b.type=b.type||"menu",a.menu=h.create(b).parent(a).renderTo(a.getContainerElm()),a.fire("createmenu"),a.menu.reflow(),a.menu.on("cancel",function(b){b.control===a.menu&&a.focus()}),a.menu.on("show hide",function(b){b.control.items().each(function(b){b.active(b.value()==a.value())})}).fire("show"),
a.menu.on("select",function(b){a.value(b.control.value())}),a.on("focusin",function(b){"INPUT"==b.target.tagName.toUpperCase()&&a.menu.hide()}),a.aria("expanded",!0));a.menu.show();a.menu.layoutRect({w:a.layoutRect().w});a.menu.moveRel(a.getEl(),a.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var a=this.getEl(),b=this.getEl("open"),c=this.layoutRect(),f,h=0,a=a.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(h=parseInt(e.getRuntimeStyle(a,
"padding-right"),10)-parseInt(e.getRuntimeStyle(a,"padding-left"),10));b=b?c.w-e.getSize(b).width-10:c.w-10;c=document;c.all&&(!c.documentMode||8>=c.documentMode)&&(f=this.layoutRect().h-2+"px");d(a).css({width:b-h,lineHeight:f});this._super();return this},postRender:function(){var a=this;d(this.getEl("inp")).on("change",function(b){a.state.set("value",b.target.value);a.fire("change",b)});return a._super()},renderHtml:function(){var a=this._id,b=this.settings,c=this.classPrefix,d=this.state.get("value")||
"",e,f,h="",g="",l="";"spellcheck"in b&&(g+=' spellcheck="'+b.spellcheck+'"');b.maxLength&&(g+=' maxlength="'+b.maxLength+'"');b.size&&(g+=' size="'+b.size+'"');b.subtype&&(g+=' type="'+b.subtype+'"');l='<i id="'+a+'-status" class="mce-status mce-ico" style="display: none"></i>';this.disabled()&&(g+=' disabled="disabled"');(e=b.icon)&&"caret"!=e&&(e=c+"ico "+c+"i-"+b.icon);f=this.state.get("text");if(e||f)h='<div id="'+a+'-open" class="'+c+"btn "+c+'open" tabIndex="-1" role="button"><button id="'+
a+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+c+'caret"></i>')+(f?(e?" ":"")+f:"")+"</button></div>",this.classes.add("has-open");return'<div id="'+a+'" class="'+this.classes+'"><input id="'+a+'-inp" class="'+c+'textbox" value="'+this.encode(d,!1)+'" hidefocus="1"'+g+' placeholder="'+this.encode(b.placeholder)+'" />'+l+h+"</div>"},value:function(a){if(arguments.length)return this.state.set("value",a),this;this.state.get("rendered")&&this.state.set("value",
this.getEl("inp").value);return this.state.get("value")},showAutoComplete:function(a,b){var c=this;if(0===a.length)c.hideMenu();else{var d=function(a,b){return function(){c.fire("selectitem",{title:b,value:a})}};c.menu?c.menu.items().remove():c.menu=h.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(c).renderTo();f.each(a,function(a){c.menu.add({text:a.title,url:a.previewUrl,match:b,classes:"menu-item-ellipsis",onclick:d(a.value,a.title)})});c.menu.renderNew();c.hideMenu();c.menu.on("cancel",
function(a){a.control.parent()===c.menu&&(a.stopPropagation(),c.focus(),c.hideMenu())});c.menu.on("select",function(){c.focus()});var e=c.layoutRect().w;c.menu.layoutRect({w:e,minW:0,maxW:e});c.menu.reflow();c.menu.show();c.menu.moveRel(c.getEl(),c.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var a=this;a.state.on("change:value",function(b){a.getEl("inp").value!=b.value&&(a.getEl("inp").value=b.value)});a.state.on("change:disabled",
function(b){a.getEl("inp").disabled=b.value});a.state.on("change:statusLevel",function(b){var c=a.getEl("status"),d=a.classPrefix;b=b.value;e.css(c,"display","none"===b?"none":"");e.toggleClass(c,d+"i-checkmark","ok"===b);e.toggleClass(c,d+"i-warning","warn"===b);e.toggleClass(c,d+"i-error","error"===b);a.classes.toggle("has-status","none"!==b);a.repaint()});e.on(a.getEl("status"),"mouseleave",function(){a.tooltip().hide()});a.on("cancel",function(b){a.menu&&a.menu.visible()&&(b.stopPropagation(),
a.hideMenu())});var b=function(a,b){b&&0<b.items().length&&b.items().eq(a)[0].focus()};a.on("keydown",function(d){var e=d.keyCode;"INPUT"===d.target.nodeName&&(e===c.DOWN?(d.preventDefault(),a.fire("autocomplete"),b(0,a.menu)):e===c.UP&&(d.preventDefault(),b(-1,a.menu)))});return a._super()},remove:function(){d(this.getEl("inp")).off();this.menu&&this.menu.remove();this._super()}})});x("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(l){return l.extend({init:function(h){var e=this;h.spellcheck=
!1;h.onaction&&(h.icon="none");e._super(h);e.classes.add("colorbox");e.on("change keyup postrender",function(){e.repaintColor(e.value())})},repaintColor:function(h){var e=this.getEl("open");if(e=e?e.getElementsByTagName("i")[0]:null)try{e.style.background=h}catch(d){}},bindStates:function(){var h=this;h.state.on("change:value",function(e){h.state.get("rendered")&&h.repaintColor(e.value)});return h._super()}})});x("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(l,h){return l.extend({showPanel:function(){var e=
this,d=e.settings;e.active(!0);if(e.panel)e.panel.show();else{var c=d.panel;c.type&&(c={layout:"grid",items:c});c.role=c.role||"dialog";c.popover=!0;c.autohide=!0;c.ariaRoot=!0;e.panel=(new h(c)).on("hide",function(){e.active(!1)}).on("cancel",function(c){c.stopPropagation();e.focus();e.hidePanel()}).parent(e).renderTo(e.getContainerElm());e.panel.fire("show");e.panel.reflow()}e.panel.moveRel(e.getEl(),d.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&
this.panel.hide()},postRender:function(){var e=this;e.aria("haspopup",!0);e.on("click",function(d){d.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!d.aria)))});return e._super()},remove:function(){this.panel&&(this.panel.remove(),this.panel=null);return this._super()}})});x("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(l,h){var e=h.DOM;return l.extend({init:function(d){this._super(d);this.classes.add("colorbutton")},color:function(d){return d?
(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},resetColor:function(){this._color=null;this.getEl("preview").style.backgroundColor=null;return this},renderHtml:function(){var d=this._id,c=this.classPrefix,e=this.state.get("text"),a=this.settings.icon?c+"ico "+c+"i-"+this.settings.icon:"",b=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"",k="";e&&(this.classes.add("btn-has-text"),k='<span class="'+c+'txt">'+this.encode(e)+"</span>");
return'<div id="'+d+'" class="'+this.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+b+"></i>":"")+'<span id="'+d+'-preview" class="'+c+'preview"></span>'+k+'</button><button type="button" class="'+c+'open" hidefocus="1" tabindex="-1"> <i class="'+c+'caret"></i></button></div>'},postRender:function(){var d=this,c=d.settings.onclick;d.on("click",function(f){f.aria&&"down"==f.aria.key||f.control!=
d||e.getParent(f.target,"."+d.classPrefix+"open")||(f.stopImmediatePropagation(),c.call(d,f))});delete d.settings.onclick;return d._super()}})});x("tinymce/util/Color",[],function(){var l=Math.min,h=Math.max,e=Math.round;return function(d){function c(c){var d;if("object"==typeof c)if("r"in c)a=c.r,b=c.g,k=c.b;else{if("v"in c){d=c.h;var s=c.s;c=c.v;var m;d=(parseInt(d,10)||0)%360;s=parseInt(s,10)/100;c=parseInt(c,10)/100;s=h(0,l(s,1));c=h(0,l(c,1));if(0===s)a=b=k=e(255*c);else{d/=60;s*=c;m=s*(1-Math.abs(d%
2-1));c-=s;switch(Math.floor(d)){case 0:a=s;b=m;k=0;break;case 1:a=m;b=s;k=0;break;case 2:a=0;b=s;k=m;break;case 3:a=0;b=m;k=s;break;case 4:a=m;b=0;k=s;break;case 5:a=s;b=0;k=m;break;default:a=b=k=0}a=e(255*(a+c));b=e(255*(b+c));k=e(255*(k+c))}}}else if(d=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(c))a=parseInt(d[1],10),b=parseInt(d[2],10),k=parseInt(d[3],10);else if(d=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(c))a=parseInt(d[1],16),b=parseInt(d[2],16),k=parseInt(d[3],16);else if(d=
/#([0-F])([0-F])([0-F])/gi.exec(c))a=parseInt(d[1]+d[1],16),b=parseInt(d[2]+d[2],16),k=parseInt(d[3]+d[3],16);a=0>a?0:255<a?255:a;b=0>b?0:255<b?255:b;k=0>k?0:255<k?255:k;return f}var f=this,a=0,b=0,k=0;d&&c(d);f.toRgb=function(){return{r:a,g:b,b:k}};f.toHsv=function(){var c;var d=a,f=b,m=k,g,d=d/255,f=f/255,m=m/255;g=l(d,l(f,m));c=h(d,h(f,m));g==c?c={h:0,s:0,v:100*g}:(d=60*((d==g?3:m==g?1:5)-(d==g?f-m:m==g?d-f:m-d)/(c-g)),g=(c-g)/c,c={h:e(d),s:e(100*g),v:e(100*c)});return c};f.toHex=function(){function c(a){a=
parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+c(a)+c(b)+c(k)};f.parse=c}});x("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(l,h,e,d){return l.extend({Defaults:{classes:"widget colorpicker"},init:function(c){this._super(c)},postRender:function(){function c(a,b){var c=e.getPos(a),d;d=b.pageX-c.x;c=b.pageY-c.y;d=Math.max(0,Math.min(d/a.clientWidth,1));c=Math.max(0,Math.min(c/a.clientHeight,1));return{x:d,y:c}}
function f(a,b){e.css(m,{top:100*((360-a.h)/360)+"%"});b||e.css(n,{left:a.s+"%",top:100-a.v+"%"});g.style.background=(new d({s:100,v:100,h:a.h})).toHex();k.color().parse({s:a.s,v:a.v,h:a.h})}function a(a){a=c(g,a);r.s=100*a.x;r.v=100*(1-a.y);f(r);k.fire("change")}function b(a){a=c(s,a);r=l.toHsv();r.h=360*(1-a.y);f(r,!0);k.fire("change")}var k=this,l=k.color(),r,s,m,g,n;s=k.getEl("h");m=k.getEl("hp");g=k.getEl("sv");n=k.getEl("svp");k._repaint=function(){r=l.toHsv();f(r)};k._super();k._svdraghelper=
new h(k._id+"-sv",{start:a,drag:a});k._hdraghelper=new h(k._id+"-h",{start:b,drag:b});k._repaint()},rgb:function(){return this.color().toRgb()},value:function(c){if(arguments.length)this.color().parse(c),this._rendered&&this._repaint();else return this.color().toHex()},color:function(){this._color||(this._color=new d);return this._color},renderHtml:function(){var c=this._id,d=this.classPrefix,a,b,e="",h;h="#ff0000 #ff0080 #ff00ff #8000ff #0000ff #0080ff #00ffff #00ff80 #00ff00 #80ff00 #ffff00 #ff8000 #ff0000".split(" ");
a=0;for(b=h.length-1;a<b;a++)e+='<div class="'+d+'colorpicker-h-chunk" style="height:'+100/b+"%;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+h[a]+",endColorstr="+h[a+1]+");-ms-filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+h[a]+",endColorstr="+h[a+1]+')"></div>';return'<div id="'+c+'" class="'+this.classes+'"><div id="'+c+'-sv" class="'+d+'colorpicker-sv"><div class="'+d+'colorpicker-overlay1"><div class="'+d+'colorpicker-overlay2"><div id="'+
c+'-svp" class="'+d+'colorpicker-selector1"><div class="'+d+'colorpicker-selector2"></div></div></div></div></div>'+('<div id="'+c+'-h" class="'+d+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+e+'<div id="'+c+'-hp" class="'+d+'colorpicker-h-marker"></div></div>')+
"</div>"}})});x("tinymce/ui/Path",["tinymce/ui/Widget"],function(l){return l.extend({init:function(h){var e=this;h.delimiter||(h.delimiter="\u00bb");e._super(h);e.classes.add("path");e.canFocus=!0;e.on("click",function(d){var c;(c=d.target.getAttribute("data-index"))&&e.fire("select",{value:e.row()[c],index:c})});e.row(e.settings.row)},focus:function(){this.getEl().firstChild.focus();return this},row:function(h){if(!arguments.length)return this.state.get("row");this.state.set("row",h);return this},
renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var h=this;h.state.on("change:row",function(e){h.innerHtml(h._getDataPathHtml(e.value))});return h._super()},_getDataPathHtml:function(h){h=h||[];var e,d,c="",f=this.classPrefix;e=0;for(d=h.length;e<d;e++)c+=(0<e?'<div class="'+f+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+f+"path-item"+(e==
d-1?" "+f+"last":"")+'" data-index="'+e+'" tabindex="-1" id="'+this._id+"-"+e+'" aria-level="'+(e+1)+'">'+h[e].name+"</div>";c||(c='<div class="'+f+'path-item">\u00a0</div>');return c}})});x("tinymce/ui/ElementPath",["tinymce/ui/Path"],function(l){return l.extend({postRender:function(){var h=this,e=h.settings.editor;!1!==e.settings.elementpath&&(h.on("select",function(d){e.focus();e.selection.select(this.row()[d.index].element);e.nodeChanged()}),e.on("nodeChange",function(d){var c=[];d=d.parents;
for(var f=d.length;f--;){var a;if(a=1==d[f].nodeType){a:{a=d[f];if(1===a.nodeType){if("BR"==a.nodeName||a.getAttribute("data-mce-bogus")){a=!0;break a}if("bookmark"===a.getAttribute("data-mce-type")){a=!0;break a}}a=!1}a=!a}if(a&&(a=e.fire("ResolveName",{name:d[f].nodeName.toLowerCase(),target:d[f]}),a.isDefaultPrevented()||c.push({name:a.name,element:d[f]}),a.isPropagationStopped()))break}h.row(c)}));return h._super()}})});x("tinymce/ui/FormItem",["tinymce/ui/Container"],function(l){return l.extend({Defaults:{layout:"flex",
align:"center",defaults:{flex:1}},renderHtml:function(){var h=this._layout,e=this.classPrefix;this.classes.add("formitem");h.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+e+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+h.renderHtml(this)+"</div></div>"}})});x("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem",
"tinymce/util/Tools"],function(l,h,e){return l.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var d=this,c=d.items();d.settings.formItemDefaults||(d.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}});c.each(function(c){var a;if(a=c.settings.label)a=new h(e.extend({items:{type:"label",id:c._id+"-l",text:a,flex:0,forId:c._id,
disabled:c.disabled()}},d.settings.formItemDefaults)),a.type="formitem",c.aria("labelledby",c._id+"-l"),"undefined"==typeof c.settings.flex&&(c.settings.flex=1),d.replace(c,a),a.add(c)})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();this.fromJSON(this.settings.data)},bindStates:function(){function d(){var d=0,a=[],b,e;if(!1!==c.settings.labelGapCalc)for(b="children"==c.settings.labelGapCalc?c.find("formitem"):c.items(),b.filter("formitem").each(function(b){b=
b.items()[0];var c=b.getEl().clientWidth;d=c>d?c:d;a.push(b)}),e=c.settings.labelGap||0,b=a.length;b--;)a[b].settings.minWidth=d+e}var c=this;c._super();c.on("show",d);d()}})});x("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(l){return l.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var h=this._layout,e=this.classPrefix;this.preRender();h.preRender(this);return'<fieldset id="'+
this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+e+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+h.renderHtml(this)+"</div></fieldset>"}})});x("tinymce/content/LinkTargets","tinymce/dom/DOMUtils tinymce/util/Fun tinymce/util/Arr tinymce/util/Uuid tinymce/util/Tools tinymce/dom/NodeType".split(" "),function(l,h,e,d,c,f){var a=
c.trim,b=function(a,b,c,d,e){return{type:a,title:b,url:c,level:d,attach:e}},k=function(a){for(;a=a.parentNode;){var b=a.contentEditable;if(b&&"inherit"!==b)return f.isContentEditableTrue(a)}return!1},q=function(a){return a&&"A"===a.nodeName&&(a.id||a.name)&&k(a)&&!f.isContentEditableFalse(a)},r=function(a){return a&&/^(H[1-6])$/.test(a.nodeName)&&k(a)&&!f.isContentEditableFalse(a)},s=function(a){var c=a.id?a.id:d.uuid("h");return b("header",a.innerText||a.textContent,"#"+c,a&&/^(H[1-6])$/.test(a.nodeName)?
parseInt(a.nodeName.substr(1),10):0,function(){a.id=c})},m=function(a){var c=a.id||a.name;a=a.innerText||a.textContent;return b("anchor",a?a:"#"+c,"#"+c,0,h.noop)},g=function(b){return 0<a(b.title).length};return{find:function(a){a=l.DOM.select("h1,h2,h3,h4,h5,h6,a:not([href])",a);return e.filter(e.map(e.filter(a,r),s).concat(e.map(e.filter(a,q),m)),g)}}});x("tinymce/ui/FilePicker","tinymce/ui/ComboBox tinymce/util/Tools tinymce/util/Arr tinymce/util/Fun tinymce/util/VK tinymce/content/LinkTargets".split(" "),
function(l,h,e,d,c,f){var a={},b=function(a){return{title:a.title,value:{title:{raw:a.title},url:a.url,attach:a.attach}}},k=function(a,b){return{title:a,value:{title:a,url:b,attach:d.noop}}},q=function(a,b){return!e.find(b,function(b){return b.url===a})},r=function(a,b,c){a=b in a?a[b]:c;return!1===a?null:a},s=function(c,f,g,l){var n={title:"-"},s=function(a){a=e.filter(a[g],function(a){return q(a,f)});return h.map(a,function(a){return{title:a,value:{title:a,url:a,attach:d.noop}}})},z=function(a){var c=
e.filter(f,function(b){return b.type==a});return h.map(c,b)},y=function(){var a=z("anchor"),b=r(l,"anchor_top","#top"),c=r(l,"anchor_bottom","#bottom");null!==b&&a.unshift(k("<top>",b));null!==c&&a.push(k("<bottom>",c));return a},x=function(a){return e.reduce(a,function(a,b){return 0===a.length||0===b.length?a.concat(b):a.concat(n,b)},[])};return!1===l.typeahead_urls?[]:"file"===g?x([m(c,s(a)),m(c,z("header")),m(c,y())]):m(c,s(a))},m=function(a,b){var c=a.toLowerCase(),d=h.grep(b,function(a){return-1!==
a.title.toLowerCase().indexOf(c)});return 1===d.length&&d[0].title===a?[]:d},g=function(b,c,d,g){var k=function(a){var e=f.find(d),e=s(a,e,g,c);b.showAutoComplete(e,a)};b.on("autocomplete",function(){k(b.value())});b.on("selectitem",function(a){a=a.value;b.value(a.url);var c;c=a.title;c=c.raw?c.raw:c;"image"===g?b.fire("change",{meta:{alt:c,attach:a.attach}}):b.fire("change",{meta:{text:c,attach:a.attach}});b.focus()});b.on("click",function(a){0===b.value().length&&"INPUT"===a.target.nodeName&&k("")});
b.on("PostRender",function(){b.getRoot().on("submit",function(c){if(!c.isDefaultPrevented()){c=b.value();var d=a[g];/^https?/.test(c)&&(d?-1===e.indexOf(d,c)&&(a[g]=d.slice(0,5).concat(c)):a[g]=[c])}})})},n=function(a,b,c){var d=b.filepicker_validator_handler;if(d){var e=function(b){0===b.length?a.statusLevel("none"):d({url:b,type:c},function(b){var c;c=b.status;b=b.message;c="valid"===c?{status:"ok",message:b}:"unknown"===c?{status:"warn",message:b}:"invalid"===c?{status:"warn",message:b}:{status:"none",
message:""};a.statusMessage(c.message);a.statusLevel(c.status)})};a.state.on("change:value",function(a){e(a.value)})}};return l.extend({init:function(a){var b=this,c=tinymce.activeEditor,d=c.settings,e,f,k,l=a.filetype;a.spellcheck=!1;(k=d.file_picker_types||d.file_browser_callback_types)&&(k=h.makeMap(k,/[, ]/));if(!k||k[l])f=d.file_picker_callback,!f||k&&!k[l]?(f=d.file_browser_callback,!f||k&&!k[l]||(e=function(){f(b.getEl("inp").id,b.value(),l,window)})):e=function(){var a=b.fire("beforecall").meta,
a=h.extend({filetype:l},a);f.call(c,function(a,c){b.value(a).fire("change",{meta:c})},b.value(),a)};e&&(a.icon="browse",a.onaction=e);b._super(a);g(b,d,c.getBody(),l);n(b,d,l)}})});x("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(l){return l.extend({recalc:function(h){var e=h.layoutRect(),d=h.paddingBox;h.items().filter(":visible").each(function(c){c.layoutRect({x:d.left,y:d.top,w:e.innerW-d.right-d.left,h:e.innerH-d.top-d.bottom});c.recalc&&c.recalc()})}})});x("tinymce/ui/FlexLayout",
["tinymce/ui/AbsoluteLayout"],function(l){return l.extend({recalc:function(h){var e,d,c,f,a,b,k,l,r,s,m,g,n,v=[],w,p,t,u,x,z,y,J,B,G,H,F,C,I,K,N,R,E,S=Math.max,L=Math.min;c=h.items().filter(":visible");f=h.layoutRect();a=h.paddingBox;b=h.settings;e=h.isRtl()?b.direction||"row-reversed":b.direction;k=b.align;l=h.isRtl()?b.pack||"end":b.pack;b=b.spacing||0;if("row-reversed"==e||"column-reverse"==e)c=c.set(c.toArray().reverse()),e=e.split("-")[0];"column"==e?(x="y",t="h",u="minH",z="maxH",J="innerH",
y="top",B="deltaH",G="contentH",K="left",C="w",H="x",F="innerW",I="minW",N="right",R="deltaW",E="contentW"):(x="x",t="w",u="minW",z="maxW",J="innerW",y="left",B="deltaW",G="contentW",K="top",C="h",H="y",F="innerH",I="minH",N="bottom",R="deltaH",E="contentH");s=f[J]-a[y]-a[y];e=p=r=0;for(d=c.length;e<d;e++)m=c[e],g=m.layoutRect(),n=m.settings,n=n.flex,s-=e<d-1?b:0,0<n&&(r+=n,g[z]&&v.push(m),g.flex=n),s-=g[u],n=a[K]+g[I]+a[N],n>p&&(p=n);w={};w[u]=0>s?f[u]-s+f[B]:f[J]-s+f[B];w[I]=p+f[R];w[G]=f[J]-s;
w[E]=p;w.minW=L(w.minW,f.maxW);w.minH=L(w.minH,f.maxH);w.minW=S(w.minW,f.startMinWidth);w.minH=S(w.minH,f.startMinHeight);if(!f.autoResize||w.minW==f.minW&&w.minH==f.minH){h=s/r;e=0;for(d=v.length;e<d;e++)m=v[e],g=m.layoutRect(),m=g[z],n=g[u]+g.flex*h,n>m?(s-=g[z]-g[u],r-=g.flex,g.flex=0,g.maxFlexSize=m):g.maxFlexSize=0;h=s/r;v=a[y];w={};0===r&&("end"==l?v=s+a[y]:"center"==l?(v=Math.round(f[J]/2-(f[J]-s)/2)+a[y],0>v&&(v=a[y])):"justify"==l&&(v=a[y],b=Math.floor(s/(c.length-1))));w[H]=a[K];e=0;for(d=
c.length;e<d;e++)m=c[e],g=m.layoutRect(),n=g.maxFlexSize||g[u],"center"===k?w[H]=Math.round(f[F]/2-g[C]/2):"stretch"===k?(w[C]=S(g[I]||0,f[F]-a[K]-a[N]),w[H]=a[K]):"end"===k&&(w[H]=f[F]-g[C]-a.top),0<g.flex&&(n+=g.flex*h),w[t]=n,w[x]=v,m.layoutRect(w),m.recalc&&m.recalc(),v+=n+b}else if(w.w=w.minW,w.h=w.minH,h.layoutRect(w),this.recalc(h),null===h._lastRect&&(c=h.parent()))c._lastRect=null,c.recalc()}})});x("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(l){return l.extend({Defaults:{containerClass:"flow-layout",
controlClass:"flow-layout-item",endClass:"break"},recalc:function(h){h.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})});x("tinymce/fmt/FontInfo",["tinymce/dom/DOMUtils"],function(l){var h=function(e,d,c){for(;c!==d;){if(c.style[e])return c.style[e];c=c.parentNode}return""};return{getFontSize:function(e,d){var c=h("fontSize",e,d);return""!==c?c:l.DOM.getStyle(d,"fontSize",!0)},getFontFamily:function(e,d){var c=h("fontFamily",e,d),c=""!==c?c:l.DOM.getStyle(d,
"fontFamily",!0);return c!==ba?c.replace(/[\'\"]/g,"").replace(/,\s+/g,","):""},toPt:function(e){return/[0-9.]+px$/.test(e)?Math.round(72*parseInt(e,10)/96)+"pt":e}}});x("tinymce/ui/FormatControls","tinymce/ui/Control tinymce/ui/Widget tinymce/ui/FloatPanel tinymce/util/Tools tinymce/util/Arr tinymce/dom/DOMUtils tinymce/EditorManager tinymce/Env tinymce/fmt/FontInfo".split(" "),function(l,h,e,d,c,f,a,b,k){function q(a){a.on("ScriptsLoaded",function(){a.rtl&&(l.rtl=!0)})}function r(a){function b(c,
d){return function(){var b=this;a.on("nodeChange",function(e){var f=a.formatter,k=null;s(e.parents,function(a){s(c,function(b){d?f.matchNode(a,d,{value:b.value})&&(k=b.value):f.matchNode(a,b.value)&&(k=b.value);if(k)return!1});if(k)return!1});b.value(k)})}}function c(b){return function(){var c=this;a.on("nodeChange",function(d){var e,f=null;e=k.getFontFamily(a.getBody(),d.element);s(b,function(a){a.value.toLowerCase()===e.toLowerCase()&&(f=a.value)});s(b,function(a){f||(a.value?a.value.split(",")[0]:
"").toLowerCase()!==(e?e.split(",")[0]:"").toLowerCase()||(f=a.value)});c.value(f);!f&&e&&c.text(e?e.split(",")[0]:"")})}}function f(b){return function(){var c=this;a.on("nodeChange",function(d){var e,f,h=null;e=k.getFontSize(a.getBody(),d.element);f=k.toPt(e);s(b,function(a){a.value===e?h=e:a.value===f&&(h=f)});c.value(h);h||c.text(f)})}}function h(a){a=a.replace(/;$/,"").split(";");for(var b=a.length;b--;)a[b]=a[b].split("=");return a}function l(b){return function(){var c=this;if(a.formatter)a.formatter.formatChanged(b,
function(a){c.active(a)});else a.on("init",function(){a.formatter.formatChanged(b,function(a){c.active(a)})})}}function q(b){return function(){function c(){var d="redo"==b?"hasRedo":"hasUndo";return a.undoManager?a.undoManager[d]():!1}var d=this;d.disabled(!c());a.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){d.disabled(a.readonly||!c())})}}function r(b){b.control&&(b=b.control.value());b&&a.execCommand("mceToggleFormat",!1,b)}function x(b){var c=b.length;d.each(b,function(b){b.menu&&
(b.hidden=0===x(b.menu));var d=b.format;d&&(b.hidden=!a.formatter.canApply(d));b.hidden&&c--});return c}function y(b){var c=b.items().length;b.items().each(function(b){b.menu&&b.visible(0<y(b.menu));!b.menu&&b.settings.menu&&b.visible(0<x(b.settings.menu));var d=b.settings.format;d&&b.visible(a.formatter.canApply(d));b.visible()||c--});return c}var J;J=function(){function b(a){var e=[];if(a)return s(a,function(a){var f={text:a.title,icon:a.icon};if(a.items)f.menu=b(a.items);else{var g=a.format||"custom"+
c++;a.format||(a.name=g,d.push(a));f.format=g;f.cmd=a.cmd}e.push(f)}),e}var c=0,d=[],e=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",
format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",
format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];a.on("init",function(){s(d,function(b){a.formatter.register(b.name,b)})});return{type:"menu",items:a.settings.style_formats_merge?a.settings.style_formats?b(e.concat(a.settings.style_formats)):b(e):b(a.settings.style_formats||e),onPostRender:function(b){a.fire("renderFormatsMenu",{control:b.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return a.formatter.getCssText(this.settings.format)},
onPostRender:function(){var b=this;b.parent().on("show",function(){var c;if(c=b.settings.format)b.disabled(!a.formatter.canApply(c)),b.active(a.formatter.match(c));(c=b.settings.cmd)&&b.active(a.queryCommandState(c))})},onclick:function(){this.settings.format&&r(this.settings.format);this.settings.cmd&&a.execCommand(this.settings.cmd)}}}}();s({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(b,c){a.addButton(c,
{tooltip:b,onPostRender:l(c),onclick:function(){r(c)}})});s({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1]})});s({blockquote:["Blockquote","mceBlockQuote"],
subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1],onPostRender:l(c)})});var B=function(a){0<a.length&&"-"===a[0].text&&(a=a.slice(1));0<a.length&&"-"===a[a.length-1].text&&(a=a.slice(0,a.length-1));return a},G=function(b){var c;
if("string"===typeof b)c=b.split(" ");else if(d.isArray(b))return m(d.map(b,G));b=d.grep(c,function(b){return"|"===b||b in a.menuItems});return d.map(b,function(b){return"|"===b?{text:"-"}:a.menuItems[b]})},H=function(b){var c=[{text:"-"}],e=d.grep(a.menuItems,function(a){return a.context===b});d.each(e,function(a){"before"==a.separator&&c.push({text:"|"});a.prependToContext?c.unshift(a):c.push(a);"after"==a.separator&&c.push({text:"|"})});return c};a.addButton("undo",{tooltip:"Undo",onPostRender:q("undo"),
cmd:"undo"});a.addButton("redo",{tooltip:"Redo",onPostRender:q("redo"),cmd:"redo"});a.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"});a.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:q("undo"),cmd:"undo"});a.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:q("redo"),cmd:"redo"});a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var b=this;a.on("VisualAid",function(a){b.active(a.hasVisual)});
b.active(a.hasVisual)},cmd:"mceToggleVisualAid"});a.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"});a.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(a.settings.insert_button_items?B(G(a.settings.insert_button_items)):B(H("insert")));this.menu.renderNew()}});s({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic",
"Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(b,c){a.addMenuItem(c,{text:b[0],icon:c,shortcut:b[2],cmd:b[1]})});a.on("mousedown",function(){e.hideAll()});a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:J,onShowMenu:function(){a.settings.style_formats_autohide&&y(this.menu)}});a.addButton("formatselect",
function(){var c=[],d=h(a.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");s(d,function(b){c.push({text:b[0],value:b[1],textStyle:function(){return a.formatter.getCssText(b[1])}})});return{type:"listbox",text:d[0][0],values:c,fixedWidth:!0,onselect:r,onPostRender:b(c)}});a.addButton("fontselect",function(){var b=[],d=h(a.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
s(d,function(a){b.push({text:{raw:a[0]},value:a[1],textStyle:-1==a[1].indexOf("dings")?"font-family:"+a[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:b,fixedWidth:!0,onPostRender:c(b),onselect:function(b){b.control.settings.value&&a.execCommand("FontName",!1,b.control.settings.value)}}});a.addButton("fontsizeselect",function(){var b=[];s((a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(a){var c=a,d=a;a=a.split("=");1<a.length&&
(c=a[0],d=a[1]);b.push({text:c,value:d})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:b,fixedWidth:!0,onPostRender:f(b),onclick:function(b){b.control.settings.value&&a.execCommand("FontSize",!1,b.control.settings.value)}}});a.addMenuItem("formats",{text:"Formats",menu:J})}var s=d.each,m=function(a){return c.reduce(a,function(a,b){return a.concat(b)},[])};a.on("AddEditor",function(a){a=a.editor;q(a);r(a);a.settings.ui_container&&(b.container=f.DOM.select(a.settings.ui_container)[0])});
l.translate=function(b){return a.translate(b)};h.tooltips=!b.iOS});x("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(l){return l.extend({recalc:function(h){var e,d,c,f,a,b,k,l,r,s,m,g,n,v,w,p,t,u,x=[],z=[],y;e=h.settings;f=h.items().filter(":visible");a=h.layoutRect();c=e.columns||Math.ceil(Math.sqrt(f.length));d=Math.ceil(f.length/c);w=e.spacingH||e.spacing||0;p=e.spacingV||e.spacing||0;t=e.alignH||e.align;u=e.alignV||e.align;n=h.paddingBox;y="reverseRows"in e?e.reverseRows:h.isRtl();
t&&"string"==typeof t&&(t=[t]);u&&"string"==typeof u&&(u=[u]);for(s=0;s<c;s++)x.push(0);for(k=0;k<d;k++)z.push(0);for(k=0;k<d;k++)for(s=0;s<c;s++){r=f[k*c+s];if(!r)break;l=r.layoutRect();r=l.minW;l=l.minH;x[s]=r>x[s]?r:x[s];z[k]=l>z[k]?l:z[k]}l=a.innerW-n.left-n.right;for(s=r=0;s<c;s++)r+=x[s]+(0<s?w:0),l-=(0<s?w:0)+x[s];m=a.innerH-n.top-n.bottom;for(k=s=0;k<d;k++)s+=z[k]+(0<k?p:0),m-=(0<k?p:0)+z[k];r+=n.left+n.right;s+=n.top+n.bottom;k={};k.minW=r+(a.w-a.innerW);k.minH=s+(a.h-a.innerH);k.contentW=
k.minW-a.deltaW;k.contentH=k.minH-a.deltaH;k.minW=Math.min(k.minW,a.maxW);k.minH=Math.min(k.minH,a.maxH);k.minW=Math.max(k.minW,a.startMinWidth);k.minH=Math.max(k.minH,a.startMinHeight);if(!a.autoResize||k.minW==a.minW&&k.minH==a.minH){a.autoResize&&(k=h.layoutRect(k),k.contentW=k.minW-a.deltaW,k.contentH=k.minH-a.deltaH);h="start"==e.packV?0:0<m?Math.floor(m/d):0;k=0;if(e=e.flexWidths)for(s=0;s<e.length;s++)k+=e[s];else k=c;k=l/k;for(s=0;s<c;s++)x[s]+=e?e[s]*k:k;m=n.top;for(k=0;k<d;k++){a=n.left;
e=z[k]+h;for(s=0;s<c;s++){l=y?k*c+c-1-s:k*c+s;r=f[l];if(!r)break;g=r.settings;l=r.layoutRect();b=Math.max(x[s],l.startMinWidth);l.x=a;l.y=m;v=g.alignH||(t?t[s]||t[0]:null);"center"==v?l.x=a+b/2-l.w/2:"right"==v?l.x=a+b-l.w:"stretch"==v&&(l.w=b);v=g.alignV||(u?u[s]||u[0]:null);"center"==v?l.y=m+e/2-l.h/2:"bottom"==v?l.y=m+e-l.h:"stretch"==v&&(l.h=e);r.layoutRect(l);a+=b+w;r.recalc&&r.recalc()}m+=e+p}}else if(k.w=k.minW,k.h=k.minH,h.layoutRect(k),this.recalc(h),null===h._lastRect&&(d=h.parent()))d._lastRect=
null,d.recalc()}})});x("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(l,h){return l.extend({renderHtml:function(){this.classes.add("iframe");this.canFocus=!1;return'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,d){var c=this,f=this.getEl().contentWindow.document.body;f?(f.innerHTML=e,d&&d()):h.setTimeout(function(){c.html(e)});return this}})});
x("tinymce/ui/InfoBox",["tinymce/ui/Widget"],function(l){return l.extend({init:function(h){this._super(h);this.classes.add("widget").add("infobox");this.canFocus=!1},severity:function(h){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(h)},help:function(h){this.state.set("help",h)},renderHtml:function(){var h=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+
'<button role="button" tabindex="-1"><i class="'+h+"ico "+h+'i-help"></i></button></div></div>'},bindStates:function(){var h=this;h.state.on("change:text",function(e){h.getEl("body").firstChild.data=h.encode(e.value);h.state.get("rendered")&&h.updateLayoutRect()});h.state.on("change:help",function(e){h.classes.toggle("has-help",e.value);h.state.get("rendered")&&h.updateLayoutRect()});return h._super()}})});x("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(l,h){return l.extend({init:function(e){this._super(e);
this.classes.add("widget").add("label");this.canFocus=!1;e.multiline&&this.classes.add("autoscroll");e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();this.settings.multiline&&(h.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,h.getSize(this.getEl()).height));return e},repaint:function(){this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+
"px");return this._super()},severity:function(e){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(e)},renderHtml:function(){var e,d=this.settings.forId;!d&&(e=this.settings.forName)&&(e=this.getRoot().find("#"+e)[0])&&(d=e._id);return d?'<label id="'+this._id+'" class="'+this.classes+'"'+(d?' for="'+d+'"':"")+">"+this.encode(this.state.get("text"))+"</label>":'<span id="'+this._id+'" class="'+this.classes+'">'+this.encode(this.state.get("text"))+
"</span>"},bindStates:function(){var e=this;e.state.on("change:text",function(d){e.innerHtml(e.encode(d.value));e.state.get("rendered")&&e.updateLayoutRect()});return e._super()}})});x("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(l){return l.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(h){this._super(h);this.classes.add("toolbar")},postRender:function(){this.items().each(function(h){h.classes.add("toolbar-item")});return this._super()}})});x("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],
function(l){return l.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})});x("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(l,h,e){var d=l.extend({init:function(c){this._renderOpen=!0;this._super(c);c=this.settings;this.classes.add("menubtn");c.fixedWidth&&this.classes.add("fixed-width");this.aria("haspopup",!0);this.state.set("menu",c.menu||this.render())},showMenu:function(c){var d=this;if(d.menu&&
d.menu.visible()&&!1!==c)return d.hideMenu();d.menu||(c=d.state.get("menu")||[],c.length?c={type:"menu",items:c}:c.type=c.type||"menu",d.menu=c.renderTo?c.parent(d).show().renderTo():h.create(c).parent(d).renderTo(),d.fire("createmenu"),d.menu.reflow(),d.menu.on("cancel",function(a){a.control.parent()===d.menu&&(a.stopPropagation(),d.focus(),d.hideMenu())}),d.menu.on("select",function(){d.focus()}),d.menu.on("show hide",function(a){a.control==d.menu&&d.activeMenu("show"==a.type);d.aria("expanded",
"show"==a.type)}).fire("show"));d.menu.show();d.menu.layoutRect({w:d.layoutRect().w});d.menu.moveRel(d.getEl(),d.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);d.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(c){c.hideMenu&&c.hideMenu()}),this.menu.hide())},activeMenu:function(c){this.classes.toggle("active",c)},renderHtml:function(){var c=this._id,d=this.classPrefix,a=this.settings.icon,b,k=this.state.get("text"),h="";(b=this.settings.image)?(a="none","string"!=typeof b&&
(b=window.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="";k&&(this.classes.add("btn-has-text"),h='<span class="'+d+'txt">'+this.encode(k)+"</span>");a=this.settings.icon?d+"ico "+d+"i-"+a:"";this.aria("role",this.parent()instanceof e?"menuitem":"button");return'<div id="'+c+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+c+'"><button id="'+c+'-open" role="presentation" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+b+"></i>":"")+h+' <i class="'+d+'caret"></i></button></div>'},
postRender:function(){var c=this;c.on("click",function(d){var a;if(a=d.control===c)a:{a=d.target;for(var b=c.getEl();a;){if(b===a){a=!0;break a}a=a.parentNode}a=!1}a&&(c.focus(),c.showMenu(!d.aria),d.aria&&c.menu.items().filter(":visible")[0].focus())});c.on("mouseenter",function(e){var a=e.control;e=c.parent();var b;a&&e&&a instanceof d&&a.parent()==e&&(e.items().filter("MenuButton").each(function(c){c.hideMenu&&c!=a&&(c.menu&&c.menu.visible()&&(b=!0),c.hideMenu())}),b&&(a.focus(),a.showMenu()))});
return c._super()},bindStates:function(){var c=this;c.state.on("change:menu",function(){c.menu&&c.menu.remove();c.menu=null});return c._super()},remove:function(){this._super();this.menu&&this.menu.remove()}});return d});x("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env","tinymce/util/Delay"],function(l,h,e,d){return l.extend({Defaults:{border:0,role:"menuitem"},init:function(c){var d;this._super(c);c=this.settings;this.classes.add("menu-item");c.menu&&this.classes.add("menu-item-expand");
c.preview&&this.classes.add("menu-item-preview");d=this.state.get("text");if("-"===d||"|"===d)this.classes.add("menu-item-sep"),this.aria("role","separator"),this.state.set("text","-");c.selectable&&(this.aria("role","menuitemcheckbox"),this.classes.add("menu-item-checkbox"),c.icon="selected");c.preview||c.selectable||this.classes.add("menu-item-normal");this.on("mousedown",function(a){a.preventDefault()});c.menu&&!c.ariaHideMenu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},
showMenu:function(){var c=this,d=c.settings,a,b=c.parent();b.items().each(function(a){a!==c&&a.hideMenu()});d.menu&&((a=c.menu)?a.show():(a=d.menu,a.length?a={type:"menu",items:a}:a.type=a.type||"menu",b.settings.itemDefaults&&(a.itemDefaults=b.settings.itemDefaults),a=c.menu=h.create(a).parent(c).renderTo(),a.reflow(),a.on("cancel",function(b){b.stopPropagation();c.focus();a.hide()}),a.on("show hide",function(a){a.control.items&&a.control.items().each(function(a){a.active(a.settings.selected)})}).fire("show"),
a.on("hide",function(b){b.control===a&&c.classes.remove("selected")}),a.submenu=!0),a._parentMenu=b,a.classes.add("menu-sub"),d=a.testMoveRel(c.getEl(),c.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]),a.moveRel(c.getEl(),d),a.rel=d,d="menu-sub-"+d,a.classes.remove(a._lastRel).add(d),a._lastRel=d,c.classes.add("selected"),c.aria("expanded",!0))},hideMenu:function(){this.menu&&(this.menu.items().each(function(c){c.hideMenu&&c.hideMenu()}),this.menu.hide(),this.aria("expanded",
!1));return this},renderHtml:function(){function c(a){var b,c,d={},d=e.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"};a=a.split("+");for(b=0;b<a.length;b++)(c=d[a[b].toLowerCase()])&&(a[b]=c);return a.join("+")}function d(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(a){var b=h.match||"";return b?a.replace(RegExp(d(b),"gi"),function(a){return"!mce~match["+a+"]mce~match!"}):a}function b(a){return a.replace(RegExp(d("!mce~match["),"g"),"<b>").replace(RegExp(d("]mce~match!"),
"g"),"</b>")}var k=this._id,h=this.settings,l=this.classPrefix,s=this.state.get("text"),m=this.settings.icon,g="",n=h.shortcut,v=this.encode(h.url),w="";m&&this.parent().classes.add("menu-has-icons");h.image&&(g=" style=\"background-image: url('"+h.image+"')\"");n&&(n=c(n));m=l+"ico "+l+"i-"+(this.settings.icon||"none");w="-"!==s?'<i class="'+m+'"'+g+"></i>\u00a0":"";s=b(this.encode(a(s)));v=b(this.encode(a(v)));return'<div id="'+k+'" class="'+this.classes+'" tabindex="-1">'+w+("-"!==s?'<span id="'+
k+'-text" class="'+l+'text">'+s+"</span>":"")+(n?'<div id="'+k+'-shortcut" class="'+l+'menu-shortcut">'+n+"</div>":"")+(h.menu?'<div class="'+l+'caret"></div>':"")+(v?'<div class="'+l+'menu-item-link">'+v+"</div>":"")+"</div>"},postRender:function(){var c=this,e=c.settings,a=e.textStyle;"function"==typeof a&&(a=a.call(this));if(a){var b=c.getEl("text");b&&b.setAttribute("style",a)}c.on("mouseenter click",function(a){a.control===c&&(e.menu||"click"!==a.type?(c.showMenu(),a.aria&&c.menu.focus(!0)):
(c.fire("select"),d.requestAnimationFrame(function(){c.parent().hideAll()})))});c._super();return c},hover:function(){this.parent().items().each(function(c){c.classes.remove("selected")});this.classes.toggle("selected",!0);return this},active:function(c){"undefined"!=typeof c&&this.aria("checked",c);return this._super(c)},remove:function(){this._super();this.menu&&this.menu.remove()}})});x("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function(l,h,e){return function(d,
c){var f=this,a,b=h.classPrefix,k;f.show=function(h,r){function s(){a&&(l(d).append('<div class="'+b+"throbber"+(c?" "+b+"throbber-inline":"")+'"></div>'),r&&r())}f.hide();a=!0;h?k=e.setTimeout(s,h):s();return f};f.hide=function(){var b=d.lastChild;e.clearTimeout(k);b&&-1!=b.className.indexOf("throbber")&&b.parentNode.removeChild(b);a=!1;return f}}});x("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/util/Tools"],function(l,h,e,d){return l.extend({Defaults:{defaultType:"menuitem",
border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(c){c.autohide=!0;c.constrainToViewport=!0;"function"===typeof c.items&&(c.itemsFactory=c.items,c.items=[]);if(c.itemDefaults)for(var e=c.items,a=e.length;a--;)e[a]=d.extend({},c.itemDefaults,e[a]);this._super(c);this.classes.add("menu")},repaint:function(){this.classes.toggle("menu-align",!0);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){this.hideAll();
this.fire("select")},load:function(){function c(){d.throbber&&(d.throbber.hide(),d.throbber=null)}var d=this,a;d.settings.itemsFactory&&(d.throbber||(d.throbber=new e(d.getEl("body"),!0),0===d.items().length?(d.throbber.show(),d.fire("loading")):d.throbber.show(100,function(){d.items().remove();d.fire("loading")}),d.on("hide close",c)),d.requestTime=a=(new Date).getTime(),d.settings.itemsFactory(function(b){0===b.length?d.hide():d.requestTime===a&&(d.getEl().style.width="",d.getEl("body").style.width=
"",c(),d.items().remove(),d.getEl("body").innerHTML="",d.add(b),d.renderNew(),d.fire("loaded"))}))},hideAll:function(){this.find("menuitem").exec("hideMenu");return this._super()},preRender:function(){var c=this;c.items().each(function(d){d=d.settings;if(d.icon||d.image||d.selectable)return c._hasIcons=!0,!1});if(c.settings.itemsFactory)c.on("postrender",function(){c.settings.itemsFactory&&c.load()});return c._super()}})});x("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(l,
h){return l.extend({init:function(e){function d(f){for(var k=0;k<f.length;k++){if(a=f[k].selected||e.value===f[k].value)return b=b||f[k].text,c.state.set("value",f[k].value),!0;if(f[k].menu&&d(f[k].menu))return!0}}var c=this,f,a,b,k;c._super(e);e=c.settings;if(c._values=f=e.values)"undefined"!=typeof e.value&&d(f),!a&&0<f.length&&(b=f[0].text,c.state.set("value",f[0].value)),c.state.set("menu",f);c.state.set("text",e.text||b);c.classes.add("listbox");c.on("select",function(a){var b=a.control;k&&(a.lastControl=
k);e.multiple?b.active(!b.active()):c.value(a.control.value());k=b})},bindStates:function(){function e(c,a){c instanceof h&&c.items().each(function(b){b.hasMenus()||b.active(b.value()===a)})}function d(c,a){var b;if(c)for(var e=0;e<c.length;e++){if(c[e].value===a)return c[e];if(c[e].menu&&(b=d(c[e].menu,a)))return b}}var c=this;c.on("show",function(d){e(d.control,c.value())});c.state.on("change:value",function(e){(e=d(c.state.get("menu"),e.value))?c.text(e.text):c.text(c.settings.text)});return c._super()}})});
x("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(l){return l.extend({Defaults:{classes:"radio",role:"radio"}})});x("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(l,h){return l.extend({renderHtml:function(){var e=this.classPrefix;this.classes.add("resizehandle");"both"==this.settings.direction&&this.classes.add("resizehandle-both");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var e=
this;e._super();e.resizeDragHelper=new h(this._id,{start:function(){e.fire("ResizeStart")},drag:function(d){"both"!=e.settings.direction&&(d.deltaX=0);e.fire("Resize",d)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){this.resizeDragHelper&&this.resizeDragHelper.destroy();return this._super()}})});x("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(l){function h(e){var d="";if(e)for(var c=0;c<e.length;c++)d+='<option value="'+e[c]+'">'+e[c]+"</option>";return d}return l.extend({Defaults:{classes:"selectbox",
role:"selectbox",options:[]},init:function(e){var d=this;d._super(e);d.settings.size&&(d.size=d.settings.size);d.settings.options&&(d._options=d.settings.options);d.on("keydown",function(c){var e;13==c.keyCode&&(c.preventDefault(),d.parents().reverse().each(function(a){if(a.toJSON)return e=a,!1}),d.fire("submit",{data:e.toJSON()}))})},options:function(e){if(!arguments.length)return this.state.get("options");this.state.set("options",e);return this},renderHtml:function(){var e,d="";e=h(this._options);
this.size&&(d=' size = "'+this.size+'"');return'<select id="'+this._id+'" class="'+this.classes+'"'+d+">"+e+"</select>"},bindStates:function(){var e=this;e.state.on("change:options",function(d){e.getEl().innerHTML=h(d.value)});return e._super()}})});x("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(l,h,e){function d(c,a,b){c<a&&(c=a);c>b&&(c=b);return c}function c(c,a){var b,d,h,l;"v"==c.settings.orientation?(h="top",d="height",b="h"):(h="left",d="width",
b="w");l=c.getEl("handle");b=((c.layoutRect()[b]||100)-e.getSize(l)[d])*((a-c._minValue)/(c._maxValue-c._minValue))+"px";l.style[h]=b;l.style.height=c.layoutRect().h+"px";l.setAttribute("aria-valuenow",a);h=""+c.settings.previewFilter(a);l.setAttribute("aria-valuetext",h);l.setAttribute("aria-valuemin",c._minValue);l.setAttribute("aria-valuemax",c._maxValue)}return l.extend({init:function(c){c.previewFilter||(c.previewFilter=function(a){return Math.round(100*a)/100});this._super(c);this.classes.add("slider");
"v"==c.orientation&&this.classes.add("vertical");this._minValue=c.minValue||0;this._maxValue=c.maxValue||100;this._initValue=this.state.get("value")},renderHtml:function(){var c=this._id;return'<div id="'+c+'" class="'+this.classes+'"><div id="'+c+'-handle" class="'+this.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var c=this,a,b,k,l,r,s;a=c._minValue;b=c._maxValue;"v"==c.settings.orientation?(k=
"screenY",l="top",r="height",s="h"):(k="screenX",l="left",r="width",s="w");c._super();(function(a,b){function e(h){var k;k=c.value();k=((k+a)/(b-a)+0.05*h)*(b-a)-a;k=d(k,a,b);c.value(k);c.fire("dragstart",{value:k});c.fire("drag",{value:k});c.fire("dragend",{value:k})}c.on("keydown",function(a){switch(a.keyCode){case 37:case 38:e(-1);break;case 39:case 40:e(1)}})})(a,b,c.getEl("handle"));(function(a,b,n){var v,w,p,t,u;c._dragHelper=new h(c._id,{handle:c._id+"-handle",start:function(a){v=a[k];w=parseInt(c.getEl("handle").style[l],
10);p=(c.layoutRect()[s]||100)-e.getSize(n)[r];c.fire("dragstart",{value:u})},drag:function(e){t=d(w+(e[k]-v),0,p);n.style[l]=t+"px";u=a+t/p*(b-a);c.value(u);c.tooltip().text(""+c.settings.previewFilter(u)).show().moveRel(n,"bc tc");c.fire("drag",{value:u})},stop:function(){c.tooltip().hide();c.fire("dragend",{value:u})}})})(a,b,c.getEl("handle"))},repaint:function(){this._super();c(this,this.value())},bindStates:function(){var d=this;d.state.on("change:value",function(a){c(d,a.value)});return d._super()}})});
x("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(l){return l.extend({renderHtml:function(){this.classes.add("spacer");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})});x("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(l,h,e){return l.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var d=this.getEl(),c=this.layoutRect(),f;this._super();f=d.firstChild;d=d.lastChild;e(f).css({width:c.w-
h.getSize(d).width,height:c.h-2});e(d).css({height:c.h-2});return this},activeMenu:function(d){e(this.getEl().lastChild).toggleClass(this.classPrefix+"active",d)},renderHtml:function(){var d=this._id,c=this.classPrefix,e,a=this.state.get("icon"),b=this.state.get("text"),k="";(e=this.settings.image)?(a="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="";a=this.settings.icon?c+"ico "+c+"i-"+a:"";b&&(this.classes.add("btn-has-text"),k='<span class="'+
c+'txt">'+this.encode(b)+"</span>");return'<div id="'+d+'" class="'+this.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(a?'<i class="'+a+'"'+e+"></i>":"")+k+'</button><button type="button" class="'+c+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?(a?"\u00a0":"")+this._menuBtnText:"")+' <i class="'+c+'caret"></i></button></div>'},postRender:function(){var d=this.settings.onclick;this.on("click",function(c){var e=c.target;if(c.control==this)for(;e;){if(c.aria&&
"down"!=c.aria.key||"BUTTON"==e.nodeName&&-1==e.className.indexOf("open")){c.stopImmediatePropagation();d&&d.call(this,c);break}e=e.parentNode}});delete this.settings.onclick;return this._super()}})});x("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(l){return l.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})});x("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(l,
h,e){return l.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(d){var c;this.activeTabId&&(c=this.getEl(this.activeTabId),h(c).removeClass(this.classPrefix+"active"),c.setAttribute("aria-selected","false"));this.activeTabId="t"+d;c=this.getEl("t"+d);c.setAttribute("aria-selected","true");h(c).addClass(this.classPrefix+"active");this.items()[d].show().fire("showtab");this.reflow();this.items().each(function(c,a){d!=a&&c.hide()})},renderHtml:function(){var d=this,c=
d._layout,e="",a=d.classPrefix;d.preRender();c.preRender(d);d.items().each(function(b,c){var h=d._id+"-t"+c;b.aria("role","tabpanel");b.aria("labelledby",h);e+='<div id="'+h+'" class="'+a+'tab" unselectable="on" role="tab" aria-controls="'+b._id+'" aria-selected="false" tabIndex="-1">'+d.encode(b.settings.title)+"</div>"});return'<div id="'+d._id+'" class="'+d.classes+'" hidefocus="1" tabindex="-1"><div id="'+d._id+'-head" class="'+a+'tabs" role="tablist">'+e+'</div><div id="'+d._id+'-body" class="'+
d.bodyClasses+'">'+c.renderHtml(d)+"</div></div>"},postRender:function(){var d=this;d._super();d.settings.activeTab=d.settings.activeTab||0;d.activateTab(d.settings.activeTab);this.on("click",function(c){var e=c.target.parentNode;if(e&&e.id==d._id+"-head")for(var a=e.childNodes.length;a--;)e.childNodes[a]==c.target&&d.activateTab(a)})},initLayoutRect:function(){var d,c,f;c=e.getSize(this.getEl("head")).width;c=0>c?0:c;f=0;this.items().each(function(a){c=Math.max(c,a.layoutRect().minW);f=Math.max(f,
a.layoutRect().minH)});this.items().each(function(a){a.settings.x=0;a.settings.y=0;a.settings.w=c;a.settings.h=f;a.layoutRect({x:0,y:0,w:c,h:f})});var a=e.getSize(this.getEl("head")).height;this.settings.minWidth=c;this.settings.minHeight=f+a;d=this._super();d.deltaH+=a;d.innerH=d.h-d.deltaH;return d}})});x("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/util/Tools","tinymce/ui/DomUtils"],function(l,h,e){return l.extend({init:function(d){var c=this;c._super(d);c.classes.add("textbox");d.multiline?
c.classes.add("multiline"):(c.on("keydown",function(d){var a;13==d.keyCode&&(d.preventDefault(),c.parents().reverse().each(function(b){if(b.toJSON)return a=b,!1}),c.fire("submit",{data:a.toJSON()}))}),c.on("keyup",function(d){c.state.set("value",d.target.value)}))},repaint:function(){var d,c,e,a;e=0;var b;d=this.getEl().style;c=this._layoutRect;b=this._lastRepaintRect||{};a=document;!this.settings.multiline&&a.all&&(!a.documentMode||8>=a.documentMode)&&(d.lineHeight=c.h-e+"px");e=this.borderBox;a=
e.left+e.right+8;e=e.top+e.bottom+(this.settings.multiline?8:0);c.x!==b.x&&(d.left=c.x+"px",b.x=c.x);c.y!==b.y&&(d.top=c.y+"px",b.y=c.y);c.w!==b.w&&(d.width=c.w-a+"px",b.w=c.w);c.h!==b.h&&(d.height=c.h-e+"px",b.h=c.h);this._lastRepaintRect=b;this.fire("repaint",{},!1);return this},renderHtml:function(){var d=this.settings,c,f;c={id:this._id,hidefocus:"1"};h.each("rows spellcheck maxLength size readonly min max step list pattern placeholder required multiple".split(" "),function(a){c[a]=d[a]});this.disabled()&&
(c.disabled="disabled");d.subtype&&(c.type=d.subtype);f=e.create(d.multiline?"textarea":"input",c);f.value=this.state.get("value");f.className=this.classes;return f.outerHTML},value:function(d){if(arguments.length)return this.state.set("value",d),this;this.state.get("rendered")&&this.state.set("value",this.getEl().value);return this.state.get("value")},postRender:function(){var d=this;d.getEl().value=d.state.get("value");d._super();d.$el.on("change",function(c){d.state.set("value",c.target.value);
d.fire("change",c)})},bindStates:function(){var d=this;d.state.on("change:value",function(c){d.getEl().value!=c.value&&(d.getEl().value=c.value)});d.state.on("change:disabled",function(c){d.getEl().disabled=c.value});return d._super()},remove:function(){this.$el.off();this._super()}})});x("tinymce/Register",[],function(){var l=this||window;"function"===typeof l.define&&(l.define.amd||l.define("ephox/tinymce",[],function(){return l.tinymce}));"object"===typeof module&&(module.exports=window.tinymce);
return{}});(function(l){var h,e,d,c;for(h=0;h<l.length;h++){e=pa;d=l[h];c=d.split(/[.\/]/);for(var f=0;f<c.length-1;++f)e[c[f]]===ba&&(e[c[f]]={}),e=e[c[f]];e[c[c.length-1]]=qa[d]}if(pa.AMDLC_TESTS){e=pa.privateModules||{};for(d in qa)e[d]=qa[d];for(h=0;h<l.length;h++)delete e[l[h]];pa.privateModules=e}})("tinymce/geom/Rect tinymce/util/Promise tinymce/util/Delay tinymce/Env tinymce/dom/EventUtils tinymce/dom/Sizzle tinymce/util/Tools tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/TreeWalker tinymce/html/Entities tinymce/dom/DOMUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/dom/RangeUtils tinymce/html/Node tinymce/html/Schema tinymce/html/SaxParser tinymce/html/DomParser tinymce/html/Writer tinymce/html/Serializer tinymce/dom/Serializer tinymce/util/VK tinymce/dom/ControlSelection tinymce/dom/BookmarkManager tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EditorCommands tinymce/util/URI tinymce/util/Class tinymce/util/EventDispatcher tinymce/util/Observable tinymce/ui/Selector tinymce/ui/Collection tinymce/ui/ReflowQueue tinymce/ui/Control tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/ui/Container tinymce/ui/DragHelper tinymce/ui/Scrollable tinymce/ui/Panel tinymce/ui/Movable tinymce/ui/Resizable tinymce/ui/FloatPanel tinymce/ui/Window tinymce/ui/MessageBox tinymce/WindowManager tinymce/ui/Tooltip tinymce/ui/Widget tinymce/ui/Progress tinymce/ui/Notification tinymce/NotificationManager tinymce/EditorObservable tinymce/Shortcuts tinymce/Editor tinymce/util/I18n tinymce/FocusManager tinymce/EditorManager tinymce/util/XHR tinymce/util/JSON tinymce/util/JSONRequest tinymce/util/JSONP tinymce/util/LocalStorage tinymce/Compat tinymce/ui/Layout tinymce/ui/AbsoluteLayout tinymce/ui/Button tinymce/ui/ButtonGroup tinymce/ui/Checkbox tinymce/ui/ComboBox tinymce/ui/ColorBox tinymce/ui/PanelButton tinymce/ui/ColorButton tinymce/util/Color tinymce/ui/ColorPicker tinymce/ui/Path tinymce/ui/ElementPath tinymce/ui/FormItem tinymce/ui/Form tinymce/ui/FieldSet tinymce/ui/FilePicker tinymce/ui/FitLayout tinymce/ui/FlexLayout tinymce/ui/FlowLayout tinymce/ui/FormatControls tinymce/ui/GridLayout tinymce/ui/Iframe tinymce/ui/InfoBox tinymce/ui/Label tinymce/ui/Toolbar tinymce/ui/MenuBar tinymce/ui/MenuButton tinymce/ui/MenuItem tinymce/ui/Throbber tinymce/ui/Menu tinymce/ui/ListBox tinymce/ui/Radio tinymce/ui/ResizeHandle tinymce/ui/SelectBox tinymce/ui/Slider tinymce/ui/Spacer tinymce/ui/SplitButton tinymce/ui/StackLayout tinymce/ui/TabPanel tinymce/ui/TextBox".split(" "))})(window);
