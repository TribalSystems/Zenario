(function(b){function a(a,c,f,d){b.ajax({url:c.attr("data-src"),type:d||"get",dataType:c.attr("data-type")||"html",success:function(d){c.html(d);f(!0);a.config("removeAttribute")&&c.removeAttr("data-src data-method data-type")},error:function(){f(!1)}})}b.lazy("ajax",function(b,c){a(this,b,c,b.attr("data-method"))});b.lazy("get",function(b,c){a(this,b,c,"get")});b.lazy("post",function(b,c){a(this,b,c,"post")})})(window.jQuery||window.Zepto);
(function(b){b.lazy(["av","audio","video"],["audio","video"],function(a,e){var c=a[0].tagName.toLowerCase();if("audio"===c||"video"===c){var f=a.find("data-src"),c=a.find("data-track"),d=0,g=function(){++d===f.length&&e(!1)},l=function(){var a=b(this),d=a[0].tagName.toLowerCase(),c=a.prop("attributes"),e=b("data-src"===d?"<source>":"<track>");if("data-src"===d)e.one("error",g);b.each(c,function(a,d){e.attr(d.name,d.value)});a.replaceWith(e)};a.one("loadedmetadata",function(){e(!0)}).off("load error").attr("poster",
a.attr("data-poster"));f.length?f.each(l):a.attr("data-src")?(b.each(a.attr("data-src").split(","),function(d,e){var c=e.split("|");a.append(b("<source>").one("error",g).attr({src:c[0].trim(),type:c[1].trim()}))}),this.config("removeAttribute")&&a.removeAttr("data-src")):e(!1);c.length&&c.each(l)}else e(!1)})})(window.jQuery||window.Zepto);
(function(b){b.lazy(["frame","iframe"],"iframe",function(a,e){var c=this;if("iframe"===a[0].tagName.toLowerCase()){var f=a.attr("data-error-detect");"true"!==f&&"1"!==f?(a.attr("src",a.attr("data-src")),c.config("removeAttribute")&&a.removeAttr("data-src data-error-detect")):b.ajax({url:a.attr("data-src"),dataType:"html",crossDomain:!0,xhrFields:{withCredentials:!0},success:function(d){a.html(d).attr("src",a.attr("data-src"));c.config("removeAttribute")&&a.removeAttr("data-src data-error-detect")},
error:function(){e(!1)}})}else e(!1)})})(window.jQuery||window.Zepto);(function(b){b.lazy("noop",function(){});b.lazy("noop-success",function(a,b){b(!0)});b.lazy("noop-error",function(a,b){b(!1)})})(window.jQuery||window.Zepto);
(function(b){function a(a,e,l){var h=a.prop("attributes"),k=b("<"+e+">");b.each(h,function(a,b){if("srcset"===b.name||b.name===f)b.value=c(b.value,l);k.attr(b.name,b.value)});a.replaceWith(k);return k}function e(a,c,e){a=b("<img>").one("load",function(){e(!0)}).one("error",function(){e(!1)}).appendTo(a).attr("src",c);a.complete&&a.load()}function c(a,b){if(b){var c=a.split(",");a="";for(var e=0,f=c.length;e<f;e++)a+=b+c[e].trim()+(e!==f-1?",":"")}return a}var f="data-src";b.lazy(["pic","picture"],
["picture"],function(d,g){if("picture"===d[0].tagName.toLowerCase()){var l=d.find(f),h=d.find("data-img"),k=this.config("imageBase");l.length?(l.each(function(){a(b(this),"source",k)}),1===h.length?(h=a(h,"img",k),h.on("load",function(){g(!0)}).on("error",function(){g(!1)}),h.attr("src",h.attr(f)),this.config("removeAttribute")&&h.removeAttr(f)):d.attr(f)?(e(d,k+d.attr(f),g),this.config("removeAttribute")&&d.removeAttr(f)):g(!1)):d.attr("data-srcset")?(b("<source>").attr({media:d.attr("data-media"),
sizes:d.attr("data-sizes"),type:d.attr("data-type"),srcset:c(d.attr("data-srcset"),k)}).appendTo(d),e(d,k+d.attr(f),g),this.config("removeAttribute")&&d.removeAttr(f+" data-srcset data-media data-sizes data-type")):g(!1)}else g(!1)})})(window.jQuery||window.Zepto);(function(b){b.lazy(["js","javascript","script"],"script",function(a,b){"script"==a[0].tagName.toLowerCase()?(a.attr("src",a.attr("data-src")),this.config("removeAttribute")&&a.removeAttr("data-src")):b(!1)})})(window.jQuery||window.Zepto);
(function(b){b.lazy("vimeo",function(a,b){"iframe"===a[0].tagName.toLowerCase()?(a.attr("src","https://player.vimeo.com/video/"+a.attr("data-src")),this.config("removeAttribute")&&a.removeAttr("data-src")):b(!1)})})(window.jQuery||window.Zepto);
(function(b){b.lazy(["yt","youtube"],function(a,b){"iframe"===a[0].tagName.toLowerCase()?(a.attr("src","https://www.youtube.com/embed/"+a.attr("data-src")+"?rel=0&amp;showinfo=0"),this.config("removeAttribute")&&a.removeAttr("data-src")):b(!1)})})(window.jQuery||window.Zepto);
