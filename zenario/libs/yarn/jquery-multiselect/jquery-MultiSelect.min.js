(function(a){a.fn.multiselect=function(d){function f(){a(".multiselect-container .search-input").val("");k(b.data);a(".multiselect-container").removeClass("show");a(event.target).closest(".multiselect-container").removeClass("show");a(event.target).closest(".multiselect-container").find(".search-input").blur()}function k(g,c){var e=c?a(c.target).closest(".multiselect-container").find(".items-container"):a(".multiselect-container").find(".items-container");e.empty();0<g.length?a.each(g,function(g,
c){a("<div />",{"class":"item","data-id":g,text:c.name,click:function(a){f(a);if(b.onOptionSelect&&"function"===typeof b.onOptionSelect)b.onOptionSelect(c.name)}}).appendTo(e)}):a("<div />",{"class":"no-item",text:"No item found",click:function(a){f(a)}}).appendTo(e)}var b=a.extend({data:[],search:!1,searchPlaceholder:"Search items",placeholder:"Select option",className:null,disable:!1,onOptionSelect:function(){}},d);d=JSON.parse(JSON.stringify(b.data));var c;c=b.className?"multiselect-container "+
b.className:"multiselect-container";b.disable&&(c+=" disable");c=this.addClass(c);var h=a("<div />",{"class":"header",click:function(b){a(b.target).closest(".multiselect-container").toggleClass("show");a(b.target).closest(".multiselect-container").hasClass("show")?a(b.target).closest(".multiselect-container").find(".search-input").focus():a(b.target).closest(".multiselect-container").find(".search-input").blur()}}).appendTo(c);a("<div />",{"class":"selected-text",text:b.placeholder}).appendTo(h);
h=a("<div />",{"class":"dropdown"}).appendTo(c);if(b.search){var l=a("<div />",{"class":"search"}).appendTo(h);a("<input />",{"class":"search-input",name:"search",placeholder:b.searchPlaceholder,keyup:function(c){var d=a(this).val(),e=[];b.data.forEach(function(a){0<=a.name.toLowerCase().indexOf(d.toLowerCase())&&e.push(a)});k(e,c)}}).appendTo(l)}if(0<d.length){var m=a("<div />",{"class":"items-container"}).appendTo(h);a.each(d,function(c,d){a("<div />",{"class":"item","data-id":c,text:d.name,click:function(a){f(a);
if(b.onOptionSelect&&"function"===typeof b.onOptionSelect)b.onOptionSelect(d.name)}}).appendTo(m)})}a(document).on("click",function(b){0<!a(".multiselect-container").find(b.target).length&&a(".multiselect-container").hasClass("show")&&f()});return this.append(c)}})(jQuery);
