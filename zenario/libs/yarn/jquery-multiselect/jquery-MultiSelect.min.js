(function(a){a.fn.multiselect=function(h){function k(){a(".multiselect-container .search-input").val("");m(b.data);a(".multiselect-container").removeClass("show");a(event.target).closest(".multiselect-container").removeClass("show");a(event.target).closest(".multiselect-container").find(".search-input").blur()}function m(c,e){var d=e?a(e.target).closest(".multiselect-container").find(".items-container"):a(".multiselect-container").find(".items-container");d.empty();0<c.length?a.each(c,function(f,
n){a("<div />",{"class":"item","data-id":f,text:n.name,click:function(p){k(p);if(b.onOptionSelect&&"function"===typeof b.onOptionSelect)b.onOptionSelect(n.name)}}).appendTo(d)}):a("<div />",{"class":"no-item",text:"No item found",click:function(f){k(f)}}).appendTo(d)}var b=a.extend({data:[],search:!1,searchPlaceholder:"Search items",placeholder:"Select option",className:null,disable:!1,onOptionSelect:function(){}},h);h=JSON.parse(JSON.stringify(b.data));var g=b.className?"multiselect-container "+
b.className:"multiselect-container";b.disable&&(g+=" disable");g=this.addClass(g);var l=a("<div />",{"class":"header",click:function(c){a(c.target).closest(".multiselect-container").toggleClass("show");a(c.target).closest(".multiselect-container").hasClass("show")?a(c.target).closest(".multiselect-container").find(".search-input").focus():a(c.target).closest(".multiselect-container").find(".search-input").blur()}}).appendTo(g);a("<div />",{"class":"selected-text",text:b.placeholder}).appendTo(l);
l=a("<div />",{"class":"dropdown"}).appendTo(g);if(b.search){var q=a("<div />",{"class":"search"}).appendTo(l);a("<input />",{"class":"search-input",name:"search",placeholder:b.searchPlaceholder,keyup:function(c){var e=a(this).val(),d=[];b.data.forEach(function(f){0<=f.name.toLowerCase().indexOf(e.toLowerCase())&&d.push(f)});m(d,c)}}).appendTo(q)}if(0<h.length){var r=a("<div />",{"class":"items-container"}).appendTo(l);a.each(h,function(c,e){a("<div />",{"class":"item","data-id":c,text:e.name,click:function(d){k(d);
if(b.onOptionSelect&&"function"===typeof b.onOptionSelect)b.onOptionSelect(e.name)}}).appendTo(r)})}a(document).on("click",function(c){0< !a(".multiselect-container").find(c.target).length&&a(".multiselect-container").hasClass("show")&&k()});return this.append(g)}})(jQuery);
