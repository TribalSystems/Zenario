(function(b,l,m,g){function e(a,c){this.element=a;this.settings=b.extend({},h,c);this._defaults=h;this._name="doubleTapToGo";this.init()}var h={automatic:!0,selectorClass:"doubletap",selectorChain:"li:has(ul)"};b.extend(e.prototype,{preventClick:!1,currentTap:b(),init:function(){b(this.element).on("touchstart","."+this.settings.selectorClass,this._tap.bind(this)).on("click","."+this.settings.selectorClass,this._click.bind(this)).on("remove",this._destroy.bind(this));this._addSelectors()},_addSelectors:function(){!0===
this.settings.automatic&&b(this.element).find(this.settings.selectorChain).addClass(this.settings.selectorClass)},_click:function(a){this.preventClick?a.preventDefault():this.currentTap=b()},_tap:function(a){var c=b(a.target).closest("li");c.hasClass(this.settings.selectorClass)?c.get(0)===this.currentTap.get(0)?this.preventClick=!1:(this.preventClick=!0,this.currentTap=c,a.stopPropagation()):this.preventClick=!1},_destroy:function(){b(this.element).off()},reset:function(){this.currentTap=b()}});
b.fn.doubleTapToGo=function(a){var c=arguments,f;if(a===g||"object"===typeof a)return this.each(function(){b.data(this,"doubleTapToGo")||b.data(this,"doubleTapToGo",new e(this,a))});if("string"===typeof a&&"_"!==a[0]&&"init"!==a)return this.each(function(){var d=b.data(this,"doubleTapToGo"),k="destroy"===a?"_destroy":a;d instanceof e&&"function"===typeof d[k]&&(f=d[k].apply(d,Array.prototype.slice.call(c,1)));"destroy"===a&&b.data(this,"doubleTapToGo",null)}),f!==g?f:this}})(jQuery,window,document);
