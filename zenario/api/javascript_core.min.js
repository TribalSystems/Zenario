zenario.lib(function(g,l,m,k,s,t,b,q,r,u,v){k.methodsOf=b.methodsOf=function(a){return a.prototype};k.IN=b.IN=function(a){return _.contains(arguments,a,1)};k.get=b.get=function(a){if(k.zenario&&r.isOpen&&"zenario"!=a.substr(0,7)){var c=$("#zenario_fbAdminFloatingBox #"+b.cssEscape(a));if(c[0])return c[0]}return m.getElementById(a)};k.has=b.has=function(a,b){return a!==g&&a.hasOwnProperty&&a.hasOwnProperty(b)};k.encodeItemIdForOrganizer=b.encodeItemIdForOrganizer=k.encodeItemIdForStorekeeper=b.encodeItemIdForStorekeeper=
function(a){return 1*a==a?a:"~"+encodeURIComponent(""+a).replace(/~/g,"%7E").replace(/%/g,"~")};k.decodeItemIdForOrganizer=b.decodeItemIdForOrganizer=k.decodeItemIdForStorekeeper=b.decodeItemIdForStorekeeper=function(a){return"~"==(""+a).substr(0,1)?decodeURIComponent((""+a).substr(1).replace(/~/g,"%")):a};k.engToBoolean=b.engToBoolean=function(a){"function"==typeof a&&(a=a());return a&&(a=(a+"").trim().toLowerCase())&&"0"!=a&&"false"!=a&&"no"!=a&&"off"!=a?1:0};k.htmlspecialchars=b.htmlspecialchars=
function(a,b,d){"function"==typeof a&&(a=a());if(a===g||null===a||!1===a)return"";"object"==typeof a&&(a=a.label||a.default_label||a.name||a.field_name);a=(""+a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/>/g,"&gt;");d?"asis"!==d&&(a=a.replace(/ /g,"&nbsp;")):a=$.trim(a);b&&(a=a.replace(/\n/g,"<br/>"));return a};k.ifNull=b.ifNull=function(a,b,d){return a?a:b?b:d};k.jsEscape=b.jsEscape=function(a){return escape(a).replace(/\%u/g,"\\u").replace(/\%/g,"\\x")};k.cssEscape=
b.cssEscape=function(a){return k.CSS&&CSS.escape?CSS.escape(a):a.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&")};b.addBasePath=function(a){return a===g?g:-1==a.indexOf("://")&&"/"!=a.substr(0,1)?l+a:a};b.addAmp=function(a){var b=a.indexOf("?");-1!=b&&(a=a.substr(b+1));return""!=a&&"&"!=a.substr(0,1)?"&"+a:a};b.urlRequest=function(a){if(_.isString(a))return b.addAmp(a);var c="";if(a)for(var d in a)b.has(a,d)&&"object"!=typeof a[d]&&(c+="&"+encodeURIComponent(d)+"=",a[d]!==g&&!1!==a[d]&&null!==
a[d]&&(c+=encodeURIComponent(a[d])));return c};b.toObject=function(a,c){return _.isString(a)?JSON.parse('{"'+decodeURI(a.replace(/&/g,'","').replace(/=/g,'":"'))+'"}')||{}:a?c?b.clone(a):a:{}};b.clone=function(a,b,d){return $.extend(!0,{},a,b,d)};b.loadedLibraries={};b.loadLibrary=function(a,c){var d;(d=b.loadedLibraries[a])?d.loaded?c():d.cb.after(c):(d=b.loadedLibraries[a]={cb:new b.callback,loaded:!1},d.cb.after(c),$.ajax({url:a,cache:!0,dataType:"script",success:function(){d.loaded=!0;d.cb.call()}}))};
b.goToURL=function(a,b){m.location.href=a;b&&setTimeout(function(){m.location.href=a},500);return!1};b.phrases={};b.loadPhrases=function(a,c){var d=l+"zenario/ajax.php?method_call=loadPhrase&__class__="+encodeURIComponent(a)+"&langId="+encodeURIComponent(b.langId);c!==g&&(d+="&__code__=",d=_.isArray(c)?d+_.map(c,b.encodeItemIdForOrganizer).join(","):d+b.encodeItemIdForOrganizer(c));d=b.nonAsyncAJAX(d,!1,!0,!0);b.registerPhrases(a,d);return d};b.registerPhrases=function(a,c){b.phrases[a]?$.extend(b.phrases[a],
c):b.phrases[a]=c};b.phrase=function(a,c,d){b.phrases[a]!==g&&b.phrases[a][c]!==g||b.loadPhrases(a,c);if(null===b.phrases[a][c]||b.phrases[a][c]===g)b.phrases[a][c]=c;return b.applyMergeFields(b.phrases[a][c],d)};b.nphrase=function(a,c,d,f,e){return d!==g&&1!==1*f?b.phrase(a,d,e):b.phrase(a,c,e)};b.applyMergeFields=function(a,c){c=c||{};var d="",f,e=(""+a).split(/\[\[(.*?)\]\]/g);for(f in e)b.has(e,f)&&(f%2?c[e[f]]!==g&&(d+=c[e[f]]):d+=e[f]);return d};b.linkToItem=function(a,c,d,f){if(!c&&-1!==(""+
a).indexOf("_")){var e=a.split("_");e[2]===g&&e[1]==1*e[1]&&""===e[0].replace(/\w/g,"")&&(a=e[1],c=e[0])}c||(c="html");d||(d="");var h,e=l,e=f?e+"zenario/admin/welcome.php":e+b.indexDotPHP;return f||b.adminId||a!==b.cID||!(h=$('link[rel="canonical"]').attr("href"))||h.match(/\bcID=/)?a!=1*a?e+"?cID="+a+b.urlRequest(d):e+"?cID="+a+"&cType="+c+b.urlRequest(d):(a=h.indexOf("?"),-1!=a&&(h=h.substr(0,a)),d?h+"?"+b.urlRequest(d).substr(1):h)};b.getSlotnameFromEl=function(a,c){if(_.isString(a))return c||
(a=a.replace(/plgslt_/,"").split("-")[0]),a;if(_.isObject(a)){do{if(a.id&&"colorbox"==a.id)return b.colorboxOpen;if(a.id&&"plgslt_"==a.id.substr(0,7)){var d=a.id.indexOf("-"),f;if(-1==d)f=a.id.substr(7);else if(f=a.id.substr(7,d-7),d=a.id.substr(d+1),d!=1*d)continue;if(b.slots[f])return c?a.id:f}}while(a=a.parentNode)}return!1};b.getContainerIdFromEl=function(a){return b.getSlotnameFromEl(a,!0)};b.getEggIdFromEl=function(a){return(a=b.getContainerIdFromEl(a))&&"string"==typeof a&&1*a.split("-")[1]};
b.getContainerIdFromSlotName=function(a){return"plgslt_"+a};b.scrollToSlotTop=function(a,c,d,f,e){"string"==typeof a&&(a=b.ifNull(b.get("plgslt_"+a),b.get(a)));if(a){var h=b.scrollTop(g,g,f);a=$(a).offset().top;e===g&&(e=-80);a=Math.max(0,a+e);c&&h<a||(d===g&&(d=700),b.scrollTop(a,d,f))}};b.refreshPluginSlot=function(a,c,d,f,e,h,k,p){e===g&&(e=!0);h===g&&(h=!0);if(a=b.getSlotnameFromEl(a))q.init&&(q.closeSlotControls(),q.cancelMovePlugin()),a=a.split("-")[0],b.slots[a]&&(d=d?b.urlRequest(d):"",d=
b.addTabIdToURL(d,a),"lookup"==c&&(c=b.slots[a].instanceId),e&&!r.isOpen&&(b.scrollToSlotTop(a,!0),e=!1),h&&$(1===h||!0===h?"#plgslt_"+a:h).stop(!0,!0).animate({opacity:0.5},150),h=b.pluginAJAXURL(a,d,c),b.ajax(h,p,!1,!0).after(function(h){b.replacePluginSlotContents(a,c,h,d,f,e)}))};b.sendSignal=function(a,c){var d,f,e,h=[],n=b.signalHandlers,p=b.signalsInProgress;if(!p[a]){p[a]=!0;if(!n[a])for(d in n[a]=[],b.modules)b.has(b.modules,d)&&(f=b.modules[d],(e=k[f.moduleClassName])&&_.isFunction(e[a])&&
n[a].push(e[a]));for(d in n[a])b.has(n[a],d)&&(f=n[a][d],f=f(c),f!==g&&h.push(f));delete p[a];return h}};b.getMouseX=function(a){return a.pageX!=g?a.pageX:a.clientX+m.body.scrollLeft+m.documentElement.scrollLeft};b.getMouseY=function(a){return a.pageY!=g?a.pageY:a.clientY+m.body.scrollTop+m.documentElement.scrollTop};b.scrollTop=function(a,c,d){d===g&&(d=b.browserIsSafari()?"body":"html");if(a===g)return $(d).scrollTop();if(c)$(d).animate({scrollTop:a},c);else return $(d).scrollTop(a)};b.scrollLeft=
function(a){var c=$(b.browserIsSafari()?"body":"html");return a===g?c.scrollLeft():c.scrollLeft(a)};b.versionOfIE=function(a){return/opera|OPERA/.test(navigator.userAgent)?!1:(a=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent))&&a[1]&&1*a[1]};b.browserIsIE=function(a){var c=b.versionOfIE();return c&&(a?c<=a:!0)};b.browserIsChrome=function(){return/Chrome/.test(navigator.userAgent)};b.browserIsFirefox=function(){return/Firefox/.test(navigator.userAgent)};b.browserIsRetina=function(){return 1<
k.devicePixelRatio};b.browserIsSafari=function(){return/Safari/.test(navigator.userAgent)};b.browserIsWebKit=function(){return/WebKit/.test(navigator.userAgent)};b.browserIsOpera=function(){return/Opera/.test(navigator.userAgent)};b.browserIsiPad=function(){return/iPad/.test(navigator.userAgent)};b.browserIsiPhone=function(){return/iPhone/.test(navigator.userAgent)};b.browserIsMobile=function(){return b.browserIsiPad()||b.browserIsiPhone()};b.ishttps=function(){return k.location&&"https:"===k.location.protocol};
b.httpOrhttps=function(){return b.ishttps()?"https://":"http://"};b.actAfterDelayIfNotSuperseded=function(a,c,d){d||(d=900);b.adinsActions[a]||(b.adinsActions[a]=0);var f=++b.adinsActions[a];c!==g&&setTimeout(function(){f==b.adinsActions[a]&&c()},d)};b.clearAllDelays=function(a){a?delete b.adinsActions[a]:b.adinsActions={}};b.disableBackgroundScrolling=function(a){$(a).on("DOMMouseScroll mousewheel",function(a){var b=$(this),f=this.scrollTop,e=this.scrollHeight,h=b.height(),g="DOMMouseScroll"==a.type?
-40*a.originalEvent.detail:a.originalEvent.wheelDelta,k=0<g,l=function(){a.stopPropagation();a.preventDefault();return a.returnValue=!1};if(!k&&-g>e-h-f)return b.scrollTop(e),l();if(k&&g>f)return b.scrollTop(0),l()})};b.AJAXLink=function(a,c){return l+"zenario/ajax.php?moduleClassName="+encodeURIComponent(a)+"&method_call=handleAJAX"+b.urlRequest(c)};b.pluginAJAXLink=function(a,c,d){var f=b.getSlotnameFromEl(c);c=b.getEggIdFromEl(c);var e=b.slots[f],g=e&&e.instanceId;a=a||e&&e.moduleClassName;return l+
"zenario/ajax.php?moduleClassName="+encodeURIComponent(a)+"&method_call=handlePluginAJAX&cID="+b.cID+"&cType="+b.cType+(b.adminId?"&cVersion="+b.cVersion:"")+"&instanceId="+g+"&slotName="+f+(c?"&eggId="+c:"")+b.urlRequest(d)};b.showFileLink=function(a,c){return l+"zenario/ajax.php?moduleClassName="+encodeURIComponent(a)+"&method_call=showFile"+b.urlRequest(c)};b.showFloatingBoxLink=function(a,c,d){c=b.getSlotnameFromEl(c);var f=b.slots[c]&&b.slots[c].instanceId;return l+"zenario/ajax.php?moduleClassName="+
encodeURIComponent(a)+"&method_call=showFloatingBox&cID="+b.cID+"&cType="+b.cType+(b.adminId?"&cVersion="+b.cVersion:"")+"&instanceId="+f+"&slotName="+c+b.urlRequest(d)};b.showSingleSlotLink=function(a,c,d,f,e,h){c=b.getSlotnameFromEl(c);var k=b.slots[c]&&b.slots[c].instanceId;f===g&&(f=!0);return b.linkToItem(e||b.cID,h||b.cType,"moduleClassName="+encodeURIComponent(a)+"&method_call=showSingleSlot"+(f?"&hideLayout=1":"")+(b.adminId?"&cVersion="+b.cVersion:"")+"&instanceId="+k+"&slotName="+c+b.urlRequest(d))};
b.showImageLink=function(a,c){return l+"zenario/ajax.php?moduleClassName="+encodeURIComponent(a)+"&method_call=showImage"+b.urlRequest(c)};b.showStandalonePageLink=function(a,c){return l+"zenario/ajax.php?moduleClassName="+encodeURIComponent(a)+"&method_call=showStandalonePage"+b.urlRequest(c)};b.visitorTUIXLink=function(a,c,d,f,e){return l+"zenario/ajax.php?moduleClassName="+encodeURIComponent(a)+"&path="+encodeURIComponent(c)+"&_cn="+encodeURIComponent(d||"")+"&method_call="+("format"==e||"validate"==
e||"save"==e?e:"fill")+"VisitorTUIX"+b.urlRequest(f)};b.pluginVisitorTUIXLink=function(a,c,d,f,e,h,k){var l=b.getSlotnameFromEl(c);c=b.getEggIdFromEl(c);var m=b.slots[l]&&b.slots[l].instanceId;return b.visitorTUIXLink(a,d,f,g,h)+"&cID="+b.cID+"&cType="+b.cType+(b.adminId?"&cVersion="+b.cVersion:"")+"&instanceId="+m+"&slotName="+l+(c?"&eggId="+c:"")+"&_useSync="+b.engToBoolean(k)+b.urlRequest(e)}});
