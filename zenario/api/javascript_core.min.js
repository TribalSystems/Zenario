zenario.lib(function(g,l,m,h,q,r,b,n,p,s,t){h.extensionOf=b.extensionOf=function(a,b){if(!a)return b||function(){};b||(b=function(){a.apply(this,arguments)});b.prototype=new a;b.prototype.constructor=a;return b};h.methodsOf=b.methodsOf=function(a){return a.prototype};h.get=b.get=function(a){if(h.zenario&&p.isOpen&&"zenario"!=a.substr(0,7)&&!a.match(/[^\w-]/)){var b=$("#zenario_fbAdminFloatingBox #"+a);if(b[0])return b[0]}return m.getElementById(a)};h.has=b.has=function(a,b){return a!==g&&a.hasOwnProperty&&
a.hasOwnProperty(b)};h.encodeItemIdForOrganizer=b.encodeItemIdForOrganizer=h.encodeItemIdForStorekeeper=b.encodeItemIdForStorekeeper=function(a){return 1*a==a?a:"~"+encodeURIComponent(""+a).replace(/~/g,"%7E").replace(/%/g,"~")};h.decodeItemIdForOrganizer=b.decodeItemIdForOrganizer=h.decodeItemIdForStorekeeper=b.decodeItemIdForStorekeeper=function(a){return"~"==(""+a).substr(0,1)?decodeURIComponent((""+a).substr(1).replace(/~/g,"%")):a};h.engToBoolean=b.engToBoolean=function(a){return a&&(a=(a+"").toLowerCase())&&
"0"!=a&&"false"!=a&&"no"!=a&&"off"!=a?1:0};h.htmlspecialchars=b.htmlspecialchars=function(a,b,c){if(a===g||null===a||!1===a)return"";"object"==typeof a&&(a=a.label||a.default_label||a.name||a.field_name);a=(""+a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/>/g,"&gt;");c?"asis"!==c&&(a=a.replace(/ /g,"&nbsp;")):a=$.trim(a);b&&(a=a.replace(/\n/g,"<br/>"));return a};h.ifNull=b.ifNull=function(a,b,c){return a?a:b?b:c};h.jsEscape=b.jsEscape=function(a){return escape(a).replace(/\%u/g,
"\\u").replace(/\%/g,"\\x")};b.addBasePath=function(a){return a===g?g:-1==a.indexOf("://")&&"/"!=a.substr(0,1)?l+a:a};b.addAmp=function(a){var b=a.indexOf("?");-1!=b&&(a=a.substr(b+1));return""!=a&&"&"!=a.substr(0,1)?"&"+a:a};b.urlRequest=function(a){if("string"==typeof a)return b.addAmp(a);var d="";if(a)for(var c in a)b.has(a,c)&&"object"!=typeof a[c]&&(d+="&"+encodeURIComponent(c)+"=",a[c]!==g&&!1!==a[c]&&null!==a[c]&&(d+=encodeURIComponent(a[c])));return d};b.loadedLibraries={};b.loadLibrary=function(a,
d){var c;(c=b.loadedLibraries[a])?c.loaded?d():c.cb.after(d):(c=b.loadedLibraries[a]={cb:new b.callback,loaded:!1},c.cb.after(d),$.ajax({url:a,cache:!0,dataType:"script",success:function(){c.loaded=!0;c.cb.call()}}))};b.goToURL=function(a,b){m.location.href=a;b&&setTimeout(function(){m.location.href=a},500);return!1};b.phrases={};b.loadPhrases=function(a,d){var c=l+"zenario/ajax.php?method_call=loadPhrase&__class__="+encodeURIComponent(a)+"&langId="+encodeURIComponent(b.langId);d!==g&&(c+="&__code__=",
c=_.isArray(d)?c+_.map(d,b.encodeItemIdForOrganizer).join(","):c+b.encodeItemIdForOrganizer(d));c=b.nonAsyncAJAX(c,!1,!0,!0);b.phrases[a]?$.extend(b.phrases[a],c):b.phrases[a]=c;return c};b.phrase=function(a,d,c){b.phrases[a]!==g&&b.phrases[a][d]!==g||b.loadPhrases(a,d);if(null===b.phrases[a][d]||b.phrases[a][d]===g)b.phrases[a][d]=d;c||(c={});var f="",e;a=(""+b.phrases[a][d]).split(/\[\[(.*?)\]\]/g);for(e in a)b.has(a,e)&&(e%2?c[a[e]]!==g&&(f+=c[a[e]]):f+=a[e]);return f};b.nphrase=function(a,d,c,
f,e){return c!==g&&1!==1*f?b.phrase(a,c,e):b.phrase(a,d,e)};b.linkToItem=function(a,d,c,f){if(!d&&-1!==(""+a).indexOf("_")){var e=a.split("_");e[2]===g&&e[1]==1*e[1]&&""===e[0].replace(/\w/g,"")&&(a=e[1],d=e[0])}d||(d="html");c||(c="");var k,e=l,e=f?e+"zenario/admin/welcome.php":e+b.indexDotPHP;return f||b.adminId||a!==b.cID||!(k=$('link[rel="canonical"]').attr("href"))||k.match(/\bcID=/)?a!=1*a?e+"?cID="+a+b.urlRequest(c):e+"?cID="+a+"&cType="+d+b.urlRequest(c):(a=k.indexOf("?"),-1!=a&&(k=k.substr(0,
a)),c?k+"?"+b.urlRequest(c).substr(1):k)};b.getSlotnameFromEl=function(a,d){if("string"==typeof a)return a;if("object"==typeof a){do{if(a.id&&"colorbox"==a.id)return b.colorboxOpen;if(a.id&&"plgslt_"==a.id.substr(0,7)){var c=a.id.indexOf("-"),f;if(-1==c)f=a.id.substr(7);else if(f=a.id.substr(7,c-7),c=a.id.substr(c+1),c!=1*c)continue;if(b.slots[f])return d?a.id:f}}while(a=a.parentNode)}return!1};b.getContainerIdFromEl=function(a){return b.getSlotnameFromEl(a,!0)};b.getContainerIdFromSlotName=function(a){return"plgslt_"+
a};b.scrollToSlotTop=function(a,d,c,f,e){"string"==typeof a&&(a=b.ifNull(b.get("plgslt_"+a),b.get(a)));if(a){var k=b.scrollTop(g,g,f);a=$(a).offset().top;e===g&&(e=-80);a=Math.max(0,a+e);d&&k<a||(c===g&&(c=700),b.scrollTop(a,c,f))}};b.refreshPluginSlot=function(a,d,c,f,e,k,h,l){e===g&&(e=!0);k===g&&(k=!0);a&&(n.init&&(n.closeSlotControls(),n.cancelMovePlugin()),a=a.split("-")[0],b.slots[a]&&(c=c?b.urlRequest(c):"",b.slots[a]&&b.slots[a].tabId&&-1==c.indexOf("&tab=")&&-1==c.indexOf("&tab_no=")&&(c+=
"&tab="+b.slots[a].tabId),"lookup"==d&&(d=b.slots[a].instanceId),e&&!p.isOpen&&(b.scrollToSlotTop(a,!0),e=!1),k&&$(1===k||!0===k?"#plgslt_"+a:k).stop(!0,!0).animate({opacity:0.5},150),k=b.pluginAJAXURL(a,c,d),b.ajax(k,l,!1,!0).after(function(g){b.replacePluginSlotContents(a,d,g,c,f,e)})))};b.sendSignal=function(a,d){if(!b.signalsInProgress[a]){b.signalsInProgress[a]=!0;var c,f,e,k=[];for(c in b.modules)b.has(b.modules,c)&&(f=h[b.modules[c].moduleClassName])&&"function"==typeof f[a]&&(e=f[a](d),e!==
g&&k.push(e));delete b.signalsInProgress[a];return k}};b.getMouseX=function(a){return a.pageX!=g?a.pageX:a.clientX+m.body.scrollLeft+m.documentElement.scrollLeft};b.getMouseY=function(a){return a.pageY!=g?a.pageY:a.clientY+m.body.scrollTop+m.documentElement.scrollTop};b.scrollTop=function(a,d,c){c===g&&(c=b.browserIsSafari()?"body":"html");if(a===g)return $(c).scrollTop();if(d)$(c).animate({scrollTop:a},d);else return $(c).scrollTop(a)};b.scrollLeft=function(a){var d=$(b.browserIsSafari()?"body":
"html");return a===g?d.scrollLeft():d.scrollLeft(a)};b.versionOfIE=function(a){return/opera|OPERA/.test(navigator.userAgent)?!1:(a=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent))&&a[1]&&1*a[1]};b.browserIsIE=function(a){var d=b.versionOfIE();return d&&(a?d<=a:!0)};b.browserIsChrome=function(){return/Chrome/.test(navigator.userAgent)};b.browserIsFirefox=function(){return/Firefox/.test(navigator.userAgent)};b.browserIsRetina=function(){return 1<h.devicePixelRatio};b.browserIsSafari=function(){return/Safari/.test(navigator.userAgent)};
b.browserIsWebKit=function(){return/WebKit/.test(navigator.userAgent)};b.browserIsOpera=function(){return/Opera/.test(navigator.userAgent)};b.browserIsiPad=function(){return/iPad/.test(navigator.userAgent)};b.browserIsiPhone=function(){return/iPhone/.test(navigator.userAgent)};b.browserIsMobile=function(){return b.browserIsiPad()||b.browserIsiPhone()};b.ishttps=function(){return h.location&&"https:"===h.location.protocol};b.httpOrhttps=function(){return b.ishttps()?"https://":"http://"};b.actAfterDelayIfNotSuperseded=
function(a,d,c){c||(c=900);b.adinsActions[a]||(b.adinsActions[a]=0);var f=++b.adinsActions[a];d!==g&&setTimeout(function(){f==b.adinsActions[a]&&d()},c)};b.clearAllDelays=function(a){a?delete b.adinsActions[a]:b.adinsActions={}};b.disableBackgroundScrolling=function(a){$(a).on("DOMMouseScroll mousewheel",function(a){var b=$(this),f=this.scrollTop,e=this.scrollHeight,g=b.height(),h="DOMMouseScroll"==a.type?-40*a.originalEvent.detail:a.originalEvent.wheelDelta,l=0<h,m=function(){a.stopPropagation();
a.preventDefault();return a.returnValue=!1};if(!l&&-h>e-g-f)return b.scrollTop(e),m();if(l&&h>f)return b.scrollTop(0),m()})};b.AJAXLink=function(a,d){return l+"zenario/ajax.php?moduleClassName="+encodeURIComponent(a)+"&method_call=handleAJAX"+b.urlRequest(d)};b.pluginAJAXLink=function(a,d,c){d=b.getSlotnameFromEl(d);var f=b.slots[d]&&b.slots[d].instanceId;return l+"zenario/ajax.php?moduleClassName="+encodeURIComponent(a)+"&method_call=handlePluginAJAX&cID="+b.cID+"&cType="+b.cType+(b.adminId?"&cVersion="+
b.cVersion:"")+"&instanceId="+f+"&slotName="+d+b.urlRequest(c)};b.showFileLink=function(a,d){return l+"zenario/ajax.php?moduleClassName="+encodeURIComponent(a)+"&method_call=showFile"+b.urlRequest(d)};b.showFloatingBoxLink=function(a,d,c){d=b.getSlotnameFromEl(d);var f=b.slots[d]&&b.slots[d].instanceId;return l+"zenario/ajax.php?moduleClassName="+encodeURIComponent(a)+"&method_call=showFloatingBox&cID="+b.cID+"&cType="+b.cType+(b.adminId?"&cVersion="+b.cVersion:"")+"&instanceId="+f+"&slotName="+d+
b.urlRequest(c)};b.showSingleSlotLink=function(a,d,c,f){d=b.getSlotnameFromEl(d);var e=b.slots[d]&&b.slots[d].instanceId;f===g&&(f=!0);return b.linkToItem(b.cID,b.cType,"moduleClassName="+encodeURIComponent(a)+"&method_call=showSingleSlot"+(f?"&hideLayout=1":"")+(b.adminId?"&cVersion="+b.cVersion:"")+"&instanceId="+e+"&slotName="+d+b.urlRequest(c))};b.showImageLink=function(a,d){return l+"zenario/ajax.php?moduleClassName="+encodeURIComponent(a)+"&method_call=showImage"+b.urlRequest(d)};b.showStandalonePageLink=
function(a,d){return l+"zenario/ajax.php?moduleClassName="+encodeURIComponent(a)+"&method_call=showStandalonePage"+b.urlRequest(d)}});
